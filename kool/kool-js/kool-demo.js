!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["kool-demo"]=e():t["kool-demo"]=e()}(this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)o(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),o);else for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){var e,n,i,o,r,s;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(s=new Uint8Array(i),o=0,e=0,n=t.length;e<n;e++)r=t[e],s.set(r,o),o+=r.length;return s}},s={arraySet:function(t,e,n,i,o){for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(i)},function(t,e,n){(function(n){var i,o,r;o=[e],void 0===(r="function"==typeof(i=function(t){var e,i,o,r,s,a,l,p,u=t;function c(t){if(!("kotlinHashCodeValue$"in t)){var e=4294967296*Math.random()|0;Object.defineProperty(t,"kotlinHashCodeValue$",{value:e,enumerable:!1})}return t.kotlinHashCodeValue$}function _(){throw new Error("This marker function should never been called. Looks like compiler did not eliminate it properly. Please, report an issue if you caught this exception.")}function h(t,e){return(4294901760&t)*(65535&e)+(65535&t)*(0|e)|0}t.isBooleanArray=function(t){return(Array.isArray(t)||t instanceof Int8Array)&&"BooleanArray"===t.$type$},t.isByteArray=function(t){return t instanceof Int8Array&&"BooleanArray"!==t.$type$},t.isShortArray=function(t){return t instanceof Int16Array},t.isCharArray=function(t){return t instanceof Uint16Array&&"CharArray"===t.$type$},t.isIntArray=function(t){return t instanceof Int32Array},t.isFloatArray=function(t){return t instanceof Float32Array},t.isDoubleArray=function(t){return t instanceof Float64Array},t.isLongArray=function(t){return Array.isArray(t)&&"LongArray"===t.$type$},t.isArray=function(t){return Array.isArray(t)&&!t.$type$},t.isArrayish=function(t){return Array.isArray(t)||ArrayBuffer.isView(t)},t.arrayToString=function(e){if(null===e)return"null";var n=t.isCharArray(e)?String.fromCharCode:t.toString;return"["+Array.prototype.map.call(e,(function(t){return n(t)})).join(", ")+"]"},t.arrayEquals=function(e,n){if(e===n)return!0;if(null===e||null===n||!t.isArrayish(n)||e.length!==n.length)return!1;for(var i=0,o=e.length;i<o;i++)if(!t.equals(e[i],n[i]))return!1;return!0},t.arrayHashCode=function(e){if(null===e)return 0;for(var n=1,i=0,o=e.length;i<o;i++)n=(31*n|0)+t.hashCode(e[i])|0;return n},t.getCallableRef=function(t,e){return e.callableName=t,e},t.toShort=function(t){return(65535&t)<<16>>16},t.toByte=function(t){return(255&t)<<24>>24},t.toChar=function(t){return 65535&t},t.numberToInt=function(e){return e instanceof t.Long?e.toInt():t.doubleToInt(e)},t.doubleToInt=function(t){return t>2147483647?2147483647:t<-2147483648?-2147483648:0|t},t.toBoxedChar=function(e){return null==e||e instanceof t.BoxedChar?e:new t.BoxedChar(e)},t.unboxChar=function(e){return null==e?e:t.toChar(e)},t.equals=function(t,e){return null==t?null==e:null!=e&&(t!=t?e!=e:"object"==typeof t&&"function"==typeof t.equals?t.equals(e):"number"==typeof t&&"number"==typeof e?t===e&&(0!==t||1/t==1/e):t===e)},t.hashCode=function(e){if(null==e)return 0;var n=typeof e;return"object"===n?"function"==typeof e.hashCode?e.hashCode():c(e):"function"===n?c(e):"number"===n?t.numberHashCode(e):"boolean"===n?Number(e):function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);e=31*e+i|0}return e}(String(e))},t.toString=function(e){return null==e?"null":t.isArrayish(e)?"[...]":e.toString()},t.identityHashCode=c,t.Long=function(t,e){this.low_=0|t,this.high_=0|e},t.Long.$metadata$={kind:"class",simpleName:"Long",interfaces:[]},t.Long.IntCache_={},t.Long.fromInt=function(e){if(-128<=e&&e<128){var n=t.Long.IntCache_[e];if(n)return n}var i=new t.Long(0|e,e<0?-1:0);return-128<=e&&e<128&&(t.Long.IntCache_[e]=i),i},t.Long.fromNumber=function(e){return isNaN(e)?t.Long.ZERO:e<=-t.Long.TWO_PWR_63_DBL_?t.Long.MIN_VALUE:e+1>=t.Long.TWO_PWR_63_DBL_?t.Long.MAX_VALUE:e<0?t.Long.fromNumber(-e).negate():new t.Long(e%t.Long.TWO_PWR_32_DBL_|0,e/t.Long.TWO_PWR_32_DBL_|0)},t.Long.fromBits=function(e,n){return new t.Long(e,n)},t.Long.fromString=function(e,n){if(0==e.length)throw Error("number format error: empty string");var i=n||10;if(i<2||36<i)throw Error("radix out of range: "+i);if("-"==e.charAt(0))return t.Long.fromString(e.substring(1),i).negate();if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+e);for(var o=t.Long.fromNumber(Math.pow(i,8)),r=t.Long.ZERO,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+a),i);if(a<8){var p=t.Long.fromNumber(Math.pow(i,a));r=r.multiply(p).add(t.Long.fromNumber(l))}else r=(r=r.multiply(o)).add(t.Long.fromNumber(l))}return r},t.Long.TWO_PWR_16_DBL_=65536,t.Long.TWO_PWR_24_DBL_=1<<24,t.Long.TWO_PWR_32_DBL_=t.Long.TWO_PWR_16_DBL_*t.Long.TWO_PWR_16_DBL_,t.Long.TWO_PWR_31_DBL_=t.Long.TWO_PWR_32_DBL_/2,t.Long.TWO_PWR_48_DBL_=t.Long.TWO_PWR_32_DBL_*t.Long.TWO_PWR_16_DBL_,t.Long.TWO_PWR_64_DBL_=t.Long.TWO_PWR_32_DBL_*t.Long.TWO_PWR_32_DBL_,t.Long.TWO_PWR_63_DBL_=t.Long.TWO_PWR_64_DBL_/2,t.Long.ZERO=t.Long.fromInt(0),t.Long.ONE=t.Long.fromInt(1),t.Long.NEG_ONE=t.Long.fromInt(-1),t.Long.MAX_VALUE=t.Long.fromBits(-1,2147483647),t.Long.MIN_VALUE=t.Long.fromBits(0,-2147483648),t.Long.TWO_PWR_24_=t.Long.fromInt(1<<24),t.Long.prototype.toInt=function(){return this.low_},t.Long.prototype.toNumber=function(){return this.high_*t.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.Long.prototype.hashCode=function(){return this.high_^this.low_},t.Long.prototype.toString=function(e){var n=e||10;if(n<2||36<n)throw Error("radix out of range: "+n);if(this.isZero())return"0";if(this.isNegative()){if(this.equalsLong(t.Long.MIN_VALUE)){var i=t.Long.fromNumber(n),o=this.div(i),r=o.multiply(i).subtract(this);return o.toString(n)+r.toInt().toString(n)}return"-"+this.negate().toString(n)}for(var s=t.Long.fromNumber(Math.pow(n,6)),a=(r=this,"");;){var l=r.div(s),p=r.subtract(l.multiply(s)).toInt().toString(n);if((r=l).isZero())return p+a;for(;p.length<6;)p="0"+p;a=""+p+a}},t.Long.prototype.getHighBits=function(){return this.high_},t.Long.prototype.getLowBits=function(){return this.low_},t.Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:t.Long.TWO_PWR_32_DBL_+this.low_},t.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equalsLong(t.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!=this.high_?this.high_:this.low_,n=31;n>0&&0==(e&1<<n);n--);return 0!=this.high_?n+33:n+1},t.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},t.Long.prototype.isNegative=function(){return this.high_<0},t.Long.prototype.isOdd=function(){return 1==(1&this.low_)},t.Long.prototype.equalsLong=function(t){return this.high_==t.high_&&this.low_==t.low_},t.Long.prototype.notEqualsLong=function(t){return this.high_!=t.high_||this.low_!=t.low_},t.Long.prototype.lessThan=function(t){return this.compare(t)<0},t.Long.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},t.Long.prototype.greaterThan=function(t){return this.compare(t)>0},t.Long.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},t.Long.prototype.compare=function(t){if(this.equalsLong(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.subtract(t).isNegative()?-1:1},t.Long.prototype.negate=function(){return this.equalsLong(t.Long.MIN_VALUE)?t.Long.MIN_VALUE:this.not().add(t.Long.ONE)},t.Long.prototype.add=function(e){var n=this.high_>>>16,i=65535&this.high_,o=this.low_>>>16,r=65535&this.low_,s=e.high_>>>16,a=65535&e.high_,l=e.low_>>>16,p=0,u=0,c=0,_=0;return c+=(_+=r+(65535&e.low_))>>>16,_&=65535,u+=(c+=o+l)>>>16,c&=65535,p+=(u+=i+a)>>>16,u&=65535,p+=n+s,p&=65535,t.Long.fromBits(c<<16|_,p<<16|u)},t.Long.prototype.subtract=function(t){return this.add(t.negate())},t.Long.prototype.multiply=function(e){if(this.isZero())return t.Long.ZERO;if(e.isZero())return t.Long.ZERO;if(this.equalsLong(t.Long.MIN_VALUE))return e.isOdd()?t.Long.MIN_VALUE:t.Long.ZERO;if(e.equalsLong(t.Long.MIN_VALUE))return this.isOdd()?t.Long.MIN_VALUE:t.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.Long.TWO_PWR_24_)&&e.lessThan(t.Long.TWO_PWR_24_))return t.Long.fromNumber(this.toNumber()*e.toNumber());var n=this.high_>>>16,i=65535&this.high_,o=this.low_>>>16,r=65535&this.low_,s=e.high_>>>16,a=65535&e.high_,l=e.low_>>>16,p=65535&e.low_,u=0,c=0,_=0,h=0;return _+=(h+=r*p)>>>16,h&=65535,c+=(_+=o*p)>>>16,_&=65535,c+=(_+=r*l)>>>16,_&=65535,u+=(c+=i*p)>>>16,c&=65535,u+=(c+=o*l)>>>16,c&=65535,u+=(c+=r*a)>>>16,c&=65535,u+=n*p+i*l+o*a+r*s,u&=65535,t.Long.fromBits(_<<16|h,u<<16|c)},t.Long.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return t.Long.ZERO;if(this.equalsLong(t.Long.MIN_VALUE)){if(e.equalsLong(t.Long.ONE)||e.equalsLong(t.Long.NEG_ONE))return t.Long.MIN_VALUE;if(e.equalsLong(t.Long.MIN_VALUE))return t.Long.ONE;if((o=this.shiftRight(1).div(e).shiftLeft(1)).equalsLong(t.Long.ZERO))return e.isNegative()?t.Long.ONE:t.Long.NEG_ONE;var n=this.subtract(e.multiply(o));return o.add(n.div(e))}if(e.equalsLong(t.Long.MIN_VALUE))return t.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var i=t.Long.ZERO;for(n=this;n.greaterThanOrEqual(e);){for(var o=Math.max(1,Math.floor(n.toNumber()/e.toNumber())),r=Math.ceil(Math.log(o)/Math.LN2),s=r<=48?1:Math.pow(2,r-48),a=t.Long.fromNumber(o),l=a.multiply(e);l.isNegative()||l.greaterThan(n);)o-=s,l=(a=t.Long.fromNumber(o)).multiply(e);a.isZero()&&(a=t.Long.ONE),i=i.add(a),n=n.subtract(l)}return i},t.Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},t.Long.prototype.not=function(){return t.Long.fromBits(~this.low_,~this.high_)},t.Long.prototype.and=function(e){return t.Long.fromBits(this.low_&e.low_,this.high_&e.high_)},t.Long.prototype.or=function(e){return t.Long.fromBits(this.low_|e.low_,this.high_|e.high_)},t.Long.prototype.xor=function(e){return t.Long.fromBits(this.low_^e.low_,this.high_^e.high_)},t.Long.prototype.shiftLeft=function(e){if(0==(e&=63))return this;var n=this.low_;if(e<32){var i=this.high_;return t.Long.fromBits(n<<e,i<<e|n>>>32-e)}return t.Long.fromBits(0,n<<e-32)},t.Long.prototype.shiftRight=function(e){if(0==(e&=63))return this;var n=this.high_;if(e<32){var i=this.low_;return t.Long.fromBits(i>>>e|n<<32-e,n>>e)}return t.Long.fromBits(n>>e-32,n>=0?0:-1)},t.Long.prototype.shiftRightUnsigned=function(e){if(0==(e&=63))return this;var n=this.high_;if(e<32){var i=this.low_;return t.Long.fromBits(i>>>e|n<<32-e,n>>>e)}return 32==e?t.Long.fromBits(n,0):t.Long.fromBits(n>>>e-32,0)},t.Long.prototype.equals=function(e){return e instanceof t.Long&&this.equalsLong(e)},t.Long.prototype.compareTo_11rb$=t.Long.prototype.compare,t.Long.prototype.inc=function(){return this.add(t.Long.ONE)},t.Long.prototype.dec=function(){return this.add(t.Long.NEG_ONE)},t.Long.prototype.valueOf=function(){return this.toNumber()},t.Long.prototype.unaryPlus=function(){return this},t.Long.prototype.unaryMinus=t.Long.prototype.negate,t.Long.prototype.inv=t.Long.prototype.not,t.Long.prototype.rangeTo=function(e){return new t.kotlin.ranges.LongRange(this,e)},t.defineInlineFunction=function(t,e){return e},t.wrapFunction=function(t){var e=function(){return(e=t()).apply(this,arguments)};return function(){return e.apply(this,arguments)}},t.suspendCall=function(t){return t},t.coroutineResult=function(t){_()},t.coroutineReceiver=function(t){_()},t.setCoroutineResult=function(t,e){_()},t.compareTo=function(e,n){var i=typeof e;return"number"===i?"number"==typeof n?t.doubleCompareTo(e,n):t.primitiveCompareTo(e,n):"string"===i||"boolean"===i?t.primitiveCompareTo(e,n):e.compareTo_11rb$(n)},t.primitiveCompareTo=function(t,e){return t<e?-1:t>e?1:0},t.doubleCompareTo=function(t,e){if(t<e)return-1;if(t>e)return 1;if(t===e){if(0!==t)return 0;var n=1/t;return n===1/e?0:n<0?-1:1}return t!=t?e!=e?0:1:-1},t.imul=Math.imul||h,t.imulEmulated=h,e=new ArrayBuffer(8),i=new Float64Array(e),o=new Float32Array(e),r=new Int32Array(e),s=0,a=1,i[0]=-1,0!==r[s]&&(s=1,a=0),t.doubleToRawBits=function(e){return i[0]=e,t.Long.fromBits(r[s],r[a])},t.doubleFromBits=function(t){return r[s]=t.low_,r[a]=t.high_,i[0]},t.floatFromBits=function(t){return r[0]=t,o[0]},t.numberHashCode=function(t){return(0|t)===t?0|t:(i[0]=t,(31*r[a]|0)+r[s]|0)},t.ensureNotNull=function(e){return null!=e?e:t.throwNPE()},void 0===String.prototype.startsWith&&Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){return e=e||0,this.lastIndexOf(t,e)===e}}),void 0===String.prototype.endsWith&&Object.defineProperty(String.prototype,"endsWith",{value:function(t,e){var n=this.toString();(void 0===e||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return-1!==i&&i===e}}),void 0===Math.sign&&(Math.sign=function(t){return 0==(t=+t)||isNaN(t)?Number(t):t>0?1:-1}),void 0===Math.trunc&&(Math.trunc=function(t){return isNaN(t)?NaN:t>0?Math.floor(t):Math.ceil(t)}),function(){var t=Math.sqrt(2220446049250313e-31),e=Math.sqrt(t),n=1/t,i=1/e;if(void 0===Math.sinh&&(Math.sinh=function(n){if(Math.abs(n)<e){var i=n;return Math.abs(n)>t&&(i+=n*n*n/6),i}var o=Math.exp(n),r=1/o;return isFinite(o)?isFinite(r)?(o-r)/2:-Math.exp(-n-Math.LN2):Math.exp(n-Math.LN2)}),void 0===Math.cosh&&(Math.cosh=function(t){var e=Math.exp(t),n=1/e;return isFinite(e)&&isFinite(n)?(e+n)/2:Math.exp(Math.abs(t)-Math.LN2)}),void 0===Math.tanh&&(Math.tanh=function(n){if(Math.abs(n)<e){var i=n;return Math.abs(n)>t&&(i-=n*n*n/3),i}var o=Math.exp(+n),r=Math.exp(-n);return o===1/0?1:r===1/0?-1:(o-r)/(o+r)}),void 0===Math.asinh){var o=function(r){if(r>=+e)return r>i?r>n?Math.log(r)+Math.LN2:Math.log(2*r+1/(2*r)):Math.log(r+Math.sqrt(r*r+1));if(r<=-e)return-o(-r);var s=r;return Math.abs(r)>=t&&(s-=r*r*r/6),s};Math.asinh=o}void 0===Math.acosh&&(Math.acosh=function(i){if(i<1)return NaN;if(i-1>=e)return i>n?Math.log(i)+Math.LN2:Math.log(i+Math.sqrt(i*i-1));var o=Math.sqrt(i-1),r=o;return o>=t&&(r-=o*o*o/12),Math.sqrt(2)*r}),void 0===Math.atanh&&(Math.atanh=function(n){if(Math.abs(n)<e){var i=n;return Math.abs(n)>t&&(i+=n*n*n/3),i}return Math.log((1+n)/(1-n))/2}),void 0===Math.log1p&&(Math.log1p=function(t){if(Math.abs(t)<e){var n=t*t,i=n*t;return-i*t/4+i/3-n/2+t}return Math.log(t+1)}),void 0===Math.expm1&&(Math.expm1=function(t){if(Math.abs(t)<e){var n=t*t,i=n*t;return i*t/24+i/6+n/2+t}return Math.exp(t)-1})}(),void 0===Math.hypot&&(Math.hypot=function(){for(var t=0,e=arguments.length,n=0;n<e;n++){if(arguments[n]===1/0||arguments[n]===-1/0)return 1/0;t+=arguments[n]*arguments[n]}return Math.sqrt(t)}),void 0===Math.log10&&(Math.log10=function(t){return Math.log(t)*Math.LOG10E}),void 0===Math.log2&&(Math.log2=function(t){return Math.log(t)*Math.LOG2E}),void 0===Math.clz32&&(Math.clz32=(l=Math.log,p=Math.LN2,function(t){var e=t>>>0;return 0===e?32:31-(l(e)/p|0)|0})),void 0===ArrayBuffer.isView&&(ArrayBuffer.isView=function(t){return null!=t&&null!=t.__proto__&&t.__proto__.__proto__===Int8Array.prototype.__proto__}),void 0===Array.prototype.fill&&Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),n=e.length>>>0,i=arguments[1],o=i>>0,r=o<0?Math.max(n+o,0):Math.min(o,n),s=arguments[2],a=void 0===s?n:s>>0,l=a<0?Math.max(n+a,0):Math.min(a,n);r<l;)e[r]=t,r++;return e}}),function(){function t(t,e){return t<0?Math.max(0,t+e):Math.min(t,e)}function e(e,n){return void 0===n&&(n=this.length),e=t(e||0,this.length),n=Math.max(e,t(n,this.length)),new this.constructor(this.subarray(e,n))}for(var n=[Int8Array,Int16Array,Uint16Array,Int32Array,Float32Array,Float64Array],i=0;i<n.length;++i)void 0===(s=n[i]).prototype.fill&&Object.defineProperty(s.prototype,"fill",{value:Array.prototype.fill}),void 0===s.prototype.slice&&Object.defineProperty(s.prototype,"slice",{value:e});try{(function(){}).apply(null,new Int32Array(0))}catch(t){var o=Function.prototype.apply;Object.defineProperty(Function.prototype,"apply",{value:function(t,e){return o.call(this,t,[].slice.call(e))}})}for(i=0;i<n.length;++i)void 0===(s=n[i]).prototype.map&&Object.defineProperty(s.prototype,"map",{value:function(t,e){return[].slice.call(this).map(t,e)}});var r=function(t,e){if(t<e)return-1;if(t>e)return 1;if(t===e){if(0!==t)return 0;var n=1/t;return n===1/e?0:n<0?-1:1}return t!=t?e!=e?0:1:-1};for(i=0;i<n.length;++i){var s;void 0===(s=n[i]).prototype.sort&&Object.defineProperty(s.prototype,"sort",{value:function(t){return Array.prototype.sort.call(this,t||r)}})}}(),t.Kind={CLASS:"class",INTERFACE:"interface",OBJECT:"object"},t.callGetter=function(e,n,i){var o=Object.getOwnPropertyDescriptor(n,i);return null!=o&&null!=o.get?o.get.call(e):null!=(o=Object.getOwnPropertyDescriptor(e,i))&&"value"in o?e[i]:t.callGetter(e,Object.getPrototypeOf(n),i)},t.isType=function(e,n){if(n===Object)switch(typeof e){case"string":case"number":case"boolean":case"function":return!0;default:return e instanceof Object}if(null==e||null==n||"object"!=typeof e&&"function"!=typeof e)return!1;if("function"==typeof n&&e instanceof n)return!0;var i=Object.getPrototypeOf(n),o=null!=i?i.constructor:null;if(null!=o&&"$metadata$"in o&&o.$metadata$.kind===t.Kind.OBJECT)return e===n;var r=n.$metadata$;return null==r?e instanceof n:r.kind===t.Kind.INTERFACE&&null!=e.constructor&&function t(e,n){if(e===n)return!0;var i=e.$metadata$;if(null!=i)for(var o=i.interfaces,r=0;r<o.length;r++)if(t(o[r],n))return!0;var s=null!=e.prototype?Object.getPrototypeOf(e.prototype):null,a=null!=s?s.constructor:null;return null!=a&&t(a,n)}(e.constructor,n)},t.isNumber=function(e){return"number"==typeof e||e instanceof t.Long},t.isChar=function(e){return e instanceof t.BoxedChar},t.isComparable=function(e){var n=typeof e;return"string"===n||"boolean"===n||t.isNumber(e)||t.isType(e,t.kotlin.Comparable)},t.isCharSequence=function(e){return"string"==typeof e||t.isType(e,t.kotlin.CharSequence)},function(){"use strict";var e=t.Kind.INTERFACE,n=t.Kind.OBJECT,i=t.Kind.CLASS,o=(t.defineInlineFunction,t.wrapFunction,t.equals),r=t.Long.ZERO;function s(){}function a(){c(),this.name$="",this.ordinal$=0}function l(){p=this}s.$metadata$={kind:e,simpleName:"Comparable",interfaces:[]},Object.defineProperty(a.prototype,"name",{configurable:!0,get:function(){return this.name$}}),Object.defineProperty(a.prototype,"ordinal",{configurable:!0,get:function(){return this.ordinal$}}),a.prototype.compareTo_11rb$=function(e){return t.primitiveCompareTo(this.ordinal,e.ordinal)},a.prototype.equals=function(t){return this===t},a.prototype.hashCode=function(){return t.identityHashCode(this)},a.prototype.toString=function(){return this.name},l.$metadata$={kind:n,simpleName:"Companion",interfaces:[]};var p=null;function c(){return null===p&&new l,p}function _(t,e){var n;n=t.length-1|0;for(var i=0;i<=n;i++)t[i]=e;return t}function h(){d=this,this.MIN_VALUE=5e-324,this.MAX_VALUE=17976931348623157e292,this.POSITIVE_INFINITY=1/0,this.NEGATIVE_INFINITY=-1/0,this.NaN=NaN,this.SIZE_BYTES=8,this.SIZE_BITS=64}a.$metadata$={kind:i,simpleName:"Enum",interfaces:[s]},h.$metadata$={kind:n,simpleName:"DoubleCompanionObject",interfaces:[]};var d=null;function f(){m=this,this.MIN_VALUE=14e-46,this.MAX_VALUE=34028235e31,this.POSITIVE_INFINITY=1/0,this.NEGATIVE_INFINITY=-1/0,this.NaN=NaN,this.SIZE_BYTES=4,this.SIZE_BITS=32}f.$metadata$={kind:n,simpleName:"FloatCompanionObject",interfaces:[]};var m=null;function y(){$=this,this.MIN_VALUE=-2147483648,this.MAX_VALUE=2147483647,this.SIZE_BYTES=4,this.SIZE_BITS=32}y.$metadata$={kind:n,simpleName:"IntCompanionObject",interfaces:[]};var $=null;function b(){g=this,this.MIN_VALUE=t.Long.MIN_VALUE,this.MAX_VALUE=t.Long.MAX_VALUE,this.SIZE_BYTES=8,this.SIZE_BITS=64}b.$metadata$={kind:n,simpleName:"LongCompanionObject",interfaces:[]};var g=null;function v(){x=this,this.MIN_VALUE=-32768,this.MAX_VALUE=32767,this.SIZE_BYTES=2,this.SIZE_BITS=16}v.$metadata$={kind:n,simpleName:"ShortCompanionObject",interfaces:[]};var x=null;function w(){z=this,this.MIN_VALUE=-128,this.MAX_VALUE=127,this.SIZE_BYTES=1,this.SIZE_BITS=8}w.$metadata$={kind:n,simpleName:"ByteCompanionObject",interfaces:[]};var z=null;function C(){S=this,this.MIN_VALUE=0,this.MAX_VALUE=65535,this.MIN_HIGH_SURROGATE=55296,this.MAX_HIGH_SURROGATE=56319,this.MIN_LOW_SURROGATE=56320,this.MAX_LOW_SURROGATE=57343,this.MIN_SURROGATE=this.MIN_HIGH_SURROGATE,this.MAX_SURROGATE=this.MAX_LOW_SURROGATE,this.SIZE_BYTES=2,this.SIZE_BITS=16}C.$metadata$={kind:n,simpleName:"CharCompanionObject",interfaces:[]};var S=null;function k(){L=this}k.$metadata$={kind:n,simpleName:"StringCompanionObject",interfaces:[]};var L=null;function j(){N=this}j.$metadata$={kind:n,simpleName:"BooleanCompanionObject",interfaces:[]};var N=null,P=u.kotlin||(u.kotlin={});P.Comparable=s,Object.defineProperty(a,"Companion",{get:c}),P.Enum=a,u.newArray=function(t,e){return _(Array(t),e)},u.booleanArray=function(t,e){var n,i=Array(t);if(i.$type$="BooleanArray",null==e||o(e,!0))n=_(i,!1);else if(o(e,!1))n=i;else{var r;r=i.length-1|0;for(var s=0;s<=r;s++)i[s]=e(s);n=i}return n},u.charArray=function(t,e){var n,i=new Uint16Array(t);if(i.$type$="CharArray",null==e||o(e,!0)||o(e,!1))n=i;else{var r;r=i.length-1|0;for(var s=0;s<=r;s++)i[s]=e(s);n=i}return n},u.longArray=function(t,e){var n,i=Array(t);if(i.$type$="LongArray",null==e||o(e,!0))n=_(i,r);else if(o(e,!1))n=i;else{var s;s=i.length-1|0;for(var a=0;a<=s;a++)i[a]=e(a);n=i}return n};var T=P.js||(P.js={}),O=T.internal||(T.internal={});Object.defineProperty(O,"DoubleCompanionObject",{get:function(){return null===d&&new h,d}}),Object.defineProperty(O,"FloatCompanionObject",{get:function(){return null===m&&new f,m}}),Object.defineProperty(O,"IntCompanionObject",{get:function(){return null===$&&new y,$}}),Object.defineProperty(O,"LongCompanionObject",{get:function(){return null===g&&new b,g}}),Object.defineProperty(O,"ShortCompanionObject",{get:function(){return null===x&&new v,x}}),Object.defineProperty(O,"ByteCompanionObject",{get:function(){return null===z&&new w,z}}),Object.defineProperty(O,"CharCompanionObject",{get:function(){return null===S&&new C,S}}),Object.defineProperty(O,"StringCompanionObject",{get:function(){return null===L&&new k,L}}),Object.defineProperty(O,"BooleanCompanionObject",{get:function(){return null===N&&new j,N}})}(),function(){"use strict";var e,i=t.defineInlineFunction,o=t.wrapFunction,r=t.equals,s=t.toBoxedChar,a=t.unboxChar,l=t.kotlin.js.internal.DoubleCompanionObject,p=t.Long.ZERO,c=Math,_=t.Kind.CLASS,h=t.toChar,d=t.Long.NEG_ONE,f=t.toByte,m=(t.Long.fromInt(-128),t.Long.fromInt(127),t.kotlin.js.internal.ByteCompanionObject),y=t.numberToInt,$=(t.Long.fromInt(-2147483648),t.Long.fromInt(2147483647),t.Long.MIN_VALUE),b=t.Long.MAX_VALUE,g=t.toShort,v=(t.Long.fromInt(-32768),t.Long.fromInt(32767),t.kotlin.js.internal.ShortCompanionObject),x=t.toString,w=(t.getCallableRef,t.arrayEquals,t.arrayHashCode,t.Long.fromInt(255),new t.Long(-1,0)),z=(t.Long.fromInt(65535),t.Kind.INTERFACE),C=t.Kind.OBJECT,S=t.Long.ONE,k=t.kotlin.Enum,L=t.kotlin.Comparable,j=t.ensureNotNull,N=Object,P=t.throwCCE,T=Error,O=t.arrayToString,E=t.hashCode,M=t.doubleToRawBits,R=t.kotlin.js.internal.FloatCompanionObject,I=t.kotlin.js.internal.CharCompanionObject,A=new t.Long(-1478467534,-1720727600),D=new t.Long(-888910638,1920087921),B=new t.Long(1993859828,793161749),F=new t.Long(1,-2147483648),q=new t.Long(1908874354,-59652324),U=t.Long.fromInt(2047);function V(t,e){return W(t,e)>=0}function W(t,e){if(null==e){for(var n=0;n!==t.length;++n)if(null==t[n])return n}else for(var i=0;i!==t.length;++i)if(r(e,t[i]))return i;return-1}function G(t,e){var n,i;if(null==e)for(n=yt(X(t)).iterator();n.hasNext();){var o=n.next();if(null==t[o])return o}else for(i=yt(X(t)).iterator();i.hasNext();){var s=i.next();if(r(e,t[s]))return s}return-1}function H(t){var e;switch(t.length){case 0:throw new jn("Array is empty.");case 1:e=t[0];break;default:throw bn("Array has more than one element.")}return e}function X(t){return new ve(0,K(t))}function K(t){return t.length-1|0}function Y(t){return t.length-1|0}function Z(t){return t.length-1|0}function J(t,e){var n;for(n=0;n!==t.length;++n){var i=t[n];e.add_11rb$(i)}return e}function Q(t){return hi(Yr(t))}function tt(t){var e;switch(t.length){case 0:e=As();break;case 1:e=Hn(t[0]);break;default:e=J(t,Xi(t.length))}return e}function et(t,e,n,i,o,r,s,a){var l;void 0===n&&(n=", "),void 0===i&&(i=""),void 0===o&&(o=""),void 0===r&&(r=-1),void 0===s&&(s="..."),void 0===a&&(a=null),e.append_gw00v9$(i);var p=0;for(l=0;l!==t.length;++l){var u=t[l];if((p=p+1|0)>1&&e.append_gw00v9$(n),!(r<0||p<=r))break;null!=a?e.append_gw00v9$(a(u)):e.append_gw00v9$(u.toString())}return r>=0&&p>r&&e.append_gw00v9$(s),e.append_gw00v9$(o),e}function nt(t){if(t.isEmpty())throw new jn("List is empty.");return t.get_za3lpa$(0)}function it(e,n){var i;if(t.isType(e,Mt))return e.indexOf_11rb$(n);var o=0;for(i=e.iterator();i.hasNext();){var s=i.next();if(Yn(o),r(n,s))return o;o=o+1|0}return-1}function ot(e){if(t.isType(e,Mt))return rt(e);var n=e.iterator();if(!n.hasNext())throw new jn("Collection is empty.");var i=n.next();if(n.hasNext())throw bn("Collection has more than one element.");return i}function rt(t){var e;switch(t.size){case 0:throw new jn("List is empty.");case 1:e=t.get_za3lpa$(0);break;default:throw bn("List has more than one element.")}return e}function st(t,e){var n;for(n=t.iterator();n.hasNext();){var i=n.next();null!=i&&e.add_11rb$(i)}return e}function at(t,e){for(var n=es(t);n>=1;n--){var i=e.nextInt_za3lpa$(n+1|0);t.set_wxm5ur$(i,t.set_wxm5ur$(n,t.get_za3lpa$(i)))}}function lt(t,e){var n;for(n=t.iterator();n.hasNext();){var i=n.next();e.add_11rb$(i)}return e}function pt(e){var n;if(t.isType(e,Ot)){switch(e.size){case 0:n=Jr();break;case 1:n=Gn(t.isType(e,Mt)?e.get_za3lpa$(0):e.iterator().next());break;default:n=ct(e)}return n}return ns(ut(e))}function ut(e){return t.isType(e,Ot)?ct(e):lt(e,ci())}function ct(t){return hi(t)}function _t(e){return t.isType(e,Ot)?Gi(e):lt(e,Wi())}function ht(e){var n=e.iterator();if(!n.hasNext())return null;for(var i=n.next();n.hasNext();){var o=n.next();t.compareTo(i,o)>0&&(i=o)}return i}function dt(t,e,n,i,o,r,s,a){var l;void 0===n&&(n=", "),void 0===i&&(i=""),void 0===o&&(o=""),void 0===r&&(r=-1),void 0===s&&(s="..."),void 0===a&&(a=null),e.append_gw00v9$(i);var p=0;for(l=t.iterator();l.hasNext();){var u=l.next();if((p=p+1|0)>1&&e.append_gw00v9$(n),!(r<0||p<=r))break;qa(e,u,a)}return r>=0&&p>r&&e.append_gw00v9$(s),e.append_gw00v9$(o),e}function ft(t,e,n,i,o,r,s){return void 0===e&&(e=", "),void 0===n&&(n=""),void 0===i&&(i=""),void 0===o&&(o=-1),void 0===r&&(r="..."),void 0===s&&(s=null),dt(t,pr(),e,n,i,o,r,s).toString()}function mt(t,e){return ce().fromClosedRange_qt1dr2$(t,e,-1)}function yt(t){return ce().fromClosedRange_qt1dr2$(t.last,t.first,0|-t.step)}function $t(t,e){return e<=-2147483648?ze().EMPTY:new ve(t,e-1|0)}function bt(t,e){return t<e?e:t}function gt(t,e){return t>e?e:t}function vt(t,e,n){if(e>n)throw bn("Cannot coerce value to an empty range: maximum "+n+" is less than minimum "+e+".");return t<e?e:t>n?n:t}function xt(t){this.closure$iterator=t}function wt(t,e){var n;for(n=t.iterator();n.hasNext();){var i=n.next();e.add_11rb$(i)}return e}function zt(t){return ns(Ct(t))}function Ct(t){return wt(t,ci())}function St(t,e){return new Ps(t,e)}function kt(t){return new xt((e=t,function(){return e.iterator()}));var e}function Lt(t,e){if(!(e>=0))throw bn(("Requested character count "+e+" is less than zero.").toString());return t.substring(gt(e,t.length))}function jt(){}function Nt(){}function Pt(){}function Tt(){}function Ot(){}function Et(){}function Mt(){}function Rt(){}function It(){}function At(){}function Dt(){}function Bt(){}function Ft(){}function qt(){}function Ut(){}function Vt(){}function Wt(){}function Gt(){}function Ht(){}function Xt(){}function Kt(){}function Yt(){}function Zt(){}function Jt(){}function Qt(){}function te(){}function ee(t,e,n){Xt.call(this),this.step=n,this.finalElement_0=0|e,this.hasNext_0=this.step>0?t<=e:t>=e,this.next_0=this.hasNext_0?0|t:this.finalElement_0}function ne(t,e,n){Yt.call(this),this.step=n,this.finalElement_0=e,this.hasNext_0=this.step>0?t<=e:t>=e,this.next_0=this.hasNext_0?t:this.finalElement_0}function ie(t,e,n){Zt.call(this),this.step=n,this.finalElement_0=e,this.hasNext_0=this.step.toNumber()>0?t.compareTo_11rb$(e)<=0:t.compareTo_11rb$(e)>=0,this.next_0=this.hasNext_0?t:this.finalElement_0}function oe(t,e,n){if(ae(),0===n)throw bn("Step must be non-zero.");if(-2147483648===n)throw bn("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this.first=t,this.last=h(Re(0|t,0|e,n)),this.step=n}function re(){se=this}dn.prototype=Object.create(T.prototype),dn.prototype.constructor=dn,mn.prototype=Object.create(dn.prototype),mn.prototype.constructor=mn,ee.prototype=Object.create(Xt.prototype),ee.prototype.constructor=ee,ne.prototype=Object.create(Yt.prototype),ne.prototype.constructor=ne,ie.prototype=Object.create(Zt.prototype),ie.prototype.constructor=ie,ye.prototype=Object.create(oe.prototype),ye.prototype.constructor=ye,ve.prototype=Object.create(le.prototype),ve.prototype.constructor=ve,Ce.prototype=Object.create(_e.prototype),Ce.prototype.constructor=Ce,De.prototype=Object.create(te.prototype),De.prototype.constructor=De,Fe.prototype=Object.create(Ht.prototype),Fe.prototype.constructor=Fe,Ue.prototype=Object.create(Kt.prototype),Ue.prototype.constructor=Ue,We.prototype=Object.create(Xt.prototype),We.prototype.constructor=We,He.prototype=Object.create(Yt.prototype),He.prototype.constructor=He,Ke.prototype=Object.create(Jt.prototype),Ke.prototype.constructor=Ke,Ze.prototype=Object.create(Qt.prototype),Ze.prototype.constructor=Ze,Qe.prototype=Object.create(Zt.prototype),Qe.prototype.constructor=Qe,_n.prototype=Object.create(T.prototype),_n.prototype.constructor=_n,$n.prototype=Object.create(mn.prototype),$n.prototype.constructor=$n,gn.prototype=Object.create(mn.prototype),gn.prototype.constructor=gn,xn.prototype=Object.create(mn.prototype),xn.prototype.constructor=xn,wn.prototype=Object.create(mn.prototype),wn.prototype.constructor=wn,Sn.prototype=Object.create($n.prototype),Sn.prototype.constructor=Sn,kn.prototype=Object.create(mn.prototype),kn.prototype.constructor=kn,Ln.prototype=Object.create(mn.prototype),Ln.prototype.constructor=Ln,jn.prototype=Object.create(mn.prototype),jn.prototype.constructor=jn,Pn.prototype=Object.create(mn.prototype),Pn.prototype.constructor=Pn,Tn.prototype=Object.create(mn.prototype),Tn.prototype.constructor=Tn,En.prototype=Object.create(mn.prototype),En.prototype.constructor=En,Jn.prototype=Object.create(kr.prototype),Jn.prototype.constructor=Jn,ei.prototype=Object.create(ti.prototype),ei.prototype.constructor=ei,Qn.prototype=Object.create(Jn.prototype),Qn.prototype.constructor=Qn,ni.prototype=Object.create(Qn.prototype),ni.prototype.constructor=ni,pi.prototype=Object.create(Jn.prototype),pi.prototype.constructor=pi,ri.prototype=Object.create(pi.prototype),ri.prototype.constructor=ri,ai.prototype=Object.create(Jn.prototype),ai.prototype.constructor=ai,ii.prototype=Object.create(Tr.prototype),ii.prototype.constructor=ii,ui.prototype=Object.create(Qn.prototype),ui.prototype.constructor=ui,zi.prototype=Object.create(pi.prototype),zi.prototype.constructor=zi,wi.prototype=Object.create(ii.prototype),wi.prototype.constructor=wi,ji.prototype=Object.create(pi.prototype),ji.prototype.constructor=ji,Ai.prototype=Object.create(oi.prototype),Ai.prototype.constructor=Ai,Di.prototype=Object.create(pi.prototype),Di.prototype.constructor=Di,Ii.prototype=Object.create(wi.prototype),Ii.prototype.constructor=Ii,Vi.prototype=Object.create(ji.prototype),Vi.prototype.constructor=Vi,Zi.prototype=Object.create(Yi.prototype),Zi.prototype.constructor=Zi,Ji.prototype=Object.create(Yi.prototype),Ji.prototype.constructor=Ji,Qi.prototype=Object.create(Ji.prototype),Qi.prototype.constructor=Qi,yo.prototype=Object.create(mo.prototype),yo.prototype.constructor=yo,$o.prototype=Object.create(mo.prototype),$o.prototype.constructor=$o,bo.prototype=Object.create(mo.prototype),bo.prototype.constructor=bo,sr.prototype=Object.create(dn.prototype),sr.prototype.constructor=sr,Br.prototype=Object.create(kr.prototype),Br.prototype.constructor=Br,Or.prototype=Object.create(Br.prototype),Or.prototype.constructor=Or,Mr.prototype=Object.create(kr.prototype),Mr.prototype.constructor=Mr,Ns.prototype=Object.create(js.prototype),Ns.prototype.constructor=Ns,pa.prototype=Object.create(k.prototype),pa.prototype.constructor=pa,fa.prototype=Object.create(da.prototype),fa.prototype.constructor=fa,Ca.prototype=Object.create(da.prototype),Ca.prototype.constructor=Ca,Ia.prototype=Object.create(k.prototype),Ia.prototype.constructor=Ia,nl.prototype=Object.create(Xt.prototype),nl.prototype.constructor=nl,Ol.prototype=Object.create(_n.prototype),Ol.prototype.constructor=Ol,Wl.prototype=Object.create(Kl.prototype),Wl.prototype.constructor=Wl,Ql.prototype=Object.create(tp.prototype),Ql.prototype.constructor=Ql,sp.prototype=Object.create(up.prototype),sp.prototype.constructor=sp,dp.prototype=Object.create(ep.prototype),dp.prototype.constructor=dp,xt.prototype.iterator=function(){return this.closure$iterator()},xt.$metadata$={kind:_,interfaces:[Pt]},jt.$metadata$={kind:z,simpleName:"Annotation",interfaces:[]},Nt.$metadata$={kind:z,simpleName:"CharSequence",interfaces:[]},Pt.$metadata$={kind:z,simpleName:"Iterable",interfaces:[]},Tt.$metadata$={kind:z,simpleName:"MutableIterable",interfaces:[Pt]},Ot.$metadata$={kind:z,simpleName:"Collection",interfaces:[Pt]},Et.$metadata$={kind:z,simpleName:"MutableCollection",interfaces:[Tt,Ot]},Mt.$metadata$={kind:z,simpleName:"List",interfaces:[Ot]},Rt.$metadata$={kind:z,simpleName:"MutableList",interfaces:[Et,Mt]},It.$metadata$={kind:z,simpleName:"Set",interfaces:[Ot]},At.$metadata$={kind:z,simpleName:"MutableSet",interfaces:[Et,It]},Dt.prototype.getOrDefault_xwzc9p$=function(t,e){throw new Ol},Bt.$metadata$={kind:z,simpleName:"Entry",interfaces:[]},Dt.$metadata$={kind:z,simpleName:"Map",interfaces:[]},Ft.prototype.remove_xwzc9p$=function(t,e){return!0},qt.$metadata$={kind:z,simpleName:"MutableEntry",interfaces:[Bt]},Ft.$metadata$={kind:z,simpleName:"MutableMap",interfaces:[Dt]},Ut.$metadata$={kind:z,simpleName:"Iterator",interfaces:[]},Vt.$metadata$={kind:z,simpleName:"MutableIterator",interfaces:[Ut]},Wt.$metadata$={kind:z,simpleName:"ListIterator",interfaces:[Ut]},Gt.$metadata$={kind:z,simpleName:"MutableListIterator",interfaces:[Vt,Wt]},Ht.prototype.next=function(){return this.nextByte()},Ht.$metadata$={kind:_,simpleName:"ByteIterator",interfaces:[Ut]},Xt.prototype.next=function(){return s(this.nextChar())},Xt.$metadata$={kind:_,simpleName:"CharIterator",interfaces:[Ut]},Kt.prototype.next=function(){return this.nextShort()},Kt.$metadata$={kind:_,simpleName:"ShortIterator",interfaces:[Ut]},Yt.prototype.next=function(){return this.nextInt()},Yt.$metadata$={kind:_,simpleName:"IntIterator",interfaces:[Ut]},Zt.prototype.next=function(){return this.nextLong()},Zt.$metadata$={kind:_,simpleName:"LongIterator",interfaces:[Ut]},Jt.prototype.next=function(){return this.nextFloat()},Jt.$metadata$={kind:_,simpleName:"FloatIterator",interfaces:[Ut]},Qt.prototype.next=function(){return this.nextDouble()},Qt.$metadata$={kind:_,simpleName:"DoubleIterator",interfaces:[Ut]},te.prototype.next=function(){return this.nextBoolean()},te.$metadata$={kind:_,simpleName:"BooleanIterator",interfaces:[Ut]},ee.prototype.hasNext=function(){return this.hasNext_0},ee.prototype.nextChar=function(){var t=this.next_0;if(t===this.finalElement_0){if(!this.hasNext_0)throw Nn();this.hasNext_0=!1}else this.next_0=this.next_0+this.step|0;return h(t)},ee.$metadata$={kind:_,simpleName:"CharProgressionIterator",interfaces:[Xt]},ne.prototype.hasNext=function(){return this.hasNext_0},ne.prototype.nextInt=function(){var t=this.next_0;if(t===this.finalElement_0){if(!this.hasNext_0)throw Nn();this.hasNext_0=!1}else this.next_0=this.next_0+this.step|0;return t},ne.$metadata$={kind:_,simpleName:"IntProgressionIterator",interfaces:[Yt]},ie.prototype.hasNext=function(){return this.hasNext_0},ie.prototype.nextLong=function(){var t=this.next_0;if(r(t,this.finalElement_0)){if(!this.hasNext_0)throw Nn();this.hasNext_0=!1}else this.next_0=this.next_0.add(this.step);return t},ie.$metadata$={kind:_,simpleName:"LongProgressionIterator",interfaces:[Zt]},oe.prototype.iterator=function(){return new ee(this.first,this.last,this.step)},oe.prototype.isEmpty=function(){return this.step>0?this.first>this.last:this.first<this.last},oe.prototype.equals=function(e){return t.isType(e,oe)&&(this.isEmpty()&&e.isEmpty()||this.first===e.first&&this.last===e.last&&this.step===e.step)},oe.prototype.hashCode=function(){return this.isEmpty()?-1:(31*((31*(0|this.first)|0)+(0|this.last)|0)|0)+this.step|0},oe.prototype.toString=function(){return this.step>0?String.fromCharCode(this.first)+".."+String.fromCharCode(this.last)+" step "+this.step:String.fromCharCode(this.first)+" downTo "+String.fromCharCode(this.last)+" step "+(0|-this.step)},re.prototype.fromClosedRange_ayra44$=function(t,e,n){return new oe(t,e,n)},re.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var se=null;function ae(){return null===se&&new re,se}function le(t,e,n){if(ce(),0===n)throw bn("Step must be non-zero.");if(-2147483648===n)throw bn("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this.first=t,this.last=Re(t,e,n),this.step=n}function pe(){ue=this}oe.$metadata$={kind:_,simpleName:"CharProgression",interfaces:[Pt]},le.prototype.iterator=function(){return new ne(this.first,this.last,this.step)},le.prototype.isEmpty=function(){return this.step>0?this.first>this.last:this.first<this.last},le.prototype.equals=function(e){return t.isType(e,le)&&(this.isEmpty()&&e.isEmpty()||this.first===e.first&&this.last===e.last&&this.step===e.step)},le.prototype.hashCode=function(){return this.isEmpty()?-1:(31*((31*this.first|0)+this.last|0)|0)+this.step|0},le.prototype.toString=function(){return this.step>0?this.first.toString()+".."+this.last+" step "+this.step:this.first.toString()+" downTo "+this.last+" step "+(0|-this.step)},pe.prototype.fromClosedRange_qt1dr2$=function(t,e,n){return new le(t,e,n)},pe.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var ue=null;function ce(){return null===ue&&new pe,ue}function _e(t,e,n){if(fe(),r(n,p))throw bn("Step must be non-zero.");if(r(n,$))throw bn("Step must be greater than Long.MIN_VALUE to avoid overflow on negation.");this.first=t,this.last=Ie(t,e,n),this.step=n}function he(){de=this}le.$metadata$={kind:_,simpleName:"IntProgression",interfaces:[Pt]},_e.prototype.iterator=function(){return new ie(this.first,this.last,this.step)},_e.prototype.isEmpty=function(){return this.step.toNumber()>0?this.first.compareTo_11rb$(this.last)>0:this.first.compareTo_11rb$(this.last)<0},_e.prototype.equals=function(e){return t.isType(e,_e)&&(this.isEmpty()&&e.isEmpty()||r(this.first,e.first)&&r(this.last,e.last)&&r(this.step,e.step))},_e.prototype.hashCode=function(){return this.isEmpty()?-1:t.Long.fromInt(31).multiply(t.Long.fromInt(31).multiply(this.first.xor(this.first.shiftRightUnsigned(32))).add(this.last.xor(this.last.shiftRightUnsigned(32)))).add(this.step.xor(this.step.shiftRightUnsigned(32))).toInt()},_e.prototype.toString=function(){return this.step.toNumber()>0?this.first.toString()+".."+this.last.toString()+" step "+this.step.toString():this.first.toString()+" downTo "+this.last.toString()+" step "+this.step.unaryMinus().toString()},he.prototype.fromClosedRange_b9bd0d$=function(t,e,n){return new _e(t,e,n)},he.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var de=null;function fe(){return null===de&&new he,de}function me(){}function ye(t,e){ge(),oe.call(this,t,e,1)}function $e(){be=this,this.EMPTY=new ye(h(1),h(0))}_e.$metadata$={kind:_,simpleName:"LongProgression",interfaces:[Pt]},me.prototype.contains_mef7kx$=function(e){return t.compareTo(e,this.start)>=0&&t.compareTo(e,this.endInclusive)<=0},me.prototype.isEmpty=function(){return t.compareTo(this.start,this.endInclusive)>0},me.$metadata$={kind:z,simpleName:"ClosedRange",interfaces:[]},Object.defineProperty(ye.prototype,"start",{configurable:!0,get:function(){return s(this.first)}}),Object.defineProperty(ye.prototype,"endInclusive",{configurable:!0,get:function(){return s(this.last)}}),ye.prototype.contains_mef7kx$=function(t){return this.first<=t&&t<=this.last},ye.prototype.isEmpty=function(){return this.first>this.last},ye.prototype.equals=function(e){return t.isType(e,ye)&&(this.isEmpty()&&e.isEmpty()||this.first===e.first&&this.last===e.last)},ye.prototype.hashCode=function(){return this.isEmpty()?-1:(31*(0|this.first)|0)+(0|this.last)|0},ye.prototype.toString=function(){return String.fromCharCode(this.first)+".."+String.fromCharCode(this.last)},$e.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var be=null;function ge(){return null===be&&new $e,be}function ve(t,e){ze(),le.call(this,t,e,1)}function xe(){we=this,this.EMPTY=new ve(1,0)}ye.$metadata$={kind:_,simpleName:"CharRange",interfaces:[me,oe]},Object.defineProperty(ve.prototype,"start",{configurable:!0,get:function(){return this.first}}),Object.defineProperty(ve.prototype,"endInclusive",{configurable:!0,get:function(){return this.last}}),ve.prototype.contains_mef7kx$=function(t){return this.first<=t&&t<=this.last},ve.prototype.isEmpty=function(){return this.first>this.last},ve.prototype.equals=function(e){return t.isType(e,ve)&&(this.isEmpty()&&e.isEmpty()||this.first===e.first&&this.last===e.last)},ve.prototype.hashCode=function(){return this.isEmpty()?-1:(31*this.first|0)+this.last|0},ve.prototype.toString=function(){return this.first.toString()+".."+this.last},xe.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var we=null;function ze(){return null===we&&new xe,we}function Ce(t,e){Le(),_e.call(this,t,e,S)}function Se(){ke=this,this.EMPTY=new Ce(S,p)}ve.$metadata$={kind:_,simpleName:"IntRange",interfaces:[me,le]},Object.defineProperty(Ce.prototype,"start",{configurable:!0,get:function(){return this.first}}),Object.defineProperty(Ce.prototype,"endInclusive",{configurable:!0,get:function(){return this.last}}),Ce.prototype.contains_mef7kx$=function(t){return this.first.compareTo_11rb$(t)<=0&&t.compareTo_11rb$(this.last)<=0},Ce.prototype.isEmpty=function(){return this.first.compareTo_11rb$(this.last)>0},Ce.prototype.equals=function(e){return t.isType(e,Ce)&&(this.isEmpty()&&e.isEmpty()||r(this.first,e.first)&&r(this.last,e.last))},Ce.prototype.hashCode=function(){return this.isEmpty()?-1:t.Long.fromInt(31).multiply(this.first.xor(this.first.shiftRightUnsigned(32))).add(this.last.xor(this.last.shiftRightUnsigned(32))).toInt()},Ce.prototype.toString=function(){return this.first.toString()+".."+this.last.toString()},Se.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var ke=null;function Le(){return null===ke&&new Se,ke}function je(){Ne=this}Ce.$metadata$={kind:_,simpleName:"LongRange",interfaces:[me,_e]},je.prototype.toString=function(){return"kotlin.Unit"},je.$metadata$={kind:C,simpleName:"Unit",interfaces:[]};var Ne=null;function Pe(){return null===Ne&&new je,Ne}function Te(t,e){var n=t%e;return n>=0?n:n+e|0}function Oe(t,e){var n=t.modulo(e);return n.toNumber()>=0?n:n.add(e)}function Ee(t,e,n){return Te(Te(t,n)-Te(e,n)|0,n)}function Me(t,e,n){return Oe(Oe(t,n).subtract(Oe(e,n)),n)}function Re(t,e,n){if(n>0)return t>=e?e:e-Ee(e,t,n)|0;if(n<0)return t<=e?e:e+Ee(t,e,0|-n)|0;throw bn("Step is zero.")}function Ie(t,e,n){if(n.toNumber()>0)return t.compareTo_11rb$(e)>=0?e:e.subtract(Me(e,t,n));if(n.toNumber()<0)return t.compareTo_11rb$(e)<=0?e:e.add(Me(t,e,n.unaryMinus()));throw bn("Step is zero.")}function Ae(t){this.closure$arr=t,this.index=0}function De(t){this.closure$array=t,te.call(this),this.index=0}function Be(t){return new De(t)}function Fe(t){this.closure$array=t,Ht.call(this),this.index=0}function qe(t){return new Fe(t)}function Ue(t){this.closure$array=t,Kt.call(this),this.index=0}function Ve(t){return new Ue(t)}function We(t){this.closure$array=t,Xt.call(this),this.index=0}function Ge(t){return new We(t)}function He(t){this.closure$array=t,Yt.call(this),this.index=0}function Xe(t){return new He(t)}function Ke(t){this.closure$array=t,Jt.call(this),this.index=0}function Ye(t){return new Ke(t)}function Ze(t){this.closure$array=t,Qt.call(this),this.index=0}function Je(t){return new Ze(t)}function Qe(t){this.closure$array=t,Zt.call(this),this.index=0}function tn(t){return new Qe(t)}function en(t){this.c=t}function nn(t){this.resultContinuation_0=t,this.state_0=0,this.exceptionState_0=0,this.result_0=null,this.exception_0=null,this.finallyPath_0=null,this.context_hxcuhl$_0=this.resultContinuation_0.context,this.intercepted__0=null}function on(){sn=this}Ae.prototype.hasNext=function(){return this.index<this.closure$arr.length},Ae.prototype.next=function(){var t;if(this.index<this.closure$arr.length)return this.closure$arr[(t=this.index,this.index=t+1|0,t)];throw new jn(this.index.toString())},Ae.$metadata$={kind:_,interfaces:[Ut]},De.prototype.hasNext=function(){return this.index<this.closure$array.length},De.prototype.nextBoolean=function(){var t;if(this.index<this.closure$array.length)return this.closure$array[(t=this.index,this.index=t+1|0,t)];throw new jn(this.index.toString())},De.$metadata$={kind:_,interfaces:[te]},Fe.prototype.hasNext=function(){return this.index<this.closure$array.length},Fe.prototype.nextByte=function(){var t;if(this.index<this.closure$array.length)return this.closure$array[(t=this.index,this.index=t+1|0,t)];throw new jn(this.index.toString())},Fe.$metadata$={kind:_,interfaces:[Ht]},Ue.prototype.hasNext=function(){return this.index<this.closure$array.length},Ue.prototype.nextShort=function(){var t;if(this.index<this.closure$array.length)return this.closure$array[(t=this.index,this.index=t+1|0,t)];throw new jn(this.index.toString())},Ue.$metadata$={kind:_,interfaces:[Kt]},We.prototype.hasNext=function(){return this.index<this.closure$array.length},We.prototype.nextChar=function(){var t;if(this.index<this.closure$array.length)return this.closure$array[(t=this.index,this.index=t+1|0,t)];throw new jn(this.index.toString())},We.$metadata$={kind:_,interfaces:[Xt]},He.prototype.hasNext=function(){return this.index<this.closure$array.length},He.prototype.nextInt=function(){var t;if(this.index<this.closure$array.length)return this.closure$array[(t=this.index,this.index=t+1|0,t)];throw new jn(this.index.toString())},He.$metadata$={kind:_,interfaces:[Yt]},Ke.prototype.hasNext=function(){return this.index<this.closure$array.length},Ke.prototype.nextFloat=function(){var t;if(this.index<this.closure$array.length)return this.closure$array[(t=this.index,this.index=t+1|0,t)];throw new jn(this.index.toString())},Ke.$metadata$={kind:_,interfaces:[Jt]},Ze.prototype.hasNext=function(){return this.index<this.closure$array.length},Ze.prototype.nextDouble=function(){var t;if(this.index<this.closure$array.length)return this.closure$array[(t=this.index,this.index=t+1|0,t)];throw new jn(this.index.toString())},Ze.$metadata$={kind:_,interfaces:[Qt]},Qe.prototype.hasNext=function(){return this.index<this.closure$array.length},Qe.prototype.nextLong=function(){var t;if(this.index<this.closure$array.length)return this.closure$array[(t=this.index,this.index=t+1|0,t)];throw new jn(this.index.toString())},Qe.$metadata$={kind:_,interfaces:[Zt]},en.prototype.equals=function(e){return t.isType(e,en)&&this.c===e.c},en.prototype.hashCode=function(){return this.c},en.prototype.toString=function(){return String.fromCharCode(a(this.c))},en.prototype.compareTo_11rb$=function(t){return this.c-t},en.prototype.valueOf=function(){return this.c},en.$metadata$={kind:_,simpleName:"BoxedChar",interfaces:[L]},Object.defineProperty(nn.prototype,"context",{configurable:!0,get:function(){return this.context_hxcuhl$_0}}),nn.prototype.intercepted=function(){var t,e,n,i;if(null!=(n=this.intercepted__0))i=n;else{var o=null!=(e=null!=(t=this.context.get_j3r2sn$(Vs()))?t.interceptContinuation_wj8d80$(this):null)?e:this;this.intercepted__0=o,i=o}return i},nn.prototype.resumeWith_tl1gpc$=function(e){for(var n,i={v:this},o={v:e.isFailure?null:null==(n=e.value)||t.isType(n,N)?n:P()},r={v:e.exceptionOrNull()};;){var s,a,l=i.v,p=l.resultContinuation_0;null==r.v?l.result_0=o.v:(l.state_0=l.exceptionState_0,l.exception_0=r.v);try{var u=l.doResume();if(u===la())return;o.v=u,r.v=null}catch(t){o.v=null,r.v=t}if(l.releaseIntercepted_0(),!t.isType(p,nn))return null!=(s=r.v)?(p.resumeWith_tl1gpc$(new Sl(Pl(s))),a=je):a=null,void(null==a&&p.resumeWith_tl1gpc$(new Sl(o.v)));i.v=p}},nn.prototype.releaseIntercepted_0=function(){var t=this.intercepted__0;null!=t&&t!==this&&j(this.context.get_j3r2sn$(Vs())).releaseInterceptedContinuation_k98bjh$(t),this.intercepted__0=an()},nn.$metadata$={kind:_,simpleName:"CoroutineImpl",interfaces:[Bs]},Object.defineProperty(on.prototype,"context",{configurable:!0,get:function(){throw vn("This continuation is already complete".toString())}}),on.prototype.resumeWith_tl1gpc$=function(t){throw vn("This continuation is already complete".toString())},on.prototype.toString=function(){return"This continuation is already complete"},on.$metadata$={kind:C,simpleName:"CompletedContinuation",interfaces:[Bs]};var rn,sn=null;function an(){return null===sn&&new on,sn}function ln(t,e){this.closure$block=t,nn.call(this,e)}function pn(e,n){return 2==e.length?e(n,!0):new ln((o=e,r=n,function(){return o(r)}),t.isType(i=n,Bs)?i:no());var i,o,r}function un(e,n,i){return 3==e.length?e(n,i,!0):new ln((r=e,s=n,a=i,function(){return r(s,a)}),t.isType(o=i,Bs)?o:no());var o,r,s,a}function cn(e){var n,i,o;return null!=(o=null!=(i=t.isType(n=e,nn)?n:null)?i.intercepted():null)?o:e}function _n(e,n){var i;T.call(this),i=null!=n?n:null,this.message_q7r8iu$_0=void 0===e&&null!=i?t.toString(i):e,this.cause_us9j0c$_0=i,t.captureStack(T,this),this.name="Error"}function hn(t,e){return e=e||Object.create(_n.prototype),_n.call(e,t,null),e}function dn(e,n){var i;T.call(this),i=null!=n?n:null,this.message_8yp7un$_0=void 0===e&&null!=i?t.toString(i):e,this.cause_th0jdv$_0=i,t.captureStack(T,this),this.name="Exception"}function fn(t,e){return e=e||Object.create(dn.prototype),dn.call(e,t,null),e}function mn(t,e){dn.call(this,t,e),this.name="RuntimeException"}function yn(t,e){return e=e||Object.create(mn.prototype),mn.call(e,t,null),e}function $n(t,e){mn.call(this,t,e),this.name="IllegalArgumentException"}function bn(t,e){return e=e||Object.create($n.prototype),$n.call(e,t,null),e}function gn(t,e){mn.call(this,t,e),this.name="IllegalStateException"}function vn(t,e){return e=e||Object.create(gn.prototype),gn.call(e,t,null),e}function xn(t){yn(t,this),this.name="IndexOutOfBoundsException"}function wn(t,e){mn.call(this,t,e),this.name="UnsupportedOperationException"}function zn(t){return t=t||Object.create(wn.prototype),wn.call(t,null,null),t}function Cn(t,e){return e=e||Object.create(wn.prototype),wn.call(e,t,null),e}function Sn(t){bn(t,this),this.name="NumberFormatException"}function kn(t){yn(t,this),this.name="NullPointerException"}function Ln(t){yn(t,this),this.name="ClassCastException"}function jn(t){yn(t,this),this.name="NoSuchElementException"}function Nn(t){return t=t||Object.create(jn.prototype),jn.call(t,null),t}function Pn(t){yn(t,this),this.name="ArithmeticException"}function Tn(t,e){mn.call(this,t,e),this.name="NoWhenBranchMatchedException"}function On(t){return t=t||Object.create(Tn.prototype),Tn.call(t,null,null),t}function En(t,e){mn.call(this,t,e),this.name="UninitializedPropertyAccessException"}function Mn(t,e){return e=e||Object.create(En.prototype),En.call(e,t,null),e}function Rn(t,e){for(var n,i=t.length,o=e.length,r=0;r<i&&r<o;)e[r]=t[(n=r,r=n+1|0,n)];return e}function In(t,e,n){var i,o=t.slice(0,e);void 0!==t.$type$&&(o.$type$=t.$type$);var r=t.length;if(e>r)for(o.length=e;r<e;)o[(i=r,r=i+1|0,i)]=n;return o}function An(t,e){return t.toString(dr(e))}function Dn(t){return new ui(t)}function Bn(t,e,n){return Pr().checkRangeIndexes_cub51b$(e,n,t.length),t.slice(e,n)}function Fn(t){var e=(t.size/2|0)-1|0;if(!(e<0))for(var n=es(t),i=0;i<=e;i++){var o=t.get_za3lpa$(i);t.set_wxm5ur$(i,t.get_za3lpa$(n)),t.set_wxm5ur$(n,o),n=n-1|0}}function qn(t){this.function$=t}function Un(t){return void 0!==t.toArray?t.toArray():Vn(t)}function Vn(t){for(var e=[],n=t.iterator();n.hasNext();)e.push(n.next());return e}function Wn(t,e){var n;if(e.length<t.size)return Vn(t);for(var i=t.iterator(),o=0;i.hasNext();)e[(n=o,o=n+1|0,n)]=i.next();return o<e.length&&(e[o]=null),e}function Gn(t){return ts([t])}function Hn(t){return Ds([t])}function Xn(t){return ys([t])}function Kn(t){at(t,ya())}function Yn(t){return t<0&&is(),t}function Zn(t){return t}function Jn(){kr.call(this)}function Qn(){Jn.call(this),this.modCount=0}function ti(t){this.$outer=t,this.index_0=0,this.last_0=-1}function ei(t,e){this.$outer=t,ti.call(this,this.$outer),Pr().checkPositionIndex_6xvm5r$(e,this.$outer.size),this.index_0=e}function ni(t,e,n){Qn.call(this),this.list_0=t,this.fromIndex_0=e,this._size_0=0,Pr().checkRangeIndexes_cub51b$(this.fromIndex_0,n,this.list_0.size),this._size_0=n-this.fromIndex_0|0}function ii(){Tr.call(this),this._keys_qe2m0n$_0=null,this._values_kxdlqh$_0=null}function oi(t,e){this.key_5xhq3d$_0=t,this._value_0=e}function ri(t){this.this$AbstractMutableMap=t,pi.call(this)}function si(t){this.closure$entryIterator=t}function ai(t){this.this$AbstractMutableMap=t,Jn.call(this)}function li(t){this.closure$entryIterator=t}function pi(){Jn.call(this)}function ui(t){Qn.call(this),this.array_hd7ov6$_0=t,this.isReadOnly_dbt2oh$_0=!1}function ci(t){return t=t||Object.create(ui.prototype),ui.call(t,[]),t}function _i(t,e){return void 0===t&&(t=0),e=e||Object.create(ui.prototype),ui.call(e,[]),e}function hi(t,e){return e=e||Object.create(ui.prototype),ui.call(e,Un(t)),e}function di(e,n){if(function(){if(null!=rn)return rn;rn=!1;for(var t=[],e=0;e<600;e++)t.push(e);var n=fi;t.sort(n);for(var i=1;i<t.length;i++){var o=t[i-1|0],r=t[i];if((3&o)==(3&r)&&o>=r)return!1}return rn=!0,!0}()){var i=(o=n,function(t,e){return o.compare(t,e)});e.sort(i)}else!function(e,n,i,o){var r=t.newArray(e.length,null),s=function t(e,n,i,o,r){if(i===o)return e;for(var s=(i+o|0)/2|0,a=t(e,n,i,s,r),l=t(e,n,s+1|0,o,r),p=a===n?e:n,u=i,c=s+1|0,_=i;_<=o;_++)if(u<=s&&c<=o){var h=a[u],d=l[c];r.compare(h,d)<=0?(p[_]=h,u=u+1|0):(p[_]=d,c=c+1|0)}else u<=s?(p[_]=a[u],u=u+1|0):(p[_]=l[c],c=c+1|0);return p}(e,r,n,i,o);if(s!==e)for(var a=n;a<=i;a++)e[a]=s[a]}(e,0,K(e),n);var o}function fi(t,e){return(3&t)-(3&e)|0}function mi(){}function yi(){vi=this}ln.prototype=Object.create(nn.prototype),ln.prototype.constructor=ln,ln.prototype.doResume=function(){var t;if(null!=(t=this.exception_0))throw t;return this.closure$block()},ln.$metadata$={kind:_,interfaces:[nn]},Object.defineProperty(_n.prototype,"message",{get:function(){return this.message_q7r8iu$_0}}),Object.defineProperty(_n.prototype,"cause",{get:function(){return this.cause_us9j0c$_0}}),_n.$metadata$={kind:_,simpleName:"Error",interfaces:[T]},Object.defineProperty(dn.prototype,"message",{get:function(){return this.message_8yp7un$_0}}),Object.defineProperty(dn.prototype,"cause",{get:function(){return this.cause_th0jdv$_0}}),dn.$metadata$={kind:_,simpleName:"Exception",interfaces:[T]},mn.$metadata$={kind:_,simpleName:"RuntimeException",interfaces:[dn]},$n.$metadata$={kind:_,simpleName:"IllegalArgumentException",interfaces:[mn]},gn.$metadata$={kind:_,simpleName:"IllegalStateException",interfaces:[mn]},xn.$metadata$={kind:_,simpleName:"IndexOutOfBoundsException",interfaces:[mn]},wn.$metadata$={kind:_,simpleName:"UnsupportedOperationException",interfaces:[mn]},Sn.$metadata$={kind:_,simpleName:"NumberFormatException",interfaces:[$n]},kn.$metadata$={kind:_,simpleName:"NullPointerException",interfaces:[mn]},Ln.$metadata$={kind:_,simpleName:"ClassCastException",interfaces:[mn]},jn.$metadata$={kind:_,simpleName:"NoSuchElementException",interfaces:[mn]},Pn.$metadata$={kind:_,simpleName:"ArithmeticException",interfaces:[mn]},Tn.$metadata$={kind:_,simpleName:"NoWhenBranchMatchedException",interfaces:[mn]},En.$metadata$={kind:_,simpleName:"UninitializedPropertyAccessException",interfaces:[mn]},qn.prototype.compare=function(t,e){return this.function$(t,e)},qn.$metadata$={kind:z,simpleName:"Comparator",interfaces:[]},Jn.prototype.remove_11rb$=function(t){this.checkIsMutable();for(var e=this.iterator();e.hasNext();)if(r(e.next(),t))return e.remove(),!0;return!1},Jn.prototype.addAll_brywnq$=function(t){var e;this.checkIsMutable();var n=!1;for(e=t.iterator();e.hasNext();){var i=e.next();this.add_11rb$(i)&&(n=!0)}return n},Jn.prototype.removeAll_brywnq$=function(e){var n;return this.checkIsMutable(),ws(t.isType(this,Tt)?this:no(),(n=e,function(t){return n.contains_11rb$(t)}))},Jn.prototype.retainAll_brywnq$=function(e){var n;return this.checkIsMutable(),ws(t.isType(this,Tt)?this:no(),(n=e,function(t){return!n.contains_11rb$(t)}))},Jn.prototype.clear=function(){this.checkIsMutable();for(var t=this.iterator();t.hasNext();)t.next(),t.remove()},Jn.prototype.toJSON=function(){return this.toArray()},Jn.prototype.checkIsMutable=function(){},Jn.$metadata$={kind:_,simpleName:"AbstractMutableCollection",interfaces:[Et,kr]},Qn.prototype.add_11rb$=function(t){return this.checkIsMutable(),this.add_wxm5ur$(this.size,t),!0},Qn.prototype.addAll_u57x28$=function(t,e){var n,i;this.checkIsMutable();var o=t,r=!1;for(n=e.iterator();n.hasNext();){var s=n.next();this.add_wxm5ur$((o=(i=o)+1|0,i),s),r=!0}return r},Qn.prototype.clear=function(){this.checkIsMutable(),this.removeRange_vux9f0$(0,this.size)},Qn.prototype.removeAll_brywnq$=function(t){return this.checkIsMutable(),Cs(this,(e=t,function(t){return e.contains_11rb$(t)}));var e},Qn.prototype.retainAll_brywnq$=function(t){return this.checkIsMutable(),Cs(this,(e=t,function(t){return!e.contains_11rb$(t)}));var e},Qn.prototype.iterator=function(){return new ti(this)},Qn.prototype.contains_11rb$=function(t){return this.indexOf_11rb$(t)>=0},Qn.prototype.indexOf_11rb$=function(t){var e;e=es(this);for(var n=0;n<=e;n++)if(r(this.get_za3lpa$(n),t))return n;return-1},Qn.prototype.lastIndexOf_11rb$=function(t){for(var e=es(this);e>=0;e--)if(r(this.get_za3lpa$(e),t))return e;return-1},Qn.prototype.listIterator=function(){return this.listIterator_za3lpa$(0)},Qn.prototype.listIterator_za3lpa$=function(t){return new ei(this,t)},Qn.prototype.subList_vux9f0$=function(t,e){return new ni(this,t,e)},Qn.prototype.removeRange_vux9f0$=function(t,e){for(var n=this.listIterator_za3lpa$(t),i=e-t|0,o=0;o<i;o++)n.next(),n.remove()},Qn.prototype.equals=function(e){return e===this||!!t.isType(e,Mt)&&Pr().orderedEquals_e92ka7$(this,e)},Qn.prototype.hashCode=function(){return Pr().orderedHashCode_nykoif$(this)},ti.prototype.hasNext=function(){return this.index_0<this.$outer.size},ti.prototype.next=function(){var t;if(!this.hasNext())throw Nn();return this.last_0=(t=this.index_0,this.index_0=t+1|0,t),this.$outer.get_za3lpa$(this.last_0)},ti.prototype.remove=function(){if(-1===this.last_0)throw vn("Call next() or previous() before removing element from the iterator.".toString());this.$outer.removeAt_za3lpa$(this.last_0),this.index_0=this.last_0,this.last_0=-1},ti.$metadata$={kind:_,simpleName:"IteratorImpl",interfaces:[Vt]},ei.prototype.hasPrevious=function(){return this.index_0>0},ei.prototype.nextIndex=function(){return this.index_0},ei.prototype.previous=function(){if(!this.hasPrevious())throw Nn();return this.last_0=(this.index_0=this.index_0-1|0,this.index_0),this.$outer.get_za3lpa$(this.last_0)},ei.prototype.previousIndex=function(){return this.index_0-1|0},ei.prototype.add_11rb$=function(t){this.$outer.add_wxm5ur$(this.index_0,t),this.index_0=this.index_0+1|0,this.last_0=-1},ei.prototype.set_11rb$=function(t){if(-1===this.last_0)throw vn("Call next() or previous() before updating element value with the iterator.".toString());this.$outer.set_wxm5ur$(this.last_0,t)},ei.$metadata$={kind:_,simpleName:"ListIteratorImpl",interfaces:[Gt,ti]},ni.prototype.add_wxm5ur$=function(t,e){Pr().checkPositionIndex_6xvm5r$(t,this._size_0),this.list_0.add_wxm5ur$(this.fromIndex_0+t|0,e),this._size_0=this._size_0+1|0},ni.prototype.get_za3lpa$=function(t){return Pr().checkElementIndex_6xvm5r$(t,this._size_0),this.list_0.get_za3lpa$(this.fromIndex_0+t|0)},ni.prototype.removeAt_za3lpa$=function(t){Pr().checkElementIndex_6xvm5r$(t,this._size_0);var e=this.list_0.removeAt_za3lpa$(this.fromIndex_0+t|0);return this._size_0=this._size_0-1|0,e},ni.prototype.set_wxm5ur$=function(t,e){return Pr().checkElementIndex_6xvm5r$(t,this._size_0),this.list_0.set_wxm5ur$(this.fromIndex_0+t|0,e)},Object.defineProperty(ni.prototype,"size",{configurable:!0,get:function(){return this._size_0}}),ni.prototype.checkIsMutable=function(){this.list_0.checkIsMutable()},ni.$metadata$={kind:_,simpleName:"SubList",interfaces:[Ki,Qn]},Qn.$metadata$={kind:_,simpleName:"AbstractMutableList",interfaces:[Rt,Jn]},Object.defineProperty(oi.prototype,"key",{get:function(){return this.key_5xhq3d$_0}}),Object.defineProperty(oi.prototype,"value",{configurable:!0,get:function(){return this._value_0}}),oi.prototype.setValue_11rc$=function(t){var e=this._value_0;return this._value_0=t,e},oi.prototype.hashCode=function(){return Dr().entryHashCode_9fthdn$(this)},oi.prototype.toString=function(){return Dr().entryToString_9fthdn$(this)},oi.prototype.equals=function(t){return Dr().entryEquals_js7fox$(this,t)},oi.$metadata$={kind:_,simpleName:"SimpleEntry",interfaces:[qt]},ii.prototype.clear=function(){this.entries.clear()},ri.prototype.add_11rb$=function(t){throw Cn("Add is not supported on keys")},ri.prototype.clear=function(){this.this$AbstractMutableMap.clear()},ri.prototype.contains_11rb$=function(t){return this.this$AbstractMutableMap.containsKey_11rb$(t)},si.prototype.hasNext=function(){return this.closure$entryIterator.hasNext()},si.prototype.next=function(){return this.closure$entryIterator.next().key},si.prototype.remove=function(){this.closure$entryIterator.remove()},si.$metadata$={kind:_,interfaces:[Vt]},ri.prototype.iterator=function(){return new si(this.this$AbstractMutableMap.entries.iterator())},ri.prototype.remove_11rb$=function(t){return this.checkIsMutable(),!!this.this$AbstractMutableMap.containsKey_11rb$(t)&&(this.this$AbstractMutableMap.remove_11rb$(t),!0)},Object.defineProperty(ri.prototype,"size",{configurable:!0,get:function(){return this.this$AbstractMutableMap.size}}),ri.prototype.checkIsMutable=function(){this.this$AbstractMutableMap.checkIsMutable()},ri.$metadata$={kind:_,interfaces:[pi]},Object.defineProperty(ii.prototype,"keys",{configurable:!0,get:function(){return null==this._keys_qe2m0n$_0&&(this._keys_qe2m0n$_0=new ri(this)),j(this._keys_qe2m0n$_0)}}),ii.prototype.putAll_a2k3zr$=function(t){var e;for(this.checkIsMutable(),e=t.entries.iterator();e.hasNext();){var n=e.next(),i=n.key,o=n.value;this.put_xwzc9p$(i,o)}},ai.prototype.add_11rb$=function(t){throw Cn("Add is not supported on values")},ai.prototype.clear=function(){this.this$AbstractMutableMap.clear()},ai.prototype.contains_11rb$=function(t){return this.this$AbstractMutableMap.containsValue_11rc$(t)},li.prototype.hasNext=function(){return this.closure$entryIterator.hasNext()},li.prototype.next=function(){return this.closure$entryIterator.next().value},li.prototype.remove=function(){this.closure$entryIterator.remove()},li.$metadata$={kind:_,interfaces:[Vt]},ai.prototype.iterator=function(){return new li(this.this$AbstractMutableMap.entries.iterator())},Object.defineProperty(ai.prototype,"size",{configurable:!0,get:function(){return this.this$AbstractMutableMap.size}}),ai.prototype.equals=function(e){return this===e||!!t.isType(e,Ot)&&Pr().orderedEquals_e92ka7$(this,e)},ai.prototype.hashCode=function(){return Pr().orderedHashCode_nykoif$(this)},ai.prototype.checkIsMutable=function(){this.this$AbstractMutableMap.checkIsMutable()},ai.$metadata$={kind:_,interfaces:[Jn]},Object.defineProperty(ii.prototype,"values",{configurable:!0,get:function(){return null==this._values_kxdlqh$_0&&(this._values_kxdlqh$_0=new ai(this)),j(this._values_kxdlqh$_0)}}),ii.prototype.remove_11rb$=function(t){this.checkIsMutable();for(var e=this.entries.iterator();e.hasNext();){var n=e.next(),i=n.key;if(r(t,i)){var o=n.value;return e.remove(),o}}return null},ii.prototype.checkIsMutable=function(){},ii.$metadata$={kind:_,simpleName:"AbstractMutableMap",interfaces:[Ft,Tr]},pi.prototype.equals=function(e){return e===this||!!t.isType(e,It)&&Ur().setEquals_y8f7en$(this,e)},pi.prototype.hashCode=function(){return Ur().unorderedHashCode_nykoif$(this)},pi.$metadata$={kind:_,simpleName:"AbstractMutableSet",interfaces:[At,Jn]},ui.prototype.build=function(){return this.checkIsMutable(),this.isReadOnly_dbt2oh$_0=!0,this},ui.prototype.trimToSize=function(){},ui.prototype.ensureCapacity_za3lpa$=function(t){},Object.defineProperty(ui.prototype,"size",{configurable:!0,get:function(){return this.array_hd7ov6$_0.length}}),ui.prototype.get_za3lpa$=function(e){var n;return null==(n=this.array_hd7ov6$_0[this.rangeCheck_xcmk5o$_0(e)])||t.isType(n,N)?n:no()},ui.prototype.set_wxm5ur$=function(e,n){var i;this.checkIsMutable(),this.rangeCheck_xcmk5o$_0(e);var o=this.array_hd7ov6$_0[e];return this.array_hd7ov6$_0[e]=n,null==(i=o)||t.isType(i,N)?i:no()},ui.prototype.add_11rb$=function(t){return this.checkIsMutable(),this.array_hd7ov6$_0.push(t),this.modCount=this.modCount+1|0,!0},ui.prototype.add_wxm5ur$=function(t,e){this.checkIsMutable(),this.array_hd7ov6$_0.splice(this.insertionRangeCheck_xwivfl$_0(t),0,e),this.modCount=this.modCount+1|0},ui.prototype.addAll_brywnq$=function(t){return this.checkIsMutable(),!t.isEmpty()&&(this.array_hd7ov6$_0=this.array_hd7ov6$_0.concat(Un(t)),this.modCount=this.modCount+1|0,!0)},ui.prototype.addAll_u57x28$=function(t,e){return this.checkIsMutable(),this.insertionRangeCheck_xwivfl$_0(t),t===this.size?this.addAll_brywnq$(e):!e.isEmpty()&&(t===this.size?this.addAll_brywnq$(e):(this.array_hd7ov6$_0=0===t?Un(e).concat(this.array_hd7ov6$_0):Bn(this.array_hd7ov6$_0,0,t).concat(Un(e),Bn(this.array_hd7ov6$_0,t,this.size)),this.modCount=this.modCount+1|0,!0))},ui.prototype.removeAt_za3lpa$=function(t){return this.checkIsMutable(),this.rangeCheck_xcmk5o$_0(t),this.modCount=this.modCount+1|0,t===es(this)?this.array_hd7ov6$_0.pop():this.array_hd7ov6$_0.splice(t,1)[0]},ui.prototype.remove_11rb$=function(t){var e;this.checkIsMutable(),e=this.array_hd7ov6$_0;for(var n=0;n!==e.length;++n)if(r(this.array_hd7ov6$_0[n],t))return this.array_hd7ov6$_0.splice(n,1),this.modCount=this.modCount+1|0,!0;return!1},ui.prototype.removeRange_vux9f0$=function(t,e){this.checkIsMutable(),this.modCount=this.modCount+1|0,this.array_hd7ov6$_0.splice(t,e-t|0)},ui.prototype.clear=function(){this.checkIsMutable(),this.array_hd7ov6$_0=[],this.modCount=this.modCount+1|0},ui.prototype.indexOf_11rb$=function(t){return W(this.array_hd7ov6$_0,t)},ui.prototype.lastIndexOf_11rb$=function(t){return G(this.array_hd7ov6$_0,t)},ui.prototype.toString=function(){return O(this.array_hd7ov6$_0)},ui.prototype.toArray=function(){return[].slice.call(this.array_hd7ov6$_0)},ui.prototype.checkIsMutable=function(){if(this.isReadOnly_dbt2oh$_0)throw zn()},ui.prototype.rangeCheck_xcmk5o$_0=function(t){return Pr().checkElementIndex_6xvm5r$(t,this.size),t},ui.prototype.insertionRangeCheck_xwivfl$_0=function(t){return Pr().checkPositionIndex_6xvm5r$(t,this.size),t},ui.$metadata$={kind:_,simpleName:"ArrayList",interfaces:[Ki,Qn,Rt]},yi.prototype.equals_oaftn8$=function(t,e){return r(t,e)},yi.prototype.getHashCode_s8jyv4$=function(t){var e;return null!=(e=null!=t?E(t):null)?e:0},yi.$metadata$={kind:C,simpleName:"HashCode",interfaces:[mi]};var $i,bi,gi,vi=null;function xi(){return null===vi&&new yi,vi}function wi(){this.internalMap_uxhen5$_0=null,this.equality_vgh6cm$_0=null,this._entries_7ih87x$_0=null}function zi(t){this.$outer=t,pi.call(this)}function Ci(t,e){return e=e||Object.create(wi.prototype),ii.call(e),wi.call(e),e.internalMap_uxhen5$_0=t,e.equality_vgh6cm$_0=t.equality,e}function Si(t){return t=t||Object.create(wi.prototype),Ci(new Oi(xi()),t),t}function ki(t,e,n){if(void 0===e&&(e=0),Si(n=n||Object.create(wi.prototype)),!(t>=0))throw bn(("Negative initial capacity: "+t).toString());if(!(e>=0))throw bn(("Non-positive load factor: "+e).toString());return n}function Li(t,e){return ki(t,0,e=e||Object.create(wi.prototype)),e}function ji(){this.map_8be2vx$=null}function Ni(t,e,n){return void 0===e&&(e=0),n=n||Object.create(ji.prototype),pi.call(n),ji.call(n),n.map_8be2vx$=ki(t,e),n}function Pi(t,e){return Ni(t,0,e=e||Object.create(ji.prototype)),e}function Ti(t,e){return e=e||Object.create(ji.prototype),pi.call(e),ji.call(e),e.map_8be2vx$=t,e}function Oi(t){this.equality_mamlu8$_0=t,this.backingMap_0=this.createJsMap(),this.size_x3bm7r$_0=0}function Ei(t){this.this$InternalHashCodeMap=t,this.state=-1,this.keys=Object.keys(t.backingMap_0),this.keyIndex=-1,this.chainOrEntry=null,this.isChain=!1,this.itemIndex=-1,this.lastEntry=null}function Mi(){}function Ri(t){this.equality_qma612$_0=t,this.backingMap_0=this.createJsMap(),this.size_6u3ykz$_0=0}function Ii(){this.head_1lr44l$_0=null,this.map_97q5dv$_0=null,this.isReadOnly_uhyvn5$_0=!1}function Ai(t,e,n){this.$outer=t,oi.call(this,e,n),this.next_8be2vx$=null,this.prev_8be2vx$=null}function Di(t){this.$outer=t,pi.call(this)}function Bi(t){this.$outer=t,this.last_0=null,this.next_0=null,this.next_0=this.$outer.$outer.head_1lr44l$_0}function Fi(t){return Si(t=t||Object.create(Ii.prototype)),Ii.call(t),t.map_97q5dv$_0=Si(),t}function qi(t,e,n){return void 0===e&&(e=0),ki(t,e,n=n||Object.create(Ii.prototype)),Ii.call(n),n.map_97q5dv$_0=Si(),n}function Ui(t,e){return qi(t,0,e=e||Object.create(Ii.prototype)),e}function Vi(){}function Wi(t){return t=t||Object.create(Vi.prototype),Ti(Fi(),t),Vi.call(t),t}function Gi(t,e){return e=e||Object.create(Vi.prototype),Ti(Fi(),e),Vi.call(e),e.addAll_brywnq$(t),e}function Hi(t,e,n){return void 0===e&&(e=0),n=n||Object.create(Vi.prototype),Ti(qi(t,e),n),Vi.call(n),n}function Xi(t,e){return Hi(t,0,e=e||Object.create(Vi.prototype)),e}function Ki(){}function Yi(){}function Zi(t){Yi.call(this),this.outputStream=t}function Ji(){Yi.call(this),this.buffer=""}function Qi(){Ji.call(this)}function to(t,e){this.delegate_0=t,this.result_0=e}function eo(t,e){this.closure$context=t,this.closure$resumeWith=e}function no(){throw new Ln("Illegal cast")}function io(t){throw vn(t)}function oo(){}function ro(e){if(so(e)||e===l.NEGATIVE_INFINITY)return e;if(0===e)return-l.MIN_VALUE;var n=M(e).add(t.Long.fromInt(e>0?-1:1));return t.doubleFromBits(n)}function so(t){return t!=t}function ao(t){return t!=t}function lo(t){return t===l.POSITIVE_INFINITY||t===l.NEGATIVE_INFINITY}function po(t){return t===R.POSITIVE_INFINITY||t===R.NEGATIVE_INFINITY}function uo(t){return!lo(t)&&!so(t)}function co(){return $a(Math.random()*Math.pow(2,32)|0)}function _o(t,e){return t*bi+e*gi}function ho(){}function fo(){}function mo(t){this.jClass_1ppatx$_0=t}function yo(t){var e;mo.call(this,t),this.simpleName_m7mxi0$_0=null!=(e=t.$metadata$)?e.simpleName:null}function $o(t,e,n){mo.call(this,t),this.givenSimpleName_0=e,this.isInstanceFunction_0=n}function bo(){go=this,mo.call(this,Object),this.simpleName_lnzy73$_0="Nothing"}mi.$metadata$={kind:z,simpleName:"EqualityComparator",interfaces:[]},zi.prototype.add_11rb$=function(t){throw Cn("Add is not supported on entries")},zi.prototype.clear=function(){this.$outer.clear()},zi.prototype.contains_11rb$=function(t){return this.$outer.containsEntry_8hxqw4$(t)},zi.prototype.iterator=function(){return this.$outer.internalMap_uxhen5$_0.iterator()},zi.prototype.remove_11rb$=function(t){return!!this.contains_11rb$(t)&&(this.$outer.remove_11rb$(t.key),!0)},Object.defineProperty(zi.prototype,"size",{configurable:!0,get:function(){return this.$outer.size}}),zi.$metadata$={kind:_,simpleName:"EntrySet",interfaces:[pi]},wi.prototype.clear=function(){this.internalMap_uxhen5$_0.clear()},wi.prototype.containsKey_11rb$=function(t){return this.internalMap_uxhen5$_0.contains_11rb$(t)},wi.prototype.containsValue_11rc$=function(e){var n,i=this.internalMap_uxhen5$_0;t:do{var o;if(t.isType(i,Ot)&&i.isEmpty()){n=!1;break t}for(o=i.iterator();o.hasNext();){var r=o.next();if(this.equality_vgh6cm$_0.equals_oaftn8$(r.value,e)){n=!0;break t}}n=!1}while(0);return n},Object.defineProperty(wi.prototype,"entries",{configurable:!0,get:function(){return null==this._entries_7ih87x$_0&&(this._entries_7ih87x$_0=this.createEntrySet()),j(this._entries_7ih87x$_0)}}),wi.prototype.createEntrySet=function(){return new zi(this)},wi.prototype.get_11rb$=function(t){return this.internalMap_uxhen5$_0.get_11rb$(t)},wi.prototype.put_xwzc9p$=function(t,e){return this.internalMap_uxhen5$_0.put_xwzc9p$(t,e)},wi.prototype.remove_11rb$=function(t){return this.internalMap_uxhen5$_0.remove_11rb$(t)},Object.defineProperty(wi.prototype,"size",{configurable:!0,get:function(){return this.internalMap_uxhen5$_0.size}}),wi.$metadata$={kind:_,simpleName:"HashMap",interfaces:[ii,Ft]},ji.prototype.add_11rb$=function(t){return null==this.map_8be2vx$.put_xwzc9p$(t,this)},ji.prototype.clear=function(){this.map_8be2vx$.clear()},ji.prototype.contains_11rb$=function(t){return this.map_8be2vx$.containsKey_11rb$(t)},ji.prototype.isEmpty=function(){return this.map_8be2vx$.isEmpty()},ji.prototype.iterator=function(){return this.map_8be2vx$.keys.iterator()},ji.prototype.remove_11rb$=function(t){return null!=this.map_8be2vx$.remove_11rb$(t)},Object.defineProperty(ji.prototype,"size",{configurable:!0,get:function(){return this.map_8be2vx$.size}}),ji.$metadata$={kind:_,simpleName:"HashSet",interfaces:[pi,At]},Object.defineProperty(Oi.prototype,"equality",{get:function(){return this.equality_mamlu8$_0}}),Object.defineProperty(Oi.prototype,"size",{configurable:!0,get:function(){return this.size_x3bm7r$_0},set:function(t){this.size_x3bm7r$_0=t}}),Oi.prototype.put_xwzc9p$=function(e,n){var i=this.equality.getHashCode_s8jyv4$(e),o=this.getChainOrEntryOrNull_0(i);if(null==o)this.backingMap_0[i]=new oi(e,n);else{if(!t.isArray(o)){var r=o;return this.equality.equals_oaftn8$(r.key,e)?r.setValue_11rc$(n):(this.backingMap_0[i]=[r,new oi(e,n)],this.size=this.size+1|0,null)}var s=o,a=this.findEntryInChain_0(s,e);if(null!=a)return a.setValue_11rc$(n);s.push(new oi(e,n))}return this.size=this.size+1|0,null},Oi.prototype.remove_11rb$=function(e){var n,i=this.equality.getHashCode_s8jyv4$(e);if(null==(n=this.getChainOrEntryOrNull_0(i)))return null;var o=n;if(!t.isArray(o)){var r=o;return this.equality.equals_oaftn8$(r.key,e)?(delete this.backingMap_0[i],this.size=this.size-1|0,r.value):null}for(var s=o,a=0;a!==s.length;++a){var l=s[a];if(this.equality.equals_oaftn8$(e,l.key))return 1===s.length?(s.length=0,delete this.backingMap_0[i]):s.splice(a,1),this.size=this.size-1|0,l.value}return null},Oi.prototype.clear=function(){this.backingMap_0=this.createJsMap(),this.size=0},Oi.prototype.contains_11rb$=function(t){return null!=this.getEntry_0(t)},Oi.prototype.get_11rb$=function(t){var e;return null!=(e=this.getEntry_0(t))?e.value:null},Oi.prototype.getEntry_0=function(e){var n;if(null==(n=this.getChainOrEntryOrNull_0(this.equality.getHashCode_s8jyv4$(e))))return null;var i=n;if(t.isArray(i)){var o=i;return this.findEntryInChain_0(o,e)}var r=i;return this.equality.equals_oaftn8$(r.key,e)?r:null},Oi.prototype.findEntryInChain_0=function(t,e){var n;t:do{var i;for(i=0;i!==t.length;++i){var o=t[i];if(this.equality.equals_oaftn8$(o.key,e)){n=o;break t}}n=null}while(0);return n},Ei.prototype.computeNext_0=function(){if(null!=this.chainOrEntry&&this.isChain){var e=this.chainOrEntry.length;if(this.itemIndex=this.itemIndex+1|0,this.itemIndex<e)return 0}return this.keyIndex=this.keyIndex+1|0,this.keyIndex<this.keys.length?(this.chainOrEntry=this.this$InternalHashCodeMap.backingMap_0[this.keys[this.keyIndex]],this.isChain=t.isArray(this.chainOrEntry),this.itemIndex=0,0):(this.chainOrEntry=null,1)},Ei.prototype.hasNext=function(){return-1===this.state&&(this.state=this.computeNext_0()),0===this.state},Ei.prototype.next=function(){if(!this.hasNext())throw Nn();var t=this.isChain?this.chainOrEntry[this.itemIndex]:this.chainOrEntry;return this.lastEntry=t,this.state=-1,t},Ei.prototype.remove=function(){if(null==this.lastEntry)throw vn("Required value was null.".toString());this.this$InternalHashCodeMap.remove_11rb$(j(this.lastEntry).key),this.lastEntry=null,this.itemIndex=this.itemIndex-1|0},Ei.$metadata$={kind:_,interfaces:[Vt]},Oi.prototype.iterator=function(){return new Ei(this)},Oi.prototype.getChainOrEntryOrNull_0=function(t){var e=this.backingMap_0[t];return void 0===e?null:e},Oi.$metadata$={kind:_,simpleName:"InternalHashCodeMap",interfaces:[Mi]},Mi.prototype.createJsMap=function(){var t=Object.create(null);return t.foo=1,delete t.foo,t},Mi.$metadata$={kind:z,simpleName:"InternalMap",interfaces:[Tt]},Ai.prototype.setValue_11rc$=function(t){return this.$outer.checkIsMutable(),oi.prototype.setValue_11rc$.call(this,t)},Ai.$metadata$={kind:_,simpleName:"ChainEntry",interfaces:[oi]},Bi.prototype.hasNext=function(){return null!==this.next_0},Bi.prototype.next=function(){if(!this.hasNext())throw Nn();var t=j(this.next_0);this.last_0=t;var e=t.next_8be2vx$;return this.$outer.$outer,this.next_0=e!==this.$outer.$outer.head_1lr44l$_0?e:null,t},Bi.prototype.remove=function(){if(null==this.last_0)throw vn("Check failed.".toString());this.$outer.checkIsMutable(),this.$outer.$outer.remove_njjxy0$_0(j(this.last_0)),this.$outer.$outer.map_97q5dv$_0.remove_11rb$(j(this.last_0).key),this.last_0=null},Bi.$metadata$={kind:_,simpleName:"EntryIterator",interfaces:[Vt]},Di.prototype.add_11rb$=function(t){throw Cn("Add is not supported on entries")},Di.prototype.clear=function(){this.$outer.clear()},Di.prototype.contains_11rb$=function(t){return this.$outer.containsEntry_8hxqw4$(t)},Di.prototype.iterator=function(){return new Bi(this)},Di.prototype.remove_11rb$=function(t){return this.checkIsMutable(),!!this.contains_11rb$(t)&&(this.$outer.remove_11rb$(t.key),!0)},Object.defineProperty(Di.prototype,"size",{configurable:!0,get:function(){return this.$outer.size}}),Di.prototype.checkIsMutable=function(){this.$outer.checkIsMutable()},Di.$metadata$={kind:_,simpleName:"EntrySet",interfaces:[pi]},Ii.prototype.addToEnd_lfi3hf$_0=function(t){if(null!=t.next_8be2vx$||null!=t.prev_8be2vx$)throw vn("Check failed.".toString());var e=this.head_1lr44l$_0;if(null==e)this.head_1lr44l$_0=t,t.next_8be2vx$=t,t.prev_8be2vx$=t;else{var n=e.prev_8be2vx$;if(null==n)throw vn("Required value was null.".toString());var i=n;t.prev_8be2vx$=i,t.next_8be2vx$=e,e.prev_8be2vx$=t,i.next_8be2vx$=t}},Ii.prototype.remove_njjxy0$_0=function(t){t.next_8be2vx$===t?this.head_1lr44l$_0=null:(this.head_1lr44l$_0===t&&(this.head_1lr44l$_0=t.next_8be2vx$),j(t.next_8be2vx$).prev_8be2vx$=t.prev_8be2vx$,j(t.prev_8be2vx$).next_8be2vx$=t.next_8be2vx$),t.next_8be2vx$=null,t.prev_8be2vx$=null},Ii.prototype.build=function(){return this.checkIsMutable(),this.isReadOnly_uhyvn5$_0=!0,this},Ii.prototype.clear=function(){this.checkIsMutable(),this.map_97q5dv$_0.clear(),this.head_1lr44l$_0=null},Ii.prototype.containsKey_11rb$=function(t){return this.map_97q5dv$_0.containsKey_11rb$(t)},Ii.prototype.containsValue_11rc$=function(t){var e;if(null==(e=this.head_1lr44l$_0))return!1;var n=e;do{if(r(n.value,t))return!0;n=j(n.next_8be2vx$)}while(n!==this.head_1lr44l$_0);return!1},Ii.prototype.createEntrySet=function(){return new Di(this)},Ii.prototype.get_11rb$=function(t){var e;return null!=(e=this.map_97q5dv$_0.get_11rb$(t))?e.value:null},Ii.prototype.put_xwzc9p$=function(t,e){this.checkIsMutable();var n=this.map_97q5dv$_0.get_11rb$(t);if(null==n){var i=new Ai(this,t,e);return this.map_97q5dv$_0.put_xwzc9p$(t,i),this.addToEnd_lfi3hf$_0(i),null}return n.setValue_11rc$(e)},Ii.prototype.remove_11rb$=function(t){this.checkIsMutable();var e=this.map_97q5dv$_0.remove_11rb$(t);return null!=e?(this.remove_njjxy0$_0(e),e.value):null},Object.defineProperty(Ii.prototype,"size",{configurable:!0,get:function(){return this.map_97q5dv$_0.size}}),Ii.prototype.checkIsMutable=function(){if(this.isReadOnly_uhyvn5$_0)throw zn()},Ii.$metadata$={kind:_,simpleName:"LinkedHashMap",interfaces:[wi,Ft]},Vi.prototype.build=function(){var e;return(t.isType(e=this.map_8be2vx$,Ii)?e:no()).build(),this},Vi.prototype.checkIsMutable=function(){this.map_8be2vx$.checkIsMutable()},Vi.$metadata$={kind:_,simpleName:"LinkedHashSet",interfaces:[ji,At]},Ki.$metadata$={kind:z,simpleName:"RandomAccess",interfaces:[]},Yi.prototype.println=function(){this.print_s8jyv4$("\n")},Yi.prototype.println_s8jyv4$=function(t){this.print_s8jyv4$(t),this.println()},Yi.prototype.flush=function(){},Yi.$metadata$={kind:_,simpleName:"BaseOutput",interfaces:[]},Zi.prototype.print_s8jyv4$=function(t){var e=String(t);this.outputStream.write(e)},Zi.$metadata$={kind:_,simpleName:"NodeJsOutput",interfaces:[Yi]},Ji.prototype.print_s8jyv4$=function(t){this.buffer+=String(t)},Ji.prototype.flush=function(){this.buffer=""},Ji.$metadata$={kind:_,simpleName:"BufferedOutput",interfaces:[Yi]},Qi.prototype.print_s8jyv4$=function(t){var e=String(t),n=e.lastIndexOf("\n",0);n>=0&&(this.buffer=this.buffer+e.substring(0,n),this.flush(),e=e.substring(n+1|0)),this.buffer=this.buffer+e},Qi.prototype.flush=function(){console.log(this.buffer),this.buffer=""},Qi.$metadata$={kind:_,simpleName:"BufferedOutputToConsoleLog",interfaces:[Ji]},Object.defineProperty(to.prototype,"context",{configurable:!0,get:function(){return this.delegate_0.context}}),to.prototype.resumeWith_tl1gpc$=function(t){var e=this.result_0;if(e===_a())this.result_0=t.value;else{if(e!==la())throw vn("Already resumed");this.result_0=ha(),this.delegate_0.resumeWith_tl1gpc$(t)}},to.prototype.getOrThrow=function(){var e;if(this.result_0===_a())return this.result_0=la(),la();var n=this.result_0;if(n===ha())e=la();else{if(t.isType(n,Nl))throw n.exception;e=n}return e},to.$metadata$={kind:_,simpleName:"SafeContinuation",interfaces:[Bs]},Object.defineProperty(eo.prototype,"context",{configurable:!0,get:function(){return this.closure$context}}),eo.prototype.resumeWith_tl1gpc$=function(t){this.closure$resumeWith(t)},eo.$metadata$={kind:_,interfaces:[Bs]},oo.$metadata$={kind:z,simpleName:"Serializable",interfaces:[]},ho.$metadata$={kind:z,simpleName:"KCallable",interfaces:[]},fo.$metadata$={kind:z,simpleName:"KClass",interfaces:[ja]},Object.defineProperty(mo.prototype,"jClass",{get:function(){return this.jClass_1ppatx$_0}}),Object.defineProperty(mo.prototype,"qualifiedName",{configurable:!0,get:function(){throw new Ol}}),mo.prototype.equals=function(e){return t.isType(e,mo)&&r(this.jClass,e.jClass)},mo.prototype.hashCode=function(){var t,e;return null!=(e=null!=(t=this.simpleName)?E(t):null)?e:0},mo.prototype.toString=function(){return"class "+x(this.simpleName)},mo.$metadata$={kind:_,simpleName:"KClassImpl",interfaces:[fo]},Object.defineProperty(yo.prototype,"simpleName",{configurable:!0,get:function(){return this.simpleName_m7mxi0$_0}}),yo.prototype.isInstance_s8jyv4$=function(e){var n=this.jClass;return t.isType(e,n)},yo.$metadata$={kind:_,simpleName:"SimpleKClassImpl",interfaces:[mo]},$o.prototype.equals=function(e){return!!t.isType(e,$o)&&mo.prototype.equals.call(this,e)&&r(this.givenSimpleName_0,e.givenSimpleName_0)},Object.defineProperty($o.prototype,"simpleName",{configurable:!0,get:function(){return this.givenSimpleName_0}}),$o.prototype.isInstance_s8jyv4$=function(t){return this.isInstanceFunction_0(t)},$o.$metadata$={kind:_,simpleName:"PrimitiveKClassImpl",interfaces:[mo]},Object.defineProperty(bo.prototype,"simpleName",{configurable:!0,get:function(){return this.simpleName_lnzy73$_0}}),bo.prototype.isInstance_s8jyv4$=function(t){return!1},Object.defineProperty(bo.prototype,"jClass",{configurable:!0,get:function(){throw Cn("There's no native JS class for Nothing type")}}),bo.prototype.equals=function(t){return t===this},bo.prototype.hashCode=function(){return 0},bo.$metadata$={kind:C,simpleName:"NothingKClassImpl",interfaces:[mo]};var go=null;function vo(){return null===go&&new bo,go}function xo(){}function wo(){}function zo(){}function Co(){}function So(){}function ko(){}function Lo(){}function jo(){}function No(t,e,n){this.classifier_50lv52$_0=t,this.arguments_lev63t$_0=e,this.isMarkedNullable_748rxs$_0=n}function Po(e){switch(e.name){case"INVARIANT":return"";case"IN":return"in ";case"OUT":return"out ";default:return t.noWhenBranchMatched()}}function To(){tr=this,this.anyClass=new $o(Object,"Any",Oo),this.numberClass=new $o(Number,"Number",Eo),this.nothingClass=vo(),this.booleanClass=new $o(Boolean,"Boolean",Mo),this.byteClass=new $o(Number,"Byte",Ro),this.shortClass=new $o(Number,"Short",Io),this.intClass=new $o(Number,"Int",Ao),this.floatClass=new $o(Number,"Float",Do),this.doubleClass=new $o(Number,"Double",Bo),this.arrayClass=new $o(Array,"Array",Fo),this.stringClass=new $o(String,"String",qo),this.throwableClass=new $o(Error,"Throwable",Uo),this.booleanArrayClass=new $o(Array,"BooleanArray",Vo),this.charArrayClass=new $o(Uint16Array,"CharArray",Wo),this.byteArrayClass=new $o(Int8Array,"ByteArray",Go),this.shortArrayClass=new $o(Int16Array,"ShortArray",Ho),this.intArrayClass=new $o(Int32Array,"IntArray",Xo),this.longArrayClass=new $o(Array,"LongArray",Ko),this.floatArrayClass=new $o(Float32Array,"FloatArray",Yo),this.doubleArrayClass=new $o(Float64Array,"DoubleArray",Zo)}function Oo(e){return t.isType(e,N)}function Eo(e){return t.isNumber(e)}function Mo(t){return"boolean"==typeof t}function Ro(t){return"number"==typeof t}function Io(t){return"number"==typeof t}function Ao(t){return"number"==typeof t}function Do(t){return"number"==typeof t}function Bo(t){return"number"==typeof t}function Fo(e){return t.isArray(e)}function qo(t){return"string"==typeof t}function Uo(e){return t.isType(e,T)}function Vo(e){return t.isBooleanArray(e)}function Wo(e){return t.isCharArray(e)}function Go(e){return t.isByteArray(e)}function Ho(e){return t.isShortArray(e)}function Xo(e){return t.isIntArray(e)}function Ko(e){return t.isLongArray(e)}function Yo(e){return t.isFloatArray(e)}function Zo(e){return t.isDoubleArray(e)}Object.defineProperty(xo.prototype,"simpleName",{configurable:!0,get:function(){throw vn("Unknown simpleName for ErrorKClass".toString())}}),Object.defineProperty(xo.prototype,"qualifiedName",{configurable:!0,get:function(){throw vn("Unknown qualifiedName for ErrorKClass".toString())}}),xo.prototype.isInstance_s8jyv4$=function(t){throw vn("Can's check isInstance on ErrorKClass".toString())},xo.prototype.equals=function(t){return t===this},xo.prototype.hashCode=function(){return 0},xo.$metadata$={kind:_,simpleName:"ErrorKClass",interfaces:[fo]},wo.$metadata$={kind:z,simpleName:"KProperty",interfaces:[ho]},zo.$metadata$={kind:z,simpleName:"KMutableProperty",interfaces:[wo]},Co.$metadata$={kind:z,simpleName:"KProperty0",interfaces:[wo]},So.$metadata$={kind:z,simpleName:"KMutableProperty0",interfaces:[zo,Co]},ko.$metadata$={kind:z,simpleName:"KProperty1",interfaces:[wo]},Lo.$metadata$={kind:z,simpleName:"KMutableProperty1",interfaces:[zo,ko]},jo.$metadata$={kind:z,simpleName:"KType",interfaces:[]},Object.defineProperty(No.prototype,"classifier",{get:function(){return this.classifier_50lv52$_0}}),Object.defineProperty(No.prototype,"arguments",{get:function(){return this.arguments_lev63t$_0}}),Object.defineProperty(No.prototype,"isMarkedNullable",{get:function(){return this.isMarkedNullable_748rxs$_0}}),No.prototype.equals=function(e){return t.isType(e,No)&&r(this.classifier,e.classifier)&&r(this.arguments,e.arguments)&&this.isMarkedNullable===e.isMarkedNullable},No.prototype.hashCode=function(){return(31*((31*E(this.classifier)|0)+E(this.arguments)|0)|0)+E(this.isMarkedNullable)|0},No.prototype.toString=function(){var e,n,i=t.isType(e=this.classifier,fo)?e:null;return(null==i?this.classifier.toString():null!=i.simpleName?i.simpleName:"(non-denotable type)")+(this.arguments.isEmpty()?"":ft(this.arguments,", ","<",">",void 0,void 0,(n=this,function(t){return n.asString_0(t)})))+(this.isMarkedNullable?"?":"")},No.prototype.asString_0=function(t){return null==t.variance?"*":Po(t.variance)+x(t.type)},No.$metadata$={kind:_,simpleName:"KTypeImpl",interfaces:[jo]},To.prototype.functionClass=function(t){var e,n,i;if(null!=(e=Jo[t]))n=e;else{var o=new $o(Function,"Function"+t,(i=t,function(t){return"function"==typeof t&&t.length===i}));Jo[t]=o,n=o}return n},To.$metadata$={kind:C,simpleName:"PrimitiveClasses",interfaces:[]};var Jo,Qo,tr=null;function er(){return null===tr&&new To,tr}function nr(t){return Array.isArray(t)?ir(t):or(t)}function ir(t){switch(t.length){case 1:return or(t[0]);case 0:return vo();default:return new xo}}function or(t){var e;if(t===String)return er().stringClass;var n=t.$metadata$;if(null!=n)if(null==n.$kClass$){var i=new yo(t);n.$kClass$=i,e=i}else e=n.$kClass$;else e=new yo(t);return e}function rr(){}function sr(t){fn(t,this),this.name="CharacterCodingException"}function ar(t){this.string_0=void 0!==t?t:""}function lr(t,e){return pr(e=e||Object.create(ar.prototype)),e}function pr(t){return t=t||Object.create(ar.prototype),ar.call(t,""),t}function ur(t){return br(String.fromCharCode(t),"[\\s\\xA0]")}function cr(t){return new ye(I.MIN_HIGH_SURROGATE,I.MAX_HIGH_SURROGATE).contains_mef7kx$(t)}function _r(t){return new ye(I.MIN_LOW_SURROGATE,I.MAX_LOW_SURROGATE).contains_mef7kx$(t)}function hr(t){switch(t.toLowerCase()){case"nan":case"+nan":case"-nan":return!0;default:return!1}}function dr(t){if(!(2<=t&&t<=36))throw bn("radix "+t+" was not in valid range 2..36");return t}function fr(t,e){var n;return(n=t>=48&&t<=57?t-48:t>=65&&t<=90?t-65+10|0:t>=97&&t<=122?t-97+10|0:-1)>=e?-1:n}function mr(t){var e,n="";for(e=0;e!==t.length;++e){var i=a(t[e]);n+=String.fromCharCode(i)}return n}function yr(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),Pr().checkBoundsIndexes_cub51b$(e,n,t.length);for(var i="",o=e;o<n;o++)i+=String.fromCharCode(t[o]);return i}function $r(e,n,i){if(void 0===i&&(i=!1),i){var o=e.length,s=n.length,a=c.min(o,s);if(0===a)return o-s|0;for(var l=0;;){var p=c.min(l+16|0,a),u=e.substring(l,p),_=n.substring(l,p);if(!r(u,_)&&(u=u.toUpperCase(),_=_.toUpperCase(),!r(u,_)&&(u=u.toLowerCase(),_=_.toLowerCase(),!r(u,_))))return t.compareTo(u,_);if(p===a)break;l=p}return o-s|0}return t.compareTo(e,n)}function br(t,e){var n=t.match(e);return null!=n&&0!==n.length}function gr(t){return 0===t.length||br("string"==typeof t?t:t.toString(),"^[\\s\\xA0]+$")}function vr(t,e,n,i,o,r){return void 0===r&&(r=!1),sl(t,e,n,i,o,r)}function xr(t,e,n){if(n)throw new sr("Malformed sequence starting at "+(e-1|0));return 0|-t}function wr(t,e,n,i,o){if(0==(30&e)||n>=i)return xr(0,n,o);var r=t[n];return 128!=(192&r)?xr(0,n,o):e<<6^r^3968}function zr(t,e,n,i,o){if(n>=i)return xr(0,n,o);var r=t[n];if(0==(15&e)){if(160!=(224&r))return xr(0,n,o)}else if(13==(15&e)){if(128!=(224&r))return xr(0,n,o)}else if(128!=(192&r))return xr(0,n,o);if((n+1|0)===i)return xr(1,n,o);var s=t[n+1|0];return 128!=(192&s)?xr(1,n,o):e<<12^r<<6^s^-123008}function Cr(t,e,n,i,o){n>=i&&xr(0,n,o);var r=t[n];if(0==(15&e)){if((240&r)<=128)return xr(0,n,o)}else if(4==(15&e)){if(128!=(240&r))return xr(0,n,o)}else{if((15&e)>4)return xr(0,n,o);if(128!=(192&r))return xr(0,n,o)}if((n+1|0)===i)return xr(1,n,o);var s=t[n+1|0];if(128!=(192&s))return xr(1,n,o);if((n+2|0)===i)return xr(2,n,o);var a=t[n+2|0];return 128!=(192&a)?xr(2,n,o):e<<18^r<<12^s<<6^a^3678080}function Sr(t,e,n,i){var o;if(!(e>=0&&n<=t.length&&e<=n))throw bn("Failed requirement.".toString());for(var r=e,s=pr();r<n;){var a=t[(o=r,r=o+1|0,o)];if(a>=0)s.append_s8itvh$(h(a));else if(a>>5==-2){var l=wr(t,a,r,n,i);l<=0?(s.append_s8itvh$(Qo),r=r+(0|-l)|0):(s.append_s8itvh$(h(l)),r=r+1|0)}else if(a>>4==-2){var p=zr(t,a,r,n,i);p<=0?(s.append_s8itvh$(Qo),r=r+(0|-p)|0):(s.append_s8itvh$(h(p)),r=r+2|0)}else if(a>>3==-2){var u=Cr(t,a,r,n,i);if(u<=0)s.append_s8itvh$(Qo),r=r+(0|-u)|0;else{var c=u-65536>>10|55296,_=1023&u|56320;s.append_s8itvh$(h(c)),s.append_s8itvh$(h(_)),r=r+3|0}}else xr(0,r,i),s.append_s8itvh$(Qo)}return s.toString()}function kr(){}function Lr(){Pr(),kr.call(this)}function jr(){Nr=this}rr.$metadata$={kind:z,simpleName:"Appendable",interfaces:[]},sr.$metadata$={kind:_,simpleName:"CharacterCodingException",interfaces:[dn]},Object.defineProperty(ar.prototype,"length",{configurable:!0,get:function(){return this.string_0.length}}),ar.prototype.charCodeAt=function(t){var e=this.string_0;if(!(t>=0&&t<=ol(e)))throw new xn("index: "+t+", length: "+this.length+"}");return e.charCodeAt(t)},ar.prototype.subSequence_vux9f0$=function(t,e){return this.string_0.substring(t,e)},ar.prototype.append_s8itvh$=function(t){return this.string_0+=String.fromCharCode(t),this},ar.prototype.append_gw00v9$=function(t){return this.string_0+=x(t),this},ar.prototype.append_ezbsdh$=function(t,e,n){return this.appendRange_3peag4$(null!=t?t:"null",e,n)},ar.prototype.reverse=function(){for(var t,e,n="",i=this.string_0.length-1|0;i>=0;){var o=this.string_0.charCodeAt((i=(t=i)-1|0,t));if(_r(o)&&i>=0){var r=this.string_0.charCodeAt((i=(e=i)-1|0,e));n=cr(r)?n+String.fromCharCode(s(r))+String.fromCharCode(s(o)):n+String.fromCharCode(s(o))+String.fromCharCode(s(r))}else n+=String.fromCharCode(o)}return this.string_0=n,this},ar.prototype.append_s8jyv4$=function(t){return this.string_0+=x(t),this},ar.prototype.append_6taknv$=function(t){return this.string_0+=t,this},ar.prototype.append_4hbowm$=function(t){return this.string_0+=mr(t),this},ar.prototype.append_61zpoe$=function(t){return this.append_pdl1vj$(t)},ar.prototype.append_pdl1vj$=function(t){return this.string_0=this.string_0+(null!=t?t:"null"),this},ar.prototype.capacity=function(){return this.length},ar.prototype.ensureCapacity_za3lpa$=function(t){},ar.prototype.indexOf_61zpoe$=function(t){return this.string_0.indexOf(t)},ar.prototype.indexOf_bm4lxs$=function(t,e){return this.string_0.indexOf(t,e)},ar.prototype.lastIndexOf_61zpoe$=function(t){return this.string_0.lastIndexOf(t)},ar.prototype.lastIndexOf_bm4lxs$=function(t,e){return 0===t.length&&e<0?-1:this.string_0.lastIndexOf(t,e)},ar.prototype.insert_fzusl$=function(t,e){return Pr().checkPositionIndex_6xvm5r$(t,this.length),this.string_0=this.string_0.substring(0,t)+x(e)+this.string_0.substring(t),this},ar.prototype.insert_6t1mh3$=function(t,e){return Pr().checkPositionIndex_6xvm5r$(t,this.length),this.string_0=this.string_0.substring(0,t)+String.fromCharCode(s(e))+this.string_0.substring(t),this},ar.prototype.insert_7u455s$=function(t,e){return Pr().checkPositionIndex_6xvm5r$(t,this.length),this.string_0=this.string_0.substring(0,t)+mr(e)+this.string_0.substring(t),this},ar.prototype.insert_1u9bqd$=function(t,e){return Pr().checkPositionIndex_6xvm5r$(t,this.length),this.string_0=this.string_0.substring(0,t)+x(e)+this.string_0.substring(t),this},ar.prototype.insert_6t2rgq$=function(t,e){return Pr().checkPositionIndex_6xvm5r$(t,this.length),this.string_0=this.string_0.substring(0,t)+x(e)+this.string_0.substring(t),this},ar.prototype.insert_19mbxw$=function(t,e){return this.insert_vqvrqt$(t,e)},ar.prototype.insert_vqvrqt$=function(t,e){Pr().checkPositionIndex_6xvm5r$(t,this.length);var n=null!=e?e:"null";return this.string_0=this.string_0.substring(0,t)+n+this.string_0.substring(t),this},ar.prototype.setLength_za3lpa$=function(t){if(t<0)throw bn("Negative new length: "+t+".");if(t<=this.length)this.string_0=this.string_0.substring(0,t);else for(var e=this.length;e<t;e++)this.string_0+=String.fromCharCode(0)},ar.prototype.substring_za3lpa$=function(t){return Pr().checkPositionIndex_6xvm5r$(t,this.length),this.string_0.substring(t)},ar.prototype.substring_vux9f0$=function(t,e){return Pr().checkBoundsIndexes_cub51b$(t,e,this.length),this.string_0.substring(t,e)},ar.prototype.trimToSize=function(){},ar.prototype.toString=function(){return this.string_0},ar.prototype.clear=function(){return this.string_0="",this},ar.prototype.set_6t1mh3$=function(t,e){Pr().checkElementIndex_6xvm5r$(t,this.length),this.string_0=this.string_0.substring(0,t)+String.fromCharCode(s(e))+this.string_0.substring(t+1|0)},ar.prototype.setRange_98i29q$=function(t,e,n){return this.checkReplaceRange_0(t,e,this.length),this.string_0=this.string_0.substring(0,t)+n+this.string_0.substring(e),this},ar.prototype.checkReplaceRange_0=function(t,e,n){if(t<0||t>n)throw new xn("startIndex: "+t+", length: "+n);if(t>e)throw bn("startIndex("+t+") > endIndex("+e+")")},ar.prototype.deleteAt_za3lpa$=function(t){return Pr().checkElementIndex_6xvm5r$(t,this.length),this.string_0=this.string_0.substring(0,t)+this.string_0.substring(t+1|0),this},ar.prototype.deleteRange_vux9f0$=function(t,e){return this.checkReplaceRange_0(t,e,this.length),this.string_0=this.string_0.substring(0,t)+this.string_0.substring(e),this},ar.prototype.toCharArray_pqkatk$=function(t,e,n,i){var o;void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=this.length),Pr().checkBoundsIndexes_cub51b$(n,i,this.length),Pr().checkBoundsIndexes_cub51b$(e,e+i-n|0,t.length);for(var r=e,s=n;s<i;s++)t[(o=r,r=o+1|0,o)]=this.string_0.charCodeAt(s)},ar.prototype.appendRange_8chfmy$=function(t,e,n){return this.string_0+=yr(t,e,n),this},ar.prototype.appendRange_3peag4$=function(t,e,n){var i=t.toString();return Pr().checkBoundsIndexes_cub51b$(e,n,i.length),this.string_0+=i.substring(e,n),this},ar.prototype.insertRange_ar8yzk$=function(t,e,n,i){return Pr().checkPositionIndex_6xvm5r$(t,this.length),this.string_0=this.string_0.substring(0,t)+yr(e,n,i)+this.string_0.substring(t),this},ar.prototype.insertRange_mnv9ne$=function(t,e,n,i){Pr().checkPositionIndex_6xvm5r$(t,this.length);var o=e.toString();return Pr().checkBoundsIndexes_cub51b$(n,i,o.length),this.string_0=this.string_0.substring(0,t)+o.substring(n,i)+this.string_0.substring(t),this},ar.$metadata$={kind:_,simpleName:"StringBuilder",interfaces:[Nt,rr]},kr.prototype.contains_11rb$=function(e){var n;t:do{var i;if(t.isType(this,Ot)&&this.isEmpty()){n=!1;break t}for(i=this.iterator();i.hasNext();){var o=i.next();if(r(o,e)){n=!0;break t}}n=!1}while(0);return n},kr.prototype.containsAll_brywnq$=function(e){var n;t:do{var i;if(t.isType(e,Ot)&&e.isEmpty()){n=!0;break t}for(i=e.iterator();i.hasNext();){var o=i.next();if(!this.contains_11rb$(o)){n=!1;break t}}n=!0}while(0);return n},kr.prototype.isEmpty=function(){return 0===this.size},kr.prototype.toString=function(){return ft(this,", ","[","]",void 0,void 0,(t=this,function(e){return e===t?"(this Collection)":x(e)}));var t},kr.prototype.toArray=function(){return Vn(this)},kr.prototype.toArray_ro6dgy$=function(t){return Wn(this,t)},kr.$metadata$={kind:_,simpleName:"AbstractCollection",interfaces:[Ot]},jr.prototype.checkElementIndex_6xvm5r$=function(t,e){if(t<0||t>=e)throw new xn("index: "+t+", size: "+e)},jr.prototype.checkPositionIndex_6xvm5r$=function(t,e){if(t<0||t>e)throw new xn("index: "+t+", size: "+e)},jr.prototype.checkRangeIndexes_cub51b$=function(t,e,n){if(t<0||e>n)throw new xn("fromIndex: "+t+", toIndex: "+e+", size: "+n);if(t>e)throw bn("fromIndex: "+t+" > toIndex: "+e)},jr.prototype.checkBoundsIndexes_cub51b$=function(t,e,n){if(t<0||e>n)throw new xn("startIndex: "+t+", endIndex: "+e+", size: "+n);if(t>e)throw bn("startIndex: "+t+" > endIndex: "+e)},jr.prototype.orderedHashCode_nykoif$=function(t){var e,n,i=1;for(e=t.iterator();e.hasNext();){var o=e.next();i=(31*i|0)+(null!=(n=null!=o?E(o):null)?n:0)|0}return i},jr.prototype.orderedEquals_e92ka7$=function(t,e){var n;if(t.size!==e.size)return!1;var i=e.iterator();for(n=t.iterator();n.hasNext();){var o=n.next(),s=i.next();if(!r(o,s))return!1}return!0},jr.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var Nr=null;function Pr(){return null===Nr&&new jr,Nr}function Tr(){Dr(),this._keys_up5z3z$_0=null,this._values_6nw1f1$_0=null}function Or(t){this.this$AbstractMap=t,Br.call(this)}function Er(t){this.closure$entryIterator=t}function Mr(t){this.this$AbstractMap=t,kr.call(this)}function Rr(t){this.closure$entryIterator=t}function Ir(){Ar=this}Tr.prototype.containsKey_11rb$=function(t){return null!=this.implFindEntry_8k1i24$_0(t)},Tr.prototype.containsValue_11rc$=function(e){var n,i=this.entries;t:do{var o;if(t.isType(i,Ot)&&i.isEmpty()){n=!1;break t}for(o=i.iterator();o.hasNext();){var s=o.next();if(r(s.value,e)){n=!0;break t}}n=!1}while(0);return n},Tr.prototype.containsEntry_8hxqw4$=function(e){if(!t.isType(e,Bt))return!1;var n=e.key,i=e.value,o=(t.isType(this,Dt)?this:P()).get_11rb$(n);if(!r(i,o))return!1;var s=null==o;return s&&(s=!(t.isType(this,Dt)?this:P()).containsKey_11rb$(n)),!s},Tr.prototype.equals=function(e){if(e===this)return!0;if(!t.isType(e,Dt))return!1;if(this.size!==e.size)return!1;var n,i=e.entries;t:do{var o;if(t.isType(i,Ot)&&i.isEmpty()){n=!0;break t}for(o=i.iterator();o.hasNext();){var r=o.next();if(!this.containsEntry_8hxqw4$(r)){n=!1;break t}}n=!0}while(0);return n},Tr.prototype.get_11rb$=function(t){var e;return null!=(e=this.implFindEntry_8k1i24$_0(t))?e.value:null},Tr.prototype.hashCode=function(){return E(this.entries)},Tr.prototype.isEmpty=function(){return 0===this.size},Object.defineProperty(Tr.prototype,"size",{configurable:!0,get:function(){return this.entries.size}}),Or.prototype.contains_11rb$=function(t){return this.this$AbstractMap.containsKey_11rb$(t)},Er.prototype.hasNext=function(){return this.closure$entryIterator.hasNext()},Er.prototype.next=function(){return this.closure$entryIterator.next().key},Er.$metadata$={kind:_,interfaces:[Ut]},Or.prototype.iterator=function(){return new Er(this.this$AbstractMap.entries.iterator())},Object.defineProperty(Or.prototype,"size",{configurable:!0,get:function(){return this.this$AbstractMap.size}}),Or.$metadata$={kind:_,interfaces:[Br]},Object.defineProperty(Tr.prototype,"keys",{configurable:!0,get:function(){return null==this._keys_up5z3z$_0&&(this._keys_up5z3z$_0=new Or(this)),j(this._keys_up5z3z$_0)}}),Tr.prototype.toString=function(){return ft(this.entries,", ","{","}",void 0,void 0,(t=this,function(e){return t.toString_55he67$_0(e)}));var t},Tr.prototype.toString_55he67$_0=function(t){return this.toString_kthv8s$_0(t.key)+"="+this.toString_kthv8s$_0(t.value)},Tr.prototype.toString_kthv8s$_0=function(t){return t===this?"(this Map)":x(t)},Mr.prototype.contains_11rb$=function(t){return this.this$AbstractMap.containsValue_11rc$(t)},Rr.prototype.hasNext=function(){return this.closure$entryIterator.hasNext()},Rr.prototype.next=function(){return this.closure$entryIterator.next().value},Rr.$metadata$={kind:_,interfaces:[Ut]},Mr.prototype.iterator=function(){return new Rr(this.this$AbstractMap.entries.iterator())},Object.defineProperty(Mr.prototype,"size",{configurable:!0,get:function(){return this.this$AbstractMap.size}}),Mr.$metadata$={kind:_,interfaces:[kr]},Object.defineProperty(Tr.prototype,"values",{configurable:!0,get:function(){return null==this._values_6nw1f1$_0&&(this._values_6nw1f1$_0=new Mr(this)),j(this._values_6nw1f1$_0)}}),Tr.prototype.implFindEntry_8k1i24$_0=function(t){var e,n=this.entries;t:do{var i;for(i=n.iterator();i.hasNext();){var o=i.next();if(r(o.key,t)){e=o;break t}}e=null}while(0);return e},Ir.prototype.entryHashCode_9fthdn$=function(t){var e,n,i,o;return(null!=(n=null!=(e=t.key)?E(e):null)?n:0)^(null!=(o=null!=(i=t.value)?E(i):null)?o:0)},Ir.prototype.entryToString_9fthdn$=function(t){return x(t.key)+"="+x(t.value)},Ir.prototype.entryEquals_js7fox$=function(e,n){return!!t.isType(n,Bt)&&r(e.key,n.key)&&r(e.value,n.value)},Ir.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var Ar=null;function Dr(){return null===Ar&&new Ir,Ar}function Br(){Ur(),kr.call(this)}function Fr(){qr=this}Tr.$metadata$={kind:_,simpleName:"AbstractMap",interfaces:[Dt]},Br.prototype.equals=function(e){return e===this||!!t.isType(e,It)&&Ur().setEquals_y8f7en$(this,e)},Br.prototype.hashCode=function(){return Ur().unorderedHashCode_nykoif$(this)},Fr.prototype.unorderedHashCode_nykoif$=function(t){var e,n=0;for(e=t.iterator();e.hasNext();){var i,o=e.next();n=n+(null!=(i=null!=o?E(o):null)?i:0)|0}return n},Fr.prototype.setEquals_y8f7en$=function(t,e){return t.size===e.size&&t.containsAll_brywnq$(e)},Fr.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var qr=null;function Ur(){return null===qr&&new Fr,qr}function Vr(){Wr=this}Br.$metadata$={kind:_,simpleName:"AbstractSet",interfaces:[It,kr]},Vr.prototype.hasNext=function(){return!1},Vr.prototype.hasPrevious=function(){return!1},Vr.prototype.nextIndex=function(){return 0},Vr.prototype.previousIndex=function(){return-1},Vr.prototype.next=function(){throw Nn()},Vr.prototype.previous=function(){throw Nn()},Vr.$metadata$={kind:C,simpleName:"EmptyIterator",interfaces:[Wt]};var Wr=null;function Gr(){return null===Wr&&new Vr,Wr}function Hr(){Xr=this,this.serialVersionUID_0=A}Hr.prototype.equals=function(e){return t.isType(e,Mt)&&e.isEmpty()},Hr.prototype.hashCode=function(){return 1},Hr.prototype.toString=function(){return"[]"},Object.defineProperty(Hr.prototype,"size",{configurable:!0,get:function(){return 0}}),Hr.prototype.isEmpty=function(){return!0},Hr.prototype.contains_11rb$=function(t){return!1},Hr.prototype.containsAll_brywnq$=function(t){return t.isEmpty()},Hr.prototype.get_za3lpa$=function(t){throw new xn("Empty list doesn't contain element at index "+t+".")},Hr.prototype.indexOf_11rb$=function(t){return-1},Hr.prototype.lastIndexOf_11rb$=function(t){return-1},Hr.prototype.iterator=function(){return Gr()},Hr.prototype.listIterator=function(){return Gr()},Hr.prototype.listIterator_za3lpa$=function(t){if(0!==t)throw new xn("Index: "+t);return Gr()},Hr.prototype.subList_vux9f0$=function(t,e){if(0===t&&0===e)return this;throw new xn("fromIndex: "+t+", toIndex: "+e)},Hr.prototype.readResolve_0=function(){return Kr()},Hr.$metadata$={kind:C,simpleName:"EmptyList",interfaces:[Ki,oo,Mt]};var Xr=null;function Kr(){return null===Xr&&new Hr,Xr}function Yr(t){return new Zr(t,!1)}function Zr(t,e){this.values=t,this.isVarargs=e}function Jr(){return Kr()}function Qr(t){return 0===t.length?ci():hi(new Zr(t,!0))}function ts(t){return 0===t.length?ci():hi(new Zr(t,!0))}function es(t){return t.size-1|0}function ns(t){switch(t.size){case 0:return Jr();case 1:return Gn(t.get_za3lpa$(0));default:return t}}function is(){throw new Pn("Index overflow has happened.")}function os(){}function rs(t,e){this.index=t,this.value=e}function ss(t){this.iteratorFactory_0=t}function as(e,n){return t.isType(e,Ot)?e.size:n}function ls(t){this.iterator_0=t,this.index_0=0}function ps(e,n){if(t.isType(e,us))return e.getOrImplicitDefault_11rb$(n);var i,o=e.get_11rb$(n);if(null==o&&!e.containsKey_11rb$(n))throw new jn("Key "+n+" is missing in the map.");return null==(i=o)||t.isType(i,N)?i:P()}function us(){}function cs(){}function _s(t,e){this.map_a09uzx$_0=t,this.default_0=e}function hs(){ds=this,this.serialVersionUID_0=D}Object.defineProperty(Zr.prototype,"size",{configurable:!0,get:function(){return this.values.length}}),Zr.prototype.isEmpty=function(){return 0===this.values.length},Zr.prototype.contains_11rb$=function(t){return V(this.values,t)},Zr.prototype.containsAll_brywnq$=function(e){var n;t:do{var i;if(t.isType(e,Ot)&&e.isEmpty()){n=!0;break t}for(i=e.iterator();i.hasNext();){var o=i.next();if(!this.contains_11rb$(o)){n=!1;break t}}n=!0}while(0);return n},Zr.prototype.iterator=function(){return t.arrayIterator(this.values)},Zr.prototype.toArray=function(){var t=this.values;return this.isVarargs?t:t.slice()},Zr.$metadata$={kind:_,simpleName:"ArrayAsCollection",interfaces:[Ot]},os.$metadata$={kind:z,simpleName:"Grouping",interfaces:[]},rs.$metadata$={kind:_,simpleName:"IndexedValue",interfaces:[]},rs.prototype.component1=function(){return this.index},rs.prototype.component2=function(){return this.value},rs.prototype.copy_wxm5ur$=function(t,e){return new rs(void 0===t?this.index:t,void 0===e?this.value:e)},rs.prototype.toString=function(){return"IndexedValue(index="+t.toString(this.index)+", value="+t.toString(this.value)+")"},rs.prototype.hashCode=function(){var e=0;return e=31*(e=31*e+t.hashCode(this.index)|0)+t.hashCode(this.value)|0},rs.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&t.equals(this.index,e.index)&&t.equals(this.value,e.value)},ss.prototype.iterator=function(){return new ls(this.iteratorFactory_0())},ss.$metadata$={kind:_,simpleName:"IndexingIterable",interfaces:[Pt]},ls.prototype.hasNext=function(){return this.iterator_0.hasNext()},ls.prototype.next=function(){var t;return new rs(Yn((t=this.index_0,this.index_0=t+1|0,t)),this.iterator_0.next())},ls.$metadata$={kind:_,simpleName:"IndexingIterator",interfaces:[Ut]},us.$metadata$={kind:z,simpleName:"MapWithDefault",interfaces:[Dt]},hs.prototype.equals=function(e){return t.isType(e,Dt)&&e.isEmpty()},hs.prototype.hashCode=function(){return 0},hs.prototype.toString=function(){return"{}"},Object.defineProperty(hs.prototype,"size",{configurable:!0,get:function(){return 0}}),hs.prototype.isEmpty=function(){return!0},hs.prototype.containsKey_11rb$=function(t){return!1},hs.prototype.containsValue_11rc$=function(t){return!1},hs.prototype.get_11rb$=function(t){return null},Object.defineProperty(hs.prototype,"entries",{configurable:!0,get:function(){return Is()}}),Object.defineProperty(hs.prototype,"keys",{configurable:!0,get:function(){return Is()}}),Object.defineProperty(hs.prototype,"values",{configurable:!0,get:function(){return Kr()}}),hs.prototype.readResolve_0=function(){return fs()},hs.$metadata$={kind:C,simpleName:"EmptyMap",interfaces:[oo,Dt]};var ds=null;function fs(){return null===ds&&new hs,ds}function ms(){var e;return t.isType(e=fs(),Dt)?e:no()}function ys(t){var e=Li(t.length);return $s(e,t),e}function $s(t,e){var n;for(n=0;n!==e.length;++n){var i=e[n],o=i.component1(),r=i.component2();t.put_xwzc9p$(o,r)}}function bs(t,e){var n;for(n=e.iterator();n.hasNext();){var i=n.next(),o=i.component1(),r=i.component2();t.put_xwzc9p$(o,r)}}function gs(t,e){return bs(e,t),e}function vs(t,e){return $s(e,t),e}function xs(t){switch(t.size){case 0:return ms();case 1:default:return t}}function ws(t,e){return zs(t,e,!0)}function zs(t,e,n){for(var i={v:!1},o=t.iterator();o.hasNext();)e(o.next())===n&&(o.remove(),i.v=!0);return i.v}function Cs(e,n){return function(e,n,i){var o,r,s,a;if(!t.isType(e,Ki))return zs(t.isType(o=e,Tt)?o:no(),n,i);var l=0;r=es(e);for(var p=0;p<=r;p++){var u=e.get_za3lpa$(p);n(u)!==i&&(l!==p&&e.set_wxm5ur$(l,u),l=l+1|0)}if(l<e.size){s=es(e),a=l;for(var c=s;c>=a;c--)e.removeAt_za3lpa$(c);return!0}return!1}(e,n,!0)}function Ss(){}function ks(t){this.closure$iterator=t}function Ls(t){var e=new Ns;return e.nextStep=un(t,e,e),e}function js(){}function Ns(){js.call(this),this.state_0=0,this.nextValue_0=null,this.nextIterator_0=null,this.nextStep=null}function Ps(t,e){this.sequence_0=t,this.transformer_0=e}function Ts(t){this.this$TransformingSequence=t,this.iterator=t.sequence_0.iterator()}function Os(t,e,n){this.sequence_0=t,this.transformer_0=e,this.iterator_0=n}function Es(t){this.this$FlatteningSequence=t,this.iterator=t.sequence_0.iterator(),this.itemIterator=null}function Ms(){Rs=this,this.serialVersionUID_0=B}Ss.$metadata$={kind:z,simpleName:"Sequence",interfaces:[]},ks.prototype.iterator=function(){return this.closure$iterator()},ks.$metadata$={kind:_,interfaces:[Ss]},js.prototype.yieldAll_p1ys8y$=function(e,n){if(!t.isType(e,Ot)||!e.isEmpty())return this.yieldAll_1phuh2$(e.iterator(),n)},js.prototype.yieldAll_swo9gw$=function(t,e){return this.yieldAll_1phuh2$(t.iterator(),e)},js.$metadata$={kind:_,simpleName:"SequenceScope",interfaces:[]},Ns.prototype.hasNext=function(){for(;;){switch(this.state_0){case 0:break;case 1:if(j(this.nextIterator_0).hasNext())return this.state_0=2,!0;this.nextIterator_0=null;break;case 4:return!1;case 3:case 2:return!0;default:throw this.exceptionalState_0()}this.state_0=5;var t=j(this.nextStep);this.nextStep=null,t.resumeWith_tl1gpc$(new Sl(Pe()))}},Ns.prototype.next=function(){var e;switch(this.state_0){case 0:case 1:return this.nextNotReady_0();case 2:return this.state_0=1,j(this.nextIterator_0).next();case 3:this.state_0=0;var n=null==(e=this.nextValue_0)||t.isType(e,N)?e:no();return this.nextValue_0=null,n;default:throw this.exceptionalState_0()}},Ns.prototype.nextNotReady_0=function(){if(this.hasNext())return this.next();throw Nn()},Ns.prototype.exceptionalState_0=function(){switch(this.state_0){case 4:return Nn();case 5:return vn("Iterator has failed.");default:return vn("Unexpected state of the iterator: "+this.state_0)}},Ns.prototype.yield_11rb$=function(t,e){return this.nextValue_0=t,this.state_0=3,(n=this,function(t){return n.nextStep=t,la()})(e);var n},Ns.prototype.yieldAll_1phuh2$=function(t,e){var n;if(t.hasNext())return this.nextIterator_0=t,this.state_0=2,(n=this,function(t){return n.nextStep=t,la()})(e)},Ns.prototype.resumeWith_tl1gpc$=function(e){var n;Tl(e),null==(n=e.value)||t.isType(n,N)||P(),this.state_0=4},Object.defineProperty(Ns.prototype,"context",{configurable:!0,get:function(){return Qs()}}),Ns.$metadata$={kind:_,simpleName:"SequenceBuilderIterator",interfaces:[Bs,Ut,js]},Ts.prototype.next=function(){return this.this$TransformingSequence.transformer_0(this.iterator.next())},Ts.prototype.hasNext=function(){return this.iterator.hasNext()},Ts.$metadata$={kind:_,interfaces:[Ut]},Ps.prototype.iterator=function(){return new Ts(this)},Ps.prototype.flatten_1tglza$=function(t){return new Os(this.sequence_0,this.transformer_0,t)},Ps.$metadata$={kind:_,simpleName:"TransformingSequence",interfaces:[Ss]},Es.prototype.next=function(){if(!this.ensureItemIterator_0())throw Nn();return j(this.itemIterator).next()},Es.prototype.hasNext=function(){return this.ensureItemIterator_0()},Es.prototype.ensureItemIterator_0=function(){var t;for(!1===(null!=(t=this.itemIterator)?t.hasNext():null)&&(this.itemIterator=null);null==this.itemIterator;){if(!this.iterator.hasNext())return!1;var e=this.iterator.next(),n=this.this$FlatteningSequence.iterator_0(this.this$FlatteningSequence.transformer_0(e));if(n.hasNext())return this.itemIterator=n,!0}return!0},Es.$metadata$={kind:_,interfaces:[Ut]},Os.prototype.iterator=function(){return new Es(this)},Os.$metadata$={kind:_,simpleName:"FlatteningSequence",interfaces:[Ss]},Ms.prototype.equals=function(e){return t.isType(e,It)&&e.isEmpty()},Ms.prototype.hashCode=function(){return 0},Ms.prototype.toString=function(){return"[]"},Object.defineProperty(Ms.prototype,"size",{configurable:!0,get:function(){return 0}}),Ms.prototype.isEmpty=function(){return!0},Ms.prototype.contains_11rb$=function(t){return!1},Ms.prototype.containsAll_brywnq$=function(t){return t.isEmpty()},Ms.prototype.iterator=function(){return Gr()},Ms.prototype.readResolve_0=function(){return Is()},Ms.$metadata$={kind:C,simpleName:"EmptySet",interfaces:[oo,It]};var Rs=null;function Is(){return null===Rs&&new Ms,Rs}function As(){return Is()}function Ds(t){return J(t,Pi(t.length))}function Bs(){}function Fs(){Vs()}function qs(){Us=this}Bs.$metadata$={kind:z,simpleName:"Continuation",interfaces:[]},i("kotlin.kotlin.coroutines.suspendCoroutine_922awp$",o((function(){var e=u.kotlin.coroutines.intrinsics.intercepted_f9mg25$,n=u.kotlin.coroutines.SafeContinuation_init_wj8d80$;return function(i,o){var r;return t.suspendCall((r=i,function(t){var i=n(e(t));return r(i),i.getOrThrow()})(t.coroutineReceiver())),t.coroutineResult(t.coroutineReceiver())}}))),qs.$metadata$={kind:C,simpleName:"Key",interfaces:[Hs]};var Us=null;function Vs(){return null===Us&&new qs,Us}function Ws(){}function Gs(t,e){var n=t.minusKey_yeqjby$(e.key);if(n===Qs())return e;var i=n.get_j3r2sn$(Vs());if(null==i)return new ta(n,e);var o=n.minusKey_yeqjby$(Vs());return o===Qs()?new ta(e,i):new ta(new ta(o,e),i)}function Hs(){}function Xs(){}function Ks(t){this.key_no4tas$_0=t}function Ys(e,n){this.safeCast_9rw4bk$_0=n,this.topmostKey_3x72pn$_0=t.isType(e,Ys)?e.topmostKey_3x72pn$_0:e}function Zs(){Js=this,this.serialVersionUID_0=p}Fs.prototype.releaseInterceptedContinuation_k98bjh$=function(t){},Fs.prototype.get_j3r2sn$=function(e){var n;return t.isType(e,Ys)?e.isSubKey_i2ksv9$(this.key)&&t.isType(n=e.tryCast_m1180o$(this),Xs)?n:null:Vs()===e?t.isType(this,Xs)?this:no():null},Fs.prototype.minusKey_yeqjby$=function(e){return t.isType(e,Ys)?e.isSubKey_i2ksv9$(this.key)&&null!=e.tryCast_m1180o$(this)?Qs():this:Vs()===e?Qs():this},Fs.$metadata$={kind:z,simpleName:"ContinuationInterceptor",interfaces:[Xs]},Ws.prototype.plus_1fupul$=function(t){return t===Qs()?this:t.fold_3cc69b$(this,Gs)},Hs.$metadata$={kind:z,simpleName:"Key",interfaces:[]},Xs.prototype.get_j3r2sn$=function(e){return r(this.key,e)?t.isType(this,Xs)?this:no():null},Xs.prototype.fold_3cc69b$=function(t,e){return e(t,this)},Xs.prototype.minusKey_yeqjby$=function(t){return r(this.key,t)?Qs():this},Xs.$metadata$={kind:z,simpleName:"Element",interfaces:[Ws]},Ws.$metadata$={kind:z,simpleName:"CoroutineContext",interfaces:[]},Object.defineProperty(Ks.prototype,"key",{get:function(){return this.key_no4tas$_0}}),Ks.$metadata$={kind:_,simpleName:"AbstractCoroutineContextElement",interfaces:[Xs]},Ys.prototype.tryCast_m1180o$=function(t){return this.safeCast_9rw4bk$_0(t)},Ys.prototype.isSubKey_i2ksv9$=function(t){return t===this||this.topmostKey_3x72pn$_0===t},Ys.$metadata$={kind:_,simpleName:"AbstractCoroutineContextKey",interfaces:[Hs]},Zs.prototype.readResolve_0=function(){return Qs()},Zs.prototype.get_j3r2sn$=function(t){return null},Zs.prototype.fold_3cc69b$=function(t,e){return t},Zs.prototype.plus_1fupul$=function(t){return t},Zs.prototype.minusKey_yeqjby$=function(t){return this},Zs.prototype.hashCode=function(){return 0},Zs.prototype.toString=function(){return"EmptyCoroutineContext"},Zs.$metadata$={kind:C,simpleName:"EmptyCoroutineContext",interfaces:[oo,Ws]};var Js=null;function Qs(){return null===Js&&new Zs,Js}function ta(t,e){this.left_0=t,this.element_0=e}function ea(t,e){return 0===t.length?e.toString():t+", "+e}function na(t){null===aa&&new ia,this.elements=t}function ia(){aa=this,this.serialVersionUID_0=p}ta.prototype.get_j3r2sn$=function(e){for(var n,i=this;;){if(null!=(n=i.element_0.get_j3r2sn$(e)))return n;var o=i.left_0;if(!t.isType(o,ta))return o.get_j3r2sn$(e);i=o}},ta.prototype.fold_3cc69b$=function(t,e){return e(this.left_0.fold_3cc69b$(t,e),this.element_0)},ta.prototype.minusKey_yeqjby$=function(t){if(null!=this.element_0.get_j3r2sn$(t))return this.left_0;var e=this.left_0.minusKey_yeqjby$(t);return e===this.left_0?this:e===Qs()?this.element_0:new ta(e,this.element_0)},ta.prototype.size_0=function(){for(var e,n,i=this,o=2;;){if(null==(n=t.isType(e=i.left_0,ta)?e:null))return o;i=n,o=o+1|0}},ta.prototype.contains_0=function(t){return r(this.get_j3r2sn$(t.key),t)},ta.prototype.containsAll_0=function(e){for(var n,i=e;;){if(!this.contains_0(i.element_0))return!1;var o=i.left_0;if(!t.isType(o,ta))return this.contains_0(t.isType(n=o,Xs)?n:no());i=o}},ta.prototype.equals=function(e){return this===e||t.isType(e,ta)&&e.size_0()===this.size_0()&&e.containsAll_0(this)},ta.prototype.hashCode=function(){return E(this.left_0)+E(this.element_0)|0},ta.prototype.toString=function(){return"["+this.fold_3cc69b$("",ea)+"]"},ta.prototype.writeReplace_0=function(){var e,n,i,o=this.size_0(),r=t.newArray(o,null),s={v:0};if(this.fold_3cc69b$(Pe(),(n=r,i=s,function(t,e){var o;return n[(o=i.v,i.v=o+1|0,o)]=e,je})),s.v!==o)throw vn("Check failed.".toString());return new na(t.isArray(e=r)?e:no())},ia.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var oa,ra,sa,aa=null;function la(){return ca()}function pa(t,e){k.call(this),this.name$=t,this.ordinal$=e}function ua(){ua=function(){},oa=new pa("COROUTINE_SUSPENDED",0),ra=new pa("UNDECIDED",1),sa=new pa("RESUMED",2)}function ca(){return ua(),oa}function _a(){return ua(),ra}function ha(){return ua(),sa}function da(){ya()}function fa(){ma=this,da.call(this),this.defaultRandom_0=co()}na.prototype.readResolve_0=function(){var t,e=this.elements,n=Qs();for(t=0;t!==e.length;++t){var i=e[t];n=n.plus_1fupul$(i)}return n},na.$metadata$={kind:_,simpleName:"Serialized",interfaces:[oo]},ta.$metadata$={kind:_,simpleName:"CombinedContext",interfaces:[oo,Ws]},i("kotlin.kotlin.coroutines.intrinsics.suspendCoroutineUninterceptedOrReturn_zb0pmy$",o((function(){var t=u.kotlin.NotImplementedError;return function(e,n){throw new t("Implementation of suspendCoroutineUninterceptedOrReturn is intrinsic")}}))),pa.$metadata$={kind:_,simpleName:"CoroutineSingletons",interfaces:[k]},pa.values=function(){return[ca(),_a(),ha()]},pa.valueOf_61zpoe$=function(t){switch(t){case"COROUTINE_SUSPENDED":return ca();case"UNDECIDED":return _a();case"RESUMED":return ha();default:io("No enum constant kotlin.coroutines.intrinsics.CoroutineSingletons."+t)}},da.prototype.nextInt=function(){return this.nextBits_za3lpa$(32)},da.prototype.nextInt_za3lpa$=function(t){return this.nextInt_vux9f0$(0,t)},da.prototype.nextInt_vux9f0$=function(t,e){var n;va(t,e);var i=e-t|0;if(i>0||-2147483648===i){if((i&(0|-i))===i){var o=ba(i);n=this.nextBits_za3lpa$(o)}else{var r;do{var s=this.nextInt()>>>1;r=s%i}while((s-r+(i-1)|0)<0);n=r}return t+n|0}for(;;){var a=this.nextInt();if(t<=a&&a<e)return a}},da.prototype.nextLong=function(){return t.Long.fromInt(this.nextInt()).shiftLeft(32).add(t.Long.fromInt(this.nextInt()))},da.prototype.nextLong_s8cxhz$=function(t){return this.nextLong_3pjtqy$(p,t)},da.prototype.nextLong_3pjtqy$=function(e,n){var i;xa(e,n);var o=n.subtract(e);if(o.toNumber()>0){var s;if(r(o.and(o.unaryMinus()),o)){var a=o.toInt(),l=o.shiftRightUnsigned(32).toInt();if(0!==a){var p=ba(a);i=t.Long.fromInt(this.nextBits_za3lpa$(p)).and(w)}else if(1===l)i=t.Long.fromInt(this.nextInt()).and(w);else{var u=ba(l);i=t.Long.fromInt(this.nextBits_za3lpa$(u)).shiftLeft(32).add(t.Long.fromInt(this.nextInt()))}s=i}else{var c;do{var _=this.nextLong().shiftRightUnsigned(1);c=_.modulo(o)}while(_.subtract(c).add(o.subtract(t.Long.fromInt(1))).toNumber()<0);s=c}return e.add(s)}for(;;){var h=this.nextLong();if(e.lessThanOrEqual(h)&&h.lessThan(n))return h}},da.prototype.nextBoolean=function(){return 0!==this.nextBits_za3lpa$(1)},da.prototype.nextDouble=function(){return _o(this.nextBits_za3lpa$(26),this.nextBits_za3lpa$(27))},da.prototype.nextDouble_14dthe$=function(t){return this.nextDouble_lu1900$(0,t)},da.prototype.nextDouble_lu1900$=function(t,e){var n;wa(t,e);var i=e-t;if(lo(i)&&uo(t)&&uo(e)){var o=this.nextDouble()*(e/2-t/2);n=t+o+o}else n=t+this.nextDouble()*i;var r=n;return r>=e?ro(e):r},da.prototype.nextFloat=function(){return this.nextBits_za3lpa$(24)/16777216},da.prototype.nextBytes_mj6st8$$default=function(t,e,n){var i,o,r;if(!(0<=e&&e<=t.length&&0<=n&&n<=t.length))throw bn((i=e,o=n,r=t,function(){return"fromIndex ("+i+") or toIndex ("+o+") are out of range: 0.."+r.length+"."})().toString());if(!(e<=n))throw bn(("fromIndex ("+e+") must be not greater than toIndex ("+n+").").toString());for(var s=(n-e|0)/4|0,a={v:e},l=0;l<s;l++){var p=this.nextInt();t[a.v]=f(p),t[a.v+1|0]=f(p>>>8),t[a.v+2|0]=f(p>>>16),t[a.v+3|0]=f(p>>>24),a.v=a.v+4|0}for(var u=n-a.v|0,c=this.nextBits_za3lpa$(8*u|0),_=0;_<u;_++)t[a.v+_|0]=f(c>>>(8*_|0));return t},da.prototype.nextBytes_mj6st8$=function(t,e,n,i){return void 0===e&&(e=0),void 0===n&&(n=t.length),i?i(t,e,n):this.nextBytes_mj6st8$$default(t,e,n)},da.prototype.nextBytes_fqrh44$=function(t){return this.nextBytes_mj6st8$(t,0,t.length)},da.prototype.nextBytes_za3lpa$=function(t){return this.nextBytes_fqrh44$(new Int8Array(t))},fa.prototype.nextBits_za3lpa$=function(t){return this.defaultRandom_0.nextBits_za3lpa$(t)},fa.prototype.nextInt=function(){return this.defaultRandom_0.nextInt()},fa.prototype.nextInt_za3lpa$=function(t){return this.defaultRandom_0.nextInt_za3lpa$(t)},fa.prototype.nextInt_vux9f0$=function(t,e){return this.defaultRandom_0.nextInt_vux9f0$(t,e)},fa.prototype.nextLong=function(){return this.defaultRandom_0.nextLong()},fa.prototype.nextLong_s8cxhz$=function(t){return this.defaultRandom_0.nextLong_s8cxhz$(t)},fa.prototype.nextLong_3pjtqy$=function(t,e){return this.defaultRandom_0.nextLong_3pjtqy$(t,e)},fa.prototype.nextBoolean=function(){return this.defaultRandom_0.nextBoolean()},fa.prototype.nextDouble=function(){return this.defaultRandom_0.nextDouble()},fa.prototype.nextDouble_14dthe$=function(t){return this.defaultRandom_0.nextDouble_14dthe$(t)},fa.prototype.nextDouble_lu1900$=function(t,e){return this.defaultRandom_0.nextDouble_lu1900$(t,e)},fa.prototype.nextFloat=function(){return this.defaultRandom_0.nextFloat()},fa.prototype.nextBytes_fqrh44$=function(t){return this.defaultRandom_0.nextBytes_fqrh44$(t)},fa.prototype.nextBytes_za3lpa$=function(t){return this.defaultRandom_0.nextBytes_za3lpa$(t)},fa.prototype.nextBytes_mj6st8$$default=function(t,e,n){return this.defaultRandom_0.nextBytes_mj6st8$(t,e,n)},fa.$metadata$={kind:C,simpleName:"Default",interfaces:[da]};var ma=null;function ya(){return null===ma&&new fa,ma}function $a(t){return Sa(t,t>>31)}function ba(t){return 31-c.clz32(t)|0}function ga(t,e){return t>>>32-e&(0|-e)>>31}function va(t,e){if(!(e>t))throw bn(za(t,e).toString())}function xa(t,e){if(!(e.compareTo_11rb$(t)>0))throw bn(za(t,e).toString())}function wa(t,e){if(!(e>t))throw bn(za(t,e).toString())}function za(t,e){return"Random range is empty: ["+t.toString()+", "+e.toString()+")."}function Ca(t,e,n,i,o,r){if(da.call(this),this.x_0=t,this.y_0=e,this.z_0=n,this.w_0=i,this.v_0=o,this.addend_0=r,0==(this.x_0|this.y_0|this.z_0|this.w_0|this.v_0))throw bn("Initial state must have at least one non-zero element.".toString());for(var s=0;s<64;s++)this.nextInt()}function Sa(t,e,n){return n=n||Object.create(Ca.prototype),Ca.call(n,t,e,0,0,~t,t<<10^e>>>4),n}function ka(t,e){this.start_p1gsmm$_0=t,this.endInclusive_jj4lf7$_0=e}function La(t,e){if(!t)throw bn("Step must be positive, was: "+e.toString()+".")}function ja(){}function Na(t,e){if(Ra(),this.variance=t,this.type=e,null==this.variance!=(null==this.type))throw bn((null==this.variance?"Star projection must have no type specified.":"The projection variance "+x(this.variance)+" requires type to be specified.").toString())}function Pa(){Ma=this,this.star=new Na(null,null)}da.$metadata$={kind:_,simpleName:"Random",interfaces:[]},Ca.prototype.nextInt=function(){var t=this.x_0;t^=t>>>2,this.x_0=this.y_0,this.y_0=this.z_0,this.z_0=this.w_0;var e=this.v_0;return this.w_0=e,t=t^t<<1^e^e<<4,this.v_0=t,this.addend_0=this.addend_0+362437|0,t+this.addend_0|0},Ca.prototype.nextBits_za3lpa$=function(t){return ga(this.nextInt(),t)},Ca.$metadata$={kind:_,simpleName:"XorWowRandom",interfaces:[da]},ja.$metadata$={kind:z,simpleName:"KClassifier",interfaces:[]},Na.prototype.toString=function(){var e;return null==(e=this.variance)?"*":r(e,Da())?x(this.type):r(e,Ba())?"in "+x(this.type):r(e,Fa())?"out "+x(this.type):t.noWhenBranchMatched()},Object.defineProperty(Pa.prototype,"STAR",{configurable:!0,get:function(){return this.star}}),Pa.prototype.invariant_saj79j$=function(t){return new Na(Da(),t)},Pa.prototype.contravariant_saj79j$=function(t){return new Na(Ba(),t)},Pa.prototype.covariant_saj79j$=function(t){return new Na(Fa(),t)},Pa.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var Ta,Oa,Ea,Ma=null;function Ra(){return null===Ma&&new Pa,Ma}function Ia(t,e){k.call(this),this.name$=t,this.ordinal$=e}function Aa(){Aa=function(){},Ta=new Ia("INVARIANT",0),Oa=new Ia("IN",1),Ea=new Ia("OUT",2)}function Da(){return Aa(),Ta}function Ba(){return Aa(),Oa}function Fa(){return Aa(),Ea}function qa(e,n,i){null!=i?e.append_gw00v9$(i(n)):null==n||t.isCharSequence(n)?e.append_gw00v9$(n):t.isChar(n)?e.append_s8itvh$(a(n)):e.append_gw00v9$(x(n))}function Ua(t,e,n){return void 0===n&&(n=!1),t===e||!!n&&(h(String.fromCharCode(0|t).toUpperCase().charCodeAt(0))===h(String.fromCharCode(0|e).toUpperCase().charCodeAt(0))||h(String.fromCharCode(0|t).toLowerCase().charCodeAt(0))===h(String.fromCharCode(0|e).toLowerCase().charCodeAt(0)))}function Va(e,n){var i;void 0===n&&(n="");var o,r=bl(e),s=ci();for(o=r.iterator();o.hasNext();){var a=o.next();gr(a)||s.add_11rb$(a)}var l,p=s,u=_i(as(p,10));for(l=p.iterator();l.hasNext();){var c=l.next();u.add_11rb$(Wa(c))}var _,h,d,f,m=null!=(i=ht(u))?i:0,y=(e.length,t.imul(n.length,r.size),0===(_=n).length?Ga:(h=_,function(t){return h+t})),$=es(r),b=ci(),g=0;for(d=r.iterator();d.hasNext();){var v,x,w,z=d.next(),C=Yn((g=(f=g)+1|0,f));null!=(v=0!==C&&C!==$||!gr(z)?null!=(w=null!=(x=Lt(z,m))?y(x):null)?w:z:null)&&b.add_11rb$(v)}return dt(b,lr(),"\n").toString()}function Wa(t){var e;t:do{var n,i,o,r;i=(n=il(t)).first,o=n.last,r=n.step;for(var l=i;l<=o;l+=r)if(!ur(a(s(t.charCodeAt(l))))){e=l;break t}e=-1}while(0);var p=e;return-1===p?t.length:p}function Ga(t){return t}function Ha(t){return Xa(t,10)}function Xa(t,e){var n;if(null==(n=Ja(t,e)))return null;var i=n;return i<m.MIN_VALUE||i>m.MAX_VALUE?null:f(i)}function Ka(t){return Ya(t,10)}function Ya(t,e){var n;if(null==(n=Ja(t,e)))return null;var i=n;return i<v.MIN_VALUE||i>v.MAX_VALUE?null:g(i)}function Za(t){return Ja(t,10)}function Ja(e,n){dr(n);var i,o,r,s=e.length;if(0===s)return null;var a=e.charCodeAt(0);if(a<48){if(1===s)return null;if(i=1,45===a)o=!0,r=-2147483648;else{if(43!==a)return null;o=!1,r=-2147483647}}else i=0,o=!1,r=-2147483647;for(var l=-59652323,p=0,u=i;u<s;u++){var c=fr(e.charCodeAt(u),n);if(c<0)return null;if(p<l){if(-59652323!==l)return null;if(p<(l=r/n|0))return null}if((p=t.imul(p,n))<(r+c|0))return null;p=p-c|0}return o?p:0|-p}function Qa(t){return tl(t,10)}function tl(e,n){dr(n);var i,o,s,a=e.length;if(0===a)return null;var l=e.charCodeAt(0);if(l<48){if(1===a)return null;if(i=1,45===l)o=!0,s=$;else{if(43!==l)return null;o=!1,s=F}}else i=0,o=!1,s=F;for(var u=q,c=u,_=p,h=i;h<a;h++){var d=fr(e.charCodeAt(h),n);if(d<0)return null;if(_.compareTo_11rb$(c)<0){if(!r(c,u))return null;if(c=s.div(t.Long.fromInt(n)),_.compareTo_11rb$(c)<0)return null}if((_=_.multiply(t.Long.fromInt(n))).compareTo_11rb$(s.add(t.Long.fromInt(d)))<0)return null;_=_.subtract(t.Long.fromInt(d))}return o?_:_.unaryMinus()}function el(t){throw new Sn("Invalid number format: '"+t+"'")}function nl(t){this.this$iterator=t,Xt.call(this),this.index_0=0}function il(t){return new ve(0,t.length-1|0)}function ol(t){return t.length-1|0}function rl(e,n){return t.subSequence(e,n.start,n.endInclusive+1|0).toString()}function sl(t,e,n,i,o,r){if(i<0||e<0||e>(t.length-o|0)||i>(n.length-o|0))return!1;for(var s=0;s<o;s++)if(!Ua(t.charCodeAt(e+s|0),n.charCodeAt(i+s|0),r))return!1;return!0}function al(t,e,n,i){var o,r;if(void 0===n&&(n=0),void 0===i&&(i=!1),!i&&1===e.length&&"string"==typeof t){var l=H(e);return t.indexOf(String.fromCharCode(l),n)}o=bt(n,0),r=ol(t);for(var p=o;p<=r;p++){var u,c=t.charCodeAt(p);t:do{var _;for(_=0;_!==e.length;++_){var h=a(e[_]);if(Ua(a(s(h)),c,i)){u=!0;break t}}u=!1}while(0);if(u)return p}return-1}function ll(t,e,n,i){if(void 0===n&&(n=ol(t)),void 0===i&&(i=!1),!i&&1===e.length&&"string"==typeof t){var o=H(e);return t.lastIndexOf(String.fromCharCode(o),n)}for(var r=gt(n,ol(t));r>=0;r--){var l,p=t.charCodeAt(r);t:do{var u;for(u=0;u!==e.length;++u){var c=a(e[u]);if(Ua(a(s(c)),p,i)){l=!0;break t}}l=!1}while(0);if(l)return r}return-1}function pl(t,e,n,i,o,r){var s,a;void 0===r&&(r=!1);var l=r?mt(gt(n,ol(t)),bt(i,0)):new ve(bt(n,0),gt(i,t.length));if("string"==typeof t&&"string"==typeof e)for(s=l.iterator();s.hasNext();){var p=s.next();if(vr(e,0,t,p,e.length,o))return p}else for(a=l.iterator();a.hasNext();){var u=a.next();if(sl(e,0,t,u,e.length,o))return u}return-1}function ul(e,n,i,o){return void 0===i&&(i=0),void 0===o&&(o=!1),o||"string"!=typeof e?al(e,t.charArrayOf(n),i,o):e.indexOf(String.fromCharCode(n),i)}function cl(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=!1),i||"string"!=typeof t?pl(t,e,n,t.length,i):t.indexOf(e,n)}function _l(t,e,n,i){return void 0===n&&(n=ol(t)),void 0===i&&(i=!1),i||"string"!=typeof t?pl(t,e,n,0,i,!0):t.lastIndexOf(e,n)}function hl(t,e,n,i){this.input_0=t,this.startIndex_0=e,this.limit_0=n,this.getNextMatch_0=i}function dl(t){this.this$DelimitedRangesSequence=t,this.nextState=-1,this.currentStartIndex=vt(t.startIndex_0,0,t.input_0.length),this.nextSearchIndex=this.currentStartIndex,this.nextItem=null,this.counter=0}function fl(t,e){return function(n,i){var o;return null!=(o=function(t,e,n,i,o){var r,s;if(!i&&1===e.size){var a=ot(e),l=o?_l(t,a,n):cl(t,a,n);return l<0?null:Ml(l,a)}var p=o?mt(gt(n,ol(t)),0):new ve(bt(n,0),t.length);if("string"==typeof t)for(r=p.iterator();r.hasNext();){var u,c=r.next();t:do{var _;for(_=e.iterator();_.hasNext();){var h=_.next();if(vr(h,0,t,c,h.length,i)){u=h;break t}}u=null}while(0);if(null!=u)return Ml(c,u)}else for(s=p.iterator();s.hasNext();){var d,f=s.next();t:do{var m;for(m=e.iterator();m.hasNext();){var y=m.next();if(sl(y,0,t,f,y.length,i)){d=y;break t}}d=null}while(0);if(null!=d)return Ml(f,d)}return null}(n,t,i,e,!1))?Ml(o.first,o.second.length):null}}function ml(t,e,n,i,o){if(void 0===n&&(n=0),void 0===i&&(i=!1),void 0===o&&(o=0),!(o>=0))throw bn(("Limit must be non-negative, but was "+o+".").toString());return new hl(t,n,o,fl(Dn(e),i))}function yl(t,e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=0),St(ml(t,e,void 0,n,i),(o=t,function(t){return rl(o,t)}));var o}function $l(t){return yl(t,["\r\n","\n","\r"])}function bl(t){return zt($l(t))}function gl(){}function vl(){xl=this}Na.$metadata$={kind:_,simpleName:"KTypeProjection",interfaces:[]},Na.prototype.component1=function(){return this.variance},Na.prototype.component2=function(){return this.type},Na.prototype.copy_wulwk3$=function(t,e){return new Na(void 0===t?this.variance:t,void 0===e?this.type:e)},Na.prototype.hashCode=function(){var e=0;return e=31*(e=31*e+t.hashCode(this.variance)|0)+t.hashCode(this.type)|0},Na.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&t.equals(this.variance,e.variance)&&t.equals(this.type,e.type)},Ia.$metadata$={kind:_,simpleName:"KVariance",interfaces:[k]},Ia.values=function(){return[Da(),Ba(),Fa()]},Ia.valueOf_61zpoe$=function(t){switch(t){case"INVARIANT":return Da();case"IN":return Ba();case"OUT":return Fa();default:io("No enum constant kotlin.reflect.KVariance."+t)}},nl.prototype.nextChar=function(){var t,e;return t=this.index_0,this.index_0=t+1|0,e=t,this.this$iterator.charCodeAt(e)},nl.prototype.hasNext=function(){return this.index_0<this.this$iterator.length},nl.$metadata$={kind:_,interfaces:[Xt]},dl.prototype.calcNext_0=function(){if(this.nextSearchIndex<0)this.nextState=0,this.nextItem=null;else{if(this.this$DelimitedRangesSequence.limit_0>0&&(this.counter=this.counter+1|0,this.counter>=this.this$DelimitedRangesSequence.limit_0)||this.nextSearchIndex>this.this$DelimitedRangesSequence.input_0.length)this.nextItem=new ve(this.currentStartIndex,ol(this.this$DelimitedRangesSequence.input_0)),this.nextSearchIndex=-1;else{var t=this.this$DelimitedRangesSequence.getNextMatch_0(this.this$DelimitedRangesSequence.input_0,this.nextSearchIndex);if(null==t)this.nextItem=new ve(this.currentStartIndex,ol(this.this$DelimitedRangesSequence.input_0)),this.nextSearchIndex=-1;else{var e=t.component1(),n=t.component2();this.nextItem=$t(this.currentStartIndex,e),this.currentStartIndex=e+n|0,this.nextSearchIndex=this.currentStartIndex+(0===n?1:0)|0}}this.nextState=1}},dl.prototype.next=function(){var e;if(-1===this.nextState&&this.calcNext_0(),0===this.nextState)throw Nn();var n=t.isType(e=this.nextItem,ve)?e:no();return this.nextItem=null,this.nextState=-1,n},dl.prototype.hasNext=function(){return-1===this.nextState&&this.calcNext_0(),1===this.nextState},dl.$metadata$={kind:_,interfaces:[Ut]},hl.prototype.iterator=function(){return new dl(this)},hl.$metadata$={kind:_,simpleName:"DelimitedRangesSequence",interfaces:[Ss]},gl.$metadata$={kind:z,simpleName:"Lazy",interfaces:[]},vl.$metadata$={kind:C,simpleName:"UNINITIALIZED_VALUE",interfaces:[]};var xl=null;function wl(){return null===xl&&new vl,xl}function zl(t){this.initializer_0=t,this._value_0=wl()}function Cl(t){this.value_7taq70$_0=t}function Sl(t){jl(),this.value=t}function kl(){Ll=this}Object.defineProperty(zl.prototype,"value",{configurable:!0,get:function(){var e;return this._value_0===wl()&&(this._value_0=j(this.initializer_0)(),this.initializer_0=null),null==(e=this._value_0)||t.isType(e,N)?e:no()}}),zl.prototype.isInitialized=function(){return this._value_0!==wl()},zl.prototype.toString=function(){return this.isInitialized()?x(this.value):"Lazy value not initialized yet."},zl.prototype.writeReplace_0=function(){return new Cl(this.value)},zl.$metadata$={kind:_,simpleName:"UnsafeLazyImpl",interfaces:[oo,gl]},Object.defineProperty(Cl.prototype,"value",{get:function(){return this.value_7taq70$_0}}),Cl.prototype.isInitialized=function(){return!0},Cl.prototype.toString=function(){return x(this.value)},Cl.$metadata$={kind:_,simpleName:"InitializedLazyImpl",interfaces:[oo,gl]},Object.defineProperty(Sl.prototype,"isSuccess",{configurable:!0,get:function(){return!t.isType(this.value,Nl)}}),Object.defineProperty(Sl.prototype,"isFailure",{configurable:!0,get:function(){return t.isType(this.value,Nl)}}),Sl.prototype.getOrNull=i("kotlin.kotlin.Result.getOrNull",o((function(){var e=Object,n=t.throwCCE;return function(){var i;return this.isFailure?null:null==(i=this.value)||t.isType(i,e)?i:n()}}))),Sl.prototype.exceptionOrNull=function(){return t.isType(this.value,Nl)?this.value.exception:null},Sl.prototype.toString=function(){return t.isType(this.value,Nl)?this.value.toString():"Success("+x(this.value)+")"},kl.prototype.success_mh5how$=i("kotlin.kotlin.Result.Companion.success_mh5how$",o((function(){var t=u.kotlin.Result;return function(e){return new t(e)}}))),kl.prototype.failure_lsqlk3$=i("kotlin.kotlin.Result.Companion.failure_lsqlk3$",o((function(){var t=u.kotlin.createFailure_tcv7n7$,e=u.kotlin.Result;return function(n){return new e(t(n))}}))),kl.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var Ll=null;function jl(){return null===Ll&&new kl,Ll}function Nl(t){this.exception=t}function Pl(t){return new Nl(t)}function Tl(e){if(t.isType(e.value,Nl))throw e.value.exception}function Ol(t){void 0===t&&(t="An operation is not implemented."),hn(t,this),this.name="NotImplementedError"}function El(t,e){this.first=t,this.second=e}function Ml(t,e){return new El(t,e)}function Rl(t,e,n){this.first=t,this.second=e,this.third=n}function Il(t){Bl(),this.data=t}function Al(){Dl=this,this.MIN_VALUE=new Il(0),this.MAX_VALUE=new Il(-1),this.SIZE_BYTES=1,this.SIZE_BITS=8}Nl.prototype.equals=function(e){return t.isType(e,Nl)&&r(this.exception,e.exception)},Nl.prototype.hashCode=function(){return E(this.exception)},Nl.prototype.toString=function(){return"Failure("+this.exception+")"},Nl.$metadata$={kind:_,simpleName:"Failure",interfaces:[oo]},Sl.$metadata$={kind:_,simpleName:"Result",interfaces:[oo]},Sl.prototype.unbox=function(){return this.value},Sl.prototype.hashCode=function(){var e=0;return e=31*e+t.hashCode(this.value)|0},Sl.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&t.equals(this.value,e.value)},Ol.$metadata$={kind:_,simpleName:"NotImplementedError",interfaces:[_n]},El.prototype.toString=function(){return"("+this.first+", "+this.second+")"},El.$metadata$={kind:_,simpleName:"Pair",interfaces:[oo]},El.prototype.component1=function(){return this.first},El.prototype.component2=function(){return this.second},El.prototype.copy_xwzc9p$=function(t,e){return new El(void 0===t?this.first:t,void 0===e?this.second:e)},El.prototype.hashCode=function(){var e=0;return e=31*(e=31*e+t.hashCode(this.first)|0)+t.hashCode(this.second)|0},El.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&t.equals(this.first,e.first)&&t.equals(this.second,e.second)},Rl.prototype.toString=function(){return"("+this.first+", "+this.second+", "+this.third+")"},Rl.$metadata$={kind:_,simpleName:"Triple",interfaces:[oo]},Rl.prototype.component1=function(){return this.first},Rl.prototype.component2=function(){return this.second},Rl.prototype.component3=function(){return this.third},Rl.prototype.copy_1llc0w$=function(t,e,n){return new Rl(void 0===t?this.first:t,void 0===e?this.second:e,void 0===n?this.third:n)},Rl.prototype.hashCode=function(){var e=0;return e=31*(e=31*(e=31*e+t.hashCode(this.first)|0)+t.hashCode(this.second)|0)+t.hashCode(this.third)|0},Rl.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&t.equals(this.first,e.first)&&t.equals(this.second,e.second)&&t.equals(this.third,e.third)},Al.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var Dl=null;function Bl(){return null===Dl&&new Al,Dl}function Fl(t){Vl(),this.data=t}function ql(){Ul=this,this.MIN_VALUE=new Fl(0),this.MAX_VALUE=new Fl(-1),this.SIZE_BYTES=4,this.SIZE_BITS=32}Il.prototype.compareTo_11rb$=i("kotlin.kotlin.UByte.compareTo_11rb$",(function(e){return t.primitiveCompareTo(255&this.data,255&e.data)})),Il.prototype.compareTo_6hrhkk$=i("kotlin.kotlin.UByte.compareTo_6hrhkk$",(function(e){return t.primitiveCompareTo(255&this.data,65535&e.data)})),Il.prototype.compareTo_s87ys9$=i("kotlin.kotlin.UByte.compareTo_s87ys9$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintCompare_vux9f0$;return function(n){return e(new t(255&this.data).data,n.data)}}))),Il.prototype.compareTo_mpgczg$=i("kotlin.kotlin.UByte.compareTo_mpgczg$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong,i=u.kotlin.ulongCompare_3pjtqy$;return function(o){return i(new n(t.Long.fromInt(this.data).and(e)).data,o.data)}}))),Il.prototype.plus_mpmjao$=i("kotlin.kotlin.UByte.plus_mpmjao$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(255&this.data).data+new t(255&e.data).data|0)}}))),Il.prototype.plus_6hrhkk$=i("kotlin.kotlin.UByte.plus_6hrhkk$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(255&this.data).data+new t(65535&e.data).data|0)}}))),Il.prototype.plus_s87ys9$=i("kotlin.kotlin.UByte.plus_s87ys9$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(255&this.data).data+e.data|0)}}))),Il.prototype.plus_mpgczg$=i("kotlin.kotlin.UByte.plus_mpgczg$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong;return function(i){return new n(new n(t.Long.fromInt(this.data).and(e)).data.add(i.data))}}))),Il.prototype.minus_mpmjao$=i("kotlin.kotlin.UByte.minus_mpmjao$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(255&this.data).data-new t(255&e.data).data|0)}}))),Il.prototype.minus_6hrhkk$=i("kotlin.kotlin.UByte.minus_6hrhkk$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(255&this.data).data-new t(65535&e.data).data|0)}}))),Il.prototype.minus_s87ys9$=i("kotlin.kotlin.UByte.minus_s87ys9$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(255&this.data).data-e.data|0)}}))),Il.prototype.minus_mpgczg$=i("kotlin.kotlin.UByte.minus_mpgczg$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong;return function(i){return new n(new n(t.Long.fromInt(this.data).and(e)).data.subtract(i.data))}}))),Il.prototype.times_mpmjao$=i("kotlin.kotlin.UByte.times_mpmjao$",o((function(){var e=u.kotlin.UInt;return function(n){return new e(t.imul(new e(255&this.data).data,new e(255&n.data).data))}}))),Il.prototype.times_6hrhkk$=i("kotlin.kotlin.UByte.times_6hrhkk$",o((function(){var e=u.kotlin.UInt;return function(n){return new e(t.imul(new e(255&this.data).data,new e(65535&n.data).data))}}))),Il.prototype.times_s87ys9$=i("kotlin.kotlin.UByte.times_s87ys9$",o((function(){var e=u.kotlin.UInt;return function(n){return new e(t.imul(new e(255&this.data).data,n.data))}}))),Il.prototype.times_mpgczg$=i("kotlin.kotlin.UByte.times_mpgczg$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong;return function(i){return new n(new n(t.Long.fromInt(this.data).and(e)).data.multiply(i.data))}}))),Il.prototype.div_mpmjao$=i("kotlin.kotlin.UByte.div_mpmjao$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintDivide_oqfnby$;return function(n){return e(new t(255&this.data),new t(255&n.data))}}))),Il.prototype.div_6hrhkk$=i("kotlin.kotlin.UByte.div_6hrhkk$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintDivide_oqfnby$;return function(n){return e(new t(255&this.data),new t(65535&n.data))}}))),Il.prototype.div_s87ys9$=i("kotlin.kotlin.UByte.div_s87ys9$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintDivide_oqfnby$;return function(n){return e(new t(255&this.data),n)}}))),Il.prototype.div_mpgczg$=i("kotlin.kotlin.UByte.div_mpgczg$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong,i=u.kotlin.ulongDivide_jpm79w$;return function(o){return i(new n(t.Long.fromInt(this.data).and(e)),o)}}))),Il.prototype.rem_mpmjao$=i("kotlin.kotlin.UByte.rem_mpmjao$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintRemainder_oqfnby$;return function(n){return e(new t(255&this.data),new t(255&n.data))}}))),Il.prototype.rem_6hrhkk$=i("kotlin.kotlin.UByte.rem_6hrhkk$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintRemainder_oqfnby$;return function(n){return e(new t(255&this.data),new t(65535&n.data))}}))),Il.prototype.rem_s87ys9$=i("kotlin.kotlin.UByte.rem_s87ys9$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintRemainder_oqfnby$;return function(n){return e(new t(255&this.data),n)}}))),Il.prototype.rem_mpgczg$=i("kotlin.kotlin.UByte.rem_mpgczg$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong,i=u.kotlin.ulongRemainder_jpm79w$;return function(o){return i(new n(t.Long.fromInt(this.data).and(e)),o)}}))),Il.prototype.inc=i("kotlin.kotlin.UByte.inc",o((function(){var e=t.toByte,n=u.kotlin.UByte;return function(){return new n(e(this.data+1))}}))),Il.prototype.dec=i("kotlin.kotlin.UByte.dec",o((function(){var e=t.toByte,n=u.kotlin.UByte;return function(){return new n(e(this.data-1))}}))),Il.prototype.rangeTo_mpmjao$=i("kotlin.kotlin.UByte.rangeTo_mpmjao$",o((function(){var t=u.kotlin.ranges.UIntRange,e=u.kotlin.UInt;return function(n){return new t(new e(255&this.data),new e(255&n.data))}}))),Il.prototype.and_mpmjao$=i("kotlin.kotlin.UByte.and_mpmjao$",o((function(){var e=u.kotlin.UByte,n=t.toByte;return function(t){return new e(n(this.data&t.data))}}))),Il.prototype.or_mpmjao$=i("kotlin.kotlin.UByte.or_mpmjao$",o((function(){var e=u.kotlin.UByte,n=t.toByte;return function(t){return new e(n(this.data|t.data))}}))),Il.prototype.xor_mpmjao$=i("kotlin.kotlin.UByte.xor_mpmjao$",o((function(){var e=u.kotlin.UByte,n=t.toByte;return function(t){return new e(n(this.data^t.data))}}))),Il.prototype.inv=i("kotlin.kotlin.UByte.inv",o((function(){var e=u.kotlin.UByte,n=t.toByte;return function(){return new e(n(~this.data))}}))),Il.prototype.toByte=i("kotlin.kotlin.UByte.toByte",(function(){return this.data})),Il.prototype.toShort=i("kotlin.kotlin.UByte.toShort",o((function(){var e=t.toShort;return function(){return e(255&this.data)}}))),Il.prototype.toInt=i("kotlin.kotlin.UByte.toInt",(function(){return 255&this.data})),Il.prototype.toLong=i("kotlin.kotlin.UByte.toLong",o((function(){var e=t.Long.fromInt(255);return function(){return t.Long.fromInt(this.data).and(e)}}))),Il.prototype.toUByte=i("kotlin.kotlin.UByte.toUByte",(function(){return this})),Il.prototype.toUShort=i("kotlin.kotlin.UByte.toUShort",o((function(){var e=u.kotlin.UShort,n=t.toShort;return function(){return new e(n(255&this.data))}}))),Il.prototype.toUInt=i("kotlin.kotlin.UByte.toUInt",o((function(){var t=u.kotlin.UInt;return function(){return new t(255&this.data)}}))),Il.prototype.toULong=i("kotlin.kotlin.UByte.toULong",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong;return function(){return new n(t.Long.fromInt(this.data).and(e))}}))),Il.prototype.toFloat=i("kotlin.kotlin.UByte.toFloat",(function(){return 255&this.data})),Il.prototype.toDouble=i("kotlin.kotlin.UByte.toDouble",(function(){return 255&this.data})),Il.prototype.toString=function(){return(255&this.data).toString()},Il.$metadata$={kind:_,simpleName:"UByte",interfaces:[L]},Il.prototype.unbox=function(){return this.data},Il.prototype.hashCode=function(){var e=0;return e=31*e+t.hashCode(this.data)|0},Il.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&t.equals(this.data,e.data)},ql.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var Ul=null;function Vl(){return null===Ul&&new ql,Ul}function Wl(t,e){Xl(),Kl.call(this,t,e,1)}function Gl(){Hl=this,this.EMPTY=new Wl(Vl().MAX_VALUE,Vl().MIN_VALUE)}Fl.prototype.compareTo_mpmjao$=i("kotlin.kotlin.UInt.compareTo_mpmjao$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintCompare_vux9f0$;return function(n){return e(this.data,new t(255&n.data).data)}}))),Fl.prototype.compareTo_6hrhkk$=i("kotlin.kotlin.UInt.compareTo_6hrhkk$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintCompare_vux9f0$;return function(n){return e(this.data,new t(65535&n.data).data)}}))),Fl.prototype.compareTo_11rb$=i("kotlin.kotlin.UInt.compareTo_11rb$",o((function(){var t=u.kotlin.uintCompare_vux9f0$;return function(e){return t(this.data,e.data)}}))),Fl.prototype.compareTo_mpgczg$=i("kotlin.kotlin.UInt.compareTo_mpgczg$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong,i=u.kotlin.ulongCompare_3pjtqy$;return function(o){return i(new n(t.Long.fromInt(this.data).and(e)).data,o.data)}}))),Fl.prototype.plus_mpmjao$=i("kotlin.kotlin.UInt.plus_mpmjao$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data+new t(255&e.data).data|0)}}))),Fl.prototype.plus_6hrhkk$=i("kotlin.kotlin.UInt.plus_6hrhkk$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data+new t(65535&e.data).data|0)}}))),Fl.prototype.plus_s87ys9$=i("kotlin.kotlin.UInt.plus_s87ys9$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data+e.data|0)}}))),Fl.prototype.plus_mpgczg$=i("kotlin.kotlin.UInt.plus_mpgczg$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong;return function(i){return new n(new n(t.Long.fromInt(this.data).and(e)).data.add(i.data))}}))),Fl.prototype.minus_mpmjao$=i("kotlin.kotlin.UInt.minus_mpmjao$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data-new t(255&e.data).data|0)}}))),Fl.prototype.minus_6hrhkk$=i("kotlin.kotlin.UInt.minus_6hrhkk$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data-new t(65535&e.data).data|0)}}))),Fl.prototype.minus_s87ys9$=i("kotlin.kotlin.UInt.minus_s87ys9$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data-e.data|0)}}))),Fl.prototype.minus_mpgczg$=i("kotlin.kotlin.UInt.minus_mpgczg$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong;return function(i){return new n(new n(t.Long.fromInt(this.data).and(e)).data.subtract(i.data))}}))),Fl.prototype.times_mpmjao$=i("kotlin.kotlin.UInt.times_mpmjao$",o((function(){var e=u.kotlin.UInt;return function(n){return new e(t.imul(this.data,new e(255&n.data).data))}}))),Fl.prototype.times_6hrhkk$=i("kotlin.kotlin.UInt.times_6hrhkk$",o((function(){var e=u.kotlin.UInt;return function(n){return new e(t.imul(this.data,new e(65535&n.data).data))}}))),Fl.prototype.times_s87ys9$=i("kotlin.kotlin.UInt.times_s87ys9$",o((function(){var e=u.kotlin.UInt;return function(n){return new e(t.imul(this.data,n.data))}}))),Fl.prototype.times_mpgczg$=i("kotlin.kotlin.UInt.times_mpgczg$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong;return function(i){return new n(new n(t.Long.fromInt(this.data).and(e)).data.multiply(i.data))}}))),Fl.prototype.div_mpmjao$=i("kotlin.kotlin.UInt.div_mpmjao$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintDivide_oqfnby$;return function(n){return e(this,new t(255&n.data))}}))),Fl.prototype.div_6hrhkk$=i("kotlin.kotlin.UInt.div_6hrhkk$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintDivide_oqfnby$;return function(n){return e(this,new t(65535&n.data))}}))),Fl.prototype.div_s87ys9$=i("kotlin.kotlin.UInt.div_s87ys9$",o((function(){var t=u.kotlin.uintDivide_oqfnby$;return function(e){return t(this,e)}}))),Fl.prototype.div_mpgczg$=i("kotlin.kotlin.UInt.div_mpgczg$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong,i=u.kotlin.ulongDivide_jpm79w$;return function(o){return i(new n(t.Long.fromInt(this.data).and(e)),o)}}))),Fl.prototype.rem_mpmjao$=i("kotlin.kotlin.UInt.rem_mpmjao$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintRemainder_oqfnby$;return function(n){return e(this,new t(255&n.data))}}))),Fl.prototype.rem_6hrhkk$=i("kotlin.kotlin.UInt.rem_6hrhkk$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintRemainder_oqfnby$;return function(n){return e(this,new t(65535&n.data))}}))),Fl.prototype.rem_s87ys9$=i("kotlin.kotlin.UInt.rem_s87ys9$",o((function(){var t=u.kotlin.uintRemainder_oqfnby$;return function(e){return t(this,e)}}))),Fl.prototype.rem_mpgczg$=i("kotlin.kotlin.UInt.rem_mpgczg$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong,i=u.kotlin.ulongRemainder_jpm79w$;return function(o){return i(new n(t.Long.fromInt(this.data).and(e)),o)}}))),Fl.prototype.inc=i("kotlin.kotlin.UInt.inc",o((function(){var t=u.kotlin.UInt;return function(){return new t(this.data+1|0)}}))),Fl.prototype.dec=i("kotlin.kotlin.UInt.dec",o((function(){var t=u.kotlin.UInt;return function(){return new t(this.data-1|0)}}))),Fl.prototype.rangeTo_s87ys9$=i("kotlin.kotlin.UInt.rangeTo_s87ys9$",o((function(){var t=u.kotlin.ranges.UIntRange;return function(e){return new t(this,e)}}))),Fl.prototype.shl_za3lpa$=i("kotlin.kotlin.UInt.shl_za3lpa$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data<<e)}}))),Fl.prototype.shr_za3lpa$=i("kotlin.kotlin.UInt.shr_za3lpa$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data>>>e)}}))),Fl.prototype.and_s87ys9$=i("kotlin.kotlin.UInt.and_s87ys9$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data&e.data)}}))),Fl.prototype.or_s87ys9$=i("kotlin.kotlin.UInt.or_s87ys9$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data|e.data)}}))),Fl.prototype.xor_s87ys9$=i("kotlin.kotlin.UInt.xor_s87ys9$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(this.data^e.data)}}))),Fl.prototype.inv=i("kotlin.kotlin.UInt.inv",o((function(){var t=u.kotlin.UInt;return function(){return new t(~this.data)}}))),Fl.prototype.toByte=i("kotlin.kotlin.UInt.toByte",o((function(){var e=t.toByte;return function(){return e(this.data)}}))),Fl.prototype.toShort=i("kotlin.kotlin.UInt.toShort",o((function(){var e=t.toShort;return function(){return e(this.data)}}))),Fl.prototype.toInt=i("kotlin.kotlin.UInt.toInt",(function(){return this.data})),Fl.prototype.toLong=i("kotlin.kotlin.UInt.toLong",o((function(){var e=new t.Long(-1,0);return function(){return t.Long.fromInt(this.data).and(e)}}))),Fl.prototype.toUByte=i("kotlin.kotlin.UInt.toUByte",o((function(){var e=t.toByte,n=u.kotlin.UByte;return function(){return new n(e(this.data))}}))),Fl.prototype.toUShort=i("kotlin.kotlin.UInt.toUShort",o((function(){var e=t.toShort,n=u.kotlin.UShort;return function(){return new n(e(this.data))}}))),Fl.prototype.toUInt=i("kotlin.kotlin.UInt.toUInt",(function(){return this})),Fl.prototype.toULong=i("kotlin.kotlin.UInt.toULong",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong;return function(){return new n(t.Long.fromInt(this.data).and(e))}}))),Fl.prototype.toFloat=i("kotlin.kotlin.UInt.toFloat",o((function(){var t=u.kotlin.uintToDouble_za3lpa$;return function(){return t(this.data)}}))),Fl.prototype.toDouble=i("kotlin.kotlin.UInt.toDouble",o((function(){var t=u.kotlin.uintToDouble_za3lpa$;return function(){return t(this.data)}}))),Fl.prototype.toString=function(){return t.Long.fromInt(this.data).and(w).toString()},Fl.$metadata$={kind:_,simpleName:"UInt",interfaces:[L]},Fl.prototype.unbox=function(){return this.data},Fl.prototype.hashCode=function(){var e=0;return e=31*e+t.hashCode(this.data)|0},Fl.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&t.equals(this.data,e.data)},Object.defineProperty(Wl.prototype,"start",{configurable:!0,get:function(){return this.first}}),Object.defineProperty(Wl.prototype,"endInclusive",{configurable:!0,get:function(){return this.last}}),Wl.prototype.contains_mef7kx$=function(t){var e=wp(this.first.data,t.data)<=0;return e&&(e=wp(t.data,this.last.data)<=0),e},Wl.prototype.isEmpty=function(){return wp(this.first.data,this.last.data)>0},Wl.prototype.equals=function(e){var n,i;return t.isType(e,Wl)&&(this.isEmpty()&&e.isEmpty()||(null!=(n=this.first)?n.equals(e.first):null)&&(null!=(i=this.last)?i.equals(e.last):null))},Wl.prototype.hashCode=function(){return this.isEmpty()?-1:(31*this.first.data|0)+this.last.data|0},Wl.prototype.toString=function(){return this.first.toString()+".."+this.last},Gl.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var Hl=null;function Xl(){return null===Hl&&new Gl,Hl}function Kl(t,e,n){if(Jl(),0===n)throw bn("Step must be non-zero.");if(-2147483648===n)throw bn("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this.first=t,this.last=yp(t,e,n),this.step=n}function Yl(){Zl=this}Wl.$metadata$={kind:_,simpleName:"UIntRange",interfaces:[me,Kl]},Kl.prototype.iterator=function(){return new Ql(this.first,this.last,this.step)},Kl.prototype.isEmpty=function(){return this.step>0?wp(this.first.data,this.last.data)>0:wp(this.first.data,this.last.data)<0},Kl.prototype.equals=function(e){var n,i;return t.isType(e,Kl)&&(this.isEmpty()&&e.isEmpty()||(null!=(n=this.first)?n.equals(e.first):null)&&(null!=(i=this.last)?i.equals(e.last):null)&&this.step===e.step)},Kl.prototype.hashCode=function(){return this.isEmpty()?-1:(31*((31*this.first.data|0)+this.last.data|0)|0)+this.step|0},Kl.prototype.toString=function(){return this.step>0?this.first.toString()+".."+this.last+" step "+this.step:this.first.toString()+" downTo "+this.last+" step "+(0|-this.step)},Yl.prototype.fromClosedRange_fjk8us$=function(t,e,n){return new Kl(t,e,n)},Yl.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var Zl=null;function Jl(){return null===Zl&&new Yl,Zl}function Ql(t,e,n){tp.call(this),this.finalElement_0=e,this.hasNext_0=n>0?wp(t.data,e.data)<=0:wp(t.data,e.data)>=0,this.step_0=new Fl(n),this.next_0=this.hasNext_0?t:this.finalElement_0}function tp(){}function ep(){}function np(t){rp(),this.data=t}function ip(){op=this,this.MIN_VALUE=new np(p),this.MAX_VALUE=new np(d),this.SIZE_BYTES=8,this.SIZE_BITS=64}Kl.$metadata$={kind:_,simpleName:"UIntProgression",interfaces:[Pt]},Ql.prototype.hasNext=function(){return this.hasNext_0},Ql.prototype.nextUInt=function(){var t=this.next_0;if(null!=t&&t.equals(this.finalElement_0)){if(!this.hasNext_0)throw Nn();this.hasNext_0=!1}else this.next_0=new Fl(this.next_0.data+this.step_0.data|0);return t},Ql.$metadata$={kind:_,simpleName:"UIntProgressionIterator",interfaces:[tp]},tp.prototype.next=function(){return this.nextUInt()},tp.$metadata$={kind:_,simpleName:"UIntIterator",interfaces:[Ut]},ep.prototype.next=function(){return this.nextULong()},ep.$metadata$={kind:_,simpleName:"ULongIterator",interfaces:[Ut]},ip.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var op=null;function rp(){return null===op&&new ip,op}function sp(t,e){pp(),up.call(this,t,e,S)}function ap(){lp=this,this.EMPTY=new sp(rp().MAX_VALUE,rp().MIN_VALUE)}np.prototype.compareTo_mpmjao$=i("kotlin.kotlin.ULong.compareTo_mpmjao$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong,i=u.kotlin.ulongCompare_3pjtqy$;return function(o){return i(this.data,new n(t.Long.fromInt(o.data).and(e)).data)}}))),np.prototype.compareTo_6hrhkk$=i("kotlin.kotlin.ULong.compareTo_6hrhkk$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong,i=u.kotlin.ulongCompare_3pjtqy$;return function(o){return i(this.data,new n(t.Long.fromInt(o.data).and(e)).data)}}))),np.prototype.compareTo_s87ys9$=i("kotlin.kotlin.ULong.compareTo_s87ys9$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong,i=u.kotlin.ulongCompare_3pjtqy$;return function(o){return i(this.data,new n(t.Long.fromInt(o.data).and(e)).data)}}))),np.prototype.compareTo_11rb$=i("kotlin.kotlin.ULong.compareTo_11rb$",o((function(){var t=u.kotlin.ulongCompare_3pjtqy$;return function(e){return t(this.data,e.data)}}))),np.prototype.plus_mpmjao$=i("kotlin.kotlin.ULong.plus_mpmjao$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong;return function(i){return new n(this.data.add(new n(t.Long.fromInt(i.data).and(e)).data))}}))),np.prototype.plus_6hrhkk$=i("kotlin.kotlin.ULong.plus_6hrhkk$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong;return function(i){return new n(this.data.add(new n(t.Long.fromInt(i.data).and(e)).data))}}))),np.prototype.plus_s87ys9$=i("kotlin.kotlin.ULong.plus_s87ys9$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong;return function(i){return new n(this.data.add(new n(t.Long.fromInt(i.data).and(e)).data))}}))),np.prototype.plus_mpgczg$=i("kotlin.kotlin.ULong.plus_mpgczg$",o((function(){var t=u.kotlin.ULong;return function(e){return new t(this.data.add(e.data))}}))),np.prototype.minus_mpmjao$=i("kotlin.kotlin.ULong.minus_mpmjao$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong;return function(i){return new n(this.data.subtract(new n(t.Long.fromInt(i.data).and(e)).data))}}))),np.prototype.minus_6hrhkk$=i("kotlin.kotlin.ULong.minus_6hrhkk$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong;return function(i){return new n(this.data.subtract(new n(t.Long.fromInt(i.data).and(e)).data))}}))),np.prototype.minus_s87ys9$=i("kotlin.kotlin.ULong.minus_s87ys9$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong;return function(i){return new n(this.data.subtract(new n(t.Long.fromInt(i.data).and(e)).data))}}))),np.prototype.minus_mpgczg$=i("kotlin.kotlin.ULong.minus_mpgczg$",o((function(){var t=u.kotlin.ULong;return function(e){return new t(this.data.subtract(e.data))}}))),np.prototype.times_mpmjao$=i("kotlin.kotlin.ULong.times_mpmjao$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong;return function(i){return new n(this.data.multiply(new n(t.Long.fromInt(i.data).and(e)).data))}}))),np.prototype.times_6hrhkk$=i("kotlin.kotlin.ULong.times_6hrhkk$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong;return function(i){return new n(this.data.multiply(new n(t.Long.fromInt(i.data).and(e)).data))}}))),np.prototype.times_s87ys9$=i("kotlin.kotlin.ULong.times_s87ys9$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong;return function(i){return new n(this.data.multiply(new n(t.Long.fromInt(i.data).and(e)).data))}}))),np.prototype.times_mpgczg$=i("kotlin.kotlin.ULong.times_mpgczg$",o((function(){var t=u.kotlin.ULong;return function(e){return new t(this.data.multiply(e.data))}}))),np.prototype.div_mpmjao$=i("kotlin.kotlin.ULong.div_mpmjao$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong,i=u.kotlin.ulongDivide_jpm79w$;return function(o){return i(this,new n(t.Long.fromInt(o.data).and(e)))}}))),np.prototype.div_6hrhkk$=i("kotlin.kotlin.ULong.div_6hrhkk$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong,i=u.kotlin.ulongDivide_jpm79w$;return function(o){return i(this,new n(t.Long.fromInt(o.data).and(e)))}}))),np.prototype.div_s87ys9$=i("kotlin.kotlin.ULong.div_s87ys9$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong,i=u.kotlin.ulongDivide_jpm79w$;return function(o){return i(this,new n(t.Long.fromInt(o.data).and(e)))}}))),np.prototype.div_mpgczg$=i("kotlin.kotlin.ULong.div_mpgczg$",o((function(){var t=u.kotlin.ulongDivide_jpm79w$;return function(e){return t(this,e)}}))),np.prototype.rem_mpmjao$=i("kotlin.kotlin.ULong.rem_mpmjao$",o((function(){var e=t.Long.fromInt(255),n=u.kotlin.ULong,i=u.kotlin.ulongRemainder_jpm79w$;return function(o){return i(this,new n(t.Long.fromInt(o.data).and(e)))}}))),np.prototype.rem_6hrhkk$=i("kotlin.kotlin.ULong.rem_6hrhkk$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong,i=u.kotlin.ulongRemainder_jpm79w$;return function(o){return i(this,new n(t.Long.fromInt(o.data).and(e)))}}))),np.prototype.rem_s87ys9$=i("kotlin.kotlin.ULong.rem_s87ys9$",o((function(){var e=new t.Long(-1,0),n=u.kotlin.ULong,i=u.kotlin.ulongRemainder_jpm79w$;return function(o){return i(this,new n(t.Long.fromInt(o.data).and(e)))}}))),np.prototype.rem_mpgczg$=i("kotlin.kotlin.ULong.rem_mpgczg$",o((function(){var t=u.kotlin.ulongRemainder_jpm79w$;return function(e){return t(this,e)}}))),np.prototype.inc=i("kotlin.kotlin.ULong.inc",o((function(){var t=u.kotlin.ULong;return function(){return new t(this.data.inc())}}))),np.prototype.dec=i("kotlin.kotlin.ULong.dec",o((function(){var t=u.kotlin.ULong;return function(){return new t(this.data.dec())}}))),np.prototype.rangeTo_mpgczg$=i("kotlin.kotlin.ULong.rangeTo_mpgczg$",o((function(){var t=u.kotlin.ranges.ULongRange;return function(e){return new t(this,e)}}))),np.prototype.shl_za3lpa$=i("kotlin.kotlin.ULong.shl_za3lpa$",o((function(){var t=u.kotlin.ULong;return function(e){return new t(this.data.shiftLeft(e))}}))),np.prototype.shr_za3lpa$=i("kotlin.kotlin.ULong.shr_za3lpa$",o((function(){var t=u.kotlin.ULong;return function(e){return new t(this.data.shiftRightUnsigned(e))}}))),np.prototype.and_mpgczg$=i("kotlin.kotlin.ULong.and_mpgczg$",o((function(){var t=u.kotlin.ULong;return function(e){return new t(this.data.and(e.data))}}))),np.prototype.or_mpgczg$=i("kotlin.kotlin.ULong.or_mpgczg$",o((function(){var t=u.kotlin.ULong;return function(e){return new t(this.data.or(e.data))}}))),np.prototype.xor_mpgczg$=i("kotlin.kotlin.ULong.xor_mpgczg$",o((function(){var t=u.kotlin.ULong;return function(e){return new t(this.data.xor(e.data))}}))),np.prototype.inv=i("kotlin.kotlin.ULong.inv",o((function(){var t=u.kotlin.ULong;return function(){return new t(this.data.inv())}}))),np.prototype.toByte=i("kotlin.kotlin.ULong.toByte",o((function(){var e=t.toByte;return function(){return e(this.data.toInt())}}))),np.prototype.toShort=i("kotlin.kotlin.ULong.toShort",o((function(){var e=t.toShort;return function(){return e(this.data.toInt())}}))),np.prototype.toInt=i("kotlin.kotlin.ULong.toInt",(function(){return this.data.toInt()})),np.prototype.toLong=i("kotlin.kotlin.ULong.toLong",(function(){return this.data})),np.prototype.toUByte=i("kotlin.kotlin.ULong.toUByte",o((function(){var e=t.toByte,n=u.kotlin.UByte;return function(){return new n(e(this.data.toInt()))}}))),np.prototype.toUShort=i("kotlin.kotlin.ULong.toUShort",o((function(){var e=t.toShort,n=u.kotlin.UShort;return function(){return new n(e(this.data.toInt()))}}))),np.prototype.toUInt=i("kotlin.kotlin.ULong.toUInt",o((function(){var t=u.kotlin.UInt;return function(){return new t(this.data.toInt())}}))),np.prototype.toULong=i("kotlin.kotlin.ULong.toULong",(function(){return this})),np.prototype.toFloat=i("kotlin.kotlin.ULong.toFloat",o((function(){var t=u.kotlin.ulongToDouble_s8cxhz$;return function(){return t(this.data)}}))),np.prototype.toDouble=i("kotlin.kotlin.ULong.toDouble",o((function(){var t=u.kotlin.ulongToDouble_s8cxhz$;return function(){return t(this.data)}}))),np.prototype.toString=function(){return kp(this.data)},np.$metadata$={kind:_,simpleName:"ULong",interfaces:[L]},np.prototype.unbox=function(){return this.data},np.prototype.hashCode=function(){var e=0;return e=31*e+t.hashCode(this.data)|0},np.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&t.equals(this.data,e.data)},Object.defineProperty(sp.prototype,"start",{configurable:!0,get:function(){return this.first}}),Object.defineProperty(sp.prototype,"endInclusive",{configurable:!0,get:function(){return this.last}}),sp.prototype.contains_mef7kx$=function(t){var e=zp(this.first.data,t.data)<=0;return e&&(e=zp(t.data,this.last.data)<=0),e},sp.prototype.isEmpty=function(){return zp(this.first.data,this.last.data)>0},sp.prototype.equals=function(e){var n,i;return t.isType(e,sp)&&(this.isEmpty()&&e.isEmpty()||(null!=(n=this.first)?n.equals(e.first):null)&&(null!=(i=this.last)?i.equals(e.last):null))},sp.prototype.hashCode=function(){return this.isEmpty()?-1:(31*new np(this.first.data.xor(new np(this.first.data.shiftRightUnsigned(32)).data)).data.toInt()|0)+new np(this.last.data.xor(new np(this.last.data.shiftRightUnsigned(32)).data)).data.toInt()|0},sp.prototype.toString=function(){return this.first.toString()+".."+this.last},ap.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var lp=null;function pp(){return null===lp&&new ap,lp}function up(t,e,n){if(hp(),r(n,p))throw bn("Step must be non-zero.");if(r(n,$))throw bn("Step must be greater than Long.MIN_VALUE to avoid overflow on negation.");this.first=t,this.last=$p(t,e,n),this.step=n}function cp(){_p=this}sp.$metadata$={kind:_,simpleName:"ULongRange",interfaces:[me,up]},up.prototype.iterator=function(){return new dp(this.first,this.last,this.step)},up.prototype.isEmpty=function(){return this.step.toNumber()>0?zp(this.first.data,this.last.data)>0:zp(this.first.data,this.last.data)<0},up.prototype.equals=function(e){var n,i;return t.isType(e,up)&&(this.isEmpty()&&e.isEmpty()||(null!=(n=this.first)?n.equals(e.first):null)&&(null!=(i=this.last)?i.equals(e.last):null)&&r(this.step,e.step))},up.prototype.hashCode=function(){return this.isEmpty()?-1:(31*((31*new np(this.first.data.xor(new np(this.first.data.shiftRightUnsigned(32)).data)).data.toInt()|0)+new np(this.last.data.xor(new np(this.last.data.shiftRightUnsigned(32)).data)).data.toInt()|0)|0)+this.step.xor(this.step.shiftRightUnsigned(32)).toInt()|0},up.prototype.toString=function(){return this.step.toNumber()>0?this.first.toString()+".."+this.last+" step "+this.step.toString():this.first.toString()+" downTo "+this.last+" step "+this.step.unaryMinus().toString()},cp.prototype.fromClosedRange_15zasp$=function(t,e,n){return new up(t,e,n)},cp.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var _p=null;function hp(){return null===_p&&new cp,_p}function dp(t,e,n){ep.call(this),this.finalElement_0=e,this.hasNext_0=n.toNumber()>0?zp(t.data,e.data)<=0:zp(t.data,e.data)>=0,this.step_0=new np(n),this.next_0=this.hasNext_0?t:this.finalElement_0}function fp(t,e,n){var i=Cp(t,n),o=Cp(e,n);return wp(i.data,o.data)>=0?new Fl(i.data-o.data|0):new Fl(new Fl(i.data-o.data|0).data+n.data|0)}function mp(t,e,n){var i=Sp(t,n),o=Sp(e,n);return zp(i.data,o.data)>=0?new np(i.data.subtract(o.data)):new np(new np(i.data.subtract(o.data)).data.add(n.data))}function yp(t,e,n){if(n>0)return wp(t.data,e.data)>=0?e:new Fl(e.data-fp(e,t,new Fl(n)).data|0);if(n<0)return wp(t.data,e.data)<=0?e:new Fl(e.data+fp(t,e,new Fl(0|-n)).data|0);throw bn("Step is zero.")}function $p(t,e,n){if(n.toNumber()>0)return zp(t.data,e.data)>=0?e:new np(e.data.subtract(mp(e,t,new np(n)).data));if(n.toNumber()<0)return zp(t.data,e.data)<=0?e:new np(e.data.add(mp(t,e,new np(n.unaryMinus())).data));throw bn("Step is zero.")}function bp(t){xp(),this.data=t}function gp(){vp=this,this.MIN_VALUE=new bp(0),this.MAX_VALUE=new bp(-1),this.SIZE_BYTES=2,this.SIZE_BITS=16}up.$metadata$={kind:_,simpleName:"ULongProgression",interfaces:[Pt]},dp.prototype.hasNext=function(){return this.hasNext_0},dp.prototype.nextULong=function(){var t=this.next_0;if(null!=t&&t.equals(this.finalElement_0)){if(!this.hasNext_0)throw Nn();this.hasNext_0=!1}else this.next_0=new np(this.next_0.data.add(this.step_0.data));return t},dp.$metadata$={kind:_,simpleName:"ULongProgressionIterator",interfaces:[ep]},gp.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var vp=null;function xp(){return null===vp&&new gp,vp}function wp(e,n){return t.primitiveCompareTo(-2147483648^e,-2147483648^n)}function zp(t,e){return t.xor($).compareTo_11rb$(e.xor($))}function Cp(e,n){return new Fl(t.Long.fromInt(e.data).and(w).modulo(t.Long.fromInt(n.data).and(w)).toInt())}function Sp(t,e){var n=t.data,i=e.data;if(i.toNumber()<0)return zp(t.data,e.data)<0?t:new np(t.data.subtract(e.data));if(n.toNumber()>=0)return new np(n.modulo(i));var o=n.shiftRightUnsigned(1).div(i).shiftLeft(1),r=n.subtract(o.multiply(i));return new np(r.subtract(zp(new np(r).data,new np(i).data)>=0?i:p))}function kp(t){return Lp(t,10)}function Lp(e,n){if(e.toNumber()>=0)return An(e,n);var i=e.shiftRightUnsigned(1).div(t.Long.fromInt(n)).shiftLeft(1),o=e.subtract(i.multiply(t.Long.fromInt(n)));return o.toNumber()>=n&&(o=o.subtract(t.Long.fromInt(n)),i=i.add(t.Long.fromInt(1))),An(i,n)+An(o,n)}bp.prototype.compareTo_mpmjao$=i("kotlin.kotlin.UShort.compareTo_mpmjao$",(function(e){return t.primitiveCompareTo(65535&this.data,255&e.data)})),bp.prototype.compareTo_11rb$=i("kotlin.kotlin.UShort.compareTo_11rb$",(function(e){return t.primitiveCompareTo(65535&this.data,65535&e.data)})),bp.prototype.compareTo_s87ys9$=i("kotlin.kotlin.UShort.compareTo_s87ys9$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintCompare_vux9f0$;return function(n){return e(new t(65535&this.data).data,n.data)}}))),bp.prototype.compareTo_mpgczg$=i("kotlin.kotlin.UShort.compareTo_mpgczg$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong,i=u.kotlin.ulongCompare_3pjtqy$;return function(o){return i(new n(t.Long.fromInt(this.data).and(e)).data,o.data)}}))),bp.prototype.plus_mpmjao$=i("kotlin.kotlin.UShort.plus_mpmjao$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(65535&this.data).data+new t(255&e.data).data|0)}}))),bp.prototype.plus_6hrhkk$=i("kotlin.kotlin.UShort.plus_6hrhkk$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(65535&this.data).data+new t(65535&e.data).data|0)}}))),bp.prototype.plus_s87ys9$=i("kotlin.kotlin.UShort.plus_s87ys9$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(65535&this.data).data+e.data|0)}}))),bp.prototype.plus_mpgczg$=i("kotlin.kotlin.UShort.plus_mpgczg$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong;return function(i){return new n(new n(t.Long.fromInt(this.data).and(e)).data.add(i.data))}}))),bp.prototype.minus_mpmjao$=i("kotlin.kotlin.UShort.minus_mpmjao$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(65535&this.data).data-new t(255&e.data).data|0)}}))),bp.prototype.minus_6hrhkk$=i("kotlin.kotlin.UShort.minus_6hrhkk$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(65535&this.data).data-new t(65535&e.data).data|0)}}))),bp.prototype.minus_s87ys9$=i("kotlin.kotlin.UShort.minus_s87ys9$",o((function(){var t=u.kotlin.UInt;return function(e){return new t(new t(65535&this.data).data-e.data|0)}}))),bp.prototype.minus_mpgczg$=i("kotlin.kotlin.UShort.minus_mpgczg$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong;return function(i){return new n(new n(t.Long.fromInt(this.data).and(e)).data.subtract(i.data))}}))),bp.prototype.times_mpmjao$=i("kotlin.kotlin.UShort.times_mpmjao$",o((function(){var e=u.kotlin.UInt;return function(n){return new e(t.imul(new e(65535&this.data).data,new e(255&n.data).data))}}))),bp.prototype.times_6hrhkk$=i("kotlin.kotlin.UShort.times_6hrhkk$",o((function(){var e=u.kotlin.UInt;return function(n){return new e(t.imul(new e(65535&this.data).data,new e(65535&n.data).data))}}))),bp.prototype.times_s87ys9$=i("kotlin.kotlin.UShort.times_s87ys9$",o((function(){var e=u.kotlin.UInt;return function(n){return new e(t.imul(new e(65535&this.data).data,n.data))}}))),bp.prototype.times_mpgczg$=i("kotlin.kotlin.UShort.times_mpgczg$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong;return function(i){return new n(new n(t.Long.fromInt(this.data).and(e)).data.multiply(i.data))}}))),bp.prototype.div_mpmjao$=i("kotlin.kotlin.UShort.div_mpmjao$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintDivide_oqfnby$;return function(n){return e(new t(65535&this.data),new t(255&n.data))}}))),bp.prototype.div_6hrhkk$=i("kotlin.kotlin.UShort.div_6hrhkk$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintDivide_oqfnby$;return function(n){return e(new t(65535&this.data),new t(65535&n.data))}}))),bp.prototype.div_s87ys9$=i("kotlin.kotlin.UShort.div_s87ys9$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintDivide_oqfnby$;return function(n){return e(new t(65535&this.data),n)}}))),bp.prototype.div_mpgczg$=i("kotlin.kotlin.UShort.div_mpgczg$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong,i=u.kotlin.ulongDivide_jpm79w$;return function(o){return i(new n(t.Long.fromInt(this.data).and(e)),o)}}))),bp.prototype.rem_mpmjao$=i("kotlin.kotlin.UShort.rem_mpmjao$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintRemainder_oqfnby$;return function(n){return e(new t(65535&this.data),new t(255&n.data))}}))),bp.prototype.rem_6hrhkk$=i("kotlin.kotlin.UShort.rem_6hrhkk$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintRemainder_oqfnby$;return function(n){return e(new t(65535&this.data),new t(65535&n.data))}}))),bp.prototype.rem_s87ys9$=i("kotlin.kotlin.UShort.rem_s87ys9$",o((function(){var t=u.kotlin.UInt,e=u.kotlin.uintRemainder_oqfnby$;return function(n){return e(new t(65535&this.data),n)}}))),bp.prototype.rem_mpgczg$=i("kotlin.kotlin.UShort.rem_mpgczg$",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong,i=u.kotlin.ulongRemainder_jpm79w$;return function(o){return i(new n(t.Long.fromInt(this.data).and(e)),o)}}))),bp.prototype.inc=i("kotlin.kotlin.UShort.inc",o((function(){var e=t.toShort,n=u.kotlin.UShort;return function(){return new n(e(this.data+1))}}))),bp.prototype.dec=i("kotlin.kotlin.UShort.dec",o((function(){var e=t.toShort,n=u.kotlin.UShort;return function(){return new n(e(this.data-1))}}))),bp.prototype.rangeTo_6hrhkk$=i("kotlin.kotlin.UShort.rangeTo_6hrhkk$",o((function(){var t=u.kotlin.ranges.UIntRange,e=u.kotlin.UInt;return function(n){return new t(new e(65535&this.data),new e(65535&n.data))}}))),bp.prototype.and_6hrhkk$=i("kotlin.kotlin.UShort.and_6hrhkk$",o((function(){var e=u.kotlin.UShort,n=t.toShort;return function(t){return new e(n(this.data&t.data))}}))),bp.prototype.or_6hrhkk$=i("kotlin.kotlin.UShort.or_6hrhkk$",o((function(){var e=u.kotlin.UShort,n=t.toShort;return function(t){return new e(n(this.data|t.data))}}))),bp.prototype.xor_6hrhkk$=i("kotlin.kotlin.UShort.xor_6hrhkk$",o((function(){var e=u.kotlin.UShort,n=t.toShort;return function(t){return new e(n(this.data^t.data))}}))),bp.prototype.inv=i("kotlin.kotlin.UShort.inv",o((function(){var e=u.kotlin.UShort,n=t.toShort;return function(){return new e(n(~this.data))}}))),bp.prototype.toByte=i("kotlin.kotlin.UShort.toByte",o((function(){var e=t.toByte;return function(){return e(this.data)}}))),bp.prototype.toShort=i("kotlin.kotlin.UShort.toShort",(function(){return this.data})),bp.prototype.toInt=i("kotlin.kotlin.UShort.toInt",(function(){return 65535&this.data})),bp.prototype.toLong=i("kotlin.kotlin.UShort.toLong",o((function(){var e=t.Long.fromInt(65535);return function(){return t.Long.fromInt(this.data).and(e)}}))),bp.prototype.toUByte=i("kotlin.kotlin.UShort.toUByte",o((function(){var e=t.toByte,n=u.kotlin.UByte;return function(){return new n(e(this.data))}}))),bp.prototype.toUShort=i("kotlin.kotlin.UShort.toUShort",(function(){return this})),bp.prototype.toUInt=i("kotlin.kotlin.UShort.toUInt",o((function(){var t=u.kotlin.UInt;return function(){return new t(65535&this.data)}}))),bp.prototype.toULong=i("kotlin.kotlin.UShort.toULong",o((function(){var e=t.Long.fromInt(65535),n=u.kotlin.ULong;return function(){return new n(t.Long.fromInt(this.data).and(e))}}))),bp.prototype.toFloat=i("kotlin.kotlin.UShort.toFloat",(function(){return 65535&this.data})),bp.prototype.toDouble=i("kotlin.kotlin.UShort.toDouble",(function(){return 65535&this.data})),bp.prototype.toString=function(){return(65535&this.data).toString()},bp.$metadata$={kind:_,simpleName:"UShort",interfaces:[L]},bp.prototype.unbox=function(){return this.data},bp.prototype.hashCode=function(){var e=0;return e=31*e+t.hashCode(this.data)|0},bp.prototype.equals=function(e){return this===e||null!==e&&"object"==typeof e&&Object.getPrototypeOf(this)===Object.getPrototypeOf(e)&&t.equals(this.data,e.data)};var jp=u.kotlin||(u.kotlin={}),Np=jp.collections||(jp.collections={});Np.contains_mjy6jw$=V,Np.get_lastIndex_m7z4lg$=K,Np.get_lastIndex_tmsbgo$=Y,Np.get_lastIndex_l1lu5t$=Z,Np.first_us0mfu$=function(t){if(0===t.length)throw new jn("Array is empty.");return t[0]},Np.indexOf_mjy6jw$=W,Np.get_indices_m7z4lg$=X;var Pp=jp.ranges||(jp.ranges={});Pp.reversed_zf1xzc$=yt,Np.get_indices_tmsbgo$=function(t){return new ve(0,Y(t))},Np.get_indices_l1lu5t$=function(t){return new ve(0,Z(t))},Np.last_us0mfu$=function(t){if(0===t.length)throw new jn("Array is empty.");return t[K(t)]},Np.lastIndexOf_mjy6jw$=G;var Tp=jp.random||(jp.random={});Tp.Random=da,Np.single_355ntz$=H,jp.IllegalArgumentException_init_pdl1vj$=bn,Np.emptyList_287e2$=Jr,Np.ArrayList_init_287e2$=ci,Np.toList_us0mfu$=function(t){var e;switch(t.length){case 0:e=Jr();break;case 1:e=Gn(t[0]);break;default:e=Q(t)}return e},Np.sortWith_iwcb0m$=function(t,e){t.length>1&&di(t,e)},Np.mapCapacity_za3lpa$=Zn,Pp.coerceAtLeast_dqglrj$=bt,Np.LinkedHashMap_init_bwtc7$=Ui,Pp.coerceAtMost_dqglrj$=gt,Np.toCollection_5n4o2z$=J,Np.toMutableList_us0mfu$=Q,Np.toSet_us0mfu$=tt,Np.addAll_ipc267$=function(e,n){var i;if(t.isType(n,Ot))return e.addAll_brywnq$(n);var o=!1;for(i=n.iterator();i.hasNext();){var r=i.next();e.add_11rb$(r)&&(o=!0)}return o},Np.LinkedHashMap_init_q3lmfv$=Fi,Np.Grouping=os,Np.ArrayList_init_ww73n8$=_i,Np.withIndex_us0mfu$=function(e){return new ss((n=e,function(){return t.arrayIterator(n)}));var n},Np.HashSet_init_287e2$=function(t){return t=t||Object.create(ji.prototype),pi.call(t),ji.call(t),t.map_8be2vx$=Si(),t},jp.NoSuchElementException_init=Nn,jp.UnsupportedOperationException_init_pdl1vj$=Cn,Np.listOf_mh5how$=Gn,Np.zip_r9t3v7$=function(t,e){for(var n=c.min(t.length,e.length),i=_i(n),o=0;o<n;o++)i.add_11rb$(Ml(t[o],e[o]));return i},Np.collectionSizeOrDefault_ba2ldo$=as,Np.joinTo_ohfn4r$=et,Np.joinToString_cph1y3$=function(t,e,n,i,o,r,s){return void 0===e&&(e=", "),void 0===n&&(n=""),void 0===i&&(i=""),void 0===o&&(o=-1),void 0===r&&(r="..."),void 0===s&&(s=null),et(t,pr(),e,n,i,o,r,s).toString()},Np.contains_2ws7j4$=function(e,n){return t.isType(e,Ot)?e.contains_11rb$(n):it(e,n)>=0},Np.get_lastIndex_55thoc$=es,Np.first_7wnvza$=function(e){if(t.isType(e,Mt))return nt(e);var n=e.iterator();if(!n.hasNext())throw new jn("Collection is empty.");return n.next()},Np.first_2p1efm$=nt,Np.firstOrNull_2p1efm$=function(t){return t.isEmpty()?null:t.get_za3lpa$(0)},Np.indexOf_2ws7j4$=it,Np.checkIndexOverflow_za3lpa$=Yn,Np.last_2p1efm$=function(t){if(t.isEmpty())throw new jn("List is empty.");return t.get_za3lpa$(es(t))},Np.lastOrNull_2p1efm$=function(t){return t.isEmpty()?null:t.get_za3lpa$(t.size-1|0)},Np.single_7wnvza$=ot,Np.single_2p1efm$=rt,Np.filterNotNull_m3lr2h$=function(t){return st(t,ci())},Np.filterNotNullTo_u9kwcl$=st,Np.toList_7wnvza$=pt,Np.reversed_7wnvza$=function(e){if(t.isType(e,Ot)&&e.size<=1)return pt(e);var n=ut(e);return Fn(n),n},Np.shuffle_9jeydg$=at,Np.sortWith_nqfjgj$=function(t,e){!function(t,e){if(!(t.size<=1)){var n=Un(t);di(n,e);for(var i=0;i<n.length;i++)t.set_wxm5ur$(i,n[i])}}(t,e)},Np.toBooleanArray_xmyvgf$=function(e){var n,i,o=t.booleanArray(e.size),r=0;for(n=e.iterator();n.hasNext();){var s=n.next();o[(i=r,r=i+1|0,i)]=s}return o},Np.toIntArray_fx3nzu$=function(t){var e,n,i=new Int32Array(t.size),o=0;for(e=t.iterator();e.hasNext();){var r=e.next();i[(n=o,o=n+1|0,n)]=r}return i},Np.toCollection_5cfyqp$=lt,Np.toMutableList_7wnvza$=ut,Np.toMutableList_4c7yge$=ct,Np.distinct_7wnvza$=function(t){return pt(_t(t))},Np.toMutableSet_7wnvza$=_t,Np.Collection=Ot,Np.maxOrNull_lvsncp$=function(t){var e=t.iterator();if(!e.hasNext())return null;for(var n=e.next();e.hasNext();){var i=e.next();n=c.max(n,i)}return n},Np.minOrNull_exjks8$=ht,Np.joinTo_gcc71v$=dt,Np.joinToString_fmv235$=ft;var Op=jp.comparisons||(jp.comparisons={});Pp.downTo_dqglrj$=mt,Pp.step_xsgg7u$=function(t,e){return La(e>0,e),ce().fromClosedRange_qt1dr2$(t.first,t.last,t.step>0?e:0|-e)},Pp.until_dqglrj$=$t,Pp.coerceIn_e4yvb3$=vt,Pp.coerceIn_ekzx8g$=function(t,e,n){if(e.compareTo_11rb$(n)>0)throw bn("Cannot coerce value to an empty range: maximum "+n.toString()+" is less than minimum "+e.toString()+".");return t.compareTo_11rb$(e)<0?e:t.compareTo_11rb$(n)>0?n:t};var Ep=jp.sequences||(jp.sequences={});Ep.Sequence=Ss,Ep.toCollection_gtszxp$=wt,Ep.toList_veqyi0$=zt,Ep.toMutableList_veqyi0$=Ct,Ep.map_z5avom$=St,Ep.asIterable_veqyi0$=kt;var Mp=jp.text||(jp.text={});Mp.get_lastIndex_gw00vp$=ol,Mp.iterator_gw00vp$=function(t){return new nl(t)},Mp.get_indices_gw00vp$=il,Mp.single_gw00vp$=function(t){var e;switch(t.length){case 0:throw new jn("Char sequence is empty.");case 1:e=t.charCodeAt(0);break;default:throw bn("Char sequence has more than one element.")}return e},Mp.drop_6ic1pp$=Lt,Mp.StringBuilder_init=pr,jp.UInt=Fl,jp.ULong=np,jp.UByte=Il,jp.UShort=bp,Np.copyOf_c03ot6$=function(t,e){if(!(e>=0))throw bn(("Invalid new array size: "+e+".").toString());return Rn(t,new Int32Array(e))},Np.copyOf_3aefkx$=function(t,e){if(!(e>=0))throw bn(("Invalid new array size: "+e+".").toString());var n=In(t,e,p);return n.$type$="LongArray",n},Np.copyOf_mrm5p$=function(t,e){if(!(e>=0))throw bn(("Invalid new array size: "+e+".").toString());return Rn(t,new Int8Array(e))},Np.copyOf_m2jy6x$=function(t,e){if(!(e>=0))throw bn(("Invalid new array size: "+e+".").toString());return Rn(t,new Int16Array(e))};var Rp=jp.js||(jp.js={}),Ip=jp.math||(jp.math={});Object.defineProperty(Ip,"PI",{get:function(){return e}}),jp.Annotation=jt,jp.CharSequence=Nt,Np.Iterable=Pt,Np.MutableIterable=Tt,Np.MutableCollection=Et,Np.List=Mt,Np.MutableList=Rt,Np.Set=It,Np.MutableSet=At,Dt.Entry=Bt,Np.Map=Dt,Ft.MutableEntry=qt,Np.MutableMap=Ft,Np.Iterator=Ut,Np.MutableIterator=Vt,Np.ListIterator=Wt,Np.MutableListIterator=Gt,Np.ByteIterator=Ht,Np.CharIterator=Xt,Np.ShortIterator=Kt,Np.IntIterator=Yt,Np.LongIterator=Zt,Np.FloatIterator=Jt,Np.DoubleIterator=Qt,Np.BooleanIterator=te,Pp.CharProgressionIterator=ee,Pp.IntProgressionIterator=ne,Pp.LongProgressionIterator=ie,Object.defineProperty(oe,"Companion",{get:ae}),Pp.CharProgression=oe,Object.defineProperty(le,"Companion",{get:ce}),Pp.IntProgression=le,Object.defineProperty(_e,"Companion",{get:fe}),Pp.LongProgression=_e,Pp.ClosedRange=me,Object.defineProperty(ye,"Companion",{get:ge}),Pp.CharRange=ye,Object.defineProperty(ve,"Companion",{get:ze}),Pp.IntRange=ve,Object.defineProperty(Ce,"Companion",{get:Le}),Pp.LongRange=Ce,Object.defineProperty(jp,"Unit",{get:Pe});var Ap=jp.internal||(jp.internal={});Ap.getProgressionLastElement_qt1dr2$=Re,Ap.getProgressionLastElement_b9bd0d$=Ie,u.arrayIterator=function(t,e){if(null==e)return new Ae(t);switch(e){case"BooleanArray":return Be(t);case"ByteArray":return qe(t);case"ShortArray":return Ve(t);case"CharArray":return Ge(t);case"IntArray":return Xe(t);case"LongArray":return tn(t);case"FloatArray":return Ye(t);case"DoubleArray":return Je(t);default:throw vn("Unsupported type argument for arrayIterator: "+x(e))}},u.booleanArrayIterator=Be,u.byteArrayIterator=qe,u.shortArrayIterator=Ve,u.charArrayIterator=Ge,u.intArrayIterator=Xe,u.floatArrayIterator=Ye,u.doubleArrayIterator=Je,u.longArrayIterator=tn,u.noWhenBranchMatched=function(){throw On()},u.subSequence=function(t,e,n){return"string"==typeof t?t.substring(e,n):t.subSequence_vux9f0$(e,n)},u.captureStack=function(t,e){Error.captureStackTrace?Error.captureStackTrace(e):e.stack=(new Error).stack},u.BoxedChar=en,u.charArrayOf=function(){var t="CharArray",e=new Uint16Array([].slice.call(arguments));return e.$type$=t,e};var Dp=jp.coroutines||(jp.coroutines={});Dp.CoroutineImpl=nn,Object.defineProperty(Dp,"CompletedContinuation",{get:an});var Bp=Dp.intrinsics||(Dp.intrinsics={});Bp.createCoroutineUnintercepted_x18nsh$=pn,Bp.createCoroutineUnintercepted_3a617i$=un,Bp.intercepted_f9mg25$=cn,jp.Error_init_pdl1vj$=hn,jp.Error=_n,jp.Exception_init_pdl1vj$=fn,jp.Exception=dn,jp.RuntimeException_init_pdl1vj$=yn,jp.RuntimeException=mn,jp.IllegalArgumentException=$n,jp.IllegalStateException_init=function(t){return t=t||Object.create(gn.prototype),gn.call(t,null,null),t},jp.IllegalStateException_init_pdl1vj$=vn,jp.IllegalStateException=gn,jp.IndexOutOfBoundsException=xn,jp.UnsupportedOperationException_init=zn,jp.UnsupportedOperationException=wn,jp.NumberFormatException=Sn,jp.NullPointerException=kn,jp.ClassCastException=Ln,jp.NoSuchElementException=jn,jp.ArithmeticException=Pn,jp.NoWhenBranchMatchedException_init=On,jp.NoWhenBranchMatchedException=Tn,jp.UninitializedPropertyAccessException_init_pdl1vj$=Mn,jp.UninitializedPropertyAccessException=En,jp.lazy_klfg04$=function(t){return new zl(t)},jp.fillFrom_dgzutr$=Rn,jp.arrayCopyResize_xao4iu$=In,u.findAssociatedObject_yjf3nl$=function(t,e){return null},Mp.toString_if0zpk$=An,Np.asList_us0mfu$=Dn,Np.arrayCopy=function(t,e,n,i,o){Pr().checkRangeIndexes_cub51b$(i,o,t.length);var r=o-i|0;if(Pr().checkRangeIndexes_cub51b$(n,n+r|0,e.length),ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){var s=t.subarray(i,o);e.set(s,n)}else if(t!==e||n<=i)for(var a=0;a<r;a++)e[n+a|0]=t[i+a|0];else for(var l=r-1|0;l>=0;l--)e[n+l|0]=t[i+l|0]},Np.copyOf_rblqex$=function(t,e){if(!(e>=0))throw bn(("Invalid new array size: "+e+".").toString());return Rn(t,new Float32Array(e))},Np.copyOf_xgrzbe$=function(t,e){if(!(e>=0))throw bn(("Invalid new array size: "+e+".").toString());return Rn(t,new Float64Array(e))},Np.copyOf_1qu12l$=function(t,e){if(!(e>=0))throw bn(("Invalid new array size: "+e+".").toString());var n=In(t,e,!1);return n.$type$="BooleanArray",n},Np.copyOf_gtcw5h$=function(e,n){if(!(n>=0))throw bn(("Invalid new array size: "+n+".").toString());var i=Rn(e,t.charArray(n));return i.$type$="CharArray",i},Np.copyOfRange_5f8l3u$=Bn,Np.fill_jfbbbd$=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length),Pr().checkRangeIndexes_cub51b$(n,i,t.length),t.fill(e,n,i)},Np.reverse_vvxzk3$=Fn,jp.Comparator=qn,Np.copyToArray=Un,Np.copyToArrayImpl=Vn,Np.copyToExistingArrayImpl=Wn,Np.setOf_mh5how$=Hn,Np.LinkedHashSet_init_287e2$=Wi,Np.LinkedHashSet_init_ww73n8$=Xi,Np.mapOf_x2b85n$=Xn,Np.shuffle_vvxzk3$=Kn,Np.shuffled_7wnvza$=function(t){var e=ut(t);return Kn(e),e},Np.AbstractMutableCollection=Jn,Np.AbstractMutableList=Qn,ii.SimpleEntry_init_trwmqg$=function(t,e){return e=e||Object.create(oi.prototype),oi.call(e,t.key,t.value),e},ii.SimpleEntry=oi,Np.AbstractMutableMap=ii,Np.AbstractMutableSet=pi,Np.ArrayList_init_mqih57$=hi,Np.ArrayList=ui,Np.sortArrayWith_6xblhi$=di,Object.defineProperty(mi,"HashCode",{get:xi}),Np.EqualityComparator=mi,Np.HashMap_init_va96d4$=Ci,Np.HashMap_init_q3lmfv$=Si,Np.HashMap_init_xf5xz2$=ki,Np.HashMap_init_bwtc7$=Li,Np.HashMap_init_73mtqc$=function(t,e){return Si(e=e||Object.create(wi.prototype)),e.putAll_a2k3zr$(t),e},Np.HashMap=wi,Np.HashSet_init_mqih57$=function(t,e){return e=e||Object.create(ji.prototype),pi.call(e),ji.call(e),e.map_8be2vx$=Li(t.size),e.addAll_brywnq$(t),e},Np.HashSet_init_2wofer$=Ni,Np.HashSet_init_ww73n8$=Pi,Np.HashSet_init_nn01ho$=Ti,Np.HashSet=ji,Np.InternalHashCodeMap=Oi,Np.InternalMap=Mi,Np.InternalStringMap=Ri,Np.LinkedHashMap_init_xf5xz2$=qi,Np.LinkedHashMap_init_73mtqc$=function(t,e){return Si(e=e||Object.create(Ii.prototype)),Ii.call(e),e.map_97q5dv$_0=Si(),e.putAll_a2k3zr$(t),e},Np.LinkedHashMap=Ii,Np.LinkedHashSet_init_mqih57$=Gi,Np.LinkedHashSet_init_2wofer$=Hi,Np.LinkedHashSet=Vi,Np.RandomAccess=Ki;var Fp=jp.io||(jp.io={});Fp.BaseOutput=Yi,Fp.NodeJsOutput=Zi,Fp.BufferedOutput=Ji,Fp.BufferedOutputToConsoleLog=Qi,Fp.println=function(){$i.println()},Fp.println_s8jyv4$=function(t){$i.println_s8jyv4$(t)},Fp.print_s8jyv4$=function(t){$i.print_s8jyv4$(t)},Dp.SafeContinuation_init_wj8d80$=function(t,e){return e=e||Object.create(to.prototype),to.call(e,t,_a()),e},Dp.SafeContinuation=to,u.throwNPE=function(t){throw new kn(t)},u.throwCCE=no,u.throwISE=io,u.throwUPAE=function(t){throw Mn("lateinit property "+t+" has not been initialized")},Fp.Serializable=oo,Ip.log_lu1900$=function(t,e){return e<=0||1===e?l.NaN:Math.log(t)/Math.log(e)},Ip.round_14dthe$=function(t){if(t%.5!=0)return Math.round(t);var e=c.floor(t);return e%2==0?e:c.ceil(t)},Ip.nextDown_yrwdxr$=ro,Ip.roundToInt_yrwdxr$=function(t){if(so(t))throw bn("Cannot round NaN value.");return t>2147483647?2147483647:t<-2147483648?-2147483648:y(Math.round(t))},Ip.roundToLong_yrwdxr$=function(e){if(so(e))throw bn("Cannot round NaN value.");return e>b.toNumber()?b:e<$.toNumber()?$:t.Long.fromNumber(Math.round(e))},Ip.abs_za3lpa$=function(t){return t<0?0|-t:t},Ip.abs_s8cxhz$=function(t){return t.toNumber()<0?t.unaryMinus():t},jp.isNaN_yrwdxr$=so,jp.isNaN_81szk$=ao,jp.isInfinite_yrwdxr$=lo,jp.isInfinite_81szk$=po,jp.isFinite_yrwdxr$=uo,jp.isFinite_81szk$=function(t){return!po(t)&&!ao(t)},Tp.defaultPlatformRandom_8be2vx$=co,Tp.doubleFromParts_6xvm5r$=_o;var qp=jp.reflect||(jp.reflect={});Rp.get_js_1yb8b7$=function(e){var n;return(t.isType(n=e,mo)?n:no()).jClass},qp.KCallable=ho,qp.KClass=fo;var Up=qp.js||(qp.js={}),Vp=Up.internal||(Up.internal={});Vp.KClassImpl=mo,Vp.SimpleKClassImpl=yo,Vp.PrimitiveKClassImpl=$o,Object.defineProperty(Vp,"NothingKClassImpl",{get:vo}),Vp.ErrorKClass=xo,qp.KProperty=wo,qp.KMutableProperty=zo,qp.KProperty0=Co,qp.KMutableProperty0=So,qp.KProperty1=ko,qp.KMutableProperty1=Lo,qp.KType=jo,u.createKType=function(t,e,n){return new No(t,Dn(e),n)},u.createInvariantKTypeProjection=function(t){return Ra().invariant_saj79j$(t)},Vp.KTypeImpl=No,Vp.prefixString_knho38$=Po,Object.defineProperty(Vp,"PrimitiveClasses",{get:er}),u.getKClass=nr,u.getKClassM=ir,u.getKClassFromExpression=function(e){var n;switch(typeof e){case"string":n=er().stringClass;break;case"number":n=(0|e)===e?er().intClass:er().doubleClass;break;case"boolean":n=er().booleanClass;break;case"function":n=er().functionClass(e.length);break;default:if(t.isBooleanArray(e))n=er().booleanArrayClass;else if(t.isCharArray(e))n=er().charArrayClass;else if(t.isByteArray(e))n=er().byteArrayClass;else if(t.isShortArray(e))n=er().shortArrayClass;else if(t.isIntArray(e))n=er().intArrayClass;else if(t.isLongArray(e))n=er().longArrayClass;else if(t.isFloatArray(e))n=er().floatArrayClass;else if(t.isDoubleArray(e))n=er().doubleArrayClass;else if(t.isType(e,fo))n=nr(fo);else if(t.isArray(e))n=er().arrayClass;else{var i=Object.getPrototypeOf(e).constructor;n=i===Object?er().anyClass:i===Error?er().throwableClass:or(i)}}return n},u.getKClass1=or,Mp.Appendable=rr,Mp.CharacterCodingException=sr,Mp.StringBuilder_init_za3lpa$=lr,Mp.StringBuilder=ar,Mp.isWhitespace_myv2d0$=ur,Mp.isHighSurrogate_myv2d0$=cr,Mp.isLowSurrogate_myv2d0$=_r,Mp.toBoolean_5cw0du$=function(t){var e=null!=t;return e&&(e=r(t.toLowerCase(),"true")),e},Mp.toByte_pdl1vz$=function(t){var e;return null!=(e=Ha(t))?e:el(t)},Mp.toShort_pdl1vz$=function(t){var e;return null!=(e=Ka(t))?e:el(t)},Mp.toInt_pdl1vz$=function(t){var e;return null!=(e=Za(t))?e:el(t)},Mp.toInt_6ic1pp$=function(t,e){var n;return null!=(n=Ja(t,e))?n:el(t)},Mp.toLong_pdl1vz$=function(t){var e;return null!=(e=Qa(t))?e:el(t)},Mp.toDouble_pdl1vz$=function(t){var e=+t;return(so(e)&&!hr(t)||0===e&&gr(t))&&el(t),e},Mp.toDoubleOrNull_pdl1vz$=function(t){var e=+t;return so(e)&&!hr(t)||0===e&&gr(t)?null:e},Mp.checkRadix_za3lpa$=dr,Mp.digitOf_xvg9q0$=fr,Mp.concatToString_355ntz$=mr,Mp.concatToString_wlitf7$=yr,Mp.decodeToString_964n91$=function(t){return Sr(t,0,t.length,!1)},Mp.compareTo_7epoxm$=$r,Mp.startsWith_7epoxm$=function(t,e,n){return void 0===n&&(n=!1),n?vr(t,0,e,0,e.length,n):t.startsWith(e,0)},Mp.endsWith_7epoxm$=function(t,e,n){return void 0===n&&(n=!1),n?vr(t,t.length-e.length|0,e,0,e.length,n):t.endsWith(e)},Mp.matches_rjktp$=br,Mp.isBlank_gw00vp$=gr,Mp.equals_igcy3c$=function(t,e,n){var i;if(void 0===n&&(n=!1),null==t)i=null==e;else{var o;if(n){var s=null!=e;s&&(s=r(t.toLowerCase(),e.toLowerCase())),o=s}else o=r(t,e);i=o}return i},Mp.regionMatches_h3ii2q$=vr,Mp.capitalize_pdl1vz$=function(t){return t.length>0?t.substring(0,1).toUpperCase()+t.substring(1):t},Mp.decodeUtf8_bndkiu$=Sr,jp.addSuppressed_oh0dqn$=function(t,e){if(t!==e){var n=t._suppressed;null==n?t._suppressed=Qr([e]):n.add_11rb$(e)}},Np.AbstractCollection=kr,Object.defineProperty(Lr,"Companion",{get:Pr}),Np.AbstractList=Lr,Object.defineProperty(Tr,"Companion",{get:Dr}),Np.AbstractMap=Tr,Object.defineProperty(Br,"Companion",{get:Ur}),Np.AbstractSet=Br,Object.defineProperty(Np,"EmptyIterator",{get:Gr}),Object.defineProperty(Np,"EmptyList",{get:Kr}),Np.asCollection_vj43ah$=Yr,Np.listOf_i5x0yv$=function(t){return t.length>0?Dn(t):Jr()},Np.mutableListOf_i5x0yv$=Qr,Np.arrayListOf_i5x0yv$=ts,Np.get_indices_gzk92b$=function(t){return new ve(0,t.size-1|0)},Np.shuffled_4173s5$=function(t,e){var n=ut(t);return at(n,e),n},Np.optimizeReadOnlyList_qzupvv$=ns,Op.compareValues_s00gnj$=function(e,n){var i;return e===n?0:null==e?-1:null==n?1:t.compareTo(t.isComparable(i=e)?i:no(),n)},Np.throwIndexOverflow=is,Np.IndexedValue=rs,Np.IndexingIterable=ss,Np.IndexingIterator=ls,Np.getOrImplicitDefault_t9ocha$=ps,Np.emptyMap_q3lmfv$=ms,Np.mapOf_qfcya0$=function(t){return t.length>0?vs(t,Ui(t.length)):ms()},Np.mutableMapOf_qfcya0$=function(t){var e=Ui(t.length);return $s(e,t),e},Np.hashMapOf_qfcya0$=ys,Np.getValue_t9ocha$=function(t,e){return ps(t,e)},Np.putAll_5gv49o$=$s,Np.putAll_cweazw$=bs,Np.toMap_6hr0sd$=function(e){var n;if(t.isType(e,Ot)){switch(e.size){case 0:n=ms();break;case 1:n=Xn(t.isType(e,Mt)?e.get_za3lpa$(0):e.iterator().next());break;default:n=gs(e,Ui(e.size))}return n}return xs(gs(e,Fi()))},Np.toMap_jbpz7q$=gs,Np.toMap_ujwnei$=vs,Np.optimizeReadOnlyMap_1vp4qn$=xs,Np.addAll_ye1y7v$=function(t,e){return t.addAll_brywnq$(Dn(e))},Np.removeAll_uhyeqt$=ws,Np.removeAll_qafx1e$=Cs,Ep.sequence_o0x0bg$=function(t){return new ks((e=t,function(){return Ls(e)}));var e},Ep.iterator_o0x0bg$=Ls,Ep.SequenceScope=js,Ep.TransformingSequence=Ps,Ep.FlatteningSequence=Os,Object.defineProperty(Np,"EmptySet",{get:Is}),Np.emptySet_287e2$=As,Np.setOf_i5x0yv$=function(t){return t.length>0?tt(t):As()},Np.mutableSetOf_i5x0yv$=function(t){return J(t,Xi(t.length))},Np.hashSetOf_i5x0yv$=Ds,Dp.Continuation=Bs,jp.Result=Sl,Dp.startCoroutine_x18nsh$=function(t,e){cn(pn(t,e)).resumeWith_tl1gpc$(new Sl(Pe()))},Dp.startCoroutine_3a617i$=function(t,e,n){cn(un(t,e,n)).resumeWith_tl1gpc$(new Sl(Pe()))},Bp.get_COROUTINE_SUSPENDED=la,Object.defineProperty(Fs,"Key",{get:Vs}),Dp.ContinuationInterceptor=Fs,Ws.Key=Hs,Ws.Element=Xs,Dp.CoroutineContext=Ws,Dp.AbstractCoroutineContextElement=Ks,Dp.AbstractCoroutineContextKey=Ys,Object.defineProperty(Dp,"EmptyCoroutineContext",{get:Qs}),Dp.CombinedContext=ta,Object.defineProperty(Bp,"COROUTINE_SUSPENDED",{get:la}),Object.defineProperty(pa,"COROUTINE_SUSPENDED",{get:ca}),Object.defineProperty(pa,"UNDECIDED",{get:_a}),Object.defineProperty(pa,"RESUMED",{get:ha}),Bp.CoroutineSingletons=pa,Object.defineProperty(da,"Default",{get:ya}),Tp.Random_za3lpa$=$a,Tp.fastLog2_kcn2v3$=ba,Tp.takeUpperBits_b6l1hq$=ga,Tp.checkRangeBounds_6xvm5r$=va,Tp.checkRangeBounds_cfj5zr$=xa,Tp.checkRangeBounds_sdh6z7$=wa,Tp.boundsErrorMessage_dgzutr$=za,Tp.XorWowRandom_init_6xvm5r$=Sa,Tp.XorWowRandom=Ca,Pp.checkStepIsPositive_44uddq$=La,qp.KClassifier=ja,Object.defineProperty(Na,"Companion",{get:Ra}),qp.KTypeProjection=Na,Object.defineProperty(Ia,"INVARIANT",{get:Da}),Object.defineProperty(Ia,"IN",{get:Ba}),Object.defineProperty(Ia,"OUT",{get:Fa}),qp.KVariance=Ia,Mp.appendElement_k2zgzt$=qa,Mp.equals_4lte5s$=Ua,Mp.trimIndent_pdl1vz$=function(t){return Va(t,"")},Mp.replaceIndent_rjktp$=Va,Mp.toByteOrNull_pdl1vz$=Ha,Mp.toByteOrNull_6ic1pp$=Xa,Mp.toShortOrNull_pdl1vz$=Ka,Mp.toShortOrNull_6ic1pp$=Ya,Mp.toIntOrNull_pdl1vz$=Za,Mp.toIntOrNull_6ic1pp$=Ja,Mp.toLongOrNull_pdl1vz$=Qa,Mp.toLongOrNull_6ic1pp$=tl,Mp.numberFormatError_y4putb$=el,Mp.substring_fc3b62$=function(t,e){return t.substring(e.start,e.endInclusive+1|0)},Mp.substring_i511yc$=rl,Mp.substringBefore_8cymmc$=function(t,e,n){void 0===n&&(n=t);var i=ul(t,e);return-1===i?n:t.substring(0,i)},Mp.regionMatchesImpl_4c7s8r$=sl,Mp.indexOfAny_junqau$=al,Mp.lastIndexOfAny_junqau$=ll,Mp.indexOf_8eortd$=ul,Mp.indexOf_l5u8uk$=cl,Mp.lastIndexOf_8eortd$=function(e,n,i,o){return void 0===i&&(i=ol(e)),void 0===o&&(o=!1),o||"string"!=typeof e?ll(e,t.charArrayOf(n),i,o):e.lastIndexOf(String.fromCharCode(n),i)},Mp.lastIndexOf_l5u8uk$=_l,Mp.contains_sgbm27$=function(t,e,n){return void 0===n&&(n=!1),ul(t,e,void 0,n)>=0},Mp.splitToSequence_ip8yn$=yl,Mp.split_ip8yn$=function(e,n,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=0),1===n.length){var r=n[0];if(0!==r.length)return function(e,n,i,o){if(!(o>=0))throw bn(("Limit must be non-negative, but was "+o+".").toString());var r=0,s=cl(e,n,r,i);if(-1===s||1===o)return Gn(e.toString());var a=o>0,l=_i(a?gt(o,10):10);do{if(l.add_11rb$(t.subSequence(e,r,s).toString()),r=s+n.length|0,a&&l.size===(o-1|0))break;s=cl(e,n,r,i)}while(-1!==s);return l.add_11rb$(t.subSequence(e,r,e.length).toString()),l}(e,r,i,o)}var s,a=kt(ml(e,n,void 0,i,o)),l=_i(as(a,10));for(s=a.iterator();s.hasNext();){var p=s.next();l.add_11rb$(rl(e,p))}return l},Mp.lineSequence_gw00vp$=$l,Mp.lines_gw00vp$=bl,jp.Lazy=gl,Object.defineProperty(jp,"UNINITIALIZED_VALUE",{get:wl}),jp.UnsafeLazyImpl=zl,jp.InitializedLazyImpl=Cl,jp.createFailure_tcv7n7$=Pl,Object.defineProperty(Sl,"Companion",{get:jl}),Sl.Failure=Nl,jp.throwOnFailure_iacion$=Tl,jp.NotImplementedError=Ol,jp.Pair=El,jp.to_ujzrz7$=Ml,jp.Triple=Rl,Object.defineProperty(Il,"Companion",{get:Bl}),Object.defineProperty(Fl,"Companion",{get:Vl}),jp.uintCompare_vux9f0$=wp,jp.uintDivide_oqfnby$=function(e,n){return new Fl(t.Long.fromInt(e.data).and(w).div(t.Long.fromInt(n.data).and(w)).toInt())},jp.uintRemainder_oqfnby$=Cp,jp.uintToDouble_za3lpa$=function(t){return(2147483647&t)+2*(t>>>31<<30)},Object.defineProperty(Wl,"Companion",{get:Xl}),Pp.UIntRange=Wl,Object.defineProperty(Kl,"Companion",{get:Jl}),Pp.UIntProgression=Kl,Np.UIntIterator=tp,Np.ULongIterator=ep,Object.defineProperty(np,"Companion",{get:rp}),jp.ulongCompare_3pjtqy$=zp,jp.ulongDivide_jpm79w$=function(e,n){var i=e.data,o=n.data;if(o.toNumber()<0)return zp(e.data,n.data)<0?new np(p):new np(S);if(i.toNumber()>=0)return new np(i.div(o));var r=i.shiftRightUnsigned(1).div(o).shiftLeft(1),s=i.subtract(r.multiply(o));return new np(r.add(t.Long.fromInt(zp(new np(s).data,new np(o).data)>=0?1:0)))},jp.ulongRemainder_jpm79w$=Sp,jp.ulongToDouble_s8cxhz$=function(t){return 2048*t.shiftRightUnsigned(11).toNumber()+t.and(U).toNumber()},Object.defineProperty(sp,"Companion",{get:pp}),Pp.ULongRange=sp,Object.defineProperty(up,"Companion",{get:hp}),Pp.ULongProgression=up,Ap.getProgressionLastElement_fjk8us$=yp,Ap.getProgressionLastElement_15zasp$=$p,Object.defineProperty(bp,"Companion",{get:xp}),jp.ulongToString_8e33dg$=kp,jp.ulongToString_plstum$=Lp,Ft.prototype.getOrDefault_xwzc9p$=Dt.prototype.getOrDefault_xwzc9p$,Tr.prototype.getOrDefault_xwzc9p$=Dt.prototype.getOrDefault_xwzc9p$,ii.prototype.remove_xwzc9p$=Ft.prototype.remove_xwzc9p$,Oi.prototype.createJsMap=Mi.prototype.createJsMap,Ri.prototype.createJsMap=Mi.prototype.createJsMap,us.prototype.getOrDefault_xwzc9p$=Dt.prototype.getOrDefault_xwzc9p$,cs.prototype.remove_xwzc9p$=Ft.prototype.remove_xwzc9p$,cs.prototype.getOrDefault_xwzc9p$=Ft.prototype.getOrDefault_xwzc9p$,us.prototype.getOrDefault_xwzc9p$,_s.prototype.remove_xwzc9p$=cs.prototype.remove_xwzc9p$,_s.prototype.getOrDefault_xwzc9p$=cs.prototype.getOrDefault_xwzc9p$,hs.prototype.getOrDefault_xwzc9p$=Dt.prototype.getOrDefault_xwzc9p$,Xs.prototype.plus_1fupul$=Ws.prototype.plus_1fupul$,Fs.prototype.fold_3cc69b$=Xs.prototype.fold_3cc69b$,Fs.prototype.plus_1fupul$=Xs.prototype.plus_1fupul$,Ks.prototype.get_j3r2sn$=Xs.prototype.get_j3r2sn$,Ks.prototype.fold_3cc69b$=Xs.prototype.fold_3cc69b$,Ks.prototype.minusKey_yeqjby$=Xs.prototype.minusKey_yeqjby$,Ks.prototype.plus_1fupul$=Xs.prototype.plus_1fupul$,ta.prototype.plus_1fupul$=Ws.prototype.plus_1fupul$,ka.prototype.contains_mef7kx$=me.prototype.contains_mef7kx$,ka.prototype.isEmpty=me.prototype.isEmpty,e=3.141592653589793,rn=null;var Wp=void 0!==n&&n.versions&&!!n.versions.node;$i=Wp?new Zi(n.stdout):new Qi,new eo(Qs(),(function(e){var n;return Tl(e),null==(n=e.value)||t.isType(n,N)||P(),je})),bi=c.pow(2,-26),gi=c.pow(2,-53),Jo=t.newArray(0,null),new qn((function(t,e){return $r(t,e,!0)})),new Int8Array([f(239),f(191),f(189)]),Qo=65533,new Sl(la())}()})?i.apply(e,o):i)||(t.exports=r)}).call(this,n(2))},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,p=[],u=!1,c=-1;function _(){u&&l&&(u=!1,l.length?p=l.concat(p):c=-1,p.length&&h())}function h(){if(!u){var t=a(_);u=!0;for(var e=p.length;e;){for(l=p,p=[];++c<e;)l&&l[c].run();c=-1,e=p.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function f(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new d(t,e)),1!==p.length||u||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=f,o.addListener=f,o.once=f,o.off=f,o.removeListener=f,o.removeAllListeners=f,o.emit=f,o.prependListener=f,o.prependOnceListener=f,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(i){var o,r,s;r=[e,n(1)],void 0===(s="function"==typeof(o=function(t,e){"use strict";var n,o=Object,r=e.throwCCE,s=e.Kind.CLASS,a=e.kotlin.coroutines.Continuation,l=(e.kotlin.Annotation,e.kotlin.coroutines.intrinsics.COROUTINE_SUSPENDED),p=e.kotlin.coroutines.CoroutineImpl,u=(e.kotlin.collections.emptyList_287e2$,e.kotlin.Unit),c=e.throwUPAE,_=(e.kotlin.collections.copyToArray,e.kotlin.coroutines.intrinsics.intercepted_f9mg25$),h=e.kotlin.collections.ArrayList_init_ww73n8$,d=e.kotlin.Result,f=e.kotlin.coroutines,m=e.kotlin.coroutines.intrinsics.createCoroutineUnintercepted_3a617i$,y=e.kotlin.coroutines.ContinuationInterceptor,$=e.equals,b=e.defineInlineFunction,g=e.wrapFunction,v=e.kotlin.IllegalStateException_init_pdl1vj$,x=e.Kind.INTERFACE,w=Error,z=e.toString,C=e.Kind.OBJECT,S=e.kotlin.createFailure_tcv7n7$,k=e.kotlin.coroutines.AbstractCoroutineContextKey,L=e.kotlin.coroutines.AbstractCoroutineContextElement,j=e.kotlin.RuntimeException,N=e.kotlin.coroutines.CoroutineContext.Key,P=e.kotlin.coroutines.CoroutineContext.Element,T=e.kotlin.coroutines.startCoroutine_x18nsh$,O=e.kotlin.coroutines.startCoroutine_3a617i$,E=e.kotlin.Enum,M=e.throwISE,R=e.Long.MAX_VALUE,I=e.Long.ONE,A=e.Long.ZERO,D=new e.Long(0,1),B=(e.Long.fromInt(1e6),new e.Long(2077252342,2147),new e.Long(-1,1073741823),e.ensureNotNull),F=(e.kotlin.Comparable,e.kotlin.IllegalArgumentException_init_pdl1vj$),q=e.kotlin.Error,U=e.kotlin.IllegalStateException,V=e.kotlin.sequences.sequence_o0x0bg$,W=e.kotlin.collections.ArrayList,G=e.kotlin.text.StringBuilder_init,H=e.kotlin.UnsupportedOperationException,X=e.kotlin.UnsupportedOperationException_init_pdl1vj$,K=e.kotlin.addSuppressed_oh0dqn$,Y=Function,Z=e.kotlin.collections.fill_jfbbbd$,J=Math,Q=e.kotlin.NoSuchElementException,tt=e.hashCode,et=(e.kotlin.collections.IndexedValue,e.kotlin.IndexOutOfBoundsException,e.kotlin.collections.LinkedHashMap_init_q3lmfv$,e.kotlin.collections.ArrayList_init_287e2$),nt=(e.kotlin.collections.HashSet_init_287e2$,e.kotlin.collections.LinkedHashSet_init_287e2$,e.kotlin.Pair,e.kotlin.to_ujzrz7$,e.kotlin.collections.indexOf_mjy6jw$,e.kotlin.collections.arrayCopy),it=(e.kotlin.text.trimIndent_pdl1vz$,e.Long.NEG_ONE,e.kotlin.collections.joinToString_fmv235$,e.kotlin.collections.listOf_mh5how$,e.toByte,e.kotlin.ranges.coerceAtLeast_dqglrj$,e.kotlin.ArithmeticException,new e.Long(0,805306368),e.Long.fromInt(1073741823),new e.Long(-1073741824,268435455),new e.Long(0,268435456),new e.Long(0,536870912),e.kotlin.text.toBoolean_5cw0du$,e.kotlin.text.toLongOrNull_pdl1vz$,e.kotlin.coroutines.intrinsics.createCoroutineUnintercepted_x18nsh$),ot=e.kotlin.collections.shuffle_vvxzk3$,rt=e.Long.fromInt(2147483647),st=e.kotlin.ranges.coerceIn_ekzx8g$,at=e.kotlin.collections.HashSet_init_ww73n8$,lt=(e.kotlin.collections.get_lastIndex_55thoc$,e.kotlin.NoSuchElementException_init,e.kotlin.collections.MutableIterator,e.kotlin.collections.AbstractMutableList,e.kotlin.UnsupportedOperationException_init);function pt(t,e){void 0===e&&(e=!0),Be.call(this,e),this.parentContext=t,this.context_p8rm81$_0=this.parentContext.plus_1fupul$(this)}function ut(t,e){pt.call(this,t,e)}function ct(t,e){p.call(this,e),this.exceptionState_0=1,this.$this=t}function _t(t,e){ut.call(this,t,!1),this.continuation_0=m(e,this,this)}function ht(t,e){pt.call(this,t,e)}function dt(t,e){ht.call(this,t,!1),this.continuation_0=m(e,this,this)}function ft(t,e){co.call(this,t,e)}function mt(t,e){co.call(this,t,e),this._decision_0=0}function yt(){}function $t(t){var n,i;return e.isType(t,Qi)?null==(i=null!=(n=t.claimReusableCancellableContinuation())&&n.resetStateReusable_8be2vx$()?n:null)?new wt(t,2):i:new wt(t,2)}function bt(t,e){t.invokeOnCancellation_f05bi3$(new vt(e))}function gt(t,e){t.invokeOnCancellation_f05bi3$(new xt(e))}function vt(t){jt.call(this),this.node_0=t}function xt(t){Lt.call(this),this.handle_0=t}function wt(t,e){io.call(this,e),this.delegate_dhbmku$_0=t,this.context_xycjfy$_0=this.delegate.context,this._decision_0=0,this._state_0=kt(),this._parentHandle_0=null}function zt(){}function Ct(){St=this}pt.prototype=Object.create(Be.prototype),pt.prototype.constructor=pt,Lt.prototype=Object.create(Do.prototype),Lt.prototype.constructor=Lt,Ao.prototype=Object.create(Lr.prototype),Ao.prototype.constructor=Ao,Je.prototype=Object.create(Ao.prototype),Je.prototype.constructor=Je,ut.prototype=Object.create(pt.prototype),ut.prototype.constructor=ut,_t.prototype=Object.create(ut.prototype),_t.prototype.constructor=_t,ht.prototype=Object.create(pt.prototype),ht.prototype.constructor=ht,dt.prototype=Object.create(ht.prototype),dt.prototype.constructor=dt,co.prototype=Object.create(pt.prototype),co.prototype.constructor=co,ft.prototype=Object.create(co.prototype),ft.prototype.constructor=ft,mt.prototype=Object.create(co.prototype),mt.prototype.constructor=mt,jt.prototype=Object.create(Lt.prototype),jt.prototype.constructor=jt,vt.prototype=Object.create(jt.prototype),vt.prototype.constructor=vt,xt.prototype=Object.create(Lt.prototype),xt.prototype.constructor=xt,io.prototype=Object.create(xr.prototype),io.prototype.constructor=io,wt.prototype=Object.create(io.prototype),wt.prototype.constructor=wt,Nt.prototype=Object.create(Lt.prototype),Nt.prototype.constructor=Nt,Ot.prototype=Object.create(Be.prototype),Ot.prototype.constructor=Ot,Ft.prototype=Object.create(Bt.prototype),Ft.prototype.constructor=Ft,Ut.prototype=Object.create(k.prototype),Ut.prototype.constructor=Ut,qt.prototype=Object.create(L.prototype),qt.prototype.constructor=qt,oe.prototype=Object.create(E.prototype),oe.prototype.constructor=oe,fe.prototype=Object.create(qt.prototype),fe.prototype.constructor=fe,nr.prototype=Object.create(fe.prototype),nr.prototype.constructor=nr,be.prototype=Object.create(nr.prototype),ge.prototype=Object.create(j.prototype),ge.prototype.constructor=ge,ve.prototype=Object.create(q.prototype),ve.prototype.constructor=ve,Ve.prototype=Object.create(Je.prototype),Ve.prototype.constructor=Ve,We.prototype=Object.create(wt.prototype),We.prototype.constructor=We,Ye.prototype=Object.create(Be.prototype),Ye.prototype.constructor=Ye,Or.prototype=Object.create(Lr.prototype),Or.prototype.constructor=Or,Qe.prototype=Object.create(Or.prototype),Qe.prototype.constructor=Qe,en.prototype=Object.create(Je.prototype),en.prototype.constructor=en,nn.prototype=Object.create(Je.prototype),nn.prototype.constructor=nn,on.prototype=Object.create(Je.prototype),on.prototype.constructor=on,rn.prototype=Object.create(Je.prototype),rn.prototype.constructor=rn,sn.prototype=Object.create(Je.prototype),sn.prototype.constructor=sn,an.prototype=Object.create(Je.prototype),an.prototype.constructor=an,ln.prototype=Object.create(an.prototype),ln.prototype.constructor=ln,pn.prototype=Object.create(an.prototype),pn.prototype.constructor=pn,un.prototype=Object.create(an.prototype),un.prototype.constructor=un,cn.prototype=Object.create(qt.prototype),cn.prototype.constructor=cn,_n.prototype=Object.create(L.prototype),or.prototype=Object.create(U.prototype),or.prototype.constructor=or,hn.prototype=Object.create(or.prototype),hn.prototype.constructor=hn,dn.prototype=Object.create(qt.prototype),dn.prototype.constructor=dn,Pr.prototype=Object.create(Ji.prototype),Pr.prototype.constructor=Pr,jr.prototype=Object.create(Pr.prototype),jr.prototype.constructor=jr,On.prototype=Object.create(jr.prototype),On.prototype.constructor=On,Nr.prototype=Object.create(Pr.prototype),Nr.prototype.constructor=Nr,Mn.prototype=Object.create(Nr.prototype),Mn.prototype.constructor=Mn,Zn.prototype=Object.create(Lr.prototype),Zn.prototype.constructor=Zn,In.prototype=Object.create(Zn.prototype),In.prototype.constructor=In,An.prototype=Object.create(Zn.prototype),An.prototype.constructor=An,Fn.prototype=Object.create(Nr.prototype),Fn.prototype.constructor=Fn,Wn.prototype=Object.create(jt.prototype),Wn.prototype.constructor=Wn,ni.prototype=Object.create(Lr.prototype),ni.prototype.constructor=ni,Hn.prototype=Object.create(ni.prototype),Hn.prototype.constructor=Hn,Xn.prototype=Object.create(Hn.prototype),Xn.prototype.constructor=Xn,Kn.prototype=Object.create(ni.prototype),Kn.prototype.constructor=Kn,Yn.prototype=Object.create(ni.prototype),Yn.prototype.constructor=Yn,Dn.prototype=Object.create(Tn.prototype),Dn.prototype.constructor=Dn,Qn.prototype=Object.create(Zn.prototype),Qn.prototype.constructor=Qn,ti.prototype=Object.create(Qn.prototype),ti.prototype.constructor=ti,ei.prototype=Object.create(Zn.prototype),ei.prototype.constructor=ei,ii.prototype=Object.create(Dn.prototype),ii.prototype.constructor=ii,oi.prototype=Object.create(pt.prototype),si.prototype=Object.create(E.prototype),si.prototype.constructor=si,Bi.prototype=Object.create(U.prototype),Bi.prototype.constructor=Bi,Fi.prototype=Object.create(Q.prototype),Fi.prototype.constructor=Fi,qi.prototype=Object.create(pt.prototype),Vi.prototype=Object.create(Dn.prototype),Vi.prototype.constructor=Vi,Wi.prototype=Object.create(Dn.prototype),Wi.prototype.constructor=Wi,Hi.prototype=Object.create(Dn.prototype),Hi.prototype.constructor=Hi,Zi.prototype=Object.create(Yi.prototype),Zi.prototype.constructor=Zi,Qi.prototype=Object.create(io.prototype),Qi.prototype.constructor=Qi,uo.prototype=Object.create(j.prototype),uo.prototype.constructor=uo,To.prototype=Object.create(an.prototype),To.prototype.constructor=To,Oo.prototype=Object.create(Yi.prototype),Oo.prototype.constructor=Oo,Eo.prototype=Object.create(Zi.prototype),Eo.prototype.constructor=Eo,Mo.prototype=Object.create(Lr.prototype),Mo.prototype.constructor=Mo,Po.prototype=Object.create(Or.prototype),Po.prototype.constructor=Po,Qo.prototype=Object.create(cn.prototype),Qo.prototype.constructor=Qo,er.prototype=Object.create(fe.prototype),er.prototype.constructor=er,sr.prototype=Object.create(or.prototype),sr.prototype.constructor=sr,gr.prototype=Object.create(Ki.prototype),gr.prototype.constructor=gr,pr.prototype=Object.create(gr.prototype),pr.prototype.constructor=pr,lr.prototype=Object.create(qt.prototype),lr.prototype.constructor=lr,ur.prototype=Object.create(lr.prototype),ur.prototype.constructor=ur,hr.prototype=Object.create(lr.prototype),hr.prototype.constructor=hr,mr.prototype=Object.create(Lt.prototype),mr.prototype.constructor=mr,yr.prototype=Object.create(qt.prototype),yr.prototype.constructor=yr,br.prototype=Object.create(gr.prototype),br.prototype.constructor=br,Cr.prototype=Object.create(or.prototype),Cr.prototype.constructor=Cr,Tr.prototype=Object.create(Yi.prototype),Tr.prototype.constructor=Tr,Object.defineProperty(pt.prototype,"context",{configurable:!0,get:function(){return this.context_p8rm81$_0}}),Object.defineProperty(pt.prototype,"coroutineContext",{configurable:!0,get:function(){return this.context}}),Object.defineProperty(pt.prototype,"isActive",{configurable:!0,get:function(){return e.callGetter(this,Be.prototype,"isActive")}}),pt.prototype.initParentJob_8be2vx$=function(){this.initParentJobInternal_8vd9i7$(this.parentContext.get_j3r2sn$(Ce()))},pt.prototype.onStart=function(){},pt.prototype.onStartInternal=function(){this.onStart()},pt.prototype.onCompleted_11rb$=function(t){},pt.prototype.onCancelled_z1nxw$=function(t,e){},pt.prototype.cancellationExceptionMessage=function(){return Xo(this)+" was cancelled"},pt.prototype.onCompletionInternal_s8jyv4$=function(t){var n;e.isType(t,Bt)?this.onCancelled_z1nxw$(t.cause,t.handled):this.onCompleted_11rb$(null==(n=t)||e.isType(n,o)?n:r())},pt.prototype.resumeWith_tl1gpc$=function(t){var e=this.makeCompletingOnce_8ea4ql$(Rt(t));e!==Te&&this.afterResume_s8jyv4$(e)},pt.prototype.afterResume_s8jyv4$=function(t){this.afterCompletion_s8jyv4$(t)},pt.prototype.handleOnCompletionException_tcv7n7$=function(t){Ht(this.context,t)},pt.prototype.nameString=function(){var t;return this.context,null==(t=null)?Be.prototype.nameString.call(this):'"'+t+'":'+Be.prototype.nameString.call(this)},pt.prototype.start_cfq2d3$=function(t,e){this.initParentJob_8be2vx$(),t.invoke_810yno$(e,this)},pt.prototype.start_b5ul0p$=function(t,e,n){this.initParentJob_8be2vx$(),t.invoke_3o0yor$(n,e,this)},pt.$metadata$={kind:s,simpleName:"AbstractCoroutine",interfaces:[ie,a,Be,xe]},ut.prototype.getCompleted=function(){var t;return null==(t=this.getCompletedInternal_8be2vx$())||e.isType(t,o)?t:r()},ct.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},ct.prototype=Object.create(p.prototype),ct.prototype.constructor=ct,ct.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t;if(this.state_0=2,this.result_0=this.$this.awaitInternal_8be2vx$(this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return null==(t=this.result_0)||e.isType(t,o)?t:r();default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ut.prototype.await=function(t,e){var n=new ct(this,t);return e?n:n.doResume(null)},Object.defineProperty(ut.prototype,"onAwait",{configurable:!0,get:function(){return this}}),ut.prototype.registerSelectClause1_o3xas4$=function(t,e){this.registerSelectClause1Internal_u6kgbh$(t,e)},ut.$metadata$={kind:s,simpleName:"DeferredCoroutine",interfaces:[ko,ce,pt]},_t.prototype.onStart=function(){$o(this.continuation_0,this)},_t.$metadata$={kind:s,simpleName:"LazyDeferredCoroutine",interfaces:[ut]},b("kotlinx-coroutines-core.kotlinx.coroutines.invoke_5xrhu2$",g((function(){var n=t.kotlinx.coroutines.withContext_i5cbzn$;return function(t,i,o){return e.suspendCall(n(t,i,e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver())}}))),ht.prototype.handleJobException_tcv7n7$=function(t){return Ht(this.context,t),!0},ht.$metadata$={kind:s,simpleName:"StandaloneCoroutine",interfaces:[pt]},dt.prototype.onStart=function(){$o(this.continuation_0,this)},dt.$metadata$={kind:s,simpleName:"LazyStandaloneCoroutine",interfaces:[ht]},ft.prototype.afterResume_s8jyv4$=function(t){var e=At(t,this.uCont);this.uCont.context,this.uCont.resumeWith_tl1gpc$(e)},ft.$metadata$={kind:s,simpleName:"UndispatchedCoroutine",interfaces:[co]},mt.prototype.trySuspend_0=function(){var t;for(this._decision_0;;)switch(this._decision_0){case 0:if(0===(t=this)._decision_0&&(t._decision_0=1,1))return!0;break;case 2:return!1;default:throw v("Already suspended".toString())}},mt.prototype.tryResume_0=function(){var t;for(this._decision_0;;)switch(this._decision_0){case 0:if(0===(t=this)._decision_0&&(t._decision_0=2,1))return!0;break;case 1:return!1;default:throw v("Already resumed".toString())}},mt.prototype.afterCompletion_s8jyv4$=function(t){this.afterResume_s8jyv4$(t)},mt.prototype.afterResume_s8jyv4$=function(t){this.tryResume_0()||to(_(this.uCont),At(t,this.uCont))},mt.prototype.getResult=function(){var t;if(this.trySuspend_0())return l;var n=Xe(this.state_8be2vx$);if(e.isType(n,Bt))throw n.cause;return null==(t=n)||e.isType(t,o)?t:r()},mt.$metadata$={kind:s,simpleName:"DispatchedCoroutine",interfaces:[co]},yt.prototype.tryResume_19pj23$=function(t,e,n){return void 0===e&&(e=null),n?n(t,e):this.tryResume_19pj23$$default(t,e)},yt.prototype.cancel_dbl4no$=function(t,e){return void 0===t&&(t=null),e?e(t):this.cancel_dbl4no$$default(t)},yt.$metadata$={kind:x,simpleName:"CancellableContinuation",interfaces:[a]},b("kotlinx-coroutines-core.kotlinx.coroutines.suspendCancellableCoroutine_o6sdx9$",g((function(){var n=e.kotlin.coroutines.intrinsics.intercepted_f9mg25$,i=t.kotlinx.coroutines.CancellableContinuationImpl;return function(t,o){var r;return e.suspendCall((r=t,function(t){var e=new i(n(t),1);return e.initCancellability(),r(e),e.getResult()})(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.suspendCancellableCoroutineReusable_mkkzkw$",g((function(){var n=e.kotlin.coroutines.intrinsics.intercepted_f9mg25$,i=t.kotlinx.coroutines.getOrCreateCancellableContinuation_3j0xf1$;return function(t,o){var r;return e.suspendCall((r=t,function(t){var e=i(n(t));return r(e),e.getResult()})(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver())}}))),vt.prototype.invoke=function(t){this.node_0.remove()},vt.prototype.toString=function(){return"RemoveOnCancel["+this.node_0+"]"},vt.$metadata$={kind:s,simpleName:"RemoveOnCancel",interfaces:[jt]},xt.prototype.invoke=function(t){this.handle_0.dispose()},xt.prototype.toString=function(){return"DisposeOnCancel["+this.handle_0+"]"},xt.$metadata$={kind:s,simpleName:"DisposeOnCancel",interfaces:[Lt]},Object.defineProperty(wt.prototype,"delegate",{get:function(){return this.delegate_dhbmku$_0}}),Object.defineProperty(wt.prototype,"context",{configurable:!0,get:function(){return this.context_xycjfy$_0}}),Object.defineProperty(wt.prototype,"parentHandle_0",{configurable:!0,get:function(){return this._parentHandle_0},set:function(t){this._parentHandle_0=t}}),Object.defineProperty(wt.prototype,"state_8be2vx$",{configurable:!0,get:function(){return this._state_0}}),Object.defineProperty(wt.prototype,"isActive",{configurable:!0,get:function(){return e.isType(this.state_8be2vx$,zt)}}),Object.defineProperty(wt.prototype,"isCompleted",{configurable:!0,get:function(){return!e.isType(this.state_8be2vx$,zt)}}),Object.defineProperty(wt.prototype,"isCancelled",{configurable:!0,get:function(){return e.isType(this.state_8be2vx$,Ft)}}),wt.prototype.initCancellability=function(){this.setupCancellation_0()},wt.prototype.isReusable_0=function(){return e.isType(this.delegate,Qi)&&this.delegate.isReusable_pmw987$(this)},wt.prototype.resetStateReusable_8be2vx$=function(){var t=this._state_0;return e.isType(t,Pt)&&null!=t.idempotentResume?(this.detachChild_8be2vx$(),!1):(this._decision_0=0,this._state_0=kt(),!0)},wt.prototype.setupCancellation_0=function(){var t;if(!this.checkCompleted_0()&&null===this.parentHandle_0&&null!=(t=this.delegate.context.get_j3r2sn$(Ce()))){var e=t,n=e.invokeOnCompletion_ct2b2z$(!0,void 0,new un(e,this));this.parentHandle_0=n,this.isCompleted&&!this.isReusable_0()&&(n.dispose(),this.parentHandle_0=De())}},wt.prototype.checkCompleted_0=function(){var t,n,i,o=this.isCompleted;if(!no(this.resumeMode))return o;if(null==(n=e.isType(t=this.delegate,Qi)?t:null))return o;if(null==(i=n.checkPostponedCancellation_jp3215$(this)))return o;var r=i;return o||this.cancel_dbl4no$(r),!0},Object.defineProperty(wt.prototype,"callerFrame",{configurable:!0,get:function(){var t;return e.isType(t=this.delegate,Ir)?t:null}}),wt.prototype.getStackTraceElement=function(){return null},wt.prototype.takeState=function(){return this.state_8be2vx$},wt.prototype.cancelCompletedResult_83a7kv$=function(t,n){var i;for(this._state_0;;){var o=this._state_0;if(e.isType(o,zt))throw v("Not completed".toString());if(e.isType(o,Bt))return;if(e.isType(o,Pt)){if(o.cancelled)throw v("Must be called at most once".toString());var r=o.copy_pkdjca$(void 0,void 0,void 0,void 0,n);if((i=this)._state_0===o&&(i._state_0=r,1))return void o.invokeHandlers_gygfbe$(this,n)}else if(function(t){return t._state_0===o&&(t._state_0=new Pt(o,void 0,void 0,void 0,n),!0)}(this))return}},wt.prototype.cancelLater_0=function(t){var n,i;return!!no(this.resumeMode)&&null!=(i=e.isType(n=this.delegate,Qi)?n:null)&&i.postponeCancellation_tcv7n7$(t)},wt.prototype.cancel_dbl4no$$default=function(t){var n;for(this._state_0;;){var i=this._state_0;t:do{var o,r;if(!e.isType(i,zt))return!1;var s=new Ft(this,t,e.isType(i,Lt));if((n=this)._state_0!==i||(n._state_0=s,0))break t;return null!=(r=e.isType(o=i,Lt)?o:null)&&this.callCancelHandler_gluymk$(r,t),this.detachChildIfNonResuable_0(),this.dispatchResume_0(this.resumeMode),!0}while(0)}},wt.prototype.parentCancelled_8o0b5c$=function(t){this.cancelLater_0(t)||(this.cancel_dbl4no$(t),this.detachChildIfNonResuable_0())},wt.prototype.callCancelHandlerSafely_0=function(t){try{t()}catch(t){if(!e.isType(t,w))throw t;Ht(this.context,new ge("Exception in invokeOnCancellation handler for "+this,t))}},wt.prototype.callCancelHandler_0=function(t,n){try{Bo(t,n)}catch(t){if(!e.isType(t,w))throw t;Ht(this.context,new ge("Exception in invokeOnCancellation handler for "+this,t))}},wt.prototype.callCancelHandler_gluymk$=function(t,n){try{t.invoke(n)}catch(t){if(!e.isType(t,w))throw t;Ht(this.context,new ge("Exception in invokeOnCancellation handler for "+this,t))}},wt.prototype.callOnCancellation_e590hv$=function(t,n){try{t(n)}catch(t){if(!e.isType(t,w))throw t;Ht(this.context,new ge("Exception in resume onCancellation handler for "+this,t))}},wt.prototype.getContinuationCancellationCause_dqr1mp$=function(t){return t.getCancellationException()},wt.prototype.trySuspend_0=function(){var t;for(this._decision_0;;)switch(this._decision_0){case 0:if(0===(t=this)._decision_0&&(t._decision_0=1,1))return!0;break;case 2:return!1;default:throw v("Already suspended".toString())}},wt.prototype.tryResume_0=function(){var t;for(this._decision_0;;)switch(this._decision_0){case 0:if(0===(t=this)._decision_0&&(t._decision_0=2,1))return!0;break;case 1:return!1;default:throw v("Already resumed".toString())}},wt.prototype.getResult=function(){if(this.setupCancellation_0(),this.trySuspend_0())return l;var t=this.state_8be2vx$;if(e.isType(t,Bt))throw Er(t.cause);if(eo(this.resumeMode)){var n=this.context.get_j3r2sn$(Ce());if(null!=n&&!n.isActive){var i=n.getCancellationException();throw this.cancelCompletedResult_83a7kv$(t,i),Er(i)}}return this.getSuccessfulResult_tpy1pm$(t)},wt.prototype.resumeWith_tl1gpc$=function(t){this.resumeImpl_0(It(t,this),this.resumeMode)},wt.prototype.resume_q1ktlu$=function(t,e){this.resumeImpl_0(t,this.resumeMode,e)},wt.prototype.invokeOnCancellation_f05bi3$=function(t){var n,i=this.makeCancelHandler_0(t);for(this._state_0;;){var o,r,s=this._state_0;if(e.isType(s,Ct)){if((n=this)._state_0===s&&(n._state_0=i,1))return}else if(e.isType(s,Lt))this.multipleHandlersError_0(t,s);else{if(e.isType(s,Bt))return s.makeHandled()||this.multipleHandlersError_0(t,s),void(e.isType(s,Ft)&&this.callCancelHandler_0(t,null!=(r=e.isType(o=s,Bt)?o:null)?r.cause:null));if(e.isType(s,Pt)){if(null!=s.cancelHandler&&this.multipleHandlersError_0(t,s),e.isType(i,jt))return;if(s.cancelled)return void this.callCancelHandler_0(t,s.cancelCause);var a=s.copy_pkdjca$(void 0,i);if(function(t){return t._state_0===s&&(t._state_0=a,!0)}(this))return}else{if(e.isType(i,jt))return;var l=new Pt(s,i);if(function(t){return t._state_0===s&&(t._state_0=l,!0)}(this))return}}}},wt.prototype.multipleHandlersError_0=function(t,e){throw v(("It's prohibited to register multiple handlers, tried to register "+t+", already has "+z(e)).toString())},wt.prototype.makeCancelHandler_0=function(t){return e.isType(t,Lt)?t:new Nt(t)},wt.prototype.dispatchResume_0=function(t){this.tryResume_0()||oo(this,t)},wt.prototype.resumedState_0=function(t,n,i,o,r){var s;return e.isType(n,Bt)||!eo(i)&&null==r||null==o&&(!e.isType(t,Lt)||e.isType(t,jt))&&null==r?n:new Pt(n,e.isType(s=t,Lt)?s:null,o,r)},wt.prototype.resumeImpl_0=function(t,n,i){var o;for(void 0===i&&(i=null),this._state_0;;){var r=this._state_0;t:do{if(e.isType(r,zt)){var s=this.resumedState_0(r,t,n,i,null);if((o=this)._state_0!==r||(o._state_0=s,0))break t;return this.detachChildIfNonResuable_0(),void this.dispatchResume_0(n)}if(e.isType(r,Ft)&&r.makeResumed())return void(null!=i&&this.callOnCancellation_e590hv$(i,r.cause));this.alreadyResumedError_0(t)}while(0)}},wt.prototype.tryResumeImpl_0=function(t,i,o){var r;for(this._state_0;;){var s=this._state_0;t:do{if(e.isType(s,zt)){var a=this.resumedState_0(s,t,this.resumeMode,o,i);if((r=this)._state_0!==s||(r._state_0=a,0))break t;return this.detachChildIfNonResuable_0(),n}return e.isType(s,Pt)&&null!=i&&s.idempotentResume===i?n:null}while(0)}},wt.prototype.alreadyResumedError_0=function(t){throw v(("Already resumed, but proposed with update "+z(t)).toString())},wt.prototype.detachChildIfNonResuable_0=function(){this.isReusable_0()||this.detachChild_8be2vx$()},wt.prototype.detachChild_8be2vx$=function(){var t=this.parentHandle_0;null!=t&&t.dispose(),this.parentHandle_0=De()},wt.prototype.tryResume_19pj23$$default=function(t,e){return this.tryResumeImpl_0(t,e,null)},wt.prototype.tryResume_i8qury$=function(t,e,n){return this.tryResumeImpl_0(t,e,n)},wt.prototype.tryResumeWithException_tcv7n7$=function(t){return this.tryResumeImpl_0(new Bt(t),null,null)},wt.prototype.completeResume_za3rmp$=function(t){this.dispatchResume_0(this.resumeMode)},wt.prototype.resumeUndispatched_hyuxa3$=function(t,n){var i,o=e.isType(i=this.delegate,Qi)?i:null;this.resumeImpl_0(n,(null!=o?o.dispatcher:null)===t?4:this.resumeMode)},wt.prototype.resumeUndispatchedWithException_gd0rtt$=function(t,n){var i,o=e.isType(i=this.delegate,Qi)?i:null;this.resumeImpl_0(new Bt(n),(null!=o?o.dispatcher:null)===t?4:this.resumeMode)},wt.prototype.getSuccessfulResult_tpy1pm$=function(t){var n,i;return e.isType(t,Pt)?null==(n=t.result)||e.isType(n,o)?n:r():null==(i=t)||e.isType(i,o)?i:r()},wt.prototype.getExceptionalResult_s8jyv4$=function(t){var e;return null!=(e=io.prototype.getExceptionalResult_s8jyv4$.call(this,t))?Er(e,this.delegate):null},wt.prototype.toString=function(){return this.nameString()+"("+Vo(this.delegate)+"){"+z(this.state_8be2vx$)+"}@"+Ho(this)},wt.prototype.nameString=function(){return"CancellableContinuation"},wt.$metadata$={kind:s,simpleName:"CancellableContinuationImpl",interfaces:[Ir,yt,io]},zt.$metadata$={kind:x,simpleName:"NotCompleted",interfaces:[]},Ct.prototype.toString=function(){return"Active"},Ct.$metadata$={kind:C,simpleName:"Active",interfaces:[zt]};var St=null;function kt(){return null===St&&new Ct,St}function Lt(){Do.call(this)}function jt(){Lt.call(this)}function Nt(t){Lt.call(this),this.handler_0=t}function Pt(t,e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),this.result=t,this.cancelHandler=e,this.onCancellation=n,this.idempotentResume=i,this.cancelCause=o}function Tt(){}function Ot(t){Be.call(this,!0),this.initParentJobInternal_8vd9i7$(t)}function Et(t,e){p.call(this,e),this.exceptionState_0=1,this.$this=t}function Mt(){}function Rt(t,n){var i,s;void 0===n&&(n=null);var a=t.exceptionOrNull();if(null==a){var l=null==(i=t.value)||e.isType(i,o)?i:r();s=null!=n?new Dt(l,n):l}else s=new Bt(a);return s}function It(t,n){var i,s=t.exceptionOrNull();return null==s?null==(i=t.value)||e.isType(i,o)?i:r():new Bt(Er(s))}function At(t,n){var i;return e.isType(t,Bt)?new d(S(Er(t.cause))):(d.Companion,new d(null==(i=t)||e.isType(i,o)?i:r()))}function Dt(t,e){this.result=t,this.onCancellation=e}function Bt(t,e){void 0===e&&(e=!1),this.cause=t,this._handled_0=e}function Ft(t,e,n){Bt.call(this,null!=e?e:rr("Continuation "+t+" was cancelled normally"),n),this._resumed_0=!1}function qt(){Gt(),L.call(this,y.Key)}function Ut(){Wt=this,k.call(this,y.Key,Vt)}function Vt(t){var n;return e.isType(n=t,qt)?n:null}Lt.$metadata$={kind:s,simpleName:"CancelHandler",interfaces:[zt,Do]},jt.$metadata$={kind:s,simpleName:"BeforeResumeCancelHandler",interfaces:[Lt]},Nt.prototype.invoke=function(t){this.handler_0(t)},Nt.prototype.toString=function(){return"InvokeOnCancel["+Xo(this.handler_0)+"@"+Ho(this)+"]"},Nt.$metadata$={kind:s,simpleName:"InvokeOnCancel",interfaces:[Lt]},Object.defineProperty(Pt.prototype,"cancelled",{configurable:!0,get:function(){return null!=this.cancelCause}}),Pt.prototype.invokeHandlers_gygfbe$=function(t,e){var n,i;null!=(n=this.cancelHandler)&&t.callCancelHandler_gluymk$(n,e),null!=(i=this.onCancellation)&&t.callOnCancellation_e590hv$(i,e)},Pt.$metadata$={kind:s,simpleName:"CompletedContinuation",interfaces:[]},Pt.prototype.component1=function(){return this.result},Pt.prototype.component2=function(){return this.cancelHandler},Pt.prototype.component3=function(){return this.onCancellation},Pt.prototype.component4=function(){return this.idempotentResume},Pt.prototype.component5=function(){return this.cancelCause},Pt.prototype.copy_pkdjca$=function(t,e,n,i,o){return new Pt(void 0===t?this.result:t,void 0===e?this.cancelHandler:e,void 0===n?this.onCancellation:n,void 0===i?this.idempotentResume:i,void 0===o?this.cancelCause:o)},Pt.prototype.toString=function(){return"CompletedContinuation(result="+e.toString(this.result)+", cancelHandler="+e.toString(this.cancelHandler)+", onCancellation="+e.toString(this.onCancellation)+", idempotentResume="+e.toString(this.idempotentResume)+", cancelCause="+e.toString(this.cancelCause)+")"},Pt.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.result)|0)+e.hashCode(this.cancelHandler)|0)+e.hashCode(this.onCancellation)|0)+e.hashCode(this.idempotentResume)|0)+e.hashCode(this.cancelCause)|0},Pt.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.result,t.result)&&e.equals(this.cancelHandler,t.cancelHandler)&&e.equals(this.onCancellation,t.onCancellation)&&e.equals(this.idempotentResume,t.idempotentResume)&&e.equals(this.cancelCause,t.cancelCause)},Tt.$metadata$={kind:x,simpleName:"CompletableDeferred",interfaces:[ce]},Object.defineProperty(Ot.prototype,"onCancelComplete",{configurable:!0,get:function(){return!0}}),Ot.prototype.getCompleted=function(){var t;return null==(t=this.getCompletedInternal_8be2vx$())||e.isType(t,o)?t:r()},Et.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},Et.prototype=Object.create(p.prototype),Et.prototype.constructor=Et,Et.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t;if(this.state_0=2,this.result_0=this.$this.awaitInternal_8be2vx$(this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return null==(t=this.result_0)||e.isType(t,o)?t:r();default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Ot.prototype.await=function(t,e){var n=new Et(this,t);return e?n:n.doResume(null)},Object.defineProperty(Ot.prototype,"onAwait",{configurable:!0,get:function(){return this}}),Ot.prototype.registerSelectClause1_o3xas4$=function(t,e){this.registerSelectClause1Internal_u6kgbh$(t,e)},Ot.prototype.complete_11rb$=function(t){return this.makeCompleting_8ea4ql$(t)},Ot.prototype.completeExceptionally_tcv7n7$=function(t){return this.makeCompleting_8ea4ql$(new Bt(t))},Ot.$metadata$={kind:s,simpleName:"CompletableDeferredImpl",interfaces:[ko,Tt,Be]},Mt.$metadata$={kind:x,simpleName:"CompletableJob",interfaces:[xe]},Dt.$metadata$={kind:s,simpleName:"CompletedWithCancellation",interfaces:[]},Dt.prototype.component1=function(){return this.result},Dt.prototype.component2=function(){return this.onCancellation},Dt.prototype.copy_pe4fyg$=function(t,e){return new Dt(void 0===t?this.result:t,void 0===e?this.onCancellation:e)},Dt.prototype.toString=function(){return"CompletedWithCancellation(result="+e.toString(this.result)+", onCancellation="+e.toString(this.onCancellation)+")"},Dt.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.result)|0)+e.hashCode(this.onCancellation)|0},Dt.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.result,t.result)&&e.equals(this.onCancellation,t.onCancellation)},Object.defineProperty(Bt.prototype,"handled",{configurable:!0,get:function(){return this._handled_0}}),Bt.prototype.makeHandled=function(){return!1===(t=this)._handled_0&&(t._handled_0=!0,!0);var t},Bt.prototype.toString=function(){return Xo(this)+"["+this.cause+"]"},Bt.$metadata$={kind:s,simpleName:"CompletedExceptionally",interfaces:[]},Ft.prototype.makeResumed=function(){return!1===(t=this)._resumed_0&&(t._resumed_0=!0,!0);var t},Ft.$metadata$={kind:s,simpleName:"CancelledContinuation",interfaces:[Bt]},Ut.$metadata$={kind:C,simpleName:"Key",interfaces:[k]};var Wt=null;function Gt(){return null===Wt&&new Ut,Wt}function Ht(t,n){var i;try{if(null!=(i=t.get_j3r2sn$(ne())))return void i.handleException_1ur55u$(t,n)}catch(t){if(e.isType(t,w))return void Go(0,Xt(n,t));throw t}Go(0,n)}function Xt(t,e){return t===e?t:new j("Exception while trying to handle coroutine exception",e)}function Kt(){ne()}function Yt(){ee=this}qt.prototype.isDispatchNeeded_1fupul$=function(t){return!0},qt.prototype.dispatchYield_5bn72i$=function(t,e){this.dispatch_5bn72i$(t,e)},qt.prototype.interceptContinuation_wj8d80$=function(t){return new Qi(this,t)},qt.prototype.releaseInterceptedContinuation_k98bjh$=function(t){var n,i;null!=(i=(e.isType(n=t,Qi)?n:r()).reusableCancellableContinuation)&&i.detachChild_8be2vx$()},qt.prototype.plus_9wrrq5$=function(t){return t},qt.prototype.toString=function(){return Xo(this)+"@"+Ho(this)},qt.$metadata$={kind:s,simpleName:"CoroutineDispatcher",interfaces:[y,L]},Yt.$metadata$={kind:C,simpleName:"Key",interfaces:[N]};var Zt,Jt,Qt,te,ee=null;function ne(){return null===ee&&new Yt,ee}function ie(){}function oe(t,e){E.call(this),this.name$=t,this.ordinal$=e}function re(){re=function(){},Zt=new oe("DEFAULT",0),Jt=new oe("LAZY",1),Qt=new oe("ATOMIC",2),te=new oe("UNDISPATCHED",3)}function se(){return re(),Zt}function ae(){return re(),Jt}function le(){return re(),Qt}function pe(){return re(),te}function ue(){}function ce(){}function _e(t){return function(e){var n=new wt(_(e),1);return n.initCancellability(),t(n),n.getResult()}}function he(){}function de(t){var n,i;return null!=(i=e.isType(n=t.get_j3r2sn$(y.Key),he)?n:null)?i:qo()}function fe(){qt.call(this),this.useCount_0=A,this.shared_0=!1,this.unconfinedQueue_0=null}function me(){ye=this,this.ref_0=new Fr}ie.$metadata$={kind:x,simpleName:"CoroutineScope",interfaces:[]},b("kotlinx-coroutines-core.kotlinx.coroutines.currentCoroutineContext",(function(t){return e.coroutineReceiver().context})),oe.prototype.invoke_810yno$=function(t,n){switch(this.name){case"DEFAULT":mo(t,n);break;case"ATOMIC":T(t,n);break;case"UNDISPATCHED":vo(t,n);break;case"LAZY":break;default:e.noWhenBranchMatched()}},oe.prototype.invoke_3o0yor$=function(t,n,i){switch(this.name){case"DEFAULT":yo(t,n,i);break;case"ATOMIC":O(t,n,i);break;case"UNDISPATCHED":xo(t,n,i);break;case"LAZY":break;default:e.noWhenBranchMatched()}},Object.defineProperty(oe.prototype,"isLazy",{configurable:!0,get:function(){return this===ae()}}),oe.$metadata$={kind:s,simpleName:"CoroutineStart",interfaces:[E]},oe.values=function(){return[se(),ae(),le(),pe()]},oe.valueOf_61zpoe$=function(t){switch(t){case"DEFAULT":return se();case"LAZY":return ae();case"ATOMIC":return le();case"UNDISPATCHED":return pe();default:M("No enum constant kotlinx.coroutines.CoroutineStart."+t)}},ue.$metadata$={kind:x,simpleName:"CopyableThrowable",interfaces:[]},ce.$metadata$={kind:x,simpleName:"Deferred",interfaces:[xe]},he.prototype.delay_s8cxhz$=function(t,e){var n,i;if(!(t.toNumber()<=0))return _e((n=t,i=this,function(t){return i.scheduleResumeAfterDelay_egqmvs$(n,t),u}))(e)},he.prototype.invokeOnTimeout_oczv3n$=function(t,e,n){return qo().invokeOnTimeout_oczv3n$(t,e,n)},he.$metadata$={kind:x,simpleName:"Delay",interfaces:[]},fe.prototype.processNextEvent=function(){return this.processUnconfinedEvent()?A:R},Object.defineProperty(fe.prototype,"isEmpty",{configurable:!0,get:function(){return this.isUnconfinedQueueEmpty}}),Object.defineProperty(fe.prototype,"nextTime",{configurable:!0,get:function(){var t;return null==(t=this.unconfinedQueue_0)||t.isEmpty?R:A}}),fe.prototype.processUnconfinedEvent=function(){var t,e;return null!=(t=this.unconfinedQueue_0)&&null!=(e=t.removeFirstOrNull())&&(e.run(),!0)},fe.prototype.shouldBeProcessedFromContext=function(){return!1},fe.prototype.dispatchUnconfined_4avnfa$=function(t){var e,n;if(null!=(e=this.unconfinedQueue_0))n=e;else{var i=new Ki;this.unconfinedQueue_0=i,n=i}n.addLast_trkh7z$(t)},Object.defineProperty(fe.prototype,"isActive",{configurable:!0,get:function(){return this.useCount_0.toNumber()>0}}),Object.defineProperty(fe.prototype,"isUnconfinedLoopActive",{configurable:!0,get:function(){return this.useCount_0.compareTo_11rb$(this.delta_0(!0))>=0}}),Object.defineProperty(fe.prototype,"isUnconfinedQueueEmpty",{configurable:!0,get:function(){var t,e;return null==(e=null!=(t=this.unconfinedQueue_0)?t.isEmpty:null)||e}}),fe.prototype.delta_0=function(t){return t?D:I},fe.prototype.incrementUseCount_6taknv$=function(t){void 0===t&&(t=!1),this.useCount_0=this.useCount_0.add(this.delta_0(t)),t||(this.shared_0=!0)},fe.prototype.decrementUseCount_6taknv$=function(t){void 0===t&&(t=!1),this.useCount_0=this.useCount_0.subtract(this.delta_0(t)),this.useCount_0.toNumber()>0||this.shared_0&&this.shutdown()},fe.prototype.shutdown=function(){},fe.$metadata$={kind:s,simpleName:"EventLoop",interfaces:[qt]},Object.defineProperty(me.prototype,"eventLoop_8be2vx$",{configurable:!0,get:function(){var t,e;if(null!=(t=this.ref_0.get()))e=t;else{var n=tr();this.ref_0.set_11rb$(n),e=n}return e}}),me.prototype.currentOrNull_8be2vx$=function(){return this.ref_0.get()},me.prototype.resetEventLoop_8be2vx$=function(){this.ref_0.set_11rb$(null)},me.prototype.setEventLoop_13etkv$=function(t){this.ref_0.set_11rb$(t)},me.$metadata$={kind:C,simpleName:"ThreadLocalEventLoop",interfaces:[]};var ye=null;function $e(){return null===ye&&new me,ye}function be(){nr.call(this),this._queue_0=null,this._delayed_0=null,this._isCompleted_0=!1}function ge(t,e){j.call(this,t,e),this.name="CompletionHandlerException"}function ve(t,e){q.call(this,t,e),this.name="CoroutinesInternalError"}function xe(){Ce()}function we(){ze=this,ne()}ge.$metadata$={kind:s,simpleName:"CompletionHandlerException",interfaces:[j]},ve.$metadata$={kind:s,simpleName:"CoroutinesInternalError",interfaces:[q]},we.$metadata$={kind:C,simpleName:"Key",interfaces:[N]};var ze=null;function Ce(){return null===ze&&new we,ze}function Se(){}function ke(){}function Le(){}function je(){}function Ne(){Ae=this}xe.prototype.cancel_m4sck1$=function(t,e){void 0===t&&(t=null),e?e(t):this.cancel_m4sck1$$default(t)},xe.prototype.cancel=function(){this.cancel_m4sck1$(null)},xe.prototype.cancel_dbl4no$=function(t,e){return void 0===t&&(t=null),e?e(t):this.cancel_dbl4no$$default(t)},xe.prototype.invokeOnCompletion_ct2b2z$=function(t,e,n,i){return void 0===t&&(t=!1),void 0===e&&(e=!0),i?i(t,e,n):this.invokeOnCompletion_ct2b2z$$default(t,e,n)},xe.prototype.plus_dqr1mp$=function(t){return t},xe.$metadata$={kind:x,simpleName:"Job",interfaces:[P]},Se.$metadata$={kind:x,simpleName:"DisposableHandle",interfaces:[]},ke.$metadata$={kind:x,simpleName:"ChildJob",interfaces:[xe]},Le.$metadata$={kind:x,simpleName:"ParentJob",interfaces:[xe]},je.$metadata$={kind:x,simpleName:"ChildHandle",interfaces:[Se]},Ne.prototype.dispose=function(){},Ne.prototype.childCancelled_tcv7n7$=function(t){return!1},Ne.prototype.toString=function(){return"NonDisposableHandle"},Ne.$metadata$={kind:C,simpleName:"NonDisposableHandle",interfaces:[je,Se]};var Pe,Te,Oe,Ee,Me,Re,Ie,Ae=null;function De(){return null===Ae&&new Ne,Ae}function Be(t){this._state_v70vig$_0=t?Ie:Re,this._parentHandle_acgcx5$_0=null}function Fe(t,e){return function(){return t.state_8be2vx$===e}}function qe(t,e,n,i){p.call(this,i),this.$controller=n,this.exceptionState_0=1,this.local$this$JobSupport=t,this.local$tmp$=void 0,this.local$tmp$_0=void 0,this.local$cur=void 0,this.local$$receiver=e}function Ue(t,e,n){this.list_m9wkmb$_0=t,this._isCompleting_0=e,this._rootCause_0=n,this._exceptionsHolder_0=null}function Ve(t,e,n,i){Je.call(this,n.childJob),this.parent_0=t,this.state_0=e,this.child_0=n,this.proposedUpdate_0=i}function We(t,e){wt.call(this,t,1),this.job_0=e}function Ge(t){this.state=t}function He(t){return e.isType(t,Ze)?new Ge(t):t}function Xe(t){var n,i,o;return null!=(o=null!=(i=e.isType(n=t,Ge)?n:null)?i.state:null)?o:t}function Ke(t){this.isActive_hyoax9$_0=t}function Ye(t){Be.call(this,!0),this.initParentJobInternal_8vd9i7$(t),this.handlesException_fejgjb$_0=this.handlesExceptionF()}function Ze(){}function Je(t){Ao.call(this),this.job=t}function Qe(){Or.call(this)}function tn(t){this.list_afai45$_0=t}function en(t,e){Je.call(this,t),this.handler_0=e}function nn(t,e){Je.call(this,t),this.continuation_0=e}function on(t,e){Je.call(this,t),this.continuation_0=e}function rn(t,e,n){Je.call(this,t),this.select_0=e,this.block_0=n}function sn(t,e,n){Je.call(this,t),this.select_0=e,this.block_0=n}function an(t){Je.call(this,t)}function ln(t,e){an.call(this,t),this.handler_0=e,this._invoked_0=0}function pn(t,e){an.call(this,t),this.childJob=e}function un(t,e){an.call(this,t),this.child=e}function cn(){qt.call(this)}function _n(){L.call(this,Ce())}function hn(t,e){rr(t,this),this.coroutine_8be2vx$=e,this.name="TimeoutCancellationException"}function dn(){fn=this,qt.call(this)}Object.defineProperty(Be.prototype,"key",{configurable:!0,get:function(){return Ce()}}),Object.defineProperty(Be.prototype,"parentHandle_8be2vx$",{configurable:!0,get:function(){return this._parentHandle_acgcx5$_0},set:function(t){this._parentHandle_acgcx5$_0=t}}),Be.prototype.initParentJobInternal_8vd9i7$=function(t){if(null!=t){t.start();var e=t.attachChild_kx8v25$(this);this.parentHandle_8be2vx$=e,this.isCompleted&&(e.dispose(),this.parentHandle_8be2vx$=De())}else this.parentHandle_8be2vx$=De()},Object.defineProperty(Be.prototype,"state_8be2vx$",{configurable:!0,get:function(){for(this._state_v70vig$_0;;){var t=this._state_v70vig$_0;if(!e.isType(t,Yi))return t;t.perform_s8jyv4$(this)}}}),Be.prototype.loopOnState_46ivxf$_0=function(t){for(;;)t(this.state_8be2vx$)},Object.defineProperty(Be.prototype,"isActive",{configurable:!0,get:function(){var t=this.state_8be2vx$;return e.isType(t,Ze)&&t.isActive}}),Object.defineProperty(Be.prototype,"isCompleted",{configurable:!0,get:function(){return!e.isType(this.state_8be2vx$,Ze)}}),Object.defineProperty(Be.prototype,"isCancelled",{configurable:!0,get:function(){var t=this.state_8be2vx$;return e.isType(t,Bt)||e.isType(t,Ue)&&t.isCancelling}}),Be.prototype.finalizeFinishingState_10mr1z$_0=function(t,n){var i,o,s,a=null!=(o=e.isType(i=n,Bt)?i:null)?o.cause:null,l={v:!1};l.v=t.isCancelling;var p=t.sealLocked_dbl4no$(a),u=this.getFinalRootCause_3zkch4$_0(t,p);null!=u&&this.addSuppressedExceptions_85dgeo$_0(u,p);var c,_=u,h=null==_||_===a?n:new Bt(_);return null!=_&&(this.cancelParent_7dutpz$_0(_)||this.handleJobException_tcv7n7$(_))&&(e.isType(s=h,Bt)?s:r()).makeHandled(),l.v||this.onCancelling_dbl4no$(_),this.onCompletionInternal_s8jyv4$(h),(c=this)._state_v70vig$_0===t&&(c._state_v70vig$_0=He(h)),this.completeStateFinalization_a4ilmi$_0(t,h),h},Be.prototype.getFinalRootCause_3zkch4$_0=function(t,n){if(n.isEmpty())return t.isCancelling?new sr(this.cancellationExceptionMessage(),null,this):null;var i;t:do{var o;for(o=n.iterator();o.hasNext();){var r=o.next();if(!e.isType(r,or)){i=r;break t}}i=null}while(0);if(null!=i)return i;var s=n.get_za3lpa$(0);if(e.isType(s,hn)){var a;t:do{var l;for(l=n.iterator();l.hasNext();){var p=l.next();if(p!==s&&e.isType(p,hn)){a=p;break t}}a=null}while(0);if(null!=a)return a}return s},Be.prototype.addSuppressedExceptions_85dgeo$_0=function(t,n){var i;if(!(n.size<=1)){var o=kr(n.size),r=t;for(i=n.iterator();i.hasNext();){var s=i.next();s!==t&&s!==r&&!e.isType(s,or)&&o.add_11rb$(s)}}},Be.prototype.tryFinalizeSimpleState_5emg4m$_0=function(t,e){return(n=this)._state_v70vig$_0===t&&(n._state_v70vig$_0=He(e),!0)&&(this.onCancelling_dbl4no$(null),this.onCompletionInternal_s8jyv4$(e),this.completeStateFinalization_a4ilmi$_0(t,e),!0);var n},Be.prototype.completeStateFinalization_a4ilmi$_0=function(t,n){var i,o,r,s;null!=(i=this.parentHandle_8be2vx$)&&(i.dispose(),this.parentHandle_8be2vx$=De());var a=null!=(r=e.isType(o=n,Bt)?o:null)?r.cause:null;if(e.isType(t,Je))try{t.invoke(a)}catch(n){if(!e.isType(n,w))throw n;this.handleOnCompletionException_tcv7n7$(new ge("Exception in completion handler "+t+" for "+this,n))}else null!=(s=t.list)&&this.notifyCompletion_mgxta4$_0(s,a)},Be.prototype.notifyCancelling_xkpzb8$_0=function(t,n){var i;this.onCancelling_dbl4no$(n);for(var o={v:null},r=t._next;!$(r,t);){if(e.isType(r,an)){var s,a=r;try{a.invoke(n)}catch(t){if(!e.isType(t,w))throw t;null==(null!=(s=o.v)?s:null)&&(o.v=new ge("Exception in completion handler "+a+" for "+this,t))}}r=r._next}null!=(i=o.v)&&this.handleOnCompletionException_tcv7n7$(i),this.cancelParent_7dutpz$_0(n)},Be.prototype.cancelParent_7dutpz$_0=function(t){if(this.isScopedCoroutine)return!0;var n=e.isType(t,or),i=this.parentHandle_8be2vx$;return null===i||i===De()?n:i.childCancelled_tcv7n7$(t)||n},Be.prototype.notifyCompletion_mgxta4$_0=function(t,n){for(var i,o={v:null},r=t._next;!$(r,t);){if(e.isType(r,Je)){var s,a=r;try{a.invoke(n)}catch(t){if(!e.isType(t,w))throw t;null==(null!=(s=o.v)?s:null)&&(o.v=new ge("Exception in completion handler "+a+" for "+this,t))}}r=r._next}null!=(i=o.v)&&this.handleOnCompletionException_tcv7n7$(i)},Be.prototype.notifyHandlers_alhslr$_0=g((function(){var t=e.equals;return function(n,i,o,r){for(var s,a={v:null},l=o._next;!t(l,o);){if(i(l)){var p,u=l;try{u.invoke(r)}catch(t){if(!e.isType(t,w))throw t;null==(null!=(p=a.v)?p:null)&&(a.v=new ge("Exception in completion handler "+u+" for "+this,t))}}l=l._next}null!=(s=a.v)&&this.handleOnCompletionException_tcv7n7$(s)}})),Be.prototype.start=function(){for(;;)switch(this.startInternal_tp1bqd$_0(this.state_8be2vx$)){case 0:return!1;case 1:return!0}},Be.prototype.startInternal_tp1bqd$_0=function(t){return e.isType(t,Ke)?t.isActive?0:(n=this)._state_v70vig$_0!==t||(n._state_v70vig$_0=Ie,0)?-1:(this.onStartInternal(),1):e.isType(t,tn)?function(e){return e._state_v70vig$_0===t&&(e._state_v70vig$_0=t.list,!0)}(this)?(this.onStartInternal(),1):-1:0;var n},Be.prototype.onStartInternal=function(){},Be.prototype.getCancellationException=function(){var t,n,i=this.state_8be2vx$;if(e.isType(i,Ue)){if(null==(n=null!=(t=i.rootCause)?this.toCancellationException_rg9tb7$(t,Xo(this)+" is cancelling"):null))throw v(("Job is still new or active: "+this).toString());return n}if(e.isType(i,Ze))throw v(("Job is still new or active: "+this).toString());return e.isType(i,Bt)?this.toCancellationException_rg9tb7$(i.cause):new sr(Xo(this)+" has completed normally",null,this)},Be.prototype.toCancellationException_rg9tb7$=function(t,n){var i,o;return void 0===n&&(n=null),null!=(o=e.isType(i=t,or)?i:null)?o:new sr(null!=n?n:this.cancellationExceptionMessage(),t,this)},Object.defineProperty(Be.prototype,"completionCause",{configurable:!0,get:function(){var t,n=this.state_8be2vx$;if(e.isType(n,Ue)){if(null==(t=n.rootCause))throw v(("Job is still new or active: "+this).toString());return t}if(e.isType(n,Ze))throw v(("Job is still new or active: "+this).toString());return e.isType(n,Bt)?n.cause:null}}),Object.defineProperty(Be.prototype,"completionCauseHandled",{configurable:!0,get:function(){var t=this.state_8be2vx$;return e.isType(t,Bt)&&t.handled}}),Be.prototype.invokeOnCompletion_f05bi3$=function(t){return this.invokeOnCompletion_ct2b2z$(!1,!0,t)},Be.prototype.invokeOnCompletion_ct2b2z$$default=function(t,n,i){for(var o,s={v:null};;){var a=this.state_8be2vx$;t:do{var l,p,u,c,_;if(e.isType(a,Ke))if(a.isActive){var h;if(null!=(l=s.v))h=l;else{var d=this.makeNode_9qhc1i$_0(i,t);s.v=d,h=d}var f=h;if((o=this)._state_v70vig$_0===a&&(o._state_v70vig$_0=f,1))return f}else this.promoteEmptyToNodeList_lchanx$_0(a);else{if(!e.isType(a,Ze))return n&&Bo(i,null!=(_=e.isType(c=a,Bt)?c:null)?_.cause:null),De();var m=a.list;if(null==m)this.promoteSingleToNodeList_ft43ca$_0(e.isType(p=a,Je)?p:r());else{var y,$={v:null},b={v:De()};if(t&&e.isType(a,Ue)){var g;$.v=a.rootCause;var v=null==$.v;if(v||(v=e.isType(i,pn)&&!a.isCompleting),v){var x;if(null!=(g=s.v))x=g;else{var w=this.makeNode_9qhc1i$_0(i,t);s.v=w,x=w}var z=x;if(!this.addLastAtomic_qayz7c$_0(a,m,z))break t;if(null==$.v)return z;b.v=z}}if(null!=$.v)return n&&Bo(i,$.v),b.v;if(null!=(u=s.v))y=u;else{var C=this.makeNode_9qhc1i$_0(i,t);s.v=C,y=C}var S=y;if(this.addLastAtomic_qayz7c$_0(a,m,S))return S}}}while(0)}},Be.prototype.makeNode_9qhc1i$_0=function(t,n){var i,o,r,s,a,l;return n?null!=(r=null!=(o=e.isType(i=t,an)?i:null)?o:null)?r:new ln(this,t):null!=(l=null!=(a=e.isType(s=t,Je)?s:null)?a:null)?l:new en(this,t)},Be.prototype.addLastAtomic_qayz7c$_0=function(t,e,n){var i;t:do{if(!Fe(this,t)()){i=!1;break t}e.addLast_l2j9rm$(n),i=!0}while(0);return i},Be.prototype.promoteEmptyToNodeList_lchanx$_0=function(t){var e,n=new Qe,i=t.isActive?n:new tn(n);(e=this)._state_v70vig$_0===t&&(e._state_v70vig$_0=i)},Be.prototype.promoteSingleToNodeList_ft43ca$_0=function(t){t.addOneIfEmpty_l2j9rm$(new Qe);var e,n=t._next;(e=this)._state_v70vig$_0===t&&(e._state_v70vig$_0=n)},Be.prototype.join=function(t){if(this.joinInternal_ta6o25$_0())return this.joinSuspend_kfh5g8$_0(t);Nn(t.context)},Be.prototype.joinInternal_ta6o25$_0=function(){for(;;){var t=this.state_8be2vx$;if(!e.isType(t,Ze))return!1;if(this.startInternal_tp1bqd$_0(t)>=0)return!0}},Be.prototype.joinSuspend_kfh5g8$_0=function(t){return(n=this,e=function(t){return gt(t,n.invokeOnCompletion_f05bi3$(new nn(n,t))),u},function(t){var n=new wt(_(t),1);return n.initCancellability(),e(n),n.getResult()})(t);var e,n},Object.defineProperty(Be.prototype,"onJoin",{configurable:!0,get:function(){return this}}),Be.prototype.registerSelectClause0_s9h9qd$=function(t,n){for(;;){var i=this.state_8be2vx$;if(t.isSelected)return;if(!e.isType(i,Ze))return void(t.trySelect()&&bo(n,t.completion));if(0===this.startInternal_tp1bqd$_0(i))return void t.disposeOnSelect_rvfg84$(this.invokeOnCompletion_f05bi3$(new rn(this,t,n)))}},Be.prototype.removeNode_nxb11s$=function(t){for(;;){var n=this.state_8be2vx$;if(!e.isType(n,Je))return e.isType(n,Ze)?void(null!=n.list&&t.remove()):void 0;if(n!==t)return;if((i=this)._state_v70vig$_0===n&&(i._state_v70vig$_0=Ie,1))return}var i},Object.defineProperty(Be.prototype,"onCancelComplete",{configurable:!0,get:function(){return!1}}),Be.prototype.cancel_m4sck1$$default=function(t){this.cancelInternal_tcv7n7$(null!=t?t:new sr(this.cancellationExceptionMessage(),null,this))},Be.prototype.cancellationExceptionMessage=function(){return"Job was cancelled"},Be.prototype.cancel_dbl4no$$default=function(t){var e;return this.cancelInternal_tcv7n7$(null!=(e=null!=t?this.toCancellationException_rg9tb7$(t):null)?e:new sr(this.cancellationExceptionMessage(),null,this)),!0},Be.prototype.cancelInternal_tcv7n7$=function(t){this.cancelImpl_8ea4ql$(t)},Be.prototype.parentCancelled_pv1t6x$=function(t){this.cancelImpl_8ea4ql$(t)},Be.prototype.childCancelled_tcv7n7$=function(t){return!!e.isType(t,or)||this.cancelImpl_8ea4ql$(t)&&this.handlesException},Be.prototype.cancelCoroutine_dbl4no$=function(t){return this.cancelImpl_8ea4ql$(t)},Be.prototype.cancelImpl_8ea4ql$=function(t){var e,n=Pe;return!(!this.onCancelComplete||(n=this.cancelMakeCompleting_z3ww04$_0(t))!==Te)||(n===Pe&&(n=this.makeCancelling_xjon1g$_0(t)),n===Pe||n===Te?e=!0:n===Ee?e=!1:(this.afterCompletion_s8jyv4$(n),e=!0),e)},Be.prototype.cancelMakeCompleting_z3ww04$_0=function(t){for(;;){var n=this.state_8be2vx$;if(!e.isType(n,Ze)||e.isType(n,Ue)&&n.isCompleting)return Pe;var i=new Bt(this.createCauseException_kfrsk8$_0(t)),o=this.tryMakeCompleting_w5s53t$_0(n,i);if(o!==Oe)return o}},Be.prototype.defaultCancellationException_6umzry$=b("kotlinx-coroutines-core.kotlinx.coroutines.JobSupport.defaultCancellationException_6umzry$",g((function(){var e=t.kotlinx.coroutines.JobCancellationException;return function(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),new e(null!=t?t:this.cancellationExceptionMessage(),n,this)}}))),Be.prototype.getChildJobCancellationCause=function(){var t,n,i,o=this.state_8be2vx$;if(e.isType(o,Ue))t=o.rootCause;else if(e.isType(o,Bt))t=o.cause;else{if(e.isType(o,Ze))throw v(("Cannot be cancelling child in this state: "+z(o)).toString());t=null}var r=t;return null!=(i=e.isType(n=r,or)?n:null)?i:new sr("Parent job is "+this.stateString_u2sjqg$_0(o),r,this)},Be.prototype.createCauseException_kfrsk8$_0=function(t){var n;return null==t||e.isType(t,w)?null!=t?t:new sr(this.cancellationExceptionMessage(),null,this):(e.isType(n=t,Le)?n:r()).getChildJobCancellationCause()},Be.prototype.makeCancelling_xjon1g$_0=function(t){for(var n={v:null};;){var i,o,r=this.state_8be2vx$;if(e.isType(r,Ue)){var s;if(r.isSealed)return Ee;var a=r.isCancelling;if(null!=t||!a){var l;if(null!=(s=n.v))l=s;else{var p=this.createCauseException_kfrsk8$_0(t);n.v=p,l=p}var u=l;r.addExceptionLocked_tcv7n7$(u)}var c=r.rootCause,_=a?null:c;return null!=_&&this.notifyCancelling_xkpzb8$_0(r.list,_),Pe}if(!e.isType(r,Ze))return Ee;if(null!=(i=n.v))o=i;else{var h=this.createCauseException_kfrsk8$_0(t);n.v=h,o=h}var d=o;if(r.isActive){if(this.tryMakeCancelling_v0qvyy$_0(r,d))return Pe}else{var f=this.tryMakeCompleting_w5s53t$_0(r,new Bt(d));if(f===Pe)throw v(("Cannot happen in "+z(r)).toString());if(f!==Oe)return f}}},Be.prototype.getOrPromoteCancellingList_dmij2j$_0=function(t){var n,i;if(null==(i=t.list)){if(e.isType(t,Ke))n=new Qe;else{if(!e.isType(t,Je))throw v(("State should have list: "+t).toString());this.promoteSingleToNodeList_ft43ca$_0(t),n=null}i=n}return i},Be.prototype.tryMakeCancelling_v0qvyy$_0=function(t,e){var n;if(null==(n=this.getOrPromoteCancellingList_dmij2j$_0(t)))return!1;var i,o=n,r=new Ue(o,!1,e);return(i=this)._state_v70vig$_0===t&&(i._state_v70vig$_0=r,!0)&&(this.notifyCancelling_xkpzb8$_0(o,e),!0)},Be.prototype.makeCompleting_8ea4ql$=function(t){for(;;){var e=this.tryMakeCompleting_w5s53t$_0(this.state_8be2vx$,t);if(e===Pe)return!1;if(e===Te)return!0;if(e!==Oe)return this.afterCompletion_s8jyv4$(e),!0}},Be.prototype.makeCompletingOnce_8ea4ql$=function(t){for(;;){var e=this.tryMakeCompleting_w5s53t$_0(this.state_8be2vx$,t);if(e===Pe)throw new U("Job "+this+" is already complete or completing, but is being completed with "+z(t),this.get_exceptionOrNull_ejijbb$_0(t));if(e!==Oe)return e}},Be.prototype.tryMakeCompleting_w5s53t$_0=function(t,n){return e.isType(t,Ze)?!e.isType(t,Ke)&&!e.isType(t,Je)||e.isType(t,pn)||e.isType(n,Bt)?this.tryMakeCompletingSlowPath_uh1ctj$_0(t,n):this.tryFinalizeSimpleState_5emg4m$_0(t,n)?n:Oe:Pe},Be.prototype.tryMakeCompletingSlowPath_uh1ctj$_0=function(t,n){var i,o,r,s;if(null==(i=this.getOrPromoteCancellingList_dmij2j$_0(t)))return Oe;var a,l,p,u=i,c=null!=(r=e.isType(o=t,Ue)?o:null)?r:new Ue(u,!1,null),_={v:null};if(c.isCompleting)return Pe;if(c.isCompleting=!0,c!==t&&((p=this)._state_v70vig$_0!==t||(p._state_v70vig$_0=c,0)))return Oe;var h=c.isCancelling;null!=(l=e.isType(a=n,Bt)?a:null)&&c.addExceptionLocked_tcv7n7$(l.cause);var d=c.rootCause;_.v=h?null:d,null!=(s=_.v)&&this.notifyCancelling_xkpzb8$_0(u,s);var f=this.firstChild_15hr5g$_0(t);return null!=f&&this.tryWaitForChild_dzo3im$_0(c,f,n)?Te:this.finalizeFinishingState_10mr1z$_0(c,n)},Be.prototype.get_exceptionOrNull_ejijbb$_0=function(t){var n,i;return null!=(i=e.isType(n=t,Bt)?n:null)?i.cause:null},Be.prototype.firstChild_15hr5g$_0=function(t){var n,i,o;return null!=(o=e.isType(n=t,pn)?n:null)?o:null!=(i=t.list)?this.nextChild_n2no7k$_0(i):null},Be.prototype.tryWaitForChild_dzo3im$_0=function(t,e,n){var i;if(e.childJob.invokeOnCompletion_ct2b2z$(void 0,!1,new Ve(this,t,e,n))!==De())return!0;if(null==(i=this.nextChild_n2no7k$_0(e)))return!1;var o=i;return this.tryWaitForChild_dzo3im$_0(t,o,n)},Be.prototype.continueCompleting_vth2d4$_0=function(t,e,n){var i=this.nextChild_n2no7k$_0(e);if(null==i||!this.tryWaitForChild_dzo3im$_0(t,i,n)){var o=this.finalizeFinishingState_10mr1z$_0(t,n);this.afterCompletion_s8jyv4$(o)}},Be.prototype.nextChild_n2no7k$_0=function(t){for(var n=t;n._removed;)n=n._prev;for(;;)if(!(n=n._next)._removed){if(e.isType(n,pn))return n;if(e.isType(n,Qe))return null}},qe.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},qe.prototype=Object.create(p.prototype),qe.prototype.constructor=qe,qe.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t=this.local$this$JobSupport.state_8be2vx$;if(e.isType(t,pn)){if(this.state_0=8,this.result_0=this.local$$receiver.yield_11rb$(t.childJob,this),this.result_0===l)return l;continue}if(e.isType(t,Ze)){if(null!=(this.local$tmp$=t.list)){this.local$cur=this.local$tmp$._next,this.state_0=2;continue}this.local$tmp$_0=null,this.state_0=6;continue}this.state_0=7;continue;case 1:throw this.exception_0;case 2:if($(this.local$cur,this.local$tmp$)){this.state_0=5;continue}if(e.isType(this.local$cur,pn)){if(this.state_0=3,this.result_0=this.local$$receiver.yield_11rb$(this.local$cur.childJob,this),this.result_0===l)return l;continue}this.state_0=4;continue;case 3:this.state_0=4;continue;case 4:this.local$cur=this.local$cur._next,this.state_0=2;continue;case 5:this.local$tmp$_0=u,this.state_0=6;continue;case 6:return this.local$tmp$_0;case 7:this.state_0=9;continue;case 8:return this.result_0;case 9:return u;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Object.defineProperty(Be.prototype,"children",{configurable:!0,get:function(){return V((t=this,function(e,n,i){var o=new qe(t,e,this,n);return i?o:o.doResume(null)}));var t}}),Be.prototype.attachChild_kx8v25$=function(t){var n;return e.isType(n=this.invokeOnCompletion_ct2b2z$(!0,void 0,new pn(this,t)),je)?n:r()},Be.prototype.handleOnCompletionException_tcv7n7$=function(t){throw t},Be.prototype.onCancelling_dbl4no$=function(t){},Object.defineProperty(Be.prototype,"isScopedCoroutine",{configurable:!0,get:function(){return!1}}),Object.defineProperty(Be.prototype,"handlesException",{configurable:!0,get:function(){return!0}}),Be.prototype.handleJobException_tcv7n7$=function(t){return!1},Be.prototype.onCompletionInternal_s8jyv4$=function(t){},Be.prototype.afterCompletion_s8jyv4$=function(t){},Be.prototype.toString=function(){return this.toDebugString()+"@"+Ho(this)},Be.prototype.toDebugString=function(){return this.nameString()+"{"+this.stateString_u2sjqg$_0(this.state_8be2vx$)+"}"},Be.prototype.nameString=function(){return Xo(this)},Be.prototype.stateString_u2sjqg$_0=function(t){return e.isType(t,Ue)?t.isCancelling?"Cancelling":t.isCompleting?"Completing":"Active":e.isType(t,Ze)?t.isActive?"Active":"New":e.isType(t,Bt)?"Cancelled":"Completed"},Object.defineProperty(Ue.prototype,"list",{get:function(){return this.list_m9wkmb$_0}}),Object.defineProperty(Ue.prototype,"isCompleting",{configurable:!0,get:function(){return this._isCompleting_0},set:function(t){this._isCompleting_0=t}}),Object.defineProperty(Ue.prototype,"rootCause",{configurable:!0,get:function(){return this._rootCause_0},set:function(t){this._rootCause_0=t}}),Object.defineProperty(Ue.prototype,"exceptionsHolder_0",{configurable:!0,get:function(){return this._exceptionsHolder_0},set:function(t){this._exceptionsHolder_0=t}}),Object.defineProperty(Ue.prototype,"isSealed",{configurable:!0,get:function(){return this.exceptionsHolder_0===Me}}),Object.defineProperty(Ue.prototype,"isCancelling",{configurable:!0,get:function(){return null!=this.rootCause}}),Object.defineProperty(Ue.prototype,"isActive",{configurable:!0,get:function(){return null==this.rootCause}}),Ue.prototype.sealLocked_dbl4no$=function(t){var n,i,o=this.exceptionsHolder_0;if(null==o)i=this.allocateList_0();else if(e.isType(o,w)){var s=this.allocateList_0();s.add_11rb$(o),i=s}else{if(!e.isType(o,W))throw v(("State is "+z(o)).toString());i=e.isType(n=o,W)?n:r()}var a=i,l=this.rootCause;return null!=l&&a.add_wxm5ur$(0,l),null==t||$(t,l)||a.add_11rb$(t),this.exceptionsHolder_0=Me,a},Ue.prototype.addExceptionLocked_tcv7n7$=function(t){var n,i=this.rootCause;if(null!=i){if(t!==i){var o=this.exceptionsHolder_0;if(null==o)this.exceptionsHolder_0=t;else if(e.isType(o,w)){if(t===o)return;var s=this.allocateList_0();s.add_11rb$(o),s.add_11rb$(t),this.exceptionsHolder_0=s}else{if(!e.isType(o,W))throw v(("State is "+z(o)).toString());(e.isType(n=o,W)?n:r()).add_11rb$(t)}}}else this.rootCause=t},Ue.prototype.allocateList_0=function(){return h(4)},Ue.prototype.toString=function(){return"Finishing[cancelling="+this.isCancelling+", completing="+this.isCompleting+", rootCause="+z(this.rootCause)+", exceptions="+z(this.exceptionsHolder_0)+", list="+this.list+"]"},Ue.$metadata$={kind:s,simpleName:"Finishing",interfaces:[Ze]},Be.prototype.get_isCancelling_dpdoz8$_0=function(t){return e.isType(t,Ue)&&t.isCancelling},Ve.prototype.invoke=function(t){this.parent_0.continueCompleting_vth2d4$_0(this.state_0,this.child_0,this.proposedUpdate_0)},Ve.prototype.toString=function(){return"ChildCompletion["+this.child_0+", "+z(this.proposedUpdate_0)+"]"},Ve.$metadata$={kind:s,simpleName:"ChildCompletion",interfaces:[Je]},We.prototype.getContinuationCancellationCause_dqr1mp$=function(t){var n,i=this.job_0.state_8be2vx$;return e.isType(i,Ue)&&null!=(n=i.rootCause)?n:e.isType(i,Bt)?i.cause:t.getCancellationException()},We.prototype.nameString=function(){return"AwaitContinuation"},We.$metadata$={kind:s,simpleName:"AwaitContinuation",interfaces:[wt]},Object.defineProperty(Be.prototype,"isCompletedExceptionally",{configurable:!0,get:function(){return e.isType(this.state_8be2vx$,Bt)}}),Be.prototype.getCompletionExceptionOrNull=function(){var t=this.state_8be2vx$;if(e.isType(t,Ze))throw v("This job has not completed yet".toString());return this.get_exceptionOrNull_ejijbb$_0(t)},Be.prototype.getCompletedInternal_8be2vx$=function(){var t=this.state_8be2vx$;if(e.isType(t,Ze))throw v("This job has not completed yet".toString());if(e.isType(t,Bt))throw t.cause;return Xe(t)},Be.prototype.awaitInternal_8be2vx$=function(t){for(;;){var n=this.state_8be2vx$;if(!e.isType(n,Ze)){if(e.isType(n,Bt))throw n.cause;return Xe(n)}if(this.startInternal_tp1bqd$_0(n)>=0)break}return this.awaitSuspend_ixl9xw$_0(t)},Be.prototype.awaitSuspend_ixl9xw$_0=function(t){return(e=this,function(t){var n=new We(_(t),e);return gt(n,e.invokeOnCompletion_f05bi3$(new on(e,n))),n.getResult()})(t);var e},Be.prototype.registerSelectClause1Internal_u6kgbh$=function(t,n){for(;;){var i,s=this.state_8be2vx$;if(t.isSelected)return;if(!e.isType(s,Ze))return void(t.trySelect()&&(e.isType(s,Bt)?t.resumeSelectWithException_tcv7n7$(s.cause):go(n,null==(i=Xe(s))||e.isType(i,o)?i:r(),t.completion)));if(0===this.startInternal_tp1bqd$_0(s))return void t.disposeOnSelect_rvfg84$(this.invokeOnCompletion_f05bi3$(new sn(this,t,n)))}},Be.prototype.selectAwaitCompletion_u6kgbh$=function(t,n){var i,s=this.state_8be2vx$;e.isType(s,Bt)?t.resumeSelectWithException_tcv7n7$(s.cause):yo(n,null==(i=Xe(s))||e.isType(i,o)?i:r(),t.completion)},Be.$metadata$={kind:s,simpleName:"JobSupport",interfaces:[So,Le,ke,xe]},Ge.$metadata$={kind:s,simpleName:"IncompleteStateBox",interfaces:[]},Object.defineProperty(Ke.prototype,"isActive",{get:function(){return this.isActive_hyoax9$_0}}),Object.defineProperty(Ke.prototype,"list",{configurable:!0,get:function(){return null}}),Ke.prototype.toString=function(){return"Empty{"+(this.isActive?"Active":"New")+"}"},Ke.$metadata$={kind:s,simpleName:"Empty",interfaces:[Ze]},Object.defineProperty(Ye.prototype,"onCancelComplete",{configurable:!0,get:function(){return!0}}),Object.defineProperty(Ye.prototype,"handlesException",{configurable:!0,get:function(){return this.handlesException_fejgjb$_0}}),Ye.prototype.complete=function(){return this.makeCompleting_8ea4ql$(u)},Ye.prototype.completeExceptionally_tcv7n7$=function(t){return this.makeCompleting_8ea4ql$(new Bt(t))},Ye.prototype.handlesExceptionF=function(){var t,n,i,o,r,s;if(null==(i=null!=(n=e.isType(t=this.parentHandle_8be2vx$,pn)?t:null)?n.job:null))return!1;for(var a=i;;){if(a.handlesException)return!0;if(null==(s=null!=(r=e.isType(o=a.parentHandle_8be2vx$,pn)?o:null)?r.job:null))return!1;a=s}},Ye.$metadata$={kind:s,simpleName:"JobImpl",interfaces:[Mt,Be]},Ze.$metadata$={kind:x,simpleName:"Incomplete",interfaces:[]},Object.defineProperty(Je.prototype,"isActive",{configurable:!0,get:function(){return!0}}),Object.defineProperty(Je.prototype,"list",{configurable:!0,get:function(){return null}}),Je.prototype.dispose=function(){var t;(e.isType(t=this.job,Be)?t:r()).removeNode_nxb11s$(this)},Je.$metadata$={kind:s,simpleName:"JobNode",interfaces:[Ze,Se,Ao]},Object.defineProperty(Qe.prototype,"isActive",{configurable:!0,get:function(){return!0}}),Object.defineProperty(Qe.prototype,"list",{configurable:!0,get:function(){return this}}),Qe.prototype.getString_61zpoe$=function(t){var n=G();n.append_pdl1vj$("List{"),n.append_pdl1vj$(t),n.append_pdl1vj$("}[");for(var i={v:!0},o=this._next;!$(o,this);){if(e.isType(o,Je)){var r=o;i.v?i.v=!1:n.append_pdl1vj$(", "),n.append_s8jyv4$(r)}o=o._next}return n.append_pdl1vj$("]"),n.toString()},Qe.prototype.toString=function(){return Ii?this.getString_61zpoe$("Active"):Or.prototype.toString.call(this)},Qe.$metadata$={kind:s,simpleName:"NodeList",interfaces:[Ze,Or]},Object.defineProperty(tn.prototype,"list",{get:function(){return this.list_afai45$_0}}),Object.defineProperty(tn.prototype,"isActive",{configurable:!0,get:function(){return!1}}),tn.prototype.toString=function(){return Ii?this.list.getString_61zpoe$("New"):o.prototype.toString.call(this)},tn.$metadata$={kind:s,simpleName:"InactiveNodeList",interfaces:[Ze]},en.prototype.invoke=function(t){this.handler_0(t)},en.prototype.toString=function(){return"InvokeOnCompletion["+Xo(this)+"@"+Ho(this)+"]"},en.$metadata$={kind:s,simpleName:"InvokeOnCompletion",interfaces:[Je]},nn.prototype.invoke=function(t){this.continuation_0.resumeWith_tl1gpc$(new d(u))},nn.prototype.toString=function(){return"ResumeOnCompletion["+this.continuation_0+"]"},nn.$metadata$={kind:s,simpleName:"ResumeOnCompletion",interfaces:[Je]},on.prototype.invoke=function(t){var n,i,s=this.job.state_8be2vx$;if(e.isType(s,Bt)){var a=this.continuation_0,l=s.cause;a.resumeWith_tl1gpc$(new d(S(l)))}else{i=this.continuation_0;var p=null==(n=Xe(s))||e.isType(n,o)?n:r();i.resumeWith_tl1gpc$(new d(p))}},on.prototype.toString=function(){return"ResumeAwaitOnCompletion["+this.continuation_0+"]"},on.$metadata$={kind:s,simpleName:"ResumeAwaitOnCompletion",interfaces:[Je]},rn.prototype.invoke=function(t){this.select_0.trySelect()&&mo(this.block_0,this.select_0.completion)},rn.prototype.toString=function(){return"SelectJoinOnCompletion["+this.select_0+"]"},rn.$metadata$={kind:s,simpleName:"SelectJoinOnCompletion",interfaces:[Je]},sn.prototype.invoke=function(t){this.select_0.trySelect()&&this.job.selectAwaitCompletion_u6kgbh$(this.select_0,this.block_0)},sn.prototype.toString=function(){return"SelectAwaitOnCompletion["+this.select_0+"]"},sn.$metadata$={kind:s,simpleName:"SelectAwaitOnCompletion",interfaces:[Je]},an.$metadata$={kind:s,simpleName:"JobCancellingNode",interfaces:[Je]},ln.prototype.invoke=function(t){var e;0===(e=this)._invoked_0&&(e._invoked_0=1,1)&&this.handler_0(t)},ln.prototype.toString=function(){return"InvokeOnCancelling["+Xo(this)+"@"+Ho(this)+"]"},ln.$metadata$={kind:s,simpleName:"InvokeOnCancelling",interfaces:[an]},pn.prototype.invoke=function(t){this.childJob.parentCancelled_pv1t6x$(this.job)},pn.prototype.childCancelled_tcv7n7$=function(t){return this.job.childCancelled_tcv7n7$(t)},pn.prototype.toString=function(){return"ChildHandle["+this.childJob+"]"},pn.$metadata$={kind:s,simpleName:"ChildHandleNode",interfaces:[je,an]},un.prototype.invoke=function(t){this.child.parentCancelled_8o0b5c$(this.child.getContinuationCancellationCause_dqr1mp$(this.job))},un.prototype.toString=function(){return"ChildContinuation["+this.child+"]"},un.$metadata$={kind:s,simpleName:"ChildContinuation",interfaces:[an]},cn.prototype.toString=function(){var t;return null!=(t=this.toStringInternalImpl())?t:Xo(this)+"@"+Ho(this)},cn.prototype.toStringInternalImpl=function(){var t,n=Jo().Main;if(this===n)return"Dispatchers.Main";try{t=n.immediate}catch(n){if(!e.isType(n,H))throw n;t=null}return this===t?"Dispatchers.Main.immediate":null},cn.$metadata$={kind:s,simpleName:"MainCoroutineDispatcher",interfaces:[qt]},hn.prototype.createCopy=function(){var t,e=new hn(null!=(t=this.message)?t:"",this.coroutine_8be2vx$);return e},hn.$metadata$={kind:s,simpleName:"TimeoutCancellationException",interfaces:[ue,or]},dn.prototype.isDispatchNeeded_1fupul$=function(t){return!1},dn.prototype.dispatch_5bn72i$=function(t,e){var n=t.get_j3r2sn$(jn());if(null==n)throw X("Dispatchers.Unconfined.dispatch function can only be used by the yield function. If you wrap Unconfined dispatcher in your code, make sure you properly delegate isDispatchNeeded and dispatch calls.");n.dispatcherWasUnconfined=!0},dn.prototype.toString=function(){return"Dispatchers.Unconfined"},dn.$metadata$={kind:C,simpleName:"Unconfined",interfaces:[qt]};var fn=null;function mn(){return null===fn&&new dn,fn}function yn(){jn(),L.call(this,jn()),this.dispatcherWasUnconfined=!1}function $n(){Ln=this}$n.$metadata$={kind:C,simpleName:"Key",interfaces:[N]};var bn,gn,vn,xn,wn,zn,Cn,Sn,kn,Ln=null;function jn(){return null===Ln&&new $n,Ln}function Nn(t){var e=t.get_j3r2sn$(Ce());if(null!=e&&!e.isActive)throw e.getCancellationException()}function Pn(t){return function(e){var n=$t(_(e));return t(n),n.getResult()}}function Tn(t){this.onUndeliveredElement_0=t,this.queue_0=new Or,this.onCloseHandler_0=null}function On(t,e){jr.call(this,t,new An(e))}function En(t){return function(){return t.isBufferFull}}function Mn(t,e){Nr.call(this,e),this.element=t}function Rn(t){this.this$AbstractSendChannel=t}function In(t,e,n,i){Zn.call(this),this.pollResult_m5nr4l$_0=t,this.channel=e,this.select=n,this.block=i}function An(t){Zn.call(this),this.element=t}function Dn(t){Tn.call(this,t)}function Bn(t){return function(){return t.isBufferEmpty}}function Fn(t){Nr.call(this,t)}function qn(t){this.this$AbstractChannel=t}function Un(t){this.this$AbstractChannel=t}function Vn(t){this.this$AbstractChannel=t}function Wn(t,e){this.$outer=t,jt.call(this),this.receive_0=e}function Gn(t){this.channel=t,this.result=xn}function Hn(t,e){ni.call(this),this.cont=t,this.receiveMode=e}function Xn(t,e,n){Hn.call(this,t,e),this.onUndeliveredElement=n}function Kn(t,e){ni.call(this),this.iterator=t,this.cont=e}function Yn(t,e,n,i){ni.call(this),this.channel=t,this.select=e,this.block=n,this.receiveMode=i}function Zn(){Lr.call(this)}function Jn(){}function Qn(t,e){Zn.call(this),this.pollResult_vo6xxe$_0=t,this.cont=e}function ti(t,e,n){Qn.call(this,t,e),this.onUndeliveredElement=n}function ei(t){Zn.call(this),this.closeCause=t}function ni(){Lr.call(this)}function ii(t,n,i){if(Dn.call(this,i),this.capacity_0=t,this.onBufferOverflow_0=n,!(this.capacity_0>=1)){var o="ArrayChannel capacity must be at least 1, but "+this.capacity_0+" was specified";throw F(o.toString())}this.lock_0=new Sr;var r=this.capacity_0,s=e.newArray(J.min(r,8),null);Z(s,bn),this.buffer_0=s,this.head_0=0,this.size_0=0}function oi(t,e,n){pt.call(this,t,n),this._channel_0=e}function ri(){}function si(t,e){E.call(this),this.name$=t,this.ordinal$=e}function ai(){ai=function(){},Cn=new si("SUSPEND",0),Sn=new si("DROP_OLDEST",1),kn=new si("DROP_LATEST",2)}function li(){return ai(),Cn}function pi(){return ai(),Sn}function ui(){return ai(),kn}function ci(){}function _i(){}function hi(t){yi(),this.holder_0=t}function di(t){this.cause=t}function fi(){mi=this}Tn.prototype.offerInternal_11rb$=function(t){for(var e;;){if(null==(e=this.takeFirstReceiveOrPeekClosed()))return vn;var n=e;if(null!=n.tryResumeReceive_j43gjz$(t,null))return n.completeResumeReceive_11rb$(t),n.offerResult}},Tn.prototype.offerSelectInternal_ys5ufj$=function(t,e){var n=this.describeTryOffer_0(t),i=e.performAtomicTrySelect_6q0pxr$(n);if(null!=i)return i;var o=n.result;return o.completeResumeReceive_11rb$(t),o.offerResult},Object.defineProperty(Tn.prototype,"closedForSend_0",{configurable:!0,get:function(){var t,n,i;return null!=(n=e.isType(t=this.queue_0._prev,ei)?t:null)?(this.helpClose_0(n),i=n):i=null,i}}),Object.defineProperty(Tn.prototype,"closedForReceive_0",{configurable:!0,get:function(){var t,n,i;return null!=(n=e.isType(t=this.queue_0._next,ei)?t:null)?(this.helpClose_0(n),i=n):i=null,i}}),Tn.prototype.takeFirstSendOrPeekClosed_0=function(){var t,n=this.queue_0;t:do{var i=n._next;if(i===n){t=null;break t}if(!e.isType(i,Zn)){t=null;break t}if(e.isType(i,ei)){t=i;break t}if(!i.remove())throw v("Should remove".toString());t=i}while(0);return t},Tn.prototype.sendBuffered_0=function(t){var n=this.queue_0,i=new An(t),o=n._prev;return e.isType(o,Jn)?o:(n.addLast_l2j9rm$(i),null)},Tn.prototype.describeSendBuffered_0=function(t){return new On(this.queue_0,t)},On.prototype.failure_l2j9rm$=function(t){return e.isType(t,ei)?t:e.isType(t,Jn)?vn:null},On.$metadata$={kind:s,simpleName:"SendBufferedDesc",interfaces:[jr]},Object.defineProperty(Tn.prototype,"isClosedForSend",{configurable:!0,get:function(){return null!=this.closedForSend_0}}),Object.defineProperty(Tn.prototype,"isFull",{configurable:!0,get:function(){return this.isFullImpl_0}}),Object.defineProperty(Tn.prototype,"isFullImpl_0",{configurable:!0,get:function(){return!e.isType(this.queue_0._next,Jn)&&this.isBufferFull}}),Tn.prototype.send_11rb$=function(t,e){if(this.offerInternal_11rb$(t)!==gn)return this.sendSuspend_0(t,e)},Tn.prototype.offer_11rb$=function(t){var n,i=this.offerInternal_11rb$(t);if(i!==gn){if(i===vn){if(null==(n=this.closedForSend_0))return!1;throw this.helpCloseAndGetSendException_0(t,n)}throw e.isType(i,ei)?this.helpCloseAndGetSendException_0(t,i):v(("offerInternal returned "+i.toString()).toString())}return!0},Tn.prototype.helpCloseAndGetSendException_0=function(t,e){var n,i;if(this.helpClose_0(e),null!=(i=null!=(n=this.onUndeliveredElement_0)?ao(n,t):null))throw K(i,e.sendException),i;return e.sendException},Tn.prototype.sendSuspend_0=function(t,n){return Pn((i=this,o=t,function(t){for(;;){if(i.isFullImpl_0){var n=null==i.onUndeliveredElement_0?new Qn(o,t):new ti(o,t,i.onUndeliveredElement_0),r=i.enqueueSend_vs6846$(n);if(null==r)return void bt(t,n);if(e.isType(r,ei))return void i.helpCloseAndResumeWithSendException_0(t,o,r);if(r!==wn&&!e.isType(r,ni))throw v(("enqueueSend returned "+z(r)).toString())}var s=i.offerInternal_11rb$(o);if(s===gn)return void t.resumeWith_tl1gpc$(new d(u));if(s!==vn){if(e.isType(s,ei))return void i.helpCloseAndResumeWithSendException_0(t,o,s);throw v(("offerInternal returned "+s.toString()).toString())}}}))(n);var i,o},Tn.prototype.helpCloseAndResumeWithSendException_0=function(t,e,n){var i,o;this.helpClose_0(n);var r=n.sendException;if(null!=(o=null!=(i=this.onUndeliveredElement_0)?ao(i,e):null))return K(o,r),void t.resumeWith_tl1gpc$(new d(S(o)));t.resumeWith_tl1gpc$(new d(S(r)))},Tn.prototype.enqueueSend_vs6846$=function(t){if(this.isBufferAlwaysFull){var n=this.queue_0,i=n._prev;if(e.isType(i,Jn))return i;n.addLast_l2j9rm$(t)}else{var o,r=this.queue_0;t:do{var s=r._prev;if(e.isType(s,Jn))return s;if(!En(this)()){o=!1;break t}r.addLast_l2j9rm$(t),o=!0}while(0);if(!o)return wn}return null},Tn.prototype.close_dbl4no$$default=function(t){var n,i,o=new ei(t),s=this.queue_0;t:do{if(e.isType(s._prev,ei)){i=!1;break t}s.addLast_l2j9rm$(o),i=!0}while(0);var a=i,l=a?o:e.isType(n=this.queue_0._prev,ei)?n:r();return this.helpClose_0(l),a&&this.invokeOnCloseHandler_0(t),a},Tn.prototype.invokeOnCloseHandler_0=function(t){var e,n,i=this.onCloseHandler_0;null!==i&&i!==zn&&(n=this).onCloseHandler_0===i&&(n.onCloseHandler_0=zn,1)&&("function"==typeof(e=i)?e:r())(t)},Tn.prototype.invokeOnClose_f05bi3$=function(t){if(null!=(n=this).onCloseHandler_0||(n.onCloseHandler_0=t,0)){var e=this.onCloseHandler_0;if(e===zn)throw v("Another handler was already registered and successfully invoked");throw v("Another handler was already registered: "+z(e))}var n,i=this.closedForSend_0;null!=i&&function(e){return e.onCloseHandler_0===t&&(e.onCloseHandler_0=zn,!0)}(this)&&t(i.closeCause)},Tn.prototype.helpClose_0=function(t){for(var n,i,s=new so;null!=(i=e.isType(n=t._prev,ni)?n:null);){var a=i;a.remove()?s=s.plus_11rb$(a):a.helpRemove()}var l,p,u,c=s;if(null!=(l=c.holder_0))if(e.isType(l,W))for(var _=e.isType(u=c.holder_0,W)?u:r(),h=_.size-1|0;h>=0;h--)_.get_za3lpa$(h).resumeReceiveClosed_1zqbm$(t);else(null==(p=c.holder_0)||e.isType(p,o)?p:r()).resumeReceiveClosed_1zqbm$(t);this.onClosedIdempotent_l2j9rm$(t)},Tn.prototype.onClosedIdempotent_l2j9rm$=function(t){},Tn.prototype.takeFirstReceiveOrPeekClosed=function(){var t,n=this.queue_0;t:do{var i=n._next;if(i===n){t=null;break t}if(!e.isType(i,Jn)){t=null;break t}if(e.isType(i,ei)){t=i;break t}if(!i.remove())throw v("Should remove".toString());t=i}while(0);return t},Tn.prototype.describeTryOffer_0=function(t){return new Mn(t,this.queue_0)},Mn.prototype.failure_l2j9rm$=function(t){return e.isType(t,ei)?t:e.isType(t,Jn)?null:vn},Mn.prototype.onPrepare_xe32vn$=function(t){var n,i;return null==(i=(e.isType(n=t.affected,Jn)?n:r()).tryResumeReceive_j43gjz$(this.element,t))?ki:i===zi?zi:null},Mn.$metadata$={kind:s,simpleName:"TryOfferDesc",interfaces:[Nr]},Rn.prototype.registerSelectClause2_rol3se$=function(t,e,n){this.this$AbstractSendChannel.registerSelectSend_0(t,e,n)},Rn.$metadata$={kind:s,interfaces:[Lo]},Object.defineProperty(Tn.prototype,"onSend",{configurable:!0,get:function(){return new Rn(this)}}),Tn.prototype.registerSelectSend_0=function(t,n,i){for(;;){if(t.isSelected)return;if(this.isFullImpl_0){var o=new In(n,this,t,i),r=this.enqueueSend_vs6846$(o);if(null==r)return void t.disposeOnSelect_rvfg84$(o);if(e.isType(r,ei))throw this.helpCloseAndGetSendException_0(n,r);if(r!==wn&&!e.isType(r,ni))throw v(("enqueueSend returned "+z(r)+" ").toString())}var s=this.offerSelectInternal_ys5ufj$(n,t);if(s===ji)return;if(s!==vn&&s!==zi){if(s===gn)return void go(i,this,t.completion);throw e.isType(s,ei)?this.helpCloseAndGetSendException_0(n,s):v(("offerSelectInternal returned "+s.toString()).toString())}}},Tn.prototype.toString=function(){return Xo(this)+"@"+Ho(this)+"{"+this.queueDebugStateString_0+"}"+this.bufferDebugString},Object.defineProperty(Tn.prototype,"queueDebugStateString_0",{configurable:!0,get:function(){var t=this.queue_0._next;if(t===this.queue_0)return"EmptyQueue";var n=e.isType(t,ei)?t.toString():e.isType(t,ni)?"ReceiveQueued":e.isType(t,Zn)?"SendQueued":"UNEXPECTED:"+t,i=this.queue_0._prev;return i!==t&&(n+=",queueSize="+this.countQueueSize_0(),e.isType(i,ei)&&(n+=",closedForSend="+i)),n}}),Tn.prototype.countQueueSize_0=function(){for(var t={v:0},n=this.queue_0,i=n._next;!$(i,n);)e.isType(i,Lr)&&(t.v=t.v+1|0),i=i._next;return t.v},Object.defineProperty(Tn.prototype,"bufferDebugString",{configurable:!0,get:function(){return""}}),Object.defineProperty(In.prototype,"pollResult",{get:function(){return this.pollResult_m5nr4l$_0}}),In.prototype.tryResumeSend_uc1cc4$=function(t){var n;return null==(n=this.select.trySelectOther_uc1cc4$(t))||e.isType(n,_o)?n:r()},In.prototype.completeResumeSend=function(){yo(this.block,this.channel,this.select.completion)},In.prototype.dispose=function(){this.remove()&&this.undeliveredElement()},In.prototype.resumeSendClosed_1zqbm$=function(t){this.select.trySelect()&&this.select.resumeSelectWithException_tcv7n7$(t.sendException)},In.prototype.undeliveredElement=function(){var t;null!=(t=this.channel.onUndeliveredElement_0)&&lo(t,this.pollResult,this.select.completion.context)},In.prototype.toString=function(){return"SendSelect@"+Ho(this)+"("+this.pollResult+")["+this.channel+", "+this.select+"]"},In.$metadata$={kind:s,simpleName:"SendSelect",interfaces:[Se,Zn]},Object.defineProperty(An.prototype,"pollResult",{configurable:!0,get:function(){return this.element}}),An.prototype.tryResumeSend_uc1cc4$=function(t){return null!=t&&t.finishPrepare(),n},An.prototype.completeResumeSend=function(){},An.prototype.resumeSendClosed_1zqbm$=function(t){},An.prototype.toString=function(){return"SendBuffered@"+Ho(this)+"("+this.element+")"},An.$metadata$={kind:s,simpleName:"SendBuffered",interfaces:[Zn]},Tn.$metadata$={kind:s,simpleName:"AbstractSendChannel",interfaces:[ci]},Dn.prototype.pollInternal=function(){for(var t;;){if(null==(t=this.takeFirstSendOrPeekClosed_0()))return xn;var e=t;if(null!=e.tryResumeSend_uc1cc4$(null))return e.completeResumeSend(),e.pollResult;e.undeliveredElement()}},Dn.prototype.pollSelectInternal_y5yyj0$=function(t){var e=this.describeTryPoll_0(),n=t.performAtomicTrySelect_6q0pxr$(e);return null!=n?n:(e.result.completeResumeSend(),e.result.pollResult)},Object.defineProperty(Dn.prototype,"hasReceiveOrClosed_0",{configurable:!0,get:function(){return e.isType(this.queue_0._next,Jn)}}),Object.defineProperty(Dn.prototype,"isClosedForReceive",{configurable:!0,get:function(){return null!=this.closedForReceive_0&&this.isBufferEmpty}}),Object.defineProperty(Dn.prototype,"isEmpty",{configurable:!0,get:function(){return this.isEmptyImpl_0}}),Object.defineProperty(Dn.prototype,"isEmptyImpl_0",{configurable:!0,get:function(){return!e.isType(this.queue_0._next,Zn)&&this.isBufferEmpty}}),Dn.prototype.receive=function(t){var n,i=this.pollInternal();return i===xn||e.isType(i,ei)?this.receiveSuspend_0(0,t):null==(n=i)||e.isType(n,o)?n:r()},Dn.prototype.receiveSuspend_0=function(t,n){return Pn((i=this,s=t,function(t){var n,a,l,p,c,_,h;null==i.onUndeliveredElement_0?c=new Hn(e.isType(n=t,yt)?n:r(),s):(l=e.isType(a=t,yt)?a:r(),p=i.onUndeliveredElement_0,c=new Xn(l,s,p));for(var d=c;;){if(i.enqueueReceive_0(d))return void i.removeReceiveOnCancel_0(t,d);var f=i.pollInternal();if(e.isType(f,ei))return void d.resumeReceiveClosed_1zqbm$(f);if(f!==xn)return void t.resume_q1ktlu$(d.resumeValue_11rb$(null==(_=f)||e.isType(_,o)?_:r()),d.resumeOnCancellationFun_11rb$(null==(h=f)||e.isType(h,o)?h:r()))}return u}))(n);var i,s},Dn.prototype.enqueueReceiveInternal_i292ax$=function(t){var n;if(this.isBufferAlwaysEmpty){var i,o=this.queue_0;t:do{if(e.isType(o._prev,Zn)){i=!1;break t}o.addLast_l2j9rm$(t),i=!0}while(0);n=i}else{var r,s=this.queue_0;t:do{if(e.isType(s._prev,Zn)){r=!1;break t}if(!Bn(this)()){r=!1;break t}s.addLast_l2j9rm$(t),r=!0}while(0);n=r}return n},Dn.prototype.enqueueReceive_0=function(t){var e=this.enqueueReceiveInternal_i292ax$(t);return e&&this.onReceiveEnqueued(),e},Dn.prototype.receiveOrNull=function(t){var n,i=this.pollInternal();return i===xn||e.isType(i,ei)?this.receiveSuspend_0(1,t):null==(n=i)||e.isType(n,o)?n:r()},Dn.prototype.receiveOrNullResult_0=function(t){var n;if(e.isType(t,ei)){if(null!=t.closeCause)throw t.closeCause;return null}return null==(n=t)||e.isType(n,o)?n:r()},Dn.prototype.receiveOrClosed=function(t){var n,i,s=this.pollInternal();return s!==xn?(e.isType(s,ei)?n=new hi(new di(s.closeCause)):(yi(),n=new hi(null==(i=s)||e.isType(i,o)?i:r())),n):this.receiveSuspend_0(2,t)},Dn.prototype.poll=function(){var t=this.pollInternal();return t===xn?null:this.receiveOrNullResult_0(t)},Dn.prototype.cancel_dbl4no$$default=function(t){return this.cancelInternal_fg6mcv$(t)},Dn.prototype.cancel_m4sck1$$default=function(t){this.cancelInternal_fg6mcv$(null!=t?t:rr(Xo(this)+" was cancelled"))},Dn.prototype.cancelInternal_fg6mcv$=function(t){var e=this.close_dbl4no$(t);return this.onCancelIdempotent_6taknv$(e),e},Dn.prototype.onCancelIdempotent_6taknv$=function(t){var n;if(null==(n=this.closedForSend_0))throw v("Cannot happen".toString());for(var i=n,s=new so;;){var a,l=i._prev;if(e.isType(l,Or))break;l.remove()?s=s.plus_11rb$(e.isType(a=l,Zn)?a:r()):l.helpRemove()}var p,u,c,_=s;if(null!=(p=_.holder_0))if(e.isType(p,W))for(var h=e.isType(c=_.holder_0,W)?c:r(),d=h.size-1|0;d>=0;d--)h.get_za3lpa$(d).resumeSendClosed_1zqbm$(i);else(null==(u=_.holder_0)||e.isType(u,o)?u:r()).resumeSendClosed_1zqbm$(i)},Dn.prototype.iterator=function(){return new Gn(this)},Dn.prototype.describeTryPoll_0=function(){return new Fn(this.queue_0)},Fn.prototype.failure_l2j9rm$=function(t){return e.isType(t,ei)?t:e.isType(t,Zn)?null:xn},Fn.prototype.onPrepare_xe32vn$=function(t){var n,i;return null==(i=(e.isType(n=t.affected,Zn)?n:r()).tryResumeSend_uc1cc4$(t))?ki:i===zi?zi:null},Fn.prototype.onRemoved_l2j9rm$=function(t){var n;(e.isType(n=t,Zn)?n:r()).undeliveredElement()},Fn.$metadata$={kind:s,simpleName:"TryPollDesc",interfaces:[Nr]},qn.prototype.registerSelectClause1_o3xas4$=function(t,n){var i,o;o=e.isType(i=n,Y)?i:r(),this.this$AbstractChannel.registerSelectReceiveMode_0(t,0,o)},qn.$metadata$={kind:s,interfaces:[ko]},Object.defineProperty(Dn.prototype,"onReceive",{configurable:!0,get:function(){return new qn(this)}}),Un.prototype.registerSelectClause1_o3xas4$=function(t,n){var i,o;o=e.isType(i=n,Y)?i:r(),this.this$AbstractChannel.registerSelectReceiveMode_0(t,1,o)},Un.$metadata$={kind:s,interfaces:[ko]},Object.defineProperty(Dn.prototype,"onReceiveOrNull",{configurable:!0,get:function(){return new Un(this)}}),Vn.prototype.registerSelectClause1_o3xas4$=function(t,n){var i,o;o=e.isType(i=n,Y)?i:r(),this.this$AbstractChannel.registerSelectReceiveMode_0(t,2,o)},Vn.$metadata$={kind:s,interfaces:[ko]},Object.defineProperty(Dn.prototype,"onReceiveOrClosed",{configurable:!0,get:function(){return new Vn(this)}}),Dn.prototype.registerSelectReceiveMode_0=function(t,e,n){for(;;){if(t.isSelected)return;if(this.isEmptyImpl_0){if(this.enqueueReceiveSelect_0(t,n,e))return}else{var i=this.pollSelectInternal_y5yyj0$(t);if(i===ji)return;i!==xn&&i!==zi&&this.tryStartBlockUnintercepted_0(n,t,e,i)}}},Dn.prototype.tryStartBlockUnintercepted_0=function(t,n,i,s){var a,l;if(e.isType(s,ei))switch(i){case 0:throw s.receiveException;case 2:if(!n.trySelect())return;go(t,new hi(new di(s.closeCause)),n.completion);break;case 1:if(null!=s.closeCause)throw s.receiveException;if(!n.trySelect())return;go(t,null,n.completion)}else 2===i?(e.isType(s,ei)?a=new hi(new di(s.closeCause)):(yi(),a=new hi(null==(l=s)||e.isType(l,o)?l:r())),go(t,a,n.completion)):go(t,s,n.completion)},Dn.prototype.enqueueReceiveSelect_0=function(t,e,n){var i=new Yn(this,t,e,n),o=this.enqueueReceive_0(i);return o&&t.disposeOnSelect_rvfg84$(i),o},Dn.prototype.takeFirstReceiveOrPeekClosed=function(){var t=Tn.prototype.takeFirstReceiveOrPeekClosed.call(this);return null==t||e.isType(t,ei)||this.onReceiveDequeued(),t},Dn.prototype.onReceiveEnqueued=function(){},Dn.prototype.onReceiveDequeued=function(){},Dn.prototype.removeReceiveOnCancel_0=function(t,e){t.invokeOnCancellation_f05bi3$(new Wn(this,e))},Wn.prototype.invoke=function(t){this.receive_0.remove()&&this.$outer.onReceiveDequeued()},Wn.prototype.toString=function(){return"RemoveReceiveOnCancel["+this.receive_0+"]"},Wn.$metadata$={kind:s,simpleName:"RemoveReceiveOnCancel",interfaces:[jt]},Gn.prototype.hasNext=function(t){return this.result!==xn?this.hasNextResult_0(this.result):(this.result=this.channel.pollInternal(),this.result!==xn?this.hasNextResult_0(this.result):this.hasNextSuspend_0(t))},Gn.prototype.hasNextResult_0=function(t){if(e.isType(t,ei)){if(null!=t.closeCause)throw t.receiveException;return!1}return!0},Gn.prototype.hasNextSuspend_0=function(t){return Pn((n=this,function(t){for(var i,s,a,l,p=new Kn(n,t);;){if(n.channel.enqueueReceive_0(p))return void n.channel.removeReceiveOnCancel_0(t,p);var c=n.channel.pollInternal();if(n.result=c,e.isType(c,ei)){if(null==c.closeCause)t.resumeWith_tl1gpc$(new d(!1));else{var _=c.receiveException;t.resumeWith_tl1gpc$(new d(S(_)))}return}if(c!==xn)return l=n.channel.onUndeliveredElement_0,s=null==(i=c)||e.isType(i,o)?i:r(),a=t.context,void t.resume_q1ktlu$(!0,null!=l?po(l,s,a):null)}return u}))(t);var n},Gn.prototype.next=function(){var t,n=this.result;if(e.isType(n,ei))throw n.receiveException;if(n!==xn)return this.result=xn,null==(t=n)||e.isType(t,o)?t:r();throw v("'hasNext' should be called prior to 'next' invocation")},Gn.$metadata$={kind:s,simpleName:"Itr",interfaces:[$i]},Hn.prototype.resumeValue_11rb$=function(t){return 2===this.receiveMode?new hi(t):t},Hn.prototype.tryResumeReceive_j43gjz$=function(t,e){return null==this.cont.tryResume_i8qury$(this.resumeValue_11rb$(t),null!=e?e.desc:null,this.resumeOnCancellationFun_11rb$(t))?null:(null!=e&&e.finishPrepare(),n)},Hn.prototype.completeResumeReceive_11rb$=function(t){this.cont.completeResume_za3rmp$(n)},Hn.prototype.resumeReceiveClosed_1zqbm$=function(t){if(1===this.receiveMode&&null==t.closeCause)this.cont.resumeWith_tl1gpc$(new d(null));else if(2===this.receiveMode){var e=this.cont,n=new hi(new di(t.closeCause));e.resumeWith_tl1gpc$(new d(n))}else{var i=this.cont,o=t.receiveException;i.resumeWith_tl1gpc$(new d(S(o)))}},Hn.prototype.toString=function(){return"ReceiveElement@"+Ho(this)+"[receiveMode="+this.receiveMode+"]"},Hn.$metadata$={kind:s,simpleName:"ReceiveElement",interfaces:[ni]},Xn.prototype.resumeOnCancellationFun_11rb$=function(t){return po(this.onUndeliveredElement,t,this.cont.context)},Xn.$metadata$={kind:s,simpleName:"ReceiveElementWithUndeliveredHandler",interfaces:[Hn]},Kn.prototype.tryResumeReceive_j43gjz$=function(t,e){return null==this.cont.tryResume_i8qury$(!0,null!=e?e.desc:null,this.resumeOnCancellationFun_11rb$(t))?null:(null!=e&&e.finishPrepare(),n)},Kn.prototype.completeResumeReceive_11rb$=function(t){this.iterator.result=t,this.cont.completeResume_za3rmp$(n)},Kn.prototype.resumeReceiveClosed_1zqbm$=function(t){var e=null==t.closeCause?this.cont.tryResume_19pj23$(!1):this.cont.tryResumeWithException_tcv7n7$(t.receiveException);null!=e&&(this.iterator.result=t,this.cont.completeResume_za3rmp$(e))},Kn.prototype.resumeOnCancellationFun_11rb$=function(t){var e;return null!=(e=this.iterator.channel.onUndeliveredElement_0)?po(e,t,this.cont.context):null},Kn.prototype.toString=function(){return"ReceiveHasNext@"+Ho(this)},Kn.$metadata$={kind:s,simpleName:"ReceiveHasNext",interfaces:[ni]},Yn.prototype.tryResumeReceive_j43gjz$=function(t,n){var i;return null==(i=this.select.trySelectOther_uc1cc4$(n))||e.isType(i,_o)?i:r()},Yn.prototype.completeResumeReceive_11rb$=function(t){yo(this.block,2===this.receiveMode?new hi(t):t,this.select.completion,this.resumeOnCancellationFun_11rb$(t))},Yn.prototype.resumeReceiveClosed_1zqbm$=function(t){if(this.select.trySelect())switch(this.receiveMode){case 0:this.select.resumeSelectWithException_tcv7n7$(t.receiveException);break;case 2:yo(this.block,new hi(new di(t.closeCause)),this.select.completion);break;case 1:null==t.closeCause?yo(this.block,null,this.select.completion):this.select.resumeSelectWithException_tcv7n7$(t.receiveException)}},Yn.prototype.dispose=function(){this.remove()&&this.channel.onReceiveDequeued()},Yn.prototype.resumeOnCancellationFun_11rb$=function(t){var e;return null!=(e=this.channel.onUndeliveredElement_0)?po(e,t,this.select.completion.context):null},Yn.prototype.toString=function(){return"ReceiveSelect@"+Ho(this)+"["+this.select+",receiveMode="+this.receiveMode+"]"},Yn.$metadata$={kind:s,simpleName:"ReceiveSelect",interfaces:[Se,ni]},Dn.$metadata$={kind:s,simpleName:"AbstractChannel",interfaces:[gi,Tn]},Zn.prototype.undeliveredElement=function(){},Zn.$metadata$={kind:s,simpleName:"Send",interfaces:[Lr]},Jn.$metadata$={kind:x,simpleName:"ReceiveOrClosed",interfaces:[]},Object.defineProperty(Qn.prototype,"pollResult",{get:function(){return this.pollResult_vo6xxe$_0}}),Qn.prototype.tryResumeSend_uc1cc4$=function(t){return null==this.cont.tryResume_19pj23$(u,null!=t?t.desc:null)?null:(null!=t&&t.finishPrepare(),n)},Qn.prototype.completeResumeSend=function(){this.cont.completeResume_za3rmp$(n)},Qn.prototype.resumeSendClosed_1zqbm$=function(t){var e=this.cont,n=t.sendException;e.resumeWith_tl1gpc$(new d(S(n)))},Qn.prototype.toString=function(){return Xo(this)+"@"+Ho(this)+"("+this.pollResult+")"},Qn.$metadata$={kind:s,simpleName:"SendElement",interfaces:[Zn]},ti.prototype.remove=function(){return!!Qn.prototype.remove.call(this)&&(this.undeliveredElement(),!0)},ti.prototype.undeliveredElement=function(){lo(this.onUndeliveredElement,this.pollResult,this.cont.context)},ti.$metadata$={kind:s,simpleName:"SendElementWithUndeliveredHandler",interfaces:[Qn]},Object.defineProperty(ei.prototype,"sendException",{configurable:!0,get:function(){var t;return null!=(t=this.closeCause)?t:new Bi(xi)}}),Object.defineProperty(ei.prototype,"receiveException",{configurable:!0,get:function(){var t;return null!=(t=this.closeCause)?t:new Fi(xi)}}),Object.defineProperty(ei.prototype,"offerResult",{configurable:!0,get:function(){return this}}),Object.defineProperty(ei.prototype,"pollResult",{configurable:!0,get:function(){return this}}),ei.prototype.tryResumeSend_uc1cc4$=function(t){return null!=t&&t.finishPrepare(),n},ei.prototype.completeResumeSend=function(){},ei.prototype.tryResumeReceive_j43gjz$=function(t,e){return null!=e&&e.finishPrepare(),n},ei.prototype.completeResumeReceive_11rb$=function(t){},ei.prototype.resumeSendClosed_1zqbm$=function(t){},ei.prototype.toString=function(){return"Closed@"+Ho(this)+"["+z(this.closeCause)+"]"},ei.$metadata$={kind:s,simpleName:"Closed",interfaces:[Jn,Zn]},Object.defineProperty(ni.prototype,"offerResult",{configurable:!0,get:function(){return gn}}),ni.prototype.resumeOnCancellationFun_11rb$=function(t){return null},ni.$metadata$={kind:s,simpleName:"Receive",interfaces:[Jn,Lr]},Object.defineProperty(ii.prototype,"isBufferAlwaysEmpty",{configurable:!0,get:function(){return!1}}),Object.defineProperty(ii.prototype,"isBufferEmpty",{configurable:!0,get:function(){return 0===this.size_0}}),Object.defineProperty(ii.prototype,"isBufferAlwaysFull",{configurable:!0,get:function(){return!1}}),Object.defineProperty(ii.prototype,"isBufferFull",{configurable:!0,get:function(){return this.size_0===this.capacity_0&&this.onBufferOverflow_0===li()}}),Object.defineProperty(ii.prototype,"isFull",{configurable:!0,get:function(){return this.isFullImpl_0}}),Object.defineProperty(ii.prototype,"isEmpty",{configurable:!0,get:function(){return this.isEmptyImpl_0}}),Object.defineProperty(ii.prototype,"isClosedForReceive",{configurable:!0,get:function(){return e.callGetter(this,Dn.prototype,"isClosedForReceive")}}),ii.prototype.offerInternal_11rb$=function(t){var n={v:null};t:do{var i,o,r,s=this.size_0;if(null!=(i=this.closedForSend_0))return i;if(null!=(o=this.updateBufferSize_0(s)))return o;if(0===s)for(;null!=(r=this.takeFirstReceiveOrPeekClosed());){if(n.v=r,e.isType(n.v,ei))return this.size_0=s,B(n.v);if(null!=B(n.v).tryResumeReceive_j43gjz$(t,null)){this.size_0=s;break t}}return this.enqueueElement_0(s,t),gn}while(0);return B(n.v).completeResumeReceive_11rb$(t),B(n.v).offerResult},ii.prototype.offerSelectInternal_ys5ufj$=function(t,n){var i={v:null};t:do{var o,r,s=this.size_0;if(null!=(o=this.closedForSend_0))return o;if(null!=(r=this.updateBufferSize_0(s)))return r;if(0===s)e:for(;;){var a=this.describeTryOffer_0(t),l=n.performAtomicTrySelect_6q0pxr$(a);if(null==l){this.size_0=s,i.v=a.result;break t}if(l===vn)break e;if(l!==zi){if(l===ji||e.isType(l,ei))return this.size_0=s,l;throw v(("performAtomicTrySelect(describeTryOffer) returned "+z(l)).toString())}}return n.trySelect()?(this.enqueueElement_0(s,t),gn):(this.size_0=s,ji)}while(0);return B(i.v).completeResumeReceive_11rb$(t),B(i.v).offerResult},ii.prototype.enqueueSend_vs6846$=function(t){return Dn.prototype.enqueueSend_vs6846$.call(this,t)},ii.prototype.updateBufferSize_0=function(t){var n;if(t<this.capacity_0)return this.size_0=t+1|0,null;switch(this.onBufferOverflow_0.name){case"SUSPEND":n=vn;break;case"DROP_LATEST":n=gn;break;case"DROP_OLDEST":n=null;break;default:n=e.noWhenBranchMatched()}return n},ii.prototype.enqueueElement_0=function(t,e){t<this.capacity_0?(this.ensureCapacity_0(t),this.buffer_0[(this.head_0+t|0)%this.buffer_0.length]=e):(this.buffer_0[this.head_0%this.buffer_0.length]=null,this.buffer_0[(this.head_0+t|0)%this.buffer_0.length]=e,this.head_0=(this.head_0+1|0)%this.buffer_0.length)},ii.prototype.ensureCapacity_0=function(t){if(t>=this.buffer_0.length){for(var n=2*this.buffer_0.length|0,i=this.capacity_0,o=J.min(n,i),r=e.newArray(o,null),s=0;s<t;s++)r[s]=this.buffer_0[(this.head_0+s|0)%this.buffer_0.length];Z(r,bn,t,o),this.buffer_0=r,this.head_0=0}},ii.prototype.pollInternal=function(){var t,n,i={v:null},o={v:!1},r={v:null},s=this.size_0;if(0===s)return null!=(t=this.closedForSend_0)?t:xn;r.v=this.buffer_0[this.head_0],this.buffer_0[this.head_0]=null,this.size_0=s-1|0;var a=xn;if(s===this.capacity_0)t:for(;null!=(n=this.takeFirstSendOrPeekClosed_0());){if(i.v=n,null!=B(i.v).tryResumeSend_uc1cc4$(null)){o.v=!0,a=B(i.v).pollResult;break t}B(i.v).undeliveredElement()}return a===xn||e.isType(a,ei)||(this.size_0=s,this.buffer_0[(this.head_0+s|0)%this.buffer_0.length]=a),this.head_0=(this.head_0+1|0)%this.buffer_0.length,o.v&&B(i.v).completeResumeSend(),r.v},ii.prototype.pollSelectInternal_y5yyj0$=function(t){var n,i={v:null},o={v:!1},r={v:null},s=this.size_0;if(0===s)return null!=(n=this.closedForSend_0)?n:xn;r.v=this.buffer_0[this.head_0],this.buffer_0[this.head_0]=null,this.size_0=s-1|0;var a=xn;if(s===this.capacity_0)t:for(;;){var l=this.describeTryPoll_0(),p=t.performAtomicTrySelect_6q0pxr$(l);if(null==p){i.v=l.result,o.v=!0,a=B(i.v).pollResult;break t}if(p===xn)break t;if(p!==zi){if(p===ji)return this.size_0=s,this.buffer_0[this.head_0]=r.v,p;if(e.isType(p,ei)){i.v=p,o.v=!0,a=p;break t}throw v(("performAtomicTrySelect(describeTryOffer) returned "+z(p)).toString())}}if(a===xn||e.isType(a,ei)){if(!t.trySelect())return this.size_0=s,this.buffer_0[this.head_0]=r.v,ji}else this.size_0=s,this.buffer_0[(this.head_0+s|0)%this.buffer_0.length]=a;return this.head_0=(this.head_0+1|0)%this.buffer_0.length,o.v&&B(i.v).completeResumeSend(),r.v},ii.prototype.enqueueReceiveInternal_i292ax$=function(t){return Dn.prototype.enqueueReceiveInternal_i292ax$.call(this,t)},ii.prototype.onCancelIdempotent_6taknv$=function(t){for(var n,i=this.onUndeliveredElement_0,s={v:null},a=this.size_0,l=0;l<a;l++){var p,u=this.buffer_0[this.head_0];null!=i&&u!==bn&&(s.v=ao(i,null==(p=u)||e.isType(p,o)?p:r(),s.v)),this.buffer_0[this.head_0]=bn,this.head_0=(this.head_0+1|0)%this.buffer_0.length}if(this.size_0=0,Dn.prototype.onCancelIdempotent_6taknv$.call(this,t),null!=(n=s.v))throw n},Object.defineProperty(ii.prototype,"bufferDebugString",{configurable:!0,get:function(){return"(buffer:capacity="+this.capacity_0+",size="+this.size_0+")"}}),ii.$metadata$={kind:s,simpleName:"ArrayChannel",interfaces:[Dn]},si.$metadata$={kind:s,simpleName:"BufferOverflow",interfaces:[E]},si.values=function(){return[li(),pi(),ui()]},si.valueOf_61zpoe$=function(t){switch(t){case"SUSPEND":return li();case"DROP_OLDEST":return pi();case"DROP_LATEST":return ui();default:M("No enum constant kotlinx.coroutines.channels.BufferOverflow."+t)}},ci.prototype.close_dbl4no$=function(t,e){return void 0===t&&(t=null),e?e(t):this.close_dbl4no$$default(t)},ci.$metadata$={kind:x,simpleName:"SendChannel",interfaces:[]},_i.prototype.cancel_m4sck1$=function(t,e){void 0===t&&(t=null),e?e(t):this.cancel_m4sck1$$default(t)},_i.prototype.cancel=function(){this.cancel_m4sck1$(null)},_i.prototype.cancel_dbl4no$=function(t,e){return void 0===t&&(t=null),e?e(t):this.cancel_dbl4no$$default(t)},_i.$metadata$={kind:x,simpleName:"ReceiveChannel",interfaces:[]},Object.defineProperty(hi.prototype,"isClosed",{configurable:!0,get:function(){return e.isType(this.holder_0,di)}}),Object.defineProperty(hi.prototype,"value",{configurable:!0,get:function(){var t;if(e.isType(this.holder_0,di))throw v(xi.toString());return null==(t=this.holder_0)||e.isType(t,o)?t:r()}}),Object.defineProperty(hi.prototype,"valueOrNull",{configurable:!0,get:function(){var t;return e.isType(this.holder_0,di)?null:null==(t=this.holder_0)||e.isType(t,o)?t:r()}}),Object.defineProperty(hi.prototype,"closeCause",{configurable:!0,get:function(){if(!e.isType(this.holder_0,di))throw v("Channel was not closed".toString());return this.holder_0.cause}}),hi.prototype.toString=function(){return e.isType(this.holder_0,di)?this.holder_0.toString():"Value("+z(this.holder_0)+")"},di.prototype.equals=function(t){return e.isType(t,di)&&$(this.cause,t.cause)},di.prototype.hashCode=function(){var t,e=this.cause;return null!=(t=null!=e?tt(e):null)?t:0},di.prototype.toString=function(){return"Closed("+z(this.cause)+")"},di.$metadata$={kind:s,simpleName:"Closed",interfaces:[]},fi.prototype.value_41v7ql$=b("kotlinx-coroutines-core.kotlinx.coroutines.channels.ValueOrClosed.Companion.value_41v7ql$",g((function(){var e=t.kotlinx.coroutines.channels.ValueOrClosed;return function(t){return new e(t)}}))),fi.prototype.closed_8qz7vd$=b("kotlinx-coroutines-core.kotlinx.coroutines.channels.ValueOrClosed.Companion.closed_8qz7vd$",g((function(){var e=t.kotlinx.coroutines.channels.ValueOrClosed.Closed,n=t.kotlinx.coroutines.channels.ValueOrClosed;return function(t){return new n(new e(t))}}))),fi.$metadata$={kind:C,simpleName:"Companion",interfaces:[]};var mi=null;function yi(){return null===mi&&new fi,mi}function $i(){}function bi(t,e){p.call(this,e),this.exceptionState_0=1,this.$this=t}function gi(){Di()}function vi(){Ai=this,this.UNLIMITED=2147483647,this.RENDEZVOUS=0,this.CONFLATED=-1,this.BUFFERED=-2,this.OPTIONAL_CHANNEL_8be2vx$=-3,this.DEFAULT_BUFFER_PROPERTY_NAME="kotlinx.coroutines.channels.defaultBuffer",this.CHANNEL_DEFAULT_CAPACITY_8be2vx$=ho(this.DEFAULT_BUFFER_PROPERTY_NAME,64,1,2147483646)}hi.$metadata$={kind:s,simpleName:"ValueOrClosed",interfaces:[]},hi.prototype.unbox=function(){return this.holder_0},hi.prototype.hashCode=function(){var t=0;return t=31*t+e.hashCode(this.holder_0)|0},hi.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.holder_0,t.holder_0)},bi.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},bi.prototype=Object.create(p.prototype),bi.prototype.constructor=bi,bi.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.$this.hasNext(this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:if(!this.result_0)throw new Fi(xi);return this.$this.next();default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},$i.prototype.next0=function(t,e){var n=new bi(this,t);return e?n:n.doResume(null)},$i.$metadata$={kind:x,simpleName:"ChannelIterator",interfaces:[]},vi.$metadata$={kind:C,simpleName:"Factory",interfaces:[]};var xi,wi,zi,Ci,Si,ki,Li,ji,Ni,Pi,Ti,Oi,Ei,Mi,Ri,Ii,Ai=null;function Di(){return null===Ai&&new vi,Ai}function Bi(t){v(t,this),this.name="ClosedSendChannelException"}function Fi(t){Q.call(this,t),this.name="ClosedReceiveChannelException"}function qi(t,e,n){pt.call(this,t,n),this._channel_0=e}function Ui(){ConflatedBroadcastChannel$Companion_getInstance(),this._state_0=ConflatedBroadcastChannel$Companion_getInstance().INITIAL_STATE_0,this._updating_0=0,this.onCloseHandler_0=null}function Vi(t){Dn.call(this,t),this.lock_0=new Sr,this.value_0=bn}function Wi(t){Dn.call(this,t)}function Gi(){}function Hi(t){Dn.call(this,t)}function Xi(){}function Ki(){this.elements_0=e.newArray(16,null),this.head_0=0,this.tail_0=0}function Yi(){}function Zi(){Yi.call(this),this._consensus_c6dvpx$_0=wi}function Ji(){this.atomicOp_ss7ttb$_0=this.atomicOp_ss7ttb$_0}function Qi(t,n){var i;io.call(this,-1),this.dispatcher=t,this.continuation=n,this._state_8be2vx$=Ci,this.callerFrame_80jpi9$_0=e.isType(i=this.continuation,Ir)?i:null,this.countOrElement_8be2vx$=(this.context,0),this._reusableCancellableContinuation_0=null}function to(t,n,i){if(void 0===i&&(i=null),e.isType(t,Qi)){var o=Rt(n,i);if(t.dispatcher.isDispatchNeeded_1fupul$(t.context))t._state_8be2vx$=o,t.resumeMode=1,t.dispatcher.dispatch_5bn72i$(t.context,t);else{var r=$e().eventLoop_8be2vx$;if(r.isUnconfinedLoopActive)t._state_8be2vx$=o,t.resumeMode=1,r.dispatchUnconfined_4avnfa$(t);else{r.incrementUseCount_6taknv$(!0);try{var s;t:do{var a=t.context.get_j3r2sn$(xe.Key);if(null!=a&&!a.isActive){var l=a.getCancellationException();t.cancelCompletedResult_83a7kv$(o,l),t.resumeWith_tl1gpc$(new d(S(l))),s=!0;break t}s=!1}while(0);for(s||(t.context,t.continuation.resumeWith_tl1gpc$(n));r.processUnconfinedEvent(););}catch(n){if(!e.isType(n,w))throw n;t.handleFatalException_mseuzz$(n,null)}finally{r.decrementUseCount_6taknv$(!0)}}}}else t.resumeWith_tl1gpc$(n)}function eo(t){return 1===t||2===t}function no(t){return 2===t}function io(t){xr.call(this),this.resumeMode=t}function oo(t,n){var i=t.delegate,o=4===n;if(!o&&e.isType(i,Qi)&&eo(n)===eo(t.resumeMode)){var r=i.dispatcher,s=i.context;r.isDispatchNeeded_1fupul$(s)?r.dispatch_5bn72i$(s,t):function(t){var n=$e().eventLoop_8be2vx$;if(n.isUnconfinedLoopActive)n.dispatchUnconfined_4avnfa$(t);else{n.incrementUseCount_6taknv$(!0);try{for(ro(t,t.delegate,!0);n.processUnconfinedEvent(););}catch(n){if(!e.isType(n,w))throw n;t.handleFatalException_mseuzz$(n,null)}finally{n.decrementUseCount_6taknv$(!0)}}}(t)}else ro(t,i,o)}function ro(t,n,i){var o,s=t.takeState(),a=t.getExceptionalResult_s8jyv4$(s),l=new d(null!=a?S(a):t.getSuccessfulResult_tpy1pm$(s));if(i){var p=e.isType(o=n,Qi)?o:r();p.context,p.continuation.resumeWith_tl1gpc$(l)}else n.resumeWith_tl1gpc$(l)}function so(t){void 0===t&&(t=null),this.holder_0=t}function ao(t,n,i){void 0===i&&(i=null);try{t(n)}catch(t){if(!e.isType(t,w))throw t;if(null==i||i.cause===t)return new uo("Exception in undelivered element handler for "+n,t)}return i}function lo(t,e,n){var i;null!=(i=ao(t,e,null))&&Ht(n,i)}function po(t,e,n){return i=e,o=n,r=t,function(t){return lo(r,i,o),u};var i,o,r}function uo(t,e){j.call(this,t,e),this.name="UndeliveredElementException"}function co(t,e){pt.call(this,t,!0),this.uCont=e}function _o(t){this.symbol=t}function ho(t,n,i,o){return void 0===i&&(i=1),void 0===o&&(o=2147483647),fo(0,e.Long.fromInt(n),e.Long.fromInt(i),e.Long.fromInt(o)).toInt()}function fo(t,e,n,i){return void 0===n&&(n=I),void 0===i&&(i=R),e}function mo(t,n){try{to(_(it(t,n)),new d(u))}catch(t){if(!e.isType(t,w))throw t;n.resumeWith_tl1gpc$(new d(S(t)))}}function yo(t,n,i,o){void 0===o&&(o=null);try{to(_(m(t,n,i)),new d(u),o)}catch(t){if(!e.isType(t,w))throw t;i.resumeWith_tl1gpc$(new d(S(t)))}}function $o(t,n){try{to(_(t),new d(u))}catch(t){if(!e.isType(t,w))throw t;n.resumeWith_tl1gpc$(new d(S(t)))}}function bo(t,n){t:do{var i,s,a=n;try{i=t(a,!1)}catch(t){if(e.isType(t,w)){var p=t;a.resumeWith_tl1gpc$(new d(S(p)));break t}throw t}if(i!==l){var u=null==(s=i)||e.isType(s,o)?s:r();a.resumeWith_tl1gpc$(new d(u))}}while(0)}function go(t,n,i){t:do{var s,a,p=i;try{s=t(n,p,!1)}catch(t){if(e.isType(t,w)){var u=t;p.resumeWith_tl1gpc$(new d(S(u)));break t}throw t}if(s!==l){var c=null==(a=s)||e.isType(a,o)?a:r();p.resumeWith_tl1gpc$(new d(c))}}while(0)}function vo(t,n){t:do{var i,s,a=n;try{n.context,i=t(a,!1)}catch(t){if(e.isType(t,w)){var p=t;a.resumeWith_tl1gpc$(new d(S(p)));break t}throw t}if(i!==l){var u=null==(s=i)||e.isType(s,o)?s:r();a.resumeWith_tl1gpc$(new d(u))}}while(0)}function xo(t,n,i){t:do{var s,a,p=i;try{i.context,s=t(n,p,!1)}catch(t){if(e.isType(t,w)){var u=t;p.resumeWith_tl1gpc$(new d(S(u)));break t}throw t}if(s!==l){var c=null==(a=s)||e.isType(a,o)?a:r();p.resumeWith_tl1gpc$(new d(c))}}while(0)}function wo(t,n,i){var o;t.initParentJob_8be2vx$();t:do{var r;try{r=i(n,t,!1)}catch(t){if(!e.isType(t,w))throw t;r=new Bt(t)}var s=r;if(s===l){o=l;break t}var a=t.makeCompletingOnce_8ea4ql$(s);if(a===Te){o=l;break t}if(e.isType(a,Bt))throw Er(a.cause,t.uCont);o=Xe(a)}while(0);return o}function zo(t){this.closure$block=t}function Co(){}function So(){}function ko(){}function Lo(){}function jo(){}function No(){this.number_0=I}function Po(t){Or.call(this),this.uCont_0=t,this._state_0=Li,this._result_0=Ni,this._parentHandle_0=null}function To(t,e){this.$outer=t,an.call(this,e)}function Oo(t){Yi.call(this),this.otherOp=t}function Eo(t,e){Zi.call(this),this.impl=t,this.desc=e,this.opSequence_oe6pw4$_0=Ti.next(),this.desc.atomicOp=this}function Mo(t){Lr.call(this),this.handle=t}function Ro(t){this.instance=new Po(t),this.clauses=et()}function Io(t){this.locked=t}function Ao(){Lr.call(this)}function Do(){}function Bo(t,e){$(typeof t,"function")?t(e):t.invoke(e)}function Fo(){if($(typeof navigator,Mi)||null==navigator||"ReactNative"!=navigator.product){if(function(){var t=!$(typeof navigator,Mi)&&null!=navigator&&null!=navigator.userAgent;t&&(t=!$(typeof navigator.userAgent,Mi));var e=t;return e&&(e=!$(typeof navigator.userAgent.match,Mi)),e&&navigator.userAgent.match("\\bjsdom\\b")}())return _r();var t=!$(typeof window,Mi)&&null!=window;return t&&(t=!$(typeof window.addEventListener,Mi)),t?zr(window):$(typeof i,Mi)?fr():_r()}return _r()}function qo(){var t;return e.isType(t=Jo().Default,he)?t:r()}function Uo(t,e){var n=t.coroutineContext.plus_1fupul$(e);return n!==Jo().Default&&null==n.get_j3r2sn$(y.Key)?n.plus_1fupul$(Jo().Default):n}function Vo(t){return t.toString()}function Wo(t){return null}function Go(t,e){console.error(e)}function Ho(t){var e,n=t.__debug_counter;return"number"!=typeof n&&(n=Ri=Ri+1|0,t.__debug_counter=n),("number"==typeof(e=n)?e:r()).toString()}function Xo(t){var n;return null!=(n=e.getKClassFromExpression(t).simpleName)?n:"Unknown"}function Ko(){Zo=this,this.Default=Fo(),this.Main=new Qo(this.Default,!1),this.Unconfined=mn()}gi.$metadata$={kind:x,simpleName:"Channel",interfaces:[_i,ci]},Bi.$metadata$={kind:s,simpleName:"ClosedSendChannelException",interfaces:[U]},Fi.$metadata$={kind:s,simpleName:"ClosedReceiveChannelException",interfaces:[Q]},b("kotlinx-coroutines-core.kotlinx.coroutines.channels.consumeEach_ur1qrk$",g((function(){var t=e.kotlin.Unit;return function(n,i,o){var r=n.openSubscription();try{var s;for(s=r.iterator();e.suspendCall(s.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());)i(s.next())}finally{r.cancel_m4sck1$()}return t}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.consumeEach_fsi0yh$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a=null;try{var l;for(l=t.iterator();e.suspendCall(l.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());)r(l.next())}catch(t){throw e.isType(t,i)?(a=t,t):t}finally{o(t,a)}return n}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.consumeEachIndexed_pji9r4$",g((function(){var n=e.kotlin.collections.IndexedValue,i=e.kotlin.Unit,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a){var l={v:0},p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c,_=u.next();s(new n((c=l.v,l.v=c+1|0,c),_))}}catch(t){throw e.isType(t,o)?(p=t,t):t}finally{r(t,p)}e.setCoroutineResult(i,e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.elementAtOrElse_m7muas$",g((function(){var n=Error,i=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,o,r,s){var a=null;try{var l,p;if(o<0)return r(o);var u=0;for(l=t.iterator();e.suspendCall(l.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c=l.next();if(o===(u=(p=u)+1|0,p))return c}return r(o)}catch(t){throw e.isType(t,n)?(a=t,t):t}finally{i(t,a)}}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.find_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){t:do{var a=null;try{var l;for(l=t.iterator();e.suspendCall(l.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var p=l.next();if(r(p)){e.setCoroutineResult(p,e.coroutineReceiver());break t}}}catch(t){throw e.isType(t,i)?(a=t,t):t}finally{o(t,a)}e.setCoroutineResult(n,e.coroutineReceiver()),e.setCoroutineResult(null,e.coroutineReceiver())}while(0);return e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.findLast_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a={v:null},l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();r(u)&&(a.v=u)}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),e.setCoroutineResult(a.v,e.coroutineReceiver()),e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.first_4c38lx$",g((function(){var n=e.kotlin.Unit,i=e.kotlin.NoSuchElementException,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();if(s(u))return u}}catch(t){throw e.isType(t,o)?(l=t,t):t}finally{r(t,l)}throw e.setCoroutineResult(n,e.coroutineReceiver()),new i("ReceiveChannel contains no element matching the predicate.")}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.firstOrNull_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a=null;try{var l;for(l=t.iterator();e.suspendCall(l.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var p=l.next();if(r(p))return p}}catch(t){throw e.isType(t,i)?(a=t,t):t}finally{o(t,a)}return e.setCoroutineResult(n,e.coroutineReceiver()),null}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.indexOfFirst_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a={v:0},l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){if(r(p.next()))return a.v;a.v=a.v+1|0}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),-1}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.indexOfLast_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a={v:-1},l={v:0},p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());)r(u.next())&&(a.v=l.v),l.v=l.v+1|0}catch(t){throw e.isType(t,i)?(p=t,t):t}finally{o(t,p)}return e.setCoroutineResult(n,e.coroutineReceiver()),a.v}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.last_4c38lx$",g((function(){var n=e.kotlin.Unit,i=e.kotlin.NoSuchElementException,o=Object,r=e.throwCCE,s=Error,a=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,l,p){var u,c={v:null},_={v:!1},h=null;try{var d;for(d=t.iterator();e.suspendCall(d.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var f=d.next();l(f)&&(c.v=f,_.v=!0)}}catch(t){throw e.isType(t,s)?(h=t,t):t}finally{a(t,h)}if(e.setCoroutineResult(n,e.coroutineReceiver()),!_.v)throw new i("ReceiveChannel contains no element matching the predicate.");return null==(u=c.v)||e.isType(u,o)?u:r()}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.lastOrNull_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a={v:null},l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();r(u)&&(a.v=u)}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),a.v}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.single_4c38lx$",g((function(){var n=e.kotlin.IllegalArgumentException_init_pdl1vj$,i=e.kotlin.Unit,o=e.kotlin.NoSuchElementException,r=Object,s=e.throwCCE,a=Error,l=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,p,u){var c,_={v:null},h={v:!1},d=null;try{var f;for(f=t.iterator();e.suspendCall(f.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var m=f.next();if(p(m)){if(h.v)throw n("ReceiveChannel contains more than one matching element.");_.v=m,h.v=!0}}}catch(t){throw e.isType(t,a)?(d=t,t):t}finally{l(t,d)}if(e.setCoroutineResult(i,e.coroutineReceiver()),!h.v)throw new o("ReceiveChannel contains no element matching the predicate.");return null==(c=_.v)||e.isType(c,r)?c:s()}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.singleOrNull_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a={v:null},l={v:!1},p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c=u.next();if(r(c)){if(l.v)return null;a.v=c,l.v=!0}}}catch(t){throw e.isType(t,i)?(p=t,t):t}finally{o(t,p)}return e.setCoroutineResult(n,e.coroutineReceiver()),l.v?a.v:null}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.filterIndexedTo_4jknp0$",g((function(){var n=e.kotlin.Unit,i=e.kotlin.collections.IndexedValue,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a,l){var p={v:0},u=null;try{var c;for(c=t.iterator();e.suspendCall(c.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var _,h=c.next(),d=new i((_=p.v,p.v=_+1|0,_),h),f=d.component1(),m=d.component2();a(f,m)&&s.add_11rb$(m)}}catch(t){throw e.isType(t,o)?(u=t,t):t}finally{r(t,u)}return e.setCoroutineResult(n,e.coroutineReceiver()),s}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.filterIndexedTo_170qh7$",g((function(){var n=e.kotlin.Unit,i=e.kotlin.collections.IndexedValue,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a,l){var p={v:0},u=null;try{var c;for(c=t.iterator();e.suspendCall(c.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var _,h=c.next(),d=new i((_=p.v,p.v=_+1|0,_),h),f=d.component1(),m=d.component2();a(f,m)&&e.suspendCall(s.send_11rb$(m,e.coroutineReceiver()))}}catch(t){throw e.isType(t,o)?(u=t,t):t}finally{r(t,u)}return e.setCoroutineResult(n,e.coroutineReceiver()),s}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.filterNotTo_ekipu8$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();s(u)||r.add_11rb$(u)}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.filterNotTo_6rlmvt$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();s(u)||e.suspendCall(r.send_11rb$(u,e.coroutineReceiver()))}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.filterTo_ekipu8$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();s(u)&&r.add_11rb$(u)}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.filterTo_6rlmvt$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();s(u)&&e.suspendCall(r.send_11rb$(u,e.coroutineReceiver()))}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.associate_9m65rd$",g((function(){var n=e.kotlin.collections.LinkedHashMap_init_q3lmfv$,i=e.kotlin.Unit,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a){var l=n(),p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c=s(u.next());l.put_xwzc9p$(c.first,c.second)}}catch(t){throw e.isType(t,o)?(p=t,t):t}finally{r(t,p)}return e.setCoroutineResult(i,e.coroutineReceiver()),e.setCoroutineResult(l,e.coroutineReceiver()),e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.associateBy_ku6tnm$",g((function(){var n=e.kotlin.collections.LinkedHashMap_init_q3lmfv$,i=e.kotlin.Unit,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a){var l=n(),p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c=u.next();l.put_xwzc9p$(s(c),c)}}catch(t){throw e.isType(t,o)?(p=t,t):t}finally{r(t,p)}return e.setCoroutineResult(i,e.coroutineReceiver()),e.setCoroutineResult(l,e.coroutineReceiver()),e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.associateBy_lt7yd0$",g((function(){var n=e.kotlin.collections.LinkedHashMap_init_q3lmfv$,i=e.kotlin.Unit,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a,l){var p=n(),u=null;try{var c;for(c=t.iterator();e.suspendCall(c.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var _=c.next();p.put_xwzc9p$(s(_),a(_))}}catch(t){throw e.isType(t,o)?(u=t,t):t}finally{r(t,u)}return e.setCoroutineResult(i,e.coroutineReceiver()),e.setCoroutineResult(p,e.coroutineReceiver()),e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.associateByTo_kkd6mf$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();r.put_xwzc9p$(s(u),u)}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.associateByTo_pjfcwb$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a,l){var p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c=u.next();r.put_xwzc9p$(s(c),a(c))}}catch(t){throw e.isType(t,i)?(p=t,t):t}finally{o(t,p)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.associateTo_lcmuai$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=s(p.next());r.put_xwzc9p$(u.first,u.second)}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.groupBy_ku6tnm$",g((function(){var n=e.kotlin.collections.LinkedHashMap_init_q3lmfv$,i=e.kotlin.collections.ArrayList_init_287e2$,o=e.kotlin.Unit,r=Error,s=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,a,l){var p=n(),u=null;try{var c;for(c=t.iterator();e.suspendCall(c.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var _,h=c.next(),d=a(h),f=p.get_11rb$(d);if(null==f){var m=i();p.put_xwzc9p$(d,m),_=m}else _=f;_.add_11rb$(h)}}catch(t){throw e.isType(t,r)?(u=t,t):t}finally{s(t,u)}return e.setCoroutineResult(o,e.coroutineReceiver()),e.setCoroutineResult(p,e.coroutineReceiver()),e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.groupBy_lt7yd0$",g((function(){var n=e.kotlin.collections.LinkedHashMap_init_q3lmfv$,i=e.kotlin.collections.ArrayList_init_287e2$,o=e.kotlin.Unit,r=Error,s=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,a,l,p){var u=n(),c=null;try{var _;for(_=t.iterator();e.suspendCall(_.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var h,d=_.next(),f=a(d),m=u.get_11rb$(f);if(null==m){var y=i();u.put_xwzc9p$(f,y),h=y}else h=m;h.add_11rb$(l(d))}}catch(t){throw e.isType(t,r)?(c=t,t):t}finally{s(t,c)}return e.setCoroutineResult(o,e.coroutineReceiver()),e.setCoroutineResult(u,e.coroutineReceiver()),e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.groupByTo_l6oevu$",g((function(){var n=e.kotlin.collections.ArrayList_init_287e2$,i=e.kotlin.Unit,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a,l){var p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c,_=u.next(),h=a(_),d=s.get_11rb$(h);if(null==d){var f=n();s.put_xwzc9p$(h,f),c=f}else c=d;c.add_11rb$(_)}}catch(t){throw e.isType(t,o)?(p=t,t):t}finally{r(t,p)}return e.setCoroutineResult(i,e.coroutineReceiver()),s}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.groupByTo_z9qy88$",g((function(){var n=e.kotlin.collections.ArrayList_init_287e2$,i=e.kotlin.Unit,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a,l,p){var u=null;try{var c;for(c=t.iterator();e.suspendCall(c.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var _,h=c.next(),d=a(h),f=s.get_11rb$(d);if(null==f){var m=n();s.put_xwzc9p$(d,m),_=m}else _=f;_.add_11rb$(l(h))}}catch(t){throw e.isType(t,o)?(u=t,t):t}finally{r(t,u)}return e.setCoroutineResult(i,e.coroutineReceiver()),s}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.mapIndexedNotNullTo_dz8aer$",g((function(){var n=e.kotlin.Unit,i=e.kotlin.collections.IndexedValue,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a,l){var p={v:0},u=null;try{var c;for(c=t.iterator();e.suspendCall(c.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var _,h,d=c.next(),f=new i((_=p.v,p.v=_+1|0,_),d);null!=(h=a(f.component1(),f.component2()))&&s.add_11rb$(h)}}catch(t){throw e.isType(t,o)?(u=t,t):t}finally{r(t,u)}return e.setCoroutineResult(n,e.coroutineReceiver()),s}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.mapIndexedNotNullTo_4m0vhw$",g((function(){var n=e.kotlin.Unit,i=e.kotlin.collections.IndexedValue,o=Error,r=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,s,a,l){var p={v:0},u=null;try{var c;for(c=t.iterator();e.suspendCall(c.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var _,h,d=c.next(),f=new i((_=p.v,p.v=_+1|0,_),d);null!=(h=a(f.component1(),f.component2()))&&e.suspendCall(s.send_11rb$(h,e.coroutineReceiver()))}}catch(t){throw e.isType(t,o)?(u=t,t):t}finally{r(t,u)}return e.setCoroutineResult(n,e.coroutineReceiver()),s}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.mapIndexedTo_a7sgbu$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l={v:0},p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c,_=u.next();r.add_11rb$(s((c=l.v,l.v=c+1|0,c),_))}}catch(t){throw e.isType(t,i)?(p=t,t):t}finally{o(t,p)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.mapIndexedTo_whewhd$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l={v:0},p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c,_=u.next();e.suspendCall(r.send_11rb$(s((c=l.v,l.v=c+1|0,c),_),e.coroutineReceiver()))}}catch(t){throw e.isType(t,i)?(p=t,t):t}finally{o(t,p)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.mapNotNullTo_fo1is7$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u;null!=(u=s(p.next()))&&r.add_11rb$(u)}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.mapNotNullTo_wo1rcg$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u;null!=(u=s(p.next()))&&e.suspendCall(r.send_11rb$(u,e.coroutineReceiver()))}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.mapTo_pa4xkq$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();r.add_11rb$(s(u))}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.mapTo_q9ku9f$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();e.suspendCall(r.send_11rb$(s(u),e.coroutineReceiver()))}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),r}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.all_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a=null;try{var l;for(l=t.iterator();e.suspendCall(l.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());)if(!r(l.next()))return!1}catch(t){throw e.isType(t,i)?(a=t,t):t}finally{o(t,a)}return e.setCoroutineResult(n,e.coroutineReceiver()),!0}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.any_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a=null;try{var l;for(l=t.iterator();e.suspendCall(l.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());)if(r(l.next()))return!0}catch(t){throw e.isType(t,i)?(a=t,t):t}finally{o(t,a)}return e.setCoroutineResult(n,e.coroutineReceiver()),!1}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.count_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a={v:0},l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());)r(p.next())&&(a.v=a.v+1|0)}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),a.v}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.fold_kq4l36$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l={v:r},p=null;try{var u;for(u=t.iterator();e.suspendCall(u.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var c=u.next();l.v=s(l.v,c)}}catch(t){throw e.isType(t,i)?(p=t,t):t}finally{o(t,p)}return e.setCoroutineResult(n,e.coroutineReceiver()),l.v}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.foldIndexed_wviyg6$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s,a){var l={v:0},p={v:r},u=null;try{var c;for(c=t.iterator();e.suspendCall(c.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var _,h=c.next();p.v=s((_=l.v,l.v=_+1|0,_),p.v,h)}}catch(t){throw e.isType(t,i)?(u=t,t):t}finally{o(t,u)}return e.setCoroutineResult(n,e.coroutineReceiver()),p.v}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.maxBy_mqfd03$",g((function(){var n=Error,i=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,o,r){var s=null;try{var a=t.iterator();if(e.suspendCall(a.hasNext(e.coroutineReceiver())),!e.coroutineResult(e.coroutineReceiver()))return null;for(var l=a.next(),p=o(l);e.suspendCall(a.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=a.next(),c=o(u);e.compareTo(p,c)<0&&(l=u,p=c)}return l}catch(t){throw e.isType(t,n)?(s=t,t):t}finally{i(t,s)}}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.minBy_mqfd03$",g((function(){var n=Error,i=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,o,r){var s=null;try{var a=t.iterator();if(e.suspendCall(a.hasNext(e.coroutineReceiver())),!e.coroutineResult(e.coroutineReceiver()))return null;for(var l=a.next(),p=o(l);e.suspendCall(a.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=a.next(),c=o(u);e.compareTo(p,c)>0&&(l=u,p=c)}return l}catch(t){throw e.isType(t,n)?(s=t,t):t}finally{i(t,s)}}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.none_4c38lx$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a=null;try{var l;for(l=t.iterator();e.suspendCall(l.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());)if(r(l.next()))return!1}catch(t){throw e.isType(t,i)?(a=t,t):t}finally{o(t,a)}return e.setCoroutineResult(n,e.coroutineReceiver()),!0}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.reduce_vk3vfd$",g((function(){var n=e.kotlin.UnsupportedOperationException_init_pdl1vj$,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a=null;try{var l=t.iterator();if(e.suspendCall(l.hasNext(e.coroutineReceiver())),!e.coroutineResult(e.coroutineReceiver()))throw n("Empty channel can't be reduced.");for(var p=l.next();e.suspendCall(l.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());)p=r(p,l.next());return p}catch(t){throw e.isType(t,i)?(a=t,t):t}finally{o(t,a)}}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.reduceIndexed_a6mkxp$",g((function(){var n=e.kotlin.UnsupportedOperationException_init_pdl1vj$,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a=null;try{var l,p=t.iterator();if(e.suspendCall(p.hasNext(e.coroutineReceiver())),!e.coroutineResult(e.coroutineReceiver()))throw n("Empty channel can't be reduced.");for(var u=1,c=p.next();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());)c=r((u=(l=u)+1|0,l),c,p.next());return c}catch(t){throw e.isType(t,i)?(a=t,t):t}finally{o(t,a)}}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.sumBy_fl2dz0$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a={v:0},l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();a.v=a.v+r(u)|0}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),a.v}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.sumByDouble_jy8qhg$",g((function(){var n=e.kotlin.Unit,i=Error,o=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,r,s){var a={v:0},l=null;try{var p;for(p=t.iterator();e.suspendCall(p.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var u=p.next();a.v+=r(u)}}catch(t){throw e.isType(t,i)?(l=t,t):t}finally{o(t,l)}return e.setCoroutineResult(n,e.coroutineReceiver()),a.v}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.channels.partition_4c38lx$",g((function(){var n=e.kotlin.collections.ArrayList_init_287e2$,i=e.kotlin.Unit,o=e.kotlin.Pair,r=Error,s=t.kotlinx.coroutines.channels.cancelConsumed_v57n85$;return function(t,a,l){var p=n(),u=n(),c=null;try{var _;for(_=t.iterator();e.suspendCall(_.hasNext(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver());){var h=_.next();a(h)?p.add_11rb$(h):u.add_11rb$(h)}}catch(t){throw e.isType(t,r)?(c=t,t):t}finally{s(t,c)}return e.setCoroutineResult(i,e.coroutineReceiver()),new o(p,u)}}))),Object.defineProperty(Vi.prototype,"isBufferAlwaysEmpty",{configurable:!0,get:function(){return!1}}),Object.defineProperty(Vi.prototype,"isBufferEmpty",{configurable:!0,get:function(){return this.value_0===bn}}),Object.defineProperty(Vi.prototype,"isBufferAlwaysFull",{configurable:!0,get:function(){return!1}}),Object.defineProperty(Vi.prototype,"isBufferFull",{configurable:!0,get:function(){return!1}}),Object.defineProperty(Vi.prototype,"isEmpty",{configurable:!0,get:function(){return this.isEmptyImpl_0}}),Vi.prototype.offerInternal_11rb$=function(t){var n={v:null};t:do{var i,o,r;if(null!=(i=this.closedForSend_0))return i;if(this.value_0===bn)for(;null!=(o=this.takeFirstReceiveOrPeekClosed());){if(n.v=o,e.isType(n.v,ei))return B(n.v);if(null!=B(n.v).tryResumeReceive_j43gjz$(t,null))break t}if(null!=(r=this.updateValueLocked_0(t)))throw r;return gn}while(0);return B(n.v).completeResumeReceive_11rb$(t),B(n.v).offerResult},Vi.prototype.offerSelectInternal_ys5ufj$=function(t,n){var i={v:null};t:do{var o,r;if(null!=(o=this.closedForSend_0))return o;if(this.value_0===bn)e:for(;;){var s=this.describeTryOffer_0(t),a=n.performAtomicTrySelect_6q0pxr$(s);if(null==a){i.v=s.result;break t}if(a===vn)break e;if(a!==zi){if(a===ji||e.isType(a,ei))return a;throw v(("performAtomicTrySelect(describeTryOffer) returned "+z(a)).toString())}}if(!n.trySelect())return ji;if(null!=(r=this.updateValueLocked_0(t)))throw r;return gn}while(0);return B(i.v).completeResumeReceive_11rb$(t),B(i.v).offerResult},Vi.prototype.pollInternal=function(){var t,e={v:null};return this.value_0===bn?null!=(t=this.closedForSend_0)?t:xn:(e.v=this.value_0,this.value_0=bn,e.v)},Vi.prototype.pollSelectInternal_y5yyj0$=function(t){var e,n={v:null};return this.value_0===bn?null!=(e=this.closedForSend_0)?e:xn:t.trySelect()?(n.v=this.value_0,this.value_0=bn,n.v):ji},Vi.prototype.onCancelIdempotent_6taknv$=function(t){var e,n={v:null};if(n.v=this.updateValueLocked_0(bn),Dn.prototype.onCancelIdempotent_6taknv$.call(this,t),null!=(e=n.v))throw e},Vi.prototype.updateValueLocked_0=function(t){var n,i,s,a,l=this.value_0;l===bn?a=null:(s=this.onUndeliveredElement_0,i=null==(n=l)||e.isType(n,o)?n:r(),a=null!=s?ao(s,i):null);var p=a;return this.value_0=t,p},Vi.prototype.enqueueReceiveInternal_i292ax$=function(t){return Dn.prototype.enqueueReceiveInternal_i292ax$.call(this,t)},Object.defineProperty(Vi.prototype,"bufferDebugString",{configurable:!0,get:function(){return"(value="+z(this.value_0)+")"}}),Vi.$metadata$={kind:s,simpleName:"ConflatedChannel",interfaces:[Dn]},Object.defineProperty(Wi.prototype,"isBufferAlwaysEmpty",{configurable:!0,get:function(){return!0}}),Object.defineProperty(Wi.prototype,"isBufferEmpty",{configurable:!0,get:function(){return!0}}),Object.defineProperty(Wi.prototype,"isBufferAlwaysFull",{configurable:!0,get:function(){return!1}}),Object.defineProperty(Wi.prototype,"isBufferFull",{configurable:!0,get:function(){return!1}}),Wi.prototype.offerInternal_11rb$=function(t){for(;;){var n=Dn.prototype.offerInternal_11rb$.call(this,t);if(n===gn)return gn;if(n!==vn){if(e.isType(n,ei))return n;throw v(("Invalid offerInternal result "+n.toString()).toString())}var i=this.sendBuffered_0(t);if(null==i)return gn;if(e.isType(i,ei))return i}},Wi.prototype.offerSelectInternal_ys5ufj$=function(t,n){for(var i;;){var o=this.hasReceiveOrClosed_0?Dn.prototype.offerSelectInternal_ys5ufj$.call(this,t,n):null!=(i=n.performAtomicTrySelect_6q0pxr$(this.describeSendBuffered_0(t)))?i:gn;if(o===ji)return ji;if(o===gn)return gn;if(o!==vn&&o!==zi){if(e.isType(o,ei))return o;throw v(("Invalid result "+o.toString()).toString())}}},Wi.$metadata$={kind:s,simpleName:"LinkedListChannel",interfaces:[Dn]},Object.defineProperty(Hi.prototype,"isBufferAlwaysEmpty",{configurable:!0,get:function(){return!0}}),Object.defineProperty(Hi.prototype,"isBufferEmpty",{configurable:!0,get:function(){return!0}}),Object.defineProperty(Hi.prototype,"isBufferAlwaysFull",{configurable:!0,get:function(){return!0}}),Object.defineProperty(Hi.prototype,"isBufferFull",{configurable:!0,get:function(){return!0}}),Hi.$metadata$={kind:s,simpleName:"RendezvousChannel",interfaces:[Dn]},Xi.$metadata$={kind:x,simpleName:"FlowCollector",interfaces:[]},b("kotlinx-coroutines-core.kotlinx.coroutines.flow.collectWhile_rysrwq$",g((function(){var n=e.kotlin.coroutines.intrinsics.COROUTINE_SUSPENDED,i=e.kotlin.coroutines.CoroutineImpl,o=t.kotlinx.coroutines.flow.internal.AbortFlowException,r=e.Kind.CLASS,s=t.kotlinx.coroutines.flow.FlowCollector,a=t.kotlinx.coroutines.flow.internal.checkOwnership_ygf9h9$;function l(t){this.closure$predicate=t}function p(t,e,n){i.call(this,n),this.exceptionState_0=1,this.$this=t,this.local$value=e}return p.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[i]},p.prototype=Object.create(i.prototype),p.prototype.constructor=p,p.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.$this.closure$predicate(this.local$value,this),this.result_0===n)return n;continue;case 1:throw this.exception_0;case 2:if(!this.result_0)throw new o(this.$this);return;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},l.prototype.emit_11rb$=function(t,e,n){var i=new p(this,t,e);return n?i:i.doResume(null)},l.$metadata$={kind:r,interfaces:[s]},function(t,n,i){var r=new l(n);try{e.suspendCall(t.collect_42ocv1$(r,e.coroutineReceiver()))}catch(t){if(!e.isType(t,o))throw t;a(t,r)}}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.flow.collect_706ovd$",g((function(){var n=e.Kind.CLASS,i=t.kotlinx.coroutines.flow.FlowCollector;function o(t){this.closure$action=t}return o.prototype.emit_11rb$=function(t,e){return this.closure$action(t,e)},o.$metadata$={kind:n,interfaces:[i]},function(t,n,i){return e.suspendCall(t.collect_42ocv1$(new o(n),e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.flow.collectIndexed_57beod$",g((function(){var n=e.Kind.CLASS,i=t.kotlinx.coroutines.flow.FlowCollector,o=e.kotlin.ArithmeticException;function r(t){this.closure$action=t,this.index_0=0}return r.prototype.emit_11rb$=function(t,e){var n,i;i=this.closure$action;var r=(n=this.index_0,this.index_0=n+1|0,n);if(r<0)throw new o("Index overflow has happened");return i(r,t,e)},r.$metadata$={kind:n,interfaces:[i]},function(t,n,i){return e.suspendCall(t.collect_42ocv1$(new r(n),e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver())}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.flow.emitAll_c14n1u$",(function(t,n,i){return e.suspendCall(n.collect_42ocv1$(t,e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver())})),b("kotlinx-coroutines-core.kotlinx.coroutines.flow.fold_usjyvu$",g((function(){var n=e.kotlin.coroutines.intrinsics.COROUTINE_SUSPENDED,i=e.kotlin.coroutines.CoroutineImpl,o=e.kotlin.Unit,r=e.Kind.CLASS,s=t.kotlinx.coroutines.flow.FlowCollector;function a(t){this.closure$action=t}function l(t,e,n,o){i.call(this,o),this.exceptionState_0=1,this.local$closure$operation=t,this.local$closure$accumulator=e,this.local$value=n}return a.prototype.emit_11rb$=function(t,e){return this.closure$action(t,e)},a.$metadata$={kind:r,interfaces:[s]},l.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[i]},l.prototype=Object.create(i.prototype),l.prototype.constructor=l,l.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$closure$operation(this.local$closure$accumulator.v,this.local$value,this),this.result_0===n)return n;continue;case 1:throw this.exception_0;case 2:return this.local$closure$accumulator.v=this.result_0,o;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},function(t,n,i,o){var r,s,p={v:n};return e.suspendCall(t.collect_42ocv1$(new a((r=i,s=p,function(t,e,n){var i=new l(r,s,t,e);return n?i:i.doResume(null)})),e.coroutineReceiver())),p.v}}))),Object.defineProperty(Ki.prototype,"isEmpty",{configurable:!0,get:function(){return this.head_0===this.tail_0}}),Ki.prototype.addLast_trkh7z$=function(t){this.elements_0[this.tail_0]=t,this.tail_0=this.tail_0+1&this.elements_0.length-1,this.tail_0===this.head_0&&this.ensureCapacity_0()},Ki.prototype.removeFirstOrNull=function(){var t;if(this.head_0===this.tail_0)return null;var n=this.elements_0[this.head_0];return this.elements_0[this.head_0]=null,this.head_0=this.head_0+1&this.elements_0.length-1,e.isType(t=n,o)?t:r()},Ki.prototype.clear=function(){this.head_0=0,this.tail_0=0,this.elements_0=e.newArray(this.elements_0.length,null)},Ki.prototype.ensureCapacity_0=function(){var t=this.elements_0.length,n=t<<1,i=e.newArray(n,null),o=this.elements_0;nt(o,i,0,this.head_0,o.length),nt(this.elements_0,i,this.elements_0.length-this.head_0|0,0,this.head_0),this.elements_0=i,this.head_0=0,this.tail_0=t},Ki.$metadata$={kind:s,simpleName:"ArrayQueue",interfaces:[]},Yi.prototype.toString=function(){return Xo(this)+"@"+Ho(this)},Yi.prototype.isEarlierThan_bfmzsr$=function(t){var e,n;if(null==(e=this.atomicOp))return!1;var i=e;if(null==(n=t.atomicOp))return!1;var o=n;return i.opSequence.compareTo_11rb$(o.opSequence)<0},Yi.$metadata$={kind:s,simpleName:"OpDescriptor",interfaces:[]},Object.defineProperty(Zi.prototype,"consensus",{configurable:!0,get:function(){return this._consensus_c6dvpx$_0}}),Object.defineProperty(Zi.prototype,"isDecided",{configurable:!0,get:function(){return this._consensus_c6dvpx$_0!==wi}}),Object.defineProperty(Zi.prototype,"opSequence",{configurable:!0,get:function(){return A}}),Object.defineProperty(Zi.prototype,"atomicOp",{configurable:!0,get:function(){return this}}),Zi.prototype.decide_s8jyv4$=function(t){var e,n=this._consensus_c6dvpx$_0;return n!==wi?n:(e=this)._consensus_c6dvpx$_0===wi&&(e._consensus_c6dvpx$_0=t,1)?t:this._consensus_c6dvpx$_0},Zi.prototype.perform_s8jyv4$=function(t){var n,i,s=this._consensus_c6dvpx$_0;return s===wi&&(s=this.decide_s8jyv4$(this.prepare_11rb$(null==(n=t)||e.isType(n,o)?n:r()))),this.complete_19pj23$(null==(i=t)||e.isType(i,o)?i:r(),s),s},Zi.$metadata$={kind:s,simpleName:"AtomicOp",interfaces:[Yi]},Object.defineProperty(Ji.prototype,"atomicOp",{configurable:!0,get:function(){return null==this.atomicOp_ss7ttb$_0?c("atomicOp"):this.atomicOp_ss7ttb$_0},set:function(t){this.atomicOp_ss7ttb$_0=t}}),Ji.$metadata$={kind:s,simpleName:"AtomicDesc",interfaces:[]},Object.defineProperty(Qi.prototype,"callerFrame",{configurable:!0,get:function(){return this.callerFrame_80jpi9$_0}}),Qi.prototype.getStackTraceElement=function(){return null},Object.defineProperty(Qi.prototype,"reusableCancellableContinuation",{configurable:!0,get:function(){var t;return e.isType(t=this._reusableCancellableContinuation_0,wt)?t:null}}),Qi.prototype.isReusable_pmw987$=function(t){var n;if(null==(n=this._reusableCancellableContinuation_0))return!1;var i=n;return!e.isType(i,wt)||i===t},Qi.prototype.claimReusableCancellableContinuation=function(){var t;for(this._reusableCancellableContinuation_0;;){var n,i=this._reusableCancellableContinuation_0;if(null===i)return this._reusableCancellableContinuation_0=Si,null;if(!e.isType(i,wt))throw v(("Inconsistent state "+z(i)).toString());if((t=this)._reusableCancellableContinuation_0===i&&(t._reusableCancellableContinuation_0=Si,1))return e.isType(n=i,wt)?n:r()}},Qi.prototype.checkPostponedCancellation_jp3215$=function(t){var n;for(this._reusableCancellableContinuation_0;;){var i=this._reusableCancellableContinuation_0;if(i!==Si){if(null===i)return null;if(e.isType(i,w)){if(!function(t){return t._reusableCancellableContinuation_0===i&&(t._reusableCancellableContinuation_0=null,!0)}(this))throw F("Failed requirement.".toString());return i}throw v(("Inconsistent state "+z(i)).toString())}if((n=this)._reusableCancellableContinuation_0===Si&&(n._reusableCancellableContinuation_0=t,1))return null}},Qi.prototype.postponeCancellation_tcv7n7$=function(t){var n;for(this._reusableCancellableContinuation_0;;){var i=this._reusableCancellableContinuation_0;if($(i,Si)){if((n=this)._reusableCancellableContinuation_0===Si&&(n._reusableCancellableContinuation_0=t,1))return!0}else{if(e.isType(i,w))return!0;if(function(t){return t._reusableCancellableContinuation_0===i&&(t._reusableCancellableContinuation_0=null,!0)}(this))return!1}}},Qi.prototype.takeState=function(){var t=this._state_8be2vx$;return this._state_8be2vx$=Ci,t},Object.defineProperty(Qi.prototype,"delegate",{configurable:!0,get:function(){return this}}),Qi.prototype.resumeWith_tl1gpc$=function(t){var n=this.continuation.context,i=Rt(t);if(this.dispatcher.isDispatchNeeded_1fupul$(n))this._state_8be2vx$=i,this.resumeMode=0,this.dispatcher.dispatch_5bn72i$(n,this);else{var o=$e().eventLoop_8be2vx$;if(o.isUnconfinedLoopActive)this._state_8be2vx$=i,this.resumeMode=0,o.dispatchUnconfined_4avnfa$(this);else{o.incrementUseCount_6taknv$(!0);try{for(this.context,this.continuation.resumeWith_tl1gpc$(t);o.processUnconfinedEvent(););}catch(t){if(!e.isType(t,w))throw t;this.handleFatalException_mseuzz$(t,null)}finally{o.decrementUseCount_6taknv$(!0)}}}},Qi.prototype.resumeCancellableWith_rdpv6h$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.DispatchedContinuation.resumeCancellableWith_rdpv6h$",g((function(){var n=t.kotlinx.coroutines.toState_fbj1ua$,i=e.kotlin.Unit,o=e.wrapFunction,r=Error,s=t.kotlinx.coroutines.Job,a=e.kotlin.Result,l=e.kotlin.createFailure_tcv7n7$;return o((function(){var n=t.kotlinx.coroutines.Job,o=e.kotlin.Result,r=e.kotlin.createFailure_tcv7n7$;return function(t,e,s){return function(){var a,l=e,p=t;t:do{var u=l.context.get_j3r2sn$(n.Key);if(null!=u&&!u.isActive){var c=u.getCancellationException();l.cancelCompletedResult_83a7kv$(p,c),l.resumeWith_tl1gpc$(new o(r(c))),a=!0;break t}a=!1}while(0);if(!a){var _=e,h=s;_.context,_.continuation.resumeWith_tl1gpc$(h)}return i}}})),function(t,i){var o=n(t,i);if(this.dispatcher.isDispatchNeeded_1fupul$(this.context))this._state_8be2vx$=o,this.resumeMode=1,this.dispatcher.dispatch_5bn72i$(this.context,this);else{var p=$e().eventLoop_8be2vx$;if(p.isUnconfinedLoopActive)this._state_8be2vx$=o,this.resumeMode=1,p.dispatchUnconfined_4avnfa$(this);else{p.incrementUseCount_6taknv$(!0);try{var u;t:do{var c=this.context.get_j3r2sn$(s.Key);if(null!=c&&!c.isActive){var _=c.getCancellationException();this.cancelCompletedResult_83a7kv$(o,_),this.resumeWith_tl1gpc$(new a(l(_))),u=!0;break t}u=!1}while(0);for(u||(this.context,this.continuation.resumeWith_tl1gpc$(t));p.processUnconfinedEvent(););}catch(t){if(!e.isType(t,r))throw t;this.handleFatalException_mseuzz$(t,null)}finally{p.decrementUseCount_6taknv$(!0)}}}}}))),Qi.prototype.cancelCompletedResult_83a7kv$=function(t,n){e.isType(t,Dt)&&t.onCancellation(n)},Qi.prototype.resumeCancelled_s8jyv4$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.DispatchedContinuation.resumeCancelled_s8jyv4$",g((function(){var n=t.kotlinx.coroutines.Job,i=e.kotlin.Result,o=e.kotlin.createFailure_tcv7n7$;return function(t){var e=this.context.get_j3r2sn$(n.Key);if(null!=e&&!e.isActive){var r=e.getCancellationException();return this.cancelCompletedResult_83a7kv$(t,r),this.resumeWith_tl1gpc$(new i(o(r))),!0}return!1}}))),Qi.prototype.resumeUndispatchedWith_tl1gpc$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.DispatchedContinuation.resumeUndispatchedWith_tl1gpc$",(function(t){this.context,this.continuation.resumeWith_tl1gpc$(t)})),Qi.prototype.dispatchYield_6v298r$=function(t,e){this._state_8be2vx$=e,this.resumeMode=1,this.dispatcher.dispatchYield_5bn72i$(t,this)},Qi.prototype.toString=function(){return"DispatchedContinuation["+this.dispatcher+", "+Vo(this.continuation)+"]"},Object.defineProperty(Qi.prototype,"context",{get:function(){return this.continuation.context}}),Qi.$metadata$={kind:s,simpleName:"DispatchedContinuation",interfaces:[a,Ir,io]},io.prototype.cancelCompletedResult_83a7kv$=function(t,e){},io.prototype.getSuccessfulResult_tpy1pm$=function(t){var n;return null==(n=t)||e.isType(n,o)?n:r()},io.prototype.getExceptionalResult_s8jyv4$=function(t){var n,i;return null!=(i=e.isType(n=t,Bt)?n:null)?i.cause:null},io.prototype.run=function(){var t,n=null;try{var i=(e.isType(t=this.delegate,Qi)?t:r()).continuation,o=i.context,s=this.takeState(),a=this.getExceptionalResult_s8jyv4$(s),l=null==a&&eo(this.resumeMode)?o.get_j3r2sn$(Ce()):null;if(null==l||l.isActive)if(null!=a)i.resumeWith_tl1gpc$(new d(S(a)));else{var p=this.getSuccessfulResult_tpy1pm$(s);i.resumeWith_tl1gpc$(new d(p))}else{var c=l.getCancellationException();this.cancelCompletedResult_83a7kv$(s,c),i.resumeWith_tl1gpc$(new d(S(Er(c))))}}catch(t){if(!e.isType(t,w))throw t;n=t}finally{var _;try{_=new d(u)}catch(t){if(!e.isType(t,w))throw t;_=new d(S(t))}var h=_;this.handleFatalException_mseuzz$(n,h.exceptionOrNull())}},io.prototype.handleFatalException_mseuzz$=function(t,e){if(null!==t||null!==e){var n=new ve("Fatal exception in coroutines machinery for "+this+". Please read KDoc to 'handleFatalException' method and report this incident to maintainers",B(null!=t?t:e));Ht(this.delegate.context,n)}},io.$metadata$={kind:s,simpleName:"DispatchedTask",interfaces:[xr]},so.prototype.plus_11rb$=function(t){var n,i,s,a;if(null==(n=this.holder_0))a=new so(t);else if(e.isType(n,W))(e.isType(i=this.holder_0,W)?i:r()).add_11rb$(t),a=new so(this.holder_0);else{var l=h(4);l.add_11rb$(null==(s=this.holder_0)||e.isType(s,o)?s:r()),l.add_11rb$(t),a=new so(l)}return a},so.prototype.forEachReversed_qlkmfe$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.InlineList.forEachReversed_qlkmfe$",g((function(){var t=Object,n=e.throwCCE,i=e.kotlin.collections.ArrayList;return function(o){var r,s,a;if(null!=(r=this.holder_0))if(e.isType(r,i))for(var l=e.isType(a=this.holder_0,i)?a:n(),p=l.size-1|0;p>=0;p--)o(l.get_za3lpa$(p));else o(null==(s=this.holder_0)||e.isType(s,t)?s:n())}}))),so.$metadata$={kind:s,simpleName:"InlineList",interfaces:[]},so.prototype.unbox=function(){return this.holder_0},so.prototype.toString=function(){return"InlineList(holder="+e.toString(this.holder_0)+")"},so.prototype.hashCode=function(){var t=0;return t=31*t+e.hashCode(this.holder_0)|0},so.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.holder_0,t.holder_0)},uo.$metadata$={kind:s,simpleName:"UndeliveredElementException",interfaces:[j]},Object.defineProperty(co.prototype,"callerFrame",{configurable:!0,get:function(){var t;return null==(t=this.uCont)||e.isType(t,Ir)?t:r()}}),co.prototype.getStackTraceElement=function(){return null},Object.defineProperty(co.prototype,"isScopedCoroutine",{configurable:!0,get:function(){return!0}}),Object.defineProperty(co.prototype,"parent_8be2vx$",{configurable:!0,get:function(){return this.parentContext.get_j3r2sn$(Ce())}}),co.prototype.afterCompletion_s8jyv4$=function(t){to(_(this.uCont),At(t,this.uCont))},co.prototype.afterResume_s8jyv4$=function(t){this.uCont.resumeWith_tl1gpc$(At(t,this.uCont))},co.$metadata$={kind:s,simpleName:"ScopeCoroutine",interfaces:[Ir,pt]},_o.prototype.toString=function(){return this.symbol},_o.prototype.unbox_tpy1pm$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.Symbol.unbox_tpy1pm$",g((function(){var t=Object,n=e.throwCCE;return function(i){var o;return i===this?null:null==(o=i)||e.isType(o,t)?o:n()}}))),_o.$metadata$={kind:s,simpleName:"Symbol",interfaces:[]},zo.prototype.run=function(){this.closure$block()},zo.$metadata$={kind:s,interfaces:[vr]},Co.prototype.invoke_en0wgx$=function(t,e){this.invoke_ha2bmj$(t,null,e)},Co.$metadata$={kind:x,simpleName:"SelectBuilder",interfaces:[]},So.$metadata$={kind:x,simpleName:"SelectClause0",interfaces:[]},ko.$metadata$={kind:x,simpleName:"SelectClause1",interfaces:[]},Lo.$metadata$={kind:x,simpleName:"SelectClause2",interfaces:[]},jo.$metadata$={kind:x,simpleName:"SelectInstance",interfaces:[]},b("kotlinx-coroutines-core.kotlinx.coroutines.selects.select_wd2ujs$",g((function(){var n=t.kotlinx.coroutines.selects.SelectBuilderImpl,i=Error;return function(t,o){var r;return e.suspendCall((r=t,function(t){var o=new n(t);try{r(o)}catch(t){if(!e.isType(t,i))throw t;o.handleBuilderException_tcv7n7$(t)}return o.getResult()})(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver())}}))),No.prototype.next=function(){return(t=this).number_0=t.number_0.inc();var t},No.$metadata$={kind:s,simpleName:"SeqNumber",interfaces:[]},Object.defineProperty(Po.prototype,"callerFrame",{configurable:!0,get:function(){var t;return e.isType(t=this.uCont_0,Ir)?t:null}}),Po.prototype.getStackTraceElement=function(){return null},Object.defineProperty(Po.prototype,"parentHandle_0",{configurable:!0,get:function(){return this._parentHandle_0},set:function(t){this._parentHandle_0=t}}),Object.defineProperty(Po.prototype,"context",{configurable:!0,get:function(){return this.uCont_0.context}}),Object.defineProperty(Po.prototype,"completion",{configurable:!0,get:function(){return this}}),Po.prototype.doResume_0=function(t,e){var n;for(this._result_0;;){var i=this._result_0;if(i===Ni){var o=t();if((n=this)._result_0===Ni&&(n._result_0=o,1))return}else{if(i!==l)throw v("Already resumed");if(function(t){return t._result_0===l&&(t._result_0=Pi,!0)}(this))return void e()}}},Po.prototype.resumeWith_tl1gpc$=function(t){t:do{for(this._result_0;;){var e=this._result_0;if(e===Ni){var n=Rt(t);if((o=this)._result_0===Ni&&(o._result_0=n,1))break t}else{if(e!==l)throw v("Already resumed");if(function(t){return t._result_0===l&&(t._result_0=Pi,!0)}(this)){if(t.isFailure){var i=this.uCont_0;i.resumeWith_tl1gpc$(new d(S(Er(B(t.exceptionOrNull())))))}else this.uCont_0.resumeWith_tl1gpc$(t);break t}}}}while(0);var o},Po.prototype.resumeSelectWithException_tcv7n7$=function(t){t:do{for(this._result_0;;){var e=this._result_0;if(e===Ni){var n=new Bt(Er(t,this.uCont_0));if((i=this)._result_0===Ni&&(i._result_0=n,1))break t}else{if(e!==l)throw v("Already resumed");if(function(t){return t._result_0===l&&(t._result_0=Pi,!0)}(this)){_(this.uCont_0).resumeWith_tl1gpc$(new d(S(t)));break t}}}}while(0);var i},Po.prototype.getResult=function(){this.isSelected||this.initCancellability_0();var t,n=this._result_0;if(n===Ni){if((t=this)._result_0===Ni&&(t._result_0=l,1))return l;n=this._result_0}if(n===Pi)throw v("Already resumed");if(e.isType(n,Bt))throw n.cause;return n},Po.prototype.initCancellability_0=function(){var t;if(null!=(t=this.context.get_j3r2sn$(Ce()))){var e=t,n=e.invokeOnCompletion_ct2b2z$(!0,void 0,new To(this,e));this.parentHandle_0=n,this.isSelected&&n.dispose()}},To.prototype.invoke=function(t){this.$outer.trySelect()&&this.$outer.resumeSelectWithException_tcv7n7$(this.job.getCancellationException())},To.prototype.toString=function(){return"SelectOnCancelling["+this.$outer+"]"},To.$metadata$={kind:s,simpleName:"SelectOnCancelling",interfaces:[an]},Po.prototype.handleBuilderException_tcv7n7$=function(t){if(this.trySelect())this.resumeWith_tl1gpc$(new d(S(t)));else if(!e.isType(t,or)){var n=this.getResult();e.isType(n,Bt)&&n.cause===t||Ht(this.context,t)}},Object.defineProperty(Po.prototype,"isSelected",{configurable:!0,get:function(){for(this._state_0;;){var t=this._state_0;if(t===Li)return!1;if(!e.isType(t,Yi))return!0;t.perform_s8jyv4$(this)}}}),Po.prototype.disposeOnSelect_rvfg84$=function(t){var e=new Mo(t);(this.isSelected||(this.addLast_l2j9rm$(e),this.isSelected))&&t.dispose()},Po.prototype.doAfterSelect_0=function(){var t;null!=(t=this.parentHandle_0)&&t.dispose();for(var n=this._next;!$(n,this);)e.isType(n,Mo)&&n.handle.dispose(),n=n._next},Po.prototype.trySelect=function(){var t,e=this.trySelectOther_uc1cc4$(null);if(e===n)t=!0;else{if(null!=e)throw v(("Unexpected trySelectIdempotent result "+z(e)).toString());t=!1}return t},Po.prototype.trySelectOther_uc1cc4$=function(t){var i;for(this._state_0;;){var o=this._state_0;t:do{if(o===Li){if(null==t){if((i=this)._state_0!==Li||(i._state_0=null,0))break t}else{var r=new Oo(t);if(!function(t){return t._state_0===Li&&(t._state_0=r,!0)}(this))break t;var s=r.perform_s8jyv4$(this);if(null!==s)return s}return this.doAfterSelect_0(),n}if(!e.isType(o,Yi))return null==t?null:o===t.desc?n:null;if(null!=t){var a=t.atomicOp;if(e.isType(a,Eo)&&a.impl===this)throw v("Cannot use matching select clauses on the same object".toString());if(a.isEarlierThan_bfmzsr$(o))return zi}o.perform_s8jyv4$(this)}while(0)}},Oo.prototype.perform_s8jyv4$=function(t){var n,i=e.isType(n=t,Po)?n:r();this.otherOp.finishPrepare();var o,s=this.otherOp.atomicOp.decide_s8jyv4$(null),a=null==s?this.otherOp.desc:Li;return o=this,i._state_0===o&&(i._state_0=a),s},Object.defineProperty(Oo.prototype,"atomicOp",{configurable:!0,get:function(){return this.otherOp.atomicOp}}),Oo.$metadata$={kind:s,simpleName:"PairSelectOp",interfaces:[Yi]},Po.prototype.performAtomicTrySelect_6q0pxr$=function(t){return new Eo(this,t).perform_s8jyv4$(null)},Po.prototype.toString=function(){return"SelectInstance(state="+z(this._state_0)+", result="+z(this._result_0)+")"},Object.defineProperty(Eo.prototype,"opSequence",{configurable:!0,get:function(){return this.opSequence_oe6pw4$_0}}),Eo.prototype.prepare_11rb$=function(t){var n;if(null==t&&null!=(n=this.prepareSelectOp_0()))return n;try{return this.desc.prepare_4uxf5b$(this)}catch(n){throw e.isType(n,w)?(null==t&&this.undoPrepare_0(),n):n}},Eo.prototype.complete_19pj23$=function(t,e){this.completeSelect_0(e),this.desc.complete_ayrq83$(this,e)},Eo.prototype.prepareSelectOp_0=function(){var t;for(this.impl._state_0;;){var n=this.impl._state_0;if(n===this)return null;if(e.isType(n,Yi))n.perform_s8jyv4$(this.impl);else{if(n!==Li)return ji;if((t=this).impl._state_0===Li&&(t.impl._state_0=t,1))return null}}},Eo.prototype.undoPrepare_0=function(){var t;(t=this).impl._state_0===t&&(t.impl._state_0=Li)},Eo.prototype.completeSelect_0=function(t){var e,n=null==t,i=n?null:Li;(e=this).impl._state_0===e&&(e.impl._state_0=i,1)&&n&&this.impl.doAfterSelect_0()},Eo.prototype.toString=function(){return"AtomicSelectOp(sequence="+this.opSequence.toString()+")"},Eo.$metadata$={kind:s,simpleName:"AtomicSelectOp",interfaces:[Zi]},Po.prototype.invoke_nd4vgy$=function(t,e){t.registerSelectClause0_s9h9qd$(this,e)},Po.prototype.invoke_veq140$=function(t,e){t.registerSelectClause1_o3xas4$(this,e)},Po.prototype.invoke_ha2bmj$=function(t,e,n){t.registerSelectClause2_rol3se$(this,e,n)},Po.prototype.onTimeout_7xvrws$=function(t,e){if(t.compareTo_11rb$(A)<=0)this.trySelect()&&bo(e,this.completion);else{var n,i,o=new zo((n=this,i=e,function(){return n.trySelect()&&mo(i,n.completion),u}));this.disposeOnSelect_rvfg84$(de(this.context).invokeOnTimeout_oczv3n$(t,o,this.context))}},Mo.$metadata$={kind:s,simpleName:"DisposeNode",interfaces:[Lr]},Po.$metadata$={kind:s,simpleName:"SelectBuilderImpl",interfaces:[Ir,a,jo,Co,Or]},b("kotlinx-coroutines-core.kotlinx.coroutines.selects.selectUnbiased_wd2ujs$",g((function(){var n=t.kotlinx.coroutines.selects.UnbiasedSelectBuilderImpl,i=Error;return function(t,o){var r;return e.suspendCall((r=t,function(t){var o=new n(t);try{r(o)}catch(t){if(!e.isType(t,i))throw t;o.handleBuilderException_tcv7n7$(t)}return o.initSelectResult()})(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver())}}))),Ro.prototype.handleBuilderException_tcv7n7$=function(t){this.instance.handleBuilderException_tcv7n7$(t)},Ro.prototype.initSelectResult=function(){if(!this.instance.isSelected)try{var t;for(ot(this.clauses),t=this.clauses.iterator();t.hasNext();)t.next()()}catch(t){if(!e.isType(t,w))throw t;this.instance.handleBuilderException_tcv7n7$(t)}return this.instance.getResult()},Ro.prototype.invoke_nd4vgy$=function(t,e){var n,i,o;this.clauses.add_11rb$((n=this,i=e,o=t,function(){return o.registerSelectClause0_s9h9qd$(n.instance,i),u}))},Ro.prototype.invoke_veq140$=function(t,e){var n,i,o;this.clauses.add_11rb$((n=this,i=e,o=t,function(){return o.registerSelectClause1_o3xas4$(n.instance,i),u}))},Ro.prototype.invoke_ha2bmj$=function(t,e,n){var i,o,r,s;this.clauses.add_11rb$((i=this,o=e,r=n,s=t,function(){return s.registerSelectClause2_rol3se$(i.instance,o,r),u}))},Ro.prototype.onTimeout_7xvrws$=function(t,e){var n,i,o;this.clauses.add_11rb$((n=this,i=t,o=e,function(){return n.instance.onTimeout_7xvrws$(i,o),u}))},Ro.$metadata$={kind:s,simpleName:"UnbiasedSelectBuilderImpl",interfaces:[Co]},b("kotlinx-coroutines-core.kotlinx.coroutines.selects.whileSelect_vmyjlh$",g((function(){var n=t.kotlinx.coroutines.selects.SelectBuilderImpl,i=Error;function o(t){return function(o){var r=new n(o);try{t(r)}catch(t){if(!e.isType(t,i))throw t;r.handleBuilderException_tcv7n7$(t)}return r.getResult()}}return function(t,n){for(;e.suspendCall(o(t)(e.coroutineReceiver())),e.coroutineResult(e.coroutineReceiver()););}}))),b("kotlinx-coroutines-core.kotlinx.coroutines.sync.withLock_8701tb$",(function(t,n,i,o){void 0===n&&(n=null),e.suspendCall(t.lock_s8jyv4$(n,e.coroutineReceiver()));try{return i()}finally{t.unlock_s8jyv4$(n)}})),Io.prototype.toString=function(){return"Empty["+this.locked.toString()+"]"},Io.$metadata$={kind:s,simpleName:"Empty",interfaces:[]},b("kotlinx-coroutines-core.kotlinx.coroutines.sync.withPermit_103m5a$",(function(t,n,i){e.suspendCall(t.acquire(e.coroutineReceiver()));try{return n()}finally{t.release()}})),Ao.$metadata$={kind:s,simpleName:"CompletionHandlerBase",interfaces:[Lr]},Do.$metadata$={kind:s,simpleName:"CancelHandlerBase",interfaces:[]},Ko.$metadata$={kind:C,simpleName:"Dispatchers",interfaces:[]};var Yo,Zo=null;function Jo(){return null===Zo&&new Ko,Zo}function Qo(t,e){cn.call(this),this.delegate=t,this.invokeImmediately_0=e,this.immediate_iydbla$_0=this.invokeImmediately_0?this:new Qo(this.delegate,!0)}function tr(){return new er}function er(){fe.call(this)}function nr(){fe.call(this)}function ir(){throw X("runBlocking event loop is not supported")}function or(t,e){U.call(this,t,e),this.name="CancellationException"}function rr(t,e){return e=e||Object.create(or.prototype),or.call(e,t,null),e}function sr(t,e,n){or.call(this,t,e),this.job_8be2vx$=n,this.name="JobCancellationException"}function ar(t){return st(t,A,Yo).toInt()}function lr(){qt.call(this),this.messageQueue_8be2vx$=new pr(this)}function pr(t){var e;this.$outer=t,gr.call(this),this.processQueue_8be2vx$=(e=this,function(){return e.process(),u})}function ur(){cr=this,lr.call(this)}Object.defineProperty(Qo.prototype,"immediate",{configurable:!0,get:function(){return this.immediate_iydbla$_0}}),Qo.prototype.isDispatchNeeded_1fupul$=function(t){return!this.invokeImmediately_0},Qo.prototype.dispatch_5bn72i$=function(t,e){this.delegate.dispatch_5bn72i$(t,e)},Qo.prototype.dispatchYield_5bn72i$=function(t,e){this.delegate.dispatchYield_5bn72i$(t,e)},Qo.prototype.toString=function(){var t;return null!=(t=this.toStringInternalImpl())?t:this.delegate.toString()},Qo.$metadata$={kind:s,simpleName:"JsMainDispatcher",interfaces:[cn]},er.prototype.dispatch_5bn72i$=function(t,e){ir()},er.$metadata$={kind:s,simpleName:"UnconfinedEventLoop",interfaces:[fe]},nr.prototype.unpark_0=function(){ir()},nr.prototype.reschedule_0=function(t,e){ir()},nr.$metadata$={kind:s,simpleName:"EventLoopImplPlatform",interfaces:[fe]},or.$metadata$={kind:s,simpleName:"CancellationException",interfaces:[U]},sr.prototype.toString=function(){return or.prototype.toString.call(this)+"; job="+this.job_8be2vx$},sr.prototype.equals=function(t){return t===this||e.isType(t,sr)&&$(t.message,this.message)&&$(t.job_8be2vx$,this.job_8be2vx$)&&$(t.cause,this.cause)},sr.prototype.hashCode=function(){var t,e;return(31*((31*tt(B(this.message))|0)+tt(this.job_8be2vx$)|0)|0)+(null!=(e=null!=(t=this.cause)?tt(t):null)?e:0)|0},sr.$metadata$={kind:s,simpleName:"JobCancellationException",interfaces:[or]},pr.prototype.schedule=function(){this.$outer.scheduleQueueProcessing()},pr.prototype.reschedule=function(){setTimeout(this.processQueue_8be2vx$,0)},pr.$metadata$={kind:s,simpleName:"ScheduledMessageQueue",interfaces:[gr]},lr.prototype.dispatch_5bn72i$=function(t,e){this.messageQueue_8be2vx$.enqueue_771g0p$(e)},lr.prototype.invokeOnTimeout_oczv3n$=function(t,e,n){var i;return new mr(setTimeout((i=e,function(){return i.run(),u}),ar(t)))},lr.prototype.scheduleResumeAfterDelay_egqmvs$=function(t,e){var n,i,o=setTimeout((n=e,i=this,function(){return n.resumeUndispatched_hyuxa3$(i,u),u}),ar(t));e.invokeOnCancellation_f05bi3$(new mr(o))},lr.$metadata$={kind:s,simpleName:"SetTimeoutBasedDispatcher",interfaces:[he,qt]},ur.prototype.scheduleQueueProcessing=function(){i.nextTick(this.messageQueue_8be2vx$.processQueue_8be2vx$)},ur.$metadata$={kind:C,simpleName:"NodeDispatcher",interfaces:[lr]};var cr=null;function _r(){return null===cr&&new ur,cr}function hr(){dr=this,lr.call(this)}hr.prototype.scheduleQueueProcessing=function(){setTimeout(this.messageQueue_8be2vx$.processQueue_8be2vx$,0)},hr.$metadata$={kind:C,simpleName:"SetTimeoutDispatcher",interfaces:[lr]};var dr=null;function fr(){return null===dr&&new hr,dr}function mr(t){Lt.call(this),this.handle_0=t}function yr(t){qt.call(this),this.window_0=t,this.queue_0=new br(this.window_0)}function $r(t,e){this.this$WindowDispatcher=t,this.closure$handle=e}function br(t){var e;gr.call(this),this.window_0=t,this.messageName_0="dispatchCoroutine",this.window_0.addEventListener("message",(e=this,function(t){return t.source==e.window_0&&t.data==e.messageName_0&&(t.stopPropagation(),e.process()),u}),!0)}function gr(){Ki.call(this),this.yieldEvery=16,this.scheduled_0=!1}function vr(){}function xr(){}function wr(t){}function zr(t){var e,n;if(null!=(e=t.coroutineDispatcher))n=e;else{var i=new yr(t);t.coroutineDispatcher=i,n=i}return n}function Cr(t){rr("Flow was aborted, no more elements needed",this),this.owner=t,this.name="AbortFlowException"}function Sr(){}function kr(t){return at(t)}function Lr(){this._next=this,this._prev=this,this._removed=!1}function jr(t,e){Pr.call(this),this.queue=t,this.node=e}function Nr(t){Pr.call(this),this.queue=t,this.affectedNode_rjf1fm$_0=this.queue._next}function Pr(){Ji.call(this)}function Tr(t,e,n){Yi.call(this),this.affected=t,this.desc=e,this.atomicOp_khy6pf$_0=n}function Or(){Lr.call(this)}function Er(t,e){return t}function Mr(t){return t}function Rr(t){return t}function Ir(){}function Ar(t,e){}function Dr(t){return null}function Br(t){return 0}function Fr(){this.value_0=null}mr.prototype.dispose=function(){clearTimeout(this.handle_0)},mr.prototype.invoke=function(t){this.dispose()},mr.prototype.toString=function(){return"ClearTimeout["+this.handle_0+"]"},mr.$metadata$={kind:s,simpleName:"ClearTimeout",interfaces:[Se,Lt]},yr.prototype.dispatch_5bn72i$=function(t,e){this.queue_0.enqueue_771g0p$(e)},yr.prototype.scheduleResumeAfterDelay_egqmvs$=function(t,e){var n,i;this.window_0.setTimeout((n=e,i=this,function(){return n.resumeUndispatched_hyuxa3$(i,u),u}),ar(t))},$r.prototype.dispose=function(){this.this$WindowDispatcher.window_0.clearTimeout(this.closure$handle)},$r.$metadata$={kind:s,interfaces:[Se]},yr.prototype.invokeOnTimeout_oczv3n$=function(t,e,n){var i;return new $r(this,this.window_0.setTimeout((i=e,function(){return i.run(),u}),ar(t)))},yr.$metadata$={kind:s,simpleName:"WindowDispatcher",interfaces:[he,qt]},br.prototype.schedule=function(){var t;Promise.resolve(u).then((t=this,function(e){return t.process(),u}))},br.prototype.reschedule=function(){this.window_0.postMessage(this.messageName_0,"*")},br.$metadata$={kind:s,simpleName:"WindowMessageQueue",interfaces:[gr]},gr.prototype.enqueue_771g0p$=function(t){this.addLast_trkh7z$(t),this.scheduled_0||(this.scheduled_0=!0,this.schedule())},gr.prototype.process=function(){try{for(var t=this.yieldEvery,e=0;e<t;e++){var n;if(null==(n=this.removeFirstOrNull()))return;n.run()}}finally{this.isEmpty?this.scheduled_0=!1:this.reschedule()}},gr.$metadata$={kind:s,simpleName:"MessageQueue",interfaces:[Ki]},vr.$metadata$={kind:x,simpleName:"Runnable",interfaces:[]},xr.$metadata$={kind:s,simpleName:"SchedulerTask",interfaces:[vr]},Cr.$metadata$={kind:s,simpleName:"AbortFlowException",interfaces:[or]},Sr.prototype.tryLock=function(){return!0},Sr.prototype.unlock=function(){},Sr.$metadata$={kind:s,simpleName:"NoOpLock",interfaces:[]},Object.defineProperty(Lr.prototype,"nextNode",{configurable:!0,get:b("kotlinx-coroutines-core.kotlinx.coroutines.internal.LinkedListNode.get_nextNode",(function(){return this._next}))}),Object.defineProperty(Lr.prototype,"prevNode",{configurable:!0,get:b("kotlinx-coroutines-core.kotlinx.coroutines.internal.LinkedListNode.get_prevNode",(function(){return this._prev}))}),Object.defineProperty(Lr.prototype,"isRemoved",{configurable:!0,get:b("kotlinx-coroutines-core.kotlinx.coroutines.internal.LinkedListNode.get_isRemoved",(function(){return this._removed}))}),Lr.prototype.addLast_l2j9rm$=function(t){var e=this._prev;t._next=this,t._prev=e,e._next=t,this._prev=t},Lr.prototype.remove=function(){if(this._removed)return!1;var t=this._prev,e=this._next;return t._next=e,e._prev=t,this._removed=!0,!0},Lr.prototype.addOneIfEmpty_l2j9rm$=function(t){return this._next===this&&(this.addLast_l2j9rm$(t),!0)},Lr.prototype.addLastIf_w327v9$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.LinkedListNode.addLastIf_w327v9$",(function(t,e){return!!e()&&(this.addLast_l2j9rm$(t),!0)})),Lr.prototype.addLastIfPrev_s8xlln$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.LinkedListNode.addLastIfPrev_s8xlln$",(function(t,e){return!!e(this._prev)&&(this.addLast_l2j9rm$(t),!0)})),Lr.prototype.addLastIfPrevAndIf_dzcug$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.LinkedListNode.addLastIfPrevAndIf_dzcug$",(function(t,e,n){return!!e(this._prev)&&!!n()&&(this.addLast_l2j9rm$(t),!0)})),Lr.prototype.helpRemove=function(){},Lr.prototype.removeFirstOrNull=function(){var t=this._next;if(t===this)return null;if(!t.remove())throw v("Should remove".toString());return t},Lr.prototype.removeFirstIfIsInstanceOfOrPeekIf_14urrv$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.LinkedListNode.removeFirstIfIsInstanceOfOrPeekIf_14urrv$",g((function(){var t=e.kotlin.IllegalStateException_init_pdl1vj$;return function(e,n,i){var o=this._next;if(o===this)return null;if(!n(o))return null;if(i(o))return o;if(!o.remove())throw t("Should remove".toString());return o}}))),Lr.$metadata$={kind:s,simpleName:"LinkedListNode",interfaces:[]},Object.defineProperty(jr.prototype,"affectedNode",{configurable:!0,get:function(){return this.queue._prev}}),jr.prototype.finishPrepare_xe32vn$=function(t){},jr.prototype.onComplete=function(){this.queue.addLast_l2j9rm$(this.node)},jr.prototype.finishOnSuccess_bpl3tg$=function(t,e){},jr.$metadata$={kind:s,simpleName:"AddLastDesc",interfaces:[Pr]},Object.defineProperty(Nr.prototype,"result",{configurable:!0,get:function(){var t;return null==(t=this.affectedNode)||e.isType(t,o)?t:r()}}),Object.defineProperty(Nr.prototype,"affectedNode",{configurable:!0,get:function(){return this.affectedNode_rjf1fm$_0}}),Nr.prototype.finishPrepare_xe32vn$=function(t){},Nr.prototype.onComplete=function(){this.queue.removeFirstOrNull()},Nr.prototype.finishOnSuccess_bpl3tg$=function(t,e){},Nr.$metadata$={kind:s,simpleName:"RemoveFirstDesc",interfaces:[Pr]},Pr.prototype.onPrepare_xe32vn$=function(t){return this.finishPrepare_xe32vn$(t),null},Pr.prototype.onRemoved_l2j9rm$=function(t){},Pr.prototype.prepare_4uxf5b$=function(t){var e=this.affectedNode,n=this.failure_l2j9rm$(e);return null!=n?n:this.onPrepare_xe32vn$(new Tr(e,this,t))},Pr.prototype.complete_ayrq83$=function(t,e){this.onComplete()},Pr.prototype.failure_l2j9rm$=function(t){return null},Pr.prototype.retry_ru8hrx$=function(t,e){return!1},Pr.$metadata$={kind:s,simpleName:"AbstractAtomicDesc",interfaces:[Ji]},Object.defineProperty(Tr.prototype,"atomicOp",{get:function(){return this.atomicOp_khy6pf$_0}}),Tr.prototype.perform_s8jyv4$=function(t){return null},Tr.prototype.finishPrepare=function(){},Tr.$metadata$={kind:s,simpleName:"PrepareOp",interfaces:[Yi]},Object.defineProperty(Or.prototype,"isEmpty",{configurable:!0,get:function(){return this._next===this}}),Or.prototype.forEach_jgwmnf$=b("kotlinx-coroutines-core.kotlinx.coroutines.internal.LinkedListHead.forEach_jgwmnf$",g((function(){var t=e.equals;return function(e,n,i){for(var o=this._next;!t(o,this);)n(o)&&i(o),o=o._next}}))),Or.prototype.remove=function(){throw lt()},Or.$metadata$={kind:s,simpleName:"LinkedListHead",interfaces:[Lr]},b("kotlinx-coroutines-core.kotlinx.coroutines.internal.recoverAndThrow_8o0b5c$",(function(t,e){throw t})),Ir.$metadata$={kind:x,simpleName:"CoroutineStackFrame",interfaces:[]},Fr.prototype.get=function(){var t;return null==(t=this.value_0)||e.isType(t,o)?t:r()},Fr.prototype.set_11rb$=function(t){this.value_0=t},Fr.$metadata$={kind:s,simpleName:"CommonThreadLocal",interfaces:[]};var qr=t.kotlinx||(t.kotlinx={}),Ur=qr.coroutines||(qr.coroutines={});Ur.AbstractCoroutine=pt,Ur.launch_s496o7$=function(t,e,n,i){void 0===e&&(e=f.EmptyCoroutineContext),void 0===n&&(n=se());var o=Uo(t,e),r=n.isLazy?new dt(o,i):new ht(o,!0);return r.start_b5ul0p$(n,r,i),r},Ur.async_pda6u4$=function(t,e,n,i){void 0===e&&(e=f.EmptyCoroutineContext),void 0===n&&(n=se());var o=Uo(t,e),r=n.isLazy?new _t(o,i):new ut(o,!0);return r.start_b5ul0p$(n,r,i),r},Ur.withContext_i5cbzn$=function(t,e,n){return(i=t,o=e,function(t){var e=t.context,n=e.plus_1fupul$(i);if(Nn(n),n===e){var r=new co(n,t);return wo(r,r,o)}if($(n.get_j3r2sn$(y.Key),e.get_j3r2sn$(y.Key))){var s=new ft(n,t);return wo(s,s,o)}var a=new mt(n,t);return a.initParentJob_8be2vx$(),yo(o,a,a),a.getResult()})(n);var i,o},Ur.CancellableContinuation=yt,Ur.getOrCreateCancellableContinuation_3j0xf1$=$t,Ur.removeOnCancellation_1u31dd$=bt,Ur.disposeOnCancellation_xredcy$=gt,Ur.CancellableContinuationImpl=wt,Ur.NotCompleted=zt,Ur.CancelHandler=Lt,Ur.BeforeResumeCancelHandler=jt,Ur.CompletableDeferred=Tt,Ur.CompletableDeferred_xptg6w$=function(t){return void 0===t&&(t=null),new Ot(t)},Ur.CompletableJob=Mt,Ur.toState_fbj1ua$=Rt,Ur.toState_bd49bs$=It,Ur.recoverResult_nnrdi1$=At,Ur.CompletedWithCancellation=Dt,Ur.CompletedExceptionally=Bt,Ur.CancelledContinuation=Ft,Object.defineProperty(qt,"Key",{get:Gt}),Ur.CoroutineDispatcher=qt,Ur.handleCoroutineException_1ur55u$=Ht,Ur.handlerException_l3aqr5$=Xt,Ur.CoroutineExceptionHandler=Kt,Object.defineProperty(Kt,"Key",{get:ne}),Ur.CoroutineScope=ie,Object.defineProperty(oe,"DEFAULT",{get:se}),Object.defineProperty(oe,"LAZY",{get:ae}),Object.defineProperty(oe,"ATOMIC",{get:le}),Object.defineProperty(oe,"UNDISPATCHED",{get:pe}),Ur.CoroutineStart=oe,Ur.CopyableThrowable=ue,Ur.Deferred=ce,Ur.Delay=he,Ur.delay_s8cxhz$=function(t,e){var n;if(!(t.toNumber()<=0))return _e((n=t,function(t){return n.compareTo_11rb$(R)<0&&de(t.context).scheduleResumeAfterDelay_egqmvs$(n,t),u}))(e)},Ur.get_delay_tcgsej$=de,Ur.EventLoop=fe,Object.defineProperty(Ur,"ThreadLocalEventLoop",{get:$e}),Ur.EventLoopImplBase=be,Ur.CompletionHandlerException=ge,Ur.CoroutinesInternalError=ve,Object.defineProperty(xe,"Key",{get:Ce}),Ur.Job=xe,Ur.Job_5dx9e$=function(t){return void 0===t&&(t=null),new Ye(t)},Ur.DisposableHandle=Se,Ur.ChildJob=ke,Ur.ParentJob=Le,Ur.ChildHandle=je,Object.defineProperty(Ur,"NonDisposableHandle",{get:De}),Ur.JobSupport=Be,Ur.boxIncomplete_ntq51o$=He,Ur.unboxState_ntq51o$=Xe,Ur.JobImpl=Ye,Ur.Incomplete=Ze,Ur.JobNode=Je,Ur.NodeList=Qe,Ur.InactiveNodeList=tn,Ur.JobCancellingNode=an,Ur.ChildHandleNode=pn,Ur.ChildContinuation=un,Ur.MainCoroutineDispatcher=cn,Ur.TimeoutCancellationException=hn,Object.defineProperty(Ur,"Unconfined",{get:mn}),Object.defineProperty(yn,"Key",{get:jn}),Ur.YieldContext=yn,Ur.checkCompletion_tcgsej$=Nn,Tn.SendBuffered=An;var Vr=Ur.channels||(Ur.channels={});Vr.AbstractSendChannel=Tn,Vr.AbstractChannel=Dn,Vr.Send=Zn,Vr.ReceiveOrClosed=Jn,Vr.SendElement=Qn,Vr.SendElementWithUndeliveredHandler=ti,Vr.Closed=ei,Vr.Receive=ni,Vr.ArrayChannel=ii,Vr.BroadcastChannel=ri,Object.defineProperty(si,"SUSPEND",{get:li}),Object.defineProperty(si,"DROP_OLDEST",{get:pi}),Object.defineProperty(si,"DROP_LATEST",{get:ui}),Vr.BufferOverflow=si,Vr.SendChannel=ci,Vr.ReceiveChannel=_i,hi.Closed=di,Object.defineProperty(hi,"Companion",{get:yi}),Vr.ValueOrClosed=hi,Vr.ChannelIterator=$i,Object.defineProperty(gi,"Factory",{get:Di}),Vr.Channel=gi,Vr.Channel_lsve6m$=function(t,e,n){switch(void 0===t&&(t=0),void 0===e&&(e=li()),void 0===n&&(n=null),t){case 0:return e===li()?new Hi(n):new ii(1,e,n);case-1:if(e!==li())throw F("CONFLATED capacity cannot be used with non-default onBufferOverflow".toString());return new Vi(n);case 2147483647:return new Wi(n);case-2:return new ii(e===li()?Di().CHANNEL_DEFAULT_CAPACITY_8be2vx$:1,e,n);default:return 1===t&&e===pi()?new Vi(n):new ii(t,e,n)}},Vr.ClosedSendChannelException=Bi,Vr.ClosedReceiveChannelException=Fi,Vr.ChannelCoroutine=qi,Vr.cancelConsumed_v57n85$=function(t,n){var i,o,r;i=null!=n?null!=(r=e.isType(o=n,or)?o:null)?r:new or("Channel was consumed, consumer had failed",n):null,t.cancel_m4sck1$(i)},Vr.ConflatedBroadcastChannel=Ui,Vr.ConflatedChannel=Vi,Vr.LinkedListChannel=Wi,Vr.ProducerScope=Gi,Vr.RendezvousChannel=Hi;var Wr=Ur.flow||(Ur.flow={});Wr.FlowCollector=Xi;var Gr=Wr.internal||(Wr.internal={});Gr.checkOwnership_ygf9h9$=function(t,e){if(t.owner!==e)throw t};var Hr=Ur.internal||(Ur.internal={});Hr.ArrayQueue=Ki,Hr.OpDescriptor=Yi,Hr.AtomicOp=Zi,Hr.AtomicDesc=Ji,Hr.DispatchedContinuation=Qi,Hr.resumeCancellableWith_udi45l$=to,Ur.get_isCancellableMode_8e50z4$=eo,Ur.get_isReusableMode_8e50z4$=no,Ur.DispatchedTask=io,Ur.dispatch_h66hf9$=oo,Ur.resume_h7ljpe$=ro,Hr.recoverStackTrace_ak2v6d$=Er,Hr.InlineList=so,Hr.callUndeliveredElementCatchingException_xmr2eb$=ao,Hr.callUndeliveredElement_ku137g$=lo,Hr.bindCancellationFun_ku137g$=po,Hr.UndeliveredElementException=uo,Hr.ScopeCoroutine=co,Hr.Symbol=_o,Hr.systemProp_vrsuct$=ho,Hr.systemProp_ornks8$=fo;var Xr=Ur.intrinsics||(Ur.intrinsics={});Xr.startCoroutineCancellable_x18nsh$=mo,Xr.startCoroutineCancellable_7jvlzs$=yo,Xr.startCoroutineCancellable_he7xzw$=$o,Xr.startCoroutineUnintercepted_81hn2s$=bo,Xr.startCoroutineUnintercepted_kew4v3$=go,Xr.startCoroutineUndispatched_81hn2s$=vo,Xr.startCoroutineUndispatched_kew4v3$=xo,Xr.startUndispatchedOrReturn_nxbeil$=wo;var Kr=Ur.selects||(Ur.selects={});return Kr.SelectBuilder=Co,Kr.SelectClause0=So,Kr.SelectClause1=ko,Kr.SelectClause2=Lo,Kr.SelectInstance=jo,Kr.SeqNumber=No,Kr.SelectBuilderImpl=Po,Kr.UnbiasedSelectBuilderImpl=Ro,Ur.CompletionHandlerBase=Ao,Ur.CancelHandlerBase=Do,Ur.invokeIt_beznmj$=Bo,Ur.createDefaultDispatcher_8be2vx$=Fo,Object.defineProperty(Ur,"DefaultDelay_8be2vx$",{get:qo}),Ur.newCoroutineContext_7n4184$=Uo,Ur.toDebugString_u0ddlz$=Vo,Ur.get_coroutineName_tcgsej$=Wo,Ur.handleCoroutineExceptionImpl_yfv4gr$=Go,Ur.get_hexAddress_8ea4r1$=Ho,Ur.get_classSimpleName_8ea4r1$=Xo,Object.defineProperty(Ur,"Dispatchers",{get:Jo}),Ur.createEventLoop_8be2vx$=tr,Ur.UnconfinedEventLoop=er,Ur.EventLoopImplPlatform=nr,Ur.CancellationException_init_pdl1vj$=rr,Ur.CancellationException=or,Ur.JobCancellationException=sr,lr.ScheduledMessageQueue=pr,Ur.SetTimeoutBasedDispatcher=lr,Object.defineProperty(Ur,"NodeDispatcher",{get:_r}),Object.defineProperty(Ur,"SetTimeoutDispatcher",{get:fr}),Ur.WindowDispatcher=yr,Ur.MessageQueue=gr,Ur.Runnable=vr,Ur.SchedulerTask=xr,Ur.get_taskContext_5sfo4y$=wr,Ur.asCoroutineDispatcher_nz12v2$=zr,Gr.AbortFlowException=Cr,Hr.NoOpLock=Sr,Hr.identitySet_46rbr$=kr,Hr.LinkedListNode=Lr,Hr.AddLastDesc=jr,Hr.RemoveFirstDesc=Nr,Hr.AbstractAtomicDesc=Pr,Hr.PrepareOp=Tr,Hr.LinkedListHead=Or,Hr.recoverStackTrace_87698k$=Mr,Hr.unwrap_87698k$=Rr,Hr.CoroutineStackFrame=Ir,Hr.initCause_oz8fe6$=Ar,Hr.systemProp_y4putb$=Dr,Hr.threadContextElements_v4qu62$=Br,Hr.CommonThreadLocal=Fr,xe.prototype.plus_1fupul$=P.prototype.plus_1fupul$,xe.prototype.fold_3cc69b$=P.prototype.fold_3cc69b$,xe.prototype.get_j3r2sn$=P.prototype.get_j3r2sn$,xe.prototype.minusKey_yeqjby$=P.prototype.minusKey_yeqjby$,ke.prototype.cancel=xe.prototype.cancel,ke.prototype.plus_dqr1mp$=xe.prototype.plus_dqr1mp$,ke.prototype.plus_1fupul$=xe.prototype.plus_1fupul$,ke.prototype.fold_3cc69b$=xe.prototype.fold_3cc69b$,ke.prototype.get_j3r2sn$=xe.prototype.get_j3r2sn$,ke.prototype.minusKey_yeqjby$=xe.prototype.minusKey_yeqjby$,ke.prototype.cancel_m4sck1$=xe.prototype.cancel_m4sck1$,ke.prototype.cancel_dbl4no$=xe.prototype.cancel_dbl4no$,ke.prototype.invokeOnCompletion_ct2b2z$=xe.prototype.invokeOnCompletion_ct2b2z$,Le.prototype.cancel=xe.prototype.cancel,Le.prototype.plus_dqr1mp$=xe.prototype.plus_dqr1mp$,Le.prototype.plus_1fupul$=xe.prototype.plus_1fupul$,Le.prototype.fold_3cc69b$=xe.prototype.fold_3cc69b$,Le.prototype.get_j3r2sn$=xe.prototype.get_j3r2sn$,Le.prototype.minusKey_yeqjby$=xe.prototype.minusKey_yeqjby$,Le.prototype.cancel_m4sck1$=xe.prototype.cancel_m4sck1$,Le.prototype.cancel_dbl4no$=xe.prototype.cancel_dbl4no$,Le.prototype.invokeOnCompletion_ct2b2z$=xe.prototype.invokeOnCompletion_ct2b2z$,Be.prototype.cancel=xe.prototype.cancel,Be.prototype.plus_dqr1mp$=xe.prototype.plus_dqr1mp$,Be.prototype.plus_1fupul$=xe.prototype.plus_1fupul$,Be.prototype.fold_3cc69b$=xe.prototype.fold_3cc69b$,Be.prototype.get_j3r2sn$=xe.prototype.get_j3r2sn$,Be.prototype.minusKey_yeqjby$=xe.prototype.minusKey_yeqjby$,Be.prototype.invokeOnCompletion_ct2b2z$=xe.prototype.invokeOnCompletion_ct2b2z$,Be.prototype.cancel_m4sck1$=xe.prototype.cancel_m4sck1$,Be.prototype.cancel_dbl4no$=xe.prototype.cancel_dbl4no$,ce.prototype.cancel=xe.prototype.cancel,ce.prototype.plus_dqr1mp$=xe.prototype.plus_dqr1mp$,ce.prototype.plus_1fupul$=xe.prototype.plus_1fupul$,ce.prototype.fold_3cc69b$=xe.prototype.fold_3cc69b$,ce.prototype.get_j3r2sn$=xe.prototype.get_j3r2sn$,ce.prototype.minusKey_yeqjby$=xe.prototype.minusKey_yeqjby$,ce.prototype.cancel_m4sck1$=xe.prototype.cancel_m4sck1$,ce.prototype.cancel_dbl4no$=xe.prototype.cancel_dbl4no$,ce.prototype.invokeOnCompletion_ct2b2z$=xe.prototype.invokeOnCompletion_ct2b2z$,wt.prototype.cancel_dbl4no$=yt.prototype.cancel_dbl4no$,wt.prototype.tryResume_19pj23$=yt.prototype.tryResume_19pj23$,Tt.prototype.cancel=ce.prototype.cancel,Tt.prototype.plus_dqr1mp$=ce.prototype.plus_dqr1mp$,Tt.prototype.plus_1fupul$=ce.prototype.plus_1fupul$,Tt.prototype.fold_3cc69b$=ce.prototype.fold_3cc69b$,Tt.prototype.get_j3r2sn$=ce.prototype.get_j3r2sn$,Tt.prototype.minusKey_yeqjby$=ce.prototype.minusKey_yeqjby$,Tt.prototype.cancel_m4sck1$=ce.prototype.cancel_m4sck1$,Tt.prototype.cancel_dbl4no$=ce.prototype.cancel_dbl4no$,Tt.prototype.invokeOnCompletion_ct2b2z$=ce.prototype.invokeOnCompletion_ct2b2z$,Mt.prototype.cancel=xe.prototype.cancel,Mt.prototype.plus_dqr1mp$=xe.prototype.plus_dqr1mp$,Mt.prototype.plus_1fupul$=xe.prototype.plus_1fupul$,Mt.prototype.fold_3cc69b$=xe.prototype.fold_3cc69b$,Mt.prototype.get_j3r2sn$=xe.prototype.get_j3r2sn$,Mt.prototype.minusKey_yeqjby$=xe.prototype.minusKey_yeqjby$,Mt.prototype.cancel_m4sck1$=xe.prototype.cancel_m4sck1$,Mt.prototype.cancel_dbl4no$=xe.prototype.cancel_dbl4no$,Mt.prototype.invokeOnCompletion_ct2b2z$=xe.prototype.invokeOnCompletion_ct2b2z$,qt.prototype.get_j3r2sn$=y.prototype.get_j3r2sn$,qt.prototype.minusKey_yeqjby$=y.prototype.minusKey_yeqjby$,Kt.prototype.fold_3cc69b$=P.prototype.fold_3cc69b$,Kt.prototype.get_j3r2sn$=P.prototype.get_j3r2sn$,Kt.prototype.minusKey_yeqjby$=P.prototype.minusKey_yeqjby$,Kt.prototype.plus_1fupul$=P.prototype.plus_1fupul$,be.prototype.delay_s8cxhz$=he.prototype.delay_s8cxhz$,be.prototype.invokeOnTimeout_oczv3n$=he.prototype.invokeOnTimeout_oczv3n$,_n.prototype.cancel=xe.prototype.cancel,_n.prototype.plus_dqr1mp$=xe.prototype.plus_dqr1mp$,_n.prototype.invokeOnCompletion_ct2b2z$=xe.prototype.invokeOnCompletion_ct2b2z$,_n.prototype.cancel_m4sck1$=xe.prototype.cancel_m4sck1$,_n.prototype.cancel_dbl4no$=xe.prototype.cancel_dbl4no$,Tn.prototype.close_dbl4no$=ci.prototype.close_dbl4no$,Gn.prototype.next0=$i.prototype.next0,gi.prototype.cancel=_i.prototype.cancel,gi.prototype.close_dbl4no$=ci.prototype.close_dbl4no$,gi.prototype.cancel_m4sck1$=_i.prototype.cancel_m4sck1$,gi.prototype.cancel_dbl4no$=_i.prototype.cancel_dbl4no$,Dn.prototype.cancel=gi.prototype.cancel,Dn.prototype.cancel_dbl4no$=gi.prototype.cancel_dbl4no$,Dn.prototype.cancel_m4sck1$=gi.prototype.cancel_m4sck1$,ri.prototype.close_dbl4no$=ci.prototype.close_dbl4no$,Gi.prototype.close_dbl4no$=ci.prototype.close_dbl4no$,oi.prototype.close_dbl4no$=Gi.prototype.close_dbl4no$,qi.prototype.close_dbl4no$=gi.prototype.close_dbl4no$,Ui.prototype.close_dbl4no$=ri.prototype.close_dbl4no$,Po.prototype.invoke_en0wgx$=Co.prototype.invoke_en0wgx$,Ro.prototype.invoke_en0wgx$=Co.prototype.invoke_en0wgx$,lr.prototype.delay_s8cxhz$=he.prototype.delay_s8cxhz$,yr.prototype.delay_s8cxhz$=he.prototype.delay_s8cxhz$,n=new _o("RESUME_TOKEN"),new _o("REMOVED_TASK"),new _o("CLOSED_EMPTY"),Pe=new _o("COMPLETING_ALREADY"),Te=new _o("COMPLETING_WAITING_CHILDREN"),Oe=new _o("COMPLETING_RETRY"),Ee=new _o("TOO_LATE_TO_CANCEL"),Me=new _o("SEALED"),Re=new Ke(!1),Ie=new Ke(!0),bn=new _o("EMPTY"),gn=new _o("OFFER_SUCCESS"),vn=new _o("OFFER_FAILED"),xn=new _o("POLL_FAILED"),wn=new _o("ENQUEUE_FAILED"),zn=new _o("ON_CLOSE_HANDLER_INVOKED"),xi="Channel was closed",new _o("NO_VALUE"),new _o("NONE"),new _o("PENDING"),e.newArray(0,null),new _o("NULL"),new _o("UNINITIALIZED"),new _o("DONE"),ho("kotlinx.coroutines.flow.defaultConcurrency",16,1,2147483647),wi=new _o("NO_DECISION"),zi=new _o("RETRY_ATOMIC"),new _o("CLOSED"),Ci=new _o("UNDEFINED"),Si=new _o("REUSABLE_CLAIMED"),ki=new _o("REMOVE_PREPARED"),Li=new _o("NOT_SELECTED"),ji=new _o("ALREADY_SELECTED"),Ni=new _o("UNDECIDED"),Pi=new _o("RESUMED"),Ti=new No,new _o("LOCK_FAIL"),new _o("UNLOCK_FAIL"),new _o("SELECT_SUCCESS"),Oi=new _o("LOCKED"),Ei=new _o("UNLOCKED"),new Io(Oi),new Io(Ei),ho("kotlinx.coroutines.semaphore.maxSpinCycles",100),new _o("PERMIT"),new _o("TAKEN"),new _o("BROKEN"),new _o("CANCELLED"),ho("kotlinx.coroutines.semaphore.segmentSize",16),Mi="undefined",Ri=0,Ii=!1,Yo=rt,t})?o.apply(e,r):o)||(t.exports=s)}).call(this,n(2))},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){var i,o,r;o=[e,n(1),n(3),n(6),n(15)],void 0===(r="function"==typeof(i=function(t,e,i,o,r){"use strict";var s=t.$$importsForInline$$||(t.$$importsForInline$$={}),a=e.kotlin.Unit,l=e.kotlin.coroutines.intrinsics.COROUTINE_SUSPENDED,p=e.kotlin.coroutines.CoroutineImpl,u=e.kotlin.text.startsWith_7epoxm$,c=i.kotlinx.coroutines.CoroutineScope,_=e.throwCCE,h=i.kotlinx.coroutines.launch_s496o7$,d=e.kotlin.text.indexOf_8eortd$,f=e.kotlin.ranges.until_dqglrj$,m=e.kotlin.text.substring_fc3b62$,y=i.kotlinx.coroutines.CompletableDeferred_xptg6w$,$=e.Kind.CLASS,b=e.Kind.OBJECT,g=i.kotlinx.coroutines.Job_5dx9e$,v=i.kotlinx.coroutines.channels.Channel_lsve6m$,x=e.kotlin.collections.mutableListOf_i5x0yv$,w=e.ensureNotNull,z=e.kotlin.collections.ArrayList_init_ww73n8$,C=e.kotlin.collections.LinkedHashMap_init_q3lmfv$,S=i.kotlinx.coroutines.selects.SelectBuilderImpl,k=Error,L=e.Long.ZERO,j=e.toChar,N=e.toBoxedChar,P=e.kotlin.Enum,T=e.throwISE,O=e.unboxChar,E=e.kotlin.collections.ArrayList_init_287e2$,M=e.kotlin.collections.collectionSizeOrDefault_ba2ldo$,R=Math,I=Array,A=e.kotlin.collections.get_indices_gzk92b$,D=e.kotlin.ranges.reversed_zf1xzc$,B=e.kotlin.Exception,F=e.kotlin.collections.first_2p1efm$,q=e.kotlin.collections.last_2p1efm$,U=e.numberToInt,V=e.kotlin.math,W=Object,G=e.kotlin.IllegalArgumentException_init_pdl1vj$,H=e.kotlin.io.print_s8jyv4$,X=e.kotlin.io.println,K=e.defineInlineFunction,Y=e.wrapFunction,Z=e.Kind.INTERFACE,J=(e.kotlin.collections.get_indices_m7z4lg$,e.kotlin.collections.get_indices_tmsbgo$),Q=e.kotlin.random.Random_za3lpa$,tt=e.kotlin.collections.shuffled_4173s5$,et=e.kotlin.collections.checkIndexOverflow_za3lpa$,nt=e.Long.fromInt(698769069),it=e.kotlin.math.abs_za3lpa$,ot=e.kotlin.math.abs_s8cxhz$,rt=e.Long.MAX_VALUE,st=e.kotlin.js.internal.FloatCompanionObject,at=e.hashCode,lt=e.kotlin.math.round_14dthe$,pt=e.kotlin.collections.Iterable,ut=e.kotlin.collections.removeAll_qafx1e$,ct=e.kotlin.Pair,_t=e.throwUPAE,ht=e.kotlin.collections.LinkedHashSet_init_287e2$,dt=e.kotlin.NoSuchElementException_init,ft=e.kotlin.collections.Iterator,mt=e.kotlin.to_ujzrz7$,yt=e.kotlin.NoSuchElementException,$t=e.kotlin.collections.sortWith_nqfjgj$,bt=e.kotlin.Comparator,gt=e.kotlin.js.internal.DoubleCompanionObject,vt=e.kotlin.collections.emptySet_287e2$,xt=e.kotlin.IllegalStateException_init_pdl1vj$,wt=e.kotlin.collections.get_lastIndex_55thoc$,zt=e.kotlin.collections.addAll_ipc267$,Ct=e.kotlin.collections.filterNotNull_m3lr2h$,St=e.kotlin.ULong,kt=e.kotlin.collections.addAll_ye1y7v$,Lt=e.toString,jt=e.kotlin.collections.emptyList_287e2$,Nt=e.kotlin.collections.mutableMapOf_qfcya0$,Pt=e.kotlin.RuntimeException_init_pdl1vj$,Tt=e.Long.ONE,Ot=e.kotlin.text.StringBuilder_init,Et=e.kotlin.collections.joinToString_fmv235$,Mt=e.kotlin.io.println_s8jyv4$,Rt=e.kotlin.collections.listOf_i5x0yv$,It=e.kotlin.text.substringBefore_8cymmc$,At=e.kotlin.collections.mutableSetOf_i5x0yv$,Dt=e.equals,Bt=e.kotlin.math.roundToInt_yrwdxr$,Ft=e.toByte,qt=e.kotlin.collections.listOf_mh5how$,Ut=e.kotlin.ranges.IntRange,Vt=e.kotlin.text.toBoolean_5cw0du$,Wt=e.kotlin.text.toInt_pdl1vz$,Gt=e.kotlin.text.toDouble_pdl1vz$,Ht=e.kotlin.collections.joinTo_gcc71v$,Xt=e.kotlin.collections.MutableMap,Kt=e.kotlin.text.lastIndexOf_8eortd$,Yt=e.getCallableRef,Zt=e.kotlin.collections.maxOrNull_lvsncp$,Jt=e.kotlin.collections.distinct_7wnvza$,Qt=e.kotlin.collections.toList_7wnvza$,te=e.kotlin.collections.joinToString_cph1y3$,ee=e.Long.fromInt(1431655765),ne=new e.Long(-1431655766,0),ie=e.Long.fromInt(858993459),oe=new e.Long(-858993460,0),re=e.Long.fromInt(252645135),se=new e.Long(-252645136,0),ae=e.Long.fromInt(16711935),le=new e.Long(-16711936,0),pe=e.kotlin.collections.shuffled_7wnvza$,ue=e.kotlin.collections.firstOrNull_2p1efm$,ce=e.kotlin.text.toInt_6ic1pp$,_e=e.kotlin.NumberFormatException,he=e.kotlin.collections.get_lastIndex_m7z4lg$,de=e.kotlin.collections.first_us0mfu$,fe=e.kotlin.collections.last_us0mfu$,me=e.kotlin.collections.sortWith_iwcb0m$,ye=e.kotlin.text.trimIndent_pdl1vz$,$e=e.kotlin.text.get_indices_gw00vp$,be=e.kotlin.collections.Map,ge=o.kotlinx.serialization.internal.NullableSerializer,ve=e.kotlin.collections.setOf_i5x0yv$,xe=o.kotlinx.serialization.internal.PluginGeneratedSerialDescriptor,we=o.kotlinx.serialization.UnknownFieldException,ze=o.kotlinx.serialization.internal,Ce=o.kotlinx.serialization.internal.GeneratedSerializer,Se=o.kotlinx.serialization.MissingFieldException,ke=o.kotlinx.serialization.internal.ArrayListSerializer,Le=e.kotlin.IndexOutOfBoundsException,je=e.kotlin.text.contains_sgbm27$,Ne=e.kotlin.text.endsWith_7epoxm$,Pe=e.kotlin.text.decodeToString_964n91$,Te=e.getKClass,Oe=e.createKType,Ee=e.kotlin.collections.contains_2ws7j4$,Me=r.kotlinx.serialization.json.Json_x26noe$,Re=o.kotlinx.serialization.serializer_ca95z9$,Ie=o.kotlinx.serialization.KSerializer,Ae=o.kotlinx.serialization.internal.LinkedHashMapSerializer,De=e.kotlin.isNaN_81szk$,Be=e.kotlin.collections.toList_us0mfu$,Fe=(e.kotlin.collections.MutableList,e.kotlin.collections.toMutableList_4c7yge$),qe=e.kotlin.ranges.step_xsgg7u$,Ue=e.kotlin.text.iterator_gw00vp$,Ve=e.kotlin.collections.toIntArray_fx3nzu$,We=new e.Long(-1,0),Ge=e.kotlin.collections.copyToArray,He=(e.kotlin.collections.MutableIterator,e.kotlin.collections.MutableCollection,e.kotlin.NotImplementedError),Xe=e.kotlin.collections.Collection,Ke=e.kotlin.collections.removeAll_uhyeqt$,Ye=e.kotlin.collections.MutableMap.MutableEntry,Ze=e.kotlin.math.roundToLong_yrwdxr$,Je=e.kotlin.IllegalStateException_init,Qe=i.kotlinx.coroutines.async_pda6u4$,tn=e.kotlin.text.lines_gw00vp$,en=e.kotlin.text.StringBuilder;function nn(t){return function(n){var i=new S(n);try{t(i)}catch(t){if(!e.isType(t,k))throw t;i.handleBuilderException_tcv7n7$(t)}return i.getResult()}}function on(t){fn(),this.assetsBaseDir=t,this.job=g(),this.awaitedAssetsChannel_nphlkp$_0=v(),this.assetRefChannel_acu3lu$_0=v(2147483647),this.loadedAssetChannel_obd8me$_0=v();for(var e=z(8),n=0;n<8;n++){var i=e.add_11rb$;this.loadWorker_lf86lv$_0(this.assetRefChannel_acu3lu$_0,this.loadedAssetChannel_obd8me$_0),i.call(e,a)}this.workers_dv6i5$_0=e,this.loader_lxnfnl$_0=this.launch_eln4bt$(gn)}function rn(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$assetRefs=t,this.local$closure$loadedAssets=e,this.local$tmp$=void 0,this.local$$receiver=n}function sn(t,e,n){p.call(this,n),this.exceptionState_0=1,this.$this=t,this.local$tmp$=void 0,this.local$ref=e}function an(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$block=t,this.local$this$AssetManager=e}function ln(t,e,n){p.call(this,n),this.exceptionState_0=1,this.$this=t,this.local$awaitedAsset=void 0,this.local$assetPath=e}function pn(t,e,n,i){p.call(this,i),this.exceptionState_0=1,this.$this=t,this.local$awaitedAsset=void 0,this.local$assetPath=e,this.local$format=n}function un(t,e,n,i,o,r){p.call(this,r),this.exceptionState_0=1,this.$this=t,this.local$awaitedAsset=void 0,this.local$assetPath=e,this.local$tilesX=n,this.local$tilesY=i,this.local$format=o}function cn(t,e,n,i,o,r,s,a){p.call(this,a),this.exceptionState_0=1,this.$this=t,this.local$ftd=void 0,this.local$bkd=void 0,this.local$ltd=void 0,this.local$rtd=void 0,this.local$upd=void 0,this.local$ft=e,this.local$bk=n,this.local$lt=i,this.local$rt=o,this.local$up=r,this.local$dn=s}function _n(t,e,n){this.$outer=t,void 0===n&&(n=y(this.$outer.job)),this.ref=e,this.awaiting=n}function hn(){dn=this,this.NUM_LOAD_WORKERS=8}xn.prototype=Object.create(vn.prototype),xn.prototype.constructor=xn,wn.prototype=Object.create(vn.prototype),wn.prototype.constructor=wn,Cn.prototype=Object.create(zn.prototype),Cn.prototype.constructor=Cn,Sn.prototype=Object.create(zn.prototype),Sn.prototype.constructor=Sn,On.prototype=Object.create(P.prototype),On.prototype.constructor=On,Mn.prototype=Object.create(On.prototype),Mn.prototype.constructor=Mn,An.prototype=Object.create(On.prototype),An.prototype.constructor=An,Fn.prototype=Object.create(On.prototype),Fn.prototype.constructor=Fn,Vn.prototype=Object.create(On.prototype),Vn.prototype.constructor=Vn,Hn.prototype=Object.create(On.prototype),Hn.prototype.constructor=Hn,Yn.prototype=Object.create(On.prototype),Yn.prototype.constructor=Yn,Tn.prototype=Object.create(Pn.prototype),Tn.prototype.constructor=Tn,ci.prototype=Object.create(B.prototype),ci.prototype.constructor=ci,di.prototype=Object.create(hi.prototype),di.prototype.constructor=di,Si.prototype=Object.create(xi.prototype),Si.prototype.constructor=Si,Ei.prototype=Object.create(Ni.prototype),Ei.prototype.constructor=Ei,uo.prototype=Object.create(ro.prototype),uo.prototype.constructor=uo,bo.prototype=Object.create(ho.prototype),bo.prototype.constructor=bo,So.prototype=Object.create(vo.prototype),So.prototype.constructor=So,Eo.prototype=Object.create(Lo.prototype),Eo.prototype.constructor=Eo,qo.prototype=Object.create(Io.prototype),qo.prototype.constructor=qo,Ko.prototype=Object.create(Vo.prototype),Ko.prototype.constructor=Ko,ir.prototype=Object.create(Zo.prototype),ir.prototype.constructor=ir,ur.prototype=Object.create(rr.prototype),ur.prototype.constructor=ur,Lr.prototype=Object.create(_r.prototype),Lr.prototype.constructor=Lr,Er.prototype=Object.create(Lo.prototype),Er.prototype.constructor=Er,$d.prototype=Object.create(Pd.prototype),$d.prototype.constructor=$d,Pr.prototype=Object.create($d.prototype),Pr.prototype.constructor=Pr,JS.prototype=Object.create(ZS.prototype),JS.prototype.constructor=JS,tk.prototype=Object.create(JS.prototype),tk.prototype.constructor=tk,Xr.prototype=Object.create(gk.prototype),Xr.prototype.constructor=Xr,Zr.prototype=Object.create(P.prototype),Zr.prototype.constructor=Zr,la.prototype=Object.create(Ml.prototype),la.prototype.constructor=la,ya.prototype=Object.create(la.prototype),ya.prototype.constructor=ya,ds.prototype=Object.create(ya.prototype),ds.prototype.constructor=ds,bs.prototype=Object.create(ou.prototype),bs.prototype.constructor=bs,$s.prototype=Object.create(ds.prototype),$s.prototype.constructor=$s,qs.prototype=Object.create(Bs.prototype),qs.prototype.constructor=qs,Fs.prototype=Object.create(Ds.prototype),Fs.prototype.constructor=Fs,Vs.prototype=Object.create(Bs.prototype),Vs.prototype.constructor=Vs,Us.prototype=Object.create(Ds.prototype),Us.prototype.constructor=Us,Gs.prototype=Object.create(Bs.prototype),Gs.prototype.constructor=Gs,Ws.prototype=Object.create(Ds.prototype),Ws.prototype.constructor=Ws,Xs.prototype=Object.create(Bs.prototype),Xs.prototype.constructor=Xs,Hs.prototype=Object.create(Ds.prototype),Hs.prototype.constructor=Hs,Ys.prototype=Object.create(Bs.prototype),Ys.prototype.constructor=Ys,Ks.prototype=Object.create(Ds.prototype),Ks.prototype.constructor=Ks,Zs.prototype=Object.create(P.prototype),Zs.prototype.constructor=Zs,ha.prototype=Object.create(P.prototype),ha.prototype.constructor=ha,ga.prototype=Object.create(P.prototype),ga.prototype.constructor=ga,$a.prototype=Object.create(la.prototype),$a.prototype.constructor=$a,ul.prototype=Object.create(P.prototype),ul.prototype.constructor=ul,ml.prototype=Object.create(P.prototype),ml.prototype.constructor=ml,kl.prototype=Object.create(P.prototype),kl.prototype.constructor=kl,Il.prototype=Object.create(Ml.prototype),Il.prototype.constructor=Il,Bl.prototype=Object.create(P.prototype),Bl.prototype.constructor=Bl,Vl.prototype=Object.create(ou.prototype),Vl.prototype.constructor=Vl,Wl.prototype=Object.create(ou.prototype),Wl.prototype.constructor=Wl,Gl.prototype=Object.create(ou.prototype),Gl.prototype.constructor=Gl,Hl.prototype=Object.create(ou.prototype),Hl.prototype.constructor=Hl,Xl.prototype=Object.create(ou.prototype),Xl.prototype.constructor=Xl,Kl.prototype=Object.create(ou.prototype),Kl.prototype.constructor=Kl,Yl.prototype=Object.create(ou.prototype),Yl.prototype.constructor=Yl,Zl.prototype=Object.create(ou.prototype),Zl.prototype.constructor=Zl,Ql.prototype=Object.create(ou.prototype),Ql.prototype.constructor=Ql,ep.prototype=Object.create(ou.prototype),ep.prototype.constructor=ep,np.prototype=Object.create(ou.prototype),np.prototype.constructor=np,ip.prototype=Object.create(ou.prototype),ip.prototype.constructor=ip,op.prototype=Object.create(ou.prototype),op.prototype.constructor=op,rp.prototype=Object.create(ou.prototype),rp.prototype.constructor=rp,sp.prototype=Object.create(ou.prototype),sp.prototype.constructor=sp,ap.prototype=Object.create(ou.prototype),ap.prototype.constructor=ap,lp.prototype=Object.create(ou.prototype),lp.prototype.constructor=lp,pp.prototype=Object.create(lp.prototype),pp.prototype.constructor=pp,up.prototype=Object.create(lp.prototype),up.prototype.constructor=up,cp.prototype=Object.create(lp.prototype),cp.prototype.constructor=cp,_p.prototype=Object.create(lp.prototype),_p.prototype.constructor=_p,hp.prototype=Object.create(lp.prototype),hp.prototype.constructor=hp,dp.prototype=Object.create(ou.prototype),dp.prototype.constructor=dp,fp.prototype=Object.create(ou.prototype),fp.prototype.constructor=fp,mp.prototype=Object.create(ou.prototype),mp.prototype.constructor=mp,yp.prototype=Object.create(ou.prototype),yp.prototype.constructor=yp,$p.prototype=Object.create(ou.prototype),$p.prototype.constructor=$p,bp.prototype=Object.create(ou.prototype),bp.prototype.constructor=bp,vp.prototype=Object.create(gp.prototype),vp.prototype.constructor=vp,xp.prototype=Object.create(gp.prototype),xp.prototype.constructor=xp,wp.prototype=Object.create(gp.prototype),wp.prototype.constructor=wp,zp.prototype=Object.create(gp.prototype),zp.prototype.constructor=zp,Cp.prototype=Object.create(gp.prototype),Cp.prototype.constructor=Cp,Sp.prototype=Object.create(gp.prototype),Sp.prototype.constructor=Sp,kp.prototype=Object.create(gp.prototype),kp.prototype.constructor=kp,Lp.prototype=Object.create(gp.prototype),Lp.prototype.constructor=Lp,jp.prototype=Object.create(gp.prototype),jp.prototype.constructor=jp,Np.prototype=Object.create(gp.prototype),Np.prototype.constructor=Np,Pp.prototype=Object.create(vp.prototype),Pp.prototype.constructor=Pp,Tp.prototype=Object.create(xp.prototype),Tp.prototype.constructor=Tp,Op.prototype=Object.create(wp.prototype),Op.prototype.constructor=Op,Ep.prototype=Object.create(zp.prototype),Ep.prototype.constructor=Ep,Mp.prototype=Object.create(Sp.prototype),Mp.prototype.constructor=Mp,Rp.prototype=Object.create(kp.prototype),Rp.prototype.constructor=Rp,Ip.prototype=Object.create(Lp.prototype),Ip.prototype.constructor=Ip,Ap.prototype=Object.create(jp.prototype),Ap.prototype.constructor=Ap,Dp.prototype=Object.create(ou.prototype),Dp.prototype.constructor=Dp,Bp.prototype=Object.create(ou.prototype),Bp.prototype.constructor=Bp,Fp.prototype=Object.create(ou.prototype),Fp.prototype.constructor=Fp,qp.prototype=Object.create(ou.prototype),qp.prototype.constructor=qp,Up.prototype=Object.create(ou.prototype),Up.prototype.constructor=Up,Vp.prototype=Object.create(ou.prototype),Vp.prototype.constructor=Vp,Wp.prototype=Object.create(ou.prototype),Wp.prototype.constructor=Wp,Gp.prototype=Object.create(ou.prototype),Gp.prototype.constructor=Gp,Hp.prototype=Object.create(ou.prototype),Hp.prototype.constructor=Hp,Xp.prototype=Object.create(ou.prototype),Xp.prototype.constructor=Xp,Jp.prototype=Object.create(Zp.prototype),Jp.prototype.constructor=Jp,Qp.prototype=Object.create(Zp.prototype),Qp.prototype.constructor=Qp,nu.prototype=Object.create(eu.prototype),nu.prototype.constructor=nu,iu.prototype=Object.create(eu.prototype),iu.prototype.constructor=iu,au.prototype=Object.create(su.prototype),au.prototype.constructor=au,lu.prototype=Object.create(ou.prototype),lu.prototype.constructor=lu,uu.prototype=Object.create(ou.prototype),uu.prototype.constructor=uu,_u.prototype=Object.create(ou.prototype),_u.prototype.constructor=_u,cu.prototype=Object.create(su.prototype),cu.prototype.constructor=cu,hu.prototype=Object.create(ou.prototype),hu.prototype.constructor=hu,fu.prototype=Object.create(ou.prototype),fu.prototype.constructor=fu,yu.prototype=Object.create(ou.prototype),yu.prototype.constructor=yu,$u.prototype=Object.create(ou.prototype),$u.prototype.constructor=$u,bu.prototype=Object.create(ou.prototype),bu.prototype.constructor=bu,wu.prototype=Object.create(ou.prototype),wu.prototype.constructor=wu,vu.prototype=Object.create(ou.prototype),vu.prototype.constructor=vu,Su.prototype=Object.create(ou.prototype),Su.prototype.constructor=Su,zu.prototype=Object.create(ou.prototype),zu.prototype.constructor=zu,ku.prototype=Object.create(ou.prototype),ku.prototype.constructor=ku,ju.prototype=Object.create(ou.prototype),ju.prototype.constructor=ju,Pu.prototype=Object.create(ou.prototype),Pu.prototype.constructor=Pu,Ou.prototype=Object.create(ou.prototype),Ou.prototype.constructor=Ou,Mu.prototype=Object.create(ou.prototype),Mu.prototype.constructor=Mu,Ru.prototype=Object.create(ou.prototype),Ru.prototype.constructor=Ru,Iu.prototype=Object.create(Ru.prototype),Iu.prototype.constructor=Iu,Au.prototype=Object.create(Ru.prototype),Au.prototype.constructor=Au,Du.prototype=Object.create(Ru.prototype),Du.prototype.constructor=Du,Bu.prototype=Object.create(Ru.prototype),Bu.prototype.constructor=Bu,Fu.prototype=Object.create(Ru.prototype),Fu.prototype.constructor=Fu,qu.prototype=Object.create(Ru.prototype),qu.prototype.constructor=qu,Uu.prototype=Object.create(Ru.prototype),Uu.prototype.constructor=Uu,Vu.prototype=Object.create(Ru.prototype),Vu.prototype.constructor=Vu,Wu.prototype=Object.create(Ru.prototype),Wu.prototype.constructor=Wu,Gu.prototype=Object.create(ou.prototype),Gu.prototype.constructor=Gu,Hu.prototype=Object.create(ou.prototype),Hu.prototype.constructor=Hu,Xu.prototype=Object.create(ou.prototype),Xu.prototype.constructor=Xu,Ku.prototype=Object.create(ou.prototype),Ku.prototype.constructor=Ku,Yu.prototype=Object.create(ou.prototype),Yu.prototype.constructor=Yu,Zu.prototype=Object.create(ou.prototype),Zu.prototype.constructor=Zu,Qu.prototype=Object.create(ou.prototype),Qu.prototype.constructor=Qu,tc.prototype=Object.create(ou.prototype),tc.prototype.constructor=tc,ec.prototype=Object.create(ou.prototype),ec.prototype.constructor=ec,nc.prototype=Object.create(ou.prototype),nc.prototype.constructor=nc,ic.prototype=Object.create(ou.prototype),ic.prototype.constructor=ic,oc.prototype=Object.create(ou.prototype),oc.prototype.constructor=oc,rc.prototype=Object.create(ou.prototype),rc.prototype.constructor=rc,sc.prototype=Object.create(P.prototype),sc.prototype.constructor=sc,dc.prototype=Object.create(P.prototype),dc.prototype.constructor=dc,vc.prototype=Object.create(gc.prototype),vc.prototype.constructor=vc,xc.prototype=Object.create(gc.prototype),xc.prototype.constructor=xc,wc.prototype=Object.create(gc.prototype),wc.prototype.constructor=wc,zc.prototype=Object.create(Al.prototype),zc.prototype.constructor=zc,Cc.prototype=Object.create(zc.prototype),Cc.prototype.constructor=Cc,Sc.prototype=Object.create(zc.prototype),Sc.prototype.constructor=Sc,kc.prototype=Object.create(zc.prototype),kc.prototype.constructor=kc,Lc.prototype=Object.create(zc.prototype),Lc.prototype.constructor=Lc,Ec.prototype=Object.create(zc.prototype),Ec.prototype.constructor=Ec,Ac.prototype=Object.create(zc.prototype),Ac.prototype.constructor=Ac,Uc.prototype=Object.create(zc.prototype),Uc.prototype.constructor=Uc,l_.prototype=Object.create(P.prototype),l_.prototype.constructor=l_,b_.prototype=Object.create(P.prototype),b_.prototype.constructor=b_,L_.prototype=Object.create($_.prototype),L_.prototype.constructor=L_,j_.prototype=Object.create($_.prototype),j_.prototype.constructor=j_,T_.prototype=Object.create($_.prototype),T_.prototype.constructor=T_,O_.prototype=Object.create($_.prototype),O_.prototype.constructor=O_,E_.prototype=Object.create(j_.prototype),E_.prototype.constructor=E_,V_.prototype=Object.create(L_.prototype),V_.prototype.constructor=V_,H_.prototype=Object.create(P.prototype),H_.prototype.constructor=H_,Z_.prototype=Object.create(P.prototype),Z_.prototype.constructor=Z_,ih.prototype=Object.create(nh.prototype),ih.prototype.constructor=ih,ah.prototype=Object.create(nh.prototype),ah.prototype.constructor=ah,mh.prototype=Object.create(nh.prototype),mh.prototype.constructor=mh,yh.prototype=Object.create(nh.prototype),yh.prototype.constructor=yh,bh.prototype=Object.create($h.prototype),bh.prototype.constructor=bh,vh.prototype=Object.create($h.prototype),vh.prototype.constructor=vh,xh.prototype=Object.create($h.prototype),xh.prototype.constructor=xh,wh.prototype=Object.create($h.prototype),wh.prototype.constructor=wh,zh.prototype=Object.create($h.prototype),zh.prototype.constructor=zh,Ch.prototype=Object.create($h.prototype),Ch.prototype.constructor=Ch,Sh.prototype=Object.create($h.prototype),Sh.prototype.constructor=Sh,kh.prototype=Object.create($h.prototype),kh.prototype.constructor=kh,Lh.prototype=Object.create($h.prototype),Lh.prototype.constructor=Lh,jh.prototype=Object.create($h.prototype),jh.prototype.constructor=jh,Nh.prototype=Object.create($h.prototype),Nh.prototype.constructor=Nh,Ph.prototype=Object.create($h.prototype),Ph.prototype.constructor=Ph,Th.prototype=Object.create($h.prototype),Th.prototype.constructor=Th,Eh.prototype=Object.create($h.prototype),Eh.prototype.constructor=Eh,Mh.prototype=Object.create($h.prototype),Mh.prototype.constructor=Mh,Rh.prototype=Object.create($h.prototype),Rh.prototype.constructor=Rh,Fh.prototype=Object.create(P.prototype),Fh.prototype.constructor=Fh,Xh.prototype=Object.create(P.prototype),Xh.prototype.constructor=Xh,Gh.prototype=Object.create(Pd.prototype),Gh.prototype.constructor=Gh,Qh.prototype=Object.create(Gh.prototype),Qh.prototype.constructor=Qh,td.prototype=Object.create(Gh.prototype),td.prototype.constructor=td,ed.prototype=Object.create(td.prototype),ed.prototype.constructor=ed,ad.prototype=Object.create(Pd.prototype),ad.prototype.constructor=ad,ud.prototype=Object.create(P.prototype),ud.prototype.constructor=ud,fd.prototype=Object.create($d.prototype),fd.prototype.constructor=fd,Nd.prototype=Object.create(ad.prototype),Nd.prototype.constructor=Nd,qd.prototype=Object.create(P.prototype),qd.prototype.constructor=qd,Hd.prototype=Object.create(P.prototype),Hd.prototype.constructor=Hd,Fd.prototype=Object.create(ad.prototype),Fd.prototype.constructor=Fd,Jd.prototype=Object.create(Zd.prototype),Jd.prototype.constructor=Jd,Qd.prototype=Object.create(Zd.prototype),Qd.prototype.constructor=Qd,tf.prototype=Object.create($d.prototype),tf.prototype.constructor=tf,rf.prototype=Object.create(ad.prototype),rf.prototype.constructor=rf,cf.prototype=Object.create(zc.prototype),cf.prototype.constructor=cf,mf.prototype=Object.create(zc.prototype),mf.prototype.constructor=mf,vf.prototype=Object.create(ou.prototype),vf.prototype.constructor=vf,km.prototype=Object.create(ad.prototype),km.prototype.constructor=km,Df.prototype=Object.create(km.prototype),Df.prototype.constructor=Df,Pf.prototype=Object.create(Df.prototype),Pf.prototype.constructor=Pf,Tf.prototype=Object.create(Bf.prototype),Tf.prototype.constructor=Tf,Rf.prototype=Object.create(Mf.prototype),Rf.prototype.constructor=Rf,Sm.prototype=Object.create(Tf.prototype),Sm.prototype.constructor=Sm,Af.prototype=Object.create(Sm.prototype),Af.prototype.constructor=Af,Pm.prototype=Object.create(km.prototype),Pm.prototype.constructor=Pm,If.prototype=Object.create(Pm.prototype),If.prototype.constructor=If,qf.prototype=Object.create(P.prototype),qf.prototype.constructor=qf,am.prototype=Object.create(sm.prototype),am.prototype.constructor=am,um.prototype=Object.create(P.prototype),um.prototype.constructor=um,fm.prototype=Object.create(km.prototype),fm.prototype.constructor=fm,ym.prototype=Object.create(km.prototype),ym.prototype.constructor=ym,bm.prototype=Object.create(Df.prototype),bm.prototype.constructor=bm,gm.prototype=Object.create(Bf.prototype),gm.prototype.constructor=gm,Cm.prototype=Object.create(Pf.prototype),Cm.prototype.constructor=Cm,Mm.prototype=Object.create(Pd.prototype),Mm.prototype.constructor=Mm,Rm.prototype=Object.create(zc.prototype),Rm.prototype.constructor=Rm,Jm.prototype=Object.create(Bm.prototype),Jm.prototype.constructor=Jm,ny.prototype=Object.create(ey.prototype),ny.prototype.constructor=ny,iy.prototype=Object.create(ey.prototype),iy.prototype.constructor=iy,oy.prototype=Object.create(ey.prototype),oy.prototype.constructor=oy,ry.prototype=Object.create(ey.prototype),ry.prototype.constructor=ry,uy.prototype=Object.create(P.prototype),uy.prototype.constructor=uy,_y.prototype=Object.create(uy.prototype),_y.prototype.constructor=_y,fy.prototype=Object.create(uy.prototype),fy.prototype.constructor=fy,$y.prototype=Object.create(uy.prototype),$y.prototype.constructor=$y,vy.prototype=Object.create(py.prototype),vy.prototype.constructor=vy,xy.prototype=Object.create(vy.prototype),xy.prototype.constructor=xy,wy.prototype=Object.create(py.prototype),wy.prototype.constructor=wy,zy.prototype=Object.create(wy.prototype),zy.prototype.constructor=zy,Cy.prototype=Object.create(py.prototype),Cy.prototype.constructor=Cy,Sy.prototype=Object.create(Cy.prototype),Sy.prototype.constructor=Sy,ky.prototype=Object.create(py.prototype),ky.prototype.constructor=ky,Ly.prototype=Object.create(ky.prototype),Ly.prototype.constructor=Ly,Oy.prototype=Object.create(jy.prototype),Oy.prototype.constructor=Oy,Ey.prototype=Object.create(jy.prototype),Ey.prototype.constructor=Ey,Ry.prototype=Object.create(My.prototype),Ry.prototype.constructor=Ry,Uy.prototype=Object.create(ou.prototype),Uy.prototype.constructor=Uy,Wy.prototype=Object.create(ou.prototype),Wy.prototype.constructor=Wy,Gy.prototype=Object.create(ou.prototype),Gy.prototype.constructor=Gy,Fy.prototype=Object.create(ya.prototype),Fy.prototype.constructor=Fy,n$.prototype=Object.create(ou.prototype),n$.prototype.constructor=n$,e$.prototype=Object.create(ya.prototype),e$.prototype.constructor=e$,l$.prototype=Object.create(a$.prototype),l$.prototype.constructor=l$,p$.prototype=Object.create(a$.prototype),p$.prototype.constructor=p$,h$.prototype=Object.create(ou.prototype),h$.prototype.constructor=h$,d$.prototype=Object.create(ou.prototype),d$.prototype.constructor=d$,b$.prototype=Object.create(ou.prototype),b$.prototype.constructor=b$,f$.prototype=Object.create(ya.prototype),f$.prototype.constructor=f$,N$.prototype=Object.create(Zo.prototype),N$.prototype.constructor=N$,E$.prototype=Object.create(N$.prototype),E$.prototype.constructor=E$,Y$.prototype=Object.create(P.prototype),Y$.prototype.constructor=Y$,rb.prototype=Object.create(km.prototype),rb.prototype.constructor=rb,sb.prototype=Object.create(zc.prototype),sb.prototype.constructor=sb,cb.prototype=Object.create(ya.prototype),cb.prototype.constructor=cb,mb.prototype=Object.create(zc.prototype),mb.prototype.constructor=mb,zb.prototype=Object.create(ou.prototype),zb.prototype.constructor=zb,Cb.prototype=Object.create(ou.prototype),Cb.prototype.constructor=Cb,gb.prototype=Object.create(zc.prototype),gb.prototype.constructor=gb,Pb.prototype=Object.create(ou.prototype),Pb.prototype.constructor=Pb,Tb.prototype=Object.create(ou.prototype),Tb.prototype.constructor=Tb,Rb.prototype=Object.create(ya.prototype),Rb.prototype.constructor=Rb,Db.prototype=Object.create(zc.prototype),Db.prototype.constructor=Db,Wb.prototype=Object.create(ou.prototype),Wb.prototype.constructor=Wb,Vb.prototype=Object.create(ya.prototype),Vb.prototype.constructor=Vb,Kb.prototype=Object.create(zc.prototype),Kb.prototype.constructor=Kb,Zb.prototype=Object.create(ou.prototype),Zb.prototype.constructor=Zb,Xb.prototype=Object.create(ya.prototype),Xb.prototype.constructor=Xb,ng.prototype=Object.create(ou.prototype),ng.prototype.constructor=ng,sg.prototype=Object.create(j_.prototype),sg.prototype.constructor=sg,Hg.prototype=Object.create(Gg.prototype),Hg.prototype.constructor=Hg,Xg.prototype=Object.create(Gg.prototype),Xg.prototype.constructor=Xg,Kg.prototype=Object.create(Gg.prototype),Kg.prototype.constructor=Kg,Yg.prototype=Object.create(Gg.prototype),Yg.prototype.constructor=Yg,Zg.prototype=Object.create(Gg.prototype),Zg.prototype.constructor=Zg,Jg.prototype=Object.create(Gg.prototype),Jg.prototype.constructor=Jg,Qg.prototype=Object.create(Gg.prototype),Qg.prototype.constructor=Qg,Zw.prototype=Object.create(ou.prototype),Zw.prototype.constructor=Zw,Yw.prototype=Object.create(ya.prototype),Yw.prototype.constructor=Yw,rz.prototype=Object.create(ou.prototype),rz.prototype.constructor=rz,oz.prototype=Object.create($a.prototype),oz.prototype.constructor=oz,lz.prototype=Object.create(ou.prototype),lz.prototype.constructor=lz,pz.prototype=Object.create(ou.prototype),pz.prototype.constructor=pz,uz.prototype=Object.create(ou.prototype),uz.prototype.constructor=uz,_z.prototype=Object.create(ou.prototype),_z.prototype.constructor=_z,cz.prototype=Object.create($a.prototype),cz.prototype.constructor=cz,gz.prototype=Object.create(ou.prototype),gz.prototype.constructor=gz,bz.prototype=Object.create($a.prototype),bz.prototype.constructor=bz,kz.prototype=Object.create(ya.prototype),kz.prototype.constructor=kz,Ez.prototype=Object.create(zc.prototype),Ez.prototype.constructor=Ez,Nz.prototype=Object.create($a.prototype),Nz.prototype.constructor=Nz,Qz.prototype=Object.create(P.prototype),Qz.prototype.constructor=Qz,oC.prototype=Object.create(P.prototype),oC.prototype.constructor=oC,fC.prototype=Object.create(Pd.prototype),fC.prototype.constructor=fC,vC.prototype=Object.create(P.prototype),vC.prototype.constructor=vC,tS.prototype=Object.create(KC.prototype),tS.prototype.constructor=tS,aS.prototype=Object.create(RS.prototype),aS.prototype.constructor=aS,lS.prototype=Object.create(Lo.prototype),lS.prototype.constructor=lS,pS.prototype=Object.create(ZS.prototype),pS.prototype.constructor=pS,uS.prototype=Object.create(ZS.prototype),uS.prototype.constructor=uS,mS.prototype=Object.create(fS.prototype),mS.prototype.constructor=mS,$S.prototype=Object.create(ds.prototype),$S.prototype.constructor=$S,wS.prototype=Object.create(GS.prototype),wS.prototype.constructor=wS,xS.prototype=Object.create(WS.prototype),xS.prototype.constructor=xS,ek.prototype=Object.create(ZS.prototype),ek.prototype.constructor=ek,ik.prototype=Object.create(ek.prototype),ik.prototype.constructor=ik,rk.prototype=Object.create(ek.prototype),rk.prototype.constructor=rk,Lk.prototype=Object.create(uo.prototype),Lk.prototype.constructor=Lk,jk.prototype=Object.create(Eo.prototype),jk.prototype.constructor=jk,Nk.prototype=Object.create(ir.prototype),Nk.prototype.constructor=Nk,Pk.prototype=Object.create(E$.prototype),Pk.prototype.constructor=Pk,Ok.prototype=Object.create(So.prototype),Ok.prototype.constructor=Ok,Ek.prototype=Object.create(Ko.prototype),Ek.prototype.constructor=Ek,Mk.prototype=Object.create(Lr.prototype),Mk.prototype.constructor=Mk,Sk.prototype=Object.create(Eo.prototype),Sk.prototype.constructor=Sk,Zk.prototype=Object.create(nh.prototype),Zk.prototype.constructor=Zk,Jk.prototype=Object.create(nh.prototype),Jk.prototype.constructor=Jk,Qk.prototype=Object.create(on.prototype),Qk.prototype.constructor=Qk,yL.prototype=Object.create(si.prototype),yL.prototype.constructor=yL,pj.prototype=Object.create(oj.prototype),pj.prototype.constructor=pj,uj.prototype=Object.create(oj.prototype),uj.prototype.constructor=uj,cj.prototype=Object.create(oj.prototype),cj.prototype.constructor=cj,_j.prototype=Object.create(oj.prototype),_j.prototype.constructor=_j,fj.prototype=Object.create(Kp.prototype),fj.prototype.constructor=fj,zj.prototype=Object.create(wj.prototype),zj.prototype.constructor=zj,Sj.prototype=Object.create(wj.prototype),Sj.prototype.constructor=Sj,kj.prototype=Object.create(wj.prototype),kj.prototype.constructor=kj,Lj.prototype=Object.create(wj.prototype),Lj.prototype.constructor=Lj,jj.prototype=Object.create(wj.prototype),jj.prototype.constructor=jj,Object.defineProperty(on.prototype,"coroutineContext",{configurable:!0,get:function(){return this.job}}),rn.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},rn.prototype=Object.create(p.prototype),rn.prototype.constructor=rn,rn.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t;this.local$tmp$=this.local$closure$assetRefs.iterator(),this.state_0=2;continue;case 1:throw this.exception_0;case 2:if(this.state_0=3,this.result_0=this.local$tmp$.hasNext(this),this.result_0===l)return l;continue;case 3:if(this.result_0){this.state_0=4;continue}this.state_0=7;continue;case 4:var e=this.local$tmp$.next();if(this.state_0=5,this.result_0=this.local$$receiver.loadAsset_lpb790$_0(e,this),this.result_0===l)return l;continue;case 5:if(t=this.result_0,this.state_0=6,this.result_0=this.local$closure$loadedAssets.send_11rb$(t,this),this.result_0===l)return l;continue;case 6:this.state_0=2;continue;case 7:return a;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},on.prototype.loadWorker_lf86lv$_0=function(t,e){var n,i;this.launch_eln4bt$((n=t,i=e,function(t,e,o){var r=new rn(n,i,t,this,e);return o?r:r.doResume(null)}))},on.prototype.close=function(){this.job.cancel_m4sck1$()},sn.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},sn.prototype=Object.create(p.prototype),sn.prototype.constructor=sn,sn.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(e.isType(this.local$ref,xn)){if(this.state_0=4,this.result_0=this.$this.loadRaw_ye9lq$(this.local$ref,this),this.result_0===l)return l;continue}if(e.isType(this.local$ref,wn)){if(this.state_0=2,this.result_0=this.$this.loadTexture_q13quj$(this.local$ref,this),this.result_0===l)return l;continue}this.local$tmp$=e.noWhenBranchMatched(),this.state_0=3;continue;case 1:throw this.exception_0;case 2:this.local$tmp$=this.result_0,this.state_0=3;continue;case 3:this.state_0=5;continue;case 4:this.local$tmp$=this.result_0,this.state_0=5;continue;case 5:return this.local$tmp$;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},on.prototype.loadAsset_lpb790$_0=function(t,e,n){var i=new sn(this,t,e);return n?i:i.doResume(null)},on.prototype.isHttpAsset_61zpoe$=function(t){return u(t,"http://",!0)||u(t,"https://",!0)||u(t,"data:",!0)},an.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},an.prototype=Object.create(p.prototype),an.prototype.constructor=an,an.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$closure$block(this.local$this$AssetManager,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},on.prototype.launch_eln4bt$=function(t){var n,i;h(e.isType(this,c)?this:_(),void 0,void 0,(n=t,i=this,function(t,e,o){var r=new an(n,i,t,this,e);return o?r:r.doResume(null)}))},ln.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},ln.prototype=Object.create(p.prototype),ln.prototype.constructor=ln,ln.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t,n,i=this.$this.isHttpAsset_61zpoe$(this.local$assetPath)?new xn(this.local$assetPath,!1):new xn(this.$this.assetsBaseDir+"/"+this.local$assetPath,!0);if(this.local$awaitedAsset=new _n(this.$this,i),this.state_0=2,this.result_0=this.$this.awaitedAssetsChannel_nphlkp$_0.send_11rb$(this.local$awaitedAsset,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:if(this.state_0=3,this.result_0=this.local$awaitedAsset.awaiting.await(this),this.result_0===l)return l;continue;case 3:var o=e.isType(t=this.result_0,Cn)?t:_();if(null!=(n=o.data)){var r=Hj.Log,s=vC.DEBUG,a=e.getKClassFromExpression(this.$this).simpleName;s.level>=r.level.level&&r.printer(s,a,"Loaded "+this.$this.assetPathToName_61zpoe$(this.local$assetPath)+" ("+Dk(n.capacity/1024/1024,1)+" mb)")}return o.data;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},on.prototype.loadAsset_61zpoe$=function(t,e,n){var i=new ln(this,t,e);return n?i:i.doResume(null)},pn.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},pn.prototype=Object.create(p.prototype),pn.prototype.constructor=pn,pn.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t,n,i;void 0===this.local$format&&(this.local$format=null);var o=this.$this.isHttpAsset_61zpoe$(this.local$assetPath)?new wn(this.local$assetPath,!1,this.local$format,!1):new wn(this.$this.assetsBaseDir+"/"+this.local$assetPath,!0,this.local$format,!1);if(this.local$awaitedAsset=new _n(this.$this,o),this.state_0=2,this.result_0=this.$this.awaitedAssetsChannel_nphlkp$_0.send_11rb$(this.local$awaitedAsset,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:if(this.state_0=3,this.result_0=this.local$awaitedAsset.awaiting.await(this),this.result_0===l)return l;continue;case 3:var r=e.isType(t=this.result_0,Sn)?t:_();if(null!=(n=r.data)){var s=Hj.Log,a=vC.DEBUG,p=e.getKClassFromExpression(this.$this).simpleName;a.level>=s.level.level&&s.printer(a,p,"Loaded "+this.$this.assetPathToName_61zpoe$(this.local$assetPath)+" ("+n.format+", "+n.width+"x"+n.height+")")}if(null==(i=r.data))throw _i("Failed loading texture");return i;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},on.prototype.loadTextureData_9n4zzi$=function(t,e,n,i){var o=new pn(this,t,e,n);return i?o:o.doResume(null)},un.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},un.prototype=Object.create(p.prototype),un.prototype.constructor=un,un.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t,n,i;void 0===this.local$format&&(this.local$format=null);var o=this.$this.isHttpAsset_61zpoe$(this.local$assetPath)?new wn(this.local$assetPath,!1,this.local$format,!0,this.local$tilesX,this.local$tilesY):new wn(this.$this.assetsBaseDir+"/"+this.local$assetPath,!0,this.local$format,!0,this.local$tilesX,this.local$tilesY);if(this.local$awaitedAsset=new _n(this.$this,o),this.state_0=2,this.result_0=this.$this.awaitedAssetsChannel_nphlkp$_0.send_11rb$(this.local$awaitedAsset,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:if(this.state_0=3,this.result_0=this.local$awaitedAsset.awaiting.await(this),this.result_0===l)return l;continue;case 3:var r=e.isType(t=this.result_0,Sn)?t:_();if(null!=(n=r.data)){var s=Hj.Log,a=vC.DEBUG,p=e.getKClassFromExpression(this.$this).simpleName;a.level>=s.level.level&&s.printer(a,p,"Loaded "+this.$this.assetPathToName_61zpoe$(this.local$assetPath)+" ("+n.format+", "+n.width+"x"+n.height+"x"+n.depth+")")}if(null==(i=r.data))throw _i("Failed loading texture");return i;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},on.prototype.loadTextureAtlasData_elksmm$=function(t,e,n,i,o,r){var s=new un(this,t,e,n,i,o);return r?s:s.doResume(null)},cn.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},cn.prototype=Object.create(p.prototype),cn.prototype.constructor=cn,cn.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.$this.loadTextureData_9n4zzi$(this.local$ft,void 0,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:if(this.local$ftd=this.result_0,this.state_0=3,this.result_0=this.$this.loadTextureData_9n4zzi$(this.local$bk,void 0,this),this.result_0===l)return l;continue;case 3:if(this.local$bkd=this.result_0,this.state_0=4,this.result_0=this.$this.loadTextureData_9n4zzi$(this.local$lt,void 0,this),this.result_0===l)return l;continue;case 4:if(this.local$ltd=this.result_0,this.state_0=5,this.result_0=this.$this.loadTextureData_9n4zzi$(this.local$rt,void 0,this),this.result_0===l)return l;continue;case 5:if(this.local$rtd=this.result_0,this.state_0=6,this.result_0=this.$this.loadTextureData_9n4zzi$(this.local$up,void 0,this),this.result_0===l)return l;continue;case 6:if(this.local$upd=this.result_0,this.state_0=7,this.result_0=this.$this.loadTextureData_9n4zzi$(this.local$dn,void 0,this),this.result_0===l)return l;continue;case 7:var t=this.result_0;return new yh(this.local$ftd,this.local$bkd,this.local$ltd,this.local$rtd,this.local$upd,t);default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},on.prototype.loadCubeMapTextureData_r3y0ew$=function(t,e,n,i,o,r,s,a){var l=new cn(this,t,e,n,i,o,r,s);return a?l:l.doResume(null)},on.prototype.loadAndPrepareTexture_va0f2y$=function(t,e,n,i){return void 0===e&&(e=new G_),i?i(t,e,n):this.loadAndPrepareTexture_va0f2y$$default(t,e,n)},on.prototype.loadAndPrepareCubeMap_oecnw4$=function(t,e,n,i,o,r,s,a,l){return void 0===s&&(s=new G_),l?l(t,e,n,i,o,r,s,a):this.loadAndPrepareCubeMap_oecnw4$$default(t,e,n,i,o,r,s,a)},on.prototype.loadAndPrepareTexture_siesr9$=function(t,e,n,i){return void 0===e&&(e=new G_),void 0===n&&(n=null),i?i(t,e,n):this.loadAndPrepareTexture_siesr9$$default(t,e,n)},on.prototype.loadAndPrepareCubeMap_q9pwzk$=function(t,e,n,i){return void 0===e&&(e=new G_),void 0===n&&(n=null),i?i(t,e,n):this.loadAndPrepareCubeMap_q9pwzk$$default(t,e,n)},on.prototype.assetPathToName_61zpoe$=function(t){var e;if(u(t,"data:",!0)){var n=d(t,59);e=m(t,f(0,n))}else e=t;return e},on.prototype.cubeMapAssetPathToName_r3y0ew$=function(t,e,n,i,o,r){return"cubeMap(ft:"+this.assetPathToName_61zpoe$(t)+", bk:"+this.assetPathToName_61zpoe$(e)+", lt:"+this.assetPathToName_61zpoe$(n)+", rt:"+this.assetPathToName_61zpoe$(i)+", up:"+this.assetPathToName_61zpoe$(o)+", dn:"+this.assetPathToName_61zpoe$(r)+")"},_n.$metadata$={kind:$,simpleName:"AwaitedAsset",interfaces:[]},hn.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var dn=null;function fn(){return null===dn&&new hn,dn}function mn(t,e,n,i){p.call(this,i),this.exceptionState_0=1,this.local$closure$requested=t,this.local$this$=e,this.local$awaited=n}function yn(t,e,n){p.call(this,n),this.exceptionState_0=1,this.local$closure$requested=t,this.local$loaded=e}function $n(t,e){return function(n){var i,o;return n.invoke_veq140$(t.awaitedAssetsChannel_nphlkp$_0.onReceive,(i=e,o=t,function(t,e,n){var r=new mn(i,o,t,e);return n?r:r.doResume(null)})),n.invoke_veq140$(t.loadedAssetChannel_obd8me$_0.onReceive,function(t){return function(e,n,i){var o=new yn(t,e,n);return i?o:o.doResume(null)}}(e)),a}}function bn(t,e,n){p.call(this,n),this.$controller=e,this.exceptionState_0=1,this.local$requested=void 0,this.local$$receiver=t}function gn(t,e,n){var i=new bn(t,this,e);return n?i:i.doResume(null)}function vn(){}function xn(t,e){vn.call(this),this.url=t,this.isLocal=e}function wn(t,e,n,i,o,r){void 0===o&&(o=1),void 0===r&&(r=1),vn.call(this),this.url=t,this.isLocal=e,this.fmt=n,this.isAtlas=i,this.tilesX=o,this.tilesY=r}function zn(t,e){this.ref=t,this.successfull=e}function Cn(t,e){zn.call(this,t,null!=e),this.data=e}function Sn(t,e){zn.call(this,t,null!=e),this.data=e}function kn(){this.bufferAllocations=C(),this.totalBufferSize_mh5cfj$_0=L,this.textureAllocations=C(),this.totalTextureSize_4hd4e0$_0=L,this.pipelines=C(),this.numPipelineInstances_ikf7d6$_0=0,this.numDrawCommands_4id88y$_0=0,this.numPrimitives_jhh8ci$_0=0}function Ln(){ri(),this.queuedKeyEvents_0=E(),this.keyEvents=E(),this.keyHandlers_0=C(),this.pointerState=new ni}function jn(t){return t.isCharTyped}function Nn(t){return!0}function Pn(){this.id_yfac1g$_0=0,this.x_5rhhjp$_0=0,this.y_5rhhkk$_0=0,this.deltaX_8nh2op$_0=0,this.deltaY_8nh2nu$_0=0,this.dragDeltaX_yg2vql$_0=0,this.dragDeltaY_yg2vpq$_0=0,this.deltaScroll_trurwo$_0=0,this.buttonMask_uq1vpl$_0=0,this.buttonEventMask_dc8ngn$_0=0,this.isValid_cde91$_0=!1,this.consumptionMask_8be2vx$=0}function Tn(){Pn.call(this),this.updateState_0=Jn(),this.processedState_0=Jn(),this.lastUpdate=0}function On(t,e){P.call(this),this.name$=t,this.ordinal$=e}function En(){En=function(){},new Mn,new An,new Fn,new Vn,new Hn,new Yn}function Mn(){Rn=this,On.call(this,"STARTED",0)}mn.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},mn.prototype=Object.create(p.prototype),mn.prototype.constructor=mn,mn.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t=this.local$closure$requested.get_11rb$(this.local$awaited.ref);if(null==t){var e=this.local$closure$requested,n=this.local$awaited.ref,i=x([this.local$awaited]);if(e.put_xwzc9p$(n,i),this.state_0=2,this.result_0=this.local$this$.assetRefChannel_acu3lu$_0.send_11rb$(this.local$awaited.ref,this),this.result_0===l)return l;continue}return t.add_11rb$(this.local$awaited);case 1:throw this.exception_0;case 2:return this.result_0;case 3:return;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},yn.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},yn.prototype=Object.create(p.prototype),yn.prototype.constructor=yn,yn.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t;for(t=w(this.local$closure$requested.remove_11rb$(this.local$loaded.ref)).iterator();t.hasNext();)t.next().awaiting.complete_11rb$(this.local$loaded);return a;case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},bn.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},bn.prototype=Object.create(p.prototype),bn.prototype.constructor=bn,bn.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:this.local$requested=C(),this.state_0=2;continue;case 1:throw this.exception_0;case 2:if(this.state_0=3,this.result_0=nn($n(this.local$$receiver,this.local$requested))(this),this.result_0===l)return l;continue;case 3:this.result_0,this.state_0=2;continue;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},on.$metadata$={kind:$,simpleName:"AssetManager",interfaces:[c]},vn.$metadata$={kind:$,simpleName:"AssetRef",interfaces:[]},xn.$metadata$={kind:$,simpleName:"RawAssetRef",interfaces:[vn]},xn.prototype.component1=function(){return this.url},xn.prototype.component2=function(){return this.isLocal},xn.prototype.copy_ivxn3r$=function(t,e){return new xn(void 0===t?this.url:t,void 0===e?this.isLocal:e)},xn.prototype.toString=function(){return"RawAssetRef(url="+e.toString(this.url)+", isLocal="+e.toString(this.isLocal)+")"},xn.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.url)|0)+e.hashCode(this.isLocal)|0},xn.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.url,t.url)&&e.equals(this.isLocal,t.isLocal)},wn.$metadata$={kind:$,simpleName:"TextureAssetRef",interfaces:[vn]},wn.prototype.component1=function(){return this.url},wn.prototype.component2=function(){return this.isLocal},wn.prototype.component3=function(){return this.fmt},wn.prototype.component4=function(){return this.isAtlas},wn.prototype.component5=function(){return this.tilesX},wn.prototype.component6=function(){return this.tilesY},wn.prototype.copy_7gae68$=function(t,e,n,i,o,r){return new wn(void 0===t?this.url:t,void 0===e?this.isLocal:e,void 0===n?this.fmt:n,void 0===i?this.isAtlas:i,void 0===o?this.tilesX:o,void 0===r?this.tilesY:r)},wn.prototype.toString=function(){return"TextureAssetRef(url="+e.toString(this.url)+", isLocal="+e.toString(this.isLocal)+", fmt="+e.toString(this.fmt)+", isAtlas="+e.toString(this.isAtlas)+", tilesX="+e.toString(this.tilesX)+", tilesY="+e.toString(this.tilesY)+")"},wn.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.url)|0)+e.hashCode(this.isLocal)|0)+e.hashCode(this.fmt)|0)+e.hashCode(this.isAtlas)|0)+e.hashCode(this.tilesX)|0)+e.hashCode(this.tilesY)|0},wn.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.url,t.url)&&e.equals(this.isLocal,t.isLocal)&&e.equals(this.fmt,t.fmt)&&e.equals(this.isAtlas,t.isAtlas)&&e.equals(this.tilesX,t.tilesX)&&e.equals(this.tilesY,t.tilesY)},zn.$metadata$={kind:$,simpleName:"LoadedAsset",interfaces:[]},Cn.$metadata$={kind:$,simpleName:"LoadedRawAsset",interfaces:[zn]},Sn.$metadata$={kind:$,simpleName:"LoadedTextureAsset",interfaces:[zn]},Object.defineProperty(kn.prototype,"totalBufferSize",{configurable:!0,get:function(){return this.totalBufferSize_mh5cfj$_0},set:function(t){this.totalBufferSize_mh5cfj$_0=t}}),Object.defineProperty(kn.prototype,"totalTextureSize",{configurable:!0,get:function(){return this.totalTextureSize_4hd4e0$_0},set:function(t){this.totalTextureSize_4hd4e0$_0=t}}),Object.defineProperty(kn.prototype,"numPipelineInstances",{configurable:!0,get:function(){return this.numPipelineInstances_ikf7d6$_0},set:function(t){this.numPipelineInstances_ikf7d6$_0=t}}),Object.defineProperty(kn.prototype,"numDrawCommands",{configurable:!0,get:function(){return this.numDrawCommands_4id88y$_0},set:function(t){this.numDrawCommands_4id88y$_0=t}}),Object.defineProperty(kn.prototype,"numPrimitives",{configurable:!0,get:function(){return this.numPrimitives_jhh8ci$_0},set:function(t){this.numPrimitives_jhh8ci$_0=t}}),kn.prototype.bufferAllocated_yhmem3$=function(t,n){var i;null!=(i=this.bufferAllocations.put_xwzc9p$(t,n))&&(this.totalBufferSize=this.totalBufferSize.subtract(e.Long.fromInt(i))),this.totalBufferSize=this.totalBufferSize.add(e.Long.fromInt(n))},kn.prototype.bufferDeleted_s8cxhz$=function(t){var n;null!=(n=this.bufferAllocations.remove_11rb$(t))&&(this.totalBufferSize=this.totalBufferSize.subtract(e.Long.fromInt(n)))},kn.prototype.textureAllocated_yhmem3$=function(t,n){var i;null!=(i=this.textureAllocations.put_xwzc9p$(t,n))&&(this.totalTextureSize=this.totalTextureSize.subtract(e.Long.fromInt(i))),this.totalTextureSize=this.totalTextureSize.add(e.Long.fromInt(n))},kn.prototype.textureDeleted_s8cxhz$=function(t){var n;null!=(n=this.textureAllocations.remove_11rb$(t))&&(this.totalTextureSize=this.totalTextureSize.subtract(e.Long.fromInt(n)))},kn.prototype.pipelineInstanceCreated_s8cxhz$=function(t){var e,n=(null!=(e=this.pipelines.get_11rb$(t))?e:0)+1|0;this.pipelines.put_xwzc9p$(t,n),this.numPipelineInstances=this.numPipelineInstances+1|0},kn.prototype.pipelineInstanceDestroyed_s8cxhz$=function(t){var e,n=(null!=(e=this.pipelines.get_11rb$(t))?e:0)-1|0;n>=0&&(this.pipelines.put_xwzc9p$(t,n),this.numPipelineInstances=this.numPipelineInstances-1|0)},kn.prototype.pipelineDestroyed_s8cxhz$=function(t){var e;null!=(e=this.pipelines.remove_11rb$(t))&&(this.numPipelineInstances=this.numPipelineInstances-e|0)},kn.prototype.resetPerFrameCounts=function(){this.numDrawCommands=0,this.numPrimitives=0},kn.prototype.addDrawCommandCount_za3lpa$=function(t){this.numDrawCommands=this.numDrawCommands+t|0},kn.prototype.addPrimitiveCount_za3lpa$=function(t){this.numPrimitives=this.numPrimitives+t|0},kn.$metadata$={kind:$,simpleName:"EngineStats",interfaces:[]},Ln.prototype.registerKeyListener_i13a8v$=function(t,e,n,i){return void 0===n&&(n=jn),this.registerKeyListener_aviy8w$(0|t,e,n,i)},Ln.prototype.registerKeyListener_aviy8w$=function(t,n,i,o){void 0===i&&(i=Nn);var r,s=32<=t&&t<=126?"'"+String.fromCharCode(j(t))+"'":t.toString(),a=this.keyHandlers_0,l=a.get_11rb$(t);if(null==l){var p=E();a.put_xwzc9p$(t,p),r=p}else r=l;var u=r;if(!u.isEmpty()){var c=Hj.Log,_=vC.WARN,h=e.getKClassFromExpression(this).simpleName;if(_.level>=c.level.level){var d,f=c.printer,m="Multiple bindings for key "+s+": ",y=z(M(u,10));for(d=u.iterator();d.hasNext();){var $=d.next();y.add_11rb$($.name)}f.call(c,_,h,m+y)}}var b=new Qn(t,n,i,o);u.add_11rb$(b);var g=Hj.Log,v=vC.DEBUG,x=e.getKClassFromExpression(this).simpleName;return v.level>=g.level.level&&g.printer(v,x,'Registered key handler: "'+n+'" [keyCode='+s+"]"),b},Ln.prototype.removeKeyListener_abhb69$=function(t){var e;null!=(e=this.keyHandlers_0.get_11rb$(t.keyCode))&&e.remove_11rb$(t)},Ln.prototype.onNewFrame_cwprtu$=function(t){var e;this.pointerState.onNewFrame_cwprtu$(t),this.keyEvents.clear(),this.keyEvents.addAll_brywnq$(this.queuedKeyEvents_0),this.queuedKeyEvents_0.clear(),e=this.keyEvents;for(var n=0;n!==e.size;++n){var i=this.keyEvents.get_za3lpa$(n),o=this.keyHandlers_0.get_11rb$(i.keyCode);if(null!=o)for(var r=0;r!==o.size;++r)o.get_za3lpa$(r).filter(i)&&o.get_za3lpa$(r).invoke_9cgpoj$(i)}},Ln.prototype.keyEvent_qt1dr2$=function(t,e,n){var i=new ei;i.keyCode=t,i.event=n,i.modifiers=e,this.queuedKeyEvents_0.add_11rb$(i)},Ln.prototype.charTyped_s8itvh$=function(t){var e=new ei;e.event=8,e.typedChar=N(t),e.keyCode=0|t,this.queuedKeyEvents_0.add_11rb$(e)},Ln.prototype.handleTouchStart_nhq4am$=function(t,e,n){this.pointerState.handleTouchStart_qlj5un$(t,e,n)},Ln.prototype.handleTouchEnd_za3lpa$=function(t){this.pointerState.handleTouchEnd_kcn2v3$(t)},Ln.prototype.handleTouchCancel_za3lpa$=function(t){this.pointerState.handleTouchCancel_kcn2v3$(t)},Ln.prototype.handleTouchMove_nhq4am$=function(t,e,n){this.pointerState.handleTouchMove_qlj5un$(t,e,n)},Ln.prototype.handleMouseMove_dleff0$=function(t,e){this.pointerState.handleMouseMove_dob1fz$(t,e)},Ln.prototype.handleMouseButtonState_fzusl$=function(t,e){this.pointerState.handleMouseButtonState_iwgtk$(t,e)},Ln.prototype.handleMouseButtonStates_za3lpa$=function(t){this.pointerState.handleMouseButtonStates_kcn2v3$(t)},Ln.prototype.handleMouseScroll_mx4ult$=function(t){this.pointerState.handleMouseScroll_nwfnho$(t)},Ln.prototype.handleMouseExit=function(){this.pointerState.handleMouseExit_8be2vx$()},Object.defineProperty(Pn.prototype,"id",{configurable:!0,get:function(){return this.id_yfac1g$_0},set:function(t){this.id_yfac1g$_0=t}}),Object.defineProperty(Pn.prototype,"x",{configurable:!0,get:function(){return this.x_5rhhjp$_0},set:function(t){this.x_5rhhjp$_0=t}}),Object.defineProperty(Pn.prototype,"y",{configurable:!0,get:function(){return this.y_5rhhkk$_0},set:function(t){this.y_5rhhkk$_0=t}}),Object.defineProperty(Pn.prototype,"deltaX",{configurable:!0,get:function(){return this.deltaX_8nh2op$_0},set:function(t){this.deltaX_8nh2op$_0=t}}),Object.defineProperty(Pn.prototype,"deltaY",{configurable:!0,get:function(){return this.deltaY_8nh2nu$_0},set:function(t){this.deltaY_8nh2nu$_0=t}}),Object.defineProperty(Pn.prototype,"dragDeltaX",{configurable:!0,get:function(){return this.dragDeltaX_yg2vql$_0},set:function(t){this.dragDeltaX_yg2vql$_0=t}}),Object.defineProperty(Pn.prototype,"dragDeltaY",{configurable:!0,get:function(){return this.dragDeltaY_yg2vpq$_0},set:function(t){this.dragDeltaY_yg2vpq$_0=t}}),Object.defineProperty(Pn.prototype,"deltaScroll",{configurable:!0,get:function(){return this.deltaScroll_trurwo$_0},set:function(t){this.deltaScroll_trurwo$_0=t}}),Object.defineProperty(Pn.prototype,"buttonMask",{configurable:!0,get:function(){return this.buttonMask_uq1vpl$_0},set:function(t){this.buttonEventMask=this.buttonEventMask|this.buttonMask_uq1vpl$_0^t,this.buttonMask_uq1vpl$_0=t}}),Object.defineProperty(Pn.prototype,"buttonEventMask",{configurable:!0,get:function(){return this.buttonEventMask_dc8ngn$_0},set:function(t){this.buttonEventMask_dc8ngn$_0=t}}),Object.defineProperty(Pn.prototype,"isValid",{configurable:!0,get:function(){return this.isValid_cde91$_0},set:function(t){this.isValid_cde91$_0=t}}),Object.defineProperty(Pn.prototype,"isLeftButtonDown",{configurable:!0,get:function(){return 0!=(1&this.buttonMask)}}),Object.defineProperty(Pn.prototype,"isRightButtonDown",{configurable:!0,get:function(){return 0!=(2&this.buttonMask)}}),Object.defineProperty(Pn.prototype,"isMiddleButtonDown",{configurable:!0,get:function(){return 0!=(4&this.buttonMask)}}),Object.defineProperty(Pn.prototype,"isBackButtonDown",{configurable:!0,get:function(){return 0!=(8&this.buttonMask)}}),Object.defineProperty(Pn.prototype,"isForwardButtonDown",{configurable:!0,get:function(){return 0!=(16&this.buttonMask)}}),Object.defineProperty(Pn.prototype,"isLeftButtonEvent",{configurable:!0,get:function(){return 0!=(1&this.buttonEventMask)}}),Object.defineProperty(Pn.prototype,"isRightButtonEvent",{configurable:!0,get:function(){return 0!=(2&this.buttonEventMask)}}),Object.defineProperty(Pn.prototype,"isMiddleButtonEvent",{configurable:!0,get:function(){return 0!=(4&this.buttonEventMask)}}),Object.defineProperty(Pn.prototype,"isBackButtonEvent",{configurable:!0,get:function(){return 0!=(8&this.buttonEventMask)}}),Object.defineProperty(Pn.prototype,"isForwardButtonEvent",{configurable:!0,get:function(){return 0!=(16&this.buttonEventMask)}}),Object.defineProperty(Pn.prototype,"isLeftButtonPressed",{configurable:!0,get:function(){return this.isLeftButtonEvent&&this.isLeftButtonDown}}),Object.defineProperty(Pn.prototype,"isRightButtonPressed",{configurable:!0,get:function(){return this.isRightButtonEvent&&this.isRightButtonDown}}),Object.defineProperty(Pn.prototype,"isMiddleButtonPressed",{configurable:!0,get:function(){return this.isMiddleButtonEvent&&this.isMiddleButtonDown}}),Object.defineProperty(Pn.prototype,"isBackButtonPressed",{configurable:!0,get:function(){return this.isBackButtonEvent&&this.isBackButtonDown}}),Object.defineProperty(Pn.prototype,"isForwardButtonPressed",{configurable:!0,get:function(){return this.isForwardButtonEvent&&this.isForwardButtonDown}}),Object.defineProperty(Pn.prototype,"isLeftButtonReleased",{configurable:!0,get:function(){return this.isLeftButtonEvent&&!this.isLeftButtonDown}}),Object.defineProperty(Pn.prototype,"isRightButtonReleased",{configurable:!0,get:function(){return this.isRightButtonEvent&&!this.isRightButtonDown}}),Object.defineProperty(Pn.prototype,"isMiddleButtonReleased",{configurable:!0,get:function(){return this.isMiddleButtonEvent&&!this.isMiddleButtonDown}}),Object.defineProperty(Pn.prototype,"isBackButtonReleased",{configurable:!0,get:function(){return this.isBackButtonEvent&&!this.isBackButtonDown}}),Object.defineProperty(Pn.prototype,"isForwardButtonReleased",{configurable:!0,get:function(){return this.isForwardButtonEvent&&!this.isForwardButtonDown}}),Object.defineProperty(Pn.prototype,"isLeftButtonClicked",{configurable:!0,get:function(){var t=this.isLeftButtonReleased;if(t){var e=this.dragDeltaX,n=R.abs(e),i=this.dragDeltaY;t=n+R.abs(i)<5}return t}}),Object.defineProperty(Pn.prototype,"isRightButtonClicked",{configurable:!0,get:function(){var t=this.isRightButtonReleased;if(t){var e=this.dragDeltaX,n=R.abs(e),i=this.dragDeltaY;t=n+R.abs(i)<5}return t}}),Object.defineProperty(Pn.prototype,"isMiddleButtonClicked",{configurable:!0,get:function(){var t=this.isMiddleButtonReleased;if(t){var e=this.dragDeltaX,n=R.abs(e),i=this.dragDeltaY;t=n+R.abs(i)<5}return t}}),Object.defineProperty(Pn.prototype,"isBackButtonClicked",{configurable:!0,get:function(){var t=this.isBackButtonReleased;if(t){var e=this.dragDeltaX,n=R.abs(e),i=this.dragDeltaY;t=n+R.abs(i)<5}return t}}),Object.defineProperty(Pn.prototype,"isForwardButtonClicked",{configurable:!0,get:function(){var t=this.isForwardButtonReleased;if(t){var e=this.dragDeltaX,n=R.abs(e),i=this.dragDeltaY;t=n+R.abs(i)<5}return t}}),Pn.prototype.consume_za3lpa$=function(t){void 0===t&&(t=-1),this.consumptionMask_8be2vx$=this.consumptionMask_8be2vx$|t},Pn.prototype.isConsumed_za3lpa$=function(t){return void 0===t&&(t=-1),0!=(this.consumptionMask_8be2vx$&t)},Pn.prototype.isInViewport_hrtwbc$=function(t,e){var n=e.windowHeight-this.y;return this.isValid&&t.isInViewport_dleff0$(this.x,n)},Pn.$metadata$={kind:$,simpleName:"Pointer",interfaces:[]},Tn.prototype.setButtonMask_za3lpa$=function(t){this.buttonMask=t,(this.isLeftButtonPressed||this.isRightButtonPressed||this.isMiddleButtonPressed)&&(this.dragDeltaX=0,this.dragDeltaY=0)},Tn.prototype.startPointer_nhq4am$=function(t,e,n){this.movePointer_dleff0$(e,n),this.id=t,this.deltaX=0,this.deltaY=0,this.dragDeltaX=0,this.dragDeltaY=0,this.deltaScroll=0,this.updateState_0=In(),this.isValid=!0},Tn.prototype.movePointer_dleff0$=function(t,e){0!==this.buttonMask&&(this.dragDeltaX=this.dragDeltaX+(t-this.x),this.dragDeltaY=this.dragDeltaY+(e-this.y)),this.deltaX=this.deltaX+(t-this.x),this.deltaY=this.deltaY+(e-this.y),this.x=t,this.y=e,this.lastUpdate=Ak()},Tn.prototype.endPointer=function(){var t;switch(this.processedState_0.name){case"ACTIVE":t=Kn();break;case"STARTED":t=Gn();break;default:t=Un()}this.updateState_0=t},Tn.prototype.cancelPointer=function(){this.buttonMask=0,this.buttonEventMask=0,this.deltaX=0,this.deltaY=0,this.deltaScroll=0,this.dragDeltaX=0,this.dragDeltaY=0,this.updateState_0=Jn(),this.isValid=!1},Tn.prototype.update_sjovm5$=function(t,n){if(this.updateState_0!==Jn()&&n-this.lastUpdate>200){var i=Hj.Log,o=vC.WARN,r=e.getKClassFromExpression(this).simpleName;o.level>=i.level.level&&i.printer(o,r,"Pointer "+this.id+" timed out!"),this.cancelPointer()}switch(t.id=this.id,t.deltaX=this.deltaX,t.deltaY=this.deltaY,t.dragDeltaX=this.dragDeltaX,t.dragDeltaY=this.dragDeltaY,t.deltaScroll=this.deltaScroll,t.x=this.x,t.y=this.y,t.isValid=!0,t.consumptionMask_8be2vx$=0,t.buttonEventMask=0,this.updateState_0.name){case"STARTED":case"ENDED_BEFORE_STARTED":t.buttonMask=0;break;case"ACTIVE":case"ENDED_BEFORE_ACTIVE":t.buttonMask=this.buttonMask;break;case"ENDED":t.buttonMask=0;break;case"INVALID":this.isValid=!1,t.isValid=!1}this.deltaX=0,this.deltaY=0,this.deltaScroll=0,this.buttonEventMask=0,this.processedState_0=this.updateState_0,this.updateState_0=this.updateState_0.next()},Mn.prototype.next=function(){return Bn()},Mn.$metadata$={kind:$,simpleName:"STARTED",interfaces:[On]};var Rn=null;function In(){return En(),Rn}function An(){Dn=this,On.call(this,"ACTIVE",1)}An.prototype.next=function(){return Bn()},An.$metadata$={kind:$,simpleName:"ACTIVE",interfaces:[On]};var Dn=null;function Bn(){return En(),Dn}function Fn(){qn=this,On.call(this,"ENDED_BEFORE_STARTED",2)}Fn.prototype.next=function(){return Gn()},Fn.$metadata$={kind:$,simpleName:"ENDED_BEFORE_STARTED",interfaces:[On]};var qn=null;function Un(){return En(),qn}function Vn(){Wn=this,On.call(this,"ENDED_BEFORE_ACTIVE",3)}Vn.prototype.next=function(){return Kn()},Vn.$metadata$={kind:$,simpleName:"ENDED_BEFORE_ACTIVE",interfaces:[On]};var Wn=null;function Gn(){return En(),Wn}function Hn(){Xn=this,On.call(this,"ENDED",4)}Hn.prototype.next=function(){return Jn()},Hn.$metadata$={kind:$,simpleName:"ENDED",interfaces:[On]};var Xn=null;function Kn(){return En(),Xn}function Yn(){Zn=this,On.call(this,"INVALID",5)}Yn.prototype.next=function(){return Jn()},Yn.$metadata$={kind:$,simpleName:"INVALID",interfaces:[On]};var Zn=null;function Jn(){return En(),Zn}function Qn(t,e,n,i){void 0===n&&(n=ti),this.keyCode=t,this.name=e,this.filter=n,this.callback=i}function ti(t){return!0}function ei(){this.keyCode_56t57j$_0=0,this.modifiers_cmws0f$_0=0,this.event_4ycnw1$_0=0,this.typedChar_ne8il1$_0=j(0)}function ni(){var t,e=I(10);t=e.length-1|0;for(var n=0;n<=t;n++)e[n]=new Pn;this.pointers=e,this.lastPtrInput_0=0;var i,o=I(10);i=o.length-1|0;for(var r=0;r<=i;r++)o[r]=new Tn;this.inputPointers_0=o,this.compatGestureEvaluator_0=new fk,this.isEvaluatingCompatGestures=!0,this.primaryPointer=this.pointers[0]}function ii(){oi=this,this.LEFT_BUTTON=0,this.LEFT_BUTTON_MASK=1,this.RIGHT_BUTTON=1,this.RIGHT_BUTTON_MASK=2,this.MIDDLE_BUTTON=2,this.MIDDLE_BUTTON_MASK=4,this.BACK_BUTTON=3,this.BACK_BUTTON_MASK=8,this.FORWARD_BUTTON=4,this.FORWARD_BUTTON_MASK=16,this.MAX_POINTERS=10,this.MOUSE_POINTER_ID=-1e6,this.CONSUMED_ALL=-1,this.CONSUMED_X=1,this.CONSUMED_Y=2,this.CONSUMED_SCROLL=4,this.CONSUMED_LEFT_BUTTON=8,this.CONSUMED_RIGHT_BUTTON=16,this.CONSUMED_MIDDLE_BUTTON=32,this.CONSUMED_BACK_BUTTON=64,this.CONSUMED_FORWARD_BUTTON=128,this.KEY_EV_UP=1,this.KEY_EV_DOWN=2,this.KEY_EV_REPEATED=4,this.KEY_EV_CHAR_TYPED=8,this.KEY_MOD_SHIFT=1,this.KEY_MOD_CTRL=2,this.KEY_MOD_ALT=4,this.KEY_MOD_SUPER=8,this.KEY_CTRL_LEFT=-1,this.KEY_CTRL_RIGHT=-2,this.KEY_SHIFT_LEFT=-3,this.KEY_SHIFT_RIGHT=-4,this.KEY_ALT_LEFT=-5,this.KEY_ALT_RIGHT=-6,this.KEY_SUPER_LEFT=-7,this.KEY_SUPER_RIGHT=-8,this.KEY_ESC=-9,this.KEY_MENU=-10,this.KEY_ENTER=-11,this.KEY_NP_ENTER=-12,this.KEY_NP_DIV=-13,this.KEY_NP_MUL=-14,this.KEY_NP_PLUS=-15,this.KEY_NP_MINUS=-16,this.KEY_BACKSPACE=-17,this.KEY_TAB=-18,this.KEY_DEL=-19,this.KEY_INSERT=-20,this.KEY_HOME=-21,this.KEY_END=-22,this.KEY_PAGE_UP=-23,this.KEY_PAGE_DOWN=-24,this.KEY_CURSOR_LEFT=-25,this.KEY_CURSOR_RIGHT=-26,this.KEY_CURSOR_UP=-27,this.KEY_CURSOR_DOWN=-28,this.KEY_F1=-29,this.KEY_F2=-30,this.KEY_F3=-31,this.KEY_F4=-32,this.KEY_F5=-33,this.KEY_F6=-34,this.KEY_F7=-35,this.KEY_F8=-36,this.KEY_F9=-37,this.KEY_F10=-38,this.KEY_F11=-39,this.KEY_F12=-40}On.$metadata$={kind:$,simpleName:"UpdateState",interfaces:[P]},On.values=function(){return[In(),Bn(),Un(),Gn(),Kn(),Jn()]},On.valueOf_61zpoe$=function(t){switch(t){case"STARTED":return In();case"ACTIVE":return Bn();case"ENDED_BEFORE_STARTED":return Un();case"ENDED_BEFORE_ACTIVE":return Gn();case"ENDED":return Kn();case"INVALID":return Jn();default:T("No enum constant de.fabmax.kool.InputManager.BufferedPointerInput.UpdateState."+t)}},Tn.$metadata$={kind:$,simpleName:"BufferedPointerInput",interfaces:[Pn]},Qn.prototype.invoke_9cgpoj$=function(t){this.callback(t)},Qn.$metadata$={kind:$,simpleName:"KeyEventListener",interfaces:[]},Object.defineProperty(ei.prototype,"keyCode",{configurable:!0,get:function(){return this.keyCode_56t57j$_0},set:function(t){this.keyCode_56t57j$_0=t}}),Object.defineProperty(ei.prototype,"modifiers",{configurable:!0,get:function(){return this.modifiers_cmws0f$_0},set:function(t){this.modifiers_cmws0f$_0=t}}),Object.defineProperty(ei.prototype,"event",{configurable:!0,get:function(){return this.event_4ycnw1$_0},set:function(t){this.event_4ycnw1$_0=t}}),Object.defineProperty(ei.prototype,"typedChar",{configurable:!0,get:function(){return N(this.typedChar_ne8il1$_0)},set:function(t){this.typedChar_ne8il1$_0=O(t)}}),Object.defineProperty(ei.prototype,"isPressed",{configurable:!0,get:function(){return 0!=(2&this.event)}}),Object.defineProperty(ei.prototype,"isRepeated",{configurable:!0,get:function(){return 0!=(4&this.event)}}),Object.defineProperty(ei.prototype,"isReleased",{configurable:!0,get:function(){return 0!=(1&this.event)}}),Object.defineProperty(ei.prototype,"isCharTyped",{configurable:!0,get:function(){return 0!=(8&this.event)}}),Object.defineProperty(ei.prototype,"isShiftDown",{configurable:!0,get:function(){return 0!=(1&this.modifiers)}}),Object.defineProperty(ei.prototype,"isCtrlDown",{configurable:!0,get:function(){return 0!=(2&this.modifiers)}}),Object.defineProperty(ei.prototype,"isAltDown",{configurable:!0,get:function(){return 0!=(4&this.modifiers)}}),Object.defineProperty(ei.prototype,"isSuperDown",{configurable:!0,get:function(){return 0!=(8&this.modifiers)}}),ei.$metadata$={kind:$,simpleName:"KeyEvent",interfaces:[]},ni.prototype.getActivePointers_j71cmr$=function(t,e){var n;void 0===e&&(e=-1),t.clear(),n=this.pointers;for(var i=0;i!==n.length;++i)this.pointers[i].isValid&&!this.pointers[i].isConsumed_za3lpa$(e)&&t.add_11rb$(this.pointers[i])},ni.prototype.onNewFrame_cwprtu$=function(t){var e;e=this.pointers;for(var n=0;n!==e.length;++n)this.inputPointers_0[n].update_sjovm5$(this.pointers[n],this.lastPtrInput_0);if(this.isEvaluatingCompatGestures)switch(this.compatGestureEvaluator_0.evaluate_19cf9$(this,t),this.compatGestureEvaluator_0.currentGesture.type){case 1:this.primaryPointer.consumptionMask_8be2vx$=0,this.primaryPointer.deltaScroll=this.compatGestureEvaluator_0.currentGesture.dPinchAmount/20,this.primaryPointer.x=this.compatGestureEvaluator_0.currentGesture.centerCurrent.x,this.primaryPointer.y=this.compatGestureEvaluator_0.currentGesture.centerCurrent.y,this.primaryPointer.deltaX=this.compatGestureEvaluator_0.currentGesture.dCenter.x,this.primaryPointer.deltaY=this.compatGestureEvaluator_0.currentGesture.dCenter.y;break;case 2:this.primaryPointer.consumptionMask_8be2vx$=0,this.primaryPointer.x=this.compatGestureEvaluator_0.currentGesture.centerCurrent.x,this.primaryPointer.y=this.compatGestureEvaluator_0.currentGesture.centerCurrent.y,this.primaryPointer.deltaX=this.compatGestureEvaluator_0.currentGesture.dCenter.x,this.primaryPointer.deltaY=this.compatGestureEvaluator_0.currentGesture.dCenter.y,1===this.primaryPointer.buttonMask&&(this.primaryPointer.buttonMask=2,this.compatGestureEvaluator_0.currentGesture.numUpdates>1&&(this.primaryPointer.buttonEventMask=0))}},ni.prototype.getFreeInputPointer_8be2vx$=function(){var t;t=this.inputPointers_0;for(var e=0;e!==t.length;++e)if(!this.inputPointers_0[e].isValid)return this.inputPointers_0[e];return null},ni.prototype.findInputPointer_kcn2v3$=function(t){var e;e=this.inputPointers_0;for(var n=0;n!==e.length;++n)if(this.inputPointers_0[n].isValid&&this.inputPointers_0[n].id===t)return this.inputPointers_0[n];return null},ni.prototype.handleTouchStart_qlj5un$=function(t,e,n){var i;if(this.lastPtrInput_0=Ak(),null!=(i=this.getFreeInputPointer_8be2vx$())){var o=i;o.startPointer_nhq4am$(t,e,n),o.buttonMask=1}},ni.prototype.handleTouchEnd_kcn2v3$=function(t){var e;null!=(e=this.findInputPointer_kcn2v3$(t))&&e.endPointer()},ni.prototype.handleTouchCancel_kcn2v3$=function(t){var e;null!=(e=this.findInputPointer_kcn2v3$(t))&&e.cancelPointer()},ni.prototype.handleTouchMove_qlj5un$=function(t,e,n){var i;this.lastPtrInput_0=Ak(),null!=(i=this.findInputPointer_kcn2v3$(t))&&i.movePointer_dleff0$(e,n)},ni.prototype.handleMouseMove_dob1fz$=function(t,e){var n;this.lastPtrInput_0=Ak();var i=this.findInputPointer_kcn2v3$(-1e6);if(null==i){if(null==(n=this.getFreeInputPointer_8be2vx$()))return;n.startPointer_nhq4am$(-1e6,t,e)}else i.movePointer_dleff0$(t,e)},ni.prototype.handleMouseButtonState_iwgtk$=function(t,e){var n;if(null!=(n=this.findInputPointer_kcn2v3$(-1e6))){var i=n;e?i.setButtonMask_za3lpa$(i.buttonMask|1<<t):i.setButtonMask_za3lpa$(i.buttonMask&~(1<<t))}},ni.prototype.handleMouseButtonStates_kcn2v3$=function(t){var e;null!=(e=this.findInputPointer_kcn2v3$(-1e6))&&e.setButtonMask_za3lpa$(t)},ni.prototype.handleMouseScroll_nwfnho$=function(t){var e;if(null!=(e=this.findInputPointer_kcn2v3$(-1e6))){var n=e;n.deltaScroll=n.deltaScroll+t}},ni.prototype.handleMouseExit_8be2vx$=function(){var t;null!=(t=this.findInputPointer_kcn2v3$(-1e6))&&t.cancelPointer()},ni.$metadata$={kind:$,simpleName:"PointerState",interfaces:[]},ii.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var oi=null;function ri(){return null===oi&&new ii,oi}function si(){ui(),this.screenDpi=96,this.inputMgr=new Ln,this.engineStats=new kn,this.projCorrectionMatrixScreen=new xi,this.projCorrectionMatrixOffscreen=new xi,this.depthBiasMatrix=(new xi).translate_yvo9jy$(.5,.5,.5).scale_yvo9jy$(.5,.5,.5),this.onRender=E(),this.time_q5mkh0$_0=0,this.deltaT_wdv5hn$_0=0,this.frameIdx_2g8w1r$_0=0,this.fps_a02wsa$_0=60,this.scenes=E(),this.backgroundScene_ibwr5x$_0=new rf("backgroundScene"),this.delayedCallbacks_puvmt7$_0=E(),this.disposablePipelines_8be2vx$=E();var t,e=new Float64Array(25);t=e.length-1|0;for(var n=0;n<=t;n++)e[n]=.017;this.frameTimes_6eiyeg$_0=e}function ai(t,e){this.callOnFrame=t,this.callback=e}function li(){pi=this,this.KOOL_VERSION="0.7.0-210105.0008"}Ln.$metadata$={kind:$,simpleName:"InputManager",interfaces:[]},Object.defineProperty(si.prototype,"time",{configurable:!0,get:function(){return this.time_q5mkh0$_0},set:function(t){this.time_q5mkh0$_0=t}}),Object.defineProperty(si.prototype,"deltaT",{configurable:!0,get:function(){return this.deltaT_wdv5hn$_0},set:function(t){this.deltaT_wdv5hn$_0=t}}),Object.defineProperty(si.prototype,"frameIdx",{configurable:!0,get:function(){return this.frameIdx_2g8w1r$_0},set:function(t){this.frameIdx_2g8w1r$_0=t}}),Object.defineProperty(si.prototype,"fps",{configurable:!0,get:function(){return this.fps_a02wsa$_0},set:function(t){this.fps_a02wsa$_0=t}}),Object.defineProperty(si.prototype,"backgroundPasses",{configurable:!0,get:function(){return this.backgroundScene_ibwr5x$_0.offscreenPasses}}),si.prototype.runDelayed_hd6vpk$=function(t,e){var n=this.delayedCallbacks_puvmt7$_0,i=new ai(this.frameIdx+t|0,e);n.add_11rb$(i)},si.prototype.disposePipeline_i7l2g2$=function(t){this.disposablePipelines_8be2vx$.add_11rb$(t)},si.prototype.addBackgroundRenderPass_m1c2kf$=function(t){this.backgroundScene_ibwr5x$_0.addOffscreenPass_m1c2kf$(t)},si.prototype.removeBackgroundRenderPass_m1c2kf$=function(t){this.backgroundScene_ibwr5x$_0.removeOffscreenPass_m1c2kf$(t)},si.prototype.render_14dthe$=function(t){var e,n,i,o,r;if(!this.delayedCallbacks_puvmt7$_0.isEmpty())for(e=D(A(this.delayedCallbacks_puvmt7$_0)).iterator();e.hasNext();){var s=e.next(),a=this.delayedCallbacks_puvmt7$_0.get_za3lpa$(s);a.callOnFrame<=this.frameIdx&&(a.callback(this),this.delayedCallbacks_puvmt7$_0.removeAt_za3lpa$(s))}this.deltaT=t,this.time=this.time+t,this.frameIdx=this.frameIdx+1|0,this.frameTimes_6eiyeg$_0[this.frameIdx%this.frameTimes_6eiyeg$_0.length]=t;var l=0;n=this.frameTimes_6eiyeg$_0;for(var p=0;p!==n.length;++p)l+=this.frameTimes_6eiyeg$_0[p];this.fps=this.frameTimes_6eiyeg$_0.length/l*.1+.9*this.fps,this.inputMgr.onNewFrame_cwprtu$(this),i=this.onRender;for(var u=0;u!==i.size;++u)this.onRender.get_za3lpa$(u)(this);for(o=D(A(this.scenes)).iterator();o.hasNext();){var c=o.next();this.scenes.get_za3lpa$(c).isVisible&&this.scenes.get_za3lpa$(c).processInput_aemszp$(this)}this.backgroundScene_ibwr5x$_0.renderScene_aemszp$(this),r=this.scenes;for(var _=0;_!==r.size;++_)this.scenes.get_za3lpa$(_).isVisible&&this.scenes.get_za3lpa$(_).renderScene_aemszp$(this)},ai.$metadata$={kind:$,simpleName:"DelayedCallback",interfaces:[]},li.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var pi=null;function ui(){return null===pi&&new li,pi}function ci(t,e){B.call(this,t,e),this.name="KoolException"}function _i(t,e){return e=e||Object.create(ci.prototype),ci.call(e,t,null),e}function hi(t,e,n,i){this.degree=t,this.factory_o8y0vc$_0=e,this.copy_1qqihf$_0=n,this.mix_rjp6wa$_0=i,this.ctrlPoints=E(),this.knots_ks2m93$_0=E(),this.d_c5f19u$_0=E()}function di(t){hi.call(this,t,fi,mi,yi)}function fi(){return co()}function mi(t,e){return e.set_czzhjp$(t),a}function yi(t,e,n,i,o){return o.x=e.x*t+i.x*n,o.y=e.y*t+i.y*n,a}function $i(){vi(),this.matrix=new Float32Array(9),this.setIdentity()}function bi(){gi=this,this.tmpMatLock_0=new W,this.tmpMatA_0=new $i,this.tmpMatB_0=new $i}si.$metadata$={kind:$,simpleName:"KoolContext",interfaces:[]},ci.$metadata$={kind:$,simpleName:"KoolException",interfaces:[B]},hi.prototype.addInterpolationEndpoints=function(){var t;t=this.degree;for(var e=0;e<t;e++){this.ctrlPoints.add_wxm5ur$(0,F(this.ctrlPoints));var n=this.ctrlPoints,i=q(this.ctrlPoints);n.add_11rb$(i)}},hi.prototype.evaluate_f6p79m$=function(t,e){if(t<=0)this.copy_1qqihf$_0(F(this.ctrlPoints),e);else if(t>=1)this.copy_1qqihf$_0(q(this.ctrlPoints),e);else{this.checkTemps_dp4s6j$_0();var n=this.degree+t*(this.ctrlPoints.size-(2*this.degree|0)+1|0);this.deBoor_47z15v$_0(U(n),n,e)}return e},hi.prototype.deBoor_47z15v$_0=function(t,e,n){var i,o,r=this.degree,s=this.ctrlPoints.size-1|0,a=t<r?r:t>s?s:t;i=this.degree;for(var l=0;l<=i;l++)this.copy_1qqihf$_0(this.ctrlPoints.get_za3lpa$(l+a-this.degree|0),this.d_c5f19u$_0.get_za3lpa$(l));o=this.degree;for(var p=1;p<=o;p++)for(var u=this.degree;u>=p;u--){var c=(e-this.knots_ks2m93$_0.get_za3lpa$(u+a-this.degree|0))/(this.knots_ks2m93$_0.get_za3lpa$(u+1+a-p|0)-this.knots_ks2m93$_0.get_za3lpa$(u+a-this.degree|0));this.mix_rjp6wa$_0(1-c,this.d_c5f19u$_0.get_za3lpa$(u-1|0),c,this.d_c5f19u$_0.get_za3lpa$(u),this.d_c5f19u$_0.get_za3lpa$(u))}this.copy_1qqihf$_0(this.d_c5f19u$_0.get_za3lpa$(this.degree),n)},hi.prototype.checkTemps_dp4s6j$_0=function(){var t,e;if(this.knots_ks2m93$_0.size!==(this.ctrlPoints.size+this.degree|0)){this.knots_ks2m93$_0.clear(),t=this.ctrlPoints.size+this.degree|0;for(var n=0;n<t;n++)this.knots_ks2m93$_0.add_11rb$(n)}if(this.d_c5f19u$_0.size!==(this.degree+1|0)){this.d_c5f19u$_0.clear(),e=this.degree;for(var i=0;i<=e;i++){var o=this.d_c5f19u$_0,r=this.factory_o8y0vc$_0();o.add_11rb$(r)}}},hi.$metadata$={kind:$,simpleName:"BSpline",interfaces:[]},di.$metadata$={kind:$,simpleName:"BSplineVec2f",interfaces:[hi]},$i.prototype.rotate_7b5o5w$=function(t,e,n,i){return vi().tmpMatLock_0,vi().tmpMatA_0.setRotate_7b5o5w$(t,e,n,i),this.set_d4zu7e$(this.mul_4w76o0$(vi().tmpMatA_0,vi().tmpMatB_0))},$i.prototype.rotate_ad55pp$=function(t,e){return this.rotate_7b5o5w$(t,e.x,e.y,e.z)},$i.prototype.rotate_y2kzbl$=function(t,e,n){return vi().tmpMatLock_0,vi().tmpMatA_0.setRotate_y2kzbl$(t,e,n),this.set_d4zu7e$(this.mul_4w76o0$(vi().tmpMatA_0,vi().tmpMatB_0))},$i.prototype.rotate_c240ly$=function(t,e,n,i,o){return o.set_d4zu7e$(this),o.rotate_7b5o5w$(t,e,n,i),o},$i.prototype.rotate_phvhih$=function(t,e,n){return this.rotate_c240ly$(t,e.x,e.y,e.z,n)},$i.prototype.rotate_g84k61$=function(t,e,n,i){return i.set_d4zu7e$(this),i.rotate_y2kzbl$(t,e,n),i},$i.prototype.transpose=function(){var t=this.get_za3lpa$(1);return this.set_24o109$(1,this.get_za3lpa$(3)),this.set_24o109$(3,t),t=this.get_za3lpa$(2),this.set_24o109$(2,this.get_za3lpa$(6)),this.set_24o109$(6,t),t=this.get_za3lpa$(5),this.set_24o109$(5,this.get_za3lpa$(7)),this.set_24o109$(7,t),this},$i.prototype.transpose_d4zu6j$=function(t){return t.set_24o109$(0,this.get_za3lpa$(0)),t.set_24o109$(1,this.get_za3lpa$(3)),t.set_24o109$(2,this.get_za3lpa$(6)),t.set_24o109$(3,this.get_za3lpa$(1)),t.set_24o109$(4,this.get_za3lpa$(4)),t.set_24o109$(5,this.get_za3lpa$(7)),t.set_24o109$(6,this.get_za3lpa$(2)),t.set_24o109$(7,this.get_za3lpa$(5)),t.set_24o109$(8,this.get_za3lpa$(8)),t},$i.prototype.invert=function(){vi().tmpMatLock_0;var t=this.invert_d4zu7e$(vi().tmpMatA_0);return t&&this.set_d4zu7e$(vi().tmpMatA_0),t},$i.prototype.invert_d4zu7e$=function(t){for(var e,n=0,i=0;i<=2;i++)n+=this.get_za3lpa$(i)*(this.get_za3lpa$(3+(i+1|0)%3|0)*this.get_za3lpa$(6+(i+2|0)%3|0)-this.get_za3lpa$(3+(i+2|0)%3|0)*this.get_za3lpa$(6+(i+1|0)%3|0));if(n>0){n=1/n;for(var o=0;o<=2;o++)for(var r=0;r<=2;r++)t.set_24o109$((3*o|0)+r|0,(this.get_za3lpa$(((r+1|0)%3*3|0)+(o+1|0)%3|0)*this.get_za3lpa$(((r+2|0)%3*3|0)+(o+2|0)%3|0)-this.get_za3lpa$(((r+1|0)%3*3|0)+(o+2|0)%3|0)*this.get_za3lpa$(((r+2|0)%3*3|0)+(o+1|0)%3|0))*n);e=!0}else e=!1;return e},$i.prototype.transform_5s4mqq$=function(t){var e=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2),n=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2),i=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2);return t.set_y2kzbl$(e,n,i)},$i.prototype.transform_2gj7b4$=function(t,e){return e.x=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2),e.y=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2),e.z=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2),e},$i.prototype.mul_d4zu7e$=function(t){return vi().tmpMatLock_0,this.mul_4w76o0$(t,vi().tmpMatA_0),this.set_d4zu7e$(vi().tmpMatA_0)},$i.prototype.mul_4w76o0$=function(t,e){for(var n=0;n<=2;n++)for(var i=0;i<=2;i++){for(var o=0,r=0;r<=2;r++)o+=this.get_za3lpa$(i+(3*r|0)|0)*t.get_za3lpa$((3*n|0)+r|0);e.set_24o109$((3*n|0)+i|0,o)}return e},$i.prototype.scale_y2kzbl$=function(t,e,n){for(var i=0;i<=2;i++)this.matrix[i]=this.matrix[i]*t,this.matrix[3+i|0]=this.matrix[3+i|0]*e,this.matrix[6+i|0]=this.matrix[6+i|0]*n;return this},$i.prototype.scale_czzhiu$=function(t){return this.scale_y2kzbl$(t.x,t.y,t.z)},$i.prototype.scale_g84k61$=function(t,e,n,i){for(var o=0;o<=2;o++)i.matrix[o]=this.matrix[o]*t,i.matrix[3+o|0]=this.matrix[3+o|0]*e,i.matrix[6+o|0]=this.matrix[6+o|0]*n;return i},$i.prototype.set_d4zu7e$=function(t){for(var e=0;e<=8;e++)this.set_24o109$(e,t.get_za3lpa$(e));return this},$i.prototype.set_hcyabg$=function(t){for(var e=0;e<=8;e++)this.set_24o109$(e,t.get_za3lpa$(e))},$i.prototype.setIdentity=function(){for(var t=1;t<=8;t++)this.set_24o109$(t,0);for(var e=0;e<=8;e+=4)this.set_24o109$(e,1);return this},$i.prototype.setRotate_y2kzbl$=function(t,e,n){var i=t*Ij.DEG_2_RAD,o=e*Ij.DEG_2_RAD,r=n*Ij.DEG_2_RAD,s=R.cos(i),a=R.cos(o),l=R.cos(r),p=R.sin(i),u=R.sin(o),c=R.sin(r),_=s*l,h=s*c,d=p*l,f=p*c;return this.matrix[0]=a*l,this.matrix[3]=u*d-h,this.matrix[6]=u*_+f,this.matrix[1]=a*c,this.matrix[4]=u*f+_,this.matrix[7]=u*h-d,this.matrix[2]=-u,this.matrix[5]=a*p,this.matrix[8]=a*s,this},$i.prototype.setRotate_7b5o5w$=function(t,e,n,i){var o,r=e,s=n,a=i,l=r*r+s*s+a*a,p=R.sqrt(l),u=1-p;if(o=Ij.FUZZY_EQ_D,!(R.abs(u)<=o)){var c=1/p;r*=c,s*=c,a*=c}var _=t*(V.PI/180),h=R.sin(_),d=R.cos(_),f=1-d,m=r*s,y=s*a,$=a*r,b=r*h,g=s*h,v=a*h;return this.set_24o109$(0,r*r*f+d),this.set_24o109$(3,m*f-v),this.set_24o109$(6,$*f+g),this.set_24o109$(1,m*f+v),this.set_24o109$(4,s*s*f+d),this.set_24o109$(7,y*f-b),this.set_24o109$(2,$*f-g),this.set_24o109$(5,y*f+b),this.set_24o109$(8,a*a*f+d),this},$i.prototype.setRotate_czzhhz$=function(t){var e=t.w,n=t.x,i=t.y,o=t.z,r=e*e+n*n+i*i+o*o,s=R.sqrt(r);return s=1/(s*s),this.set_n0b4r3$(0,0,1-2*s*(i*i+o*o)),this.set_n0b4r3$(0,1,2*s*(n*i-o*e)),this.set_n0b4r3$(0,2,2*s*(n*o+i*e)),this.set_n0b4r3$(1,0,2*s*(n*i+o*e)),this.set_n0b4r3$(1,1,1-2*s*(n*n+o*o)),this.set_n0b4r3$(1,2,2*s*(i*o-n*e)),this.set_n0b4r3$(2,0,2*s*(n*o-i*e)),this.set_n0b4r3$(2,1,2*s*(i*o+n*e)),this.set_n0b4r3$(2,2,1-2*s*(n*n+i*i)),this},$i.prototype.getRotation_5s4mpv$=function(t){var e=this.get_vux9f0$(0,0)+this.get_vux9f0$(1,1)+this.get_vux9f0$(2,2);if(e>0){var n=e+1,i=R.sqrt(n);t.w=.5*i,i=.5/i,t.x=(this.get_vux9f0$(2,1)-this.get_vux9f0$(1,2))*i,t.y=(this.get_vux9f0$(0,2)-this.get_vux9f0$(2,0))*i,t.z=(this.get_vux9f0$(1,0)-this.get_vux9f0$(0,1))*i}else{var o=this.get_vux9f0$(0,0)<this.get_vux9f0$(1,1)?this.get_vux9f0$(1,1)<this.get_vux9f0$(2,2)?2:1:this.get_vux9f0$(0,0)<this.get_vux9f0$(2,2)?2:0,r=(o+1|0)%3,s=(o+2|0)%3,a=this.get_vux9f0$(o,o)-this.get_vux9f0$(r,r)-this.get_vux9f0$(s,s)+1,l=R.sqrt(a);t.set_24o109$(o,.5*l),l=.5/l,t.w=(this.get_vux9f0$(s,r)-this.get_vux9f0$(r,s))*l,t.set_24o109$(r,(this.get_vux9f0$(r,o)+this.get_vux9f0$(o,r))*l),t.set_24o109$(s,(this.get_vux9f0$(s,o)+this.get_vux9f0$(o,s))*l)}return t},$i.prototype.get_za3lpa$=function(t){return this.matrix[t]},$i.prototype.get_vux9f0$=function(t,e){return this.matrix[(3*e|0)+t|0]},$i.prototype.set_24o109$=function(t,e){this.matrix[t]=e},$i.prototype.set_n0b4r3$=function(t,e,n){this.matrix[(3*e|0)+t|0]=n},$i.prototype.setColVec_ky00qo$=function(t,e){this.set_n0b4r3$(0,t,e.x),this.set_n0b4r3$(1,t,e.y),this.set_n0b4r3$(2,t,e.z)},$i.prototype.getColVec_8irwuw$=function(t,e){return e.x=this.get_vux9f0$(0,t),e.y=this.get_vux9f0$(1,t),e.z=this.get_vux9f0$(2,t),e},$i.prototype.toBuffer_he122g$=function(t){return t.put_kgymra$(this.matrix,0,9),t.flip(),t},bi.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var gi=null;function vi(){return null===gi&&new bi,gi}function xi(){Ci(),this.matrix_ntz8bm$_0=new Float64Array(16),this.offset_7ocvpo$_0=0,this.setIdentity()}function wi(){zi=this,this.tmpMatLock_0=new W,this.tmpMatA_0=new xi,this.tmpMatB_0=new xi}$i.$metadata$={kind:$,simpleName:"Mat3f",interfaces:[]},Object.defineProperty(xi.prototype,"matrix",{configurable:!0,get:function(){return this.matrix_ntz8bm$_0},set:function(t){this.matrix_ntz8bm$_0=t}}),Object.defineProperty(xi.prototype,"offset",{configurable:!0,get:function(){return this.offset_7ocvpo$_0},set:function(t){this.offset_7ocvpo$_0=t}}),xi.prototype.translate_yvo9jy$=function(t,e,n){for(var i=0;i<=3;i++){var o=this.offset+i|0;this.matrix[12+o|0]=this.matrix[12+o|0]+(this.matrix[o]*t+this.matrix[4+o|0]*e+this.matrix[8+o|0]*n)}return this},xi.prototype.translate_czzhiw$=function(t){return this.translate_yvo9jy$(t.x,t.y,t.z)},xi.prototype.translate_p4gs15$=function(t,e,n,i){for(var o=0;o<=11;o++)i.matrix[i.offset+o|0]=this.matrix[this.offset+o|0];for(var r=0;r<=3;r++){var s=this.offset+r|0;i.matrix[i.offset+12+r|0]=this.matrix[s]*t+this.matrix[4+s|0]*e+this.matrix[8+s|0]*n+this.matrix[12+s|0]}return i},xi.prototype.rotate_6y0v78$=function(t,e,n,i){return Ci().tmpMatLock_0,Ci().tmpMatA_0.setRotate_6y0v78$(t,e,n,i),this.set_d4zu6l$(this.mul_u47j3u$(Ci().tmpMatA_0,Ci().tmpMatB_0))},xi.prototype.rotate_5820x2$=function(t,e){return this.rotate_6y0v78$(t,e.x,e.y,e.z)},xi.prototype.rotate_yvo9jy$=function(t,e,n){return Ci().tmpMatLock_0,Ci().tmpMatA_0.setRotate_yvo9jy$(t,e,n),this.set_d4zu6l$(this.mul_u47j3u$(Ci().tmpMatA_0,Ci().tmpMatB_0))},xi.prototype.rotate_app323$=function(t,e,n,i,o){return Ci().tmpMatLock_0,Ci().tmpMatA_0.setRotate_6y0v78$(t,e,n,i),this.mul_u47j3u$(Ci().tmpMatA_0,o)},xi.prototype.rotate_wwd6w1$=function(t,e,n){return this.rotate_app323$(t,e.x,e.y,e.z,n)},xi.prototype.rotate_p4gs15$=function(t,e,n,i){return i.set_d4zu6l$(this),i.rotate_yvo9jy$(t,e,n),i},xi.prototype.scale_14dthe$=function(t){return this.scale_yvo9jy$(t,t,t)},xi.prototype.scale_yvo9jy$=function(t,e,n){for(var i=0;i<=3;i++){var o=this.offset+i|0;this.matrix[o]=this.matrix[o]*t,this.matrix[4+o|0]=this.matrix[4+o|0]*e,this.matrix[8+o|0]=this.matrix[8+o|0]*n}return this},xi.prototype.scale_czzhiw$=function(t){return this.scale_yvo9jy$(t.x,t.y,t.z)},xi.prototype.scale_p4gs15$=function(t,e,n,i){for(var o=0;o<=3;o++){var r=i.offset+o|0,s=this.offset+o|0;i.matrix[r]=this.matrix[s]*t,i.matrix[4+r|0]=this.matrix[4+s|0]*e,i.matrix[8+r|0]=this.matrix[8+s|0]*n,i.matrix[12+r|0]=this.matrix[12+s|0]}return i},xi.prototype.resetScale=function(){var t=this.get_vux9f0$(0,0)*this.get_vux9f0$(0,0)+this.get_vux9f0$(1,0)*this.get_vux9f0$(1,0)+this.get_vux9f0$(2,0)*this.get_vux9f0$(2,0),e=1/R.sqrt(t),n=this.get_vux9f0$(0,1)*this.get_vux9f0$(0,1)+this.get_vux9f0$(1,1)*this.get_vux9f0$(1,1)+this.get_vux9f0$(2,1)*this.get_vux9f0$(2,1),i=1/R.sqrt(n),o=this.get_vux9f0$(0,2)*this.get_vux9f0$(0,2)+this.get_vux9f0$(1,2)*this.get_vux9f0$(1,2)+this.get_vux9f0$(2,2)*this.get_vux9f0$(2,2),r=1/R.sqrt(o);return this.scale_yvo9jy$(e,i,r),this},xi.prototype.transpose=function(){return Ci().tmpMatLock_0,this.set_d4zu6l$(this.transpose_d4zu6l$(Ci().tmpMatA_0))},xi.prototype.transpose_d4zu6l$=function(t){for(var e=0;e<=3;e++){var n=(4*e|0)+this.offset|0;t.matrix[e+t.offset|0]=this.matrix[n],t.matrix[e+4+t.offset|0]=this.matrix[n+1|0],t.matrix[e+8+t.offset|0]=this.matrix[n+2|0],t.matrix[e+12+t.offset|0]=this.matrix[n+3|0]}return t},xi.prototype.invert_14dthe$=function(t){void 0===t&&(t=0),Ci().tmpMatLock_0;var e=this.invert_23yxad$(Ci().tmpMatA_0,t);return e&&this.set_d4zu6l$(Ci().tmpMatA_0),e},xi.prototype.invert_23yxad$=function(t,e){void 0===e&&(e=0);var n=this.matrix[this.offset+0|0],i=this.matrix[this.offset+1|0],o=this.matrix[this.offset+2|0],r=this.matrix[this.offset+3|0],s=this.matrix[this.offset+4|0],a=this.matrix[this.offset+5|0],l=this.matrix[this.offset+6|0],p=this.matrix[this.offset+7|0],u=this.matrix[this.offset+8|0],c=this.matrix[this.offset+9|0],_=this.matrix[this.offset+10|0],h=this.matrix[this.offset+11|0],d=this.matrix[this.offset+12|0],f=this.matrix[this.offset+13|0],m=this.matrix[this.offset+14|0],y=this.matrix[this.offset+15|0],$=_*y,b=m*h,g=l*y,v=m*p,x=l*h,w=_*p,z=o*y,C=m*r,S=o*h,k=_*r,L=o*p,j=l*r,N=$*a+v*c+x*f-(b*a+g*c+w*f),P=b*i+z*c+k*f-($*i+C*c+S*f),T=g*i+C*a+L*f-(v*i+z*a+j*f),O=w*i+S*a+j*c-(x*i+k*a+L*c),E=b*s+g*u+w*d-($*s+v*u+x*d),M=$*n+C*u+S*d-(b*n+z*u+k*d),I=v*n+z*s+j*d-(g*n+C*s+L*d),A=x*n+k*s+L*u-(w*n+S*s+j*u),D=u*f,B=d*c,F=s*f,q=d*a,U=s*c,V=u*a,W=n*f,G=d*i,H=n*c,X=u*i,K=n*a,Y=s*i,Z=D*p+q*h+U*y-(B*p+F*h+V*y),J=B*r+W*h+X*y-(D*r+G*h+H*y),Q=F*r+G*p+K*y-(q*r+W*p+Y*y),tt=V*r+H*p+Y*h-(U*r+X*p+K*h),et=F*_+V*m+B*l-(U*m+D*l+q*_),nt=H*m+D*o+G*_-(W*_+X*m+B*o),it=W*l+Y*m+q*o-(K*m+F*o+G*l),ot=K*_+U*o+X*l-(H*l+Y*_+V*o),rt=n*N+s*P+u*T+d*O;if(R.abs(rt)<=e)return!1;var st=1/rt;return t.matrix[t.offset]=N*st,t.matrix[1+t.offset|0]=P*st,t.matrix[2+t.offset|0]=T*st,t.matrix[3+t.offset|0]=O*st,t.matrix[4+t.offset|0]=E*st,t.matrix[5+t.offset|0]=M*st,t.matrix[6+t.offset|0]=I*st,t.matrix[7+t.offset|0]=A*st,t.matrix[8+t.offset|0]=Z*st,t.matrix[9+t.offset|0]=J*st,t.matrix[10+t.offset|0]=Q*st,t.matrix[11+t.offset|0]=tt*st,t.matrix[12+t.offset|0]=et*st,t.matrix[13+t.offset|0]=nt*st,t.matrix[14+t.offset|0]=it*st,t.matrix[15+t.offset|0]=ot*st,!0},xi.prototype.transform_w1lst9$=function(t,e){void 0===e&&(e=1);var n=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+e*this.get_vux9f0$(0,3),i=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+e*this.get_vux9f0$(1,3),o=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+e*this.get_vux9f0$(2,3);return t.set_y2kzbl$(n,i,o)},xi.prototype.transform_a6wx89$=function(t,e,n){return void 0===e&&(e=1),n.x=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+e*this.get_vux9f0$(0,3),n.y=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+e*this.get_vux9f0$(1,3),n.z=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+e*this.get_vux9f0$(2,3),n},xi.prototype.transform_5s4mpv$=function(t){var e=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+t.w*this.get_vux9f0$(0,3),n=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+t.w*this.get_vux9f0$(1,3),i=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+t.w*this.get_vux9f0$(2,3),o=t.x*this.get_vux9f0$(3,0)+t.y*this.get_vux9f0$(3,1)+t.z*this.get_vux9f0$(3,2)+t.w*this.get_vux9f0$(3,3);return t.set_7b5o5w$(e,n,i,o)},xi.prototype.transform_uzu8ww$=function(t,e){return e.x=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+t.w*this.get_vux9f0$(0,3),e.y=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+t.w*this.get_vux9f0$(1,3),e.z=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+t.w*this.get_vux9f0$(2,3),e.w=t.x*this.get_vux9f0$(3,0)+t.y*this.get_vux9f0$(3,1)+t.z*this.get_vux9f0$(3,2)+t.w*this.get_vux9f0$(3,3),e},xi.prototype.transform_j7uy7i$=function(t,e){void 0===e&&(e=1);var n=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+e*this.get_vux9f0$(0,3),i=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+e*this.get_vux9f0$(1,3),o=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+e*this.get_vux9f0$(2,3);return t.set_yvo9jy$(n,i,o)},xi.prototype.transform_3odno2$=function(t,e,n){return void 0===e&&(e=1),n.x=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+e*this.get_vux9f0$(0,3),n.y=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+e*this.get_vux9f0$(1,3),n.z=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+e*this.get_vux9f0$(2,3),n},xi.prototype.transform_5s4mpx$=function(t){var e=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+t.w*this.get_vux9f0$(0,3),n=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+t.w*this.get_vux9f0$(1,3),i=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+t.w*this.get_vux9f0$(2,3),o=t.x*this.get_vux9f0$(3,0)+t.y*this.get_vux9f0$(3,1)+t.z*this.get_vux9f0$(3,2)+t.w*this.get_vux9f0$(3,3);return t.set_6y0v78$(e,n,i,o)},xi.prototype.transform_2x9ggw$=function(t,e){return e.x=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+t.w*this.get_vux9f0$(0,3),e.y=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+t.w*this.get_vux9f0$(1,3),e.z=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+t.w*this.get_vux9f0$(2,3),e.w=t.x*this.get_vux9f0$(3,0)+t.y*this.get_vux9f0$(3,1)+t.z*this.get_vux9f0$(3,2)+t.w*this.get_vux9f0$(3,3),e},xi.prototype.add_d4zu6l$=function(t){for(var e=0;e<=15;e++)this.matrix[this.offset+e|0]=this.matrix[this.offset+e|0]+t.matrix[t.offset+e|0];return this},xi.prototype.mul_d4zu6l$=function(t){return Ci().tmpMatLock_0,this.mul_u47j3u$(t,Ci().tmpMatA_0),this.set_d4zu6l$(Ci().tmpMatA_0)},xi.prototype.mul_u47j3u$=function(t,e){for(var n=0;n<=3;n++)for(var i=0;i<=3;i++){for(var o=0,r=0;r<=3;r++)o+=this.matrix[this.offset+i+(4*r|0)|0]*t.matrix[t.offset+(4*n|0)+r|0];e.matrix[e.offset+(4*n|0)+i|0]=o}return e},xi.prototype.set_d4zu6l$=function(t){for(var e=0;e<=15;e++)this.matrix[this.offset+e|0]=t.matrix[t.offset+e|0];return this},xi.prototype.set_d4zu6j$=function(t){for(var e=0;e<=15;e++)this.matrix[this.offset+e|0]=t.matrix[t.offset+e|0];return this},xi.prototype.set_d3e2cz$=function(t){for(var e=0;e<=15;e++)this.matrix[this.offset+e|0]=t.get_za3lpa$(e);return this},xi.prototype.setZero=function(){for(var t=0;t<=15;t++)this.matrix[this.offset+t|0]=0;return this},xi.prototype.setIdentity=function(){for(var t=1;t<=15;t++)this.matrix[this.offset+t|0]=0;return this.matrix[this.offset]=1,this.matrix[this.offset+5|0]=1,this.matrix[this.offset+10|0]=1,this.matrix[this.offset+15|0]=1,this},xi.prototype.setRotate_yvo9jy$=function(t,e,n){var i=t*Ij.DEG_2_RAD,o=e*Ij.DEG_2_RAD,r=n*Ij.DEG_2_RAD,s=R.cos(i),a=R.cos(o),l=R.cos(r),p=R.sin(i),u=R.sin(o),c=R.sin(r),_=s*l,h=s*c,d=p*l,f=p*c;return this.matrix[this.offset+0|0]=a*l,this.matrix[this.offset+4|0]=u*d-h,this.matrix[this.offset+8|0]=u*_+f,this.matrix[this.offset+12|0]=0,this.matrix[this.offset+1|0]=a*c,this.matrix[this.offset+5|0]=u*f+_,this.matrix[this.offset+9|0]=u*h-d,this.matrix[this.offset+13|0]=0,this.matrix[this.offset+2|0]=-u,this.matrix[this.offset+6|0]=a*p,this.matrix[this.offset+10|0]=a*s,this.matrix[this.offset+14|0]=0,this.matrix[this.offset+3|0]=0,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+11|0]=0,this.matrix[this.offset+15|0]=1,this},xi.prototype.setRotate_6y0v78$=function(t,e,n,i){var o=t*Ij.DEG_2_RAD,r=e,s=n,a=i;this.matrix[this.offset+3|0]=0,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+11|0]=0,this.matrix[this.offset+12|0]=0,this.matrix[this.offset+13|0]=0,this.matrix[this.offset+14|0]=0,this.matrix[this.offset+15|0]=1;var l=R.sin(o),p=R.cos(o);if(1===r&&0===s&&0===a)this.matrix[this.offset+5|0]=p,this.matrix[this.offset+10|0]=p,this.matrix[this.offset+6|0]=l,this.matrix[this.offset+9|0]=-l,this.matrix[this.offset+1|0]=0,this.matrix[this.offset+2|0]=0,this.matrix[this.offset+4|0]=0,this.matrix[this.offset+8|0]=0,this.matrix[this.offset+0|0]=1;else if(0===r&&1===s&&0===a)this.matrix[this.offset+0|0]=p,this.matrix[this.offset+10|0]=p,this.matrix[this.offset+8|0]=l,this.matrix[this.offset+2|0]=-l,this.matrix[this.offset+1|0]=0,this.matrix[this.offset+4|0]=0,this.matrix[this.offset+6|0]=0,this.matrix[this.offset+9|0]=0,this.matrix[this.offset+5|0]=1;else if(0===r&&0===s&&1===a)this.matrix[this.offset+0|0]=p,this.matrix[this.offset+5|0]=p,this.matrix[this.offset+1|0]=l,this.matrix[this.offset+4|0]=-l,this.matrix[this.offset+2|0]=0,this.matrix[this.offset+6|0]=0,this.matrix[this.offset+8|0]=0,this.matrix[this.offset+9|0]=0,this.matrix[this.offset+10|0]=1;else{var u,c=r*r+s*s+a*a,_=R.sqrt(c);u=Ij.FUZZY_EQ_D;var h=_-1;if(!(R.abs(h)<=u)){var d=1/_;r*=d,s*=d,a*=d}var f=1-p,m=r*s,y=s*a,$=a*r,b=r*l,g=s*l,v=a*l;this.matrix[this.offset+0|0]=r*r*f+p,this.matrix[this.offset+4|0]=m*f-v,this.matrix[this.offset+8|0]=$*f+g,this.matrix[this.offset+1|0]=m*f+v,this.matrix[this.offset+5|0]=s*s*f+p,this.matrix[this.offset+9|0]=y*f-b,this.matrix[this.offset+2|0]=$*f-g,this.matrix[this.offset+6|0]=y*f+b,this.matrix[this.offset+10|0]=a*a*f+p}return this},xi.prototype.setRotate_czzhi1$=function(t){var e=t.w,n=t.x,i=t.y,o=t.z,r=e*e+n*n+i*i+o*o,s=R.sqrt(r);return s=1/(s*s),this.set_224j3y$(0,0,1-2*s*(i*i+o*o)),this.set_224j3y$(0,1,2*s*(n*i-o*e)),this.set_224j3y$(0,2,2*s*(n*o+i*e)),this.set_224j3y$(0,3,0),this.set_224j3y$(1,0,2*s*(n*i+o*e)),this.set_224j3y$(1,1,1-2*s*(n*n+o*o)),this.set_224j3y$(1,2,2*s*(i*o-n*e)),this.set_224j3y$(1,3,0),this.set_224j3y$(2,0,2*s*(n*o-i*e)),this.set_224j3y$(2,1,2*s*(i*o+n*e)),this.set_224j3y$(2,2,1-2*s*(n*n+i*i)),this.set_224j3y$(2,3,0),this.set_224j3y$(3,0,0),this.set_224j3y$(3,1,0),this.set_224j3y$(3,2,0),this.set_224j3y$(3,3,1),this},xi.prototype.setRotation_d4zu7e$=function(t){for(var e=0;e<=2;e++)for(var n=0;n<=2;n++)this.set_224j3y$(e,n,t.get_vux9f0$(e,n));var i=this.get_vux9f0$(0,0)*this.get_vux9f0$(0,0)+this.get_vux9f0$(1,0)*this.get_vux9f0$(1,0)+this.get_vux9f0$(2,0)*this.get_vux9f0$(2,0)+this.get_vux9f0$(3,0)*this.get_vux9f0$(3,0),o=1/R.sqrt(i);this.scale_yvo9jy$(o,o,o)},xi.prototype.setRotation_d4zu6l$=function(t){for(var e=0;e<=2;e++)for(var n=0;n<=2;n++)this.set_224j3y$(e,n,t.get_vux9f0$(e,n));var i=this.get_vux9f0$(0,0)*this.get_vux9f0$(0,0)+this.get_vux9f0$(1,0)*this.get_vux9f0$(1,0)+this.get_vux9f0$(2,0)*this.get_vux9f0$(2,0)+this.get_vux9f0$(3,0)*this.get_vux9f0$(3,0),o=1/R.sqrt(i);this.scale_yvo9jy$(o,o,o)},xi.prototype.setLookAt_n440fu$=function(t,e,n){return this.setLookAt_enh5fx$_0(t.x,t.y,t.z,e.x,e.y,e.z,n.x,n.y,n.z)},xi.prototype.setLookAt_8ro9c0$=function(t,e,n){return this.setLookAt_enh5fx$_0(t.x,t.y,t.z,e.x,e.y,e.z,n.x,n.y,n.z)},xi.prototype.setLookAt_enh5fx$_0=function(t,e,n,i,o,r,s,a,l){var p=i-t,u=o-e,c=r-n,_=p*p+u*u+c*c,h=1/R.sqrt(_),d=(u*=h)*l-(c*=h)*a,f=c*s-(p*=h)*l,m=p*a-u*s,y=d*d+f*f+m*m,$=1/R.sqrt(y),b=(f*=$)*c-(m*=$)*u,g=m*p-(d*=$)*c,v=d*u-f*p;return this.matrix[this.offset+0|0]=d,this.matrix[this.offset+1|0]=b,this.matrix[this.offset+2|0]=-p,this.matrix[this.offset+3|0]=0,this.matrix[this.offset+4|0]=f,this.matrix[this.offset+5|0]=g,this.matrix[this.offset+6|0]=-u,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+8|0]=m,this.matrix[this.offset+9|0]=v,this.matrix[this.offset+10|0]=-c,this.matrix[this.offset+11|0]=0,this.matrix[this.offset+12|0]=0,this.matrix[this.offset+13|0]=0,this.matrix[this.offset+14|0]=0,this.matrix[this.offset+15|0]=1,this.translate_yvo9jy$(-t,-e,-n)},xi.prototype.setOrthographic_w8lrqs$=function(t,e,n,i,o,r){return this.setOrthographic_15yvbs$(t,e,n,i,o,r)},xi.prototype.setOrthographic_15yvbs$=function(t,e,n,i,o,r){if(t===e)throw G("left == right");if(n===i)throw G("bottom == top");if(o===r)throw G("near == far");var s=1/(e-t),a=1/(i-n),l=1/(r-o),p=2*s,u=2*a,c=-2*l,_=-(e+t)*s,h=-(i+n)*a,d=-(r+o)*l;return this.matrix[this.offset+0|0]=p,this.matrix[this.offset+5|0]=u,this.matrix[this.offset+10|0]=c,this.matrix[this.offset+12|0]=_,this.matrix[this.offset+13|0]=h,this.matrix[this.offset+14|0]=d,this.matrix[this.offset+15|0]=1,this.matrix[this.offset+1|0]=0,this.matrix[this.offset+2|0]=0,this.matrix[this.offset+3|0]=0,this.matrix[this.offset+4|0]=0,this.matrix[this.offset+6|0]=0,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+8|0]=0,this.matrix[this.offset+9|0]=0,this.matrix[this.offset+11|0]=0,this},xi.prototype.setPerspective_7b5o5w$=function(t,e,n,i){return this.setPerspective_6y0v78$(t,e,n,i)},xi.prototype.setPerspective_6y0v78$=function(t,e,n,i){var o=t*(V.PI/360),r=1/R.tan(o),s=1/(n-i);return this.matrix[this.offset+0|0]=r/e,this.matrix[this.offset+1|0]=0,this.matrix[this.offset+2|0]=0,this.matrix[this.offset+3|0]=0,this.matrix[this.offset+4|0]=0,this.matrix[this.offset+5|0]=r,this.matrix[this.offset+6|0]=0,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+8|0]=0,this.matrix[this.offset+9|0]=0,this.matrix[this.offset+10|0]=(i+n)*s,this.matrix[this.offset+11|0]=-1,this.matrix[this.offset+12|0]=0,this.matrix[this.offset+13|0]=0,this.matrix[this.offset+14|0]=2*i*n*s,this.matrix[this.offset+15|0]=0,this},xi.prototype.get_za3lpa$=function(t){return this.matrix[this.offset+t|0]},xi.prototype.get_vux9f0$=function(t,e){return this.matrix[this.offset+(4*e|0)+t|0]},xi.prototype.set_5wr77w$=function(t,e){this.matrix[this.offset+t|0]=e},xi.prototype.set_224j3y$=function(t,e,n){this.matrix[this.offset+(4*e|0)+t|0]=n},xi.prototype.setRow_umtdzk$=function(t,e,n){this.set_224j3y$(t,0,e.x),this.set_224j3y$(t,1,e.y),this.set_224j3y$(t,2,e.z),this.set_224j3y$(t,3,n)},xi.prototype.setRow_ky00rh$=function(t,e){this.set_224j3y$(t,0,e.x),this.set_224j3y$(t,1,e.y),this.set_224j3y$(t,2,e.z),this.set_224j3y$(t,3,e.w)},xi.prototype.getRow_8irwu3$=function(t,e){return e.x=this.get_vux9f0$(t,0),e.y=this.get_vux9f0$(t,1),e.z=this.get_vux9f0$(t,2),e.w=this.get_vux9f0$(t,3),e},xi.prototype.setCol_umtdzk$=function(t,e,n){this.set_224j3y$(0,t,e.x),this.set_224j3y$(1,t,e.y),this.set_224j3y$(2,t,e.z),this.set_224j3y$(3,t,n)},xi.prototype.setCol_ky00rh$=function(t,e){this.set_224j3y$(0,t,e.x),this.set_224j3y$(1,t,e.y),this.set_224j3y$(2,t,e.z),this.set_224j3y$(3,t,e.w)},xi.prototype.getCol_8irwu3$=function(t,e){return e.x=this.get_vux9f0$(0,t),e.y=this.get_vux9f0$(1,t),e.z=this.get_vux9f0$(2,t),e.w=this.get_vux9f0$(3,t),e},xi.prototype.getOrigin_5s4mqs$=function(t){return t.x=this.get_vux9f0$(0,3),t.y=this.get_vux9f0$(1,3),t.z=this.get_vux9f0$(2,3),t},xi.prototype.getRotation_d4zu7e$=function(t){return t.set_n0b4r3$(0,0,this.get_vux9f0$(0,0)),t.set_n0b4r3$(0,1,this.get_vux9f0$(0,1)),t.set_n0b4r3$(0,2,this.get_vux9f0$(0,2)),t.set_n0b4r3$(1,0,this.get_vux9f0$(1,0)),t.set_n0b4r3$(1,1,this.get_vux9f0$(1,1)),t.set_n0b4r3$(1,2,this.get_vux9f0$(1,2)),t.set_n0b4r3$(2,0,this.get_vux9f0$(2,0)),t.set_n0b4r3$(2,1,this.get_vux9f0$(2,1)),t.set_n0b4r3$(2,2,this.get_vux9f0$(2,2)),t},xi.prototype.getRotationTransposed_d4zu7e$=function(t){return t.set_n0b4r3$(0,0,this.get_vux9f0$(0,0)),t.set_n0b4r3$(0,1,this.get_vux9f0$(1,0)),t.set_n0b4r3$(0,2,this.get_vux9f0$(2,0)),t.set_n0b4r3$(1,0,this.get_vux9f0$(0,1)),t.set_n0b4r3$(1,1,this.get_vux9f0$(1,1)),t.set_n0b4r3$(1,2,this.get_vux9f0$(2,1)),t.set_n0b4r3$(2,0,this.get_vux9f0$(0,2)),t.set_n0b4r3$(2,1,this.get_vux9f0$(1,2)),t.set_n0b4r3$(2,2,this.get_vux9f0$(2,2)),t},xi.prototype.getRotation_5s4mpx$=function(t){var e=this.get_vux9f0$(0,0)+this.get_vux9f0$(1,1)+this.get_vux9f0$(2,2);if(e>0){var n=e+1,i=R.sqrt(n);t.w=.5*i,i=.5/i,t.x=(this.get_vux9f0$(2,1)-this.get_vux9f0$(1,2))*i,t.y=(this.get_vux9f0$(0,2)-this.get_vux9f0$(2,0))*i,t.z=(this.get_vux9f0$(1,0)-this.get_vux9f0$(0,1))*i}else{var o=this.get_vux9f0$(0,0)<this.get_vux9f0$(1,1)?this.get_vux9f0$(1,1)<this.get_vux9f0$(2,2)?2:1:this.get_vux9f0$(0,0)<this.get_vux9f0$(2,2)?2:0,r=(o+1|0)%3,s=(o+2|0)%3,a=this.get_vux9f0$(o,o)-this.get_vux9f0$(r,r)-this.get_vux9f0$(s,s)+1,l=R.sqrt(a);t.set_5wr77w$(o,.5*l),l=.5/l,t.w=(this.get_vux9f0$(s,r)-this.get_vux9f0$(r,s))*l,t.set_5wr77w$(r,(this.get_vux9f0$(r,o)+this.get_vux9f0$(o,r))*l),t.set_5wr77w$(s,(this.get_vux9f0$(s,o)+this.get_vux9f0$(o,s))*l)}return t},xi.prototype.toBuffer_he122g$=function(t){for(var e=0;e<16;e++)t.put_mx4ult$(this.matrix[this.offset+e|0]);return t.flip(),t},xi.prototype.toList=function(){for(var t=E(),e=0;e<=15;e++){var n=this.matrix[this.offset+e|0];t.add_11rb$(n)}return t},xi.prototype.dump=function(){for(var t=0;t<=3;t++){for(var e=0;e<=3;e++)H(this.get_vux9f0$(t,e).toString()+" ");X()}},wi.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var zi=null;function Ci(){return null===zi&&new wi,zi}function Si(t){ji(),void 0===t&&(t=32),xi.call(this),this.stackSize=t,this.stackIndex_51r8af$_0=0,this.matrix=new Float64Array(16*this.stackSize|0),this.setIdentity()}function ki(){Li=this,this.DEFAULT_STACK_SIZE=32}xi.$metadata$={kind:$,simpleName:"Mat4d",interfaces:[]},ki.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Li=null;function ji(){return null===Li&&new ki,Li}function Ni(){Oi(),this.matrix_cl37xc$_0=new Float32Array(16),this.offset_ix8w3y$_0=0,this.setIdentity()}function Pi(){Ti=this,this.tmpMatLock_0=new W,this.tmpMatA_0=new Ni,this.tmpMatB_0=new Ni}Object.defineProperty(Si.prototype,"stackIndex",{configurable:!0,get:function(){return this.stackIndex_51r8af$_0},set:function(t){this.stackIndex_51r8af$_0=t,this.offset=16*t|0}}),Si.prototype.push=function(){if(this.stackIndex>=this.stackSize)throw _i("Matrix stack overflow");for(var t=0;t<=15;t++)this.matrix[this.offset+16+t|0]=this.matrix[this.offset+t|0];return this.stackIndex=this.stackIndex+1|0,this},Si.prototype.pop=function(){if(this.stackIndex<=0)throw _i("Matrix stack underflow");return this.stackIndex=this.stackIndex-1|0,this},Si.prototype.reset=function(){return this.stackIndex=0,this.setIdentity(),this},Si.$metadata$={kind:$,simpleName:"Mat4dStack",interfaces:[xi]},Object.defineProperty(Ni.prototype,"matrix",{configurable:!0,get:function(){return this.matrix_cl37xc$_0},set:function(t){this.matrix_cl37xc$_0=t}}),Object.defineProperty(Ni.prototype,"offset",{configurable:!0,get:function(){return this.offset_ix8w3y$_0},set:function(t){this.offset_ix8w3y$_0=t}}),Ni.prototype.translate_y2kzbl$=function(t,e,n){for(var i=0;i<=3;i++){var o=this.offset+i|0;this.matrix[12+o|0]=this.matrix[12+o|0]+(this.matrix[o]*t+this.matrix[4+o|0]*e+this.matrix[8+o|0]*n)}return this},Ni.prototype.translate_czzhiu$=function(t){return this.translate_y2kzbl$(t.x,t.y,t.z)},Ni.prototype.translate_g84k6w$=function(t,e,n,i){for(var o=0;o<=11;o++)i.matrix[i.offset+o|0]=this.matrix[this.offset+o|0];for(var r=0;r<=3;r++){var s=this.offset+r|0;i.matrix[i.offset+12+r|0]=this.matrix[s]*t+this.matrix[4+s|0]*e+this.matrix[8+s|0]*n+this.matrix[12+s|0]}return i},Ni.prototype.rotate_7b5o5w$=function(t,e,n,i){return Oi().tmpMatLock_0,Oi().tmpMatA_0.setRotate_7b5o5w$(t,e,n,i),this.set_d4zu6j$(this.mul_93v2ma$(Oi().tmpMatA_0,Oi().tmpMatB_0))},Ni.prototype.rotate_ad55pp$=function(t,e){return this.rotate_7b5o5w$(t,e.x,e.y,e.z)},Ni.prototype.rotate_y2kzbl$=function(t,e,n){return Oi().tmpMatLock_0,Oi().tmpMatA_0.setRotate_y2kzbl$(t,e,n),this.set_d4zu6j$(this.mul_93v2ma$(Oi().tmpMatA_0,Oi().tmpMatB_0))},Ni.prototype.rotate_c240mt$=function(t,e,n,i,o){return Oi().tmpMatLock_0,Oi().tmpMatA_0.setRotate_7b5o5w$(t,e,n,i),this.mul_93v2ma$(Oi().tmpMatA_0,o)},Ni.prototype.rotate_phvhhm$=function(t,e,n){return this.rotate_c240mt$(t,e.x,e.y,e.z,n)},Ni.prototype.rotate_g84k6w$=function(t,e,n,i){return i.set_d4zu6j$(this),i.rotate_y2kzbl$(t,e,n),i},Ni.prototype.rotate_d4zu7e$=function(t){return Oi().tmpMatLock_0,Oi().tmpMatA_0.setIdentity().setRotation_d4zu7e$(t),this.set_d4zu6j$(this.mul_93v2ma$(Oi().tmpMatA_0,Oi().tmpMatB_0)),a},Ni.prototype.scale_mx4ult$=function(t){return this.scale_y2kzbl$(t,t,t)},Ni.prototype.scale_y2kzbl$=function(t,e,n){for(var i=0;i<=3;i++){var o=this.offset+i|0;this.matrix[o]=this.matrix[o]*t,this.matrix[4+o|0]=this.matrix[4+o|0]*e,this.matrix[8+o|0]=this.matrix[8+o|0]*n}return this},Ni.prototype.scale_czzhiu$=function(t){return this.scale_y2kzbl$(t.x,t.y,t.z)},Ni.prototype.scale_g84k6w$=function(t,e,n,i){for(var o=0;o<=3;o++){var r=i.offset+o|0,s=this.offset+o|0;i.matrix[r]=this.matrix[s]*t,i.matrix[4+r|0]=this.matrix[4+s|0]*e,i.matrix[8+r|0]=this.matrix[8+s|0]*n,i.matrix[12+r|0]=this.matrix[12+s|0]}return i},Ni.prototype.resetScale=function(){var t=this.get_vux9f0$(0,0)*this.get_vux9f0$(0,0)+this.get_vux9f0$(1,0)*this.get_vux9f0$(1,0)+this.get_vux9f0$(2,0)*this.get_vux9f0$(2,0),e=1/R.sqrt(t),n=this.get_vux9f0$(0,1)*this.get_vux9f0$(0,1)+this.get_vux9f0$(1,1)*this.get_vux9f0$(1,1)+this.get_vux9f0$(2,1)*this.get_vux9f0$(2,1),i=1/R.sqrt(n),o=this.get_vux9f0$(0,2)*this.get_vux9f0$(0,2)+this.get_vux9f0$(1,2)*this.get_vux9f0$(1,2)+this.get_vux9f0$(2,2)*this.get_vux9f0$(2,2),r=1/R.sqrt(o);return this.scale_y2kzbl$(e,i,r),this},Ni.prototype.transpose=function(){return Oi().tmpMatLock_0,this.set_d4zu6j$(this.transpose_d4zu6j$(Oi().tmpMatA_0))},Ni.prototype.transpose_d4zu6j$=function(t){for(var e=0;e<=3;e++){var n=(4*e|0)+this.offset|0;t.matrix[e+t.offset|0]=this.matrix[n],t.matrix[e+4+t.offset|0]=this.matrix[n+1|0],t.matrix[e+8+t.offset|0]=this.matrix[n+2|0],t.matrix[e+12+t.offset|0]=this.matrix[n+3|0]}return t},Ni.prototype.invert_mx4ult$=function(t){void 0===t&&(t=0),Oi().tmpMatLock_0;var e=this.invert_8kv2li$(Oi().tmpMatA_0,t);return e&&this.set_d4zu6j$(Oi().tmpMatA_0),e},Ni.prototype.invert_8kv2li$=function(t,e){void 0===e&&(e=0);var n=this.matrix[this.offset+0|0],i=this.matrix[this.offset+1|0],o=this.matrix[this.offset+2|0],r=this.matrix[this.offset+3|0],s=this.matrix[this.offset+4|0],a=this.matrix[this.offset+5|0],l=this.matrix[this.offset+6|0],p=this.matrix[this.offset+7|0],u=this.matrix[this.offset+8|0],c=this.matrix[this.offset+9|0],_=this.matrix[this.offset+10|0],h=this.matrix[this.offset+11|0],d=this.matrix[this.offset+12|0],f=this.matrix[this.offset+13|0],m=this.matrix[this.offset+14|0],y=this.matrix[this.offset+15|0],$=_*y,b=m*h,g=l*y,v=m*p,x=l*h,w=_*p,z=o*y,C=m*r,S=o*h,k=_*r,L=o*p,j=l*r,N=$*a+v*c+x*f-(b*a+g*c+w*f),P=b*i+z*c+k*f-($*i+C*c+S*f),T=g*i+C*a+L*f-(v*i+z*a+j*f),O=w*i+S*a+j*c-(x*i+k*a+L*c),E=b*s+g*u+w*d-($*s+v*u+x*d),M=$*n+C*u+S*d-(b*n+z*u+k*d),I=v*n+z*s+j*d-(g*n+C*s+L*d),A=x*n+k*s+L*u-(w*n+S*s+j*u),D=u*f,B=d*c,F=s*f,q=d*a,U=s*c,V=u*a,W=n*f,G=d*i,H=n*c,X=u*i,K=n*a,Y=s*i,Z=D*p+q*h+U*y-(B*p+F*h+V*y),J=B*r+W*h+X*y-(D*r+G*h+H*y),Q=F*r+G*p+K*y-(q*r+W*p+Y*y),tt=V*r+H*p+Y*h-(U*r+X*p+K*h),et=F*_+V*m+B*l-(U*m+D*l+q*_),nt=H*m+D*o+G*_-(W*_+X*m+B*o),it=W*l+Y*m+q*o-(K*m+F*o+G*l),ot=K*_+U*o+X*l-(H*l+Y*_+V*o),rt=n*N+s*P+u*T+d*O;if(R.abs(rt)<=e)return!1;var st=1/rt;return t.matrix[t.offset]=N*st,t.matrix[1+t.offset|0]=P*st,t.matrix[2+t.offset|0]=T*st,t.matrix[3+t.offset|0]=O*st,t.matrix[4+t.offset|0]=E*st,t.matrix[5+t.offset|0]=M*st,t.matrix[6+t.offset|0]=I*st,t.matrix[7+t.offset|0]=A*st,t.matrix[8+t.offset|0]=Z*st,t.matrix[9+t.offset|0]=J*st,t.matrix[10+t.offset|0]=Q*st,t.matrix[11+t.offset|0]=tt*st,t.matrix[12+t.offset|0]=et*st,t.matrix[13+t.offset|0]=nt*st,t.matrix[14+t.offset|0]=it*st,t.matrix[15+t.offset|0]=ot*st,!0},Ni.prototype.transform_w1lst9$=function(t,e){void 0===e&&(e=1);var n=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+e*this.get_vux9f0$(0,3),i=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+e*this.get_vux9f0$(1,3),o=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+e*this.get_vux9f0$(2,3);return t.set_y2kzbl$(n,i,o)},Ni.prototype.transform_a6wx89$=function(t,e,n){return void 0===e&&(e=1),n.x=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+e*this.get_vux9f0$(0,3),n.y=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+e*this.get_vux9f0$(1,3),n.z=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+e*this.get_vux9f0$(2,3),n},Ni.prototype.transform_5s4mpv$=function(t){var e=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+t.w*this.get_vux9f0$(0,3),n=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+t.w*this.get_vux9f0$(1,3),i=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+t.w*this.get_vux9f0$(2,3),o=t.x*this.get_vux9f0$(3,0)+t.y*this.get_vux9f0$(3,1)+t.z*this.get_vux9f0$(3,2)+t.w*this.get_vux9f0$(3,3);return t.set_7b5o5w$(e,n,i,o)},Ni.prototype.transform_uzu8ww$=function(t,e){return e.x=t.x*this.get_vux9f0$(0,0)+t.y*this.get_vux9f0$(0,1)+t.z*this.get_vux9f0$(0,2)+t.w*this.get_vux9f0$(0,3),e.y=t.x*this.get_vux9f0$(1,0)+t.y*this.get_vux9f0$(1,1)+t.z*this.get_vux9f0$(1,2)+t.w*this.get_vux9f0$(1,3),e.z=t.x*this.get_vux9f0$(2,0)+t.y*this.get_vux9f0$(2,1)+t.z*this.get_vux9f0$(2,2)+t.w*this.get_vux9f0$(2,3),e.w=t.x*this.get_vux9f0$(3,0)+t.y*this.get_vux9f0$(3,1)+t.z*this.get_vux9f0$(3,2)+t.w*this.get_vux9f0$(3,3),e},Ni.prototype.add_d4zu6j$=function(t){for(var e=0;e<=15;e++)this.matrix[this.offset+e|0]=this.matrix[this.offset+e|0]+t.matrix[t.offset+e|0];return this},Ni.prototype.mul_d4zu6j$=function(t){return Oi().tmpMatLock_0,this.mul_93v2ma$(t,Oi().tmpMatA_0),this.set_d4zu6j$(Oi().tmpMatA_0)},Ni.prototype.mul_93v2ma$=function(t,e){for(var n=0;n<=3;n++)for(var i=0;i<=3;i++){for(var o=0,r=0;r<=3;r++)o+=this.matrix[this.offset+i+(4*r|0)|0]*t.matrix[t.offset+(4*n|0)+r|0];e.matrix[e.offset+(4*n|0)+i|0]=o}return e},Ni.prototype.set_d4zu6j$=function(t){for(var e=0;e<=15;e++)this.matrix[this.offset+e|0]=t.matrix[t.offset+e|0];return this},Ni.prototype.set_d4zu6l$=function(t){for(var e=0;e<=15;e++)this.matrix[this.offset+e|0]=t.matrix[t.offset+e|0];return this},Ni.prototype.set_hcyabg$=function(t){for(var e=0;e<=15;e++)this.matrix[this.offset+e|0]=t.get_za3lpa$(e);return this},Ni.prototype.setZero=function(){for(var t=0;t<=15;t++)this.matrix[this.offset+t|0]=0;return this},Ni.prototype.setIdentity=function(){for(var t=1;t<=15;t++)this.matrix[this.offset+t|0]=0;return this.matrix[this.offset]=1,this.matrix[this.offset+5|0]=1,this.matrix[this.offset+10|0]=1,this.matrix[this.offset+15|0]=1,this},Ni.prototype.setRotate_y2kzbl$=function(t,e,n){var i=t*Ij.DEG_2_RAD,o=e*Ij.DEG_2_RAD,r=n*Ij.DEG_2_RAD,s=R.cos(i),a=R.cos(o),l=R.cos(r),p=R.sin(i),u=R.sin(o),c=R.sin(r),_=s*l,h=s*c,d=p*l,f=p*c;return this.matrix[this.offset+0|0]=a*l,this.matrix[this.offset+4|0]=u*d-h,this.matrix[this.offset+8|0]=u*_+f,this.matrix[this.offset+12|0]=0,this.matrix[this.offset+1|0]=a*c,this.matrix[this.offset+5|0]=u*f+_,this.matrix[this.offset+9|0]=u*h-d,this.matrix[this.offset+13|0]=0,this.matrix[this.offset+2|0]=-u,this.matrix[this.offset+6|0]=a*p,this.matrix[this.offset+10|0]=a*s,this.matrix[this.offset+14|0]=0,this.matrix[this.offset+3|0]=0,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+11|0]=0,this.matrix[this.offset+15|0]=1,this},Ni.prototype.setRotate_7b5o5w$=function(t,e,n,i){var o=t*Ij.DEG_2_RAD,r=e,s=n,a=i;this.matrix[this.offset+3|0]=0,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+11|0]=0,this.matrix[this.offset+12|0]=0,this.matrix[this.offset+13|0]=0,this.matrix[this.offset+14|0]=0,this.matrix[this.offset+15|0]=1;var l=R.sin(o),p=R.cos(o);if(1===r&&0===s&&0===a)this.matrix[this.offset+5|0]=p,this.matrix[this.offset+10|0]=p,this.matrix[this.offset+6|0]=l,this.matrix[this.offset+9|0]=-l,this.matrix[this.offset+1|0]=0,this.matrix[this.offset+2|0]=0,this.matrix[this.offset+4|0]=0,this.matrix[this.offset+8|0]=0,this.matrix[this.offset+0|0]=1;else if(0===r&&1===s&&0===a)this.matrix[this.offset+0|0]=p,this.matrix[this.offset+10|0]=p,this.matrix[this.offset+8|0]=l,this.matrix[this.offset+2|0]=-l,this.matrix[this.offset+1|0]=0,this.matrix[this.offset+4|0]=0,this.matrix[this.offset+6|0]=0,this.matrix[this.offset+9|0]=0,this.matrix[this.offset+5|0]=1;else if(0===r&&0===s&&1===a)this.matrix[this.offset+0|0]=p,this.matrix[this.offset+5|0]=p,this.matrix[this.offset+1|0]=l,this.matrix[this.offset+4|0]=-l,this.matrix[this.offset+2|0]=0,this.matrix[this.offset+6|0]=0,this.matrix[this.offset+8|0]=0,this.matrix[this.offset+9|0]=0,this.matrix[this.offset+10|0]=1;else{var u,c=r*r+s*s+a*a,_=R.sqrt(c);u=Ij.FUZZY_EQ_F;var h=_-1;if(!(R.abs(h)<=u)){var d=1/_;r*=d,s*=d,a*=d}var f=1-p,m=r*s,y=s*a,$=a*r,b=r*l,g=s*l,v=a*l;this.matrix[this.offset+0|0]=r*r*f+p,this.matrix[this.offset+4|0]=m*f-v,this.matrix[this.offset+8|0]=$*f+g,this.matrix[this.offset+1|0]=m*f+v,this.matrix[this.offset+5|0]=s*s*f+p,this.matrix[this.offset+9|0]=y*f-b,this.matrix[this.offset+2|0]=$*f-g,this.matrix[this.offset+6|0]=y*f+b,this.matrix[this.offset+10|0]=a*a*f+p}return this},Ni.prototype.setRotate_czzhhz$=function(t){var e=t.w,n=t.x,i=t.y,o=t.z,r=e*e+n*n+i*i+o*o,s=R.sqrt(r);return s=1/(s*s),this.set_n0b4r3$(0,0,1-2*s*(i*i+o*o)),this.set_n0b4r3$(0,1,2*s*(n*i-o*e)),this.set_n0b4r3$(0,2,2*s*(n*o+i*e)),this.set_n0b4r3$(0,3,0),this.set_n0b4r3$(1,0,2*s*(n*i+o*e)),this.set_n0b4r3$(1,1,1-2*s*(n*n+o*o)),this.set_n0b4r3$(1,2,2*s*(i*o-n*e)),this.set_n0b4r3$(1,3,0),this.set_n0b4r3$(2,0,2*s*(n*o-i*e)),this.set_n0b4r3$(2,1,2*s*(i*o+n*e)),this.set_n0b4r3$(2,2,1-2*s*(n*n+i*i)),this.set_n0b4r3$(2,3,0),this.set_n0b4r3$(3,0,0),this.set_n0b4r3$(3,1,0),this.set_n0b4r3$(3,2,0),this.set_n0b4r3$(3,3,1),this},Ni.prototype.setRotation_d4zu7e$=function(t){for(var e=0;e<=2;e++)for(var n=0;n<=2;n++)this.set_n0b4r3$(e,n,t.get_vux9f0$(e,n));var i=this.get_vux9f0$(0,0)*this.get_vux9f0$(0,0)+this.get_vux9f0$(1,0)*this.get_vux9f0$(1,0)+this.get_vux9f0$(2,0)*this.get_vux9f0$(2,0)+this.get_vux9f0$(3,0)*this.get_vux9f0$(3,0),o=1/R.sqrt(i);this.scale_y2kzbl$(o,o,o)},Ni.prototype.setRotation_d4zu6j$=function(t){for(var e=0;e<=2;e++)for(var n=0;n<=2;n++)this.set_n0b4r3$(e,n,t.get_vux9f0$(e,n));var i=this.get_vux9f0$(0,0)*this.get_vux9f0$(0,0)+this.get_vux9f0$(1,0)*this.get_vux9f0$(1,0)+this.get_vux9f0$(2,0)*this.get_vux9f0$(2,0)+this.get_vux9f0$(3,0)*this.get_vux9f0$(3,0),o=1/R.sqrt(i);this.scale_y2kzbl$(o,o,o)},Ni.prototype.setLookAt_n440fu$=function(t,e,n){var i=e.x-t.x,o=e.y-t.y,r=e.z-t.z,s=i*i+o*o+r*r,a=1/R.sqrt(s);i*=a,r*=a;var l=(o*=a)*n.z-r*n.y,p=r*n.x-i*n.z,u=i*n.y-o*n.x,c=l*l+p*p+u*u,_=1/R.sqrt(c),h=(p*=_)*r-(u*=_)*o,d=u*i-(l*=_)*r,f=l*o-p*i;return this.matrix[this.offset+0|0]=l,this.matrix[this.offset+1|0]=h,this.matrix[this.offset+2|0]=-i,this.matrix[this.offset+3|0]=0,this.matrix[this.offset+4|0]=p,this.matrix[this.offset+5|0]=d,this.matrix[this.offset+6|0]=-o,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+8|0]=u,this.matrix[this.offset+9|0]=f,this.matrix[this.offset+10|0]=-r,this.matrix[this.offset+11|0]=0,this.matrix[this.offset+12|0]=0,this.matrix[this.offset+13|0]=0,this.matrix[this.offset+14|0]=0,this.matrix[this.offset+15|0]=1,this.translate_y2kzbl$(-t.x,-t.y,-t.z)},Ni.prototype.setOrthographic_w8lrqs$=function(t,e,n,i,o,r){if(t===e)throw G("left == right");if(n===i)throw G("bottom == top");if(o===r)throw G("near == far");var s=1/(e-t),a=1/(i-n),l=1/(r-o),p=2*s,u=2*a,c=-2*l,_=-(e+t)*s,h=-(i+n)*a,d=-(r+o)*l;return this.matrix[this.offset+0|0]=p,this.matrix[this.offset+5|0]=u,this.matrix[this.offset+10|0]=c,this.matrix[this.offset+12|0]=_,this.matrix[this.offset+13|0]=h,this.matrix[this.offset+14|0]=d,this.matrix[this.offset+15|0]=1,this.matrix[this.offset+1|0]=0,this.matrix[this.offset+2|0]=0,this.matrix[this.offset+3|0]=0,this.matrix[this.offset+4|0]=0,this.matrix[this.offset+6|0]=0,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+8|0]=0,this.matrix[this.offset+9|0]=0,this.matrix[this.offset+11|0]=0,this},Ni.prototype.setPerspective_7b5o5w$=function(t,e,n,i){var o=t*(V.PI/360),r=1/R.tan(o),s=1/(n-i);return this.matrix[this.offset+0|0]=r/e,this.matrix[this.offset+1|0]=0,this.matrix[this.offset+2|0]=0,this.matrix[this.offset+3|0]=0,this.matrix[this.offset+4|0]=0,this.matrix[this.offset+5|0]=r,this.matrix[this.offset+6|0]=0,this.matrix[this.offset+7|0]=0,this.matrix[this.offset+8|0]=0,this.matrix[this.offset+9|0]=0,this.matrix[this.offset+10|0]=(i+n)*s,this.matrix[this.offset+11|0]=-1,this.matrix[this.offset+12|0]=0,this.matrix[this.offset+13|0]=0,this.matrix[this.offset+14|0]=2*i*n*s,this.matrix[this.offset+15|0]=0,this},Ni.prototype.get_za3lpa$=function(t){return this.matrix[this.offset+t|0]},Ni.prototype.get_vux9f0$=function(t,e){return this.matrix[this.offset+(4*e|0)+t|0]},Ni.prototype.set_24o109$=function(t,e){this.matrix[this.offset+t|0]=e},Ni.prototype.set_n0b4r3$=function(t,e,n){this.matrix[this.offset+(4*e|0)+t|0]=n},Ni.prototype.setRow_gdg6t7$=function(t,e,n){this.set_n0b4r3$(t,0,e.x),this.set_n0b4r3$(t,1,e.y),this.set_n0b4r3$(t,2,e.z),this.set_n0b4r3$(t,3,n)},Ni.prototype.setRow_ky00rj$=function(t,e){this.set_n0b4r3$(t,0,e.x),this.set_n0b4r3$(t,1,e.y),this.set_n0b4r3$(t,2,e.z),this.set_n0b4r3$(t,3,e.w)},Ni.prototype.getRow_8irwu1$=function(t,e){return e.x=this.get_vux9f0$(t,0),e.y=this.get_vux9f0$(t,1),e.z=this.get_vux9f0$(t,2),e.w=this.get_vux9f0$(t,3),e},Ni.prototype.setCol_gdg6t7$=function(t,e,n){this.set_n0b4r3$(0,t,e.x),this.set_n0b4r3$(1,t,e.y),this.set_n0b4r3$(2,t,e.z),this.set_n0b4r3$(3,t,n)},Ni.prototype.setCol_ky00rj$=function(t,e){this.set_n0b4r3$(0,t,e.x),this.set_n0b4r3$(1,t,e.y),this.set_n0b4r3$(2,t,e.z),this.set_n0b4r3$(3,t,e.w)},Ni.prototype.getCol_8irwu1$=function(t,e){return e.x=this.get_vux9f0$(0,t),e.y=this.get_vux9f0$(1,t),e.z=this.get_vux9f0$(2,t),e.w=this.get_vux9f0$(3,t),e},Ni.prototype.getOrigin_5s4mqq$=function(t){return t.x=this.get_vux9f0$(0,3),t.y=this.get_vux9f0$(1,3),t.z=this.get_vux9f0$(2,3),t},Ni.prototype.getRotation_d4zu7e$=function(t){return t.set_n0b4r3$(0,0,this.get_vux9f0$(0,0)),t.set_n0b4r3$(0,1,this.get_vux9f0$(0,1)),t.set_n0b4r3$(0,2,this.get_vux9f0$(0,2)),t.set_n0b4r3$(1,0,this.get_vux9f0$(1,0)),t.set_n0b4r3$(1,1,this.get_vux9f0$(1,1)),t.set_n0b4r3$(1,2,this.get_vux9f0$(1,2)),t.set_n0b4r3$(2,0,this.get_vux9f0$(2,0)),t.set_n0b4r3$(2,1,this.get_vux9f0$(2,1)),t.set_n0b4r3$(2,2,this.get_vux9f0$(2,2)),t},Ni.prototype.getRotationTransposed_d4zu7e$=function(t){return t.set_n0b4r3$(0,0,this.get_vux9f0$(0,0)),t.set_n0b4r3$(0,1,this.get_vux9f0$(1,0)),t.set_n0b4r3$(0,2,this.get_vux9f0$(2,0)),t.set_n0b4r3$(1,0,this.get_vux9f0$(0,1)),t.set_n0b4r3$(1,1,this.get_vux9f0$(1,1)),t.set_n0b4r3$(1,2,this.get_vux9f0$(2,1)),t.set_n0b4r3$(2,0,this.get_vux9f0$(0,2)),t.set_n0b4r3$(2,1,this.get_vux9f0$(1,2)),t.set_n0b4r3$(2,2,this.get_vux9f0$(2,2)),t},Ni.prototype.getRotation_5s4mpv$=function(t){var e=this.get_vux9f0$(0,0)+this.get_vux9f0$(1,1)+this.get_vux9f0$(2,2);if(e>0){var n=e+1,i=R.sqrt(n);t.w=.5*i,i=.5/i,t.x=(this.get_vux9f0$(2,1)-this.get_vux9f0$(1,2))*i,t.y=(this.get_vux9f0$(0,2)-this.get_vux9f0$(2,0))*i,t.z=(this.get_vux9f0$(1,0)-this.get_vux9f0$(0,1))*i}else{var o=this.get_vux9f0$(0,0)<this.get_vux9f0$(1,1)?this.get_vux9f0$(1,1)<this.get_vux9f0$(2,2)?2:1:this.get_vux9f0$(0,0)<this.get_vux9f0$(2,2)?2:0,r=(o+1|0)%3,s=(o+2|0)%3,a=this.get_vux9f0$(o,o)-this.get_vux9f0$(r,r)-this.get_vux9f0$(s,s)+1,l=R.sqrt(a);t.set_24o109$(o,.5*l),l=.5/l,t.w=(this.get_vux9f0$(s,r)-this.get_vux9f0$(r,s))*l,t.set_24o109$(r,(this.get_vux9f0$(r,o)+this.get_vux9f0$(o,r))*l),t.set_24o109$(s,(this.get_vux9f0$(s,o)+this.get_vux9f0$(o,s))*l)}return t},Ni.prototype.toBuffer_he122g$=function(t){return t.put_kgymra$(this.matrix,this.offset,16),t.flip(),t},Ni.prototype.toList=function(){for(var t=E(),e=0;e<=15;e++){var n=this.matrix[this.offset+e|0];t.add_11rb$(n)}return t},Ni.prototype.dump=function(){for(var t=0;t<=3;t++){for(var e=0;e<=3;e++)H(this.get_vux9f0$(t,e).toString()+" ");X()}},Pi.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Ti=null;function Oi(){return null===Ti&&new Pi,Ti}function Ei(t){Ui(),void 0===t&&(t=32),Ni.call(this),this.stackSize=t,this.stackIndex_rxi7m3$_0=0,this.matrix=new Float32Array(16*this.stackSize|0),this.setIdentity()}function Mi(){qi=this,this.DEFAULT_STACK_SIZE=32}Ni.$metadata$={kind:$,simpleName:"Mat4f",interfaces:[]},Mi.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Ri,Ii,Ai,Di,Bi,Fi,qi=null;function Ui(){return null===qi&&new Mi,qi}function Vi(t,e){var n=R.max(t,e),i=R.log2(n);return U(R.floor(i))+1|0}function Wi(t,e,n){var i=e.x-t.x,o=e.y-t.y,r=e.z-t.z,s=n.x-t.x,a=n.y-t.y,l=n.z-t.z,p=i*s+o*a+r*l,u=(i*i+o*o+r*r)*(s*s+a*a+l*l)-p*p;return.5*R.sqrt(u)}function Gi(t,e,n){var i=t.distance_czzhiu$(e),o=e.distance_czzhiu$(n),r=n.distance_czzhiu$(t),s=(i+o+r)/2,a=i*o*r/(8*(s-i)*(s-o)*(s-r));return R.abs(a)}function Hi(t,e){return t.get_za3lpa$(e)}function Xi(t,e,n){var i=t.get_za3lpa$(n);return t.set_wxm5ur$(n,t.get_za3lpa$(e)),t.set_wxm5ur$(e,i),a}function Ki(t,e,n,i){Yi(t,e.first,e.last,n,Hi,i,Xi)}function Yi(t,e,n,i,o,r,s){for(var a=e,l=n;l>a;){if((l-a|0)>600){var p=l-a+1|0,u=i-a+1|0,c=R.log(p),_=2*c/3,h=.5*R.exp(_),d=c*h*(p-h)/p,f=u-p/2,m=.5*R.sqrt(d)*R.sign(f),y=a,$=U(i-u*h/p+m),b=R.max(y,$),g=l,v=U(i+(p-u|0)*h/p+m);Yi(t,b,R.min(g,v),i,o,r,s)}var x=o(t,i),w=a,z=l;for(s(t,a,i),r(o(t,l),x)>0&&s(t,l,a);w<z;){for(s(t,w,z),w=w+1|0,z=z-1|0;r(o(t,w),x)<0;)w=w+1|0;for(;z>=0&&r(o(t,z),x)>0;)z=z-1|0}0===r(o(t,a),x)?s(t,a,z):s(t,z=z+1|0,l),z<=i&&(a=z+1|0),i<=z&&(l=z-1|0)}}function Zi(){this.p=Mo(),this.n=Ro(Po().Y_AXIS)}function Ji(t,e,n){var i=Qi(t,e,n);return R.sqrt(i)}function Qi(t,e,n){return to(t.x,t.y,t.z,e,n)}function to(t,e,n,i,o){var r,s,a,l=(t*o.x+e*o.y+n*o.z-i.times_czzhiu$(o))/o.times_czzhiu$(o);return l<=0?(r=i.x-t,s=i.y-e,a=i.z-n):(r=o.x*l+i.x-t,s=o.y*l+i.y-e,a=o.z*l+i.z-n),r*r+s*s+a*a}function eo(){}function no(t){this.x_i5bv4$_0=t,this.y_i5bu9$_0=362436e3,this.z_i5bte$_0=521288629,this.c_i5cd7$_0=7654321}function io(){this.origin=Mo(),this.direction=Mo()}function oo(){this.ray=new io,this.intHitPosition_0=Mo(),this.intHitPositionLocal_0=Mo(),this.hitNode_s1zft8$_0=null,this.hitDistanceSqr_fy7zgf$_0=st.MAX_VALUE}function ro(t,e){lo(),this.fields=new Float32Array(2),this.fields[0]=t,this.fields[1]=e}function so(){ao=this,this.ZERO=po(0),this.X_AXIS=new ro(1,0),this.Y_AXIS=new ro(0,1),this.NEG_X_AXIS=new ro(-1,0),this.NEG_Y_AXIS=new ro(0,-1)}Object.defineProperty(Ei.prototype,"stackIndex",{configurable:!0,get:function(){return this.stackIndex_rxi7m3$_0},set:function(t){this.stackIndex_rxi7m3$_0=t,this.offset=16*t|0}}),Ei.prototype.push=function(){if(this.stackIndex>=this.stackSize)throw _i("Matrix stack overflow");for(var t=0;t<=15;t++)this.matrix[this.offset+16+t|0]=this.matrix[this.offset+t|0];return this.stackIndex=this.stackIndex+1|0,this},Ei.prototype.pop=function(){if(this.stackIndex<=0)throw _i("Matrix stack underflow");return this.stackIndex=this.stackIndex-1|0,this},Ei.prototype.reset=function(){return this.stackIndex=0,this.setIdentity(),this},Ei.$metadata$={kind:$,simpleName:"Mat4fStack",interfaces:[Ni]},Zi.prototype.intersectionPoint_lplggz$=function(t,e){var n,i=this.n.dot_czzhiu$(t.direction);if(n=Ij.FUZZY_EQ_F,!(R.abs(i)<=n)){var o=this.p.subtract_2gj7b4$(t.origin,e).dot_czzhiu$(this.n)/i;return e.set_czzhiu$(t.direction).scale_mx4ult$(o).add_czzhiu$(t.origin),o>=0}return!1},Zi.prototype.distance_czzhiu$=function(t){return this.n.times_czzhiu$(t)-this.n.times_czzhiu$(this.p)},Zi.prototype.toVec4=function(){return this.toVec4_5s4mpv$(or())},Zi.prototype.toVec4_5s4mpv$=function(t){return t.x=this.n.x,t.y=this.n.y,t.z=this.n.z,t.w=this.n.times_czzhiu$(this.p),t},Zi.$metadata$={kind:$,simpleName:"Plane",interfaces:[]},eo.prototype.nextPoints_za3lpa$=function(t){for(var e=E(),n=1;n<=t;n++){var i=this.nextPoint();e.add_11rb$(i)}return e},eo.$metadata$={kind:$,simpleName:"PointDistribution",interfaces:[]},no.prototype.randomI=function(){this.x_i5bv4$_0=12345+(69069*this.x_i5bv4$_0|0)|0,this.y_i5bu9$_0=this.y_i5bu9$_0^this.y_i5bu9$_0<<13,this.y_i5bu9$_0=this.y_i5bu9$_0^this.y_i5bu9$_0>>17,this.y_i5bu9$_0=this.y_i5bu9$_0^this.y_i5bu9$_0<<5;var t=nt.multiply(e.Long.fromInt(this.z_i5bte$_0)).add(e.Long.fromInt(this.c_i5cd7$_0));return this.c_i5cd7$_0=t.shiftRight(32).toInt(),this.z_i5bte$_0=t.toInt(),this.x_i5bv4$_0+this.y_i5bu9$_0+this.z_i5bte$_0|0},no.prototype.randomI_vux9f0$=function(t,e){return it(this.randomI())%(e-t+1|0)+t|0},no.prototype.randomI_n8acyv$=function(t){return this.randomI_vux9f0$(t.first,t.last)},no.prototype.randomF=function(){return it(this.randomI())/2147483647},no.prototype.randomF_dleff0$=function(t,e){return this.randomF()*(e-t)+t},no.prototype.randomD=function(){var t=ot(e.Long.fromInt(this.randomI())).shiftLeft(32).or(ot(e.Long.fromInt(this.randomI())));return ot(t).toNumber()/rt.toNumber()},no.prototype.randomD_lu1900$=function(t,e){return this.randomD()*(e-t)+t},no.$metadata$={kind:$,simpleName:"Random",interfaces:[]},io.prototype.set_nvyeur$=function(t){this.origin.set_czzhiu$(t.origin),this.direction.set_czzhiu$(t.direction)},io.prototype.setFromLookAt_4lfkt4$=function(t,e){this.origin.set_czzhiu$(t),this.direction.set_czzhiu$(e).subtract_czzhiu$(t).norm()},io.prototype.distanceToPoint_czzhiu$=function(t){return Ji(t,this.origin,this.direction)},io.prototype.sqrDistanceToPoint_czzhiu$=function(t){return Qi(t,this.origin,this.direction)},io.prototype.sqrDistanceToPoint_y2kzbl$=function(t,e,n){return to(t,e,n,this.origin,this.direction)},io.prototype.transformBy_d4zu6j$=function(t){t.transform_w1lst9$(this.origin),t.transform_w1lst9$(this.direction,0).norm()},io.prototype.transformBy_d4zu6l$=function(t){t.transform_w1lst9$(this.origin),t.transform_w1lst9$(this.direction,0).norm()},io.prototype.toString=function(){return"{origin="+this.origin+", direction="+this.direction+"}"},io.$metadata$={kind:$,simpleName:"Ray",interfaces:[]},Object.defineProperty(oo.prototype,"hitPosition",{configurable:!0,get:function(){return this.intHitPosition_0}}),Object.defineProperty(oo.prototype,"hitPositionLocal",{configurable:!0,get:function(){return this.intHitPositionLocal_0}}),Object.defineProperty(oo.prototype,"hitNode",{configurable:!0,get:function(){return this.hitNode_s1zft8$_0},set:function(t){this.hitNode_s1zft8$_0=t}}),Object.defineProperty(oo.prototype,"hitDistanceSqr",{configurable:!0,get:function(){return this.hitDistanceSqr_fy7zgf$_0},set:function(t){this.hitDistanceSqr_fy7zgf$_0=t}}),Object.defineProperty(oo.prototype,"isHit",{configurable:!0,get:function(){return this.hitDistanceSqr<st.MAX_VALUE}}),oo.prototype.clear=function(){this.intHitPosition_0.set_czzhiu$(Po().ZERO),this.intHitPositionLocal_0.set_czzhiu$(Po().ZERO),this.hitNode=null,this.hitDistanceSqr=st.MAX_VALUE},oo.prototype.setHit_vfk0k2$=function(t,e){this.intHitPosition_0.set_czzhiu$(this.ray.direction).scale_mx4ult$(e).add_czzhiu$(this.ray.origin),this.setHit_ulhqnp$(t,this.intHitPosition_0)},oo.prototype.setHit_ulhqnp$=function(t,e){this.intHitPosition_0.set_czzhiu$(e),this.intHitPositionLocal_0.set_czzhiu$(e),this.hitNode=t,this.hitDistanceSqr=this.hitPosition.sqrDistance_czzhiu$(this.ray.origin)},oo.prototype.transformBy_d4zu6j$=function(t){this.ray.transformBy_d4zu6j$(t),this.isHit&&(t.transform_w1lst9$(this.intHitPosition_0),this.hitDistanceSqr=this.hitPosition.sqrDistance_czzhiu$(this.ray.origin))},oo.prototype.transformBy_d4zu6l$=function(t){this.ray.transformBy_d4zu6l$(t),this.isHit&&(t.transform_w1lst9$(this.intHitPosition_0),this.hitDistanceSqr=this.hitPosition.sqrDistance_czzhiu$(this.ray.origin))},oo.$metadata$={kind:$,simpleName:"RayTest",interfaces:[]},Object.defineProperty(ro.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(ro.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),ro.prototype.add_q2ruao$=function(t,e){return e.set_czzhjp$(this).add_czzhjp$(t)},ro.prototype.distance_czzhjp$=function(t){var e=this.sqrDistance_czzhjp$(t);return R.sqrt(e)},ro.prototype.dot_czzhjp$=function(t){return this.x*t.x+this.y*t.y},ro.prototype.isFuzzyEqual_rnua8g$=function(t,e){void 0===e&&(e=Ai);var n=this.x-t.x,i=R.abs(n)<=e;if(i){var o=this.y-t.y;i=R.abs(o)<=e}return i},ro.prototype.length=function(){var t=this.sqrLength();return R.sqrt(t)},ro.prototype.mix_5uckat$=function(t,e,n){return n.x=t.x*e+this.x*(1-e),n.y=t.y*e+this.y*(1-e),n},ro.prototype.mul_q2ruao$=function(t,e){return e.set_czzhjp$(this).mul_czzhjp$(t)},ro.prototype.norm_5s4mrl$=function(t){return t.set_czzhjp$(this).norm()},ro.prototype.rotate_749b9g$=function(t,e){return e.set_czzhjp$(this).rotate_mx4ult$(t)},ro.prototype.scale_749b9g$=function(t,e){return e.set_czzhjp$(this).scale_mx4ult$(t)},ro.prototype.sqrDistance_czzhjp$=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},ro.prototype.sqrLength=function(){return this.x*this.x+this.y*this.y},ro.prototype.subtract_q2ruao$=function(t,e){return e.set_czzhjp$(this).subtract_czzhjp$(t)},ro.prototype.get_za3lpa$=function(t){return this.fields[t]},ro.prototype.times_czzhjp$=function(t){return this.dot_czzhjp$(t)},ro.prototype.toString=function(){return"("+this.x+", "+this.y+")"},ro.prototype.toVec2d=function(){return new ho(this.x,this.y)},ro.prototype.toMutableVec2d=function(){return this.toMutableVec2d_5s4mrn$(go())},ro.prototype.toMutableVec2d_5s4mrn$=function(t){return t.set_lu1900$(this.x,this.y)},ro.prototype.equals=function(t){return this===t||!!e.isType(t,ro)&&this.x===t.x&&this.y===t.y},ro.prototype.hashCode=function(){var t=at(this.x);return t=(31*t|0)+at(this.y)|0},so.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var ao=null;function lo(){return null===ao&&new so,ao}function po(t,e){return e=e||Object.create(ro.prototype),ro.call(e,t,t),e}function uo(t,e){ro.call(this,t,e)}function co(t){return t=t||Object.create(uo.prototype),uo.call(t,0,0),t}function _o(t,e){return e=e||Object.create(uo.prototype),uo.call(e,t.x,t.y),e}function ho(t,e){yo(),this.fields=new Float64Array(2),this.fields[0]=t,this.fields[1]=e}function fo(){mo=this,this.ZERO=$o(0),this.X_AXIS=new ho(1,0),this.Y_AXIS=new ho(0,1),this.NEG_X_AXIS=new ho(-1,0),this.NEG_Y_AXIS=new ho(0,-1)}ro.$metadata$={kind:$,simpleName:"Vec2f",interfaces:[]},Object.defineProperty(uo.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.set_24o109$(0,t)}}),Object.defineProperty(uo.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.set_24o109$(1,t)}}),Object.defineProperty(uo.prototype,"array",{configurable:!0,get:function(){return this.fields}}),uo.prototype.add_czzhjp$=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this},uo.prototype.mul_czzhjp$=function(t){return this.x=this.x*t.x,this.y=this.y*t.y,this},uo.prototype.norm=function(){return this.scale_mx4ult$(1/this.length())},uo.prototype.rotate_mx4ult$=function(t){var e=t*Ij.DEG_2_RAD,n=R.cos(e),i=R.sin(e),o=this.x*n-this.y*i,r=this.x*i+this.y*n;return this.x=o,this.y=r,this},uo.prototype.scale_mx4ult$=function(t){return this.x=this.x*t,this.y=this.y*t,this},uo.prototype.set_dleff0$=function(t,e){return this.x=t,this.y=e,this},uo.prototype.set_czzhjp$=function(t){return this.x=t.x,this.y=t.y,this},uo.prototype.subtract_czzhjp$=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this},uo.prototype.divAssign_mx4ult$=function(t){this.scale_mx4ult$(1/t)},uo.prototype.minusAssign_czzhjp$=function(t){this.subtract_czzhjp$(t)},uo.prototype.plusAssign_czzhjp$=function(t){this.add_czzhjp$(t)},uo.prototype.set_24o109$=function(t,e){this.fields[t]=e},uo.prototype.timesAssign_mx4ult$=function(t){this.scale_mx4ult$(t)},uo.$metadata$={kind:$,simpleName:"MutableVec2f",interfaces:[ro]},Object.defineProperty(ho.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(ho.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),ho.prototype.add_b18iao$=function(t,e){return e.set_czzhjr$(this).add_czzhjr$(t)},ho.prototype.distance_czzhjr$=function(t){var e=this.sqrDistance_czzhjr$(t);return R.sqrt(e)},ho.prototype.dot_czzhjr$=function(t){return this.x*t.x+this.y*t.y},ho.prototype.isFuzzyEqual_f3xr3v$=function(t,e){void 0===e&&(e=Di);var n=this.x-t.x,i=R.abs(n)<=e;if(i){var o=this.y-t.y;i=R.abs(o)<=e}return i},ho.prototype.length=function(){var t=this.sqrLength();return R.sqrt(t)},ho.prototype.mix_3jrcj6$=function(t,e,n){return n.x=t.x*e+this.x*(1-e),n.y=t.y*e+this.y*(1-e),n},ho.prototype.mul_b18iao$=function(t,e){return e.set_czzhjr$(this).mul_czzhjr$(t)},ho.prototype.norm_5s4mrn$=function(t){return t.set_czzhjr$(this).norm()},ho.prototype.rotate_b0flcl$=function(t,e){return e.set_czzhjr$(this).rotate_14dthe$(t)},ho.prototype.scale_b0flcl$=function(t,e){return e.set_czzhjr$(this).scale_14dthe$(t)},ho.prototype.sqrDistance_czzhjr$=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},ho.prototype.sqrLength=function(){return this.x*this.x+this.y*this.y},ho.prototype.subtract_b18iao$=function(t,e){return e.set_czzhjr$(this).subtract_czzhjr$(t)},ho.prototype.get_za3lpa$=function(t){return this.fields[t]},ho.prototype.times_czzhjr$=function(t){return this.dot_czzhjr$(t)},ho.prototype.toString=function(){return"("+this.x+", "+this.y+")"},ho.prototype.toVec2f=function(){return new ro(this.x,this.y)},ho.prototype.toMutableVec2f=function(){return this.toMutableVec2f_5s4mrl$(co())},ho.prototype.toMutableVec2f_5s4mrl$=function(t){return t.set_dleff0$(this.x,this.y)},ho.prototype.equals=function(t){return this===t||!!e.isType(t,ho)&&this.x===t.x&&this.y===t.y},ho.prototype.hashCode=function(){var t=at(this.x);return t=(31*t|0)+at(this.y)|0},fo.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var mo=null;function yo(){return null===mo&&new fo,mo}function $o(t,e){return e=e||Object.create(ho.prototype),ho.call(e,t,t),e}function bo(t,e){ho.call(this,t,e)}function go(t){return t=t||Object.create(bo.prototype),bo.call(t,0,0),t}function vo(t,e){zo(),this.fields=new Int32Array(2),this.fields[0]=t,this.fields[1]=e}function xo(){wo=this,this.ZERO=Co(0),this.X_AXIS=new vo(1,0),this.Y_AXIS=new vo(0,1),this.NEG_X_AXIS=new vo(-1,0),this.NEG_Y_AXIS=new vo(0,-1)}ho.$metadata$={kind:$,simpleName:"Vec2d",interfaces:[]},Object.defineProperty(bo.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.set_5wr77w$(0,t)}}),Object.defineProperty(bo.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.set_5wr77w$(1,t)}}),bo.prototype.add_czzhjr$=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this},bo.prototype.mul_czzhjr$=function(t){return this.x=this.x*t.x,this.y=this.y*t.y,this},bo.prototype.norm=function(){return this.scale_14dthe$(1/this.length())},bo.prototype.rotate_14dthe$=function(t){var e=t*Ij.DEG_2_RAD,n=R.cos(e),i=R.sin(e),o=this.x*n-this.y*i,r=this.x*i+this.y*n;return this.x=o,this.y=r,this},bo.prototype.scale_14dthe$=function(t){return this.x=this.x*t,this.y=this.y*t,this},bo.prototype.set_lu1900$=function(t,e){return this.x=t,this.y=e,this},bo.prototype.set_czzhjr$=function(t){return this.x=t.x,this.y=t.y,this},bo.prototype.subtract_czzhjr$=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this},bo.prototype.divAssign_14dthe$=function(t){this.scale_14dthe$(1/t)},bo.prototype.minusAssign_czzhjr$=function(t){this.subtract_czzhjr$(t)},bo.prototype.plusAssign_czzhjr$=function(t){this.add_czzhjr$(t)},bo.prototype.set_5wr77w$=function(t,e){this.fields[t]=e},bo.prototype.timesAssign_14dthe$=function(t){this.scale_14dthe$(t)},bo.$metadata$={kind:$,simpleName:"MutableVec2d",interfaces:[ho]},Object.defineProperty(vo.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(vo.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),vo.prototype.get_za3lpa$=function(t){return this.fields[t]},vo.prototype.toString=function(){return"("+this.x+", "+this.y+")"},vo.prototype.equals=function(t){return this===t||!!e.isType(t,_r)&&this.x===t.x&&this.y===t.y},vo.prototype.hashCode=function(){var t=at(this.x);return t=(31*t|0)+at(this.y)|0},xo.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var wo=null;function zo(){return null===wo&&new xo,wo}function Co(t,e){return e=e||Object.create(vo.prototype),vo.call(e,t,t),e}function So(t,e){vo.call(this,t,e),this.fields[0]=t,this.fields[1]=e}function ko(t){return t=t||Object.create(So.prototype),So.call(t,0,0),t}function Lo(t,e,n){Po(),this.fields=new Float32Array(3),this.fields[0]=t,this.fields[1]=e,this.fields[2]=n}function jo(){No=this,this.ZERO=To(0),this.X_AXIS=new Lo(1,0,0),this.Y_AXIS=new Lo(0,1,0),this.Z_AXIS=new Lo(0,0,1),this.NEG_X_AXIS=new Lo(-1,0,0),this.NEG_Y_AXIS=new Lo(0,-1,0),this.NEG_Z_AXIS=new Lo(0,0,-1)}vo.$metadata$={kind:$,simpleName:"Vec2i",interfaces:[]},Object.defineProperty(So.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.fields[0]=t}}),Object.defineProperty(So.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.fields[1]=t}}),Object.defineProperty(So.prototype,"array",{configurable:!0,get:function(){return this.fields}}),So.prototype.set_czzhjm$=function(t){return this.x=t.x,this.y=t.y,this},So.prototype.set_vux9f0$=function(t,e){this.fields[t]=e},So.$metadata$={kind:$,simpleName:"MutableVec2i",interfaces:[vo]},Object.defineProperty(Lo.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(Lo.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),Object.defineProperty(Lo.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)}}),Lo.prototype.add_2gj7b4$=function(t,e){return e.set_czzhiu$(this).add_czzhiu$(t)},Lo.prototype.cross_2gj7b4$=function(t,e){return e.x=this.y*t.z-this.z*t.y,e.y=this.z*t.x-this.x*t.z,e.z=this.x*t.y-this.y*t.x,e},Lo.prototype.distance_czzhiu$=function(t){var e=this.sqrDistance_czzhiu$(t);return R.sqrt(e)},Lo.prototype.dot_czzhiu$=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},Lo.prototype.isFuzzyEqual_2qa7tb$=function(t,e){void 0===e&&(e=Ai);var n=this.x-t.x,i=R.abs(n)<=e;if(i){var o=this.y-t.y;i=R.abs(o)<=e}var r=i;if(r){var s=this.z-t.z;r=R.abs(s)<=e}return r},Lo.prototype.length=function(){var t=this.sqrLength();return R.sqrt(t)},Lo.prototype.mix_a6wx89$=function(t,e,n){return n.x=t.x*e+this.x*(1-e),n.y=t.y*e+this.y*(1-e),n.z=t.z*e+this.z*(1-e),n},Lo.prototype.mul_2gj7b4$=function(t,e){return e.set_czzhiu$(this).mul_czzhiu$(t)},Lo.prototype.norm_5s4mqq$=function(t){return t.set_czzhiu$(this).norm()},Lo.prototype.planeSpace_t87wgk$=function(t,e){var n=this.z;if(R.abs(n)>Bi){var i=this.y*this.y+this.z*this.z,o=1/R.sqrt(i);t.x=0,t.y=-this.z*o,t.z=this.y*o,e.x=i*o,e.y=-this.x*t.z,e.z=this.x*t.y}else{var r=this.x*this.x+this.y*this.y,s=1/R.sqrt(r);t.x=-this.y*s,t.y=this.x*s,t.z=0,e.x=-this.z*t.y,e.y=this.z*t.x,e.z=r*s}},Lo.prototype.rotate_hx2y1u$=function(t,e,n,i,o){return o.set_czzhiu$(this).rotate_7b5o5w$(t,e,n,i)},Lo.prototype.rotate_vqa64j$=function(t,e,n){return n.set_czzhiu$(this).rotate_7b5o5w$(t,e.x,e.y,e.z)},Lo.prototype.scale_749b8l$=function(t,e){return e.set_czzhiu$(this).scale_mx4ult$(t)},Lo.prototype.sqrDistance_czzhiu$=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},Lo.prototype.sqrLength=function(){return this.x*this.x+this.y*this.y+this.z*this.z},Lo.prototype.subtract_2gj7b4$=function(t,e){return e.set_czzhiu$(this).subtract_czzhiu$(t)},Lo.prototype.get_za3lpa$=function(t){return this.fields[t]},Lo.prototype.times_czzhiu$=function(t){return this.dot_czzhiu$(t)},Lo.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Lo.prototype.toVec3d=function(){return new Io(this.x,this.y,this.z)},Lo.prototype.toMutableVec3d=function(){return this.toMutableVec3d_5s4mqs$(Uo())},Lo.prototype.toMutableVec3d_5s4mqs$=function(t){return t.set_yvo9jy$(this.x,this.y,this.z)},Lo.prototype.equals=function(t){return this===t||!!e.isType(t,Lo)&&this.x===t.x&&this.y===t.y&&this.z===t.z},Lo.prototype.hashCode=function(){var t=at(this.x);return t=(31*(t=(31*t|0)+at(this.y)|0)|0)+at(this.z)|0},jo.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var No=null;function Po(){return null===No&&new jo,No}function To(t,e){return e=e||Object.create(Lo.prototype),Lo.call(e,t,t,t),e}function Oo(t,e){return e=e||Object.create(Lo.prototype),Lo.call(e,t.x,t.y,t.z),e}function Eo(t,e,n){Lo.call(this,t,e,n)}function Mo(t){return t=t||Object.create(Eo.prototype),Eo.call(t,0,0,0),t}function Ro(t,e){return e=e||Object.create(Eo.prototype),Eo.call(e,t.x,t.y,t.z),e}function Io(t,e,n){Bo(),this.fields=new Float64Array(3),this.fields[0]=t,this.fields[1]=e,this.fields[2]=n}function Ao(){Do=this,this.ZERO=Fo(0),this.X_AXIS=new Io(1,0,0),this.Y_AXIS=new Io(0,1,0),this.Z_AXIS=new Io(0,0,1),this.NEG_X_AXIS=new Io(-1,0,0),this.NEG_Y_AXIS=new Io(0,-1,0),this.NEG_Z_AXIS=new Io(0,0,-1)}Lo.$metadata$={kind:$,simpleName:"Vec3f",interfaces:[]},Object.defineProperty(Eo.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.set_24o109$(0,t)}}),Object.defineProperty(Eo.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.set_24o109$(1,t)}}),Object.defineProperty(Eo.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)},set:function(t){this.set_24o109$(2,t)}}),Object.defineProperty(Eo.prototype,"array",{configurable:!0,get:function(){return this.fields}}),Eo.prototype.add_czzhiu$=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this.z=this.z+t.z,this},Eo.prototype.mul_czzhiu$=function(t){return this.x=this.x*t.x,this.y=this.y*t.y,this.z=this.z*t.z,this},Eo.prototype.norm=function(){var t=this.length();return 0!==t?this.scale_mx4ult$(1/t):this.set_czzhiu$(Po().ZERO)},Eo.prototype.rotate_7b5o5w$=function(t,e,n,i){var o=t*Ij.DEG_2_RAD,r=R.cos(o),s=1-r,a=R.sin(o),l=this.x*(e*e*s+r)+this.y*(e*n*s-i*a)+this.z*(e*i*s+n*a),p=this.x*(n*e*s+i*a)+this.y*(n*n*s+r)+this.z*(n*i*s-e*a),u=this.x*(e*i*s-n*a)+this.y*(n*i*s+e*a)+this.z*(i*i*s+r);return this.x=l,this.y=p,this.z=u,this},Eo.prototype.rotate_ad55pp$=function(t,e){return this.rotate_7b5o5w$(t,e.x,e.y,e.z)},Eo.prototype.scale_mx4ult$=function(t){return this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this},Eo.prototype.set_y2kzbl$=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},Eo.prototype.set_czzhiu$=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},Eo.prototype.subtract_czzhiu$=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this.z=this.z-t.z,this},Eo.prototype.divAssign_mx4ult$=function(t){this.scale_mx4ult$(1/t)},Eo.prototype.minusAssign_czzhiu$=function(t){this.subtract_czzhiu$(t)},Eo.prototype.plusAssign_czzhiu$=function(t){this.add_czzhiu$(t)},Eo.prototype.set_24o109$=function(t,e){this.fields[t]=e},Eo.prototype.timesAssign_mx4ult$=function(t){this.scale_mx4ult$(t)},Eo.$metadata$={kind:$,simpleName:"MutableVec3f",interfaces:[Lo]},Object.defineProperty(Io.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(Io.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),Object.defineProperty(Io.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)}}),Io.prototype.add_vgki2o$=function(t,e){return e.set_czzhiw$(this).add_czzhiw$(t)},Io.prototype.cross_vgki2o$=function(t,e){return e.x=this.y*t.z-this.z*t.y,e.y=this.z*t.x-this.x*t.z,e.z=this.x*t.y-this.y*t.x,e},Io.prototype.distance_czzhiw$=function(t){var e=this.sqrDistance_czzhiw$(t);return R.sqrt(e)},Io.prototype.dot_czzhiw$=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},Io.prototype.isFuzzyEqual_6nz8ey$=function(t,e){void 0===e&&(e=Di);var n=this.x-t.x,i=R.abs(n)<=e;if(i){var o=this.y-t.y;i=R.abs(o)<=e}var r=i;if(r){var s=this.z-t.z;r=R.abs(s)<=e}return r},Io.prototype.length=function(){var t=this.sqrLength();return R.sqrt(t)},Io.prototype.mix_3odno2$=function(t,e,n){return n.x=t.x*e+this.x*(1-e),n.y=t.y*e+this.y*(1-e),n.z=t.z*e+this.z*(1-e),n},Io.prototype.mul_vgki2o$=function(t,e){return e.set_czzhiw$(this).mul_czzhiw$(t)},Io.prototype.norm_5s4mqs$=function(t){return t.set_czzhiw$(this).norm()},Io.prototype.planeSpace_7vsg4s$=function(t,e){var n=this.z;if(R.abs(n)>Bi){var i=this.y*this.y+this.z*this.z,o=1/R.sqrt(i);t.x=0,t.y=-this.z*o,t.z=this.y*o,e.x=i*o,e.y=-this.x*t.z,e.z=this.x*t.y}else{var r=this.x*this.x+this.y*this.y,s=1/R.sqrt(r);t.x=-this.y*s,t.y=this.x*s,t.z=0,e.x=-this.z*t.y,e.y=this.z*t.x,e.z=r*s}},Io.prototype.rotate_8uuoh8$=function(t,e,n,i,o){return o.set_czzhiw$(this).rotate_6y0v78$(t,e,n,i)},Io.prototype.rotate_cvw8z2$=function(t,e,n){return n.set_czzhiw$(this).rotate_6y0v78$(t,e.x,e.y,e.z)},Io.prototype.scale_b0flbq$=function(t,e){return e.set_czzhiw$(this).scale_14dthe$(t)},Io.prototype.sqrDistance_czzhiw$=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},Io.prototype.sqrLength=function(){return this.x*this.x+this.y*this.y+this.z*this.z},Io.prototype.subtract_vgki2o$=function(t,e){return e.set_czzhiw$(this).subtract_czzhiw$(t)},Io.prototype.get_za3lpa$=function(t){return this.fields[t]},Io.prototype.times_czzhiw$=function(t){return this.dot_czzhiw$(t)},Io.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Io.prototype.toVec3f=function(){return new Lo(this.x,this.y,this.z)},Io.prototype.toMutableVec3f=function(){return this.toMutableVec3f_5s4mqq$(Mo())},Io.prototype.toMutableVec3f_5s4mqq$=function(t){return t.set_y2kzbl$(this.x,this.y,this.z)},Io.prototype.equals=function(t){return this===t||!!e.isType(t,Io)&&this.x===t.x&&this.y===t.y&&this.z===t.z},Io.prototype.hashCode=function(){var t=at(this.x);return t=(31*(t=(31*t|0)+at(this.y)|0)|0)+at(this.z)|0},Ao.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Do=null;function Bo(){return null===Do&&new Ao,Do}function Fo(t,e){return e=e||Object.create(Io.prototype),Io.call(e,t,t,t),e}function qo(t,e,n){Io.call(this,t,e,n)}function Uo(t){return t=t||Object.create(qo.prototype),qo.call(t,0,0,0),t}function Vo(t,e,n){Ho(),this.fields=new Int32Array(3),this.fields[0]=t,this.fields[1]=e,this.fields[2]=n}function Wo(){Go=this,this.ZERO=Xo(0),this.X_AXIS=new Vo(1,0,0),this.Y_AXIS=new Vo(0,1,0),this.Z_AXIS=new Vo(0,0,1),this.NEG_X_AXIS=new Vo(-1,0,0),this.NEG_Y_AXIS=new Vo(0,-1,0),this.NEG_Z_AXIS=new Vo(0,0,-1)}Io.$metadata$={kind:$,simpleName:"Vec3d",interfaces:[]},Object.defineProperty(qo.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.set_5wr77w$(0,t)}}),Object.defineProperty(qo.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.set_5wr77w$(1,t)}}),Object.defineProperty(qo.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)},set:function(t){this.set_5wr77w$(2,t)}}),qo.prototype.add_czzhiw$=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this.z=this.z+t.z,this},qo.prototype.mul_czzhiw$=function(t){return this.x=this.x*t.x,this.y=this.y*t.y,this.z=this.z*t.z,this},qo.prototype.norm=function(){return this.scale_14dthe$(1/this.length())},qo.prototype.rotate_6y0v78$=function(t,e,n,i){var o=t*Ij.DEG_2_RAD,r=R.cos(o),s=1-r,a=R.sin(o),l=this.x*(e*e*s+r)+this.y*(e*n*s-i*a)+this.z*(e*i*s+n*a),p=this.x*(n*e*s+i*a)+this.y*(n*n*s+r)+this.z*(n*i*s-e*a),u=this.x*(e*i*s-n*a)+this.y*(n*i*s+e*a)+this.z*(i*i*s+r);return this.x=l,this.y=p,this.z=u,this},qo.prototype.rotate_5820x2$=function(t,e){return this.rotate_6y0v78$(t,e.x,e.y,e.z)},qo.prototype.scale_14dthe$=function(t){return this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this},qo.prototype.set_yvo9jy$=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},qo.prototype.set_czzhiw$=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},qo.prototype.subtract_czzhiw$=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this.z=this.z-t.z,this},qo.prototype.divAssign_14dthe$=function(t){this.scale_14dthe$(1/t)},qo.prototype.minusAssign_czzhiw$=function(t){this.subtract_czzhiw$(t)},qo.prototype.plusAssign_czzhiw$=function(t){this.add_czzhiw$(t)},qo.prototype.set_5wr77w$=function(t,e){this.fields[t]=e},qo.prototype.timesAssign_14dthe$=function(t){this.scale_14dthe$(t)},qo.$metadata$={kind:$,simpleName:"MutableVec3d",interfaces:[Io]},Object.defineProperty(Vo.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(Vo.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),Object.defineProperty(Vo.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)}}),Vo.prototype.get_za3lpa$=function(t){return this.fields[t]},Vo.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Vo.prototype.equals=function(t){return this===t||!!e.isType(t,_r)&&this.x===t.x&&this.y===t.y&&this.z===t.z},Vo.prototype.hashCode=function(){var t=at(this.x);return t=(31*(t=(31*t|0)+at(this.y)|0)|0)+at(this.z)|0},Wo.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Go=null;function Ho(){return null===Go&&new Wo,Go}function Xo(t,e){return e=e||Object.create(Vo.prototype),Vo.call(e,t,t,t),e}function Ko(t,e,n){Vo.call(this,t,e,n),this.fields[0]=t,this.fields[1]=e,this.fields[2]=n}function Yo(t){return t=t||Object.create(Ko.prototype),Ko.call(t,0,0,0),t}function Zo(t,e,n,i){tr(),this.fields=new Float32Array(4),this.fields[0]=t,this.fields[1]=e,this.fields[2]=n,this.fields[3]=i}function Jo(){Qo=this,this.ZERO=er(0),this.X_AXIS=new Zo(1,0,0,0),this.Y_AXIS=new Zo(0,1,0,0),this.Z_AXIS=new Zo(0,0,1,0),this.W_AXIS=new Zo(0,0,0,1),this.NEG_X_AXIS=new Zo(-1,0,0,0),this.NEG_Y_AXIS=new Zo(0,-1,0,0),this.NEG_Z_AXIS=new Zo(0,0,-1,0),this.NEG_W_AXIS=new Zo(0,0,0,-1)}Vo.$metadata$={kind:$,simpleName:"Vec3i",interfaces:[]},Object.defineProperty(Ko.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.set_vux9f0$(0,t)}}),Object.defineProperty(Ko.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.set_vux9f0$(1,t)}}),Object.defineProperty(Ko.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)},set:function(t){this.set_vux9f0$(2,t)}}),Object.defineProperty(Ko.prototype,"array",{configurable:!0,get:function(){return this.fields}}),Ko.prototype.set_qt1dr2$=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},Ko.prototype.set_czzhir$=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},Ko.prototype.set_vux9f0$=function(t,e){this.fields[t]=e},Ko.$metadata$={kind:$,simpleName:"MutableVec3i",interfaces:[Vo]},Object.defineProperty(Zo.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(Zo.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),Object.defineProperty(Zo.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)}}),Object.defineProperty(Zo.prototype,"w",{configurable:!0,get:function(){return this.get_za3lpa$(3)}}),Zo.prototype.add_uzu8ww$=function(t,e){return e.set_czzhhz$(this).add_czzhhz$(t)},Zo.prototype.distance_czzhhz$=function(t){var e=this.sqrDistance_czzhhz$(t);return R.sqrt(e)},Zo.prototype.dot_czzhhz$=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},Zo.prototype.isFuzzyEqual_m79ulu$=function(t,e){void 0===e&&(e=Ai);var n=this.x-t.x,i=R.abs(n)<=e;if(i){var o=this.y-t.y;i=R.abs(o)<=e}var r=i;if(r){var s=this.z-t.z;r=R.abs(s)<=e}var a=r;if(a){var l=this.w-t.w;a=R.abs(l)<=e}return a},Zo.prototype.length=function(){var t=this.sqrLength();return R.sqrt(t)},Zo.prototype.mix_q86erb$=function(t,e,n){return n.x=t.x*e+this.x*(1-e),n.y=t.y*e+this.y*(1-e),n.z=t.z*e+this.z*(1-e),n.w=t.w*e+this.w*(1-e),n},Zo.prototype.mul_uzu8ww$=function(t,e){return e.set_czzhhz$(this).mul_czzhhz$(t)},Zo.prototype.norm_5s4mpv$=function(t){return t.set_czzhhz$(this).norm()},Zo.prototype.quatProduct_uzu8ww$=function(t,e){return e.x=this.w*t.x+this.x*t.w+this.y*t.z-this.z*t.y,e.y=this.w*t.y+this.y*t.w+this.z*t.x-this.x*t.z,e.z=this.w*t.z+this.z*t.w+this.x*t.y-this.y*t.x,e.w=this.w*t.w-this.x*t.x-this.y*t.y-this.z*t.z,e},Zo.prototype.scale_749b7q$=function(t,e){return e.set_czzhhz$(this).scale_mx4ult$(t)},Zo.prototype.sqrDistance_czzhhz$=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z,o=this.z-t.w;return e*e+n*n+i*i+o*o},Zo.prototype.sqrLength=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},Zo.prototype.subtract_uzu8ww$=function(t,e){return e.set_czzhhz$(this).subtract_czzhhz$(t)},Zo.prototype.getXyz_5s4mqq$=function(t){return t.x=this.x,t.y=this.y,t.z=this.z,t},Zo.prototype.get_za3lpa$=function(t){return this.fields[t]},Zo.prototype.times_czzhhz$=function(t){return this.dot_czzhhz$(t)},Zo.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},Zo.prototype.toVec4d=function(){return new rr(this.x,this.y,this.z,this.w)},Zo.prototype.toMutableVec4d=function(){return this.toMutableVec4d_5s4mpx$(cr())},Zo.prototype.toMutableVec4d_5s4mpx$=function(t){return t.set_6y0v78$(this.x,this.y,this.z,this.w)},Zo.prototype.equals=function(t){return this===t||!!e.isType(t,Zo)&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},Zo.prototype.hashCode=function(){var t=at(this.x);return t=(31*(t=(31*(t=(31*t|0)+at(this.y)|0)|0)+at(this.z)|0)|0)+at(this.w)|0},Jo.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Qo=null;function tr(){return null===Qo&&new Jo,Qo}function er(t,e){return e=e||Object.create(Zo.prototype),Zo.call(e,t,t,t,t),e}function nr(t,e,n){return n=n||Object.create(Zo.prototype),Zo.call(n,t.x,t.y,t.z,e),n}function ir(t,e,n,i){Zo.call(this,t,e,n,i)}function or(t){return t=t||Object.create(ir.prototype),ir.call(t,0,0,0,0),t}function rr(t,e,n,i){lr(),this.fields=new Float64Array(4),this.fields[0]=t,this.fields[1]=e,this.fields[2]=n,this.fields[3]=i}function sr(){ar=this,this.ZERO=pr(0),this.X_AXIS=new rr(1,0,0,0),this.Y_AXIS=new rr(0,1,0,0),this.Z_AXIS=new rr(0,0,1,0),this.W_AXIS=new rr(0,0,0,1),this.NEG_X_AXIS=new rr(-1,0,0,0),this.NEG_Y_AXIS=new rr(0,-1,0,0),this.NEG_Z_AXIS=new rr(0,0,-1,0),this.NEG_W_AXIS=new rr(0,0,0,-1)}Zo.$metadata$={kind:$,simpleName:"Vec4f",interfaces:[]},Object.defineProperty(ir.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.set_24o109$(0,t)}}),Object.defineProperty(ir.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.set_24o109$(1,t)}}),Object.defineProperty(ir.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)},set:function(t){this.set_24o109$(2,t)}}),Object.defineProperty(ir.prototype,"w",{configurable:!0,get:function(){return this.get_za3lpa$(3)},set:function(t){this.set_24o109$(3,t)}}),Object.defineProperty(ir.prototype,"array",{configurable:!0,get:function(){return this.fields}}),ir.prototype.add_czzhhz$=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this.z=this.z+t.z,this.w=this.w+t.w,this},ir.prototype.mul_czzhhz$=function(t){return this.x=this.x*t.x,this.y=this.y*t.y,this.z=this.z*t.z,this.w=this.w*t.w,this},ir.prototype.norm=function(){return this.scale_mx4ult$(1/this.length())},ir.prototype.quatProduct_czzhhz$=function(t){var e=this.w*t.x+this.x*t.w+this.y*t.z-this.z*t.y,n=this.w*t.y+this.y*t.w+this.z*t.x-this.x*t.z,i=this.w*t.z+this.z*t.w+this.x*t.y-this.y*t.x,o=this.w*t.w-this.x*t.x-this.y*t.y-this.z*t.z;return this.set_7b5o5w$(e,n,i,o),this},ir.prototype.scale_mx4ult$=function(t){return this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t,this},ir.prototype.set_7b5o5w$=function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},ir.prototype.set_czzhhz$=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},ir.prototype.set_2qa7tb$=function(t,e){return void 0===e&&(e=0),this.x=t.x,this.y=t.y,this.z=t.z,this.w=e,this},ir.prototype.subtract_czzhhz$=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this.z=this.z-t.z,this.w=this.w-t.w,this},ir.prototype.plusAssign_czzhhz$=function(t){this.add_czzhhz$(t)},ir.prototype.minusAssign_czzhhz$=function(t){this.subtract_czzhhz$(t)},ir.prototype.set_24o109$=function(t,e){this.fields[t]=e},ir.$metadata$={kind:$,simpleName:"MutableVec4f",interfaces:[Zo]},Object.defineProperty(rr.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(rr.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),Object.defineProperty(rr.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)}}),Object.defineProperty(rr.prototype,"w",{configurable:!0,get:function(){return this.get_za3lpa$(3)}}),rr.prototype.add_2x9ggw$=function(t,e){return e.set_czzhi1$(this).add_czzhi1$(t)},rr.prototype.distance_czzhi1$=function(t){var e=this.sqrDistance_czzhi1$(t);return R.sqrt(e)},rr.prototype.dot_czzhi1$=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},rr.prototype.isFuzzyEqual_1rza9z$=function(t,e){void 0===e&&(e=Di);var n=this.x-t.x,i=R.abs(n)<=e;if(i){var o=this.y-t.y;i=R.abs(o)<=e}var r=i;if(r){var s=this.z-t.z;r=R.abs(s)<=e}var a=r;if(a){var l=this.w-t.w;a=R.abs(l)<=e}return a},rr.prototype.length=function(){var t=this.sqrLength();return R.sqrt(t)},rr.prototype.mix_3szysy$=function(t,e,n){return n.x=t.x*e+this.x*(1-e),n.y=t.y*e+this.y*(1-e),n.z=t.z*e+this.z*(1-e),n.w=t.w*e+this.w*(1-e),n},rr.prototype.mul_2x9ggw$=function(t,e){return e.set_czzhi1$(this).mul_czzhi1$(t)},rr.prototype.norm_5s4mpx$=function(t){return t.set_czzhi1$(this).norm()},rr.prototype.quatProduct_2x9ggw$=function(t,e){return e.x=this.w*t.x+this.x*t.w+this.y*t.z-this.z*t.y,e.y=this.w*t.y+this.y*t.w+this.z*t.x-this.x*t.z,e.z=this.w*t.z+this.z*t.w+this.x*t.y-this.y*t.x,e.w=this.w*t.w-this.x*t.x-this.y*t.y-this.z*t.z,e},rr.prototype.scale_b0flav$=function(t,e){return e.set_czzhi1$(this).scale_14dthe$(t)},rr.prototype.sqrDistance_czzhi1$=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z,o=this.z-t.w;return e*e+n*n+i*i+o*o},rr.prototype.sqrLength=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},rr.prototype.subtract_2x9ggw$=function(t,e){return e.set_czzhi1$(this).subtract_czzhi1$(t)},rr.prototype.getXyz_5s4mqs$=function(t){return t.x=this.x,t.y=this.y,t.z=this.z,t},rr.prototype.get_za3lpa$=function(t){return this.fields[t]},rr.prototype.times_czzhi1$=function(t){return this.dot_czzhi1$(t)},rr.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},rr.prototype.toVec4f=function(){return new Zo(this.x,this.y,this.z,this.w)},rr.prototype.toMutableVec4f=function(){return this.toMutableVec4f_5s4mpv$(or())},rr.prototype.toMutableVec4f_5s4mpv$=function(t){return t.set_7b5o5w$(this.x,this.y,this.z,this.w)},rr.prototype.equals=function(t){return this===t||!!e.isType(t,rr)&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},rr.prototype.hashCode=function(){var t=at(this.x);return t=(31*(t=(31*(t=(31*t|0)+at(this.y)|0)|0)+at(this.z)|0)|0)+at(this.w)|0},sr.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var ar=null;function lr(){return null===ar&&new sr,ar}function pr(t,e){return e=e||Object.create(rr.prototype),rr.call(e,t,t,t,t),e}function ur(t,e,n,i){rr.call(this,t,e,n,i)}function cr(t){return t=t||Object.create(ur.prototype),ur.call(t,0,0,0,0),t}function _r(t,e,n,i){Sr(),this.fields=new Int32Array(4),this.fields[0]=t,this.fields[1]=e,this.fields[2]=n,this.fields[3]=i}function hr(){Cr=this,this.ZERO=kr(0),this.X_AXIS=new _r(1,0,0,0),this.Y_AXIS=new _r(0,1,0,0),this.Z_AXIS=new _r(0,0,1,0),this.W_AXIS=new _r(0,0,0,1),this.NEG_X_AXIS=new _r(-1,0,0,0),this.NEG_Y_AXIS=new _r(0,-1,0,0),this.NEG_Z_AXIS=new _r(0,0,-1,0),this.NEG_W_AXIS=new _r(0,0,0,-1)}rr.$metadata$={kind:$,simpleName:"Vec4d",interfaces:[]},Object.defineProperty(ur.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.set_5wr77w$(0,t)}}),Object.defineProperty(ur.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.set_5wr77w$(1,t)}}),Object.defineProperty(ur.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)},set:function(t){this.set_5wr77w$(2,t)}}),Object.defineProperty(ur.prototype,"w",{configurable:!0,get:function(){return this.get_za3lpa$(3)},set:function(t){this.set_5wr77w$(3,t)}}),ur.prototype.add_czzhi1$=function(t){return this.x=this.x+t.x,this.y=this.y+t.y,this.z=this.z+t.z,this.w=this.w+t.w,this},ur.prototype.mul_czzhi1$=function(t){return this.x=this.x*t.x,this.y=this.y*t.y,this.z=this.z*t.z,this.w=this.w*t.w,this},ur.prototype.norm=function(){return this.scale_14dthe$(1/this.length())},ur.prototype.quatProduct_czzhi1$=function(t){var e=this.w*t.x+this.x*t.w+this.y*t.z-this.z*t.y,n=this.w*t.y+this.y*t.w+this.z*t.x-this.x*t.z,i=this.w*t.z+this.z*t.w+this.x*t.y-this.y*t.x,o=this.w*t.w-this.x*t.x-this.y*t.y-this.z*t.z;return this.set_6y0v78$(e,n,i,o),this},ur.prototype.scale_14dthe$=function(t){return this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t,this},ur.prototype.set_6y0v78$=function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},ur.prototype.set_czzhi1$=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},ur.prototype.set_6nz8ey$=function(t,e){return void 0===e&&(e=0),this.x=t.x,this.y=t.y,this.z=t.z,this.w=e,this},ur.prototype.subtract_czzhi1$=function(t){return this.x=this.x-t.x,this.y=this.y-t.y,this.z=this.z-t.z,this.w=this.w-t.w,this},ur.prototype.plusAssign_czzhi1$=function(t){this.add_czzhi1$(t)},ur.prototype.minusAssign_czzhi1$=function(t){this.subtract_czzhi1$(t)},ur.prototype.set_5wr77w$=function(t,e){this.fields[t]=e},ur.$metadata$={kind:$,simpleName:"MutableVec4d",interfaces:[rr]},Object.defineProperty(_r.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(_r.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),Object.defineProperty(_r.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)}}),Object.defineProperty(_r.prototype,"w",{configurable:!0,get:function(){return this.get_za3lpa$(3)}}),_r.prototype.get_za3lpa$=function(t){return this.fields[t]},_r.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},_r.prototype.equals=function(t){return this===t||!!e.isType(t,_r)&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},_r.prototype.hashCode=function(){var t=at(this.x);return t=(31*(t=(31*(t=(31*t|0)+at(this.y)|0)|0)+at(this.z)|0)|0)+at(this.w)|0},hr.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var dr,fr,mr,yr,$r,br,gr,vr,xr,wr,zr,Cr=null;function Sr(){return null===Cr&&new hr,Cr}function kr(t,e){return e=e||Object.create(_r.prototype),_r.call(e,t,t,t,t),e}function Lr(t,e,n,i){_r.call(this,t,e,n,i),this.fields[0]=t,this.fields[1]=e,this.fields[2]=n,this.fields[3]=i}function jr(t){return t=t||Object.create(Lr.prototype),Lr.call(t,0,0,0,0),t}function Nr(t,e){return t.cross_2gj7b4$(e,Mo())}function Pr(t,e){var n,i,o,r;void 0===e&&(e=new Rr),$d.call(this,t),this.edgeHandler=e,this.verts_0=null,this.positionOffset_0=w(t.attributeByteOffsets.get_11rb$(hs().POSITIONS)),this.tmpVec1_0=Mo(),this.tmpVec2_0=Mo(),this.tmpVec3_0=Mo(),this.vertexIt1_0=t.get_za3lpa$(0),this.vertexIt2_0=t.get_za3lpa$(0);for(var s=t.numVertices,a=z(s),l=0;l<s;l++)a.add_11rb$(new Er(this,l));this.verts_0=a,n=t.numIndices;for(var p=0;p<n;p+=3){var u=this.verts_0.get_za3lpa$(t.indices.get_za3lpa$(p)),c=this.verts_0.get_za3lpa$(t.indices.get_za3lpa$(p+1|0)),_=this.verts_0.get_za3lpa$(t.indices.get_za3lpa$(p+2|0)),h=new Mr(this,u,c),d=new Mr(this,c,_);h.next=d;var f=d,m=new Mr(this,_,u);f.next=m,m.next=h;var y,$,b,g=m;null!=(i=c.getEdgeTo_n38rgs$(u))?(i.opp=h,y=i):y=null,h.opp=y,null!=(o=_.getEdgeTo_n38rgs$(c))?(o.opp=f,$=o):$=null,f.opp=$,null!=(r=u.getEdgeTo_n38rgs$(_))?(r.opp=g,b=r):b=null,g.opp=b,this.edgeHandler.plusAssign_ebe40$(h),this.edgeHandler.plusAssign_ebe40$(f),this.edgeHandler.plusAssign_ebe40$(g)}}function Tr(){}function Or(t,n){return function(i){if(i.isDeleted){var o=n,r=Hj.Log,s=vC.WARN,a=e.getKClassFromExpression(o).simpleName;s.level>=r.level.level&&r.printer(s,a,"Deleted edge in v, edge.from == v: "+(i.from===t))}return i.isDeleted}}function Er(t,e){this.$outer=t,To(0,this),this.index=e,this.edges=E(),this.isDeleted_st01j9$_0=!1,this.meshDataIndex_8be2vx$=this.index}function Mr(t,e,n){this.$outer=t,this.from_t0m3rm$_0=e,this.to_z50l7l$_0=n,this.isDeleted_tjy89$_0=!1,this.treeNode_u2e3i4$_0=null,this.next_t4scix$_0=this.next_t4scix$_0,this.opp_nuqb1l$_0=null,e.edges.add_11rb$(this)}function Rr(){this.edgeList=E(),this.numEdges_wlm1ja$_0=0}function Ir(t){return t.isDeleted}function Ar(t){this.this$ListEdgeHandler=t,this.i=0}function Dr(t){OcTreeEdgeHandler$Companion_getInstance(),this.edgeTree=new OcTree(OcTreeEdgeHandler$Companion$HalfEdgeAdapter_getInstance(),void 0,t)}function Br(){}function Fr(){}function qr(){this.tmpQ=new xi,this.tmpNrm0=Mo(),this.tmpNrm1=Mo(),this.tmpPos0=Mo(),this.tmpPos1=Mo()}function Ur(){return new qr}function Vr(t){var e;this.vertex=t,this.errQuadric=(new xi).setZero(),this.isStickyVertex=!1,this.isBorder_qaaj7p$_0=!1,this.isDeleted_clri7e$_0=!1,this.tmpVec4_0=or(),e=this.vertex.edges;for(var n=0;n!==e.size;++n){var i=this.vertex.edges.get_za3lpa$(n);if(this.addPlane_0(i.computeTriPlane_5s4mpv$(this.tmpVec4_0)),null==i.opp){var o=this.tmpVec4_0.getXyz_5s4mqq$(Mo()),r=Ro(this.vertex).subtract_czzhiu$(i.to).norm(),s=o.cross_2gj7b4$(r,Mo());this.tmpVec4_0.set_2qa7tb$(s,-s.dot_czzhiu$(this.vertex)),this.addPlane_0(this.tmpVec4_0),this.isBorder=!0}if(null==i.next.next.opp){null==i.opp&&i.computeTriPlane_5s4mpv$(this.tmpVec4_0);var a=this.tmpVec4_0.getXyz_5s4mqq$(Mo()),l=Ro(i.next.next.from).subtract_czzhiu$(this.vertex).norm(),p=a.cross_2gj7b4$(l,Mo());this.tmpVec4_0.set_2qa7tb$(p,-p.dot_czzhiu$(this.vertex)),this.addPlane_0(this.tmpVec4_0),this.isBorder=!0}}}function Wr(t,e){void 0===e&&(e=Ur()),this.termCrit=t,this.collapseStrategy=e,this.quadrics_h71pfh$_0=C(),this.candidates_gym04f$_0=new Xr,this.mesh_c14x7o$_aesyuh$_0=this.mesh_c14x7o$_aesyuh$_0,this.excludedEdges=ht(),this.stickyVertices=ht(),this.keepBorders=!1}function Gr(t,e,n,i){this.$outer=t,this.edge=e,this.q1=n,this.q2=i,this.error=0,this.collapsePos=Mo(),this.edgeId=new Hr(this.edge.from.index,this.edge.to.index),this.updateCollapsePosAndError()}function Hr(t,e){this.fromId=t,this.toId=e}function Xr(){gk.call(this),this.candidateMap=C()}function Kr(){}function Yr(t){this.closure$factor=t,this.targetFaceCnt=2147483647}function Zr(t,e,n,i,o){P.call(this),this.byteSize=n,this.isInt=i,this.glslType=o,this.name$=t,this.ordinal$=e}function Jr(){Jr=function(){},dr=new Zr("FLOAT",0,4,!1,"float"),fr=new Zr("VEC_2F",1,8,!1,"vec2"),mr=new Zr("VEC_3F",2,12,!1,"vec3"),yr=new Zr("VEC_4F",3,16,!1,"vec4"),$r=new Zr("INT",4,4,!0,"int"),br=new Zr("VEC_2I",5,8,!0,"ivec2"),gr=new Zr("VEC_3I",6,12,!0,"ivec3"),vr=new Zr("VEC_4I",7,16,!0,"ivec4"),xr=new Zr("MAT_2F",8,16,!1,"mat2"),wr=new Zr("MAT_3F",9,36,!1,"mat3"),zr=new Zr("MAT_4F",10,64,!1,"mat4")}function Qr(){return Jr(),dr}function ts(){return Jr(),fr}function es(){return Jr(),mr}function ns(){return Jr(),yr}function is(){return Jr(),$r}function os(){return Jr(),br}function rs(){return Jr(),gr}function ss(){return Jr(),vr}function as(){return Jr(),xr}function ls(){return Jr(),wr}function ps(){return Jr(),zr}function us(t,e){hs(),this.name=t,this.type=e,this.props=new Xk(this)}function cs(){_s=this,this.POSITIONS=new us("attrib_positions",es()),this.NORMALS=new us("attrib_normals",es()),this.TANGENTS=new us("attrib_tangents",ns()),this.TEXTURE_COORDS=new us("attrib_texture_coords",ts()),this.COLORS=new us("attrib_colors",ns()),this.JOINTS=new us("attrib_joints",ss()),this.WEIGHTS=new us("attrib_weights",ns())}_r.$metadata$={kind:$,simpleName:"Vec4i",interfaces:[]},Object.defineProperty(Lr.prototype,"x",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.set_vux9f0$(0,t)}}),Object.defineProperty(Lr.prototype,"y",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.set_vux9f0$(1,t)}}),Object.defineProperty(Lr.prototype,"z",{configurable:!0,get:function(){return this.get_za3lpa$(2)},set:function(t){this.set_vux9f0$(2,t)}}),Object.defineProperty(Lr.prototype,"w",{configurable:!0,get:function(){return this.get_za3lpa$(3)},set:function(t){this.set_vux9f0$(3,t)}}),Object.defineProperty(Lr.prototype,"array",{configurable:!0,get:function(){return this.fields}}),Lr.prototype.set_tjonv8$=function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},Lr.prototype.set_czzhhw$=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},Lr.prototype.set_vux9f0$=function(t,e){this.fields[t]=e},Lr.$metadata$={kind:$,simpleName:"MutableVec4i",interfaces:[_r]},Object.defineProperty(Pr.prototype,"vertices",{configurable:!0,get:function(){return this.verts_0}}),Object.defineProperty(Pr.prototype,"vertCount",{configurable:!0,get:function(){return this.verts_0.size}}),Object.defineProperty(Pr.prototype,"faceCount",{configurable:!0,get:function(){return this.edgeHandler.numEdges/3|0}}),Tr.prototype.distinctTriangleEdges=function(){var t,e=E();for(t=this.iterator();t.hasNext();){var n=t.next();n.id.compareTo_11rb$(n.next.id)<0&&n.id.compareTo_11rb$(n.next.next.id)<0&&e.add_11rb$(n)}return e},Tr.$metadata$={kind:Z,simpleName:"EdgeHandler",interfaces:[pt]},Pr.prototype.generateWireframe_6olbr4$=function(t,e){void 0===e&&(e=O$().MD_PINK);var n,i,o=Mo(),r=Mo(),s=this.edgeHandler,a=E();for(n=s.iterator();n.hasNext();){var l=n.next();(null==l.opp||l.from.index<l.to.index)&&a.add_11rb$(l)}for(i=a.iterator();i.hasNext();){var p=i.next();o.set_czzhiu$(p.from),r.set_czzhiu$(p.to),t.addLine_b8opkg$(o,e,r,e)}},Pr.prototype.sanitize=function(){for(var t,n,i,o=this.verts_0.iterator(),r=0;o.hasNext();){var s=o.next();s.isDeleted?o.remove():s.index=(r=(t=r)+1|0,t)}var a=this.verts_0.size;if(this.edgeHandler.rebuild(),this.edgeHandler.numEdges%3!=0){var l=Hj.Log,p=vC.WARN,u=e.getKClassFromExpression(this).simpleName;p.level>=l.level.level&&l.printer(p,u,"Uneven edge count: "+this.edgeHandler.numEdges%3)}var c,_,h=E();for(n=this.verts_0.iterator();n.hasNext();){var d=n.next();for(ut(d.edges,Or(d,this)),i=d.edges.iterator();i.hasNext();){var f=i.next(),m=f.from.index,y=f.next.from.index,$=f.next.next.from.index;if(m>=a||y>=a||$>=a){var b=Hj.Log,g=vC.WARN,v=e.getKClassFromExpression(this).simpleName;g.level>=b.level.level&&b.printer(g,v,"Inconsistent triangle indices: i0="+m+", i1="+y+", i2="+$+", mesh has only "+a+" vertices"),h.add_11rb$(f)}}}for(c=this.edgeHandler.iterator();c.hasNext();){var x=c.next();if(x.from.isDeleted||x.from.index>=a||x.to.isDeleted||x.to.index>=a){var w=Hj.Log,z=vC.WARN,C=e.getKClassFromExpression(this).simpleName;z.level>=w.level.level&&w.printer(z,C,"Inconsistent edge: "+x.from.index+" (del="+x.from.isDeleted+") -> "+x.to.index+" (del="+x.to.isDeleted+"), mesh has only "+a+" vertices"),h.add_11rb$(x)}if(x===x.next||x===x.next.next){var S=Hj.Log,k=vC.WARN,L=e.getKClassFromExpression(this).simpleName;k.level>=S.level.level&&S.printer(k,L,"Invalid edge linkage: he == he.next || he == he.next.next"),h.add_11rb$(x)}}for(_=h.iterator();_.hasNext();)_.next().deleteTriangle()},Pr.prototype.rebuild_dqye30$=function(t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),this.sanitize();var i,o,r,s=this.geometry,l=s.isBatchUpdate;s.isBatchUpdate=!0,(i=this,o=t,r=n,function(t){var n,s,l=i.geometry.vertexSizeF,p=i.geometry.vertexSizeI,u=i.verts_0.size,c=Tj(e.imul(u,l)),_=p>0?Pj(e.imul(u,p)):i.geometry.dataI;n=i.verts_0;for(var h=0;h!==n.size;++h){var d=i.verts_0.get_za3lpa$(h).meshDataIndex_8be2vx$;i.verts_0.get_za3lpa$(h).meshDataIndex_8be2vx$=i.verts_0.get_za3lpa$(h).index;for(var f=0;f<l;f++)c.put_mx4ult$(i.geometry.dataF.get_za3lpa$(e.imul(d,l)+f|0));if(p>0)for(var m=0;m<p;m++)_.put_za3lpa$(i.geometry.dataI.get_za3lpa$(e.imul(d,p)+m|0))}for(i.geometry.clearIndices(),s=i.edgeHandler.distinctTriangleEdges().iterator();s.hasNext();){var y=s.next();i.geometry.addIndex_za3lpa$(y.from.index),i.geometry.addIndex_za3lpa$(y.next.from.index),i.geometry.addIndex_za3lpa$(y.next.next.from.index)}if(i.geometry.numIndices!==(3*i.faceCount|0)){var $=Hj.Log,b=vC.WARN,g=e.getKClassFromExpression(t).simpleName;if(b.level>=$.level.level){var v=$.printer,x=i;v.call($,b,g,"Inconsistent triangle count! MeshData: "+(x.geometry.numIndices/3|0)+", HalfEdgeMesh: "+x.faceCount)}}return i.geometry.dataF=c,i.geometry.dataI=_,i.geometry.numVertices=u,o&&i.geometry.generateNormals(),r&&i.geometry.generateTangents_mx4ult$(),a})(s),s.hasChanged=!0,s.isBatchUpdate=l,s.rebuildBounds()},Pr.prototype.selectBorders=function(){var t,e,n=E(),i=ht(),o=E();for(t=this.edgeHandler.iterator();t.hasNext();){var r=t.next();if(null==r.opp){for(var s=r;!i.contains_11rb$(s);){o.add_11rb$(s),i.add_11rb$(s);var a,l=s.to.edges;t:do{var p;for(p=l.iterator();p.hasNext();){var u=p.next();if(null==u.opp&&!i.contains_11rb$(u)){a=u;break t}}a=null}while(0);if(null==(e=a))break;s=e}o.isEmpty()||(n.add_11rb$(o),o=E())}}return n},Pr.prototype.subSelect_ojfeji$=function(t,e){void 0===e&&(e=0);for(var n=E(),i=ht(),o=ht(),r=x([t]);!r.isEmpty()&&(0===e||(n.size/3|0)<e);){var s=r.removeAt_za3lpa$(0);if(!o.contains_11rb$(s.id)){var a=s.id;o.add_11rb$(a),n.add_11rb$(s);var l=s.next,p=l.id;o.add_11rb$(p),n.add_11rb$(l);var u=s.next.next,c=u.id;if(o.add_11rb$(c),n.add_11rb$(u),null!=s.opp&&!o.contains_11rb$(w(s.opp).id)&&!i.contains_11rb$(w(s.opp).id)){var _=w(s.opp);r.add_11rb$(_)}if(null!=s.next.opp&&!o.contains_11rb$(w(s.next.opp).id)&&!i.contains_11rb$(w(s.next.opp).id)){var h=w(s.next.opp);r.add_11rb$(h)}if(null!=s.next.next.opp&&!o.contains_11rb$(w(s.next.next.opp).id)&&!i.contains_11rb$(w(s.next.next.opp).id)){var d=w(s.next.next.opp);r.add_11rb$(d)}}}return new ct(r,n)},Pr.prototype.splitEdge_b49or$=function(t,e){var n,i,o,r=this.geometry;r.checkBufferSizes_za3lpa$(),n=r.vertexSizeF;for(var s=1;s<=n;s++)r.dataF.plusAssign_mx4ult$(0);i=r.vertexSizeI;for(var a=1;a<=i;a++)r.dataI.plusAssign_za3lpa$(0);r.vertexIt.index=(o=r.numVertices,r.numVertices=o+1|0,o);var l=r.vertexIt;l.position.set_czzhiu$(t.to).subtract_czzhiu$(t.from).scale_mx4ult$(e).add_czzhiu$(t.from),t.from.getMeshVertex_fs4kvg$(this.vertexIt1_0),t.to.getMeshVertex_fs4kvg$(this.vertexIt2_0),l.texCoord.set_czzhjp$(this.vertexIt2_0.texCoord).subtract_czzhjp$(this.vertexIt1_0.texCoord).scale_mx4ult$(e).add_czzhjp$(this.vertexIt1_0.texCoord),l.normal.set_czzhiu$(this.vertexIt2_0.normal).subtract_czzhiu$(this.vertexIt1_0.normal).scale_mx4ult$(e).add_czzhiu$(this.vertexIt1_0.normal),r.bounds.add_czzhiu$(r.vertexIt.position),r.hasChanged=!0;var p=new Er(this,r.numVertices-1|0);this.verts_0.add_11rb$(p);var u=t.to;t.updateTo_n38rgs$(p);var c=t.next.from.edges,_=t.next;c.remove_11rb$(_),t.next.updateFrom_n38rgs$(p);var h=p.edges,d=t.next;h.add_11rb$(d);var f,m=new Mr(this,p,u),y=new Mr(this,u,t.next.to);m.next=y,y.opp=t.next.opp,null!=(f=y.opp)&&(f.opp=y);var $=y,b=new Mr(this,t.next.to,p);$.next=b,b.next=m,b.opp=t.next,t.next.opp=b;var g=b;this.edgeHandler.plusAssign_ebe40$(m),this.edgeHandler.plusAssign_ebe40$($),this.edgeHandler.plusAssign_ebe40$(g);var v=t.opp;if(null!=v){var x=v.to;v.updateTo_n38rgs$(p);var w=v.next.from.edges,z=v.next;w.remove_11rb$(z),v.next.updateFrom_n38rgs$(p);var C=p.edges,S=v.next;C.add_11rb$(S);var k,L=new Mr(this,p,x),j=new Mr(this,x,v.next.to);L.next=j,j.opp=v.next.opp,null!=(k=j.opp)&&(k.opp=j);var N=j,P=new Mr(this,v.next.to,p);N.next=P,P.next=L,P.opp=v.next,v.next.opp=P;var T=P;L.opp=t,t.opp=L,m.opp=v,v.opp=m,this.edgeHandler.plusAssign_ebe40$(L),this.edgeHandler.plusAssign_ebe40$(N),this.edgeHandler.plusAssign_ebe40$(T)}return p},Pr.prototype.collapseEdge_b49or$=function(t,e){var n,i=t.from,o=t.to,r=t.next.opp;null!=r&&(t.next.opp=null,r.opp=null,r.updateTo_n38rgs$(i));var s=t.next.next.opp;null!=s&&(t.next.next.opp=null,s.opp=r,null!=r&&(r.opp=s));var a=t.opp;if(null!=a){var l=a.next.opp;null!=l&&(a.next.opp=null,l.opp=null);var p=a.next.next.opp;null!=p&&(o.edges.remove_11rb$(p),i.edges.add_11rb$(p),p.updateFrom_n38rgs$(i),p.next.next.updateTo_n38rgs$(i),a.next.next.opp=null,p.opp=l,null!=l&&(l.opp=p))}t.deleteTriangle(),null!=a&&a.deleteTriangle(),n=o.edges;for(var u=0;u!==n.size;++u){var c=o.edges.get_za3lpa$(u);c.updateFrom_n38rgs$(i),c.next.next.updateTo_n38rgs$(i);var _=c.opp;null!=_&&(_.updateTo_n38rgs$(i),_.next.updateFrom_n38rgs$(i)),i.edges.add_11rb$(c)}if(o.edges.clear(),o.delete(),0!==e){var h=i.x+(o.x-i.x)*e,d=i.y+(o.y-i.y)*e,f=i.z+(o.z-i.z)*e;i.updatePosition_y2kzbl$(h,d,f)}},Pr.prototype.subMeshOf_u28ozl$=function(t){var e,n=new Uz(this.geometry.vertexAttributes),i=C(),o=this.geometry.vertexIt;for(e=t.iterator();e.hasNext();){var r=e.next();if(!i.keys.contains_11rb$(r.from.index)){var s,a,l,p=r.from.index;n.checkBufferSizes_za3lpa$(),s=n.vertexSizeF;for(var u=1;u<=s;u++)n.dataF.plusAssign_mx4ult$(0);a=n.vertexSizeI;for(var c=1;c<=a;c++)n.dataI.plusAssign_za3lpa$(0);n.vertexIt.index=(l=n.numVertices,n.numVertices=l+1|0,l);var _=n.vertexIt;o.index=r.from.index,_.set_fs4kvg$(o),n.bounds.add_czzhiu$(n.vertexIt.position),n.hasChanged=!0;var h=n.numVertices-1|0;i.put_xwzc9p$(p,h)}if(!i.keys.contains_11rb$(r.to.index)){var d,f,m,y=r.to.index;n.checkBufferSizes_za3lpa$(),d=n.vertexSizeF;for(var $=1;$<=d;$++)n.dataF.plusAssign_mx4ult$(0);f=n.vertexSizeI;for(var b=1;b<=f;b++)n.dataI.plusAssign_za3lpa$(0);n.vertexIt.index=(m=n.numVertices,n.numVertices=m+1|0,m);var g=n.vertexIt;o.index=r.to.index,g.set_fs4kvg$(o),n.bounds.add_czzhiu$(n.vertexIt.position),n.hasChanged=!0;var v=n.numVertices-1|0;i.put_xwzc9p$(y,v)}}var x,z=ht();for(x=t.iterator();x.hasNext();){var S=x.next();if(!z.contains_11rb$(S.id)){n.addTriIndices_qt1dr2$(w(i.get_11rb$(S.from.index)),w(i.get_11rb$(S.next.from.index)),w(i.get_11rb$(S.next.next.from.index)));var k=S.id;z.add_11rb$(k);var L=S.next.id;z.add_11rb$(L);var j=S.next.next.id;z.add_11rb$(j)}}return n},Object.defineProperty(Er.prototype,"isDeleted",{configurable:!0,get:function(){return this.isDeleted_st01j9$_0},set:function(t){this.isDeleted_st01j9$_0=t}}),Object.defineProperty(Er.prototype,"x",{configurable:!0,get:function(){return this.$outer.geometry.dataF.get_za3lpa$(e.imul(this.index,this.$outer.geometry.vertexSizeF)+this.$outer.positionOffset_0|0)}}),Object.defineProperty(Er.prototype,"y",{configurable:!0,get:function(){return this.$outer.geometry.dataF.get_za3lpa$(e.imul(this.index,this.$outer.geometry.vertexSizeF)+this.$outer.positionOffset_0+1|0)}}),Object.defineProperty(Er.prototype,"z",{configurable:!0,get:function(){return this.$outer.geometry.dataF.get_za3lpa$(e.imul(this.index,this.$outer.geometry.vertexSizeF)+this.$outer.positionOffset_0+2|0)}}),Er.prototype.setPosition_eyxpjg$=function(t,n,i){this.$outer.geometry.dataF.set_24o109$(e.imul(this.index,this.$outer.geometry.vertexSizeF)+this.$outer.positionOffset_0|0,t),this.$outer.geometry.dataF.set_24o109$(e.imul(this.index,this.$outer.geometry.vertexSizeF)+this.$outer.positionOffset_0+1|0,n),this.$outer.geometry.dataF.set_24o109$(e.imul(this.index,this.$outer.geometry.vertexSizeF)+this.$outer.positionOffset_0+2|0,i)},Er.prototype.getMeshVertex_fs4kvg$=function(t){return t.index=this.index,t},Er.prototype.getEdgeTo_n38rgs$=function(t){var e;e=this.edges;for(var n=0;n!==e.size;++n)if(this.edges.get_za3lpa$(n).to===t)return this.edges.get_za3lpa$(n);return null},Er.prototype.delete=function(){for(;!this.edges.isEmpty();)q(this.edges).deleteTriangle();this.isDeleted=!0},Er.prototype.updatePosition_czzhiu$=function(t){this.updatePosition_y2kzbl$(t.x,t.y,t.z)},Er.prototype.updatePosition_y2kzbl$=function(t,e,n){this.$outer.edgeHandler.checkedUpdateVertexPosition_efzdnr$(this,t,e,n)},Er.$metadata$={kind:$,simpleName:"HalfEdgeVertex",interfaces:[Lo]},Object.defineProperty(Mr.prototype,"from",{configurable:!0,get:function(){return this.from_t0m3rm$_0},set:function(t){this.from_t0m3rm$_0=t}}),Object.defineProperty(Mr.prototype,"to",{configurable:!0,get:function(){return this.to_z50l7l$_0},set:function(t){this.to_z50l7l$_0=t}}),Object.defineProperty(Mr.prototype,"isDeleted",{configurable:!0,get:function(){return this.isDeleted_tjy89$_0},set:function(t){this.isDeleted_tjy89$_0=t}}),Object.defineProperty(Mr.prototype,"treeNode",{configurable:!0,get:function(){return this.treeNode_u2e3i4$_0},set:function(t){this.treeNode_u2e3i4$_0=t}}),Object.defineProperty(Mr.prototype,"id",{configurable:!0,get:function(){return e.Long.fromInt(this.from.index).shiftLeft(32).or(e.Long.fromInt(this.to.index))}}),Object.defineProperty(Mr.prototype,"triId",{configurable:!0,get:function(){var t=this.id,e=this.next.id,n=this.next.next.id,i=e.compareTo_11rb$(n)<=0?e:n;return t.compareTo_11rb$(i)<=0?t:i}}),Object.defineProperty(Mr.prototype,"next",{configurable:!0,get:function(){return null==this.next_t4scix$_0?_t("next"):this.next_t4scix$_0},set:function(t){this.next_t4scix$_0=t}}),Object.defineProperty(Mr.prototype,"opp",{configurable:!0,get:function(){return this.opp_nuqb1l$_0},set:function(t){this.opp_nuqb1l$_0=t}}),Mr.prototype.computeLength=function(){return this.from.distance_czzhiu$(this.to)},Mr.prototype.computeTriArea=function(){return Wi(this.from,this.to,this.next.to)},Mr.prototype.computeTriAspectRatio=function(){return Gi(this.from,this.to,this.next.to)},Mr.prototype.computeTriNormal_5s4mqq$=function(t){return this.to.subtract_2gj7b4$(this.from,this.$outer.tmpVec1_0),this.next.to.subtract_2gj7b4$(this.from,this.$outer.tmpVec2_0),this.$outer.tmpVec1_0.cross_2gj7b4$(this.$outer.tmpVec2_0,t),t.norm()},Mr.prototype.computeTriPlane_5s4mpv$=function(t){return this.computeTriNormal_5s4mqq$(this.$outer.tmpVec3_0),t.set_2qa7tb$(this.$outer.tmpVec3_0,-this.$outer.tmpVec3_0.dot_czzhiu$(this.from)),t},Mr.prototype.collapse_mx4ult$=function(t){this.$outer.collapseEdge_b49or$(this,t)},Mr.prototype.split_mx4ult$=function(t){return this.$outer.splitEdge_b49or$(this,t)},Mr.prototype.deleteEdge_0=function(){var t;this.$outer.edgeHandler.minusAssign_ebe40$(this),this.isDeleted=!0,this.from.edges.remove_11rb$(this),null!=(t=this.opp)&&(t.opp=null),this.treeNode=null,this.opp=null},Mr.prototype.deleteTriangle=function(){this.deleteEdge_0(),this.next.deleteEdge_0(),this.next.next.deleteEdge_0()},Mr.prototype.updateFrom_n38rgs$=function(t){this.$outer.edgeHandler.checkedUpdateEdgeFrom_870n7c$(this,t)},Mr.prototype.updateTo_n38rgs$=function(t){this.$outer.edgeHandler.checkedUpdateEdgeTo_870n7c$(this,t)},Mr.prototype.toString=function(){return this.from.index.toString()+" -> "+this.to.index},Mr.$metadata$={kind:$,simpleName:"HalfEdge",interfaces:[]},Pr.$metadata$={kind:$,simpleName:"HalfEdgeMesh",interfaces:[$d]},Object.defineProperty(Rr.prototype,"numEdges",{configurable:!0,get:function(){return this.numEdges_wlm1ja$_0},set:function(t){this.numEdges_wlm1ja$_0=t}}),Rr.prototype.plusAssign_ebe40$=function(t){if(t.isDeleted){var n=Hj.Log,i=vC.WARN,o=e.getKClassFromExpression(this).simpleName;i.level>=n.level.level&&n.printer(i,o,"edge was deleted before"),t.isDeleted=!1,this.rebuild()}this.edgeList.add_11rb$(t),this.numEdges=this.numEdges+1|0},Rr.prototype.minusAssign_ebe40$=function(t){if(t.isDeleted){var n=Hj.Log,i=vC.WARN,o=e.getKClassFromExpression(this).simpleName;i.level>=n.level.level&&n.printer(i,o,"edge is already deleted"),this.rebuild()}else this.numEdges=this.numEdges-1|0},Rr.prototype.checkedUpdateEdgeTo_870n7c$=function(t,e){t.to=e},Rr.prototype.checkedUpdateEdgeFrom_870n7c$=function(t,e){t.from=e},Rr.prototype.checkedUpdateVertexPosition_efzdnr$=function(t,e,n,i){t.setPosition_eyxpjg$(e,n,i)},Rr.prototype.rebuild=function(){if(ut(this.edgeList,Ir),this.numEdges!==this.edgeList.size){var t=Hj.Log,n=vC.WARN,i=e.getKClassFromExpression(this).simpleName;n.level>=t.level.level&&t.printer(n,i,"Wrong edge count: "+this.numEdges+" != "+this.edgeList.size),this.numEdges=this.edgeList.size}},Ar.prototype.hasNext=function(){for(;this.i<this.this$ListEdgeHandler.edgeList.size&&this.this$ListEdgeHandler.edgeList.get_za3lpa$(this.i).isDeleted;)this.i=this.i+1|0;return this.i<this.this$ListEdgeHandler.edgeList.size},Ar.prototype.next=function(){var t;if(!this.hasNext())throw dt();return this.this$ListEdgeHandler.edgeList.get_za3lpa$((t=this.i,this.i=t+1|0,t))},Ar.$metadata$={kind:$,interfaces:[ft]},Rr.prototype.iterator=function(){return new Ar(this)},Rr.$metadata$={kind:$,simpleName:"ListEdgeHandler",interfaces:[Tr]},Fr.$metadata$={kind:Z,simpleName:"CollapseStrategy",interfaces:[]},qr.prototype.computeCollapsePosition_2pqe3s$=function(t,e,n){var i,o,r,s,a=0;i=t.vertex.edges;for(var l=0;l!==i.size;++l){var p=t.vertex.edges.get_za3lpa$(l);p.to!==e.vertex&&p.next.to!==e.vertex||(a=a+1|0)}if(a>2||a<(t.isBorder&&e.isBorder?1:2))return gt.MAX_VALUE;if(t.isStickyVertex&&e.isStickyVertex)return gt.MAX_VALUE;if(t.isStickyVertex)return n.set_czzhiu$(t.vertex),t.getError_czzhiu$(n)+e.getError_czzhiu$(n);if(e.isStickyVertex)return n.set_czzhiu$(e.vertex),t.getError_czzhiu$(n)+e.getError_czzhiu$(n);if(null!=(o=t.vertex.getEdgeTo_n38rgs$(e.vertex))&&null==o.next.opp&&null==o.next.next.opp)return gt.MAX_VALUE;if(null!=(r=e.vertex.getEdgeTo_n38rgs$(t.vertex))&&null==r.next.opp&&null==r.next.next.opp)return gt.MAX_VALUE;this.tmpQ.set_d4zu6l$(t.errQuadric),this.tmpQ.add_d4zu6l$(e.errQuadric),this.tmpQ.setRow_ky00rh$(3,lr().W_AXIS),this.tmpQ.invert_14dthe$(Di)?(n.set_y2kzbl$(this.tmpQ.get_vux9f0$(0,3),this.tmpQ.get_vux9f0$(1,3),this.tmpQ.get_vux9f0$(2,3)),s=t.getError_czzhiu$(n)+e.getError_czzhiu$(n)):(e.vertex.subtract_2gj7b4$(t.vertex,n).scale_mx4ult$(.5).add_czzhiu$(t.vertex),s=t.vertex.distance_czzhiu$(e.vertex)/1e100);var u=s;return this.isRejected_0(t.vertex,e.vertex,n)||this.isRejected_0(e.vertex,t.vertex,n)?gt.MAX_VALUE:u},qr.prototype.isRejected_0=function(t,e,n){var i,o;for(i=t.edges.iterator();i.hasNext();){var r=i.next();if(null==(o=r.to)||!o.equals(e)){if(r.computeTriNormal_5s4mqq$(this.tmpNrm0),this.newNormal_0(r,n,this.tmpNrm1),this.tmpNrm0.dot_czzhiu$(this.tmpNrm1)<0)return!0;if(Gi(n,r.to,r.next.to)>1e4)return!0}}return!1},qr.prototype.newNormal_0=function(t,e,n){t.to.subtract_2gj7b4$(e,this.tmpPos0),t.next.to.subtract_2gj7b4$(e,this.tmpPos1),this.tmpPos0.cross_2gj7b4$(this.tmpPos1,n),n.norm()},qr.$metadata$={kind:$,interfaces:[Fr]},Object.defineProperty(Vr.prototype,"isBorder",{configurable:!0,get:function(){return this.isBorder_qaaj7p$_0},set:function(t){this.isBorder_qaaj7p$_0=t}}),Object.defineProperty(Vr.prototype,"isDeleted",{configurable:!0,get:function(){return this.isDeleted_clri7e$_0},set:function(t){this.isDeleted_clri7e$_0=t}}),Vr.prototype.consume_zdf47l$=function(t){this.isBorder=this.isBorder||t.isBorder,this.errQuadric.add_d4zu6l$(t.errQuadric),t.isDeleted=!0},Vr.prototype.getError_czzhiu$=function(t){return this.errQuadric.transform_5s4mpv$(this.tmpVec4_0.set_2qa7tb$(t,1)),this.tmpVec4_0.x*t.x+this.tmpVec4_0.y*t.y+this.tmpVec4_0.z*t.z+this.tmpVec4_0.w},Vr.prototype.addPlane_0=function(t){this.errQuadric.set_224j3y$(0,0,this.errQuadric.get_vux9f0$(0,0)+t.x*t.x),this.errQuadric.set_224j3y$(1,0,this.errQuadric.get_vux9f0$(1,0)+t.x*t.y),this.errQuadric.set_224j3y$(2,0,this.errQuadric.get_vux9f0$(2,0)+t.x*t.z),this.errQuadric.set_224j3y$(3,0,this.errQuadric.get_vux9f0$(3,0)+t.x*t.w),this.errQuadric.set_224j3y$(0,1,this.errQuadric.get_vux9f0$(0,1)+t.y*t.x),this.errQuadric.set_224j3y$(1,1,this.errQuadric.get_vux9f0$(1,1)+t.y*t.y),this.errQuadric.set_224j3y$(2,1,this.errQuadric.get_vux9f0$(2,1)+t.y*t.z),this.errQuadric.set_224j3y$(3,1,this.errQuadric.get_vux9f0$(3,1)+t.y*t.w),this.errQuadric.set_224j3y$(0,2,this.errQuadric.get_vux9f0$(0,2)+t.z*t.x),this.errQuadric.set_224j3y$(1,2,this.errQuadric.get_vux9f0$(1,2)+t.z*t.y),this.errQuadric.set_224j3y$(2,2,this.errQuadric.get_vux9f0$(2,2)+t.z*t.z),this.errQuadric.set_224j3y$(3,2,this.errQuadric.get_vux9f0$(3,2)+t.z*t.w),this.errQuadric.set_224j3y$(0,3,this.errQuadric.get_vux9f0$(0,3)+t.w*t.x),this.errQuadric.set_224j3y$(1,3,this.errQuadric.get_vux9f0$(1,3)+t.w*t.y),this.errQuadric.set_224j3y$(2,3,this.errQuadric.get_vux9f0$(2,3)+t.w*t.z),this.errQuadric.set_224j3y$(3,3,this.errQuadric.get_vux9f0$(3,3)+t.w*t.w)},Vr.$metadata$={kind:$,simpleName:"ErrorQuadric",interfaces:[]},Object.defineProperty(Wr.prototype,"mesh_c14x7o$_0",{configurable:!0,get:function(){return null==this.mesh_c14x7o$_aesyuh$_0?_t("mesh"):this.mesh_c14x7o$_aesyuh$_0},set:function(t){this.mesh_c14x7o$_aesyuh$_0=t}}),Wr.prototype.simplifyMesh_mnbsaa$=function(t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!0),this.mesh_c14x7o$_0=t;var o=Hj.Log,r=vC.DEBUG,s=e.getKClassFromExpression(this).simpleName;r.level>=o.level.level&&o.printer(r,s,"Simplifying mesh: "+t.faceCount+" faces / "+t.vertCount+" vertices...");var a=new eS;this.quadrics_h71pfh$_0.clear(),this.candidates_gym04f$_0.clear(),this.termCrit.init_nbf0q6$(t);var l=t.faceCount/2|0;this.rebuildCollapseQueue_sifma0$_0();for(var p={v:0};this.candidates_gym04f$_0.isNotEmpty()&&this.candidates_gym04f$_0.peek().error<gt.MAX_VALUE&&!this.termCrit.isFinished_6w1xds$(t,p.v);){t.faceCount<l&&(this.reshapeTriangles_ps2mgc$_0(),l=t.faceCount/2|0);var u=this.candidates_gym04f$_0.poll();if(u.edge.isDeleted||u.q1.isDeleted||u.q2.isDeleted){var c=Hj.Log,_=vC.WARN,h=e.getKClassFromExpression(this).simpleName;_.level>=c.level.level&&c.printer(_,h,"Invalid edge: already deleted!")}else if(u.edgeId.fromId===u.edge.from.index&&u.edgeId.toId===u.edge.to.index){var d=u.error;if(u.updateCollapsePosAndError(),d===u.error){if(!(u.error<gt.MAX_VALUE)){var f=Hj.Log,m=vC.DEBUG,y=e.getKClassFromExpression(this).simpleName;m.level>=f.level.level&&f.printer(m,y,"No more collapsable edges");break}p.v=u.collapse()}else this.candidates_gym04f$_0.plusAssign_g91td9$(u)}else{var $=Hj.Log,b=vC.ERROR,g=e.getKClassFromExpression(this).simpleName;b.level>=$.level.level&&$.printer(b,g,"Invalid edge: inconsistent vertex indices"),this.rebuildCollapseQueue_sifma0$_0()}}t.rebuild_dqye30$(n,i);var v=Hj.Log,x=vC.DEBUG,w=e.getKClassFromExpression(this).simpleName;x.level>=v.level.level&&v.printer(x,w,"Mesh simplification done! "+t.faceCount+" faces / "+t.vertCount+" vertices remain, last error: "+p.v+", took "+Dk(a.takeSecs(),3)+" s")},Wr.prototype.reshapeTriangles_ps2mgc$_0=function(){var t,e=Mo(),n=Mo();for(t=this.mesh_c14x7o$_0.edgeHandler.distinctTriangleEdges().iterator();t.hasNext();){var i=t.next();if(i.computeTriAspectRatio()>50){var o=i.computeLength(),r=i.next.computeLength(),s=i.next.next.computeLength(),a=o>r&&o>s?i:r>o&&r>s?i.next:i.next.next;e.set_czzhiu$(i.to).subtract_czzhiu$(i.from).norm(),n.set_czzhiu$(i.next.from).subtract_czzhiu$(i.next.to);var l=1-e.dot_czzhiu$(n)/a.computeLength();l>.1&&l<.9&&a.split_mx4ult$(l)}}this.rebuildCollapseQueue_sifma0$_0()},Wr.prototype.rebuildCollapseQueue_sifma0$_0=function(){var t;for(this.candidates_gym04f$_0.clear(),t=this.mesh_c14x7o$_0.edgeHandler.iterator();t.hasNext();){var e=t.next();this.insertEdge_56qw8l$_0(e)}},Wr.prototype.insertEdge_56qw8l$_0=function(t){if(!this.excludedEdges.contains_11rb$(t)&&(t.from.index<t.to.index||null==t.opp)){var e,n=this.quadrics_h71pfh$_0,i=t.from.index,o=n.get_11rb$(i);if(null==o){var r=new Vr(t.from);r.isStickyVertex=this.stickyVertices.contains_11rb$(t.from);var s=r;n.put_xwzc9p$(i,s),e=s}else e=o;var a,l=e,p=this.quadrics_h71pfh$_0,u=t.to.index,c=p.get_11rb$(u);if(null==c){var _=new Vr(t.to);_.isStickyVertex=this.stickyVertices.contains_11rb$(t.to);var h=_;p.put_xwzc9p$(u,h),a=h}else a=c;var d=a;l.isStickyVertex&&d.isStickyVertex||this.keepBorders&&(l.isBorder||d.isBorder)||this.candidates_gym04f$_0.plusAssign_g91td9$(new Gr(this,t,l,d))}},Gr.prototype.updateCollapsePosAndError=function(){this.error=this.$outer.collapseStrategy.computeCollapsePosition_2pqe3s$(this.q1,this.q2,this.collapsePos)},Gr.prototype.collapse=function(){if(this.$outer.quadrics_h71pfh$_0.remove_11rb$(this.q2.vertex.index)!==this.q2)throw xt("Quadric removal failed!");var t,e,n=ht();for(this.collectAffectedEdges_0(this.q1.vertex,n),this.collectAffectedEdges_0(this.q2.vertex,n),this.$outer,t=n.iterator();t.hasNext();){var i=t.next();this.$outer.candidates_gym04f$_0.removeByVertexIndices_vux9f0$(i.from.index,i.to.index)}for(this.q1.consume_zdf47l$(this.q2),this.edge.collapse_mx4ult$(0),this.q1.vertex.updatePosition_czzhiu$(this.collapsePos),n.clear(),this.collectAffectedEdges_0(this.q1.vertex,n),this.$outer,e=n.iterator();e.hasNext();){var o=e.next();this.$outer.insertEdge_56qw8l$_0(o)}return this.error},Gr.prototype.collectAffectedEdges_0=function(t,e){var n;for(n=t.edges.iterator();n.hasNext();){var i=n.next();e.add_11rb$(i);var o=i.next.next;e.add_11rb$(o)}},Gr.$metadata$={kind:$,simpleName:"CollapseCandidate",interfaces:[]},Hr.$metadata$={kind:$,simpleName:"EdgeId",interfaces:[]},Hr.prototype.component1=function(){return this.fromId},Hr.prototype.component2=function(){return this.toId},Hr.prototype.copy_vux9f0$=function(t,e){return new Hr(void 0===t?this.fromId:t,void 0===e?this.toId:e)},Hr.prototype.toString=function(){return"EdgeId(fromId="+e.toString(this.fromId)+", toId="+e.toString(this.toId)+")"},Hr.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.fromId)|0)+e.hashCode(this.toId)|0},Hr.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.fromId,t.fromId)&&e.equals(this.toId,t.toId)},Xr.prototype.isNotEmpty=function(){return!this.isEmpty()},Xr.prototype.peek=function(){return F(this.firstValue())},Xr.prototype.poll=function(){var t=this.firstValue(),e=t.removeAt_za3lpa$(wt(t));t.isEmpty()&&this.remove_11rb$(this.firstKey());var n=this.candidateMap,i=e.edgeId;return n.remove_11rb$(i),e},Xr.prototype.clear=function(){gk.prototype.clear.call(this),this.candidateMap.clear()},Xr.prototype.removeByVertexIndices_vux9f0$=function(t,e){var n=this.candidateMap.remove_11rb$(new Hr(t,e));return null!=n&&this.minusAssign_g91td9$(n),n},Xr.prototype.plusAssign_g91td9$=function(t){var e,n=t.error,i=this.get_11rb$(n);if(null==i){var o=E();this.put_xwzc9p$(n,o),e=o}else e=i;e.add_11rb$(t);var r=this.candidateMap,s=t.edgeId;r.put_xwzc9p$(s,t)},Xr.prototype.minusAssign_g91td9$=function(t){var e=this.get_11rb$(t.error);null!=e&&(e.remove_11rb$(t),e.isEmpty()&&this.remove_11rb$(t.error));var n=this.candidateMap,i=t.edgeId;n.remove_11rb$(i)},Xr.$metadata$={kind:$,simpleName:"CollapseCandidates",interfaces:[gk]},Wr.$metadata$={kind:$,simpleName:"MeshSimplifier",interfaces:[]},Kr.prototype.init_nbf0q6$=function(t){},Kr.$metadata$={kind:Z,simpleName:"TermCriterion",interfaces:[]},Yr.prototype.init_nbf0q6$=function(t){this.targetFaceCnt=U(lt(t.faceCount*this.closure$factor))},Yr.prototype.isFinished_6w1xds$=function(t,e){return t.faceCount<=this.targetFaceCnt},Yr.$metadata$={kind:$,interfaces:[Kr]},Zr.$metadata$={kind:$,simpleName:"GlslType",interfaces:[P]},Zr.values=function(){return[Qr(),ts(),es(),ns(),is(),os(),rs(),ss(),as(),ls(),ps()]},Zr.valueOf_61zpoe$=function(t){switch(t){case"FLOAT":return Qr();case"VEC_2F":return ts();case"VEC_3F":return es();case"VEC_4F":return ns();case"INT":return is();case"VEC_2I":return os();case"VEC_3I":return rs();case"VEC_4I":return ss();case"MAT_2F":return as();case"MAT_3F":return ls();case"MAT_4F":return ps();default:T("No enum constant de.fabmax.kool.pipeline.GlslType."+t)}},us.prototype.toString=function(){return this.name},cs.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var _s=null;function hs(){return null===_s&&new cs,_s}function ds(t,e){var n;ys(),ya.call(this,t,e),this.shadowPipelines_j0os6i$_0=C(),this.cullMethod=null,this.onAfterCollectDrawCommands.add_11rb$((n=this,function(t){var e;for(e=n.drawQueue.commands.iterator();e.hasNext();){var i=e.next();i.pipeline=n.getShadowPipeline_sbx4mf$(i.mesh,t)}return a}))}function fs(){ms=this}us.$metadata$={kind:$,simpleName:"Attribute",interfaces:[]},us.prototype.component1=function(){return this.name},us.prototype.component2=function(){return this.type},us.prototype.copy_xzl57b$=function(t,e){return new us(void 0===t?this.name:t,void 0===e?this.type:e)},us.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.name)|0)+e.hashCode(this.type)|0},us.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.name,t.name)&&e.equals(this.type,t.type)},ds.prototype.getShadowPipeline_sbx4mf$=function(t,e){var n,i,o,r,s=null!=(o=null!=(i=this.cullMethod)?i:null!=(n=t.getPipeline_aemszp$(e))?n.cullMethod:null)?o:Nl(),a=this.shadowPipelines_j0os6i$_0,l=t.id,p=a.get_11rb$(l);if(null==p){var u=this.createPipeline_wgobnr$(t,s,e);a.put_xwzc9p$(l,u),r=u}else r=p;return r},ds.prototype.createPipeline_wgobnr$=function(t,e,n){var i,o=new tu("DepthShader"),r=new nu(o),s=r.premultipliedMvpNode().outMvpMat;if(null!=t.instances&&(s=r.multiplyNode_ze33is$(s,r.instanceAttrModelMat().output).output),null!=t.skin){var l=r.skinTransformNode_78eraa$(r.attrJoints().output,r.attrWeights().output);s=r.multiplyNode_ze33is$(s,l.outJointMat).output}var p={v:r.attrPositions().output};if(null!=(i=t.morphWeights)){var c=t.geometry.getMorphAttributes();if(!c.isEmpty()){var _,h,d=r.morphWeightsNode_za3lpa$(i.length),f=E();for(_=c.iterator();_.hasNext();){var m=_.next();u(m.name,hs().POSITIONS.name)&&f.add_11rb$(m)}for(h=f.iterator();h.hasNext();){var y=h.next(),$=r.getMorphWeightNode_dcktnw$(c.indexOf_11rb$(y),d),b=r.multiplyNode_ze33is$(r.attributeNode_nm2vx5$(y).output,$.outWeight);p.v=r.addNode_ze33is$(p.v,b.output).output}}}r.positionOutput=r.vec4TransformNode_9krp9t$(p.v,s).outVec4;var g=new iu(o);g.colorOutput_a3v4si$(g.constVec4f_czzhhz$(O$().RED));var v,x=new zc(o);return x.onPipelineSetup.add_11rb$((v=e,function(t,e,n){return t.blendMode=_l(),t.cullMethod=v,a})),x.createPipeline_sbx4mf$(t,n)},ds.prototype.dispose_aemszp$=function(t){var e;for(ya.prototype.dispose_aemszp$.call(this,t),e=Ct(this.shadowPipelines_j0os6i$_0.values).iterator();e.hasNext();){var n=e.next();t.disposePipeline_i7l2g2$(n)}},fs.prototype.defaultSetup_vux9f0$=function(t,e){var n=new ua;return n.name="DepthMapPass",n.setSize_vux9f0$(t,e),n.clearColorTexture(),n.setDepthTexture_6taknv$(!1),new pa(n)},fs.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var ms=null;function ys(){return null===ms&&new fs,ms}function $s(t,e){var n;Ms(),ds.call(this,t,e),this.name="NormalLinearDepthMapPass",this.onAfterCollectDrawCommands.add_11rb$((n=this,function(t){return n.clearColor=new N$(0,1,0,1),a}))}function bs(t,e){ou.call(this,"normalLinearDepth",e),this.inNormals=t,this.outColor=new ru(new zp("normaLinearDepth"),this)}function gs(){Es=this}ds.$metadata$={kind:$,simpleName:"DepthMapPass",interfaces:[ya]},$s.prototype.createPipeline_wgobnr$=function(t,e,n){if(!t.geometry.hasAttribute_nm2vx5$(hs().NORMALS))return null;var i,o=new tu("NormalLinearDepth Shader"),r={v:null},s=new nu(o),l=s.mvpNode(),p=s.multiplyNode_ze33is$(l.outViewMat,l.outModelMat).output,c=l.outMvpMat;if(null!=t.instances&&(c=s.multiplyNode_ze33is$(c,s.instanceAttrModelMat().output).output,p=s.multiplyNode_ze33is$(p,s.instanceAttrModelMat().output).output),null!=t.skin){var _=s.skinTransformNode_78eraa$(s.attrJoints().output,s.attrWeights().output);c=s.multiplyNode_ze33is$(c,_.outJointMat).output,p=s.multiplyNode_ze33is$(p,_.outJointMat).output}var h={v:s.attrPositions().output},d={v:s.attrNormals().output};if(null!=(i=t.morphWeights)){var f=t.geometry.getMorphAttributes();if(!f.isEmpty()){var m,y,$=s.morphWeightsNode_za3lpa$(i.length),b=E();for(m=f.iterator();m.hasNext();){var g=m.next();u(g.name,hs().POSITIONS.name)&&b.add_11rb$(g)}for(y=b.iterator();y.hasNext();){var v=y.next(),x=s.getMorphWeightNode_dcktnw$(f.indexOf_11rb$(v),$),w=s.multiplyNode_ze33is$(s.attributeNode_nm2vx5$(v).output,x.outWeight);h.v=s.addNode_ze33is$(h.v,w.output).output}var z,C,S=E();for(z=f.iterator();z.hasNext();){var k=z.next();u(k.name,hs().NORMALS.name)&&S.add_11rb$(k)}for(C=S.iterator();C.hasNext();){var L=C.next(),j=s.getMorphWeightNode_dcktnw$(f.indexOf_11rb$(L),$),N=s.multiplyNode_ze33is$(s.attributeNode_nm2vx5$(L).output,j.outWeight);d.v=s.addNode_ze33is$(d.v,N.output).output}}}var P=s.vec3TransformNode_vid4wo$(d.v,p,0);r.v=s.stageInterfaceNode_iikjwn$("ifNormals",P.outVec3),s.positionOutput=s.vec4TransformNode_9krp9t$(h.v,c).outVec4;var T=new iu(o),O=T.flipBacksideNormalNode_r20yfm$(r.v.output).outNormal,M=T.addNode_u9w9by$(new bs(O,T.stage));T.colorOutput_a3v4si$(M.outColor);var R,I=new zc(o);return I.onPipelineSetup.add_11rb$((R=e,function(t,e,n){return t.blendMode=_l(),t.cullMethod=R,a})),I.createPipeline_sbx4mf$(t,n)},bs.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                float d = gl_FragCoord.z / gl_FragCoord.w;\n                "+this.outColor.declare()+" = vec4(normalize("+this.inNormals.ref3f_61zpoe$()+"), -d);\n            ")},bs.$metadata$={kind:$,simpleName:"NormalLinearDepthNode",interfaces:[ou]},gs.prototype.normalLinearDepthSetup_0=function(t,e){var n=new ua;return n.name="NormalLinearDepthMapPass",n.setSize_vux9f0$(t,e),n.clearDepthTexture(),n.addColorTexture_farcsl$(y_()),new pa(n)},gs.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var vs,xs,ws,zs,Cs,Ss,ks,Ls,js,Ns,Ps,Ts,Os,Es=null;function Ms(){return null===Es&&new gs,Es}function Rs(t,e,n,i){return void 0===n&&(n=e),i=i||Object.create($s.prototype),$s.call(i,t,Ms().normalLinearDepthSetup_0(e,n)),i}function Is(t,n){this.set=t,this.descriptors=n,this.longHash=null;var i,o={v:new St(e.Long.ZERO)};for(i=this.descriptors.iterator();i.hasNext();){var r=i.next(),s=o.v,a=new St(e.Long.fromInt(71023)),l=new St(s.data.multiply(a.data)),p=r.longHash;o.v=new St(l.data.add(p.data))}this.longHash=o.v}function As(){this.descriptors=E()}function Ds(t,n,i,o){this.binding=n,this.type=i,this.name=t.name,this.stages=j$(t.stages),this.longHash=null;var r=o,s=r,a=new St(e.Long.fromInt(71023)),l=new St(s.data.multiply(a.data)),p=at(t.name),u=new St(e.Long.fromInt(p)),c=r=new St(l.data.add(u.data)),_=new St(e.Long.fromInt(71023)),h=new St(c.data.multiply(_.data)),d=this.type.hashCode(),f=new St(e.Long.fromInt(d));r=new St(h.data.add(f.data)),this.longHash=r}function Bs(){this.name="",this.stages=ht()}function Fs(t,e,n){Ds.call(this,t,e,Qs(),n),this.arraySize=t.arraySize,this.onUpdate=t.onUpdate;var i,o=I(this.arraySize);i=o.length-1|0;for(var r=0;r<=i;r++)o[r]=null;this.textures=o}function qs(){Bs.call(this),this.arraySize=1,this.isDepthSampler=!1,this.onUpdate=null,this.onCreate=null,this.name="texture"}function Us(t,e,n){Ds.call(this,t,e,ta(),n),this.arraySize=t.arraySize,this.isDepthSampler=t.isDepthSampler,this.onUpdate=t.onUpdate;var i,o=I(this.arraySize);i=o.length-1|0;for(var r=0;r<=i;r++)o[r]=null;this.textures=o}function Vs(){Bs.call(this),this.arraySize=1,this.isDepthSampler=!1,this.onUpdate=null,this.onCreate=null,this.name="texture"}function Ws(t,e,n){Ds.call(this,t,e,ea(),n),this.arraySize=t.arraySize,this.onUpdate=t.onUpdate;var i,o=I(this.arraySize);i=o.length-1|0;for(var r=0;r<=i;r++)o[r]=null;this.textures=o}function Gs(){Bs.call(this),this.arraySize=1,this.onUpdate=null,this.onCreate=null,this.name="texture"}function Hs(t,e,n){Ds.call(this,t,e,na(),n),this.arraySize=t.arraySize,this.isDepthSampler=t.isDepthSampler,this.onUpdate=t.onUpdate;var i,o=I(this.arraySize);i=o.length-1|0;for(var r=0;r<=i;r++)o[r]=null;this.textures=o}function Xs(){Bs.call(this),this.arraySize=1,this.isDepthSampler=!1,this.onUpdate=null,this.onCreate=null,this.name="cubeTexture"}function Ks(t,e,n,i){Ds.call(this,t,e,ia(),i),this.uniforms=n,this.instanceName=t.instanceName,this.onUpdate=t.onUpdate,this.layout_0=new s_(this.uniforms),this.size=this.layout_0.size}function Ys(){Bs.call(this),this.instanceName=null,this.uniforms=E(),this.onUpdate=null,this.onCreate=null,this.name="Ubo"}function Zs(t,e){P.call(this),this.name$=t,this.ordinal$=e}function Js(){Js=function(){},vs=new Zs("SAMPLER_1D",0),xs=new Zs("SAMPLER_2D",1),ws=new Zs("SAMPLER_3D",2),zs=new Zs("SAMPLER_CUBE",3),Cs=new Zs("UNIFORM_BUFFER",4)}function Qs(){return Js(),vs}function ta(){return Js(),xs}function ea(){return Js(),ws}function na(){return Js(),zs}function ia(){return Js(),Cs}function oa(t){this.renderPass=t,this.mesh_aolzlu$_0=this.mesh_aolzlu$_0,this.pipeline=null,this.modelMat=new Ni,this.viewMat=new Ni,this.projMat=new Ni,this.mvpMat=new Ni,this.mvpMatD_0=new xi}function ra(t){this.renderPass=t,this.mutCommands_0=E(),this.commandPool_0=E(),this.meshFilter=sa}function sa(t){return!0}function aa(){}function la(t,e){Ml.call(this,t),this.config=e,this.isEnabled=!0,this.width_6fsav1$_0=this.config.width,this.height_4loxs4$_0=this.config.height;var n=new td;n.projCorrectionMode=Jh(),this.camera_et6fa$_0=n,this.onSetupMipLevel=null,this.name=this.config.name;var i,o=I(this.config.nColorAttachments);i=o.length-1|0;for(var r=0;r<=i;r++)o[r]=null;this.clearColors=o,this.applyMipViewport_za3lpa$(0),0===this.width&&(this.width=16),0===this.height&&(this.height=16)}function pa(t){var n,i,o;if(this.name=t.name,this.width=t.width,this.height=t.height,this.mipLevels=t.mipLevels,this.drawMipLevels=t.drawMipLevels,this.depthRenderTarget=t.depthRenderTarget,this.colorRenderTarget=t.colorRenderTarget,i=this.depthRenderTarget===fa()&&null!=(n=t.depthAttachment)?new ca(n):null,this.depthAttachment=i,this.colorRenderTarget===fa()){var r,s=t.colorAttachments,a=z(M(s,10));for(r=s.iterator();r.hasNext();){var l=r.next();a.add_11rb$(new ca(l))}o=a}else o=jt();if(this.colorAttachments=o,this.nColorAttachments=this.colorAttachments.size,this.colorRenderTarget===fa()&&this.colorAttachments.isEmpty())throw xt("colorAttachments must be configured if colorRenderTarget is TEXTURE");var p=this.colorRenderTarget===ma();if(p&&(p=!t.colorAttachments.isEmpty()),p){var u=Hj.Log,c=vC.WARN,_=e.getKClassFromExpression(this).simpleName;c.level>=u.level.level&&u.printer(c,_,"colorAttachments are ignored if colorRenderTarget is RENDER_BUFFER")}if(this.depthRenderTarget===fa()&&null==this.depthAttachment)throw xt("depthAttachment must be configured if depthRenderTarget is TEXTURE");if(this.depthRenderTarget===ma()&&null!=t.depthAttachment){var h=Hj.Log,d=vC.WARN,f=e.getKClassFromExpression(this).simpleName;d.level>=h.level.level&&h.printer(d,f,"depthAttachment is ignored if depthRenderTarget is RENDER_BUFFER")}}function ua(){this.name="OffscreenRenderPass",this.width=0,this.height=0,this.mipLevels=1,this.drawMipLevels=!0,this.colorRenderTarget=fa(),this.depthRenderTarget=ma(),this.colorAttachments=E(),this.depthAttachment=null}function ca(t){this.colorFormat=t.colorFormat,this.minFilter=t.minFilter,this.magFilter=t.magFilter,this.addressModeU=t.addressModeU,this.addressModeV=t.addressModeV,this.depthCompareOp=t.depthCompareOp,this.maxAnisotropy=1,this.providedTexture=t.providedTexture}function _a(){this.colorFormat=h_(),this.minFilter=Y_(),this.magFilter=Y_(),this.addressModeU=Q_(),this.addressModeV=Q_(),this.depthCompareOp=$l(),this.providedTexture=null}function ha(t,e){P.call(this),this.name$=t,this.ordinal$=e}function da(){da=function(){},Ss=new ha("TEXTURE",0),ks=new ha("RENDER_BUFFER",1)}function fa(){return da(),Ss}function ma(){return da(),ks}function ya(t,e){la.call(this,t,e),this.impl_8be2vx$=new Uk(this),this.depthTexture=this.makeDepthAttachmentTex_qnmoqa$_0(),this.colorTextures=this.makeColorAttachmentTexs_o5wgst$_0(),this.copyTargetsColor=E()}function $a(t,e){la.call(this,t,e),this.impl_8be2vx$=new Vk(this),this.depthTexture=this.makeDepthAttachmentTex_17p1u7$_0(),this.colorTextures=this.makeColorAttachmentTexs_gs6cwg$_0(),this.copyTargetsColor=E(),this.onSetupView_3plctr$_0=this.onSetupView_3plctr$_0;var n,i=I(6);n=i.length-1|0;for(var o=0;o<=n;o++)i[o]=new ra(this);if(this.drawQueues=i,this.defaultCubeMapCameraConfig_ubu93h$_0(),e.depthRenderTarget===fa())throw Pt("CubeMapDepthTexture not yet implemented");if(e.colorAttachments.size>1)throw Pt("CubeMap multiple render targets not yet implemented")}function ba(t,e){this.lookAt=t,this.up=e}function ga(t,e,n){P.call(this),this.index=n,this.name$=t,this.ordinal$=e}function va(){va=function(){},Ls=new ga("FRONT",0,0),js=new ga("BACK",1,1),Ns=new ga("LEFT",2,2),Ps=new ga("RIGHT",3,3),Ts=new ga("UP",4,4),Os=new ga("DOWN",5,5)}function xa(){return va(),Ls}function wa(){return va(),js}function za(){return va(),Ns}function Ca(){return va(),Ps}function Sa(){return va(),Ts}function ka(){return va(),Os}function La(){return[xa(),wa(),za(),Ca(),Sa(),ka()]}function ja(t){var n;pl(),this.name=t.name,this.pipelineHash=null,this.pipelineInstanceId=(n=pl().instanceId_0,pl().instanceId_0=n.inc(),n),this.cullMethod=t.cullMethod,this.blendMode=t.blendMode,this.depthCompareOp=t.depthTest,this.isWriteDepth=t.isWriteDepth,this.lineWidth=t.lineWidth,this.layout=null,this.shaderCode=null;var i,o,r=t.vertexLayout.create(),s=t.descriptorSetLayouts,a=z(M(s,10)),l=0;for(i=s.iterator();i.hasNext();){var p=i.next();a.add_11rb$(p.create_za3lpa$(et((l=(o=l)+1|0,o))))}var u,c=a,_=t.pushConstantRanges,h=z(M(_,10));for(u=_.iterator();u.hasNext();){var d=u.next();h.add_11rb$(d.create())}var f=h;this.layout=new Na(r,c,f),this.shaderCode=t.shaderCodeGenerator(this.layout);var m=this.cullMethod.hashCode(),y={v:new St(e.Long.fromInt(m))},$=y.v,b=new St(e.Long.fromInt(71023)),g=new St($.data.multiply(b.data)),v=this.depthCompareOp.hashCode(),x=new St(e.Long.fromInt(v));y.v=new St(g.data.add(x.data));var w=y.v,C=new St(e.Long.fromInt(71023)),S=new St(w.data.multiply(C.data)),k=at(this.isWriteDepth),L=new St(e.Long.fromInt(k));y.v=new St(S.data.add(L.data));var j=y.v,N=new St(e.Long.fromInt(71023)),P=new St(j.data.multiply(N.data)),T=at(this.lineWidth),O=new St(e.Long.fromInt(T));y.v=new St(P.data.add(O.data));var E=y.v,R=new St(e.Long.fromInt(71023)),I=new St(E.data.multiply(R.data)),A=r.longHash;y.v=new St(I.data.add(A.data));var D,B,F=y.v,q=new St(e.Long.fromInt(71023)),U=new St(F.data.multiply(q.data)),V=this.shaderCode.longHash;for(y.v=new St(U.data.add(V.data)),D=c.iterator();D.hasNext();){var W=D.next(),G=y.v,H=new St(e.Long.fromInt(71023)),X=new St(G.data.multiply(H.data)),K=W.longHash;y.v=new St(X.data.add(K.data))}for(B=f.iterator();B.hasNext();){var Y=B.next(),Z=y.v,J=new St(e.Long.fromInt(71023)),Q=new St(Z.data.multiply(J.data)),tt=Y.longHash;y.v=new St(Q.data.add(tt.data))}this.pipelineHash=y.v}function Na(t,e,n){this.vertices=t,this.descriptorSets=e,this.pushConstantRanges=n}function Pa(){this.name="pipeline",this.cullMethod=Nl(),this.blendMode=_l(),this.depthTest=vl(),this.isWriteDepth=!0,this.lineWidth=1,this.shaderCodeGenerator_j5ii45$_0=this.shaderCodeGenerator_j5ii45$_0,this.vertexLayout=new Bh,this.descriptorSetLayouts=E(),this.pushConstantRanges=E()}function Ta(){ll=this,this.instanceId_0=Tt}$s.$metadata$={kind:$,simpleName:"NormalLinearDepthMapPass",interfaces:[ds]},As.prototype.unaryPlus_ngusss$=function(t){this.descriptors.add_11rb$(t)},As.prototype.uniformBuffer_2ydyu8$=function(t,e,n){var i=new Ys;i.name=t,kt(i.stages,e),n(i),this.unaryPlus_ngusss$(i)},As.prototype.texture1d_la8pbu$=function(t,e,n){var i=new qs;i.name=t,kt(i.stages,e),n(i),this.unaryPlus_ngusss$(i)},As.prototype.texture2d_me4w2j$=function(t,e,n){var i=new Vs;i.name=t,kt(i.stages,e),n(i),this.unaryPlus_ngusss$(i)},As.prototype.texture3d_ni12t8$=function(t,e,n){var i=new Gs;i.name=t,kt(i.stages,e),n(i),this.unaryPlus_ngusss$(i)},As.prototype.textureCube_9fohmg$=function(t,e,n){var i=new Xs;i.name=t,kt(i.stages,e),n(i),this.unaryPlus_ngusss$(i)},As.prototype.create_za3lpa$=function(t){for(var e=this.descriptors.size,n=z(e),i=0;i<e;i++)n.add_11rb$(this.descriptors.get_za3lpa$(i).create_za3lpa$(i));return new Is(t,n)},As.prototype.clear=function(){this.descriptors.clear()},As.$metadata$={kind:$,simpleName:"Builder",interfaces:[]},Is.$metadata$={kind:$,simpleName:"DescriptorSetLayout",interfaces:[]},Bs.$metadata$={kind:$,simpleName:"Builder",interfaces:[]},Ds.$metadata$={kind:$,simpleName:"Descriptor",interfaces:[]},Object.defineProperty(Fs.prototype,"texture",{configurable:!0,get:function(){return this.textures[0]},set:function(t){this.textures[0]=t}}),qs.prototype.create_za3lpa$=function(t){var n,i=Qs().hashCode(),o=new St(e.Long.fromInt(i)),r=new St(e.Long.fromInt(71023)),s=new Fs(this,t,new St(o.data.multiply(r.data)));return null!=(n=this.onCreate)&&n(s),s},qs.$metadata$={kind:$,simpleName:"Builder",interfaces:[Bs]},Fs.$metadata$={kind:$,simpleName:"TextureSampler1d",interfaces:[Ds]},Object.defineProperty(Us.prototype,"texture",{configurable:!0,get:function(){return this.textures[0]},set:function(t){this.textures[0]=t}}),Vs.prototype.create_za3lpa$=function(t){var n,i=ta().hashCode(),o=new St(e.Long.fromInt(i)),r=new St(e.Long.fromInt(71023)),s=new Us(this,t,new St(o.data.multiply(r.data)));return null!=(n=this.onCreate)&&n(s),s},Vs.$metadata$={kind:$,simpleName:"Builder",interfaces:[Bs]},Us.$metadata$={kind:$,simpleName:"TextureSampler2d",interfaces:[Ds]},Object.defineProperty(Ws.prototype,"texture",{configurable:!0,get:function(){return this.textures[0]},set:function(t){this.textures[0]=t}}),Gs.prototype.create_za3lpa$=function(t){var n,i=ea().hashCode(),o=new St(e.Long.fromInt(i)),r=new St(e.Long.fromInt(71023)),s=new Ws(this,t,new St(o.data.multiply(r.data)));return null!=(n=this.onCreate)&&n(s),s},Gs.$metadata$={kind:$,simpleName:"Builder",interfaces:[Bs]},Ws.$metadata$={kind:$,simpleName:"TextureSampler3d",interfaces:[Ds]},Object.defineProperty(Hs.prototype,"texture",{configurable:!0,get:function(){return this.textures[0]},set:function(t){this.textures[0]=t}}),Xs.prototype.create_za3lpa$=function(t){var n,i=na().hashCode(),o=new St(e.Long.fromInt(i)),r=new St(e.Long.fromInt(71023)),s=new Hs(this,t,new St(o.data.multiply(r.data)));return null!=(n=this.onCreate)&&n(s),s},Xs.$metadata$={kind:$,simpleName:"Builder",interfaces:[Bs]},Hs.$metadata$={kind:$,simpleName:"TextureSamplerCube",interfaces:[Ds]},Ks.prototype.putTo_l6oshk$=function(t){this.layout_0.putTo_l6oshk$(t),t.flip()},Ks.prototype.uniform_ww73n8$=function(t){var n;return null==(n=this.uniforms.get_za3lpa$(t))||e.isType(n,W)?n:_()},Ys.prototype.unaryPlus_wq3w46$=function(t){this.uniforms.add_11rb$(t)},Ys.prototype.create_za3lpa$=function(t){for(var n,i=this.uniforms.size,o=z(i),r=0;r<i;r++)o.add_11rb$(this.uniforms.get_za3lpa$(r)());var s,a=o,l=ia().hashCode(),p=new St(e.Long.fromInt(l)),u=new St(e.Long.fromInt(71023)),c={v:new St(p.data.multiply(u.data))};for(s=a.iterator();s.hasNext();){var _=s.next(),h=c.v,d=new St(e.Long.fromInt(71023)),f=new St(h.data.multiply(d.data)),m=e.getKClassFromExpression(_).hashCode(),y=new St(e.Long.fromInt(m));c.v=new St(f.data.add(y.data));var $=c.v,b=new St(e.Long.fromInt(71023)),g=new St($.data.multiply(b.data)),v=at(_.name),x=new St(e.Long.fromInt(v));c.v=new St(g.data.add(x.data))}var w=new Ks(this,t,a,c.v);return null!=(n=this.onCreate)&&n(w),w},Ys.$metadata$={kind:$,simpleName:"Builder",interfaces:[Bs]},Ks.$metadata$={kind:$,simpleName:"UniformBuffer",interfaces:[Ds]},Zs.$metadata$={kind:$,simpleName:"DescriptorType",interfaces:[P]},Zs.values=function(){return[Qs(),ta(),ea(),na(),ia()]},Zs.valueOf_61zpoe$=function(t){switch(t){case"SAMPLER_1D":return Qs();case"SAMPLER_2D":return ta();case"SAMPLER_3D":return ea();case"SAMPLER_CUBE":return na();case"UNIFORM_BUFFER":return ia();default:T("No enum constant de.fabmax.kool.pipeline.DescriptorType."+t)}},Object.defineProperty(oa.prototype,"mesh",{configurable:!0,get:function(){return null==this.mesh_aolzlu$_0?_t("mesh"):this.mesh_aolzlu$_0},set:function(t){this.mesh_aolzlu$_0=t}}),oa.prototype.captureMatrices=function(){this.modelMat.set_d4zu6l$(this.mesh.modelMat),this.viewMat.set_d4zu6l$(this.renderPass.camera.view),this.projMat.set_d4zu6l$(this.renderPass.camera.proj),this.renderPass.camera.viewProj.mul_u47j3u$(this.mesh.modelMat,this.mvpMatD_0),this.mvpMat.set_d4zu6l$(this.mvpMatD_0)},oa.$metadata$={kind:$,simpleName:"DrawCommand",interfaces:[]},Object.defineProperty(ra.prototype,"commands",{configurable:!0,get:function(){return this.mutCommands_0}}),ra.prototype.clear=function(){this.commandPool_0.addAll_brywnq$(this.mutCommands_0),this.mutCommands_0.clear()},ra.prototype.addMesh_sbx4mf$=function(t,e){var n;if(this.meshFilter(t)){var i=this.commandPool_0.isEmpty()?new oa(this.renderPass):this.commandPool_0.removeAt_za3lpa$(wt(this.commandPool_0));i.mesh=t,i.pipeline=t.getPipeline_aemszp$(e),i.captureMatrices(),this.mutCommands_0.add_11rb$(i),n=i}else n=null;return n},ra.$metadata$={kind:$,simpleName:"DrawQueue",interfaces:[]},aa.$metadata$={kind:Z,simpleName:"LoadedTexture",interfaces:[]},Object.defineProperty(la.prototype,"width",{configurable:!0,get:function(){return this.width_6fsav1$_0},set:function(t){this.width_6fsav1$_0=t}}),Object.defineProperty(la.prototype,"height",{configurable:!0,get:function(){return this.height_4loxs4$_0},set:function(t){this.height_4loxs4$_0=t}}),Object.defineProperty(la.prototype,"camera",{configurable:!0,get:function(){return this.camera_et6fa$_0},set:function(t){this.camera_et6fa$_0=t}}),la.prototype.getColorTexProps_za3lpa$=function(t){return void 0===t&&(t=0),this.config.colorAttachments.get_za3lpa$(t).getTextureProps_6taknv$(this.config.mipLevels>1)},la.prototype.getMipWidth_za3lpa$=function(t){return t<=0?this.width:this.width>>t},la.prototype.getMipHeight_za3lpa$=function(t){return t<=0?this.height:this.height>>t},la.prototype.applyMipViewport_za3lpa$=function(t){this.viewport.set_tjonv8$(0,0,this.getMipWidth_za3lpa$(t),this.getMipHeight_za3lpa$(t))},la.prototype.resize_w70mbp$=function(t,n,i){var o=Hj.Log,r=vC.DEBUG,s=e.getKClassFromExpression(this).simpleName;if(r.level>=o.level.level&&o.printer(r,s,"OffscreenPass "+Lt(this.name)+" resized to "+t+" x "+n),0===this.config.width&&0===this.config.height)this.applySize_w70mbp$(t,n,i),this.applyMipViewport_za3lpa$(0);else{var a=Hj.Log,l=vC.ERROR,p=e.getKClassFromExpression(this).simpleName;l.level>=a.level.level&&a.printer(l,p,"OffscreenRenderPass "+Lt(this.name)+" cannot be resized: Size is fixed to "+this.config.width+" x "+this.config.height)}},la.prototype.applySize_w70mbp$=function(t,e,n){this.width=t,this.height=e},pa.$metadata$={kind:$,simpleName:"Config",interfaces:[]},ua.prototype.setDynamicSize=function(){this.width=0,this.height=0},ua.prototype.setSize_vux9f0$=function(t,e){this.width=t,this.height=e},ua.prototype.addMipLevels_ydzd23$=function(t,e,n){void 0===t&&(t=this.width),void 0===e&&(e=this.height),void 0===n&&(n=!0),this.mipLevels=Vi(t,e),this.drawMipLevels=n},ua.prototype.clearDepthTexture=function(){this.depthRenderTarget=ma(),this.depthAttachment=null},ua.prototype.setDepthTexture_6taknv$=function(t){this.depthRenderTarget=fa();var e=new _a;t?(e.minFilter=Y_(),e.magFilter=Y_(),e.depthCompareOp=vl()):(e.minFilter=K_(),e.magFilter=K_(),e.depthCompareOp=$l()),this.depthAttachment=e},ua.prototype.clearColorTexture=function(){this.colorRenderTarget=ma(),this.colorAttachments.clear()},ua.prototype.addColorTexture_farcsl$=function(t){this.colorRenderTarget=fa();var e=this.colorAttachments,n=new _a;n.colorFormat=t,e.add_11rb$(n)},ua.prototype.addColorTexture_1yho43$=function(t){this.colorRenderTarget=fa();var e=this.colorAttachments,n=new _a;t(n),e.add_11rb$(n)},ua.$metadata$={kind:$,simpleName:"ConfigBuilder",interfaces:[]},Object.defineProperty(ca.prototype,"isProvided",{configurable:!0,get:function(){return null!=this.providedTexture}}),ca.prototype.getTextureProps_6taknv$=function(t){return new G_(this.colorFormat,this.addressModeU,this.addressModeV,Q_(),this.minFilter,this.magFilter,t,this.maxAnisotropy)},ca.$metadata$={kind:$,simpleName:"TextureAttachmentConfig",interfaces:[]},_a.$metadata$={kind:$,simpleName:"TextureAttachmentConfigBuilder",interfaces:[]},ha.$metadata$={kind:$,simpleName:"RenderTarget",interfaces:[P]},ha.values=function(){return[fa(),ma()]},ha.valueOf_61zpoe$=function(t){switch(t){case"TEXTURE":return fa();case"RENDER_BUFFER":return ma();default:T("No enum constant de.fabmax.kool.pipeline.OffscreenRenderPass.RenderTarget."+t)}},la.$metadata$={kind:$,simpleName:"OffscreenRenderPass",interfaces:[Ml]},Object.defineProperty(ya.prototype,"colorTexture",{configurable:!0,get:function(){return this.colorTextures.isEmpty()?null:this.colorTextures.get_za3lpa$(0)}}),ya.prototype.copyColor=function(){var t=new j_(this.getColorTexProps_za3lpa$(),Lt(this.name)+"-copy-"+this.copyTargetsColor.size);return this.copyTargetsColor.add_11rb$(t),t},ya.prototype.dispose_aemszp$=function(t){var e;la.prototype.dispose_aemszp$.call(this,t),this.impl_8be2vx$.dispose_aemszp$(t),t.runDelayed_hd6vpk$(3,(e=this,function(t){var n,i;null==(null!=(n=e.config.depthAttachment)?n.providedTexture:null)&&null!=(i=e.depthTexture)&&i.dispose();var o,r,s=0;for(o=e.colorTextures.iterator();o.hasNext();){var l=o.next(),p=e,u=et((s=(r=s)+1|0,r));p.config.colorAttachments.get_za3lpa$(u).isProvided||l.dispose()}return a}))},ya.prototype.applySize_w70mbp$=function(t,e,n){la.prototype.applySize_w70mbp$.call(this,t,e,n),this.impl_8be2vx$.applySize_w70mbp$(t,e,n)},ya.prototype.makeColorAttachmentTexs_o5wgst$_0=function(){var t,n,i=this.config.colorAttachments,o=z(M(i,10)),r=0;for(t=i.iterator();t.hasNext();){var s,a,l=t.next(),p=o.add_11rb$,u=et((r=(n=r)+1|0,n));if(l.isProvided)s=e.isType(a=w(l.providedTexture),j_)?a:_();else{var c=Lt(this.name)+"_color["+u+"]";s=new j_(l.getTextureProps_6taknv$(this.config.mipLevels>1),c)}p.call(o,s)}return o},ya.prototype.makeDepthAttachmentTex_qnmoqa$_0=function(){var t,n;if(null!=(t=this.config.depthAttachment)){var i,o;if(t.isProvided)i=e.isType(o=w(t.providedTexture),j_)?o:_();else{var r=Lt(this.name)+"_depth";i=new j_(t.getTextureProps_6taknv$(this.config.mipLevels>1),r)}n=i}else n=null;return n},ya.$metadata$={kind:$,simpleName:"OffscreenRenderPass2d",interfaces:[la]},Object.defineProperty($a.prototype,"colorTexture",{configurable:!0,get:function(){return this.colorTextures.isEmpty()?null:this.colorTextures.get_za3lpa$(0)}}),Object.defineProperty($a.prototype,"onSetupView",{configurable:!0,get:function(){return null==this.onSetupView_3plctr$_0?_t("onSetupView"):this.onSetupView_3plctr$_0},set:function(t){this.onSetupView_3plctr$_0=t}}),$a.prototype.copyColor=function(){var t=new O_(this.getColorTexProps_za3lpa$(),Lt(this.name)+"-"+this.copyTargetsColor.size);return this.copyTargetsColor.add_11rb$(t),t},$a.prototype.collectDrawCommands_aemszp$=function(t){var e,n;for(e=La(),n=0;n!==e.length;++n){var i=e[n];this.drawQueue=this.drawQueues[i.index],this.onSetupView(i,t),la.prototype.collectDrawCommands_aemszp$.call(this,t)}},$a.prototype.dispose_aemszp$=function(t){var e;la.prototype.dispose_aemszp$.call(this,t),this.impl_8be2vx$.dispose_aemszp$(t),t.runDelayed_hd6vpk$(3,(e=this,function(t){var n,i;null==(null!=(n=e.config.depthAttachment)?n.providedTexture:null)&&null!=(i=e.depthTexture)&&i.dispose();var o,r,s=0;for(o=e.colorTextures.iterator();o.hasNext();){var l=o.next(),p=e,u=et((s=(r=s)+1|0,r));null==p.config.colorAttachments.get_za3lpa$(u).providedTexture&&l.dispose()}return a}))},$a.prototype.applySize_w70mbp$=function(t,e,n){la.prototype.applySize_w70mbp$.call(this,t,e,n),this.impl_8be2vx$.applySize_w70mbp$(t,e,n)},$a.prototype.makeColorAttachmentTexs_gs6cwg$_0=function(){var t,n,i=this.config.colorAttachments,o=z(M(i,10)),r=0;for(t=i.iterator();t.hasNext();){var s,a,l=t.next(),p=o.add_11rb$,u=et((r=(n=r)+1|0,n));if(l.isProvided)s=e.isType(a=l.providedTexture,O_)?a:_();else{var c=Lt(this.name)+"_color["+u+"]";s=new O_(l.getTextureProps_6taknv$(this.config.mipLevels>1),c)}p.call(o,s)}return o},$a.prototype.makeDepthAttachmentTex_17p1u7$_0=function(){var t,n;if(null!=(t=this.config.depthAttachment)){var i,o;if(t.isProvided)i=e.isType(o=t.providedTexture,O_)?o:_();else{var r=Lt(this.name)+"_depth";i=new O_(t.getTextureProps_6taknv$(this.config.mipLevels>1),r)}n=i}else n=null;return n},$a.prototype.defaultCubeMapCameraConfig_ubu93h$_0=function(){var t,n,i=Nt([mt(xa(),new ba(new Lo(0,0,1),Po().NEG_Y_AXIS)),mt(wa(),new ba(new Lo(0,0,-1),Po().NEG_Y_AXIS)),mt(za(),new ba(new Lo(-1,0,0),Po().NEG_Y_AXIS)),mt(Ca(),new ba(new Lo(1,0,0),Po().NEG_Y_AXIS)),mt(Sa(),new ba(new Lo(0,1,0),Po().Z_AXIS)),mt(ka(),new ba(new Lo(0,-1,0),Po().NEG_Z_AXIS))]),o=this.camera;e.isType(o,td)&&(o.position.set_czzhiu$(Po().ZERO),o.fovY=90,o.clipNear=.01,o.clipFar=10,o.projCorrectionMode=Jh()),this.onSetupView=(t=i,n=this,function(e,i){var o=w(t.get_11rb$(e));return n.camera.lookAt.set_czzhiu$(o.lookAt),n.camera.up.set_czzhiu$(o.up),a})},ba.$metadata$={kind:$,simpleName:"ViewConfig",interfaces:[]},ga.$metadata$={kind:$,simpleName:"ViewDirection",interfaces:[P]},ga.values=La,ga.valueOf_61zpoe$=function(t){switch(t){case"FRONT":return xa();case"BACK":return wa();case"LEFT":return za();case"RIGHT":return Ca();case"UP":return Sa();case"DOWN":return ka();default:T("No enum constant de.fabmax.kool.pipeline.OffscreenRenderPassCube.ViewDirection."+t)}},$a.$metadata$={kind:$,simpleName:"OffscreenRenderPassCube",interfaces:[la]},ja.prototype.equals=function(t){var n;return this===t||!!e.isType(t,ja)&&(null!=(n=this.pipelineHash)?n.equals(t.pipelineHash):null)},ja.prototype.hashCode=function(){return this.pipelineHash.hashCode()},Na.$metadata$={kind:$,simpleName:"Layout",interfaces:[]},Object.defineProperty(Pa.prototype,"shaderCodeGenerator",{configurable:!0,get:function(){return null==this.shaderCodeGenerator_j5ii45$_0?_t("shaderCodeGenerator"):this.shaderCodeGenerator_j5ii45$_0},set:function(t){this.shaderCodeGenerator_j5ii45$_0=t}}),Pa.prototype.create=function(){return new ja(this)},Pa.$metadata$={kind:$,simpleName:"Builder",interfaces:[]},Ta.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Oa,Ea,Ma,Ra,Ia,Aa,Da,Ba,Fa,qa,Ua,Va,Wa,Ga,Ha,Xa,Ka,Ya,Za,Ja,Qa,tl,el,nl,il,ol,rl,sl,al,ll=null;function pl(){return null===ll&&new Ta,ll}function ul(t,e){P.call(this),this.name$=t,this.ordinal$=e}function cl(){cl=function(){},Oa=new ul("DISABLED",0),Ea=new ul("BLEND_ADDITIVE",1),Ma=new ul("BLEND_MULTIPLY_ALPHA",2),Ra=new ul("BLEND_PREMULTIPLIED_ALPHA",3)}function _l(){return cl(),Oa}function hl(){return cl(),Ea}function dl(){return cl(),Ma}function fl(){return cl(),Ra}function ml(t,e){P.call(this),this.name$=t,this.ordinal$=e}function yl(){yl=function(){},Ia=new ml("DISABLED",0),Aa=new ml("ALWAYS",1),Da=new ml("NEVER",2),Ba=new ml("LESS",3),Fa=new ml("LESS_EQUAL",4),qa=new ml("GREATER",5),Ua=new ml("GREATER_EQUAL",6),Va=new ml("EQUAL",7),Wa=new ml("NOT_EQUAL",8)}function $l(){return yl(),Ia}function bl(){return yl(),Aa}function gl(){return yl(),Da}function vl(){return yl(),Ba}function xl(){return yl(),Fa}function wl(){return yl(),qa}function zl(){return yl(),Ua}function Cl(){return yl(),Va}function Sl(){return yl(),Wa}function kl(t,e){P.call(this),this.name$=t,this.ordinal$=e}function Ll(){Ll=function(){},Ga=new kl("DEFAULT",0),Ha=new kl("CULL_BACK_FACES",1),Xa=new kl("CULL_FRONT_FACES",2),Ka=new kl("NO_CULLING",3)}function jl(){return Ll(),Ga}function Nl(){return Ll(),Ha}function Pl(){return Ll(),Xa}function Tl(){return Ll(),Ka}function Ol(t,e,n){this.longHash=e,this.pushConstants=n,this.name=t.name,this.instanceName=t.instanceName,this.stages=j$(t.stages),this.layout_0=new s_(this.pushConstants),this.size=this.layout_0.size,this.buffer_0=Oj(this.size),this.onUpdate=t.onUpdate}function El(){this.name="PushConstants",this.instanceName=null,this.stages=ht(),this.pushConstants=E(),this.onUpdate=null}function Ml(t){this.drawNode=t,this.name=null,this.dependencies=E(),this.viewport=new Rk(0,0,0,0),this.lighting=null,this.isUpdateDrawNode=!0,this.updateEvent_2t7tkj$_0=null;var e,n=I(1);e=n.length-1|0;for(var i=0;i<=e;i++)n[i]=new N$(.15,.15,.15,1);this.clearColors_ynhttt$_0=n,this.clearDepth=!0,this.drawQueue_mxdtqn$_0=new ra(this),this.onBeforeCollectDrawCommands=E(),this.onAfterCollectDrawCommands=E(),this.onAfterDraw=E()}function Rl(t,e){this.renderPass=t,this.ctx=e}function Il(t){Ml.call(this,t),this.scene=t,this.useWindowViewport=!0,this.name="onscreen/"+Lt(this.scene.name),this.lighting=this.scene.lighting}function Al(){this.onPipelineSetup=E(),this.onPipelineCreated=E()}function Dl(){}function Bl(t,e){P.call(this),this.name$=t,this.ordinal$=e}function Fl(){Fl=function(){},Ya=new Bl("Y_UP",0),Za=new Bl("Y_DOWN",1)}function ql(){return Fl(),Ya}function Ul(){return Fl(),Za}function Vl(t){ou.call(this,"colorAlphaNode_"+t.nextNodeId,t),this.inColor=new ru(new Ep(O$().MAGENTA),null),this.inAlpha=new ru(new Pp(1),null),this.outAlphaColor=new ru(new zp(this.name+"_outColor"),this)}function Wl(t){ou.call(this,"colorPreMult_"+t.nextNodeId,t),this.inColor=new ru(new Ep(O$().MAGENTA)),this.outColor=new ru(new zp(this.name+"_outColor"),this)}function Gl(t){ou.call(this,"gamma_"+t.nextNodeId,t),this.inColor=new ru(new Ep(O$().MAGENTA)),this.inGamma=new ru(new Pp(1/2.2)),this.outColor=new ru(new zp(this.name+"_outColor"),this)}function Hl(t){ou.call(this,"hdrToLdr_"+t.nextNodeId,t),this.inColor=new ru(new Ep(O$().MAGENTA)),this.inGamma=new ru(new Pp(2.2)),this.outColor=new ru(new zp(this.name+"_outColor"),this)}function Xl(t,e){void 0===e&&(e=1),ou.call(this,"fragmentColorOut",t,_c().mask),this.channels=e,this.alpha=null;var n,i=I(this.channels);n=i.length-1|0;for(var o=0;o<=n;o++)i[o]=new ru(new Ep(O$().MAGENTA));this.inColors=i}function Kl(t){ou.call(this,"fragmentDepthOut",t,_c().mask),this.inDepth=new ru(new Pp(.5))}function Yl(t){ou.call(this,"discardAlpha_"+t.nextNodeId,t,_c().mask),this.inAlpha=new ru(new Pp(1)),this.inAlphaCutoff=new ru(new Pp(0))}function Zl(t,e){void 0===e&&(e=4),ou.call(this,"lightNd_"+t.nextNodeId,t),this.maxLights=e,this.uLightCnt_0=new Th("uLightCount"),this.uPositions_0=new Lh("uLightPositions",this.maxLights),this.uColors_0=new Lh("uLightColors",this.maxLights),this.uDirections_0=new Lh("uLightDirections",this.maxLights);var n,i=I(this.maxLights);n=i.length-1|0;for(var o=0;o<=n;o++)i[o]=new ru(new Pp(1));this.inShadowFacs=i,this.inFragPos=new ru(new Op(Po().ZERO)),this.inSpotInnerAngle=new ru(new Pp(.8)),this.outLightCount=new ru(new Sp(this.uLightCnt_0.name),this),this.outFragToLightDirection=new ru(new Cp(this.name+"_outLightDirs"),this),this.outRadiance=new ru(new Cp(this.name+"_outRadiance"),this),this.isReducedSoi=!1}function Jl(t){return function(e){return e.unaryPlus_wq3w46$(function(t){return function(){return t.uPositions_0}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uColors_0}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uDirections_0}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uLightCnt_0}}(t)),e.onUpdate=function(t){return function(e,n){return t.encodeLightSetup_0(n),a}}(t),a}}function Ql(t){ou.call(this,"lightUniformDataNd_"+t.nextNodeId,t),this.light=null,this.uPosition_0=new wh("u"+this.name+"_pos"),this.uColor_0=new wh("u"+this.name+"_color"),this.uDirection_0=new wh("u"+this.name+"_dir"),this.outLightPos=new ru(new zp(this.uPosition_0.name),this),this.outLightColor=new ru(new zp(this.uColor_0.name),this),this.outLightDir=new ru(new zp(this.uDirection_0.name),this)}function tp(t){return function(e){return e.unaryPlus_wq3w46$(function(t){return function(){return t.uPosition_0}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uColor_0}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uDirection_0}}(t)),e.onUpdate=function(t){return function(e,n){return t.encodeLightSetup_0(),a}}(t),a}}function ep(t){ou.call(this,"lightNd_"+t.nextNodeId,t),this.inLightPos=new ru(new Ep(tr().ZERO)),this.inLightColor=new ru(new Ep(tr().ZERO)),this.inLightDir=new ru(new Ep(new Zo(1,0,0,60))),this.inShaodwFac=new ru(new Pp(1)),this.inFragPos=new ru(new Op(Po().ZERO)),this.inSpotInnerAngle=new ru(new Pp(.8)),this.outLightCount=new ru(new Mp(1),this),this.outFragToLightDirection=new ru(new wp(this.name+"_outLightDirs"),this),this.outRadiance=new ru(new wp(this.name+"_outRadiance"),this),this.isReducedSoi=!1}function np(t){ou.call(this,"pointLightNd_"+t.nextNodeId,t),this.inLightPos=new ru(new Ep(tr().ZERO)),this.inLightColor=new ru(new Ep(tr().ZERO)),this.inShadowFac=new ru(new Pp(1)),this.inFragPos=new ru(new Op(Po().ZERO)),this.outLightCount=new ru(new Mp(1),this),this.outFragToLightDirection=new ru(new wp(this.name+"_outLightDirs"),this),this.outRadiance=new ru(new wp(this.name+"_outRadiance"),this),this.isReducedSoi=!1}function ip(t){ou.call(this,"spotLightNd_"+t.nextNodeId,t),this.inLightPos=new ru(new Ep(tr().ZERO)),this.inLightColor=new ru(new Ep(tr().ZERO)),this.inLightDir=new ru(new Ep(new Zo(1,0,0,60))),this.inShadowFac=new ru(new Pp(1)),this.inFragPos=new ru(new Op(Po().ZERO)),this.inSpotInnerAngle=new ru(new Pp(.8)),this.outLightCount=new ru(new Mp(1),this),this.outFragToLightDirection=new ru(new wp(this.name+"_outLightDirs"),this),this.outRadiance=new ru(new wp(this.name+"_outRadiance"),this),this.isReducedSoi=!1}function op(t){ou.call(this,"Unlit Material",t,_c().mask),this.inColor=new ru(new Ep(O$().MAGENTA)),this.outColor=new ru(new zp("unlitMat_outColor"),this)}function rp(t){ou.call(this,"Phong Material",t,_c().mask),this.inAlbedo=new ru(new Ep(O$().MAGENTA)),this.inNormal=new ru(new Op(Po().Z_AXIS)),this.inFragPos=new ru(new Op(Po().ZERO)),this.inCamPos=new ru(new Op(Po().ZERO)),this.inLightCount=new ru(new Mp(1)),this.inFragToLight=new ru(new Op(Po().Y_AXIS)),this.inRadiance=new ru(new Op(To(1))),this.inAmbient=new ru(new Op(To(.22))),this.inShininess=new ru(new Pp(20)),this.inSpecularIntensity=new ru(new Pp(1)),this.outColor=new ru(new zp("phongMat_outColor"),this),this.lightBacksides=!1}function sp(t,e,n){ou.call(this,"pbrMaterial",n,_c().mask),this.reflectionMap=t,this.brdfLut=e,this.inAlbedo=new ru(new Ep(O$().MAGENTA)),this.inEmissive=new ru(new Ep(O$().BLACK)),this.inNormal=new ru(new Op(Po().Z_AXIS)),this.inFragPos=new ru(new Op(Po().ZERO)),this.inViewDir=new ru(new Op(Po().ZERO)),this.inMetallic=new ru(new Pp(0)),this.inRoughness=new ru(new Pp(.1)),this.inAmbientOccl=new ru(new Pp(1)),this.inLightCount=new ru(new Mp(0)),this.inFragToLight=new ru(new Op(Po().Y_AXIS)),this.inRadiance=new ru(new Op(To(0))),this.inIrradiance=new ru(new Op(To(.03))),this.inReflectionStrength=new ru(new Pp(1)),this.inReflectionColor=new ru(new Op(Po().ZERO)),this.inReflectionWeight=new ru(new Pp(0)),this.outColor=new ru(new zp("pbrMat_outColor"),this),this.lightBacksides=!1}function ap(t){ou.call(this,"pbrLightNode",t,_c().mask),this.inAlbedo=new ru(new Ep(O$().MAGENTA)),this.inNormal=new ru(new Op(Po().Z_AXIS)),this.inFragPos=new ru(new Op(Po().ZERO)),this.inCamPos=new ru(new Op(Po().ZERO)),this.inMetallic=new ru(new Pp(0)),this.inRoughness=new ru(new Pp(.1)),this.inFragToLight=new ru(new Op(Po().Y_AXIS)),this.inRadiance=new ru(new Op(To(1))),this.inIrradiance=new ru(new Op(To(.03))),this.outColor=new ru(new zp("pbrLight_outColor"),this),this.lightBacksides=!1}function lp(t,e){ou.call(this,"multiply_"+e.nextNodeId,e),this.left_8p0ptp$_0=new ru(new Op(Po().X_AXIS)),this.right=new ru(new Pp(1)),this.output_q2fkhv$_0=new ru(new wp(t+"_out"),this)}function pp(t){lp.call(this,"add_"+t.nextNodeId,t)}function up(t){lp.call(this,"add_"+t.nextNodeId,t)}function cp(t){lp.call(this,"divide_"+t.nextNodeId,t)}function _p(t){lp.call(this,"multiply_"+t.nextNodeId,t)}function hp(t){lp.call(this,"mix_"+t.nextNodeId,t),this.mixFac=new ru(new Pp(.5))}function dp(t){ou.call(this,"vecFromColor_"+t.nextNodeId,t),this.input=new ru(new Op(Po().X_AXIS)),this.output=new ru(new wp(this.name+"_out"),this)}function fp(t){ou.call(this,"dist_"+t.nextNodeId,t),this.inA=new ru(new Op(Po().ZERO)),this.inB=new ru(new Op(Po().ZERO)),this.output=new ru(new vp(this.name+"_out"),this)}function mp(t){ou.call(this,"normalize_"+t.nextNodeId,t),this.input=new ru(new Op(Po().X_AXIS)),this.output=new ru(new wp(this.name+"_out"),this)}function yp(t){ou.call(this,"viewDir_"+t.nextNodeId,t),this.inCamPos=new ru(new Op(Po().Z_AXIS)),this.inWorldPos=new ru(new Op(Po().ZERO)),this.output=new ru(new wp(this.name+"_out"),this)}function $p(t){ou.call(this,"reflect_"+t.nextNodeId,t),this.inDirection=new ru(new Op(Po().X_AXIS)),this.inNormal=new ru(new Op(Po().Y_AXIS)),this.outDirection=new ru(new wp(this.name+"_out"),this)}function bp(t){ou.call(this,"refract_"+t.nextNodeId,t),this.inDirection=new ru(new Op(Po().X_AXIS)),this.inNormal=new ru(new Op(Po().Y_AXIS)),this.inIor=new ru(new Pp(1.4)),this.outDirection=new ru(new wp(this.name+"_out"),this)}function gp(t,e,n){void 0===n&&(n=!1),this.name=t,this.type=e,this.isArray=n}function vp(t){gp.call(this,t,Qr())}function xp(t){gp.call(this,t,ts())}function wp(t){gp.call(this,t,es())}function zp(t){gp.call(this,t,ns())}function Cp(t){gp.call(this,t,es(),!0)}function Sp(t){gp.call(this,t,is())}function kp(t){gp.call(this,t,os())}function Lp(t){gp.call(this,t,rs())}function jp(t){gp.call(this,t,ss())}function Np(t){gp.call(this,t,ps())}function Pp(t){vp.call(this,"_"),this.value=t}function Tp(t){xp.call(this,"_"),this.value=t}function Op(t){wp.call(this,"_"),this.value=t}function Ep(t){zp.call(this,"_"),this.value=t}function Mp(t){Sp.call(this,"_"),this.value=t}function Rp(t){kp.call(this,"_"),this.value=t}function Ip(t){Lp.call(this,"_"),this.value=t}function Ap(t){jp.call(this,"_"),this.value=t}function Dp(t,e,n){void 0===n&&(n=!1),ou.call(this,"tex1d_sampler_"+t.name+"_"+e.nextNodeId,e),this.texture=t,this.premultiply=n,this.inTexCoord=new ru(new Pp(0)),this.outColor=new ru(new zp(this.name+"_outColor"),this),this.texLod=null}function Bp(t,e,n){void 0===n&&(n=!1),ou.call(this,"tex2d_sampler_"+t.name+"_"+e.nextNodeId,e),this.texture=t,this.premultiply=n,this.inTexCoord=new ru(new Tp(lo().ZERO)),this.outColor=new ru(new zp(this.name+"_outColor"),this),this.texLod=null}function Fp(t,e,n){void 0===n&&(n=!1),ou.call(this,"tex3d_sampler_"+t.name+"_"+e.nextNodeId,e),this.texture=t,this.premultiply=n,this.inTexCoord=new ru(new Op(Po().ZERO)),this.outColor=new ru(new zp(this.name+"_outColor"),this),this.texLod=null}function qp(t,e,n){void 0===n&&(n=!1),ou.call(this,"cubeSampler_"+t.name+"_"+e.nextNodeId,e),this.cubeMap=t,this.premultiply=n,this.inTexCoord=new ru(new Op(Po().NEG_X_AXIS)),this.outColor=new ru(new zp(this.name+"_outColor"),this),this.texLod=null}function Up(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),ou.call(this,"equi_rect_sampler_"+t.name+"_"+e.nextNodeId,e),this.texture=t,this.decodeRgbe=n,this.premultiply=i,this.inTexCoord=new ru(new Op(Po().X_AXIS)),this.outColor=new ru(new zp(this.name+"_outColor"),this),this.texLod=null}function Vp(t,e){ou.call(this,"noise_sampler_"+t.name+"_"+e.nextNodeId,e),this.texture=t,this.inTexSize=new ru(new Rp(new vo(16,16))),this.outNoise=new ru(new zp(this.name+"_outNoise"),this)}function Wp(t,e){ou.call(this,"aoMapSampleNode_"+e.nextNodeId,e),this.aoMap=t,this.inViewport=new ru(new Ep(tr().ZERO)),this.outAo=new ru(new vp(this.name+"_outAo"),this)}function Gp(t,e){ou.call(this,"normalMapping_"+e.nextNodeId,e),this.texture=t,this.inTexCoord=new ru(new Tp(lo().NEG_X_AXIS)),this.inNormal=new ru(new Op(Po().Y_AXIS)),this.inTangent=new ru(new Op(Po().X_AXIS)),this.inStrength=new ru(new Pp(1)),this.outNormal=new ru(new wp(this.name+"_outNormal"),this)}function Hp(t,e){ou.call(this,"dispMap_"+e.nextNodeId,e),this.texture=t,this.inTexCoord=new ru(new Tp(lo().NEG_X_AXIS)),this.inNormal=new ru(new Op(Po().Y_AXIS)),this.inPosition=new ru(new Op(Po().ZERO)),this.inStrength=new ru(new Pp(.1)),this.outPosition=new ru(new wp(this.name+"_outPos"),this)}function Xp(t){ou.call(this,"refractionSampler_"+t.nextNodeId,t),this.reflectionMap=null,this.refractionDepth=null,this.refractionColor_dpnwa6$_0=this.refractionColor_dpnwa6$_0,this.view_wxw73j$_0=this.view_wxw73j$_0,this.viewProj_5bee0e$_0=this.viewProj_5bee0e$_0,this.inMaterialThickness=new ru(new Pp(1)),this.inRefractionDir=new ru(new Op(Po().ZERO)),this.inFragPos=new ru(new Op(Po().ZERO)),this.outColor=new ru(new zp(this.name+"_outColor"),this),this.outMaterialThickness=new ru(new vp(this.name+"_outThickness"),this)}function Kp(){}function Yp(t,e,n,i){void 0===i&&(i=1),this.location=t,this.variable=e,this.isFlat=n,this.locationInc=i}function Zp(t,e){this.model=t,this.stage=e,this.descriptorSet=new As,this.pushConstants=new El,this.inputs=E(),this.mutOutputs_rh28ou$_0=E(),this.mutNodes=E(),this.nextNodeId_bjjntk$_0=1}function Jp(t){Zp.call(this,t,lc()),this.requiredVertexAttributes=ht(),this.requiredInstanceAttributes=ht(),this.positionOutput=new ru(new Ep(tr().ZERO),null)}function Qp(t){Zp.call(this,t,_c())}function tu(t){void 0===t&&(t=""),this.modelInfo=t,this.stages=Nt([mt(lc(),new Jp(this)),mt(_c(),new Qp(this))]),this.dumpCode=!1}function eu(t){this.stage=t}function nu(t){this.$outer=t,eu.call(this,this.$outer.vertexStageGraph)}function iu(t){this.$outer=t,eu.call(this,this.$outer.fragmentStageGraph)}function ou(t,e,n){var i,o;void 0===n&&(n=hc().mask),this.name=t,this.graph=e,this.allowedStages=n,this.dependencies=ht(),i=(o=this.graph).nextNodeId,o.nextNodeId=i+1|0,this.nodeId=i}function ru(t,e){void 0===e&&(e=null),this.variable=t,this.node=e}function su(){this.lightIndex=0,this.depthMap_25rtms$_0=null}function au(t,e,n){su.call(this),this.ifPosLightSpace_0=new Ju("posLightSpace_"+e.nextNodeId,e,n),this.vertexNode=new lu(t,e),this.fragmentNode=new uu(t,n),this.lightIndex=t.lightIndex,e.addNode_j0v1fw$(this.ifPosLightSpace_0.vertexNode),n.addNode_j0v1fw$(this.ifPosLightSpace_0.fragmentNode),this.ifPosLightSpace_0.input=this.vertexNode.outPosLightSpace,this.fragmentNode.inPosLightSpace=this.ifPosLightSpace_0.output}function lu(t,e){ou.call(this,"lightSpaceTf_"+e.nextNodeId,e),this.shadowMap=t,this.uShadowMapVP=new Nh(this.name+"_shadowMapVP"),this.inWorldPos=new ru(new Op(Po().ZERO)),this.outPosLightSpace=new ru(new zp(this.name+"_posLightSpace"),this)}function pu(t){return function(e){return e.unaryPlus_wq3w46$(function(t){return function(){return t.uShadowMapVP}}(t)),e.onUpdate=function(t){return function(e,n){return t.uShadowMapVP.value.set_d4zu6l$(t.shadowMap.lightViewProjMat),a}}(t),a}}function uu(t,e){ou.call(this,"shadowMap_"+e.nextNodeId,e,_c().mask),this.depthMap=null,this.inDepthOffset=new ru(new Pp(t.shaderDepthOffset)),this.inPosLightSpace=new ru(new Ep(tr().ZERO)),this.outShadowFac=new ru(new vp(this.name+"_shadowFac"),this),this.useDithering=!1}function cu(t,e,n){su.call(this),this.shadowMap=t,this.vertexGraph=e,this.fragmentGraph=n,this.inViewPosition=new ru(new Op(Po().ZERO)),this.vertexNode=new hu(this.shadowMap,this.vertexGraph),this.fragmentNode=new fu(this.shadowMap,this.fragmentGraph),this.helperNd_0=new _u(this,this.vertexGraph),this.posLightSpace_0=new ru(new zp("ifPosLightSpace_"+this.vertexGraph.nextNodeId+"["+this.shadowMap.numCascades+"]")),this.ifViewZ_0=new ru(new vp("outViewZ_"+this.helperNd_0.nodeId)),this.lightIndex=this.shadowMap.lightIndex,this.vertexGraph.addNode_j0v1fw$(this.helperNd_0),this.fragmentNode.inPosLightSpace=this.posLightSpace_0,this.fragmentNode.inViewZ=this.ifViewZ_0}function _u(t,e){this.$outer=t,ou.call(this,"cascadedShadowHelper_"+e.nextNodeId,e)}function hu(t,e){ou.call(this,"lightSpaceTf_"+e.nextNodeId,e),this.shadowMap=t,this.uShadowMapVP=new Ph(this.name+"_shadowMapVPs",this.shadowMap.numCascades),this.inWorldPos=new ru(new Op(Po().ZERO)),this.outPosLightSpace=new ru(new zp(this.name+"_posLightSpace["+this.shadowMap.numCascades+"]"),this)}function du(t){return function(e){return e.unaryPlus_wq3w46$(function(t){return function(){return t.uShadowMapVP}}(t)),e.onUpdate=function(t){return function(e,n){var i;i=t.shadowMap.numCascades;for(var o=0;o<i;o++)t.uShadowMapVP.value[o].set_d4zu6l$(t.shadowMap.cascades[o].lightViewProjMat);return a}}(t),a}}function fu(t,e){ou.call(this,"cascadedShadowMap_"+e.nextNodeId,e,_c().mask),this.shadowMap=t,this.uViewSpaceRanges_0=new Ch("uClipSpaceRanges_"+this.name,this.shadowMap.numCascades),this.depthMap=null,this.inDepthOffset=new ru(new Pp(-.0025)),this.inPosLightSpace=new ru(new Ep(tr().ZERO)),this.inViewZ=new ru(new Pp(0)),this.outShadowFac=new ru(new vp(this.name+"_shadowFac"),this),this.useDithering=!1}function mu(t){return function(e){return e.unaryPlus_wq3w46$(function(t){return function(){return t.uViewSpaceRanges_0}}(t)),e.onUpdate=function(t){return function(e,n){var i;i=t.shadowMap.numCascades;for(var o=0;o<i;o++)t.uViewSpaceRanges_0.value[o]=t.shadowMap.viewSpaceRanges[o];return a}}(t),a}}function yu(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1),ou.call(this,"vec3MatTransform",t),this.w=e,this.invert=n,this.inMat=null,this.inVec=new ru(new Op(Po().ZERO)),this.outVec3=new ru(new wp("vec3MatTransform"+this.nodeId+"_out"),this)}function $u(t,e){void 0===e&&(e=1),ou.call(this,"vec4MatTransform",t),this.w=e,this.inMat=null,this.inVec=new ru(new Op(Po().ZERO)),this.outVec4=new ru(new zp("vec4MatTransform"+this.nodeId+"_out"),this)}function bu(t,e){ou.call(this,"skinTransform_"+t.nextNodeId,t),this.inJoints=new ru(new Ap(Sr().ZERO)),this.inWeights=new ru(new Ep(tr().X_AXIS)),this.uJointTransforms=new Ph("uJointTransforms",e),this.outJointMat=new ru(new Np(this.name+"_outMat"),this)}function gu(t){return function(e){var n=e.stages,i=t.graph.stage;return n.add_11rb$(i),e.unaryPlus_wq3w46$(function(t){return function(){return t.uJointTransforms}}(t)),e.onUpdate=function(t){return function(e,n){var i;if(null!=(i=n.mesh.skin)){var o,r=t,s=i.nodes.size,l=r.uJointTransforms.length;o=R.min(s,l);for(var p=0;p<o;p++){var u=i.nodes.get_za3lpa$(p);r.uJointTransforms.value[p].set_d4zu6j$(u.jointTransform)}}return a}}(t),a}}function vu(t){ou.call(this,"UboPremultipliedMvp",t),this.uMvp=new Nh("modelViewProj"),this.outMvpMat=new ru(new Np(this.uMvp.name),this),this.visibleIn_0=At([t.stage])}function xu(t){return function(e){return zt(e.stages,t.visibleIn_0),e.unaryPlus_wq3w46$(function(t){return function(){return t.uMvp}}(t)),e.onUpdate=function(t){return function(e,n){return t.uMvp.value.set_d4zu6j$(n.mvpMat),a}}(t),a}}function wu(t,e){this.$outer=t,ou.call(this,"UboPremultipliedMvp.copy",e),this.outMvpMat=new ru(new Np(this.$outer.uMvp.name),this)}function zu(t){ou.call(this,"UboMvp",t),this.uModelMat=new Nh("uModelMat"),this.uViewMat=new Nh("uViewMat"),this.uProjMat=new Nh("uProjMat"),this.uCamPos=new wh("uCamPos"),this.uViewport=new wh("uViewport"),this.outModelMat=new ru(new Np(this.uModelMat.name),this),this.outViewMat=new ru(new Np(this.uViewMat.name),this),this.outProjMat=new ru(new Np(this.uProjMat.name),this),this.outCamPos=new ru(new zp(this.uCamPos.name),this),this.outViewport=new ru(new zp(this.uViewport.name),this),this.outMvpMat=new ru(new Np("uMvp_outMvp"),this),this.visibleIn_0=At([t.stage])}function Cu(t){return function(e){return zt(e.stages,t.visibleIn_0),e.unaryPlus_wq3w46$(function(t){return function(){return t.uModelMat}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uViewMat}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uProjMat}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uCamPos}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uViewport}}(t)),e.onUpdate=function(t){return function(e,n){t.uModelMat.value.set_d4zu6j$(n.modelMat),t.uViewMat.value.set_d4zu6j$(n.viewMat),t.uProjMat.value.set_d4zu6j$(n.projMat),t.uCamPos.value.set_2qa7tb$(n.renderPass.camera.globalPos,1);var i=n.renderPass.viewport;return t.uViewport.value.set_7b5o5w$(i.x,i.ySigned,i.width,i.heightSigned),a}}(t),a}}function Su(t,e){this.$outer=t,ou.call(this,"UboPremultipliedMvp.copy",e),this.outModelMat=new ru(new Np(this.$outer.uModelMat.name),this),this.outViewMat=new ru(new Np(this.$outer.uViewMat.name),this),this.outProjMat=new ru(new Np(this.$outer.uProjMat.name),this),this.outCamPos=new ru(new zp(this.$outer.uCamPos.name),this),this.outViewport=new ru(new zp(this.$outer.uViewport.name),this),this.outMvpMat=new ru(new Np("uMvp_outMvp"),this)}function ku(t,e){ou.call(this,e,t),this.visibleIn=At([t.stage]),this.sampler_2qaow3$_0=this.sampler_2qaow3$_0,this.arraySize=1,this.isDepthTexture=!1}function Lu(t){return function(e){return e.arraySize=t.arraySize,e.isDepthSampler=t.isDepthTexture,zt(e.stages,t.visibleIn),e.onCreate=function(t){return function(e){return t.sampler=e,a}}(t),a}}function ju(t,e){ou.call(this,e,t),this.visibleIn=At([t.stage]),this.sampler_m79dj2$_0=this.sampler_m79dj2$_0,this.arraySize=1,this.isDepthTexture=!1}function Nu(t){return function(e){return e.arraySize=t.arraySize,e.isDepthSampler=t.isDepthTexture,zt(e.stages,t.visibleIn),e.onCreate=function(t){return function(e){return t.sampler=e,a}}(t),a}}function Pu(t,e){ou.call(this,e,t),this.visibleIn=At([t.stage]),this.sampler_nwam0x$_0=this.sampler_nwam0x$_0,this.arraySize=1}function Tu(t){return function(e){return e.arraySize=t.arraySize,zt(e.stages,t.visibleIn),e.onCreate=function(t){return function(e){return t.sampler=e,a}}(t),a}}function Ou(t,e){ou.call(this,e,t),this.visibleIn=At([t.stage]),this.sampler_uy3n45$_0=this.sampler_uy3n45$_0,this.arraySize=1}function Eu(t){return function(e){return e.arraySize=t.arraySize,zt(e.stages,t.visibleIn),e.onCreate=function(t){return function(e){return t.sampler=e,a}}(t),a}}function Mu(t,n){if(ou.call(this,"morphWeights_"+n.nextNodeId,n),this.nWeights=t,this.uWeights0_0=new wh(this.name+"_w0"),this.uWeights1_0=new wh(this.name+"_w1"),this.outWeights0=new ru(new zp(this.uWeights0_0.name)),this.outWeights1=new ru(new zp(this.uWeights1_0.name)),this.nWeights>8){var i=Hj.Log,o=vC.ERROR,r=e.getKClassFromExpression(this).simpleName;o.level>=i.level.level&&i.printer(o,r,"Currently only up to 8 morph target attributes are supported")}}function Ru(t,e){ou.call(this,t,e),this.visibleIn=At([e.stage]),this.onUpdate=null}function Iu(t,e){Ru.call(this,t.name,e),this.uniform_24s88i$_0=t,this.output_6ls89f$_0=new ru(new vp(this.name),this)}function Au(t,e){Ru.call(this,t.name,e),this.uniform_rl2ob1$_0=t,this.output_9us71w$_0=new ru(new xp(this.name),this)}function Du(t,e){Ru.call(this,t.name,e),this.uniform_dq6h4k$_0=t,this.output_d3s5ud$_0=new ru(new wp(this.name),this)}function Bu(t,e){Ru.call(this,t.name,e),this.uniform_fzofez$_0=t,this.output_gcs4mu$_0=new ru(new zp(this.name),this)}function Fu(t,e){Ru.call(this,t.name,e),this.uniform_o737wi$_0=t,this.output_yy7l5r$_0=new ru(new zp(this.name),this)}function qu(t,e){Ru.call(this,t.name,e),this.uniform_7m7o4x$_0=t,this.output_p908nk$_0=new ru(new Sp(this.name),this)}function Uu(t,e){Ru.call(this,t.name,e),this.uniform_xp1hao$_0=t,this.output_si07g1$_0=new ru(new kp(this.name),this)}function Vu(t,e){Ru.call(this,t.name,e),this.uniform_3z6kr5$_0=t,this.output_vr068i$_0=new ru(new Lp(this.name),this)}function Wu(t,e){Ru.call(this,t.name,e),this.uniform_pqobse$_0=t,this.output_z0050z$_0=new ru(new jp(this.name),this)}function Gu(t){ou.call(this,"flipBacksideNormal_"+t.nextNodeId,t,_c().mask),this.inNormal=new ru(new Op(Po().Y_AXIS)),this.outNormal=new ru(new wp(this.name+"_outNormal"),this)}function Hu(t,e){var n;switch(ou.call(this,"split_"+e.nextNodeId,e),this.outChannels=t,this.input=new ru(new Ep(tr().ZERO)),this.outChannels.length){case 1:n=new ru(new vp(this.name+"_out"),this);break;case 2:n=new ru(new xp(this.name+"_out"),this);break;case 3:n=new ru(new wp(this.name+"_out"),this);break;case 4:n=new ru(new zp(this.name+"_out"),this);break;default:throw G("outChannels parameter must be between 1 and 4 characters long (e.g. 'xyz')")}this.output=n}function Xu(t,e){var n;switch(ou.call(this,"combine_"+e.nextNodeId,e),this.inX=new ru(new Pp(0)),this.inY=new ru(new Pp(0)),this.inZ=new ru(new Pp(0)),this.inW=new ru(new Pp(0)),t.name){case"VEC_2F":n=new ru(new xp(this.name+"_out"),this);break;case"VEC_3F":n=new ru(new wp(this.name+"_out"),this);break;case"VEC_4F":n=new ru(new zp(this.name+"_out"),this);break;default:throw G("Only allowed out types are VEC_2F, VEC_3F and VEC_4F")}this.output=n}function Ku(t){ou.call(this,"combine31_"+t.nextNodeId,t),this.inXyz=new ru(new Op(Po().ZERO)),this.inW=new ru(new Pp(0)),this.output=new ru(new zp(this.name+"_out"),this)}function Yu(t,e){ou.call(this,t.name,e,lc().mask),this.attribute=t,this.output=new ru(new gp(this.attribute.name,this.attribute.type),this)}function Zu(t,e){ou.call(this,t.name,e,lc().mask),this.attribute=t,this.output=new ru(new gp(this.attribute.name,this.attribute.type),this)}function Ju(t,e,n){this.name=t,this.input_h7hmfg$_0=new ru(new Pp(0)),this.output_ftovqj$_0=new ru(new vp(this.name)),this.isFlat=!1,this.ifVar_hcczpo$_0=this.ifVar_hcczpo$_0,this.vertexNode=new Qu(this,e),this.fragmentNode=new tc(this,n)}function Qu(t,e){this.$outer=t,ou.call(this,this.$outer.name,e,lc().mask),this.ifNode=this.$outer}function tc(t,e){this.$outer=t,ou.call(this,this.$outer.name,e,_c().mask),this.ifNode=this.$outer}function ec(t){ou.call(this,"screenCoord_"+t.nextNodeId,t,_c().mask),this.inViewport=new ru(new Ep(tr().ZERO)),this.outScreenCoord=new ru(new zp("gl_FragCoord"),this),this.outNormalizedScreenCoord=new ru(new wp(this.name+"_outNormalizedCoord"),this)}function nc(t){ou.call(this,"fullScreenQuad_"+t.nextNodeId,t),this.inTexCoord=new ru(new Tp(lo().ZERO)),this.inDepth=new ru(new Pp(.999)),this.outQuadPos=new ru(new zp(this.name+"_outPos"),this)}function ic(t,e){ou.call(this,"getMorphWeight_"+e.nextNodeId,e),this.iWeight=t,this.inWeights0=new ru(new Ep(tr().ZERO)),this.inWeights1=new ru(new Ep(tr().ZERO)),this.outWeight=new ru(new vp(this.name+"_outW"),this)}function oc(t,e){ou.call(this,t,e),this.input_llsvnw$_0=new ru(new Pp(0)),this.output_a35q23$_0=new ru(new gp(t,Qr()),this)}function rc(t){ou.call(this,"pointSz",t,lc().mask),this.inSize=new ru(new Pp(1))}function sc(t,e,n){P.call(this),this.mask=n,this.name$=t,this.ordinal$=e}function ac(){ac=function(){},Ja=new sc("VERTEX_SHADER",0,1),Qa=new sc("TESSELEATION_CTRL",1,2),tl=new sc("TESSELATION_EVAL",2,4),el=new sc("GEOMETRY_SHADER",3,8),nl=new sc("FRAGMENT_SHADER",4,16),il=new sc("ALL",5,-1)}function lc(){return ac(),Ja}function pc(){return ac(),Qa}function uc(){return ac(),tl}function cc(){return ac(),el}function _c(){return ac(),nl}function hc(){return ac(),il}function dc(t,e){P.call(this),this.name$=t,this.ordinal$=e}function fc(){fc=function(){},ol=new dc("CUBE_MAP_ALBEDO",0),rl=new dc("STATIC_ALBEDO",1),sl=new dc("TEXTURE_ALBEDO",2),al=new dc("VERTEX_ALBEDO",3)}function mc(){return fc(),ol}function yc(){return fc(),rl}function $c(){return fc(),sl}function bc(){return fc(),al}function gc(){}function vc(){gc.call(this)}function xc(){gc.call(this)}function wc(t){gc.call(this),this.cutOff=t}function zc(t){Pc(),Al.call(this),this.model=t}function Cc(t,e){void 0===t&&(t=O$().GRAY),void 0===e&&(e=Pc().staticColorModel_0()),zc.call(this,e),this.uColor_0=null,this.color_cjijrc$_0=t}function Sc(t){void 0===t&&(t=Pc().vertexColorModel_0()),zc.call(this,t)}function kc(t,e,n){void 0===t&&(t=null),void 0===e&&(e="colorTex"),void 0===n&&(n=Pc().textureColorModel_0(e)),zc.call(this,n),this.texName_0=e,this.textureSampler_0=null,this.texture_smcrab$_0=t}function Lc(t,e,n){void 0===t&&(t=null),void 0===e&&(e="cubeMap"),void 0===n&&(n=Pc().cubeMapColorModel_0(e)),zc.call(this,n),this.texName_0=e,this.cubeMapSampler_0=null,this.texture_mz7wkp$_0=t}function jc(){Nc=this}ja.$metadata$={kind:$,simpleName:"Pipeline",interfaces:[]},ul.$metadata$={kind:$,simpleName:"BlendMode",interfaces:[P]},ul.values=function(){return[_l(),hl(),dl(),fl()]},ul.valueOf_61zpoe$=function(t){switch(t){case"DISABLED":return _l();case"BLEND_ADDITIVE":return hl();case"BLEND_MULTIPLY_ALPHA":return dl();case"BLEND_PREMULTIPLIED_ALPHA":return fl();default:T("No enum constant de.fabmax.kool.pipeline.BlendMode."+t)}},ml.$metadata$={kind:$,simpleName:"DepthCompareOp",interfaces:[P]},ml.values=function(){return[$l(),bl(),gl(),vl(),xl(),wl(),zl(),Cl(),Sl()]},ml.valueOf_61zpoe$=function(t){switch(t){case"DISABLED":return $l();case"ALWAYS":return bl();case"NEVER":return gl();case"LESS":return vl();case"LESS_EQUAL":return xl();case"GREATER":return wl();case"GREATER_EQUAL":return zl();case"EQUAL":return Cl();case"NOT_EQUAL":return Sl();default:T("No enum constant de.fabmax.kool.pipeline.DepthCompareOp."+t)}},kl.$metadata$={kind:$,simpleName:"CullMethod",interfaces:[P]},kl.values=function(){return[jl(),Nl(),Pl(),Tl()]},kl.valueOf_61zpoe$=function(t){switch(t){case"DEFAULT":return jl();case"CULL_BACK_FACES":return Nl();case"CULL_FRONT_FACES":return Pl();case"NO_CULLING":return Tl();default:T("No enum constant de.fabmax.kool.pipeline.CullMethod."+t)}},Ol.prototype.toBuffer=function(){return this.layout_0.putTo_l6oshk$(this.buffer_0),this.buffer_0.flip(),this.buffer_0},El.prototype.unaryPlus_wq3w46$=function(t){this.pushConstants.add_11rb$(t)},El.prototype.create=function(){for(var t=this.pushConstants.size,n=z(t),i=0;i<t;i++)n.add_11rb$(this.pushConstants.get_za3lpa$(i)());var o,r,s=n,a=at(this.name),l={v:new St(e.Long.fromInt(a))};for(o=this.stages.iterator();o.hasNext();){var p=o.next(),u=l.v,c=new St(e.Long.fromInt(71023)),_=new St(u.data.multiply(c.data)),h=p.hashCode(),d=new St(e.Long.fromInt(h));l.v=new St(_.data.add(d.data))}for(r=s.iterator();r.hasNext();){var f=r.next(),m=l.v,y=new St(e.Long.fromInt(71023)),$=new St(m.data.multiply(y.data)),b=e.getKClassFromExpression(f).hashCode(),g=new St(e.Long.fromInt(b));l.v=new St($.data.add(g.data));var v=l.v,x=new St(e.Long.fromInt(71023)),w=new St(v.data.multiply(x.data)),C=at(f.name),S=new St(e.Long.fromInt(C));l.v=new St(w.data.add(S.data))}return new Ol(this,l.v,s)},El.prototype.clear=function(){this.stages.clear(),this.pushConstants.clear()},El.$metadata$={kind:$,simpleName:"Builder",interfaces:[]},Ol.$metadata$={kind:$,simpleName:"PushConstantRange",interfaces:[]},Object.defineProperty(Ml.prototype,"clearColors",{configurable:!0,get:function(){return this.clearColors_ynhttt$_0},set:function(t){this.clearColors_ynhttt$_0=t}}),Object.defineProperty(Ml.prototype,"clearColor",{configurable:!0,get:function(){return this.clearColors[0]},set:function(t){this.clearColors[0]=t}}),Object.defineProperty(Ml.prototype,"drawQueue",{configurable:!0,get:function(){return this.drawQueue_mxdtqn$_0},set:function(t){this.drawQueue_mxdtqn$_0=t}}),Ml.prototype.updateEvent_nkvecu$_0=function(t){var e,n;if(null!=(e=this.updateEvent_2t7tkj$_0))n=e;else{var i=new Rl(this,t);this.updateEvent_2t7tkj$_0=i,n=i}return n},Ml.prototype.dependsOn_yqp8fe$=function(t){this.dependencies.add_11rb$(t)},Ml.prototype.update_aemszp$=function(t){this.isUpdateDrawNode&&this.drawNode.update_kma0q5$(this.updateEvent_nkvecu$_0(t))},Ml.prototype.collectDrawCommands_aemszp$=function(t){this.beforeCollectDrawCommands_aemszp$(t),this.drawNode.collectDrawCommands_kma0q5$(this.updateEvent_nkvecu$_0(t)),this.afterCollectDrawCommands_aemszp$(t)},Ml.prototype.addMesh_sbx4mf$=function(t,e){return this.drawQueue.addMesh_sbx4mf$(t,e)},Ml.prototype.beforeCollectDrawCommands_aemszp$=function(t){var e;this.drawQueue.clear(),e=this.onBeforeCollectDrawCommands;for(var n=0;n!==e.size;++n)this.onBeforeCollectDrawCommands.get_za3lpa$(n)(t);this.camera.updateCamera_fd1mc0$(t,this.viewport)},Ml.prototype.afterCollectDrawCommands_aemszp$=function(t){var e;e=this.onAfterCollectDrawCommands;for(var n=0;n!==e.size;++n)this.onAfterCollectDrawCommands.get_za3lpa$(n)(t)},Ml.prototype.afterDraw_aemszp$=function(t){var e;e=this.onAfterDraw;for(var n=0;n!==e.size;++n)this.onAfterDraw.get_za3lpa$(n)(t)},Ml.prototype.dispose_aemszp$=function(t){},Object.defineProperty(Rl.prototype,"time",{configurable:!0,get:function(){return this.ctx.time}}),Object.defineProperty(Rl.prototype,"deltaT",{configurable:!0,get:function(){return this.ctx.deltaT}}),Object.defineProperty(Rl.prototype,"frameIndex",{configurable:!0,get:function(){return this.ctx.frameIdx}}),Object.defineProperty(Rl.prototype,"camera",{configurable:!0,get:function(){return this.renderPass.camera}}),Object.defineProperty(Rl.prototype,"viewport",{configurable:!0,get:function(){return this.renderPass.viewport}}),Rl.prototype.component1=function(){return this.renderPass},Rl.prototype.component2=function(){return this.ctx},Rl.$metadata$={kind:$,simpleName:"UpdateEvent",interfaces:[]},Ml.$metadata$={kind:$,simpleName:"RenderPass",interfaces:[]},Object.defineProperty(Il.prototype,"camera",{configurable:!0,get:function(){return this.scene.camera}}),Il.prototype.collectDrawCommands_aemszp$=function(t){this.useWindowViewport&&t.getWindowViewport_ahq5yh$(this.viewport),Ml.prototype.collectDrawCommands_aemszp$.call(this,t)},Il.$metadata$={kind:$,simpleName:"ScreenRenderPass",interfaces:[Ml]},Al.prototype.createPipeline_sbx4mf$=function(t,e){var n=new Pa;n.vertexLayout.primitiveType=t.geometry.primitiveType,this.onPipelineSetup_x08qbx$(n,t,e);var i=n.create();return this.onPipelineCreated_vp7qhs$(i,t,e),i},Al.prototype.onPipelineSetup_x08qbx$=function(t,e,n){var i;for(i=this.onPipelineSetup.iterator();i.hasNext();)i.next()(t,e,n)},Al.prototype.onPipelineCreated_vp7qhs$=function(t,e,n){var i;for(i=this.onPipelineCreated.iterator();i.hasNext();)i.next()(t,e,n)},Al.$metadata$={kind:$,simpleName:"Shader",interfaces:[]},Dl.prototype.sampleTexture1d_buzeal$=function(t,e,n,i){return void 0===n&&(n=null),i?i(t,e,n):this.sampleTexture1d_buzeal$$default(t,e,n)},Dl.prototype.sampleTexture2d_buzeal$=function(t,e,n,i){return void 0===n&&(n=null),i?i(t,e,n):this.sampleTexture2d_buzeal$$default(t,e,n)},Dl.prototype.sampleTexture3d_buzeal$=function(t,e,n,i){return void 0===n&&(n=null),i?i(t,e,n):this.sampleTexture3d_buzeal$$default(t,e,n)},Dl.prototype.sampleTextureCube_buzeal$=function(t,e,n,i){return void 0===n&&(n=null),i?i(t,e,n):this.sampleTextureCube_buzeal$$default(t,e,n)},Bl.$metadata$={kind:$,simpleName:"ClipSpaceOrientation",interfaces:[P]},Bl.values=function(){return[ql(),Ul()]},Bl.valueOf_61zpoe$=function(t){switch(t){case"Y_UP":return ql();case"Y_DOWN":return Ul();default:T("No enum constant de.fabmax.kool.pipeline.shadermodel.CodeGenerator.ClipSpaceOrientation."+t)}},Dl.$metadata$={kind:Z,simpleName:"CodeGenerator",interfaces:[]},Vl.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inColor,this.inAlpha])},Vl.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n            "+this.outAlphaColor.declare()+" = vec4("+this.inColor.ref3f_61zpoe$()+", "+this.inColor.ref4f_61zpoe$()+".a * "+this.inAlpha.ref1f_61zpoe$()+");\n            ")},Vl.$metadata$={kind:$,simpleName:"ColorAlphaNode",interfaces:[ou]},Wl.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inColor)},Wl.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outColor.declare()+" = vec4("+this.inColor.ref3f_61zpoe$()+" * "+this.inColor.ref4f_61zpoe$()+".a, "+this.inColor.ref4f_61zpoe$()+".a);")},Wl.$metadata$={kind:$,simpleName:"PremultiplyColorNode",interfaces:[ou]},Gl.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inColor,this.inGamma])},Gl.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outColor.declare()+" = vec4(pow("+this.inColor.ref3f_61zpoe$()+", vec3(1.0/"+this.inGamma.ref1f_61zpoe$()+")), "+this.inColor.ref4f_61zpoe$()+".a);")},Gl.$metadata$={kind:$,simpleName:"GammaNode",interfaces:[ou]},Hl.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inColor,this.inGamma])},Hl.prototype.generateUncharted2_0=function(t){t.appendFunction_puj7f4$("uncharted2","\n            vec3 uncharted2Tonemap_func(vec3 x) {\n                float A = 0.15;     // shoulder strength\n                float B = 0.50;     // linear strength\n                float C = 0.10;     // linear angle\n                float D = 0.20;     // toe strength\n                float E = 0.02;     // toe numerator\n                float F = 0.30;     // toe denominator  --\x3e E/F = toe angle\n                return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\n            }\n            \n            vec3 uncharted2Tonemap(vec3 rgbLinear) {\n                float W = 11.2;     // linear white point value\n                float ExposureBias = 2.0;\n                vec3 curr = uncharted2Tonemap_func(ExposureBias * rgbLinear);\n                vec3 whiteScale = 1.0 / uncharted2Tonemap_func(vec3(W));\n                return curr * whiteScale;\n            }\n        "),t.appendMain_61zpoe$("\n            vec3 "+this.name+"_color = uncharted2Tonemap("+this.inColor.ref3f_61zpoe$()+");\n            "+this.outColor.declare()+" = vec4(pow("+this.name+"_color, vec3(1.0/"+this.inGamma.ref1f_61zpoe$()+")), "+this.inColor.ref4f_61zpoe$()+".a);\n        ")},Hl.prototype.generateReinhard_0=function(t){t.appendMain_61zpoe$("\n            vec3 "+this.name+"_color = "+this.inColor.ref3f_61zpoe$()+" / ("+this.inColor.ref3f_61zpoe$()+" + vec3(1.0));\n            "+this.outColor.declare()+" = vec4(pow("+this.name+"_color, vec3(1.0/"+this.inGamma.ref1f_61zpoe$()+")), "+this.inColor.ref4f_61zpoe$()+".a);\n        ")},Hl.prototype.generateJimHejlRichardBurgessDawson_0=function(t){t.appendMain_61zpoe$("\n            vec3 "+this.name+"_color = max(vec3(0), "+this.inColor.ref3f_61zpoe$()+" - 0.004);\n            "+this.outColor.declare()+" = vec4(("+this.name+"_color * (6.2 * "+this.name+"_color + 0.5)) / ("+this.name+"_color * (6.2 * "+this.name+"_color + 1.7) + 0.06), 1.0);\n        ")},Hl.prototype.generateCode_626509$=function(t){this.generateUncharted2_0(t)},Hl.$metadata$={kind:$,simpleName:"HdrToLdrNode",interfaces:[ou]},Xl.prototype.setup_llmhyc$=function(t){var e;ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$(this.inColors.slice()),null!=(e=this.alpha)&&this.dependsOn_7qvs0d$(e)},Xl.prototype.generateCode_626509$=function(t){var e,n,i=Ot();e=this.channels;for(var o=0;o<e;o++)i.append_pdl1vj$("layout(location="+o+") out vec4 fragOutColor_"+o+";\n");t.appendFunction_puj7f4$("fragOut",i.toString()),n=this.channels;for(var r=0;r<n;r++){var s=this.alpha;null!=s?t.appendMain_61zpoe$("fragOutColor_"+r+" = vec4("+this.inColors[r].ref3f_61zpoe$()+", "+s.ref1f_61zpoe$()+");"):t.appendMain_61zpoe$("fragOutColor_"+r+" = "+this.inColors[r].ref4f_61zpoe$()+";")}},Xl.$metadata$={kind:$,simpleName:"FragmentColorOutNode",interfaces:[ou]},Kl.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inDepth)},Kl.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("gl_FragDepth = "+this.inDepth.ref1f_61zpoe$()+";")},Kl.$metadata$={kind:$,simpleName:"FragmentDepthOutNode",interfaces:[ou]},Yl.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inAlpha,this.inAlphaCutoff])},Yl.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("if ("+this.inAlpha.ref1f_61zpoe$()+" <= "+this.inAlphaCutoff.ref1f_61zpoe$()+") { discard; }")},Yl.$metadata$={kind:$,simpleName:"DiscardAlphaNode",interfaces:[ou]},Zl.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$(this.inShadowFacs.slice()),this.dependsOn_8ak6wm$([this.inFragPos,this.inSpotInnerAngle]),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],Jl(this))},Zl.prototype.encodeLightSetup_0=function(t){var e,n=t.renderPass.lighting;if(null!=n){var i=this.uLightCnt_0,o=n.lights.size,r=this.maxLights;i.value=R.min(o,r),e=this.uLightCnt_0.value;for(var s=0;s<e;s++){var a=n.lights.get_za3lpa$(s);this.uColors_0.value[s].set_czzhhz$(a.color),this.uPositions_0.value[s].set_2qa7tb$(a.position,a.type.encoded);var l=this.uDirections_0.value[s],p=a.direction,u=a.spotAngle/2*Ij.DEG_2_RAD;l.set_2qa7tb$(p,R.cos(u))}}else this.uLightCnt_0.value=0},Zl.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("light_getFragToLight","\n            vec3 light_getFragToLight(int idx, vec3 fragPos) {\n                if ("+this.uPositions_0.name+"[idx].w == float("+_d().encoded+")) {\n                    return -"+this.uDirections_0.name+"[idx].xyz;\n                }\n                // same for point and spot lights\n                return "+this.uPositions_0.name+"[idx].xyz - fragPos;\n            }\n            ");var e=this.isReducedSoi?"\n                float powerSqrt = sqrt(power);\n                float strength = clamp(power / (1.0 + dist * dist) * (powerSqrt - dist) / powerSqrt, 0.0, power);\n            ":"float strength = power / (1.0 + dist * dist);";t.appendFunction_puj7f4$("light_getRadiance","\n            vec3 light_getRadiance(int idx, vec3 fragToLight, float innerAngle) {\n                if ("+this.uPositions_0.name+"[idx].w == float("+_d().encoded+")) {\n                    return "+this.uColors_0.name+"[idx].rgb * "+this.uColors_0.name+"[idx].w;\n                }\n                float dist = length(fragToLight);\n                float power = "+this.uColors_0.name+"[idx].w;\n                "+e+"\n                if ("+this.uPositions_0.name+"[idx].w == float("+hd().encoded+")) {\n                    return "+this.uColors_0.name+"[idx].rgb * strength;\n                } else {\n                    // spot light\n                    vec3 lightDir = -normalize(fragToLight);\n                    float spotAng = "+this.uDirections_0.name+"[idx].w;\n                    float innerAng = spotAng + (1.0 - spotAng) * (1.0 - innerAngle);\n                    float ang = dot(lightDir, "+this.uDirections_0.name+"[idx].xyz);\n                    float angVal = cos(clamp((innerAng - ang) / (innerAng - spotAng), 0.0, 1.0) * "+V.PI+") * 0.5 + 0.5;\n                    return "+this.uColors_0.name+"[idx].rgb * strength * angVal;\n                }\n            }\n            ");var n,i=f(0,this.maxLights),o=z(M(i,10));for(n=i.iterator();n.hasNext();){var r=n.next();o.add_11rb$(this.inShadowFacs[r].ref1f_61zpoe$())}var s,a=Et(o,", "),l=f(0,this.maxLights),p=z(M(l,10));for(s=l.iterator();s.hasNext();)s.next(),p.add_11rb$("vec3(0.0)");var u=Et(p,", ");t.appendMain_61zpoe$("\n            float[] "+this.name+"_shadowFacs = float[] ("+a+");\n            "+this.outFragToLightDirection.declare()+" = vec3["+this.maxLights+"]("+u+");\n            "+this.outRadiance.declare()+" = vec3["+this.maxLights+"]("+u+");\n            for (int i = 0; i < "+this.uLightCnt_0+"; i++) {\n                "+this.outFragToLightDirection.ref3f_61zpoe$("i")+" = light_getFragToLight(i, "+this.inFragPos.ref3f_61zpoe$()+");\n                "+this.outRadiance.ref3f_61zpoe$("i")+" = light_getRadiance(i, "+this.outFragToLightDirection.ref3f_61zpoe$("i")+", "+this.inSpotInnerAngle.ref1f_61zpoe$("i")+") * "+this.name+"_shadowFacs[i];\n            }\n            ")},Zl.$metadata$={kind:$,simpleName:"MultiLightNode",interfaces:[ou]},Ql.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],tp(this))},Ql.prototype.encodeLightSetup_0=function(){var t=this.light;if(null!=t){this.uColor_0.value.set_czzhhz$(t.color),this.uPosition_0.value.set_2qa7tb$(t.position,t.type.encoded);var e=this.uDirection_0.value,n=t.direction,i=t.spotAngle/2*Ij.DEG_2_RAD;e.set_2qa7tb$(n,R.cos(i))}else this.uColor_0.value.set_czzhhz$(tr().ZERO)},Ql.$metadata$={kind:$,simpleName:"SingleLightUniformDataNode",interfaces:[ou]},ep.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inShaodwFac,this.inLightPos,this.inLightDir,this.inLightColor])},ep.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("light_getFragToLight","\n            vec3 light_getFragToLight(vec3 fragPos, vec4 lightPos, vec4 lightDir) {\n                if (lightPos.w == float("+_d().encoded+")) {\n                    return -lightDir.xyz;\n                }\n                // same for point and spot lights\n                return lightPos.xyz - fragPos;\n            }\n            ");var e=this.isReducedSoi?"\n                float powerSqrt = sqrt(power);\n                float strength = clamp(power / (1.0 + dist * dist) * (powerSqrt - dist) / powerSqrt, 0.0, power);\n            ":"float strength = power / (1.0 + dist * dist);";t.appendFunction_puj7f4$("light_getRadiance","\n            vec3 light_getRadiance(vec3 fragToLight, vec4 lightPos, vec4 lightColor, vec4 lightDir, float innerAngle) {\n                if (lightPos.w == float("+_d().encoded+")) {\n                    return lightColor.rgb * lightColor.w;\n                }\n                float dist = length(fragToLight);\n                float power = lightColor.w;\n                "+e+"\n                if (lightPos.w == float("+hd().encoded+")) {\n                    return lightColor.rgb * strength;\n                } else {\n                    // spot light\n                    vec3 negFtl = -normalize(fragToLight);\n                    float spotAng = lightDir.w;\n                    float innerAng = spotAng + (1.0 - spotAng) * (1.0 - innerAngle);\n                    float ang = dot(negFtl, lightDir.xyz);\n                    float angVal = cos(clamp((innerAng - ang) / (innerAng - spotAng), 0.0, 1.0) * "+V.PI+") * 0.5 + 0.5;\n                    return lightColor.rgb * strength * angVal;\n                }\n            }\n            "),t.appendMain_61zpoe$("\n            "+this.outFragToLightDirection.declare()+" = light_getFragToLight("+this.inFragPos.ref3f_61zpoe$()+", "+this.inLightPos.ref3f_61zpoe$()+", "+this.inLightDir.ref3f_61zpoe$()+");\n            "+this.outRadiance.declare()+" = light_getRadiance("+this.outFragToLightDirection.ref3f_61zpoe$()+",\n                         "+this.inLightPos.ref3f_61zpoe$()+", "+this.inLightColor.ref4f_61zpoe$()+", "+this.inLightDir.ref4f_61zpoe$()+",\n                         "+this.inSpotInnerAngle.ref1f_61zpoe$()+") * "+this.inShaodwFac.ref1f_61zpoe$()+";\n        ")},ep.$metadata$={kind:$,simpleName:"SingleLightNode",interfaces:[ou]},np.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inLightPos,this.inLightColor,this.inShadowFac,this.inFragPos])},np.prototype.generateCode_626509$=function(t){var e=this.isReducedSoi?"\n                float powerSqrt = sqrt(power);\n                float strength = clamp(power / (1.0 + dist * dist) * (powerSqrt - dist) / powerSqrt, 0.0, power);\n            ":"float strength = power / (1.0 + dist * dist);";t.appendFunction_puj7f4$("pointLight_getRadiance","\n            vec3 pointLight_getRadiance(vec3 fragToLight, vec4 lightPos, vec4 lightColor) {\n                float dist = length(fragToLight);\n                float power = lightColor.w;\n                "+e+"\n                return lightColor.rgb * strength;\n            }\n            "),t.appendMain_61zpoe$("\n            "+this.outFragToLightDirection.declare()+" = "+this.inLightPos.ref3f_61zpoe$()+" - "+this.inFragPos.ref3f_61zpoe$()+";\n            "+this.outRadiance.declare()+" = pointLight_getRadiance("+this.outFragToLightDirection+", "+this.inLightPos.ref4f_61zpoe$()+",\n                        "+this.inLightColor.ref4f_61zpoe$()+") * "+this.inShadowFac.ref1f_61zpoe$()+";\n        ")},np.$metadata$={kind:$,simpleName:"SinglePointLightNode",interfaces:[ou]},ip.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inShadowFac,this.inLightPos,this.inLightDir,this.inLightColor])},ip.prototype.generateCode_626509$=function(t){var e=this.isReducedSoi?"\n                float powerSqrt = sqrt(power);\n                float strength = clamp(power / (1.0 + dist * dist) * (powerSqrt - dist) / powerSqrt, 0.0, power);\n            ":"float strength = power / (1.0 + dist * dist);";t.appendFunction_puj7f4$("spotLight_getRadiance","\n            vec3 "+this.name+"_getRadiance(vec3 fragToLight, vec4 lightPos, vec4 lightColor, vec4 lightDir, float innerAngle) {\n                float dist = length(fragToLight);\n                float power = lightColor.w;\n                "+e+"\n                vec3 negFtl = -normalize(fragToLight);\n                float spotAng = lightDir.w;\n                float innerAng = spotAng + (1.0 - spotAng) * (1.0 - innerAngle);\n                float ang = dot(negFtl, lightDir.xyz);\n                float angVal = cos(clamp((innerAng - ang) / (innerAng - spotAng), 0.0, 1.0) * "+V.PI+") * 0.5 + 0.5;\n                return lightColor.rgb * strength * angVal;\n            }\n            "),t.appendMain_61zpoe$("\n            "+this.outFragToLightDirection.declare()+" = "+this.inLightPos.ref3f_61zpoe$()+" - "+this.inFragPos.ref3f_61zpoe$()+";\n            "+this.outRadiance.declare()+" = spotLight_getRadiance("+this.outFragToLightDirection+", "+this.inLightPos.ref4f_61zpoe$()+",\n                        "+this.inLightColor.ref4f_61zpoe$()+", "+this.inSpotInnerAngle+") * "+this.inShadowFac.ref1f_61zpoe$()+";\n        ")},ip.$metadata$={kind:$,simpleName:"SingleSpotLightNode",interfaces:[ou]},op.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inColor)},op.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outColor.declare()+" = vec4("+this.inColor.ref3f_61zpoe$()+" * "+this.inColor.ref4f_61zpoe$()+".a, "+this.inColor.ref4f_61zpoe$()+".a);")},op.$metadata$={kind:$,simpleName:"UnlitMaterialNode",interfaces:[ou]},rp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inAlbedo,this.inNormal,this.inFragPos,this.inCamPos]),this.dependsOn_8ak6wm$([this.inLightCount,this.inFragToLight,this.inRadiance,this.inAmbient,this.inShininess,this.inSpecularIntensity])},rp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n            vec3 phongMat_v = normalize("+this.inFragPos.ref3f_61zpoe$()+" - "+this.inCamPos.ref3f_61zpoe$()+");\n            vec3 phongMat_n = normalize("+this.inNormal.ref3f_61zpoe$()+");\n            \n            vec3 phongMat_ambient = "+this.inAlbedo.ref3f_61zpoe$()+" * "+this.inAmbient.ref3f_61zpoe$()+";\n            vec3 phongMat_diffuse = vec3(0);\n            vec3 phongMat_specular = vec3(0);\n            for (int i = 0; i < "+this.inLightCount.ref1i_61zpoe$()+"; i++) {\n                vec3 phongMat_l = normalize("+this.inFragToLight.ref3f_61zpoe$("i")+");\n                vec3 radiance = "+this.inRadiance.ref3f_61zpoe$("i")+";\n                \n                "+(this.lightBacksides?"if (dot(phongMat_n, phongMat_l) < 0.0) { phongMat_n *= -1.0; }":"")+"\n        \n                float phongMat_cosTheta = clamp(dot(phongMat_n, phongMat_l), 0.0, 1.0);\n                vec3 phongMat_r = reflect(phongMat_l, phongMat_n);\n                float phongMat_cosAlpha = clamp(dot(phongMat_v, phongMat_r), 0.0, 1.0);\n                \n                phongMat_diffuse += "+this.inAlbedo.ref4f_61zpoe$()+".rgb * radiance * phongMat_cosTheta;\n                phongMat_specular += "+this.inSpecularIntensity.ref1f_61zpoe$()+" * radiance *\n                        pow(phongMat_cosAlpha, "+this.inShininess.ref1f_61zpoe$()+") * "+this.inAlbedo.ref4f_61zpoe$()+".a;\n            } \n            \n            vec3 phongMat_color = phongMat_ambient + phongMat_diffuse + phongMat_specular;\n            "+this.outColor.declare()+" = vec4(phongMat_color * "+this.inAlbedo.ref4f_61zpoe$()+".a, "+this.inAlbedo.ref4f_61zpoe$()+".a);\n            ")},rp.$metadata$={kind:$,simpleName:"PhongMaterialNode",interfaces:[ou]},sp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inAlbedo,this.inEmissive,this.inNormal,this.inFragPos,this.inViewDir]),this.dependsOn_8ak6wm$([this.inMetallic,this.inRoughness,this.inAmbientOccl]),this.dependsOn_8ak6wm$([this.inFragToLight,this.inRadiance,this.inIrradiance,this.inReflectionColor,this.inReflectionWeight]),this.dependsOn_lhtstx$(this.reflectionMap),this.dependsOn_lhtstx$(this.brdfLut)},sp.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("fresnelSchlick","\n            vec3 fresnelSchlick(float cosTheta, vec3 F0) {\n                return F0 + (1.0 - F0) * pow(1.0 - cosTheta, 5.0);\n            }\n        "),t.appendFunction_puj7f4$("fresnelSchlickRoughness","\n            vec3 fresnelSchlickRoughness(float cosTheta, vec3 F0, float roughness) {\n                return F0 + (max(vec3(1.0 - roughness), F0) - F0) * pow(1.0 - cosTheta, 5.0);\n            }\n        "),t.appendFunction_puj7f4$("DistributionGGX","\n            float DistributionGGX(vec3 N, vec3 H, float roughness) {\n                float a = roughness*roughness;\n                float a2 = a*a;\n                float NdotH = max(dot(N, H), 0.0);\n                float NdotH2 = NdotH*NdotH;\n            \t\n                float num = a2;\n                float denom = (NdotH2 * (a2 - 1.0) + 1.0);\n                denom = 3.141592653589793 * denom * denom;\n            \t\n                return num / denom;\n            }\n        "),t.appendFunction_puj7f4$("GeometrySchlickGGX","\n            float GeometrySchlickGGX(float NdotV, float roughness) {\n                float r = (roughness + 1.0);\n                float k = (r*r) / 8.0;\n                \n                float num   = NdotV;\n                float denom = NdotV * (1.0 - k) + k;\n                \n                return num / denom;\n            }\n        "),t.appendFunction_puj7f4$("GeometrySmith","\n            float GeometrySmith(vec3 N, vec3 V, vec3 L, float roughness) {\n                float NdotV = max(dot(N, V), 0.0);\n                float NdotL = max(dot(N, L), 0.0);\n                float ggx2  = GeometrySchlickGGX(NdotV, roughness);\n                float ggx1  = GeometrySchlickGGX(NdotL, roughness);\n                \n                return ggx1 * ggx2;\n            }\n        "),t.appendMain_61zpoe$("\n            vec3 albedo = "+this.inAlbedo.ref3f_61zpoe$()+";\n            vec3 V = -"+this.inViewDir.ref3f_61zpoe$()+";\n            vec3 N = "+this.inNormal.ref3f_61zpoe$()+";\n            \n            float rough = clamp("+this.inRoughness.ref1f_61zpoe$()+", 0.05, 1.0);\n            float metal = "+this.inMetallic.ref1f_61zpoe$()+";\n            \n            vec3 F0 = vec3(0.04); \n            F0 = mix(F0, albedo, metal);\n    \n            vec3 Lo = vec3(0.0);\n            \n            for (int i = 0; i < "+this.inLightCount.ref1i_61zpoe$()+"; i++) {\n                // calculate per-light radiance\n                vec3 L = normalize("+this.inFragToLight.ref3f_61zpoe$("i")+");\n                vec3 H = normalize(V + L);\n                vec3 radiance = "+this.inRadiance.ref3f_61zpoe$("i")+";\n        \n                "+(this.lightBacksides?"N *= sign(dot(N, L));":"")+"\n        \n                // cook-torrance BRDF\n                float NDF = DistributionGGX(N, H, rough); \n                float G = GeometrySmith(N, V, L, rough);\n                vec3 F = fresnelSchlick(max(dot(H, V), 0.0), F0);\n                \n                vec3 kS = F;\n                vec3 kD = vec3(1.0) - kS;\n                kD *= 1.0 - metal;\n                \n                vec3 numerator = NDF * G * F;\n                float denominator = 4.0 * max(dot(N, V), 0.0) * max(dot(N, L), 0.0);\n                vec3 specular = numerator / max(denominator, 0.001);\n                    \n                // add to outgoing radiance Lo\n                float NdotL = max(dot(N, L), 0.0);\n                Lo += (kD * albedo / "+V.PI+" + specular) * radiance * NdotL;\n            }\n            "),null!=this.reflectionMap&&null!=this.brdfLut?this.generateFinalIbl_0(t,this.reflectionMap,this.brdfLut):this.generateFinalNonIbl_0(t)},sp.prototype.generateFinalNonIbl_0=function(t){t.appendMain_61zpoe$("\n            vec3 kS = fresnelSchlickRoughness(max(dot(N, V), 0.0), F0, rough);\n            vec3 kD = 1.0 - kS;\n            vec3 diffuse = "+this.inIrradiance.ref3f_61zpoe$()+" * albedo;\n            vec3 ambient = (kD * diffuse) * "+this.inAmbientOccl.ref1f_61zpoe$()+";\n\n            vec3 color = (ambient + Lo + "+this.inEmissive.ref3f_61zpoe$()+") * "+this.inAlbedo.ref4f_61zpoe$()+".a;\n            "+this.outColor.declare()+" = vec4(color, "+this.inAlbedo.ref4f_61zpoe$()+".a);\n        ")},sp.prototype.generateFinalIbl_0=function(t,e,n){t.appendMain_61zpoe$("\n            vec3 F = fresnelSchlickRoughness(max(dot(N, V), 0.0), F0, rough);\n            vec3 kS = F;\n            vec3 kD = 1.0 - kS;\n            kD *= 1.0 - metal;\n            vec3 diffuse = "+this.inIrradiance.ref3f_61zpoe$()+" * albedo;\n\n            // sample reflection map\n            vec3 R = reflect(-V, N);\n            const float MAX_REFLECTION_LOD = 6.0;\n            vec3 prefilteredColor = "+t.sampleTexture2d_buzeal$(e.name,"R","rough * MAX_REFLECTION_LOD")+".rgb;\n            prefilteredColor = mix(prefilteredColor, clamp("+this.inReflectionColor.ref3f_61zpoe$()+", 0.0, 5.0), "+this.inReflectionWeight.ref1f_61zpoe$()+");\n\n            vec2 brdfUv = vec2(max(dot(N, V), 0.0), rough);\n            vec2 envBRDF = "+t.sampleTexture2d_buzeal$(n.name,"brdfUv")+".rg;\n            vec3 specular = prefilteredColor * (F * envBRDF.x + envBRDF.y);\n            vec3 ambient = (kD * diffuse) * "+this.inAmbientOccl.ref1f_61zpoe$()+";\n            vec3 reflection = specular * "+this.inAmbientOccl.ref1f_61zpoe$()+" * "+this.inReflectionStrength.ref1f_61zpoe$()+";\n            vec3 color = (ambient + Lo + "+this.inEmissive.ref3f_61zpoe$()+") * "+this.inAlbedo.ref4f_61zpoe$()+".a + reflection;\n            "+this.outColor.declare()+" = vec4(color, "+this.inAlbedo.ref4f_61zpoe$()+".a);\n        ")},sp.$metadata$={kind:$,simpleName:"PbrMaterialNode",interfaces:[ou]},ap.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inAlbedo,this.inNormal,this.inFragPos,this.inCamPos,this.inFragToLight,this.inRadiance,this.inIrradiance])},ap.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("fresnelSchlick","\n            vec3 fresnelSchlick(float cosTheta, vec3 F0) {\n                return F0 + (1.0 - F0) * pow(1.0 - cosTheta, 5.0);\n            }\n        "),t.appendFunction_puj7f4$("DistributionGGX","\n            float DistributionGGX(vec3 N, vec3 H, float roughness) {\n                float a = roughness*roughness;\n                float a2 = a*a;\n                float NdotH = max(dot(N, H), 0.0);\n                float NdotH2 = NdotH*NdotH;\n            \t\n                float num = a2;\n                float denom = (NdotH2 * (a2 - 1.0) + 1.0);\n                denom = 3.141592653589793 * denom * denom;\n            \t\n                return num / denom;\n            }\n        "),t.appendFunction_puj7f4$("GeometrySchlickGGX","\n            float GeometrySchlickGGX(float NdotV, float roughness) {\n                float r = (roughness + 1.0);\n                float k = (r*r) / 8.0;\n                \n                float num   = NdotV;\n                float denom = NdotV * (1.0 - k) + k;\n                \n                return num / denom;\n            }\n        "),t.appendFunction_puj7f4$("GeometrySmith","\n            float GeometrySmith(vec3 N, vec3 V, vec3 L, float roughness) {\n                float NdotV = max(dot(N, V), 0.0);\n                float NdotL = max(dot(N, L), 0.0);\n                float ggx2  = GeometrySchlickGGX(NdotV, roughness);\n                float ggx1  = GeometrySchlickGGX(NdotL, roughness);\n                \n                return ggx1 * ggx2;\n            }\n        ");var e=this.lightBacksides?"true":"dot("+this.inFragToLight+", "+this.inNormal.ref3f_61zpoe$()+") > 0.0";t.appendMain_61zpoe$("\n            vec3 radiance = vec3(0.0);\n            bool normalOk = "+e+";\n            if (normalOk) {\n                radiance = "+this.inRadiance.ref3f_61zpoe$()+";\n            }\n            \n            "+this.outColor.declare()+" = vec4(0.0, 0.0, 0.0, 1.0);\n            if (normalOk && dot(radiance, radiance) > 0.0) {\n                vec3 albedo = "+this.inAlbedo.ref3f_61zpoe$()+";\n                vec3 V = normalize("+this.inCamPos.ref3f_61zpoe$()+" - "+this.inFragPos.ref3f_61zpoe$()+");\n                vec3 N = normalize("+this.inNormal.ref3f_61zpoe$()+");\n                \n                float rough = clamp("+this.inRoughness.ref1f_61zpoe$()+", 0.05, 1.0);\n                float metal = "+this.inMetallic.ref1f_61zpoe$()+";\n                \n                vec3 F0 = vec3(0.04); \n                F0 = mix(F0, albedo, metal);\n        \n                vec3 L = normalize("+this.inFragToLight+");\n                vec3 H = normalize(V + L);\n                "+(this.lightBacksides?"N *= sign(dot(N, L));":"")+"\n        \n                // cook-torrance BRDF\n                float NDF = DistributionGGX(N, H, rough); \n                float G = GeometrySmith(N, V, L, rough);\n                vec3 F = fresnelSchlick(max(dot(H, V), 0.0), F0);\n                \n                vec3 kS = F;\n                vec3 kD = vec3(1.0) - kS;\n                kD *= 1.0 - metal;\n                \n                vec3 numerator = NDF * G * F;\n                float denominator = 4.0 * max(dot(N, V), 0.0) * max(dot(N, L), 0.0);\n                vec3 specular = numerator / max(denominator, 0.001);\n                    \n                // add to outgoing radiance Lo\n                float NdotL = max(dot(N, L), 0.0);\n                "+this.outColor.name+" = vec4((kD * albedo / "+V.PI+" + specular) * radiance * NdotL, 1.0);\n            }\n            ")},ap.$metadata$={kind:$,simpleName:"PbrLightNode",interfaces:[ou]},Object.defineProperty(lp.prototype,"left",{configurable:!0,get:function(){return this.left_8p0ptp$_0},set:function(t){this.output=new ru(new gp(this.name+"_out",t.variable.type),this),this.left_8p0ptp$_0=t}}),Object.defineProperty(lp.prototype,"output",{configurable:!0,get:function(){return this.output_q2fkhv$_0},set:function(t){this.output_q2fkhv$_0=t}}),lp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.left,this.right])},lp.$metadata$={kind:$,simpleName:"MathOpNode",interfaces:[ou]},pp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = "+this.left+" + "+this.right+";")},pp.$metadata$={kind:$,simpleName:"AddNode",interfaces:[lp]},up.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = "+this.left+" - "+this.right+";")},up.$metadata$={kind:$,simpleName:"SubtractNode",interfaces:[lp]},cp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = "+this.left+" / "+this.right+";")},cp.$metadata$={kind:$,simpleName:"DivideNode",interfaces:[lp]},_p.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = "+this.left+" * "+this.right+";")},_p.$metadata$={kind:$,simpleName:"MultiplyNode",interfaces:[lp]},hp.prototype.setup_llmhyc$=function(t){lp.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.mixFac)},hp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = mix("+this.left+", "+this.right+", "+this.mixFac.ref1f_61zpoe$()+");")},hp.$metadata$={kind:$,simpleName:"MixNode",interfaces:[lp]},dp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.input)},dp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = ("+this.input.ref3f_61zpoe$()+" - 0.5) * 2.0;")},dp.$metadata$={kind:$,simpleName:"VecFromColorNode",interfaces:[ou]},fp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inA,this.inB])},fp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = length("+this.inA+" - "+this.inB+");")},fp.$metadata$={kind:$,simpleName:"DistanceNode",interfaces:[ou]},mp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.input)},mp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = normalize("+this.input.ref3f_61zpoe$()+");")},mp.$metadata$={kind:$,simpleName:"NormalizeNode",interfaces:[ou]},yp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inCamPos,this.inWorldPos])},yp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = normalize("+this.inWorldPos.ref3f_61zpoe$()+" - "+this.inCamPos.ref3f_61zpoe$()+");")},yp.$metadata$={kind:$,simpleName:"ViewDirNode",interfaces:[ou]},$p.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inDirection,this.inNormal])},$p.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outDirection.declare()+" = reflect("+this.inDirection.ref3f_61zpoe$()+", "+this.inNormal.ref3f_61zpoe$()+");")},$p.$metadata$={kind:$,simpleName:"ReflectNode",interfaces:[ou]},bp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inDirection,this.inNormal])},bp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outDirection.declare()+" = refract("+this.inDirection.ref3f_61zpoe$()+", "+this.inNormal.ref3f_61zpoe$()+", "+this.inIor.ref1f_61zpoe$()+");")},bp.$metadata$={kind:$,simpleName:"RefractNode",interfaces:[ou]},gp.prototype.glslType=function(){return this.type.glslType},gp.prototype.declare=function(){var t=this.isArray?"[]":"";return this.glslType()+t+" "+this.name},gp.prototype.refAsType_fz5f65$=function(t,e){switch(void 0===e&&(e=""),t.name){case"FLOAT":return this.ref1f_61zpoe$(e);case"VEC_2F":return this.ref2f_61zpoe$(e);case"VEC_3F":return this.ref3f_61zpoe$(e);case"VEC_4F":return this.ref4f_61zpoe$(e);case"INT":return this.ref1i_61zpoe$(e);case"VEC_2I":return this.ref2i_61zpoe$(e);case"VEC_3I":return this.ref3i_61zpoe$(e);case"VEC_4I":return this.ref4i_61zpoe$(e);default:if(t===this.type)return this.name;throw _i(this.type.toString()+" cannot be converted to "+t)}},gp.prototype.ref1f_61zpoe$$default=function(t){var e,n=this.isArray?"["+t+"]":"";switch(this.type.name){case"FLOAT":e=this.name+n;break;case"VEC_2F":case"VEC_3F":case"VEC_4F":e=this.name+n+".x";break;case"INT":e="float("+this.name+n+")";break;case"VEC_2I":case"VEC_3I":case"VEC_4I":e="float("+this.name+n+".x)";break;default:throw _i(this.type.toString()+" cannot be converted to float")}return e},gp.prototype.ref1f_61zpoe$=function(t,e){return void 0===t&&(t="0"),e?e(t):this.ref1f_61zpoe$$default(t)},gp.prototype.ref2f_61zpoe$$default=function(t){var e,n=this.isArray?"["+t+"]":"";switch(this.type.name){case"FLOAT":e="vec2("+this.name+n+", 0.0)";break;case"VEC_2F":e=this.name+n;break;case"VEC_3F":case"VEC_4F":e=this.name+n+".xy";break;case"INT":e="vec2(float("+this.name+n+"), 0.0)";break;case"VEC_2I":case"VEC_3I":case"VEC_4I":e="vec2(float("+this.name+n+".x), float("+this.name+n+".y))";break;default:throw _i(this.type.toString()+" cannot be converted to vec2")}return e},gp.prototype.ref2f_61zpoe$=function(t,e){return void 0===t&&(t="0"),e?e(t):this.ref2f_61zpoe$$default(t)},gp.prototype.ref3f_61zpoe$$default=function(t){var e,n=this.isArray?"["+t+"]":"";switch(this.type.name){case"FLOAT":e="vec3("+this.name+n+", 0.0, 0.0)";break;case"VEC_2F":e="vec3("+this.name+n+", 0.0)";break;case"VEC_3F":e=this.name+n;break;case"VEC_4F":e=this.name+n+".xyz";break;case"INT":e="vec3(float("+this.name+n+"), 0.0, 0.0)";break;case"VEC_2I":e="vec3(float("+this.name+n+".x), float("+this.name+n+".y), 0.0)";break;case"VEC_3I":case"VEC_4I":e="vec3(float("+this.name+n+".x), float("+this.name+n+".y), float("+this.name+n+".z))";break;default:throw _i(this.type.toString()+" cannot be converted to vec3")}return e},gp.prototype.ref3f_61zpoe$=function(t,e){return void 0===t&&(t="0"),e?e(t):this.ref3f_61zpoe$$default(t)},gp.prototype.ref4f_61zpoe$$default=function(t){var e,n=this.isArray?"["+t+"]":"";switch(this.type.name){case"FLOAT":e="vec4("+this.name+n+", 0.0, 0.0, 0.0)";break;case"VEC_2F":e="vec4("+this.name+n+", 0.0, 0.0)";break;case"VEC_3F":e="vec4("+this.name+n+", 0.0)";break;case"VEC_4F":e=this.name+n;break;case"INT":e="vec4(float("+this.name+n+"), 0.0, 0.0, 0.0)";break;case"VEC_2I":e="vec4(float("+this.name+n+".x), float("+this.name+n+".y), 0.0, 0.0)";break;case"VEC_3I":e="vec4(float("+this.name+n+".x), float("+this.name+n+".y), float("+this.name+n+".z), 0.0)";break;case"VEC_4I":e="vec4(float("+this.name+n+".x), float("+this.name+n+".y), float("+this.name+n+".z), float("+this.name+n+".w))";break;default:throw _i(this.type.toString()+" cannot be converted to vec4")}return e},gp.prototype.ref4f_61zpoe$=function(t,e){return void 0===t&&(t="0"),e?e(t):this.ref4f_61zpoe$$default(t)},gp.prototype.ref1i_61zpoe$$default=function(t){var e,n=this.isArray?"["+t+"]":"";switch(this.type.name){case"FLOAT":e="int("+this.name+n+")";break;case"VEC_2F":case"VEC_3F":case"VEC_4F":e="int("+this.name+n+".x)";break;case"INT":e=this.name+n;break;case"VEC_2I":case"VEC_3I":case"VEC_4I":e=this.name+n+".x";break;default:throw _i(this.type.toString()+" cannot be converted to int")}return e},gp.prototype.ref1i_61zpoe$=function(t,e){return void 0===t&&(t="0"),e?e(t):this.ref1i_61zpoe$$default(t)},gp.prototype.ref2i_61zpoe$$default=function(t){var e,n=this.isArray?"["+t+"]":"";switch(this.type.name){case"FLOAT":e="ivec2(int("+this.name+n+"), 0)";break;case"VEC_2F":case"VEC_3F":case"VEC_4F":e="ivec2(int("+this.name+n+".x), int("+this.name+n+".y))";break;case"INT":e="ivec2("+this.name+n+", 0)";break;case"VEC_2I":e=this.name+n;break;case"VEC_3I":case"VEC_4I":e="ivec2("+this.name+n+".xy)";break;default:throw _i(this.type.toString()+" cannot be converted to ivec2")}return e},gp.prototype.ref2i_61zpoe$=function(t,e){return void 0===t&&(t="0"),e?e(t):this.ref2i_61zpoe$$default(t)},gp.prototype.ref3i_61zpoe$$default=function(t){var e,n=this.isArray?"["+t+"]":"";switch(this.type.name){case"FLOAT":e="ivec3(int("+this.name+n+"), 0, 0)";break;case"VEC_2F":e="ivec3(int("+this.name+n+".x), int("+this.name+n+".y), 0)";break;case"VEC_3F":case"VEC_4F":e="ivec3(int("+this.name+n+".x), int("+this.name+n+".y), int("+this.name+n+".z))";break;case"INT":e="ivec3("+this.name+n+", 0, 0)";break;case"VEC_2I":e="ivec3("+this.name+n+", 0)";break;case"VEC_3I":e=this.name+n;break;case"VEC_4I":e="ivec3("+this.name+n+".xyz)";break;default:throw _i(this.type.toString()+" cannot be converted to ivec3")}return e},gp.prototype.ref3i_61zpoe$=function(t,e){return void 0===t&&(t="0"),e?e(t):this.ref3i_61zpoe$$default(t)},gp.prototype.ref4i_61zpoe$$default=function(t){var e,n=this.isArray?"["+t+"]":"";switch(this.type.name){case"FLOAT":e="ivec4(int("+this.name+n+"), 0, 0, 0)";break;case"VEC_2F":e="ivec4(int("+this.name+n+".x), int("+this.name+n+".y), 0, 0)";break;case"VEC_3F":e="ivec4(int("+this.name+n+".x), int("+this.name+n+".x), int("+this.name+n+".z), 0)";break;case"VEC_4F":e="ivec4(int("+this.name+n+".x), int("+this.name+n+".x), int("+this.name+n+".z), int("+this.name+n+".w))";break;case"INT":e="ivec4("+this.name+n+", 0, 0, 0)";break;case"VEC_2I":e="ivec4("+this.name+n+", 0, 0)";break;case"VEC_3I":e="ivec4("+this.name+n+", 0)";break;case"VEC_4I":e=this.name+n;break;default:throw _i(this.type.toString()+" cannot be converted to ivec4")}return e},gp.prototype.ref4i_61zpoe$=function(t,e){return void 0===t&&(t="0"),e?e(t):this.ref4i_61zpoe$$default(t)},gp.$metadata$={kind:$,simpleName:"ModelVar",interfaces:[]},vp.$metadata$={kind:$,simpleName:"ModelVar1f",interfaces:[gp]},xp.$metadata$={kind:$,simpleName:"ModelVar2f",interfaces:[gp]},wp.$metadata$={kind:$,simpleName:"ModelVar3f",interfaces:[gp]},zp.$metadata$={kind:$,simpleName:"ModelVar4f",interfaces:[gp]},Cp.$metadata$={kind:$,simpleName:"ModelVar3fv",interfaces:[gp]},Sp.$metadata$={kind:$,simpleName:"ModelVar1i",interfaces:[gp]},kp.$metadata$={kind:$,simpleName:"ModelVar2i",interfaces:[gp]},Lp.$metadata$={kind:$,simpleName:"ModelVar3i",interfaces:[gp]},jp.$metadata$={kind:$,simpleName:"ModelVar4i",interfaces:[gp]},Np.$metadata$={kind:$,simpleName:"ModelVarMat4f",interfaces:[gp]},Pp.prototype.ref1f_61zpoe$$default=function(t){return"float("+this.value+")"},Pp.prototype.ref2f_61zpoe$$default=function(t){return"vec2(float("+this.value+"), 0.0)"},Pp.prototype.ref3f_61zpoe$$default=function(t){return"vec3(float("+this.value+"), 0.0, 0.0)"},Pp.prototype.ref4f_61zpoe$$default=function(t){return"vec4(float("+this.value+"), 0.0, 0.0, 0.0)"},Pp.prototype.ref1i_61zpoe$$default=function(t){return"int("+this.value+")"},Pp.prototype.ref2i_61zpoe$$default=function(t){return"ivec2(int("+this.value+"), 0)"},Pp.prototype.ref3i_61zpoe$$default=function(t){return"ivec3(int("+this.value+"), 0, 0)"},Pp.prototype.ref4i_61zpoe$$default=function(t){return"ivec4(int("+this.value+"), 0, 0, 0)"},Pp.$metadata$={kind:$,simpleName:"ModelVar1fConst",interfaces:[vp]},Tp.prototype.ref1f_61zpoe$$default=function(t){return"float("+this.value.x+")"},Tp.prototype.ref2f_61zpoe$$default=function(t){return"vec2(float("+this.value.x+"), float("+this.value.y+"))"},Tp.prototype.ref3f_61zpoe$$default=function(t){return"vec3(float("+this.value.x+"), float("+this.value.y+"), 0.0)"},Tp.prototype.ref4f_61zpoe$$default=function(t){return"vec4(float("+this.value.x+"), float("+this.value.y+"), 0.0, 0.0)"},Tp.prototype.ref1i_61zpoe$$default=function(t){return"int("+this.value.x+")"},Tp.prototype.ref2i_61zpoe$$default=function(t){return"ivec2(int("+this.value.x+"), int("+this.value.y+"))"},Tp.prototype.ref3i_61zpoe$$default=function(t){return"ivec3(int("+this.value.x+"), int("+this.value.y+"), 0)"},Tp.prototype.ref4i_61zpoe$$default=function(t){return"ivec4(int("+this.value.x+"), int("+this.value.y+"), 0, 0)"},Tp.$metadata$={kind:$,simpleName:"ModelVar2fConst",interfaces:[xp]},Op.prototype.ref1f_61zpoe$$default=function(t){return"float("+this.value.x+")"},Op.prototype.ref2f_61zpoe$$default=function(t){return"vec2(float("+this.value.x+"), float("+this.value.y+"))"},Op.prototype.ref3f_61zpoe$$default=function(t){return"vec3(float("+this.value.x+"), float("+this.value.y+"), float("+this.value.z+"))"},Op.prototype.ref4f_61zpoe$$default=function(t){return"vec4(float("+this.value.x+"), float("+this.value.y+"), float("+this.value.z+"), 0.0)"},Op.prototype.ref1i_61zpoe$$default=function(t){return"int("+this.value.x+")"},Op.prototype.ref2i_61zpoe$$default=function(t){return"ivec2(int("+this.value.x+"), int("+this.value.y+"))"},Op.prototype.ref3i_61zpoe$$default=function(t){return"ivec3(int("+this.value.x+"), int("+this.value.y+"), int("+this.value.z+"))"},Op.prototype.ref4i_61zpoe$$default=function(t){return"ivec4(int("+this.value.x+"), int("+this.value.y+"), int("+this.value.z+"), 0)"},Op.$metadata$={kind:$,simpleName:"ModelVar3fConst",interfaces:[wp]},Ep.prototype.ref1f_61zpoe$$default=function(t){return"float("+this.value.x+")"},Ep.prototype.ref2f_61zpoe$$default=function(t){return"vec2(float("+this.value.x+"), float("+this.value.y+"))"},Ep.prototype.ref3f_61zpoe$$default=function(t){return"vec3(float("+this.value.x+"), float("+this.value.y+"), float("+this.value.z+"))"},Ep.prototype.ref4f_61zpoe$$default=function(t){return"vec4(float("+this.value.x+"), float("+this.value.y+"), float("+this.value.z+"), float("+this.value.w+"))"},Ep.prototype.ref1i_61zpoe$$default=function(t){return"int("+this.value.x+")"},Ep.prototype.ref2i_61zpoe$$default=function(t){return"ivec2(int("+this.value.x+"), int("+this.value.y+"))"},Ep.prototype.ref3i_61zpoe$$default=function(t){return"ivec3(int("+this.value.x+"), int("+this.value.y+"), int("+this.value.z+"))"},Ep.prototype.ref4i_61zpoe$$default=function(t){return"ivec4(int("+this.value.x+"), int("+this.value.y+"), int("+this.value.z+"), int("+this.value.w+"))"},Ep.$metadata$={kind:$,simpleName:"ModelVar4fConst",interfaces:[zp]},Mp.prototype.ref1f_61zpoe$$default=function(t){return"float("+this.value+")"},Mp.prototype.ref2f_61zpoe$$default=function(t){return"vec2(float("+this.value+"), 0.0)"},Mp.prototype.ref3f_61zpoe$$default=function(t){return"vec3(float("+this.value+"), 0.0, 0.0)"},Mp.prototype.ref4f_61zpoe$$default=function(t){return"vec4(float("+this.value+"), 0.0, 0.0, 0.0)"},Mp.prototype.ref1i_61zpoe$$default=function(t){return this.value.toString()},Mp.prototype.ref2i_61zpoe$$default=function(t){return"ivec2("+this.value+", 0)"},Mp.prototype.ref3i_61zpoe$$default=function(t){return"ivec3("+this.value+", 0, 0)"},Mp.prototype.ref4i_61zpoe$$default=function(t){return"ivec4("+this.value+", 0, 0, 0)"},Mp.$metadata$={kind:$,simpleName:"ModelVar1iConst",interfaces:[Sp]},Rp.prototype.ref1f_61zpoe$$default=function(t){return"float("+this.value.x+")"},Rp.prototype.ref2f_61zpoe$$default=function(t){return"vec2(float("+this.value.x+"), float("+this.value.y+"))"},Rp.prototype.ref3f_61zpoe$$default=function(t){return"vec3(float("+this.value.x+"), float("+this.value.y+"), 0.0)"},Rp.prototype.ref4f_61zpoe$$default=function(t){return"vec4(float("+this.value.x+"), float("+this.value.y+"), 0.0, 0.0)"},Rp.prototype.ref1i_61zpoe$$default=function(t){return"int("+this.value.x+")"},Rp.prototype.ref2i_61zpoe$$default=function(t){return"ivec2("+this.value.x+", "+this.value.y+")"},Rp.prototype.ref3i_61zpoe$$default=function(t){return"ivec3("+this.value.x+", "+this.value.y+", 0)"},Rp.prototype.ref4i_61zpoe$$default=function(t){return"ivec4("+this.value.x+", "+this.value.y+", 0, 0)"},Rp.$metadata$={kind:$,simpleName:"ModelVar2iConst",interfaces:[kp]},Ip.prototype.ref1f_61zpoe$$default=function(t){return"float("+this.value.x+")"},Ip.prototype.ref2f_61zpoe$$default=function(t){return"vec2(float("+this.value.x+"), float("+this.value.y+"))"},Ip.prototype.ref3f_61zpoe$$default=function(t){return"vec3(float("+this.value.x+"), float("+this.value.y+"), float("+this.value.z+"))"},Ip.prototype.ref4f_61zpoe$$default=function(t){return"vec4(float("+this.value.x+"), float("+this.value.y+"), float("+this.value.z+"), 0.0)"},Ip.prototype.ref1i_61zpoe$$default=function(t){return"int("+this.value.x+")"},Ip.prototype.ref2i_61zpoe$$default=function(t){return"ivec2("+this.value.x+", "+this.value.y+")"},Ip.prototype.ref3i_61zpoe$$default=function(t){return"ivec3("+this.value.x+", "+this.value.y+", "+this.value.z+")"},Ip.prototype.ref4i_61zpoe$$default=function(t){return"ivec4("+this.value.x+", "+this.value.y+", "+this.value.z+", 0)"},Ip.$metadata$={kind:$,simpleName:"ModelVar3iConst",interfaces:[Lp]},Ap.prototype.ref1f_61zpoe$$default=function(t){return"float("+this.value.x+")"},Ap.prototype.ref2f_61zpoe$$default=function(t){return"vec2(float("+this.value.x+"), float("+this.value.y+"))"},Ap.prototype.ref3f_61zpoe$$default=function(t){return"vec3(float("+this.value.x+"), float("+this.value.y+"), float("+this.value.z+"))"},Ap.prototype.ref4f_61zpoe$$default=function(t){return"vec4(float("+this.value.x+"), float("+this.value.y+"), float("+this.value.z+"), float("+this.value.w+"))"},Ap.prototype.ref1i_61zpoe$$default=function(t){return"int("+this.value.x+")"},Ap.prototype.ref2i_61zpoe$$default=function(t){return"ivec2("+this.value.x+", "+this.value.y+")"},Ap.prototype.ref3i_61zpoe$$default=function(t){return"ivec3("+this.value.x+", "+this.value.y+", "+this.value.z+")"},Ap.prototype.ref4i_61zpoe$$default=function(t){return"ivec4("+this.value.x+", "+this.value.y+", "+this.value.z+", "+this.value.w+")"},Ap.$metadata$={kind:$,simpleName:"ModelVar4iConst",interfaces:[jp]},Dp.prototype.setup_llmhyc$=function(t){var e;ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_lhtstx$(this.texture),this.dependsOn_7qvs0d$(this.inTexCoord),null!=(e=this.texLod)&&this.dependsOn_7qvs0d$(e)},Dp.prototype.generateCode_626509$=function(t){var e=this.texLod;null!=e?t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTexture1d_buzeal$(this.texture.name,this.inTexCoord.ref1f_61zpoe$(),e.ref1f_61zpoe$())+";"):t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTexture1d_buzeal$(this.texture.name,this.inTexCoord.ref1f_61zpoe$())+";"),this.premultiply&&t.appendMain_61zpoe$(this.outColor.ref3f_61zpoe$()+" *= "+this.outColor.ref4f_61zpoe$()+".a;")},Dp.$metadata$={kind:$,simpleName:"Texture1dSamplerNode",interfaces:[ou]},Bp.prototype.setup_llmhyc$=function(t){var e;ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_lhtstx$(this.texture),this.dependsOn_7qvs0d$(this.inTexCoord),null!=(e=this.texLod)&&this.dependsOn_7qvs0d$(e)},Bp.prototype.generateCode_626509$=function(t){var e=this.texLod;null!=e?t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTexture2d_buzeal$(this.texture.name,this.inTexCoord.ref2f_61zpoe$(),e.ref1f_61zpoe$())+";"):t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTexture2d_buzeal$(this.texture.name,this.inTexCoord.ref2f_61zpoe$())+";"),this.premultiply&&t.appendMain_61zpoe$(this.outColor.ref3f_61zpoe$()+" *= "+this.outColor.ref4f_61zpoe$()+".a;")},Bp.$metadata$={kind:$,simpleName:"Texture2dSamplerNode",interfaces:[ou]},Fp.prototype.setup_llmhyc$=function(t){var e;ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_lhtstx$(this.texture),this.dependsOn_7qvs0d$(this.inTexCoord),null!=(e=this.texLod)&&this.dependsOn_7qvs0d$(e)},Fp.prototype.generateCode_626509$=function(t){var e=this.texLod;null!=e?t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTexture3d_buzeal$(this.texture.name,this.inTexCoord.ref3f_61zpoe$(),e.ref1f_61zpoe$())+";"):t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTexture3d_buzeal$(this.texture.name,this.inTexCoord.ref3f_61zpoe$())+";"),this.premultiply&&t.appendMain_61zpoe$(this.outColor.ref3f_61zpoe$()+" *= "+this.outColor.ref4f_61zpoe$()+".a;")},Fp.$metadata$={kind:$,simpleName:"Texture3dSamplerNode",interfaces:[ou]},qp.prototype.setup_llmhyc$=function(t){var e;ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_lhtstx$(this.cubeMap),this.dependsOn_7qvs0d$(this.inTexCoord),null!=(e=this.texLod)&&this.dependsOn_7qvs0d$(e)},qp.prototype.generateCode_626509$=function(t){var e=this.texLod;null!=e?t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTextureCube_buzeal$(this.cubeMap.name,this.inTexCoord.ref3f_61zpoe$(),e.ref1f_61zpoe$())+";"):t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTextureCube_buzeal$(this.cubeMap.name,this.inTexCoord.ref3f_61zpoe$())+";"),this.premultiply&&t.appendMain_61zpoe$(this.outColor.ref3f_61zpoe$()+" *= "+this.outColor.ref4f_61zpoe$()+".a;")},qp.$metadata$={kind:$,simpleName:"TextureCubeSamplerNode",interfaces:[ou]},Up.prototype.setup_llmhyc$=function(t){var e;ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_lhtstx$(this.texture),this.dependsOn_7qvs0d$(this.inTexCoord),null!=(e=this.texLod)&&this.dependsOn_7qvs0d$(e)},Up.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n            vec3 "+this.name+"_in = normalize("+this.inTexCoord.ref3f_61zpoe$()+");\n            vec2 "+this.name+"_uv = vec2(atan("+this.name+"_in.z, "+this.name+"_in.x), -asin("+this.name+"_in.y));\n            "+this.name+"_uv *= vec2(0.1591, 0.3183);\n            "+this.name+"_uv += 0.5;            \n        ");var e=this.texLod;null!=e?t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTexture2d_buzeal$(this.texture.name,this.name+"_uv",e.ref1f_61zpoe$())+";"):t.appendMain_61zpoe$(this.outColor.declare()+" = "+t.sampleTexture2d_buzeal$(this.texture.name,this.name+"_uv")+";"),this.decodeRgbe&&t.appendMain_61zpoe$("\n                vec3 "+this.name+"_fRgb = "+this.outColor+".rgb;\n                float "+this.name+"_fExp = "+this.outColor+".a * 255.0 - 128.0;\n                "+this.outColor+" = vec4("+this.name+"_fRgb * pow(2.0, "+this.name+"_fExp), 1.0);\n            "),this.premultiply&&t.appendMain_61zpoe$(this.outColor.ref3f_61zpoe$()+" *= "+this.outColor.ref4f_61zpoe$()+".a;")},Up.$metadata$={kind:$,simpleName:"EquiRectSamplerNode",interfaces:[ou]},Vp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_lhtstx$(this.texture),this.dependsOn_7qvs0d$(this.inTexSize)},Vp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n            vec2 "+this.name+"_texCoord = (vec2(ivec2(gl_FragCoord.xy) % "+this.inTexSize.ref2i_61zpoe$()+") + 0.5) / "+this.inTexSize.ref2f_61zpoe$()+";\n            "+this.outNoise.declare()+" = "+t.sampleTexture2d_buzeal$(this.texture.name,this.name+"_texCoord")+";\n        ")},Vp.$metadata$={kind:$,simpleName:"NoiseTextureSamplerNode",interfaces:[ou]},Wp.prototype.setup_llmhyc$=function(t){this.dependsOn_lhtstx$(this.aoMap),this.dependsOn_7qvs0d$(this.inViewport),ou.prototype.setup_llmhyc$.call(this,t)},Wp.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                vec2 aoMapSamplePos = gl_FragCoord.xy - "+this.inViewport.ref2f_61zpoe$()+";\n                aoMapSamplePos.x /= "+this.inViewport+".z;\n                aoMapSamplePos.y /= "+this.inViewport+".w;\n                "+this.outAo.declare()+" = "+t.sampleTexture2d_buzeal$(this.aoMap.name,"aoMapSamplePos")+".r;\n            ")},Wp.$metadata$={kind:$,simpleName:"AoMapSampleNode",interfaces:[ou]},Gp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inTexCoord,this.inNormal,this.inTangent,this.inStrength])},Gp.prototype.generateCode_626509$=function(t){ou.prototype.generateCode_626509$.call(this,t),t.appendFunction_puj7f4$("calcBumpedNormal","\n            vec3 calcBumpedNormal(vec3 n, vec4 t, vec3 bumpN, float strength) {\n                vec3 normal = normalize(n);\n                vec3 tangent = normalize(t.xyz);\n                tangent = normalize(tangent - dot(tangent, normal) * normal);\n                vec3 bitangent = cross(normal, tangent) * t.w;\n                mat3 tbn = mat3(tangent, bitangent, normal);\n                return normalize(mix(normal, tbn * bumpN, strength));\n            }\n        "),t.appendMain_61zpoe$("\n            vec3 "+this.name+"_bumpN = "+t.sampleTexture2d_buzeal$(this.texture.name,this.inTexCoord.ref2f_61zpoe$())+".xyz * 2.0 - 1.0;\n            "+this.outNormal.declare()+" = calcBumpedNormal("+this.inNormal.ref3f_61zpoe$()+", "+this.inTangent.ref4f_61zpoe$()+", "+this.name+"_bumpN, "+this.inStrength.ref1f_61zpoe$()+");\n        ")},Gp.$metadata$={kind:$,simpleName:"NormalMapNode",interfaces:[ou]},Hp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inTexCoord,this.inNormal,this.inPosition,this.inStrength])},Hp.prototype.generateCode_626509$=function(t){ou.prototype.generateCode_626509$.call(this,t),t.appendMain_61zpoe$("\n            float "+this.name+"_disp = "+t.sampleTexture2d_buzeal$(this.texture.name,this.inTexCoord.ref2f_61zpoe$())+".x * "+this.inStrength.ref1f_61zpoe$()+";\n            "+this.outPosition.declare()+" = "+this.inPosition.ref3f_61zpoe$()+" + "+this.inNormal.ref3f_61zpoe$()+" * "+this.name+"_disp;\n        ")},Hp.$metadata$={kind:$,simpleName:"DisplacementMapNode",interfaces:[ou]},Object.defineProperty(Xp.prototype,"refractionColor",{configurable:!0,get:function(){return null==this.refractionColor_dpnwa6$_0?_t("refractionColor"):this.refractionColor_dpnwa6$_0},set:function(t){this.refractionColor_dpnwa6$_0=t}}),Object.defineProperty(Xp.prototype,"view",{configurable:!0,get:function(){return null==this.view_wxw73j$_0?_t("view"):this.view_wxw73j$_0},set:function(t){this.view_wxw73j$_0=t}}),Object.defineProperty(Xp.prototype,"viewProj",{configurable:!0,get:function(){return null==this.viewProj_5bee0e$_0?_t("viewProj"):this.viewProj_5bee0e$_0},set:function(t){this.viewProj_5bee0e$_0=t}}),Xp.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_lhtstx$(this.refractionColor),this.dependsOn_lhtstx$(this.refractionDepth),this.dependsOn_lhtstx$(this.reflectionMap),this.dependsOn_8ak6wm$([this.view,this.viewProj,this.inRefractionDir,this.inFragPos,this.inMaterialThickness])},Xp.prototype.generateCode_626509$=function(t){var e,n,i=null!=(n=null!=(e=this.reflectionMap)?t.sampleTextureCube_buzeal$(e.name,this.inRefractionDir.ref3f_61zpoe$()):null)?n:"vec4(0.0)",o=this.refractionDepth;null!=o?t.appendMain_61zpoe$("\n                float "+this.name+"_fragDepth = ("+this.view+" * vec4("+this.inFragPos.ref3f_61zpoe$()+", 1.0)).z;\n                vec4 "+this.name+"_depthClip = "+this.viewProj+" * vec4("+this.inFragPos.ref3f_61zpoe$()+", 1.0);\n                vec2 "+this.name+"_depthSample = ("+this.name+"_depthClip.xy / "+this.name+"_depthClip.w) * 0.5 + 0.5;\n                float "+this.name+"_sceneDepth = "+t.sampleTexture2d_buzeal$(o.name,this.name+"_depthSample")+".z;\n                "+this.outMaterialThickness.declare()+" = min("+this.inMaterialThickness.ref1f_61zpoe$()+", "+this.name+"_fragDepth - "+this.name+"_sceneDepth);\n            "):t.appendMain_61zpoe$(this.outMaterialThickness.declare()+" = "+this.inMaterialThickness.ref1f_61zpoe$()+";"),t.appendMain_61zpoe$("\n            vec3 "+this.name+"_refrPos = "+this.inFragPos.ref3f_61zpoe$()+" + "+this.inRefractionDir.ref3f_61zpoe$()+" * "+this.outMaterialThickness+";\n            vec4 "+this.name+"_clip = "+this.viewProj+" * vec4("+this.name+"_refrPos, 1.0);\n            vec2 "+this.name+"_refrSample = ("+this.name+"_clip.xy / "+this.name+"_clip.w) * 0.5 + 0.5;\n            \n            bool "+this.name+"_useReflMap = "+this.name+"_refrSample.x < 0.0 || "+this.name+"_refrSample.x > 1.0\n                                    || "+this.name+"_refrSample.y < 0.0 || "+this.name+"_refrSample.y > 1.0;\n            \n            "+this.outColor.declare()+" = vec4(0.0);\n            if (!"+this.name+"_useReflMap) {\n                "+this.outColor+" = "+t.sampleTexture2d_buzeal$(this.refractionColor.name,this.name+"_refrSample")+";\n            }\n            if ("+this.outColor+".a == 0.0) {\n                "+this.outColor+" = "+i+";\n            }\n        ")},Xp.$metadata$={kind:$,simpleName:"RefractionSamplerNode",interfaces:[ou]},Kp.$metadata$={kind:$,simpleName:"ShaderGenerator",interfaces:[]},Yp.$metadata$={kind:$,simpleName:"ShaderInterfaceIoVar",interfaces:[]},Object.defineProperty(Zp.prototype,"outputs",{configurable:!0,get:function(){return this.mutOutputs_rh28ou$_0}}),Object.defineProperty(Zp.prototype,"nodes",{configurable:!0,get:function(){return this.mutNodes}}),Object.defineProperty(Zp.prototype,"nextNodeId",{configurable:!0,get:function(){return this.nextNodeId_bjjntk$_0},set:function(t){this.nextNodeId_bjjntk$_0=t}}),Zp.prototype.findNode_45s15y$=K("kool-kool-core.de.fabmax.kool.pipeline.shadermodel.ShaderGraph.findNode_45s15y$",Y((function(){var t=e.equals,n=e.throwCCE;return function(e,i,o){var r,s,a=this.nodes;t:do{var l;for(l=a.iterator();l.hasNext();){var p=l.next();if(t(p.name,o)&&i(p)){s=p;break t}}s=null}while(0);return null==(r=s)||i(r)?r:n()}}))),Zp.prototype.addStageOutput_ca2n0y$=function(t,e,n){var i;void 0===n&&(n=1);var o=0;for(i=this.mutOutputs_rh28ou$_0.iterator();i.hasNext();)o=o+i.next().locationInc|0;var r=new Yp(o,t,e,n);return this.mutOutputs_rh28ou$_0.add_11rb$(r),r},Zp.prototype.addNode_j0v1fw$=function(t){if(t.graph!==this)throw xt("Node can only be added to it's parent graph");this.mutNodes.add_11rb$(t)},Zp.prototype.clear=function(){this.descriptorSet.clear(),this.pushConstants.clear(),this.inputs.clear(),this.mutOutputs_rh28ou$_0.clear()},Zp.prototype.setup=function(){var t;for(t=this.nodes.iterator();t.hasNext();)t.next().setup_llmhyc$(this)},Zp.prototype.generateCode_626509$=function(t){var e;for(this.sortNodesByDependencies_dlleyv$_0(),e=this.nodes.iterator();e.hasNext();)e.next().generateCode_626509$(t)},Zp.prototype.sortNodesByDependencies_dlleyv$_0=function(){for(var t=ht();!this.nodes.isEmpty();){for(var e=this.mutNodes.iterator(),n=!1;e.hasNext();){var i=e.next();t.containsAll_brywnq$(i.dependencies)&&(t.add_11rb$(i),e.remove(),n=!0)}if(!n){var o;for(Mt(this.model.modelInfo+" - Remaining nodes:"),o=this.nodes.iterator();o.hasNext();){var r,s=o.next();for(Mt(s.name),r=s.dependencies.iterator();r.hasNext();){var a=r.next(),l=t.contains_11rb$(a)?"[ok]":"[missing]";Mt("    -> "+a.name+" "+l)}}throw xt("Unable to resolve shader graph (circular or missing dependency?)")}}this.mutNodes.addAll_brywnq$(t)},Zp.$metadata$={kind:$,simpleName:"ShaderGraph",interfaces:[]},Jp.$metadata$={kind:$,simpleName:"VertexShaderGraph",interfaces:[Zp]},Qp.$metadata$={kind:$,simpleName:"FragmentShaderGraph",interfaces:[Zp]},Object.defineProperty(tu.prototype,"vertexStageGraph",{configurable:!0,get:function(){var t;return e.isType(t=this.stages.get_11rb$(lc()),Jp)?t:_()}}),Object.defineProperty(tu.prototype,"fragmentStageGraph",{configurable:!0,get:function(){var t;return e.isType(t=this.stages.get_11rb$(_c()),Qp)?t:_()}}),tu.prototype.findNode_3klnlw$=K("kool-kool-core.de.fabmax.kool.pipeline.shadermodel.ShaderModel.findNode_3klnlw$",Y((function(){var n=t.de.fabmax.kool.pipeline.ShaderStage,i=e.kotlin.Unit,o=e.wrapFunction,r=e.equals,s=e.throwCCE;return o((function(){var t=e.equals,n=e.throwCCE;return function(e,o,r,s){return function(r){if(0!=(r.stage.mask&e.mask)){var a,l,p=s,u=o,c=r.nodes;t:do{var _;for(_=c.iterator();_.hasNext();){var h=_.next();if(t(h.name,u)&&p(h)){l=h;break t}}l=null}while(0);var d=null==(a=l)||p(a)?a:n();if(null!=d)return d}return i}}})),function(t,e,i,o){var a;for(void 0===o&&(o=n.ALL),a=this.stages.values.iterator();a.hasNext();){var l=a.next();if(0!=(l.stage.mask&o.mask)){var p,u,c=l.nodes;t:do{var _;for(_=c.iterator();_.hasNext();){var h=_.next();if(r(h.name,i)&&e(h)){u=h;break t}}u=null}while(0);var d=null==(p=u)||e(p)?p:s();if(null!=d)return d}}return null}}))),tu.prototype.findNodeByType_vinsr2$=K("kool-kool-core.de.fabmax.kool.pipeline.shadermodel.ShaderModel.findNodeByType_vinsr2$",Y((function(){var n=t.de.fabmax.kool.pipeline.ShaderStage,i=e.kotlin.collections.firstOrNull_2p1efm$,o=e.kotlin.Unit,r=e.wrapFunction,s=e.kotlin.collections.ArrayList_init_287e2$;return r((function(){var t=e.kotlin.collections.ArrayList_init_287e2$;return function(e,n,r){return function(n){if(0!=(n.stage.mask&e.mask)){var s,a=r,l=n.nodes,p=t();for(s=l.iterator();s.hasNext();){var u=s.next();a(u)&&p.add_11rb$(u)}var c=i(p);if(null!=c)return c}return o}}})),function(t,e,o){var r;for(void 0===o&&(o=n.ALL),r=this.stages.values.iterator();r.hasNext();){var a=r.next();if(0!=(a.stage.mask&o.mask)){var l,p=a.nodes,u=s();for(l=p.iterator();l.hasNext();){var c=l.next();e(c)&&u.add_11rb$(c)}var _=i(u);if(null!=_)return _}}return null}}))),tu.prototype.setup_xbeod6$=function(t,e){var n,i;for(e.name=this.modelInfo,n=this.stages.values.iterator();n.hasNext();)n.next().clear();for(i=this.stages.values.iterator();i.hasNext();)i.next().setup();this.setupAttributes_0(t,e);var o,r,s=new El,l=E(),p=new As;for(o=this.stages.values.iterator();o.hasNext();){var u,c=o.next();zt(p.descriptors,c.descriptorSet.descriptors),zt(s.pushConstants,c.pushConstants.pushConstants),zt(s.stages,c.pushConstants.stages),null!=(u=c.pushConstants.onUpdate)&&l.add_11rb$(u)}p.descriptors.isEmpty()||e.descriptorSetLayouts.add_11rb$(p),s.pushConstants.isEmpty()||(e.pushConstantRanges.add_11rb$(s),l.isEmpty()||(s.onUpdate=(r=l,function(t,e){for(var n=0;n!==r.size;++n)r.get_za3lpa$(n)(t,e);return a})))},tu.prototype.setupAttributes_0=function(t,e){var n,i,o,r={v:0},s=t.geometry,a=E(),l=E(),p=0;for(n=this.vertexStageGraph.requiredVertexAttributes.iterator();n.hasNext();){var u,c=n.next();if(null==(u=s.attributeByteOffsets.get_11rb$(c)))throw new yt("Mesh does not include required vertex attribute: "+c.name);var _=u;if(c.type.isInt){var h=new Dh(r.v,_,c);l.add_11rb$(h)}else{var d=new Dh(r.v,_,c);a.add_11rb$(d)}r.v=r.v+c.props.nSlots|0}i=e.vertexLayout.bindings;var f=new Ah((p=(o=p)+1|0,o),Uh(),a,s.byteStrideF);if(i.add_11rb$(f),!l.isEmpty()){var m,y;m=e.vertexLayout.bindings;var $=new Ah((p=(y=p)+1|0,y),Uh(),l,s.byteStrideI);m.add_11rb$($)}var b=t.instances;if(null!=b){var g,v=E();for(g=this.vertexStageGraph.requiredInstanceAttributes.iterator();g.hasNext();){var x,w=g.next();if(null==(x=b.attributeOffsets.get_11rb$(w)))throw new yt("Mesh does not include required instance attribute: "+w.name);var z=x,C=new Dh(r.v,z,w);v.add_11rb$(C),r.v=r.v+w.props.nSlots|0}var S=e.vertexLayout.bindings,k=new Ah(p,Vh(),v,b.strideBytesF);S.add_11rb$(k)}else if(!this.vertexStageGraph.requiredInstanceAttributes.isEmpty())throw xt("Shader model requires instance attributes, but mesh doesn't provide any")},eu.prototype.addNode_u9w9by$=function(t){return this.stage.addNode_j0v1fw$(t),t},eu.prototype.combineNode_m7a9qd$=function(t){return this.addNode_u9w9by$(new Xu(t,this.stage))},eu.prototype.combineXyzWNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new Ku(this.stage));return null!=t&&(n.inXyz=t),null!=e&&(n.inW=e),n},eu.prototype.splitNode_500t7j$=function(t,e){var n=this.addNode_u9w9by$(new Hu(e,this.stage));return n.input=t,n},eu.prototype.addNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new pp(this.stage));return null!=t&&(n.left=t),null!=e&&(n.right=e),n},eu.prototype.subtractNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new up(this.stage));return null!=t&&(n.left=t),null!=e&&(n.right=e),n},eu.prototype.divideNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new cp(this.stage));return null!=t&&(n.left=t),null!=e&&(n.right=e),n},eu.prototype.multiplyNode_tuikh5$=function(t,e){return this.multiplyNode_ze33is$(t,new ru(new Pp(e)))},eu.prototype.multiplyNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new _p(this.stage));return null!=t&&(n.left=t),null!=e&&(n.right=e),n},eu.prototype.mixNode_92v6he$=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);var i=this.addNode_u9w9by$(new hp(this.stage));return null!=t&&(i.left=t),null!=e&&(i.right=e),null!=n&&(i.mixFac=n),i},eu.prototype.vecFromColorNode_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new dp(this.stage));return null!=t&&(e.input=t),e},eu.prototype.viewDirNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new yp(this.stage));return null!=t&&(n.inCamPos=t),null!=e&&(n.inWorldPos=e),n},eu.prototype.distanceNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new fp(this.stage));return null!=t&&(n.inA=t),null!=e&&(n.inB=e),n},eu.prototype.normalizeNode_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new mp(this.stage));return null!=t&&(e.input=t),e},eu.prototype.reflectNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new $p(this.stage));return null!=t&&(n.inDirection=t),null!=e&&(n.inNormal=e),n},eu.prototype.refractNode_92v6he$=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);var i=this.addNode_u9w9by$(new bp(this.stage));return null!=t&&(i.inDirection=t),null!=e&&(i.inNormal=e),null!=n&&(i.inIor=n),i},eu.prototype.normalMapNode_pp0pk4$=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null);var o=this.addNode_u9w9by$(new Gp(t,this.stage));return null!=e&&(o.inTexCoord=e),null!=n&&(o.inNormal=n),null!=i&&(o.inTangent=i),o},eu.prototype.displacementMapNode_kq6xq$=function(t,e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=this.addNode_u9w9by$(new Hp(t,this.stage));return null!=e&&(r.inTexCoord=e),null!=n&&(r.inPosition=n),null!=i&&(r.inNormal=i),null!=o&&(r.inStrength=o),r},eu.prototype.gammaNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new Gl(this.stage));return null!=t&&(n.inColor=t),null!=e&&(n.inGamma=e),n},eu.prototype.hdrToLdrNode_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new Hl(this.stage));return null!=t&&(e.inColor=t),e},eu.prototype.premultiplyColorNode_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new Wl(this.stage));return null!=t&&(e.inColor=t),e},eu.prototype.colorAlphaNode_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new Vl(this.stage));return null!=t&&(n.inColor=t),null!=e&&(n.inAlpha=e),n},eu.prototype.namedVariable_wtmwsg$=function(t,e){void 0===e&&(e=null);var n=this.addNode_u9w9by$(new oc(t,this.stage));return null!=e&&(n.input=e),n},eu.prototype.constFloat_mx4ult$=function(t){return new ru(new Pp(t))},eu.prototype.constVec2f_czzhjp$=function(t){return new ru(new Tp(t))},eu.prototype.constVec3f_czzhiu$=function(t){return new ru(new Op(t))},eu.prototype.constVec4f_czzhhz$=function(t){return new ru(new Ep(t))},eu.prototype.constInt_za3lpa$=function(t){return new ru(new Mp(t))},eu.prototype.constVec2i_czzhjm$=function(t){return new ru(new Rp(t))},eu.prototype.constVec3i_czzhir$=function(t){return new ru(new Ip(t))},eu.prototype.constVec4i_czzhhw$=function(t){return new ru(new Ap(t))},eu.prototype.pushConstantNode1f_61zpoe$=function(t){return this.addNode_u9w9by$(new Iu(new bh(t),this.stage))},eu.prototype.pushConstantNode2f_61zpoe$=function(t){return this.addNode_u9w9by$(new Au(new vh(t),this.stage))},eu.prototype.pushConstantNode3f_61zpoe$=function(t){return this.addNode_u9w9by$(new Du(new xh(t),this.stage))},eu.prototype.pushConstantNode4f_61zpoe$=function(t){return this.addNode_u9w9by$(new Bu(new wh(t),this.stage))},eu.prototype.pushConstantNodeColor_61zpoe$=function(t){return this.addNode_u9w9by$(new Fu(new zh(t),this.stage))},eu.prototype.pushConstantNode1f_978i2u$=function(t){return this.addNode_u9w9by$(new Iu(t,this.stage))},eu.prototype.pushConstantNode2f_978i3p$=function(t){return this.addNode_u9w9by$(new Au(t,this.stage))},eu.prototype.pushConstantNode3f_978i4k$=function(t){return this.addNode_u9w9by$(new Du(t,this.stage))},eu.prototype.pushConstantNode4f_978i5f$=function(t){return this.addNode_u9w9by$(new Bu(t,this.stage))},eu.prototype.pushConstantNodeColor_uqrny$=function(t){return this.addNode_u9w9by$(new Fu(t,this.stage))},eu.prototype.pushConstantNode1i_61zpoe$=function(t){return this.addNode_u9w9by$(new qu(new Th(t),this.stage))},eu.prototype.pushConstantNode2i_61zpoe$=function(t){return this.addNode_u9w9by$(new Uu(new Eh(t),this.stage))},eu.prototype.pushConstantNode3i_61zpoe$=function(t){return this.addNode_u9w9by$(new Vu(new Mh(t),this.stage))},eu.prototype.pushConstantNode4i_61zpoe$=function(t){return this.addNode_u9w9by$(new Wu(new Rh(t),this.stage))},eu.prototype.pushConstantNode1i_978i2x$=function(t){return this.addNode_u9w9by$(new qu(t,this.stage))},eu.prototype.pushConstantNode2i_978i3s$=function(t){return this.addNode_u9w9by$(new Uu(t,this.stage))},eu.prototype.pushConstantNode3i_978i4n$=function(t){return this.addNode_u9w9by$(new Vu(t,this.stage))},eu.prototype.pushConstantNode4i_978i5i$=function(t){return this.addNode_u9w9by$(new Wu(t,this.stage))},eu.prototype.morphWeightsNode_za3lpa$=function(t){return this.addNode_u9w9by$(new Mu(t,this.stage))},eu.prototype.getMorphWeightNode_dcktnw$=function(t,e){return this.getMorphWeightNode_5bdpk2$(t,e.outWeights0,e.outWeights1)},eu.prototype.getMorphWeightNode_5bdpk2$=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=this.addNode_u9w9by$(new ic(t,this.stage));return null!=e&&(i.inWeights0=e),null!=n&&(i.inWeights1=n),i},eu.prototype.texture1dNode_61zpoe$=function(t){return this.addNode_u9w9by$(new ku(this.stage,t))},eu.prototype.texture2dNode_61zpoe$=function(t){return this.addNode_u9w9by$(new ju(this.stage,t))},eu.prototype.texture3dNode_61zpoe$=function(t){return this.addNode_u9w9by$(new Pu(this.stage,t))},eu.prototype.textureCubeNode_61zpoe$=function(t){return this.addNode_u9w9by$(new Ou(this.stage,t))},eu.prototype.texture1dSamplerNode_nbj0ac$=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var i=this.addNode_u9w9by$(new Dp(t,this.stage,n));return null!=e&&(i.inTexCoord=e),i},eu.prototype.texture2dSamplerNode_fzevit$=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var i=this.addNode_u9w9by$(new Bp(t,this.stage,n));return null!=e&&(i.inTexCoord=e),i},eu.prototype.texture3dSamplerNode_8naqra$=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var i=this.addNode_u9w9by$(new Fp(t,this.stage,n));return null!=e&&(i.inTexCoord=e),i},eu.prototype.textureCubeSamplerNode_ub8j0u$=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var i=this.addNode_u9w9by$(new qp(t,this.stage,n));return null!=e&&(i.inTexCoord=e),i},eu.prototype.noiseTextureSamplerNode_bg7ra4$=function(t,e){void 0===e&&(e=null);var n=this.addNode_u9w9by$(new Vp(t,this.stage));return null!=e&&(n.inTexSize=e),n},eu.prototype.equiRectSamplerNode_ju0u0s$=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=!1),void 0===i&&(i=!1);var o=this.addNode_u9w9by$(new Up(t,this.stage,n,i));return null!=e&&(o.inTexCoord=e),o},eu.prototype.vec3TransformNode_vid4wo$=function(t,e,n,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=1),void 0===i&&(i=!1);var o=this.addNode_u9w9by$(new yu(this.stage,n,i));return null!=t&&(o.inVec=t),null!=e&&(o.inMat=e),o},eu.prototype.vec4TransformNode_9krp9t$=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=1);var i=this.addNode_u9w9by$(new $u(this.stage,n));return null!=t&&(i.inVec=t),null!=e&&(i.inMat=e),i},eu.$metadata$={kind:$,simpleName:"StageBuilder",interfaces:[]},Object.defineProperty(nu.prototype,"positionOutput",{configurable:!0,get:function(){return this.$outer.vertexStageGraph.positionOutput},set:function(t){this.$outer.vertexStageGraph.positionOutput=t}}),nu.prototype.attrColors=function(){return this.attributeNode_nm2vx5$(hs().COLORS)},nu.prototype.attrNormals=function(){return this.attributeNode_nm2vx5$(hs().NORMALS)},nu.prototype.attrPositions=function(){return this.attributeNode_nm2vx5$(hs().POSITIONS)},nu.prototype.attrTangents=function(){return this.attributeNode_nm2vx5$(hs().TANGENTS)},nu.prototype.attrTexCoords=function(){return this.attributeNode_nm2vx5$(hs().TEXTURE_COORDS)},nu.prototype.attrJoints=function(){return this.attributeNode_nm2vx5$(hs().JOINTS)},nu.prototype.attrWeights=function(){return this.attributeNode_nm2vx5$(hs().WEIGHTS)},nu.prototype.attributeNode_nm2vx5$=function(t){return this.addNode_u9w9by$(new Yu(t,this.stage))},nu.prototype.instanceAttrModelMat=function(){return this.instanceAttributeNode_nm2vx5$(XC().MODEL_MAT)},nu.prototype.instanceAttributeNode_nm2vx5$=function(t){return this.addNode_u9w9by$(new Zu(t,this.stage))},nu.prototype.pointSize_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new rc(this.stage));return null!=t&&(e.inSize=t),e},nu.prototype.stageInterfaceNode_iikjwn$=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var i=new Ju(t,this.$outer.vertexStageGraph,this.$outer.fragmentStageGraph);return i.isFlat=n,null!=e&&(i.input=e),this.addNode_u9w9by$(i.vertexNode),this.$outer.fragmentStageGraph.addNode_j0v1fw$(i.fragmentNode),i},nu.prototype.mvpNode=function(){return this.addNode_u9w9by$(new zu(this.stage))},nu.prototype.skinTransformNode_78eraa$=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=64);var i=this.addNode_u9w9by$(new bu(this.stage,n));return null!=t&&(i.inJoints=t),null!=e&&(i.inWeights=e),i},nu.prototype.premultipliedMvpNode=function(){return this.addNode_u9w9by$(new vu(this.stage))},nu.prototype.simpleShadowMapNode_7yd351$=function(t,e,n){void 0===n&&(n=null);var i=new au(t,this.$outer.vertexStageGraph,this.$outer.fragmentStageGraph);this.addNode_u9w9by$(i.vertexNode),this.$outer.fragmentStageGraph.addNode_j0v1fw$(i.fragmentNode);var o=new ju(this.$outer.fragmentStageGraph,e);o.isDepthTexture=!0;var r=o;return this.$outer.fragmentStageGraph.addNode_j0v1fw$(r),null!=n&&(i.inWorldPos=n),i.depthMap=r,i},nu.prototype.cascadedShadowMapNode_zw58l$=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=new cu(t,this.$outer.vertexStageGraph,this.$outer.fragmentStageGraph);this.addNode_u9w9by$(o.vertexNode),this.$outer.fragmentStageGraph.addNode_j0v1fw$(o.fragmentNode);var r=new ju(this.$outer.fragmentStageGraph,e);r.isDepthTexture=!0,r.arraySize=t.numCascades;var s=r;return this.$outer.fragmentStageGraph.addNode_j0v1fw$(s),null!=i&&(o.inWorldPos=i),null!=n&&(o.inViewPosition=n),o.depthMap=s,o},nu.prototype.simpleVertexPositionNode=function(){return this.vec4TransformNode_9krp9t$(this.attrPositions().output,this.premultipliedMvpNode().outMvpMat)},nu.prototype.fullScreenQuadPositionNode_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new nc(this.stage));return null!=t&&(e.inTexCoord=t),e},nu.$metadata$={kind:$,simpleName:"VertexStageBuilder",interfaces:[eu]},iu.prototype.flipBacksideNormalNode_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new Gu(this.stage));return null!=t&&(e.inNormal=t),e},iu.prototype.multiLightNode_d76fwk$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=4);var n=this.addNode_u9w9by$(new Zl(this.stage,e));return null!=t&&(n.inFragPos=t),n},iu.prototype.singleLightNode_ycjtt8$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new ep(this.stage));if(null!=t){var n=this.addNode_u9w9by$(new Ql(this.stage));n.light=t,e.inLightPos=n.outLightPos,e.inLightDir=n.outLightDir,e.inLightColor=n.outLightColor}return e},iu.prototype.screenCoordNode_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new ec(this.stage));return null!=t&&(e.inViewport=t),e},iu.prototype.deferredSimpleShadowMapNode_dhoqzq$=function(t,e,n){var i=this.addNode_u9w9by$(new ju(this.stage,e));i.isDepthTexture=!0;var o=i,r=this.addNode_u9w9by$(new lu(t,this.stage));r.inWorldPos=n;var s=r,a=this.addNode_u9w9by$(new uu(t,this.stage));return a.inPosLightSpace=s.outPosLightSpace,a.depthMap=o,a},iu.prototype.deferredCascadedShadowMapNode_y1yrn$=function(t,e,n,i){var o=this.addNode_u9w9by$(new ju(this.stage,e));o.isDepthTexture=!0,o.arraySize=t.numCascades;var r=o,s=this.addNode_u9w9by$(new hu(t,this.stage));s.inWorldPos=i;var a=s,l=this.addNode_u9w9by$(new fu(t,this.stage));return l.inViewZ=this.splitNode_500t7j$(n,"z").output,l.inPosLightSpace=a.outPosLightSpace,l.depthMap=r,l},iu.prototype.unlitMaterialNode_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new op(this.stage));return null!=t&&(e.inColor=t),e},iu.prototype.phongMaterialNode_4h00d0$=function(t,e,n,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null);var o=this.addNode_u9w9by$(new rp(this.stage));return null!=t&&(o.inAlbedo=t),null!=e&&(o.inNormal=e),null!=i&&(o.inCamPos=i),null!=n&&(o.inFragPos=n),o},iu.prototype.pbrMaterialNode_aple27$=function(t,e,n,i,o,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null);var s=this.addNode_u9w9by$(new sp(t,e,this.stage));return null!=n&&(s.inAlbedo=n),null!=i&&(s.inNormal=i),null!=r&&(s.inViewDir=r),null!=o&&(s.inFragPos=o),s},iu.prototype.pbrLightNode=function(){return this.addNode_u9w9by$(new ap(this.stage))},iu.prototype.colorOutput_a3v4si$=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=1),void 0===n&&(n=null);var i=this.addNode_u9w9by$(new Xl(this.stage,e));return null!=t&&(i.inColors[0]=t),i.alpha=n,i},iu.prototype.discardAlpha_ze33is$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.addNode_u9w9by$(new Yl(this.stage));return null!=t&&(n.inAlpha=t),null!=e&&(n.inAlphaCutoff=e),n},iu.prototype.depthOutput_r20yfm$=function(t){void 0===t&&(t=null);var e=this.addNode_u9w9by$(new Kl(this.stage));return null!=t&&(e.inDepth=t),e},iu.$metadata$={kind:$,simpleName:"FragmentStageBuilder",interfaces:[eu]},tu.$metadata$={kind:$,simpleName:"ShaderModel",interfaces:[]},ou.prototype.dependsOn_lhtstx$=function(t){null!=t&&t!==this&&this.dependencies.add_11rb$(t)},ou.prototype.dependsOn_7qvs0d$=function(t){this.dependsOn_lhtstx$(t.node)},ou.prototype.dependsOn_8ak6wm$=function(t){var e;for(e=0;e!==t.length;++e){var n=t[e];this.dependsOn_7qvs0d$(n)}},ou.prototype.setup_llmhyc$=function(t){if(0==(t.stage.mask&this.allowedStages)){var e="Unallowed shader stage ("+t.stage+" for node "+this.name;throw xt(e.toString())}},ou.prototype.generateCode_626509$=function(t){},ou.$metadata$={kind:$,simpleName:"ShaderNode",interfaces:[]},Object.defineProperty(ru.prototype,"name",{configurable:!0,get:function(){return this.variable.name}}),ru.prototype.declare=function(){return this.variable.declare()},ru.prototype.ref1f_61zpoe$=function(t){return void 0===t&&(t="0"),this.variable.ref1f_61zpoe$(t)},ru.prototype.ref2f_61zpoe$=function(t){return void 0===t&&(t="0"),this.variable.ref2f_61zpoe$(t)},ru.prototype.ref3f_61zpoe$=function(t){return void 0===t&&(t="0"),this.variable.ref3f_61zpoe$(t)},ru.prototype.ref4f_61zpoe$=function(t){return void 0===t&&(t="0"),this.variable.ref4f_61zpoe$(t)},ru.prototype.ref1i_61zpoe$=function(t){return void 0===t&&(t="0"),this.variable.ref1i_61zpoe$(t)},ru.prototype.ref2i_61zpoe$=function(t){return void 0===t&&(t="0"),this.variable.ref2i_61zpoe$(t)},ru.prototype.ref3i_61zpoe$=function(t){return void 0===t&&(t="0"),this.variable.ref3i_61zpoe$(t)},ru.prototype.ref4i_61zpoe$=function(t){return void 0===t&&(t="0"),this.variable.ref4i_61zpoe$(t)},ru.prototype.refAsType_fz5f65$=function(t,e){return void 0===e&&(e="0"),this.variable.refAsType_fz5f65$(t,e)},ru.prototype.toString=function(){var t;switch(this.variable.type.name){case"FLOAT":t=this.ref1f_61zpoe$();break;case"VEC_2F":t=this.ref2f_61zpoe$();break;case"VEC_3F":t=this.ref3f_61zpoe$();break;case"VEC_4F":t=this.ref4f_61zpoe$();break;default:t=this.refAsType_fz5f65$(this.variable.type)}return t},ru.$metadata$={kind:$,simpleName:"ShaderNodeIoVar",interfaces:[]},Object.defineProperty(su.prototype,"depthMap",{configurable:!0,get:function(){return this.depthMap_25rtms$_0},set:function(t){this.depthMap_25rtms$_0=t}}),su.$metadata$={kind:$,simpleName:"ShadowMapNode",interfaces:[]},Object.defineProperty(au.prototype,"inWorldPos",{configurable:!0,get:function(){return this.vertexNode.inWorldPos},set:function(t){this.vertexNode.inWorldPos=t}}),Object.defineProperty(au.prototype,"inDepthOffset",{configurable:!0,get:function(){return this.fragmentNode.inDepthOffset},set:function(t){this.fragmentNode.inDepthOffset=t}}),Object.defineProperty(au.prototype,"depthMap",{configurable:!0,get:function(){return this.fragmentNode.depthMap},set:function(t){this.fragmentNode.depthMap=t}}),Object.defineProperty(au.prototype,"outShadowFac",{configurable:!0,get:function(){return this.fragmentNode.outShadowFac}}),au.$metadata$={kind:$,simpleName:"SimpleShadowMapNode",interfaces:[su]},lu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inWorldPos),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],pu(this))},lu.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outPosLightSpace.declare()+" = "+this.uShadowMapVP.name+" * vec4("+this.inWorldPos.ref3f_61zpoe$()+", 1.0);")},lu.$metadata$={kind:$,simpleName:"SimpleShadowMapTransformNode",interfaces:[ou]},uu.prototype.setup_llmhyc$=function(t){var e;if(ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inDepthOffset,this.inPosLightSpace]),null==(e=this.depthMap))throw _i("Depth map input not set");this.dependsOn_lhtstx$(e)},uu.prototype.generateCode_626509$=function(t){var e;if(null==(e=this.depthMap))throw _i("Depth map input not set");var n=e,i=Ot(),o={v:0};if(this.useDithering){var r;for(i.append_pdl1vj$("vec2 "+this.name+"_offset = vec2(float(fract(gl_FragCoord.x * 0.5) > 0.25), float(fract(gl_FragCoord.y * 0.5) > 0.25));"),r=Rt([new ro(-1.5,.5),new ro(.5,.5),new ro(-1.5,-1.5),new ro(.5,-1.5)]).iterator();r.hasNext();){var s=r.next(),a="vec4("+this.name+"_pos.xy + ("+this.name+"_offset + vec2("+s.x+", "+s.y+")) * "+this.name+"_scale * "+this.name+"_pos.w, "+this.name+"_pos.z, "+this.name+"_pos.w)";i.append_pdl1vj$(this.outShadowFac.name+" += "+t.sampleTexture2dDepth_puj7f4$(n.name,a)+";\n"),o.v=o.v+1|0}}else{for(var l,p=E(),u=0;u<=3;u++)for(var c=0;c<=3;c++){var _=new ro(-1.5+c,-1.5+u);p.add_11rb$(_)}for(l=p.iterator();l.hasNext();){var h=l.next(),d="vec4("+this.name+"_pos.xy + (vec2("+h.x+", "+h.y+")) * "+this.name+"_scale * "+this.name+"_pos.w, "+this.name+"_pos.z, "+this.name+"_pos.w)";i.append_pdl1vj$(this.outShadowFac.name+" += "+t.sampleTexture2dDepth_puj7f4$(n.name,d)+";\n"),o.v=o.v+1|0}}t.appendMain_61zpoe$("\n            vec4 "+this.name+"_pos = "+this.inPosLightSpace.ref4f_61zpoe$()+";\n            \n            // check shadow map bounds\n            "+this.outShadowFac.declare()+" = 1.0;\n            vec3 "+this.name+"_posW = "+this.name+"_pos.xyz / "+this.name+"_pos.w;\n            if ("+this.name+"_posW.x > 0.0 && "+this.name+"_posW.x < 1.0\n                && "+this.name+"_posW.y > 0.0 && "+this.name+"_posW.y < 1.0\n                && "+this.name+"_posW.z > -1.0 && "+this.name+"_posW.z < 1.0) {\n            \n                float "+this.name+"_size = float(textureSize("+n.name+", 0).x);\n                float "+this.name+"_scale = 1.0 / float("+this.name+"_size);\n                "+this.name+"_pos.z += "+this.inDepthOffset.ref1f_61zpoe$()+";\n                "+this.outShadowFac.name+" = 0.0;\n                "+i+"\n                "+this.outShadowFac.name+" *= "+1/o.v+";\n            }\n        ")},uu.$metadata$={kind:$,simpleName:"SimpleShadowMapFragmentNode",interfaces:[ou]},Object.defineProperty(cu.prototype,"inWorldPos",{configurable:!0,get:function(){return this.vertexNode.inWorldPos},set:function(t){this.vertexNode.inWorldPos=t}}),Object.defineProperty(cu.prototype,"inDepthOffset",{configurable:!0,get:function(){return this.fragmentNode.inDepthOffset},set:function(t){this.fragmentNode.inDepthOffset=t}}),Object.defineProperty(cu.prototype,"depthMap",{configurable:!0,get:function(){return this.fragmentNode.depthMap},set:function(t){this.fragmentNode.depthMap=t}}),Object.defineProperty(cu.prototype,"outShadowFac",{configurable:!0,get:function(){return this.fragmentNode.outShadowFac}}),_u.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.$outer.inViewPosition,this.$outer.vertexNode.outPosLightSpace]);var e=this.$outer.fragmentGraph.inputs,n=this.$outer.vertexGraph.addStageOutput_ca2n0y$(this.$outer.posLightSpace_0.variable,!1,this.$outer.shadowMap.numCascades);e.add_11rb$(n);var i=this.$outer.fragmentGraph.inputs,o=this.$outer.vertexGraph.addStageOutput_ca2n0y$(this.$outer.ifViewZ_0.variable,!1);i.add_11rb$(o)},_u.prototype.generateCode_626509$=function(t){var e;t.appendMain_61zpoe$(this.$outer.ifViewZ_0.name+" = "+this.$outer.inViewPosition+".z;"),e=this.$outer.shadowMap.numCascades;for(var n=0;n<e;n++)t.appendMain_61zpoe$(It(this.$outer.posLightSpace_0.name,91)+"["+n+"] = "+It(this.$outer.vertexNode.outPosLightSpace.name,91)+"["+n+"];")},_u.$metadata$={kind:$,simpleName:"CascadedShadowHelperNd",interfaces:[ou]},cu.$metadata$={kind:$,simpleName:"CascadedShadowMapNode",interfaces:[su]},hu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inWorldPos),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],du(this))},hu.prototype.generateCode_626509$=function(t){var e;t.appendMain_61zpoe$(this.outPosLightSpace.declare()+";"),e=this.shadowMap.numCascades;for(var n=0;n<e;n++)t.appendMain_61zpoe$(It(this.outPosLightSpace.name,91)+"["+n+"] = "+this.uShadowMapVP.name+"["+n+"] * vec4("+this.inWorldPos.ref3f_61zpoe$()+", 1.0);")},hu.$metadata$={kind:$,simpleName:"CascadedShadowMapTransformNode",interfaces:[ou]},fu.prototype.setup_llmhyc$=function(t){var e;if(ou.prototype.setup_llmhyc$.call(this,t),null==(e=this.depthMap))throw _i("Depth map input not set");this.dependsOn_lhtstx$(e),this.dependsOn_8ak6wm$([this.inDepthOffset,this.inPosLightSpace,this.inViewZ]),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],mu(this))},fu.prototype.generateCode_626509$=function(t){var e,n;if(null==(e=this.depthMap))throw _i("Depth map input not set");var i=e,o=Ot(),r={v:0};if(this.useDithering){var s;for(o.append_pdl1vj$("vec2 offset = vec2(float(fract(gl_FragCoord.x * 0.5) > 0.25), float(fract(gl_FragCoord.y * 0.5) > 0.25));"),s=Rt([new ro(-1.5,.5),new ro(.5,.5),new ro(-1.5,-1.5),new ro(.5,-1.5)]).iterator();s.hasNext();){var a=s.next(),l="vec4(projPos.xy + (offset + vec2("+a.x+", "+a.y+")) * texScale * projPos.w, projPos.z, projPos.w)";o.append_pdl1vj$("shadowFac += "+t.sampleTexture2dDepth_puj7f4$("shadowTex",l)+";\n"),r.v=r.v+1|0}}else{for(var p,u=E(),c=0;c<=3;c++)for(var _=0;_<=3;_++){var h=new ro(-1.5+_,-1.5+c);u.add_11rb$(h)}for(p=u.iterator();p.hasNext();){var d=p.next(),f="vec4(projPos.xy + (vec2("+d.x+", "+d.y+")) * texScale * projPos.w, projPos.z, projPos.w)";o.append_pdl1vj$("shadowFac += "+t.sampleTexture2dDepth_puj7f4$("shadowTex",f)+";\n"),r.v=r.v+1|0}}t.appendFunction_puj7f4$("cascadedShadowFac","\n            float cascadedShadowFac(sampler2DShadow shadowTex, vec4 projPos, float depthOffset) {\n                float texSize = float(textureSize(shadowTex, 0).x);\n                float texScale = 1.0 / float(texSize);\n                projPos.z += depthOffset;\n                float shadowFac = 0.0;\n                if (projPos.z >= 1.0) {\n                    shadowFac = 1.0;\n                } else {\n                    "+o+"\n                    shadowFac *= "+1/r.v+";\n                }\n                return shadowFac;\n            }\n        "),t.appendMain_61zpoe$("\n                "+this.outShadowFac.declare()+" = 1.0;\n            "),n=this.shadowMap.numCascades;for(var m=0;m<n;m++)t.appendMain_61zpoe$("\n                    if ("+this.inViewZ.ref1f_61zpoe$()+" >= "+this.uViewSpaceRanges_0.name+"["+m+"]) {\n                        "+this.outShadowFac.name+" = cascadedShadowFac("+i.name+"["+m+"], "+It(this.inPosLightSpace.name,91)+"["+m+"], "+this.inDepthOffset.ref1f_61zpoe$()+");\n                    }\n                "),m<(this.shadowMap.numCascades-1|0)&&t.appendMain_61zpoe$(" else ")},fu.$metadata$={kind:$,simpleName:"CascadedShadowMapFragmentNode",interfaces:[ou]},yu.prototype.setup_llmhyc$=function(t){var e,n;if(ou.prototype.setup_llmhyc$.call(this,t),e=this.inVec,null==(n=this.inMat))throw _i("Matrix input not set");this.dependsOn_8ak6wm$([e,n])},yu.prototype.generateCode_626509$=function(t){var e;if(null==(e=this.inMat))throw _i("Matrix input not set");var n=e,i=this.inVec.variable.type===ns()?this.inVec.ref4f_61zpoe$():"vec4("+this.inVec.ref3f_61zpoe$()+", "+this.w+")",o=this.invert?"-":"";t.appendMain_61zpoe$(this.outVec3.declare()+" = "+o+"("+n.refAsType_fz5f65$(ps())+" * "+i+").xyz;")},yu.$metadata$={kind:$,simpleName:"Vec3TransformNode",interfaces:[ou]},$u.prototype.setup_llmhyc$=function(t){var e,n;if(ou.prototype.setup_llmhyc$.call(this,t),e=this.inVec,null==(n=this.inMat))throw _i("Matrix input not set");this.dependsOn_8ak6wm$([e,n])},$u.prototype.generateCode_626509$=function(t){var e,n;if(null==(n=null!=(e=this.inMat)?e.variable:null))throw _i("Matrix input not set");var i=n,o=this.inVec.variable.type===ns()?this.inVec.ref4f_61zpoe$():"vec4("+this.inVec.ref3f_61zpoe$()+", "+this.w+")";t.appendMain_61zpoe$(this.outVec4.declare()+" = "+i.refAsType_fz5f65$(ps())+" * "+o+";")},$u.$metadata$={kind:$,simpleName:"Vec4TransformNode",interfaces:[ou]},bu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inJoints,this.inWeights]),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[],gu(this))},bu.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n            "+this.outJointMat.declare()+" = "+this.uJointTransforms+"["+this.inJoints.ref4i_61zpoe$()+".x] * "+this.inWeights.ref4f_61zpoe$()+".x;\n            "+this.outJointMat.name+" += "+this.uJointTransforms+"["+this.inJoints.ref4i_61zpoe$()+".y] * "+this.inWeights.ref4f_61zpoe$()+".y;\n            "+this.outJointMat.name+" += "+this.uJointTransforms+"["+this.inJoints.ref4i_61zpoe$()+".z] * "+this.inWeights.ref4f_61zpoe$()+".z;\n            "+this.outJointMat.name+" += "+this.uJointTransforms+"["+this.inJoints.ref4i_61zpoe$()+".w] * "+this.inWeights.ref4f_61zpoe$()+".w;\n        ")},bu.$metadata$={kind:$,simpleName:"SkinTransformNode",interfaces:[ou]},vu.prototype.addToStage_llmhyc$=function(t){var e=new wu(this,t);return this.visibleIn_0.add_11rb$(t.stage),t.addNode_j0v1fw$(e),e},vu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[],xu(this))},wu.$metadata$={kind:$,simpleName:"StageCopy",interfaces:[ou]},vu.$metadata$={kind:$,simpleName:"UniformBufferPremultipliedMvp",interfaces:[ou]},zu.prototype.addToStage_llmhyc$=function(t){var e=new Su(this,t);return this.visibleIn_0.add_11rb$(t.stage),t.addNode_j0v1fw$(e),e},zu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],Cu(this))},zu.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outMvpMat.declare()+" = "+this.outProjMat.name+" * "+this.outViewMat.name+" * "+this.outModelMat.name+";")},Su.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outMvpMat.declare()+" = "+this.outProjMat.name+" * "+this.outViewMat.name+" * "+this.outModelMat.name+";")},Su.$metadata$={kind:$,simpleName:"StageCopy",interfaces:[ou]},zu.$metadata$={kind:$,simpleName:"UniformBufferMvp",interfaces:[ou]},Object.defineProperty(ku.prototype,"sampler",{configurable:!0,get:function(){return null==this.sampler_2qaow3$_0?_t("sampler"):this.sampler_2qaow3$_0},set:function(t){this.sampler_2qaow3$_0=t}}),ku.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),t.descriptorSet.texture1d_la8pbu$(this.name,[t.stage],Lu(this))},ku.$metadata$={kind:$,simpleName:"Texture1dNode",interfaces:[ou]},Object.defineProperty(ju.prototype,"sampler",{configurable:!0,get:function(){return null==this.sampler_m79dj2$_0?_t("sampler"):this.sampler_m79dj2$_0},set:function(t){this.sampler_m79dj2$_0=t}}),ju.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),t.descriptorSet.texture2d_me4w2j$(this.name,[t.stage],Nu(this))},ju.$metadata$={kind:$,simpleName:"Texture2dNode",interfaces:[ou]},Object.defineProperty(Pu.prototype,"sampler",{configurable:!0,get:function(){return null==this.sampler_nwam0x$_0?_t("sampler"):this.sampler_nwam0x$_0},set:function(t){this.sampler_nwam0x$_0=t}}),Pu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),t.descriptorSet.texture3d_ni12t8$(this.name,[t.stage],Tu(this))},Pu.$metadata$={kind:$,simpleName:"Texture3dNode",interfaces:[ou]},Object.defineProperty(Ou.prototype,"sampler",{configurable:!0,get:function(){return null==this.sampler_uy3n45$_0?_t("sampler"):this.sampler_uy3n45$_0},set:function(t){this.sampler_uy3n45$_0=t}}),Ou.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),t.descriptorSet.textureCube_9fohmg$(this.name,[t.stage],Eu(this))},Ou.$metadata$={kind:$,simpleName:"TextureCubeNode",interfaces:[ou]},Mu.prototype.setup_llmhyc$=function(t){if(ou.prototype.setup_llmhyc$.call(this,t),this.nWeights>0){var e=t.pushConstants,n=e.stages,i=t.stage;n.add_11rb$(i),e.unaryPlus_wq3w46$((o=this,function(){return o.uWeights0_0})),this.nWeights>4&&e.unaryPlus_wq3w46$(function(t){return function(){return t.uWeights1_0}}(this)),e.onUpdate=function(t){return function(e,n){var i;if(null!=(i=n.mesh.morphWeights)){var o,r,s=t;o=R.min(4,i.length);for(var l=0;l<o;l++)s.uWeights0_0.value.set_24o109$(l,i[l]);var p=i.length-4|0;r=R.min(4,p);for(var u=0;u<r;u++)s.uWeights1_0.value.set_24o109$(u,i[u+4|0])}return a}}(this)}var o},Mu.$metadata$={kind:$,simpleName:"MorphWeightsNode",interfaces:[ou]},Ru.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t);var e,n=t.pushConstants;zt(n.stages,this.visibleIn),n.unaryPlus_wq3w46$((e=this,function(){return e.uniform})),n.onUpdate=this.onUpdate},Ru.$metadata$={kind:$,simpleName:"PushConstantNode",interfaces:[ou]},Object.defineProperty(Iu.prototype,"uniform",{get:function(){return this.uniform_24s88i$_0}}),Object.defineProperty(Iu.prototype,"output",{configurable:!0,get:function(){return this.output_6ls89f$_0}}),Iu.$metadata$={kind:$,simpleName:"PushConstantNode1f",interfaces:[Ru]},Object.defineProperty(Au.prototype,"uniform",{get:function(){return this.uniform_rl2ob1$_0}}),Object.defineProperty(Au.prototype,"output",{configurable:!0,get:function(){return this.output_9us71w$_0}}),Au.$metadata$={kind:$,simpleName:"PushConstantNode2f",interfaces:[Ru]},Object.defineProperty(Du.prototype,"uniform",{get:function(){return this.uniform_dq6h4k$_0}}),Object.defineProperty(Du.prototype,"output",{configurable:!0,get:function(){return this.output_d3s5ud$_0}}),Du.$metadata$={kind:$,simpleName:"PushConstantNode3f",interfaces:[Ru]},Object.defineProperty(Bu.prototype,"uniform",{get:function(){return this.uniform_fzofez$_0}}),Object.defineProperty(Bu.prototype,"output",{configurable:!0,get:function(){return this.output_gcs4mu$_0}}),Bu.$metadata$={kind:$,simpleName:"PushConstantNode4f",interfaces:[Ru]},Object.defineProperty(Fu.prototype,"uniform",{get:function(){return this.uniform_o737wi$_0}}),Object.defineProperty(Fu.prototype,"output",{configurable:!0,get:function(){return this.output_yy7l5r$_0}}),Fu.$metadata$={kind:$,simpleName:"PushConstantNodeColor",interfaces:[Ru]},Object.defineProperty(qu.prototype,"uniform",{get:function(){return this.uniform_7m7o4x$_0}}),Object.defineProperty(qu.prototype,"output",{configurable:!0,get:function(){return this.output_p908nk$_0}}),qu.$metadata$={kind:$,simpleName:"PushConstantNode1i",interfaces:[Ru]},Object.defineProperty(Uu.prototype,"uniform",{get:function(){return this.uniform_xp1hao$_0}}),Object.defineProperty(Uu.prototype,"output",{configurable:!0,get:function(){return this.output_si07g1$_0}}),Uu.$metadata$={kind:$,simpleName:"PushConstantNode2i",interfaces:[Ru]},Object.defineProperty(Vu.prototype,"uniform",{get:function(){return this.uniform_3z6kr5$_0}}),Object.defineProperty(Vu.prototype,"output",{configurable:!0,get:function(){return this.output_vr068i$_0}}),Vu.$metadata$={kind:$,simpleName:"PushConstantNode3i",interfaces:[Ru]},Object.defineProperty(Wu.prototype,"uniform",{get:function(){return this.uniform_pqobse$_0}}),Object.defineProperty(Wu.prototype,"output",{configurable:!0,get:function(){return this.output_z0050z$_0}}),Wu.$metadata$={kind:$,simpleName:"PushConstantNode4i",interfaces:[Ru]},Gu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inNormal)},Gu.prototype.generateCode_626509$=function(t){ou.prototype.generateCode_626509$.call(this,t),t.appendMain_61zpoe$("\n            "+this.outNormal.declare()+" = "+this.inNormal.ref3f_61zpoe$()+" * (float(gl_FrontFacing) * 2.0 - 1.0);\n        ")},Gu.$metadata$={kind:$,simpleName:"FlipBacksideNormalNode",interfaces:[ou]},Hu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.input)},Hu.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = "+this.input.name+"."+this.outChannels+";")},Hu.$metadata$={kind:$,simpleName:"SplitNode",interfaces:[ou]},Xu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inX,this.inY,this.inZ,this.inW])},Xu.prototype.generateCode_626509$=function(t){switch(this.output.variable.type.name){case"VEC_2F":t.appendMain_61zpoe$(this.output.declare()+" = vec2("+this.inX.ref1f_61zpoe$()+", "+this.inY.ref1f_61zpoe$()+");");break;case"VEC_3F":t.appendMain_61zpoe$(this.output.declare()+" = vec3("+this.inX.ref1f_61zpoe$()+", "+this.inY.ref1f_61zpoe$()+", "+this.inZ.ref1f_61zpoe$()+");");break;case"VEC_4F":t.appendMain_61zpoe$(this.output.declare()+" = vec4("+this.inX.ref1f_61zpoe$()+", "+this.inY.ref1f_61zpoe$()+", "+this.inZ.ref1f_61zpoe$()+", "+this.inW.ref1f_61zpoe$()+");");break;default:throw G("Only allowed out types are VEC_2F, VEC_3F and VEC_4F")}},Xu.$metadata$={kind:$,simpleName:"CombineNode",interfaces:[ou]},Ku.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inXyz,this.inW])},Ku.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = vec4("+this.inXyz.ref3f_61zpoe$()+", "+this.inW.ref1f_61zpoe$()+");")},Ku.$metadata$={kind:$,simpleName:"Combine31Node",interfaces:[ou]},Yu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),e.isType(t,Jp)||_();var n=t.requiredVertexAttributes,i=this.attribute;n.add_11rb$(i)},Yu.$metadata$={kind:$,simpleName:"AttributeNode",interfaces:[ou]},Zu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),e.isType(t,Jp)||_();var n=t.requiredInstanceAttributes,i=this.attribute;n.add_11rb$(i)},Zu.$metadata$={kind:$,simpleName:"InstanceAttributeNode",interfaces:[ou]},Object.defineProperty(Ju.prototype,"input",{configurable:!0,get:function(){return this.input_h7hmfg$_0},set:function(t){this.output=new ru(new gp(this.name,t.variable.type),this.fragmentNode),this.input_h7hmfg$_0=t}}),Object.defineProperty(Ju.prototype,"output",{configurable:!0,get:function(){return this.output_ftovqj$_0},set:function(t){this.output_ftovqj$_0=t}}),Object.defineProperty(Ju.prototype,"ifVar_0",{configurable:!0,get:function(){return null==this.ifVar_hcczpo$_0?_t("ifVar"):this.ifVar_hcczpo$_0},set:function(t){this.ifVar_hcczpo$_0=t}}),Object.defineProperty(Qu.prototype,"input",{configurable:!0,get:function(){return this.ifNode.input},set:function(t){this.ifNode.input=t}}),Qu.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.input),this.$outer.ifVar_0=t.addStageOutput_ca2n0y$(this.$outer.output.variable,this.$outer.isFlat)},Qu.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.$outer.output.name+" = "+this.input.refAsType_fz5f65$(this.$outer.output.variable.type)+";")},Qu.$metadata$={kind:$,simpleName:"InputNode",interfaces:[ou]},Object.defineProperty(tc.prototype,"output",{configurable:!0,get:function(){return this.ifNode.output}}),tc.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t);var e=t.inputs,n=this.$outer.ifVar_0;e.add_11rb$(n)},tc.$metadata$={kind:$,simpleName:"OutputNode",interfaces:[ou]},Ju.$metadata$={kind:$,simpleName:"StageInterfaceNode",interfaces:[]},ec.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inViewport)},ec.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n            "+this.outNormalizedScreenCoord.declare()+" = "+this.outScreenCoord.ref3f_61zpoe$()+";\n            "+this.outNormalizedScreenCoord+".xy - "+this.inViewport.ref2f_61zpoe$()+";\n            "+this.outNormalizedScreenCoord+".xy /= "+this.inViewport.ref4f_61zpoe$()+".zw;\n        ")},ec.$metadata$={kind:$,simpleName:"ScreenCoordNode",interfaces:[ou]},nc.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inTexCoord,this.inDepth])},nc.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outQuadPos.declare()+" = vec4("+this.inTexCoord.ref2f_61zpoe$()+" * 2.0 - 1.0, "+this.inDepth.ref1f_61zpoe$()+", 1.0);")},nc.$metadata$={kind:$,simpleName:"FullScreenQuadTexPosNode",interfaces:[ou]},ic.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inWeights0,this.inWeights1])},ic.prototype.generateCode_626509$=function(t){var e,n=this.iWeight<4?this.inWeights0:this.inWeights1;switch(this.iWeight%4){case 0:e="x";break;case 1:e="y";break;case 2:e="z";break;default:e="w"}var i=e;t.appendMain_61zpoe$(this.outWeight.declare()+" = "+n.ref4f_61zpoe$()+"."+i+";")},ic.$metadata$={kind:$,simpleName:"GetMorphWeightNode",interfaces:[ou]},Object.defineProperty(oc.prototype,"input",{configurable:!0,get:function(){return this.input_llsvnw$_0},set:function(t){this.input_llsvnw$_0=t,this.output=new ru(new gp(this.name,t.variable.type),this)}}),Object.defineProperty(oc.prototype,"output",{configurable:!0,get:function(){return this.output_a35q23$_0},set:function(t){this.output_a35q23$_0=t}}),oc.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.input)},oc.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.output.declare()+" = "+this.input+";")},oc.$metadata$={kind:$,simpleName:"NamedVariableNode",interfaces:[ou]},rc.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inSize)},rc.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("gl_PointSize = "+this.inSize.ref1f_61zpoe$()+";")},rc.$metadata$={kind:$,simpleName:"PointSizeNode",interfaces:[ou]},sc.$metadata$={kind:$,simpleName:"ShaderStage",interfaces:[P]},sc.values=function(){return[lc(),pc(),uc(),cc(),_c(),hc()]},sc.valueOf_61zpoe$=function(t){switch(t){case"VERTEX_SHADER":return lc();case"TESSELEATION_CTRL":return pc();case"TESSELATION_EVAL":return uc();case"GEOMETRY_SHADER":return cc();case"FRAGMENT_SHADER":return _c();case"ALL":return hc();default:T("No enum constant de.fabmax.kool.pipeline.ShaderStage."+t)}},dc.$metadata$={kind:$,simpleName:"Albedo",interfaces:[P]},dc.values=function(){return[mc(),yc(),$c(),bc()]},dc.valueOf_61zpoe$=function(t){switch(t){case"CUBE_MAP_ALBEDO":return mc();case"STATIC_ALBEDO":return yc();case"TEXTURE_ALBEDO":return $c();case"VERTEX_ALBEDO":return bc();default:T("No enum constant de.fabmax.kool.pipeline.shading.Albedo."+t)}},gc.$metadata$={kind:$,simpleName:"AlphaMode",interfaces:[]},vc.prototype.equals=function(t){var n;return this===t||!(null==t||null==(n=e.getKClassFromExpression(this))||!n.equals(e.getKClassFromExpression(t)))},vc.prototype.hashCode=function(){return e.getKClassFromExpression(this).hashCode()},vc.$metadata$={kind:$,simpleName:"AlphaModeBlend",interfaces:[gc]},xc.prototype.equals=function(t){var n;return this===t||!(null==t||null==(n=e.getKClassFromExpression(this))||!n.equals(e.getKClassFromExpression(t)))},xc.prototype.hashCode=function(){return e.getKClassFromExpression(this).hashCode()},xc.$metadata$={kind:$,simpleName:"AlphaModeOpaque",interfaces:[gc]},wc.prototype.equals=function(t){var n;return this===t||!(null==t||null==(n=e.getKClassFromExpression(this))||!n.equals(e.getKClassFromExpression(t)))&&(e.isType(t,wc)||_(),this.cutOff===t.cutOff)},wc.prototype.hashCode=function(){return at(this.cutOff)},wc.$metadata$={kind:$,simpleName:"AlphaModeMask",interfaces:[gc]},zc.prototype.onPipelineSetup_x08qbx$=function(t,e,n){var i,o;this.model.setup_xbeod6$(e,t),t.shaderCodeGenerator=(i=n,o=this,function(t){return i.shaderGenerator.generateShader_lvmec3$(o.model,t,i)}),Al.prototype.onPipelineSetup_x08qbx$.call(this,t,e,n)},Object.defineProperty(Cc.prototype,"color",{configurable:!0,get:function(){return this.color_cjijrc$_0},set:function(t){var e,n;this.color_cjijrc$_0=t,null!=(n=null!=(e=this.uColor_0)?e.value:null)&&n.set_czzhhz$(t)}}),Cc.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l,p=this.model;t:do{var u;for(a=sc.ALL,u=p.stages.values.iterator();u.hasNext();){var c=u.next();if(0!=(c.stage.mask&a.mask)){var h,d,f=c.nodes;e:do{var m;for(m=f.iterator();m.hasNext();){var y=m.next();if(Dt(y.name,"uStaticColor")&&e.isType(y,Fu)){d=y;break e}}d=null}while(0);var $=null==(h=d)||e.isType(h,Fu)?h:_();if(null!=$){l=$;break t}}}l=null}while(0);this.uColor_0=null!=(o=l)?o.uniform:null,null!=(s=null!=(r=this.uColor_0)?r.value:null)&&s.set_czzhhz$(this.color),zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},Cc.$metadata$={kind:$,simpleName:"StaticColor",interfaces:[zc]},Sc.$metadata$={kind:$,simpleName:"VertexColor",interfaces:[zc]},Object.defineProperty(kc.prototype,"texture",{configurable:!0,get:function(){return this.texture_smcrab$_0},set:function(t){var e;this.texture_smcrab$_0=t,null!=(e=this.textureSampler_0)&&(e.texture=t)}}),kc.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l=this.model,p=this.texName_0;t:do{var u;for(s=sc.ALL,u=l.stages.values.iterator();u.hasNext();){var c=u.next();if(0!=(c.stage.mask&s.mask)){var h,d,f=c.nodes;e:do{var m;for(m=f.iterator();m.hasNext();){var y=m.next();if(Dt(y.name,p)&&e.isType(y,ju)){d=y;break e}}d=null}while(0);var $=null==(h=d)||e.isType(h,ju)?h:_();if(null!=$){a=$;break t}}}a=null}while(0);this.textureSampler_0=null!=(o=a)?o.sampler:null,null!=(r=this.textureSampler_0)&&(r.texture=this.texture),zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},kc.$metadata$={kind:$,simpleName:"TextureColor",interfaces:[zc]},Object.defineProperty(Lc.prototype,"texture",{configurable:!0,get:function(){return this.texture_mz7wkp$_0},set:function(t){var e;this.texture_mz7wkp$_0=t,null!=(e=this.cubeMapSampler_0)&&(e.texture=t)}}),Lc.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l=this.model,p=this.texName_0;t:do{var u;for(s=sc.ALL,u=l.stages.values.iterator();u.hasNext();){var c=u.next();if(0!=(c.stage.mask&s.mask)){var h,d,f=c.nodes;e:do{var m;for(m=f.iterator();m.hasNext();){var y=m.next();if(Dt(y.name,p)&&e.isType(y,Ou)){d=y;break e}}d=null}while(0);var $=null==(h=d)||e.isType(h,Ou)?h:_();if(null!=$){a=$;break t}}}a=null}while(0);this.cubeMapSampler_0=null!=(o=a)?o.sampler:null,null!=(r=this.cubeMapSampler_0)&&(r.texture=this.texture),zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},Lc.$metadata$={kind:$,simpleName:"CubeMapColor",interfaces:[zc]},jc.prototype.staticColorModel_0=function(){var t=new tu("ModeledShader.staticColor()"),e=new nu(t);e.positionOutput=e.simpleVertexPositionNode().outVec4;var n=new iu(t),i=n.pushConstantNodeColor_61zpoe$("uStaticColor");return n.colorOutput_a3v4si$(n.unlitMaterialNode_r20yfm$(i.output).outColor),t},jc.prototype.vertexColorModel_0=function(){var t=new tu("ModeledShader.vertexColor()"),e={v:null},n=new nu(t);e.v=n.stageInterfaceNode_iikjwn$("ifColors",n.attrColors().output),n.positionOutput=n.simpleVertexPositionNode().outVec4;var i=new iu(t);return i.colorOutput_a3v4si$(i.unlitMaterialNode_r20yfm$(e.v.output).outColor),t},jc.prototype.textureColorModel_0=function(t){var e=new tu("ModeledShader.textureColor()"),n={v:null},i=new nu(e);n.v=i.stageInterfaceNode_iikjwn$("ifTexCoords",i.attrTexCoords().output),i.positionOutput=i.simpleVertexPositionNode().outVec4;var o=new iu(e),r=o.texture2dSamplerNode_fzevit$(o.texture2dNode_61zpoe$(t),n.v.output);return o.colorOutput_a3v4si$(o.unlitMaterialNode_r20yfm$(r.outColor).outColor),e},jc.prototype.cubeMapColorModel_0=function(t){var e=new tu("ModeledShader.cubeMapColor()"),n={v:null},i=new nu(e),o=i.mvpNode(),r=i.vec4TransformNode_9krp9t$(i.attrPositions().output,o.outModelMat,1);n.v=i.stageInterfaceNode_iikjwn$("ifFragPos",r.outVec4),i.positionOutput=i.vec4TransformNode_9krp9t$(i.attrPositions().output,o.outMvpMat).outVec4;var s=new iu(e),a=s.normalizeNode_r20yfm$(n.v.output),l=s.textureCubeSamplerNode_ub8j0u$(s.textureCubeNode_61zpoe$(t),a.output);return s.colorOutput_a3v4si$(s.unlitMaterialNode_r20yfm$(l.outColor).outColor),e},jc.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Nc=null;function Pc(){return null===Nc&&new jc,Nc}function Tc(){this.albedoSource=bc(),this.isEmissiveMapped=!1,this.isNormalMapped=!1,this.isRoughnessMapped=!1,this.isMetallicMapped=!1,this.isOcclusionMapped=!1,this.isDisplacementMapped=!1,this.isInstanced=!1,this.isSkinned=!1,this.maxJoints=64,this.morphAttributes=E(),this.isMultiplyAlbedoMap=!1,this.isMultiplyEmissiveMap=!1,this.isMultiplyRoughnessMap=!1,this.isMultiplyMetallicMap=!1,this.isImageBasedLighting=!1,this.isScrSpcAmbientOcclusion=!1,this.isRefraction=!1,this.isRefractByDepthMap=!1,this.maxLights=4,this.shadowMaps=E(),this.lightBacksides=!1,this.cullMethod=Nl(),this.alphaMode=new xc,this.isHdrOutput=!1,this.roughnessChannel="r",this.roughnessTexName="tRoughness",this.metallicChannel="r",this.metallicTexName="tMetallic",this.occlusionChannel="r",this.occlusionTexName="tOcclusion",this.albedo=O$().GRAY,this.emissive=O$().BLACK,this.roughness=.5,this.metallic=0,this.refractionIor=1.4,this.materialThickness=1,this.normalStrength=1,this.displacementStrength=.1,this.occlusionStrength=1,this.reflectionStrength=1,this.albedoMap=null,this.emissiveMap=null,this.normalMap=null,this.displacementMap=null,this.roughnessMap=null,this.metallicMap=null,this.occlusionMap=null,this.environmentMaps=null,this.scrSpcAmbientOcclusionMap=null,this.refractionColorMap=null,this.refractionDepthMap=null}function Oc(t){var e=new Tc;return t(e),new Ec(e)}function Ec(t,n){Ic(),void 0===n&&(n=Ic().defaultPbrModel_2ufela$(t)),zc.call(this,n),this.cullMethod_el0ipj$_0=t.cullMethod,this.isBlending_xwg6en$_0=e.isType(t.alphaMode,vc);var i,o=I(t.shadowMaps.size);i=o.length-1|0;for(var r=0;r<=i;r++)o[r]=t.shadowMaps.get_za3lpa$(r);this.shadowMaps_qk3not$_0=o,this.isReceivingShadow_6kyd2k$_0=!t.shadowMaps.isEmpty(),this.uRoughness_40otn3$_0=null,this.uMetallic_fr1m2e$_0=null,this.uAlbedo_zpavw$_0=null,this.uEmissive_midphe$_0=null,this.uReflectionStrength_qtezyv$_0=null,this.metallic_3y0qh7$_0=t.metallic,this.roughness_6ti3qe$_0=t.roughness,this.albedo_iz6fyn$_0=t.albedo,this.emissive_ybel2l$_0=t.emissive,this.reflectionStrength_itx8hq$_0=t.reflectionStrength,this.albedoSampler_5qe4n9$_0=null,this.emissiveSampler_uv6auf$_0=null,this.normalSampler_k1yi1j$_0=null,this.metallicSampler_kftqqn$_0=null,this.roughnessSampler_ihq9zi$_0=null,this.occlusionSampler_dhut4f$_0=null,this.displacementSampler_dq30kn$_0=null,this.uDispStrength_iumwvi$_0=null,this.metallicTexName_qvs5z$_0=t.metallicTexName,this.roughnessTexName_2oz8x4$_0=t.roughnessTexName,this.occlusionTexName_yokc11$_0=t.occlusionTexName,this.albedoMap_el88rd$_0=t.albedoMap,this.emissiveMap_frsh8l$_0=t.emissiveMap,this.normalMap_4f5ej9$_0=t.normalMap,this.metallicMap_uadmur$_0=t.metallicMap,this.roughnessMap_c1s1r6$_0=t.roughnessMap,this.occlusionMap_npdkt7$_0=t.occlusionMap,this.displacementMap_lffg8r$_0=t.displacementMap,this.displacementStrength_mpg4z2$_0=t.displacementStrength,this.uAmbient_pjpk8p$_0=null;var s,a,l,p,u=I(this.shadowMaps_qk3not$_0.length);s=u.length-1|0;for(var c=0;c<=s;c++)u[c]=null;this.depthSamplers_26nmg4$_0=u,this.ambient_5b16r2$_0=new N$(.03,.03,.03,1),this.irradianceMapSampler_cqbfim$_0=null,this.reflectionMapSampler_33apoz$_0=null,this.brdfLutSampler_irta6d$_0=null,this.irradianceMap_wb8dgm$_0=null!=(a=t.environmentMaps)?a.irradianceMap:null,this.reflectionMap_oydyp3$_0=null!=(l=t.environmentMaps)?l.reflectionMap:null,this.brdfLut_qrgoz5$_0=null!=(p=t.environmentMaps)?p.brdfLut:null,this.ssaoSampler_yjqy1c$_0=null,this.scrSpcAmbientOcclusionMap_94u3nd$_0=t.scrSpcAmbientOcclusionMap,this.uMaterialThickness_vytosu$_0=null,this.materialThickness_egefyb$_0=t.materialThickness,this.refractionColorSampler_i6qgds$_0=null,this.refractionColorMap_mqtkjo$_0=t.refractionColorMap,this.refractionDepthSampler_mnhceo$_0=null,this.refractionDepthMap_46l6vw$_0=t.refractionDepthMap}function Mc(){Rc=this}zc.$metadata$={kind:$,simpleName:"ModeledShader",interfaces:[Al]},Tc.prototype.useStaticAlbedo_d7aj7k$=function(t){this.albedoSource=yc(),this.albedo=t},Tc.prototype.useAlbedoMap_ivxn3r$=function(t,e){void 0===e&&(e=!1),this.useAlbedoMap_vzjalu$(N_(t),e)},Tc.prototype.useAlbedoMap_vzjalu$=function(t,e){void 0===e&&(e=!1),this.albedoMap=t,this.isMultiplyAlbedoMap=e,this.albedoSource=$c()},Tc.prototype.useNormalMap_9sobi5$=function(t,e){void 0===e&&(e=this.normalStrength),this.useNormalMap_w253oa$(N_(t),e)},Tc.prototype.useNormalMap_w253oa$=function(t,e){void 0===e&&(e=this.normalStrength),this.normalMap=t,this.normalStrength=e,this.isNormalMapped=!0},Tc.prototype.useOcclusionMap_9sobi5$=function(t,e){void 0===e&&(e=this.occlusionStrength),this.useOcclusionMap_w253oa$(N_(t),e)},Tc.prototype.useOcclusionMap_w253oa$=function(t,e){void 0===e&&(e=this.occlusionStrength),this.occlusionMap=t,this.occlusionStrength=e,this.isOcclusionMapped=!0},Tc.prototype.useDisplacementMap_9sobi5$=function(t,e){void 0===e&&(e=this.displacementStrength),this.useDisplacementMap_w253oa$(N_(t),e)},Tc.prototype.useDisplacementMap_w253oa$=function(t,e){void 0===e&&(e=this.displacementStrength),this.displacementMap=t,this.displacementStrength=e,this.isDisplacementMapped=!0},Tc.prototype.useEmissiveMap_ivxn3r$=function(t,e){void 0===e&&(e=!1),this.useEmissiveMap_vzjalu$(N_(t),e)},Tc.prototype.useEmissiveMap_vzjalu$=function(t,e){void 0===e&&(e=!1),this.emissiveMap=t,this.isMultiplyEmissiveMap=e,this.isEmissiveMapped=!0},Tc.prototype.useMetallicMap_ivxn3r$=function(t,e){void 0===e&&(e=!1),this.useMetallicMap_vzjalu$(N_(t),e)},Tc.prototype.useMetallicMap_vzjalu$=function(t,e){void 0===e&&(e=!1),this.metallicMap=t,this.isMultiplyMetallicMap=e,this.isMetallicMapped=!0},Tc.prototype.useRoughnessMap_ivxn3r$=function(t,e){void 0===e&&(e=!1),this.useRoughnessMap_vzjalu$(N_(t),e)},Tc.prototype.useRoughnessMap_vzjalu$=function(t,e){void 0===e&&(e=!1),this.roughnessMap=t,this.isMultiplyRoughnessMap=e,this.isRoughnessMapped=!0},Tc.prototype.useScreenSpaceAmbientOcclusion_9cjgzv$=function(t){this.scrSpcAmbientOcclusionMap=t,this.isScrSpcAmbientOcclusion=!0},Tc.prototype.useRefraction_jprw98$=function(t,e){void 0===e&&(e=null),this.refractionColorMap=t,this.refractionDepthMap=e,this.isRefraction=null!=this.refractionColorMap,this.isRefractByDepthMap=null!=this.refractionDepthMap},Tc.prototype.useImageBasedLighting_po417x$=function(t){this.environmentMaps=t,this.isImageBasedLighting=null!=t},Tc.prototype.requiresTexCoords=function(){return this.albedoSource===$c()||this.isNormalMapped||this.isRoughnessMapped||this.isMetallicMapped||this.isOcclusionMapped||this.isDisplacementMapped},Tc.$metadata$={kind:$,simpleName:"PbrMaterialConfig",interfaces:[]},Object.defineProperty(Ec.prototype,"metallic",{configurable:!0,get:function(){return this.metallic_3y0qh7$_0},set:function(t){var e,n;this.metallic_3y0qh7$_0=t,null!=(n=null!=(e=this.uMetallic_fr1m2e$_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Ec.prototype,"roughness",{configurable:!0,get:function(){return this.roughness_6ti3qe$_0},set:function(t){var e,n;this.roughness_6ti3qe$_0=t,null!=(n=null!=(e=this.uRoughness_40otn3$_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Ec.prototype,"albedo",{configurable:!0,get:function(){return this.albedo_iz6fyn$_0},set:function(t){var e,n,i;this.albedo_iz6fyn$_0=t,null!=(i=null!=(n=null!=(e=this.uAlbedo_zpavw$_0)?e.uniform:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(Ec.prototype,"emissive",{configurable:!0,get:function(){return this.emissive_ybel2l$_0},set:function(t){var e,n,i;this.emissive_ybel2l$_0=t,null!=(i=null!=(n=null!=(e=this.uEmissive_midphe$_0)?e.uniform:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(Ec.prototype,"reflectionStrength",{configurable:!0,get:function(){return this.reflectionStrength_itx8hq$_0},set:function(t){var e,n;this.reflectionStrength_itx8hq$_0=t,null!=(n=null!=(e=this.uReflectionStrength_qtezyv$_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Ec.prototype,"albedoMap",{configurable:!0,get:function(){return this.albedoMap_el88rd$_0},set:function(t){var e;this.albedoMap_el88rd$_0=t,null!=(e=this.albedoSampler_5qe4n9$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"emissiveMap",{configurable:!0,get:function(){return this.emissiveMap_frsh8l$_0},set:function(t){var e;this.emissiveMap_frsh8l$_0=t,null!=(e=this.emissiveSampler_uv6auf$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"normalMap",{configurable:!0,get:function(){return this.normalMap_4f5ej9$_0},set:function(t){var e;this.normalMap_4f5ej9$_0=t,null!=(e=this.normalSampler_k1yi1j$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"metallicMap",{configurable:!0,get:function(){return this.metallicMap_uadmur$_0},set:function(t){var e;this.metallicMap_uadmur$_0=t,null!=(e=this.metallicSampler_kftqqn$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"roughnessMap",{configurable:!0,get:function(){return this.roughnessMap_c1s1r6$_0},set:function(t){var e;this.roughnessMap_c1s1r6$_0=t,null!=(e=this.roughnessSampler_ihq9zi$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"occlusionMap",{configurable:!0,get:function(){return this.occlusionMap_npdkt7$_0},set:function(t){var e;this.occlusionMap_npdkt7$_0=t,null!=(e=this.occlusionSampler_dhut4f$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"displacementMap",{configurable:!0,get:function(){return this.displacementMap_lffg8r$_0},set:function(t){var e;this.displacementMap_lffg8r$_0=t,null!=(e=this.displacementSampler_dq30kn$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"displacementStrength",{configurable:!0,get:function(){return this.displacementStrength_mpg4z2$_0},set:function(t){var e,n;this.displacementStrength_mpg4z2$_0=t,null!=(n=null!=(e=this.uDispStrength_iumwvi$_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Ec.prototype,"ambient",{configurable:!0,get:function(){return this.ambient_5b16r2$_0},set:function(t){var e,n,i;this.ambient_5b16r2$_0=t,null!=(i=null!=(n=null!=(e=this.uAmbient_pjpk8p$_0)?e.uniform:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(Ec.prototype,"irradianceMap",{configurable:!0,get:function(){return this.irradianceMap_wb8dgm$_0},set:function(t){var e;this.irradianceMap_wb8dgm$_0=t,null!=(e=this.irradianceMapSampler_cqbfim$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"reflectionMap",{configurable:!0,get:function(){return this.reflectionMap_oydyp3$_0},set:function(t){var e;this.reflectionMap_oydyp3$_0=t,null!=(e=this.reflectionMapSampler_33apoz$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"brdfLut",{configurable:!0,get:function(){return this.brdfLut_qrgoz5$_0},set:function(t){var e;this.brdfLut_qrgoz5$_0=t,null!=(e=this.brdfLutSampler_irta6d$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"scrSpcAmbientOcclusionMap",{configurable:!0,get:function(){return this.scrSpcAmbientOcclusionMap_94u3nd$_0},set:function(t){var e;this.scrSpcAmbientOcclusionMap_94u3nd$_0=t,null!=(e=this.ssaoSampler_yjqy1c$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"materialThickness",{configurable:!0,get:function(){return this.materialThickness_egefyb$_0},set:function(t){var e,n;this.materialThickness_egefyb$_0=t,null!=(n=null!=(e=this.uMaterialThickness_vytosu$_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Ec.prototype,"refractionColorMap",{configurable:!0,get:function(){return this.refractionColorMap_mqtkjo$_0},set:function(t){var e;this.refractionColorMap_mqtkjo$_0=t,null!=(e=this.refractionColorSampler_i6qgds$_0)&&(e.texture=t)}}),Object.defineProperty(Ec.prototype,"refractionDepthMap",{configurable:!0,get:function(){return this.refractionDepthMap_46l6vw$_0},set:function(t){var e;this.refractionDepthMap_46l6vw$_0=t,null!=(e=this.refractionDepthSampler_mnhceo$_0)&&(e.texture=t)}}),Ec.prototype.onPipelineSetup_x08qbx$=function(t,e,n){t.cullMethod=this.cullMethod_el0ipj$_0,t.blendMode=this.isBlending_xwg6en$_0?fl():_l(),zc.prototype.onPipelineSetup_x08qbx$.call(this,t,e,n)},Ec.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l,p,u,c,h,d,f,m,y,$,b,g,v,x,w,z,C,S,k,L,j,N,P,T,O,E,M,R,I,A,D,B,F,q,U,V,W,G,H,X,K=this.model;t:do{var Y;for(H=sc.ALL,Y=K.stages.values.iterator();Y.hasNext();){var Z=Y.next();if(0!=(Z.stage.mask&H.mask)){var J,Q,tt=Z.nodes;e:do{var et;for(et=tt.iterator();et.hasNext();){var nt=et.next();if(Dt(nt.name,"uMetallic")&&e.isType(nt,Iu)){Q=nt;break e}}Q=null}while(0);var it=null==(J=Q)||e.isType(J,Iu)?J:_();if(null!=it){X=it;break t}}}X=null}while(0);this.uMetallic_fr1m2e$_0=X,null!=(o=this.uMetallic_fr1m2e$_0)&&(o.uniform.value=this.metallic);var ot,rt,st=this.model;t:do{var at;for(ot=sc.ALL,at=st.stages.values.iterator();at.hasNext();){var lt=at.next();if(0!=(lt.stage.mask&ot.mask)){var pt,ut,ct=lt.nodes;e:do{var _t;for(_t=ct.iterator();_t.hasNext();){var ht=_t.next();if(Dt(ht.name,"uRoughness")&&e.isType(ht,Iu)){ut=ht;break e}}ut=null}while(0);var dt=null==(pt=ut)||e.isType(pt,Iu)?pt:_();if(null!=dt){rt=dt;break t}}}rt=null}while(0);this.uRoughness_40otn3$_0=rt,null!=(r=this.uRoughness_40otn3$_0)&&(r.uniform.value=this.roughness);var ft,mt,yt=this.model;t:do{var $t;for(ft=sc.ALL,$t=yt.stages.values.iterator();$t.hasNext();){var bt=$t.next();if(0!=(bt.stage.mask&ft.mask)){var gt,vt,xt=bt.nodes;e:do{var wt;for(wt=xt.iterator();wt.hasNext();){var zt=wt.next();if(Dt(zt.name,"uAlbedo")&&e.isType(zt,Fu)){vt=zt;break e}}vt=null}while(0);var Ct=null==(gt=vt)||e.isType(gt,Fu)?gt:_();if(null!=Ct){mt=Ct;break t}}}mt=null}while(0);this.uAlbedo_zpavw$_0=mt,null!=(l=null!=(a=null!=(s=this.uAlbedo_zpavw$_0)?s.uniform:null)?a.value:null)&&l.set_czzhhz$(this.albedo);var St,kt,Lt=this.model;t:do{var jt;for(St=sc.ALL,jt=Lt.stages.values.iterator();jt.hasNext();){var Nt=jt.next();if(0!=(Nt.stage.mask&St.mask)){var Pt,Tt,Ot=Nt.nodes;e:do{var Et;for(Et=Ot.iterator();Et.hasNext();){var Mt=Et.next();if(Dt(Mt.name,"uEmissive")&&e.isType(Mt,Fu)){Tt=Mt;break e}}Tt=null}while(0);var Rt=null==(Pt=Tt)||e.isType(Pt,Fu)?Pt:_();if(null!=Rt){kt=Rt;break t}}}kt=null}while(0);this.uEmissive_midphe$_0=kt,null!=(c=null!=(u=null!=(p=this.uEmissive_midphe$_0)?p.uniform:null)?u.value:null)&&c.set_czzhhz$(this.emissive);var It,At,Bt=this.model;t:do{var Ft;for(It=sc.ALL,Ft=Bt.stages.values.iterator();Ft.hasNext();){var qt=Ft.next();if(0!=(qt.stage.mask&It.mask)){var Ut,Vt,Wt=qt.nodes;e:do{var Gt;for(Gt=Wt.iterator();Gt.hasNext();){var Ht=Gt.next();if(Dt(Ht.name,"uReflectionStrength")&&e.isType(Ht,Iu)){Vt=Ht;break e}}Vt=null}while(0);var Xt=null==(Ut=Vt)||e.isType(Ut,Iu)?Ut:_();if(null!=Xt){At=Xt;break t}}}At=null}while(0);this.uReflectionStrength_qtezyv$_0=At,null!=(d=null!=(h=this.uReflectionStrength_qtezyv$_0)?h.uniform:null)&&(d.value=this.reflectionStrength);var Kt,Yt,Zt=this.model;t:do{var Jt;for(Kt=sc.ALL,Jt=Zt.stages.values.iterator();Jt.hasNext();){var Qt=Jt.next();if(0!=(Qt.stage.mask&Kt.mask)){var te,ee,ne=Qt.nodes;e:do{var ie;for(ie=ne.iterator();ie.hasNext();){var oe=ie.next();if(Dt(oe.name,"uAmbient")&&e.isType(oe,Fu)){ee=oe;break e}}ee=null}while(0);var re=null==(te=ee)||e.isType(te,Fu)?te:_();if(null!=re){Yt=re;break t}}}Yt=null}while(0);if(this.uAmbient_pjpk8p$_0=Yt,null!=(y=null!=(m=null!=(f=this.uAmbient_pjpk8p$_0)?f.uniform:null)?m.value:null)&&y.set_czzhhz$(this.ambient),this.isReceivingShadow_6kyd2k$_0){$=this.depthSamplers_26nmg4$_0;for(var se=0;se!==$.length;++se){var ae,le,pe,ue=this.model,ce="depthMap_"+se;t:do{var _e;for(le=sc.ALL,_e=ue.stages.values.iterator();_e.hasNext();){var he=_e.next();if(0!=(he.stage.mask&le.mask)){var de,fe,me=he.nodes;e:do{var ye;for(ye=me.iterator();ye.hasNext();){var $e=ye.next();if(Dt($e.name,ce)&&e.isType($e,ju)){fe=$e;break e}}fe=null}while(0);var be=null==(de=fe)||e.isType(de,ju)?de:_();if(null!=be){pe=be;break t}}}pe=null}while(0);var ge=null!=(ae=pe)?ae.sampler:null;this.depthSamplers_26nmg4$_0[se]=ge,this.shadowMaps_qk3not$_0[se].setupSampler_wl9pml$(ge)}}var ve,xe,we=this.model;t:do{var ze;for(ve=sc.ALL,ze=we.stages.values.iterator();ze.hasNext();){var Ce=ze.next();if(0!=(Ce.stage.mask&ve.mask)){var Se,ke,Le=Ce.nodes;e:do{var je;for(je=Le.iterator();je.hasNext();){var Ne=je.next();if(Dt(Ne.name,"irradianceMap")&&e.isType(Ne,Ou)){ke=Ne;break e}}ke=null}while(0);var Pe=null==(Se=ke)||e.isType(Se,Ou)?Se:_();if(null!=Pe){xe=Pe;break t}}}xe=null}while(0);this.irradianceMapSampler_cqbfim$_0=null!=(b=xe)?b.sampler:null,null!=(g=this.irradianceMapSampler_cqbfim$_0)&&(g.texture=this.irradianceMap);var Te,Oe,Ee=this.model;t:do{var Me;for(Te=sc.ALL,Me=Ee.stages.values.iterator();Me.hasNext();){var Re=Me.next();if(0!=(Re.stage.mask&Te.mask)){var Ie,Ae,De=Re.nodes;e:do{var Be;for(Be=De.iterator();Be.hasNext();){var Fe=Be.next();if(Dt(Fe.name,"reflectionMap")&&e.isType(Fe,Ou)){Ae=Fe;break e}}Ae=null}while(0);var qe=null==(Ie=Ae)||e.isType(Ie,Ou)?Ie:_();if(null!=qe){Oe=qe;break t}}}Oe=null}while(0);this.reflectionMapSampler_33apoz$_0=null!=(v=Oe)?v.sampler:null,null!=(x=this.reflectionMapSampler_33apoz$_0)&&(x.texture=this.reflectionMap);var Ue,Ve,We=this.model;t:do{var Ge;for(Ue=sc.ALL,Ge=We.stages.values.iterator();Ge.hasNext();){var He=Ge.next();if(0!=(He.stage.mask&Ue.mask)){var Xe,Ke,Ye=He.nodes;e:do{var Ze;for(Ze=Ye.iterator();Ze.hasNext();){var Je=Ze.next();if(Dt(Je.name,"brdfLut")&&e.isType(Je,ju)){Ke=Je;break e}}Ke=null}while(0);var Qe=null==(Xe=Ke)||e.isType(Xe,ju)?Xe:_();if(null!=Qe){Ve=Qe;break t}}}Ve=null}while(0);this.brdfLutSampler_irta6d$_0=null!=(w=Ve)?w.sampler:null,null!=(z=this.brdfLutSampler_irta6d$_0)&&(z.texture=this.brdfLut);var tn,en,nn=this.model;t:do{var on;for(tn=sc.ALL,on=nn.stages.values.iterator();on.hasNext();){var rn=on.next();if(0!=(rn.stage.mask&tn.mask)){var sn,an,ln=rn.nodes;e:do{var pn;for(pn=ln.iterator();pn.hasNext();){var un=pn.next();if(Dt(un.name,"ssaoMap")&&e.isType(un,ju)){an=un;break e}}an=null}while(0);var cn=null==(sn=an)||e.isType(sn,ju)?sn:_();if(null!=cn){en=cn;break t}}}en=null}while(0);this.ssaoSampler_yjqy1c$_0=null!=(C=en)?C.sampler:null,null!=(S=this.ssaoSampler_yjqy1c$_0)&&(S.texture=this.scrSpcAmbientOcclusionMap);var _n,hn,dn=this.model;t:do{var fn;for(_n=sc.ALL,fn=dn.stages.values.iterator();fn.hasNext();){var mn=fn.next();if(0!=(mn.stage.mask&_n.mask)){var yn,$n,bn=mn.nodes;e:do{var gn;for(gn=bn.iterator();gn.hasNext();){var vn=gn.next();if(Dt(vn.name,"uMaterialThickness")&&e.isType(vn,Iu)){$n=vn;break e}}$n=null}while(0);var xn=null==(yn=$n)||e.isType(yn,Iu)?yn:_();if(null!=xn){hn=xn;break t}}}hn=null}while(0);this.uMaterialThickness_vytosu$_0=hn,null!=(k=this.uMaterialThickness_vytosu$_0)&&(k.uniform.value=this.materialThickness);var wn,zn,Cn=this.model;t:do{var Sn;for(wn=sc.ALL,Sn=Cn.stages.values.iterator();Sn.hasNext();){var kn=Sn.next();if(0!=(kn.stage.mask&wn.mask)){var Ln,jn,Nn=kn.nodes;e:do{var Pn;for(Pn=Nn.iterator();Pn.hasNext();){var Tn=Pn.next();if(Dt(Tn.name,"tRefractionColor")&&e.isType(Tn,ju)){jn=Tn;break e}}jn=null}while(0);var On=null==(Ln=jn)||e.isType(Ln,ju)?Ln:_();if(null!=On){zn=On;break t}}}zn=null}while(0);this.refractionColorSampler_i6qgds$_0=null!=(L=zn)?L.sampler:null,null!=(j=this.refractionColorSampler_i6qgds$_0)&&(j.texture=this.refractionColorMap);var En,Mn,Rn=this.model;t:do{var In;for(En=sc.ALL,In=Rn.stages.values.iterator();In.hasNext();){var An=In.next();if(0!=(An.stage.mask&En.mask)){var Dn,Bn,Fn=An.nodes;e:do{var qn;for(qn=Fn.iterator();qn.hasNext();){var Un=qn.next();if(Dt(Un.name,"tRefractionDepth")&&e.isType(Un,ju)){Bn=Un;break e}}Bn=null}while(0);var Vn=null==(Dn=Bn)||e.isType(Dn,ju)?Dn:_();if(null!=Vn){Mn=Vn;break t}}}Mn=null}while(0);this.refractionDepthSampler_mnhceo$_0=null!=(N=Mn)?N.sampler:null,null!=(P=this.refractionDepthSampler_mnhceo$_0)&&(P.texture=this.refractionDepthMap);var Wn,Gn,Hn=this.model;t:do{var Xn;for(Wn=sc.ALL,Xn=Hn.stages.values.iterator();Xn.hasNext();){var Kn=Xn.next();if(0!=(Kn.stage.mask&Wn.mask)){var Yn,Zn,Jn=Kn.nodes;e:do{var Qn;for(Qn=Jn.iterator();Qn.hasNext();){var ti=Qn.next();if(Dt(ti.name,"tAlbedo")&&e.isType(ti,ju)){Zn=ti;break e}}Zn=null}while(0);var ei=null==(Yn=Zn)||e.isType(Yn,ju)?Yn:_();if(null!=ei){Gn=ei;break t}}}Gn=null}while(0);this.albedoSampler_5qe4n9$_0=null!=(T=Gn)?T.sampler:null,null!=(O=this.albedoSampler_5qe4n9$_0)&&(O.texture=this.albedoMap);var ni,ii,oi=this.model;t:do{var ri;for(ni=sc.ALL,ri=oi.stages.values.iterator();ri.hasNext();){var si=ri.next();if(0!=(si.stage.mask&ni.mask)){var ai,li,pi=si.nodes;e:do{var ui;for(ui=pi.iterator();ui.hasNext();){var ci=ui.next();if(Dt(ci.name,"tEmissive")&&e.isType(ci,ju)){li=ci;break e}}li=null}while(0);var _i=null==(ai=li)||e.isType(ai,ju)?ai:_();if(null!=_i){ii=_i;break t}}}ii=null}while(0);this.emissiveSampler_uv6auf$_0=null!=(E=ii)?E.sampler:null,null!=(M=this.emissiveSampler_uv6auf$_0)&&(M.texture=this.emissiveMap);var hi,di,fi=this.model;t:do{var mi;for(hi=sc.ALL,mi=fi.stages.values.iterator();mi.hasNext();){var yi=mi.next();if(0!=(yi.stage.mask&hi.mask)){var $i,bi,gi=yi.nodes;e:do{var vi;for(vi=gi.iterator();vi.hasNext();){var xi=vi.next();if(Dt(xi.name,"tNormal")&&e.isType(xi,ju)){bi=xi;break e}}bi=null}while(0);var wi=null==($i=bi)||e.isType($i,ju)?$i:_();if(null!=wi){di=wi;break t}}}di=null}while(0);this.normalSampler_k1yi1j$_0=null!=(R=di)?R.sampler:null,null!=(I=this.normalSampler_k1yi1j$_0)&&(I.texture=this.normalMap);var zi,Ci,Si=this.model,ki=this.metallicTexName_qvs5z$_0;t:do{var Li;for(zi=sc.ALL,Li=Si.stages.values.iterator();Li.hasNext();){var ji=Li.next();if(0!=(ji.stage.mask&zi.mask)){var Ni,Pi,Ti=ji.nodes;e:do{var Oi;for(Oi=Ti.iterator();Oi.hasNext();){var Ei=Oi.next();if(Dt(Ei.name,ki)&&e.isType(Ei,ju)){Pi=Ei;break e}}Pi=null}while(0);var Mi=null==(Ni=Pi)||e.isType(Ni,ju)?Ni:_();if(null!=Mi){Ci=Mi;break t}}}Ci=null}while(0);this.metallicSampler_kftqqn$_0=null!=(A=Ci)?A.sampler:null,null!=(D=this.metallicSampler_kftqqn$_0)&&(D.texture=this.metallicMap);var Ri,Ii,Ai=this.model,Di=this.roughnessTexName_2oz8x4$_0;t:do{var Bi;for(Ri=sc.ALL,Bi=Ai.stages.values.iterator();Bi.hasNext();){var Fi=Bi.next();if(0!=(Fi.stage.mask&Ri.mask)){var qi,Ui,Vi=Fi.nodes;e:do{var Wi;for(Wi=Vi.iterator();Wi.hasNext();){var Gi=Wi.next();if(Dt(Gi.name,Di)&&e.isType(Gi,ju)){Ui=Gi;break e}}Ui=null}while(0);var Hi=null==(qi=Ui)||e.isType(qi,ju)?qi:_();if(null!=Hi){Ii=Hi;break t}}}Ii=null}while(0);this.roughnessSampler_ihq9zi$_0=null!=(B=Ii)?B.sampler:null,null!=(F=this.roughnessSampler_ihq9zi$_0)&&(F.texture=this.roughnessMap);var Xi,Ki,Yi=this.model,Zi=this.occlusionTexName_yokc11$_0;t:do{var Ji;for(Xi=sc.ALL,Ji=Yi.stages.values.iterator();Ji.hasNext();){var Qi=Ji.next();if(0!=(Qi.stage.mask&Xi.mask)){var to,eo,no=Qi.nodes;e:do{var io;for(io=no.iterator();io.hasNext();){var oo=io.next();if(Dt(oo.name,Zi)&&e.isType(oo,ju)){eo=oo;break e}}eo=null}while(0);var ro=null==(to=eo)||e.isType(to,ju)?to:_();if(null!=ro){Ki=ro;break t}}}Ki=null}while(0);this.occlusionSampler_dhut4f$_0=null!=(q=Ki)?q.sampler:null,null!=(U=this.occlusionSampler_dhut4f$_0)&&(U.texture=this.occlusionMap);var so,ao,lo=this.model;t:do{var po;for(so=sc.ALL,po=lo.stages.values.iterator();po.hasNext();){var uo=po.next();if(0!=(uo.stage.mask&so.mask)){var co,_o,ho=uo.nodes;e:do{var fo;for(fo=ho.iterator();fo.hasNext();){var mo=fo.next();if(Dt(mo.name,"tDisplacement")&&e.isType(mo,ju)){_o=mo;break e}}_o=null}while(0);var yo=null==(co=_o)||e.isType(co,ju)?co:_();if(null!=yo){ao=yo;break t}}}ao=null}while(0);this.displacementSampler_dq30kn$_0=null!=(V=ao)?V.sampler:null,null!=(W=this.displacementSampler_dq30kn$_0)&&(W.texture=this.displacementMap);var $o,bo,go=this.model;t:do{var vo;for($o=sc.ALL,vo=go.stages.values.iterator();vo.hasNext();){var xo=vo.next();if(0!=(xo.stage.mask&$o.mask)){var wo,zo,Co=xo.nodes;e:do{var So;for(So=Co.iterator();So.hasNext();){var ko=So.next();if(Dt(ko.name,"uDispStrength")&&e.isType(ko,Iu)){zo=ko;break e}}zo=null}while(0);var Lo=null==(wo=zo)||e.isType(wo,Iu)?wo:_();if(null!=Lo){bo=Lo;break t}}}bo=null}while(0);this.uDispStrength_iumwvi$_0=bo,null!=(G=this.uDispStrength_iumwvi$_0)&&(G.uniform.value=this.displacementStrength),zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},Mc.prototype.defaultPbrModel_2ufela$=function(t){var n,i,o,r=new tu("defaultPbrModel()"),s={v:null},a={v:null},l={v:null},p={v:null},c={v:null},_={v:null},h=E(),d=new nu(r);_.v=d.mvpNode();var f=d.namedVariable_wtmwsg$("modelMat",_.v.outModelMat),m=d.namedVariable_wtmwsg$("mvpMat",_.v.outMvpMat),y=f.output,$=m.output;if(t.isInstanced&&(f.input=d.multiplyNode_ze33is$(_.v.outModelMat,d.instanceAttrModelMat().output).output,m.input=d.multiplyNode_ze33is$(_.v.outMvpMat,d.instanceAttrModelMat().output).output),t.isSkinned){var b=d.skinTransformNode_78eraa$(d.attrJoints().output,d.attrWeights().output,t.maxJoints);f.input=d.multiplyNode_ze33is$(f.input,b.outJointMat).output,m.input=d.multiplyNode_ze33is$(m.input,b.outJointMat).output}if(t.requiresTexCoords()){var g=d.namedVariable_wtmwsg$("texCoordInput",d.attrTexCoords().output);n=d.stageInterfaceNode_iikjwn$("ifTexCoords",g.output)}else n=null;c.v=n,i=t.albedoSource===bc()?d.stageInterfaceNode_iikjwn$("ifColors",d.attrColors().output):null,s.v=i;var v,x,z=t.morphAttributes.isEmpty()?null:d.morphWeightsNode_za3lpa$(t.morphAttributes.size),S=d.namedVariable_wtmwsg$("localPosInput",d.attrPositions().output),k=d.namedVariable_wtmwsg$("localNormalInput",d.attrNormals().output),L={v:S.output},j=t.morphAttributes,N=E();for(v=j.iterator();v.hasNext();){var P=v.next();u(P.name,hs().POSITIONS.name)&&N.add_11rb$(P)}for(x=N.iterator();x.hasNext();){var T=x.next(),O=d.getMorphWeightNode_dcktnw$(t.morphAttributes.indexOf_11rb$(T),w(z)),M=d.multiplyNode_ze33is$(d.attributeNode_nm2vx5$(T).output,O.outWeight);L.v=d.addNode_ze33is$(L.v,M.output).output}var R,I,A=d.namedVariable_wtmwsg$("localPosMorphed",L.v),D={v:k.output},B=t.morphAttributes,F=E();for(R=B.iterator();R.hasNext();){var q=R.next();u(q.name,hs().NORMALS.name)&&F.add_11rb$(q)}for(I=F.iterator();I.hasNext();){var U=I.next(),V=d.getMorphWeightNode_dcktnw$(t.morphAttributes.indexOf_11rb$(U),w(z)),W=d.multiplyNode_ze33is$(d.attributeNode_nm2vx5$(U).output,V.outWeight);D.v=d.addNode_ze33is$(D.v,W.output).output}var G=d.namedVariable_wtmwsg$("localNormalMorphed",D.v);if(t.isNormalMapped){var H,X,K=d.namedVariable_wtmwsg$("localTangentInput",d.attrTangents().output),Y={v:d.splitNode_500t7j$(K.output,"xyz").output},Z=t.morphAttributes,J=E();for(H=Z.iterator();H.hasNext();){var Q=H.next();u(Q.name,hs().TANGENTS.name)&&J.add_11rb$(Q)}for(X=J.iterator();X.hasNext();){var tt=X.next(),nt=d.getMorphWeightNode_dcktnw$(t.morphAttributes.indexOf_11rb$(tt),w(z)),it=d.multiplyNode_ze33is$(d.attributeNode_nm2vx5$(tt).output,nt.outWeight);Y.v=d.addNode_ze33is$(Y.v,it.output).output}var ot=d.vec3TransformNode_vid4wo$(Y.v,y,0),rt=d.combineXyzWNode_ze33is$(ot.outVec3,d.splitNode_500t7j$(K.output,"w").output);o=d.stageInterfaceNode_iikjwn$("ifTangents",rt.output)}else o=null;l.v=o;var st=d.namedVariable_wtmwsg$("localPosDisplaced",A.output);if(t.isDisplacementMapped){var at=d.texture2dNode_61zpoe$("tDisplacement"),lt=d.displacementMapNode_kq6xq$(at,w(c.v).input,A.output,G.output);lt.inStrength=d.pushConstantNode1f_61zpoe$("uDispStrength").output;var pt=lt;st.input=pt.outPosition}var ut=d.vec3TransformNode_vid4wo$(st.output,y,1).outVec3;p.v=d.stageInterfaceNode_iikjwn$("ifFragPos",ut);var ct=d.vec3TransformNode_vid4wo$(G.output,y,0);a.v=d.stageInterfaceNode_iikjwn$("ifNormals",ct.outVec3);var _t,ht,dt=d.vec4TransformNode_9krp9t$(ut,_.v.outViewMat).outVec4,ft=0;for(_t=t.shadowMaps.iterator();_t.hasNext();){var mt=_t.next(),yt=et((ft=(ht=ft)+1|0,ht));if(e.isType(mt,gS)){var $t=d.cascadedShadowMapNode_zw58l$(mt,"depthMap_"+yt,dt,ut);h.add_11rb$($t)}else if(e.isType(mt,$S)){var bt=d.simpleShadowMapNode_7yd351$(mt,"depthMap_"+yt,ut);h.add_11rb$(bt)}}d.positionOutput=d.vec4TransformNode_9krp9t$(st.output,$).outVec4;var gt,vt,wt,zt,Ct,St=new iu(r);switch(t.albedoSource.name){case"VERTEX_ALBEDO":gt=w(s.v).output;break;case"STATIC_ALBEDO":gt=St.pushConstantNodeColor_61zpoe$("uAlbedo").output;break;case"TEXTURE_ALBEDO":var kt=St.texture2dSamplerNode_fzevit$(St.texture2dNode_61zpoe$("tAlbedo"),w(c.v).output),Lt=St.gammaNode_ze33is$(kt.outColor);if(t.isMultiplyAlbedoMap){var jt=St.pushConstantNodeColor_61zpoe$("uAlbedo").output;gt=St.multiplyNode_ze33is$(Lt.outColor,jt).output}else gt=Lt.outColor;break;case"CUBE_MAP_ALBEDO":throw xt("CUBE_MAP_ALBEDO is not allowed for PbrShader");default:gt=e.noWhenBranchMatched()}var Nt={v:gt};null!=(wt=e.isType(vt=t.alphaMode,wc)?vt:null)&&St.discardAlpha_ze33is$(St.splitNode_500t7j$(Nt.v,"a").output,St.constFloat_mx4ult$(wt.cutOff)),e.isType(t.alphaMode,vc)||(Nt.v=St.combineXyzWNode_ze33is$(Nt.v,St.constFloat_mx4ult$(1)).output);var Pt,Tt=_.v.addToStage_llmhyc$(r.fragmentStageGraph),Ot=St.multiLightNode_d76fwk$(p.v.output,t.maxLights);for(Pt=h.iterator();Pt.hasNext();){var Et=Pt.next();Ot.inShadowFacs[Et.lightIndex]=Et.outShadowFac}if(t.isNormalMapped&&null!=l.v){var Mt=St.normalMapNode_pp0pk4$(St.texture2dNode_61zpoe$("tNormal"),w(c.v).output,a.v.output,l.v.output);Mt.inStrength=St.constFloat_mx4ult$(t.normalStrength),zt=Mt.outNormal}else zt=a.v.output;var Rt={v:zt};Rt.v=St.normalizeNode_r20yfm$(St.flipBacksideNormalNode_r20yfm$(Rt.v).outNormal).output;var It,At,Dt,Bt=St.viewDirNode_ze33is$(Tt.outCamPos,p.v.output).output;if(t.isImageBasedLighting){var Ft=St.textureCubeNode_61zpoe$("irradianceMap");Dt=St.textureCubeSamplerNode_ub8j0u$(Ft,a.v.output),It=St.textureCubeNode_61zpoe$("reflectionMap"),At=St.texture2dNode_61zpoe$("brdfLut")}else Dt=null,It=null,At=null;var qt,Ut,Vt,Wt,Gt,Ht=St.pbrMaterialNode_aple27$(It,At),Xt=Dt;if(Ht.inAlbedo=Nt.v,Ht.inNormal=Rt.v,Ht.lightBacksides=t.lightBacksides,Ht.inFragPos=p.v.output,Ht.inViewDir=Bt,Ht.inReflectionStrength=St.pushConstantNode1f_61zpoe$("uReflectionStrength").output,Ht.inLightCount=Ot.outLightCount,Ht.inFragToLight=Ot.outFragToLightDirection,Ht.inRadiance=Ot.outRadiance,Ht.inIrradiance=null!=(qt=null!=Xt?Xt.outColor:null)?qt:St.pushConstantNodeColor_61zpoe$("uAmbient").output,t.isEmissiveMapped){var Kt=St.texture2dSamplerNode_fzevit$(St.texture2dNode_61zpoe$("tEmissive"),w(c.v).output).outColor,Yt=St.gammaNode_ze33is$(Kt).outColor;if(t.isMultiplyEmissiveMap){var Zt=St.pushConstantNodeColor_61zpoe$("uEmissive").output;Ut=St.multiplyNode_ze33is$(Yt,Zt).output}else Ut=Yt;Ht.inEmissive=Ut}else Ht.inEmissive=St.pushConstantNodeColor_61zpoe$("uEmissive").output;var Jt=C();if(t.isRoughnessMapped){var Qt=St.texture2dSamplerNode_fzevit$(St.texture2dNode_61zpoe$(t.roughnessTexName),w(c.v).output).outColor,te=t.roughnessTexName;Jt.put_xwzc9p$(te,Qt);var ee=St.splitNode_500t7j$(Qt,t.roughnessChannel).output;if(t.isMultiplyRoughnessMap){var ne=St.pushConstantNode1f_61zpoe$("uRoughness").output;Vt=St.multiplyNode_ze33is$(ee,ne).output}else Vt=ee;Ht.inRoughness=Vt}else Ht.inRoughness=St.pushConstantNode1f_61zpoe$("uRoughness").output;if(t.isMetallicMapped){var ie,oe=t.metallicTexName,re=Jt.get_11rb$(oe);if(null==re){var se=St.texture2dSamplerNode_fzevit$(St.texture2dNode_61zpoe$(t.metallicTexName),w(c.v).output).outColor;Jt.put_xwzc9p$(oe,se),ie=se}else ie=re;var ae=ie,le=t.metallicTexName;Jt.put_xwzc9p$(le,ae);var pe=St.splitNode_500t7j$(ae,t.metallicChannel).output;if(t.isMultiplyMetallicMap){var ue=St.pushConstantNode1f_61zpoe$("uMetallic").output;Wt=St.multiplyNode_ze33is$(pe,ue).output}else Wt=pe;Ht.inMetallic=Wt}else Ht.inMetallic=St.pushConstantNode1f_61zpoe$("uMetallic").output;var ce=St.constFloat_mx4ult$(1);if(t.isOcclusionMapped){var _e,he=t.occlusionTexName,de=Jt.get_11rb$(he);if(null==de){var fe=St.texture2dSamplerNode_fzevit$(St.texture2dNode_61zpoe$(t.occlusionTexName),w(c.v).output).outColor;Jt.put_xwzc9p$(he,fe),_e=fe}else _e=de;var me=_e,ye=t.occlusionTexName;Jt.put_xwzc9p$(ye,me);var $e=St.splitNode_500t7j$(me,t.occlusionChannel).output;if(1!==t.occlusionStrength){var be=t.occlusionStrength;Gt=St.addNode_ze33is$(St.constFloat_mx4ult$(1-be),St.multiplyNode_tuikh5$($e,be).output).output}else Gt=$e;ce=Gt}if(t.isScrSpcAmbientOcclusion){var ge=St.texture2dNode_61zpoe$("ssaoMap"),ve=St.addNode_u9w9by$(new Wp(ge,St.stage));ve.inViewport=Tt.outViewport,ce=t.isOcclusionMapped?St.multiplyNode_ze33is$(ce,ve.outAo).output:ve.outAo}Ht.inAmbientOccl=ce;var xe=Ht,we=xe.outColor;if(t.isRefraction){var ze=St.addNode_u9w9by$(new Xp(St.stage));ze.reflectionMap=It,ze.refractionColor=St.texture2dNode_61zpoe$("tRefractionColor"),ze.view=Tt.outViewMat,ze.viewProj=St.multiplyNode_ze33is$(Tt.outProjMat,Tt.outViewMat).output,ze.inMaterialThickness=St.pushConstantNode1f_61zpoe$("uMaterialThickness").output,ze.inFragPos=p.v.output,ze.inRefractionDir=St.refractNode_92v6he$(Bt,Rt.v,St.constFloat_mx4ult$(1/t.refractionIor)).outDirection,t.isRefractByDepthMap&&(ze.refractionDepth=St.texture2dNode_61zpoe$("tRefractionDepth"));var Ce=ze.outColor,Se=St.subtractNode_ze33is$(St.constFloat_mx4ult$(1),St.splitNode_500t7j$(xe.outColor,"a").output).output,ke=St.multiplyNode_ze33is$(Ce,Se).output;we=St.combineXyzWNode_ze33is$(St.addNode_ze33is$(we,ke).output,St.constFloat_mx4ult$(1)).output}return t.isHdrOutput||(we=St.hdrToLdrNode_r20yfm$(we).outColor),Ct=t.alphaMode,e.isType(Ct,vc)?St.colorOutput_a3v4si$(we):e.isType(Ct,wc)||e.isType(Ct,xc)?St.colorOutput_a3v4si$(we,void 0,St.constFloat_mx4ult$(1)):e.noWhenBranchMatched(),r},Mc.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Rc=null;function Ic(){return null===Rc&&new Mc,Rc}function Ac(t,n){Fc(),void 0===n&&(n=Fc().defaultPhongModel_m663ta$(t)),zc.call(this,n),this.cullMethod_vy24o7$_0=t.cullMethod,this.isBlending_jrm9lt$_0=e.isType(t.alphaMode,vc);var i,o=I(t.shadowMaps.size);i=o.length-1|0;for(var r=0;r<=i;r++)o[r]=t.shadowMaps.get_za3lpa$(r);this.shadowMaps_9721q5$_0=o,this.isReceivingShadow_qjucrg$_0=!t.shadowMaps.isEmpty(),this.uShininess_fa5gfr$_0=null,this.uSpecularIntensity_42aqqn$_0=null,this.albedoSampler_ax7q7p$_0=null,this.normalSampler_p8s3lz$_0=null,this.uAlbedo_22y7sc$_0=null,this.shininess_9rzino$_0=t.shininess,this.specularIntensity_immrg6$_0=t.specularIntensity,this.albedo_xrasdd$_0=t.albedo,this.albedoMap_wcysax$_0=t.albedoMap,this.normalMap_dcl50b$_0=t.normalMap;var s,a=I(this.shadowMaps_9721q5$_0.length);s=a.length-1|0;for(var l=0;l<=s;l++)a[l]=null;this.depthSamplers_7dh80k$_0=a}function Dc(){Bc=this}Ec.$metadata$={kind:$,simpleName:"PbrShader",interfaces:[zc]},Object.defineProperty(Ac.prototype,"shininess",{configurable:!0,get:function(){return this.shininess_9rzino$_0},set:function(t){var e,n;this.shininess_9rzino$_0=t,null!=(n=null!=(e=this.uShininess_fa5gfr$_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Ac.prototype,"specularIntensity",{configurable:!0,get:function(){return this.specularIntensity_immrg6$_0},set:function(t){var e,n;this.specularIntensity_immrg6$_0=t,null!=(n=null!=(e=this.uSpecularIntensity_42aqqn$_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Ac.prototype,"albedo",{configurable:!0,get:function(){return this.albedo_xrasdd$_0},set:function(t){var e,n,i;this.albedo_xrasdd$_0=t,null!=(i=null!=(n=null!=(e=this.uAlbedo_22y7sc$_0)?e.uniform:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(Ac.prototype,"albedoMap",{configurable:!0,get:function(){return this.albedoMap_wcysax$_0},set:function(t){var e;this.albedoMap_wcysax$_0=t,null!=(e=this.albedoSampler_ax7q7p$_0)&&(e.texture=t)}}),Object.defineProperty(Ac.prototype,"normalMap",{configurable:!0,get:function(){return this.normalMap_dcl50b$_0},set:function(t){var e;this.normalMap_dcl50b$_0=t,null!=(e=this.normalSampler_p8s3lz$_0)&&(e.texture=t)}}),Ac.prototype.onPipelineSetup_x08qbx$=function(t,e,n){t.cullMethod=this.cullMethod_vy24o7$_0,t.blendMode=this.isBlending_jrm9lt$_0?fl():_l(),zc.prototype.onPipelineSetup_x08qbx$.call(this,t,e,n)},Ac.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l,p,u,c,h,d,f,m,y,$,b=this.model;t:do{var g;for(y=sc.ALL,g=b.stages.values.iterator();g.hasNext();){var v=g.next();if(0!=(v.stage.mask&y.mask)){var x,w,z=v.nodes;e:do{var C;for(C=z.iterator();C.hasNext();){var S=C.next();if(Dt(S.name,"uShininess")&&e.isType(S,Iu)){w=S;break e}}w=null}while(0);var k=null==(x=w)||e.isType(x,Iu)?x:_();if(null!=k){$=k;break t}}}$=null}while(0);this.uShininess_fa5gfr$_0=$,null!=(r=null!=(o=this.uShininess_fa5gfr$_0)?o.uniform:null)&&(r.value=this.shininess);var L,j,N=this.model;t:do{var P;for(L=sc.ALL,P=N.stages.values.iterator();P.hasNext();){var T=P.next();if(0!=(T.stage.mask&L.mask)){var O,E,M=T.nodes;e:do{var R;for(R=M.iterator();R.hasNext();){var I=R.next();if(Dt(I.name,"uSpecularIntensity")&&e.isType(I,Iu)){E=I;break e}}E=null}while(0);var A=null==(O=E)||e.isType(O,Iu)?O:_();if(null!=A){j=A;break t}}}j=null}while(0);this.uSpecularIntensity_42aqqn$_0=j,null!=(a=null!=(s=this.uSpecularIntensity_42aqqn$_0)?s.uniform:null)&&(a.value=this.specularIntensity);var D,B,F=this.model;t:do{var q;for(D=sc.ALL,q=F.stages.values.iterator();q.hasNext();){var U=q.next();if(0!=(U.stage.mask&D.mask)){var V,W,G=U.nodes;e:do{var H;for(H=G.iterator();H.hasNext();){var X=H.next();if(Dt(X.name,"uAlbedo")&&e.isType(X,Fu)){W=X;break e}}W=null}while(0);var K=null==(V=W)||e.isType(V,Fu)?V:_();if(null!=K){B=K;break t}}}B=null}while(0);this.uAlbedo_22y7sc$_0=B,null!=(u=null!=(p=null!=(l=this.uAlbedo_22y7sc$_0)?l.uniform:null)?p.value:null)&&u.set_czzhhz$(this.albedo);var Y,Z,J=this.model;t:do{var Q;for(Y=sc.ALL,Q=J.stages.values.iterator();Q.hasNext();){var tt=Q.next();if(0!=(tt.stage.mask&Y.mask)){var et,nt,it=tt.nodes;e:do{var ot;for(ot=it.iterator();ot.hasNext();){var rt=ot.next();if(Dt(rt.name,"tAlbedo")&&e.isType(rt,ju)){nt=rt;break e}}nt=null}while(0);var st=null==(et=nt)||e.isType(et,ju)?et:_();if(null!=st){Z=st;break t}}}Z=null}while(0);this.albedoSampler_ax7q7p$_0=null!=(c=Z)?c.sampler:null,null!=(h=this.albedoSampler_ax7q7p$_0)&&(h.texture=this.albedoMap);var at,lt,pt=this.model;t:do{var ut;for(at=sc.ALL,ut=pt.stages.values.iterator();ut.hasNext();){var ct=ut.next();if(0!=(ct.stage.mask&at.mask)){var _t,ht,dt=ct.nodes;e:do{var ft;for(ft=dt.iterator();ft.hasNext();){var mt=ft.next();if(Dt(mt.name,"tNormal")&&e.isType(mt,ju)){ht=mt;break e}}ht=null}while(0);var yt=null==(_t=ht)||e.isType(_t,ju)?_t:_();if(null!=yt){lt=yt;break t}}}lt=null}while(0);if(this.normalSampler_p8s3lz$_0=null!=(d=lt)?d.sampler:null,null!=(f=this.normalSampler_p8s3lz$_0)&&(f.texture=this.normalMap),this.isReceivingShadow_qjucrg$_0){m=this.depthSamplers_7dh80k$_0;for(var $t=0;$t!==m.length;++$t){var bt,gt,vt,xt=this.model,wt="depthMap_"+$t;t:do{var zt;for(gt=sc.ALL,zt=xt.stages.values.iterator();zt.hasNext();){var Ct=zt.next();if(0!=(Ct.stage.mask&gt.mask)){var St,kt,Lt=Ct.nodes;e:do{var jt;for(jt=Lt.iterator();jt.hasNext();){var Nt=jt.next();if(Dt(Nt.name,wt)&&e.isType(Nt,ju)){kt=Nt;break e}}kt=null}while(0);var Pt=null==(St=kt)||e.isType(St,ju)?St:_();if(null!=Pt){vt=Pt;break t}}}vt=null}while(0);var Tt=null!=(bt=vt)?bt.sampler:null;this.depthSamplers_7dh80k$_0[$t]=Tt,this.shadowMaps_9721q5$_0[$t].setupSampler_wl9pml$(Tt)}}zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},Dc.prototype.defaultPhongModel_m663ta$=function(t){var n,i,o,r,s,a=new tu("defaultPhongModel()"),l={v:null},p={v:null},u={v:null},c={v:null},_={v:null},h={v:null},d=E(),f=new nu(a);if(h.v=f.mvpNode(),t.isInstanced?(r=f.multiplyNode_ze33is$(h.v.outModelMat,f.instanceAttrModelMat().output).output,s=f.multiplyNode_ze33is$(h.v.outMvpMat,f.instanceAttrModelMat().output).output):(r=h.v.outModelMat,s=h.v.outMvpMat),n=t.albedoSource===bc()?f.stageInterfaceNode_iikjwn$("ifColors",f.attrColors().output):null,p.v=n,i=t.requiresTexCoords()?f.stageInterfaceNode_iikjwn$("ifTexCoords",f.attrTexCoords().output):null,u.v=i,t.isNormalMapped){var m=f.attrTangents().output,y=f.vec3TransformNode_vid4wo$(f.splitNode_500t7j$(m,"xyz").output,r,0),$=f.combineXyzWNode_ze33is$(y.outVec3,f.splitNode_500t7j$(m,"w").output);o=f.stageInterfaceNode_iikjwn$("ifTangents",$.output)}else o=null;c.v=o;var b=f.vec3TransformNode_vid4wo$(f.attrNormals().output,r,0);l.v=f.stageInterfaceNode_iikjwn$("ifNormals",b.outVec3);var g=f.vec3TransformNode_vid4wo$(f.attrPositions().output,r,1).outVec3;_.v=f.stageInterfaceNode_iikjwn$("ifFragPos",g);var v,x,z=f.vec4TransformNode_9krp9t$(g,h.v.outViewMat).outVec4,C=0;for(v=t.shadowMaps.iterator();v.hasNext();){var S=v.next(),k=et((C=(x=C)+1|0,x));if(e.isType(S,gS)){var L=f.cascadedShadowMapNode_zw58l$(S,"depthMap_"+k,z,g);d.add_11rb$(L)}else if(e.isType(S,$S)){var j=f.simpleShadowMapNode_7yd351$(S,"depthMap_"+k,g);d.add_11rb$(j)}}f.positionOutput=f.vec4TransformNode_9krp9t$(f.attrPositions().output,s).outVec4;var N,P,T=new iu(a),O=h.v.addToStage_llmhyc$(a.fragmentStageGraph),M=T.multiLightNode_d76fwk$(_.v.output,t.maxLights);for(P=d.iterator();P.hasNext();){var R=P.next();M.inShadowFacs[R.lightIndex]=R.outShadowFac}switch(t.albedoSource.name){case"VERTEX_ALBEDO":N=w(p.v).output;break;case"STATIC_ALBEDO":N=T.pushConstantNodeColor_61zpoe$("uAlbedo").output;break;case"TEXTURE_ALBEDO":N=T.texture2dSamplerNode_fzevit$(T.texture2dNode_61zpoe$("tAlbedo"),w(u.v).output,!1).outColor;break;case"CUBE_MAP_ALBEDO":throw xt("CUBE_MAP_ALBEDO is not allowed for PbrShader");default:N=e.noWhenBranchMatched()}var I=N,A=t.isNormalMapped&&null!=c.v?T.normalMapNode_pp0pk4$(T.texture2dNode_61zpoe$("tNormal"),w(u.v).output,l.v.output,c.v.output).outNormal:l.v.output,D=T.phongMaterialNode_4h00d0$(I,A,_.v.output,O.outCamPos);D.lightBacksides=t.lightBacksides,D.inShininess=T.pushConstantNode1f_61zpoe$("uShininess").output,D.inSpecularIntensity=T.pushConstantNode1f_61zpoe$("uSpecularIntensity").output;var B=D;return T.colorOutput_a3v4si$(B.outColor),a},Dc.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Bc=null;function Fc(){return null===Bc&&new Dc,Bc}function qc(){this.albedoSource=bc(),this.isNormalMapped=!1,this.albedo=O$().GRAY,this.shininess=20,this.specularIntensity=1,this.maxLights=4,this.shadowMaps=E(),this.lightBacksides=!1,this.cullMethod=Nl(),this.alphaMode=new xc,this.isInstanced=!1,this.albedoMap=null,this.normalMap=null}function Uc(t,n){o_(),void 0===n&&(n=o_().defaultUnlitModel_ws3dmo$(t)),zc.call(this,n),this.cullMethod_ci460b$_0=t.cullMethod,this.isBlending_6tbhot$_0=e.isType(t.alphaMode,vc),this.lineWidth_id5bbu$_0=t.lineWidth,this.uColor_cc6m7u$_0=null,this.color_l79ks7$_0=t.color,this.colorSampler_he8fz1$_0=null,this.colorMap_h0jju9$_0=t.colorMap,this.colorCubeSampler_b56oeg$_0=null,this.colorCubeMap_moycys$_0=t.colorCubeMap}function Vc(){i_=this}qc.prototype.useAlbedoMap_61zpoe$=function(t){this.useAlbedoMap_9cjgzv$(N_(t))},qc.prototype.useAlbedoMap_9cjgzv$=function(t){this.albedoMap=t,this.albedoSource=$c()},qc.prototype.useNormalMap_61zpoe$=function(t){this.useNormalMap_9cjgzv$(N_(t))},qc.prototype.useNormalMap_9cjgzv$=function(t){this.normalMap=t,this.isNormalMapped=!0},qc.prototype.requiresTexCoords=function(){return this.albedoSource===$c()||this.isNormalMapped},qc.$metadata$={kind:$,simpleName:"PhongConfig",interfaces:[]},Ac.$metadata$={kind:$,simpleName:"PhongShader",interfaces:[zc]},Object.defineProperty(Uc.prototype,"color",{configurable:!0,get:function(){return this.color_l79ks7$_0},set:function(t){var e,n,i;this.color_l79ks7$_0=t,null!=(i=null!=(n=null!=(e=this.uColor_cc6m7u$_0)?e.uniform:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(Uc.prototype,"colorMap",{configurable:!0,get:function(){return this.colorMap_h0jju9$_0},set:function(t){var e;this.colorMap_h0jju9$_0=t,null!=(e=this.colorSampler_he8fz1$_0)&&(e.texture=t)}}),Object.defineProperty(Uc.prototype,"colorCubeMap",{configurable:!0,get:function(){return this.colorCubeMap_moycys$_0},set:function(t){var e;this.colorCubeMap_moycys$_0=t,null!=(e=this.colorCubeSampler_b56oeg$_0)&&(e.texture=t)}}),Uc.prototype.onPipelineSetup_x08qbx$=function(t,e,n){t.cullMethod=this.cullMethod_ci460b$_0,t.blendMode=this.isBlending_6tbhot$_0?fl():_l(),t.lineWidth=this.lineWidth_id5bbu$_0,zc.prototype.onPipelineSetup_x08qbx$.call(this,t,e,n)},Uc.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l,p,u,c=this.model;t:do{var h;for(p=sc.ALL,h=c.stages.values.iterator();h.hasNext();){var d=h.next();if(0!=(d.stage.mask&p.mask)){var f,m,y=d.nodes;e:do{var $;for($=y.iterator();$.hasNext();){var b=$.next();if(Dt(b.name,"uColor")&&e.isType(b,Fu)){m=b;break e}}m=null}while(0);var g=null==(f=m)||e.isType(f,Fu)?f:_();if(null!=g){u=g;break t}}}u=null}while(0);this.uColor_cc6m7u$_0=u,null!=(s=null!=(r=null!=(o=this.uColor_cc6m7u$_0)?o.uniform:null)?r.value:null)&&s.set_czzhhz$(this.color);var v,x,w=this.model;t:do{var z;for(v=sc.ALL,z=w.stages.values.iterator();z.hasNext();){var C=z.next();if(0!=(C.stage.mask&v.mask)){var S,k,L=C.nodes;e:do{var j;for(j=L.iterator();j.hasNext();){var N=j.next();if(Dt(N.name,"tColor")&&e.isType(N,ju)){k=N;break e}}k=null}while(0);var P=null==(S=k)||e.isType(S,ju)?S:_();if(null!=P){x=P;break t}}}x=null}while(0);this.colorSampler_he8fz1$_0=null!=(a=x)?a.sampler:null,null!=(l=this.colorSampler_he8fz1$_0)&&(l.texture=this.colorMap),zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},Vc.prototype.defaultUnlitModel_ws3dmo$=function(t){var n,i,o,r,s,a=new tu("defaultPbrModel()"),l={v:null},p={v:null},c={v:null},_=new nu(a),h=_.mvpNode();if(t.isInstanced?(r=_.multiplyNode_ze33is$(h.outModelMat,_.instanceAttrModelMat().output).output,s=_.multiplyNode_ze33is$(h.outMvpMat,_.instanceAttrModelMat().output).output):(r=h.outModelMat,s=h.outMvpMat),t.isSkinned){var d=_.skinTransformNode_78eraa$(_.attrJoints().output,_.attrWeights().output,t.maxJoints);r=_.multiplyNode_ze33is$(r,d.outJointMat).output,s=_.multiplyNode_ze33is$(s,d.outJointMat).output}n=t.requiresTexCoords()?_.stageInterfaceNode_iikjwn$("ifTexCoords",_.attrTexCoords().output):null,p.v=n,i=t.colorSource===bc()?_.stageInterfaceNode_iikjwn$("ifColors",_.attrColors().output):null,l.v=i;var f,m,y=t.morphAttributes.isEmpty()?null:_.morphWeightsNode_za3lpa$(t.morphAttributes.size),$={v:_.attrPositions().output},b=t.morphAttributes,g=E();for(f=b.iterator();f.hasNext();){var v=f.next();u(v.name,hs().POSITIONS.name)&&g.add_11rb$(v)}for(m=g.iterator();m.hasNext();){var x=m.next(),z=_.getMorphWeightNode_dcktnw$(t.morphAttributes.indexOf_11rb$(x),w(y)),C=_.multiplyNode_ze33is$(_.attributeNode_nm2vx5$(x).output,z.outWeight);$.v=_.addNode_ze33is$($.v,C.output).output}if(t.colorSource===mc()){var S=_.vec3TransformNode_vid4wo$($.v,r,1).outVec3;o=_.stageInterfaceNode_iikjwn$("ifFragPos",S)}else o=null;c.v=o,_.positionOutput=_.vec4TransformNode_9krp9t$($.v,s).outVec4;var k,L,j,N=new iu(a);switch(t.colorSource.name){case"VERTEX_ALBEDO":k=w(l.v).output;break;case"STATIC_ALBEDO":k=N.pushConstantNodeColor_61zpoe$("uColor").output;break;case"TEXTURE_ALBEDO":var P=N.texture2dSamplerNode_fzevit$(N.texture2dNode_61zpoe$("tColor"),w(p.v).output);if(t.isMultiplyColorMap){var T=N.pushConstantNodeColor_61zpoe$("uColor").output;k=N.multiplyNode_ze33is$(P.outColor,T).output}else k=P.outColor;break;case"CUBE_MAP_ALBEDO":var O=N.textureCubeSamplerNode_ub8j0u$(N.textureCubeNode_61zpoe$("tCubeColor"),w(c.v).output);if(t.isMultiplyColorMap){var M=N.pushConstantNodeColor_61zpoe$("uColor").output;k=N.multiplyNode_ze33is$(O.outColor,M).output}else k=O.outColor;break;default:k=e.noWhenBranchMatched()}var R={v:k};return null!=(j=e.isType(L=t.alphaMode,wc)?L:null)&&N.discardAlpha_ze33is$(N.splitNode_500t7j$(R.v,"a").output,N.constFloat_mx4ult$(j.cutOff)),e.isType(t.alphaMode,vc)||(R.v=N.combineXyzWNode_ze33is$(R.v,N.constFloat_mx4ult$(1)).output),N.colorOutput_a3v4si$(N.unlitMaterialNode_r20yfm$(R.v).outColor),a},Vc.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Wc,Gc,Hc,Xc,Kc,Yc,Zc,Jc,Qc,t_,e_,n_,i_=null;function o_(){return null===i_&&new Vc,i_}function r_(){this.colorSource=bc(),this.isMultiplyColorMap=!1,this.isInstanced=!1,this.isSkinned=!1,this.maxJoints=64,this.morphAttributes=E(),this.cullMethod=Nl(),this.alphaMode=new xc,this.lineWidth=1,this.color=O$().GRAY,this.colorMap=null,this.colorCubeMap=null}function s_(t){var e;this.elements_0=E(),this.size=0;var n=0;for(e=t.iterator();e.hasNext();){var i=e.next(),o=new a_(i,n);this.elements_0.add_11rb$(o),n=n+(i.size+o.padding)|0}this.size=n}function a_(t,n){var i;switch(this.uniform=t,this.offset=0,this.padding=0,this.uniform.typeSize){case 4:i=4;break;case 8:i=8;break;default:i=16}var o=i;this.offset=e.imul((n+o-1|0)/o|0,o),this.padding=this.offset-n|0}function l_(t,e,n,i){P.call(this),this.channels=n,this.hasAlpha=i,this.name$=t,this.ordinal$=e}function p_(){p_=function(){},Wc=new l_("R",0,1,!1),Gc=new l_("RG",1,2,!1),Hc=new l_("RGB",2,3,!1),Xc=new l_("RGBA",3,4,!0),Kc=new l_("R_F16",4,1,!1),Yc=new l_("RG_F16",5,2,!1),Zc=new l_("RGB_F16",6,3,!1),Jc=new l_("RGBA_F16",7,4,!0)}function u_(){return p_(),Wc}function c_(){return p_(),Gc}function __(){return p_(),Hc}function h_(){return p_(),Xc}function d_(){return p_(),Kc}function f_(){return p_(),Yc}function m_(){return p_(),Zc}function y_(){return p_(),Jc}function $_(t,e,n){k_(),this.props=t,this.name=e,this.loader=n,this.loadedTexture=null,this.loadingState=v_()}function b_(t,e){P.call(this),this.name$=t,this.ordinal$=e}function g_(){g_=function(){},Qc=new b_("NOT_LOADED",0),t_=new b_("LOADING",1),e_=new b_("LOADED",2),n_=new b_("LOADING_FAILED",3)}function v_(){return g_(),Qc}function x_(){return g_(),t_}function w_(){return g_(),e_}function z_(){return g_(),n_}function C_(){S_=this}Uc.$metadata$={kind:$,simpleName:"UnlitShader",interfaces:[zc]},r_.prototype.useStaticColor_d7aj7k$=function(t){this.colorSource=yc(),this.color=t},r_.prototype.useColorMap_ivxn3r$=function(t,e){void 0===e&&(e=!1),this.useColorMap_vzjalu$(N_(t),e)},r_.prototype.useColorMap_vzjalu$=function(t,e){void 0===e&&(e=!1),this.colorMap=t,this.isMultiplyColorMap=e,this.colorSource=$c()},r_.prototype.useColorCubeMap_z6ghij$=function(t,e){void 0===e&&(e=!1),this.colorCubeMap=t,this.isMultiplyColorMap=e,this.colorSource=mc()},r_.prototype.requiresTexCoords=function(){return this.colorSource===$c()},r_.$metadata$={kind:$,simpleName:"UnlitMaterialConfig",interfaces:[]},s_.prototype.putTo_l6oshk$=function(t){var e;e=this.elements_0;for(var n=0;n!==e.size;++n)this.elements_0.get_za3lpa$(n).putTo_l6oshk$(t)},a_.prototype.putTo_l6oshk$=function(t){var e;e=this.padding;for(var n=0;n<e;n++)t.putUint8_s8j3t7$(0);this.uniform.putTo_l6oshk$(t)},a_.$metadata$={kind:$,simpleName:"Element",interfaces:[]},s_.$metadata$={kind:$,simpleName:"Std140Layout",interfaces:[]},l_.$metadata$={kind:$,simpleName:"TexFormat",interfaces:[P]},l_.values=function(){return[u_(),c_(),__(),h_(),d_(),f_(),m_(),y_()]},l_.valueOf_61zpoe$=function(t){switch(t){case"R":return u_();case"RG":return c_();case"RGB":return __();case"RGBA":return h_();case"R_F16":return d_();case"RG_F16":return f_();case"RGB_F16":return m_();case"RGBA_F16":return y_();default:T("No enum constant de.fabmax.kool.pipeline.TexFormat."+t)}},$_.prototype.dispose=function(){var t;null!=(t=this.loadedTexture)&&t.dispose(),this.loadedTexture=null,this.loadingState=v_()},$_.prototype.toString=function(){return"Texture"+this.type+"(name: "+Lt(this.name)+")"},b_.$metadata$={kind:$,simpleName:"LoadingState",interfaces:[P]},b_.values=function(){return[v_(),x_(),w_(),z_()]},b_.valueOf_61zpoe$=function(t){switch(t){case"NOT_LOADED":return v_();case"LOADING":return x_();case"LOADED":return w_();case"LOADING_FAILED":return z_();default:T("No enum constant de.fabmax.kool.pipeline.Texture.LoadingState."+t)}},C_.prototype.estimatedTexSize_4qozqa$=function(t,n,i,o,r){for(var s=1,a=.25,l=2;l<=o;l++)s+=a,a*=.25;return Bt(e.imul(e.imul(e.imul(t,n),i),r)*s)},C_.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var S_=null;function k_(){return null===S_&&new C_,S_}function L_(t,e,n){void 0===t&&(t=new G_),void 0===e&&(e=null),void 0===n&&(n=null),$_.call(this,t,e,n),this.type_e3yczn$_0="1D"}function j_(t,e,n){void 0===t&&(t=new G_),void 0===e&&(e=null),void 0===n&&(n=null),$_.call(this,t,e,n),this.type_epo42k$_0="2D"}function N_(t,e,n,i){var o,r;return void 0===e&&(e=null),void 0===n&&(n=new G_),i=i||Object.create(j_.prototype),j_.call(i,n,e,(o=t,r=n,function(t,e,n,i){var s=new P_(o,r,t,e,this,n);return i?s:s.doResume(null)})),i}function P_(t,e,n,i,o,r){p.call(this,r),this.$controller=o,this.exceptionState_0=1,this.local$closure$assetPath=t,this.local$closure$props=e,this.local$it=i}function T_(t,e,n){void 0===t&&(t=new G_),void 0===e&&(e=null),void 0===n&&(n=null),$_.call(this,t,e,n),this.type_rhtgud$_0="3D"}function O_(t,e,n){void 0===t&&(t=new G_),void 0===e&&(e=null),void 0===n&&(n=null),$_.call(this,t,e,n),this.type_qg0qm9$_0="Cube"}function E_(t){var e;q_(),j_.call(this,new G_(void 0,void 0,void 0,void 0,K_(),K_(),!1,1),t.toString(),(e=t,function(t,n,i,o){var r=new U_(e,t,n,this,i);return o?r:r.doResume(null)})),this.type_yd4wgl$_0="SingleColor"}function M_(){F_=this,this.colorData_0=C()}$_.$metadata$={kind:$,simpleName:"Texture",interfaces:[]},Object.defineProperty(L_.prototype,"type",{configurable:!0,get:function(){return this.type_e3yczn$_0}}),L_.$metadata$={kind:$,simpleName:"Texture1d",interfaces:[$_]},Object.defineProperty(j_.prototype,"type",{configurable:!0,get:function(){return this.type_epo42k$_0}}),j_.$metadata$={kind:$,simpleName:"Texture2d",interfaces:[$_]},P_.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},P_.prototype=Object.create(p.prototype),P_.prototype.constructor=P_,P_.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$closure$assetPath,this.local$closure$props.format,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Object.defineProperty(T_.prototype,"type",{configurable:!0,get:function(){return this.type_rhtgud$_0}}),T_.$metadata$={kind:$,simpleName:"Texture3d",interfaces:[$_]},Object.defineProperty(O_.prototype,"type",{configurable:!0,get:function(){return this.type_qg0qm9$_0}}),O_.$metadata$={kind:$,simpleName:"TextureCube",interfaces:[$_]},Object.defineProperty(E_.prototype,"type",{configurable:!0,get:function(){return this.type_yd4wgl$_0}}),M_.prototype.getColorTextureData_0=function(t){var e,n=this.colorData_0,i=n.get_11rb$(t);if(null==i){var o=fh().singleColor_d7aj7k$(t);n.put_xwzc9p$(t,o),e=o}else e=i;return e},M_.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var R_,I_,A_,D_,B_,F_=null;function q_(){return null===F_&&new M_,F_}function U_(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$color=t}function V_(t,e){var n,i;void 0===e&&(e=256),L_.call(this,new G_(void 0,Q_(),Q_(),void 0,Y_(),Y_(),!1,1),"gradientTex-"+e,(n=t,i=e,function(t,e,o,r){var s=new W_(n,i,t,e,this,o);return r?s:s.doResume(null)})),this.type_h4ikwq$_0="Gradient"}function W_(t,e,n,i,o,r){p.call(this,r),this.$controller=o,this.exceptionState_0=1,this.local$closure$gradient=t,this.local$closure$size=e}function G_(t,e,n,i,o,r,s,a){void 0===t&&(t=h_()),void 0===e&&(e=eh()),void 0===n&&(n=eh()),void 0===i&&(i=eh()),void 0===o&&(o=Y_()),void 0===r&&(r=Y_()),void 0===s&&(s=!0),void 0===a&&(a=4),this.format=t,this.addressModeU=e,this.addressModeV=n,this.addressModeW=i,this.minFilter=o,this.magFilter=r,this.mipMapping=s,this.maxAnisotropy=a}function H_(t,e){P.call(this),this.name$=t,this.ordinal$=e}function X_(){X_=function(){},R_=new H_("NEAREST",0),I_=new H_("LINEAR",1)}function K_(){return X_(),R_}function Y_(){return X_(),I_}function Z_(t,e){P.call(this),this.name$=t,this.ordinal$=e}function J_(){J_=function(){},A_=new Z_("CLAMP_TO_EDGE",0),D_=new Z_("MIRRORED_REPEAT",1),B_=new Z_("REPEAT",2)}function Q_(){return J_(),A_}function th(){return J_(),D_}function eh(){return J_(),B_}function nh(){this.width_g2mups$_0=0,this.height_9y5xsp$_0=0,this.depth_p4h6ql$_0=0,this.format_yfgg89$_0=h_()}function ih(t,e,n){sh(),nh.call(this),this.data_8b7fmx$_0=t,this.width=e,this.height=1,this.depth=1,this.format=n}function oh(){rh=this}U_.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},U_.prototype=Object.create(p.prototype),U_.prototype.constructor=U_,U_.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:return q_().getColorTextureData_0(this.local$closure$color);case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},E_.$metadata$={kind:$,simpleName:"SingleColorTexture",interfaces:[j_]},Object.defineProperty(V_.prototype,"type",{configurable:!0,get:function(){return this.type_h4ikwq$_0}}),W_.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},W_.prototype=Object.create(p.prototype),W_.prototype.constructor=W_,W_.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:return sh().gradient_mjek1u$(this.local$closure$gradient,this.local$closure$size);case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},V_.$metadata$={kind:$,simpleName:"GradientTexture",interfaces:[L_]},G_.$metadata$={kind:$,simpleName:"TextureProps",interfaces:[]},G_.prototype.component1=function(){return this.format},G_.prototype.component2=function(){return this.addressModeU},G_.prototype.component3=function(){return this.addressModeV},G_.prototype.component4=function(){return this.addressModeW},G_.prototype.component5=function(){return this.minFilter},G_.prototype.component6=function(){return this.magFilter},G_.prototype.component7=function(){return this.mipMapping},G_.prototype.component8=function(){return this.maxAnisotropy},G_.prototype.copy_1w7iuy$=function(t,e,n,i,o,r,s,a){return new G_(void 0===t?this.format:t,void 0===e?this.addressModeU:e,void 0===n?this.addressModeV:n,void 0===i?this.addressModeW:i,void 0===o?this.minFilter:o,void 0===r?this.magFilter:r,void 0===s?this.mipMapping:s,void 0===a?this.maxAnisotropy:a)},G_.prototype.toString=function(){return"TextureProps(format="+e.toString(this.format)+", addressModeU="+e.toString(this.addressModeU)+", addressModeV="+e.toString(this.addressModeV)+", addressModeW="+e.toString(this.addressModeW)+", minFilter="+e.toString(this.minFilter)+", magFilter="+e.toString(this.magFilter)+", mipMapping="+e.toString(this.mipMapping)+", maxAnisotropy="+e.toString(this.maxAnisotropy)+")"},G_.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.format)|0)+e.hashCode(this.addressModeU)|0)+e.hashCode(this.addressModeV)|0)+e.hashCode(this.addressModeW)|0)+e.hashCode(this.minFilter)|0)+e.hashCode(this.magFilter)|0)+e.hashCode(this.mipMapping)|0)+e.hashCode(this.maxAnisotropy)|0},G_.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.format,t.format)&&e.equals(this.addressModeU,t.addressModeU)&&e.equals(this.addressModeV,t.addressModeV)&&e.equals(this.addressModeW,t.addressModeW)&&e.equals(this.minFilter,t.minFilter)&&e.equals(this.magFilter,t.magFilter)&&e.equals(this.mipMapping,t.mipMapping)&&e.equals(this.maxAnisotropy,t.maxAnisotropy)},H_.$metadata$={kind:$,simpleName:"FilterMethod",interfaces:[P]},H_.values=function(){return[K_(),Y_()]},H_.valueOf_61zpoe$=function(t){switch(t){case"NEAREST":return K_();case"LINEAR":return Y_();default:T("No enum constant de.fabmax.kool.pipeline.FilterMethod."+t)}},Z_.$metadata$={kind:$,simpleName:"AddressMode",interfaces:[P]},Z_.values=function(){return[Q_(),th(),eh()]},Z_.valueOf_61zpoe$=function(t){switch(t){case"CLAMP_TO_EDGE":return Q_();case"MIRRORED_REPEAT":return th();case"REPEAT":return eh();default:T("No enum constant de.fabmax.kool.pipeline.AddressMode."+t)}},Object.defineProperty(nh.prototype,"width",{configurable:!0,get:function(){return this.width_g2mups$_0},set:function(t){this.width_g2mups$_0=t}}),Object.defineProperty(nh.prototype,"height",{configurable:!0,get:function(){return this.height_9y5xsp$_0},set:function(t){this.height_9y5xsp$_0=t}}),Object.defineProperty(nh.prototype,"depth",{configurable:!0,get:function(){return this.depth_p4h6ql$_0},set:function(t){this.depth_p4h6ql$_0=t}}),Object.defineProperty(nh.prototype,"format",{configurable:!0,get:function(){return this.format_yfgg89$_0},set:function(t){this.format_yfgg89$_0=t}}),nh.$metadata$={kind:$,simpleName:"TextureData",interfaces:[]},Object.defineProperty(ih.prototype,"data",{get:function(){return this.data_8b7fmx$_0}}),oh.prototype.gradient_mjek1u$=function(t,e){for(var n=Nj(4*e|0),i=M$(),o=0;o<e;o++)t.getColorInterpolated_vsomir$(o/(e-1),i),n.set_6t1wet$(0+(4*o|0)|0,Ft(Bt(255*i.r))),n.set_6t1wet$(1+(4*o|0)|0,Ft(Bt(255*i.g))),n.set_6t1wet$(2+(4*o|0)|0,Ft(Bt(255*i.b))),n.set_6t1wet$(3+(4*o|0)|0,Ft(Bt(255*i.a)));return new ih(n,e,h_())},oh.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var rh=null;function sh(){return null===rh&&new oh,rh}function ah(t,e,n,i){fh(),nh.call(this),this.data_kif1fa$_0=t,this.width=e,this.height=n,this.depth=1,this.format=i}function lh(){dh=this}ih.$metadata$={kind:$,simpleName:"TextureData1d",interfaces:[nh]},Object.defineProperty(ah.prototype,"data",{get:function(){return this.data_kif1fa$_0}}),lh.prototype.singleColor_d7aj7k$=function(t){var e=Nj(4);return e.set_6t1wet$(0,Ft(Bt(255*t.r))),e.set_6t1wet$(1,Ft(Bt(255*t.g))),e.set_6t1wet$(2,Ft(Bt(255*t.b))),e.set_6t1wet$(3,Ft(Bt(255*t.a))),new ah(e,1,1,h_())},lh.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var ph,uh,ch,_h,hh,dh=null;function fh(){return null===dh&&new lh,dh}function mh(t,e,n,i,o){nh.call(this),this.data_lp2jhn$_0=t,this.width=e,this.height=n,this.depth=i,this.format=o}function yh(t,e,n,i,o,r){nh.call(this),this.front=t,this.back=e,this.left=n,this.right=i,this.up=o,this.down=r,this.width=this.front.width,this.height=this.front.height,this.depth=1,this.format=this.front.format}function $h(t,e){this.value=t,this.name=e,this.length_pgm1d5$_0=1}function bh(t){$h.call(this,0,t),this.size_i0aw35$_0=4}function gh(t,e,n){return n=n||Object.create(bh.prototype),bh.call(n,e),n.value=t,n}function vh(t){$h.call(this,co(),t),this.size_o76ots$_0=8}function xh(t){$h.call(this,Mo(),t),this.size_4mfs8f$_0=16}function wh(t){$h.call(this,or(),t),this.size_xg29am$_0=16}function zh(t){$h.call(this,M$(),t),this.size_tg5r8j$_0=16}function Ch(t,e){$h.call(this,new Float32Array(e),t),this.length_4yln86$_0=e,this.size_jukhwb$_0=16*this.length|0,this.typeSize_inwio1$_0=4}function Sh(t,e){var n,i=I(e);n=i.length-1|0;for(var o=0;o<=n;o++)i[o]=co();$h.call(this,i,t),this.length_or99bd$_0=e,this.size_a1jiw4$_0=16*this.length|0}function kh(t,e){var n,i=I(e);n=i.length-1|0;for(var o=0;o<=n;o++)i[o]=Mo();$h.call(this,i,t),this.length_gjzw48$_0=e,this.size_v3gial$_0=16*this.length|0}function Lh(t,e){var n,i=I(e);n=i.length-1|0;for(var o=0;o<=n;o++)i[o]=or();$h.call(this,i,t),this.length_d5v0fb$_0=e,this.size_17chi6$_0=16*this.length|0}function jh(t){$h.call(this,new $i,t),this.size_aq1f2r$_0=36}function Nh(t){$h.call(this,new Ni,t),this.size_i3l1zg$_0=64}function Ph(t,e){var n,i=I(e);n=i.length-1|0;for(var o=0;o<=n;o++)i[o]=new Ni;$h.call(this,i,t),this.length_m05swr$_0=e,this.size_mobkps$_0=64*this.length|0}function Th(t){$h.call(this,0,t),this.size_8zmb7w$_0=4}function Oh(t,e,n){return n=n||Object.create(Th.prototype),Th.call(n,e),n.value=t,n}function Eh(t){$h.call(this,ko(),t),this.size_ju05ub$_0=8}function Mh(t){$h.call(this,Yo(),t),this.size_mdhf2m$_0=12}function Rh(t){$h.call(this,jr(),t),this.size_6g51zl$_0=16}function Ih(t,n){this.bindings=t,this.primitiveType=n,this.longHash=null;var i,o=this.primitiveType.hashCode();i=new St(e.Long.fromInt(o));var r,s={v:new St(new St(e.Long.fromInt(71023)).data.multiply(i.data))};for(r=this.bindings.iterator();r.hasNext();){var a=r.next(),l=s.v,p=new St(e.Long.fromInt(71023)),u=new St(l.data.multiply(p.data)),c=a.longHash;s.v=new St(u.data.add(c.data))}this.longHash=s.v}function Ah(t,n,i,o){if(void 0===o){var r,s=0;for(r=i.iterator();r.hasNext();)s=s+r.next().attribute.type.byteSize|0;o=s}this.binding=t,this.inputRate=n,this.vertexAttributes=i,this.strideBytes=o,this.longHash=null;var a=this.binding,l={v:new St(e.Long.fromInt(a))},p=l.v,u=new St(e.Long.fromInt(71023)),c=new St(p.data.multiply(u.data)),_=this.inputRate.hashCode(),h=new St(e.Long.fromInt(_));l.v=new St(c.data.add(h.data));var d,f=l.v,m=new St(e.Long.fromInt(71023)),y=new St(f.data.multiply(m.data)),$=this.strideBytes,b=new St(e.Long.fromInt($));for(l.v=new St(y.data.add(b.data)),d=this.vertexAttributes.iterator();d.hasNext();){var g=d.next(),v=l.v,x=new St(e.Long.fromInt(71023)),w=new St(v.data.multiply(x.data)),z=g.hashCode(),C=new St(e.Long.fromInt(z));l.v=new St(w.data.add(C.data))}this.longHash=l.v}function Dh(t,e,n){this.location=t,this.offset=e,this.attribute=n}function Bh(){this.primitiveType=iC(),this.bindings=E()}function Fh(t,e){P.call(this),this.name$=t,this.ordinal$=e}function qh(){qh=function(){},ph=new Fh("VERTEX",0),uh=new Fh("INSTANCE",1)}function Uh(){return qh(),ph}function Vh(){return qh(),uh}function Wh(t,e){return Dk(t,e)}function Gh(t){var e;void 0===t&&(t="camera"),Pd.call(this,t),this.position=new Eo(0,0,1),this.lookAt=Ro(Po().ZERO),this.up=Ro(Po().Y_AXIS),this.aspectRatio=1,this.useViewportAspectRatio=!0,this.globalRange_4hi0xu$_0=0,this.globalPosMut=Mo(),this.globalLookAtMut=Mo(),this.globalUpMut=Mo(),this.globalRightMut=Mo(),this.globalLookDirMut=Mo(),this.proj=new xi,this.view=new xi,this.lazyInvProj_tohv7i$_0=new Hh((e=this,function(t){return e.proj.invert_23yxad$(t),a})),this.lazyInvView_trmos6$_0=new Hh(function(t){return function(e){return t.view.invert_23yxad$(e),a}}(this)),this.lazyViewProj_dqyl7q$_0=new Hh(function(t){return function(e){return t.proj.mul_u47j3u$(t.view,e),a}}(this)),this.lazyInvViewProj_vy3fmv$_0=new Hh(function(t){return function(e){return t.viewProj.invert_23yxad$(e),a}}(this)),this.projCorrectionMode=Zh(),this.projCorrected_2lfajw$_0=new xi,this.tmpVec3_txabpe$_0=Mo(),this.tmpVec4_txabq9$_0=or()}function Hh(t){this.update=t,this.isDirty=!0,this.mat_0=new xi}function Xh(t,e){P.call(this),this.name$=t,this.ordinal$=e}function Kh(){Kh=function(){},ch=new Xh("NONE",0),_h=new Xh("ONSCREEN",1),hh=new Xh("OFFSCREEN",2)}function Yh(){return Kh(),ch}function Zh(){return Kh(),_h}function Jh(){return Kh(),hh}function Qh(t){void 0===t&&(t="orthographicCam"),Gh.call(this,t),this.left=-10,this.right=10,this.bottom=-10,this.top=10,this.near=-10,this.far=10,this.isClipToViewport=!1,this.isKeepAspectRatio=!0,this.tmpNodeCenter_dwzowq$_0=Mo()}function td(t){void 0===t&&(t="perspectiveCam"),Gh.call(this,t),this.clipNear=.1,this.clipFar=100,this.fovY=60,this.fovX_7k9npl$_0=0,this.sphereFacX_87yued$_0=1,this.sphereFacY_87yuf8$_0=1,this.tangX_ey6fwg$_0=1,this.tangY_ey6fvl$_0=1,this.tmpNodeCenter_hw7d0$_0=Mo()}function ed(t){td.call(this),this.master=t,this.useViewportAspectRatio=!1,this.projCorrectionMode=Jh()}function nd(){this.upperLeft=Mo(),this.upperRight=Mo(),this.lowerLeft=Mo(),this.lowerRight=Mo()}ah.$metadata$={kind:$,simpleName:"TextureData2d",interfaces:[nh]},Object.defineProperty(mh.prototype,"data",{get:function(){return this.data_lp2jhn$_0}}),mh.$metadata$={kind:$,simpleName:"TextureData3d",interfaces:[nh]},Object.defineProperty(yh.prototype,"data",{configurable:!0,get:function(){return this.front.data}}),yh.$metadata$={kind:$,simpleName:"TextureDataCube",interfaces:[nh]},Object.defineProperty($h.prototype,"typeSize",{configurable:!0,get:function(){return this.size}}),Object.defineProperty($h.prototype,"length",{configurable:!0,get:function(){return this.length_pgm1d5$_0}}),$h.prototype.toString=function(){return this.name},$h.$metadata$={kind:$,simpleName:"Uniform",interfaces:[]},Object.defineProperty(bh.prototype,"size",{configurable:!0,get:function(){return this.size_i0aw35$_0}}),bh.prototype.putTo_l6oshk$=function(t){t.putFloat32_mx4ult$(this.value)},bh.$metadata$={kind:$,simpleName:"Uniform1f",interfaces:[$h]},Object.defineProperty(vh.prototype,"size",{configurable:!0,get:function(){return this.size_o76ots$_0}}),vh.prototype.putTo_l6oshk$=function(t){t.putFloat32_q3cr5i$(this.value.array)},vh.$metadata$={kind:$,simpleName:"Uniform2f",interfaces:[$h]},Object.defineProperty(xh.prototype,"size",{configurable:!0,get:function(){return this.size_4mfs8f$_0}}),xh.prototype.putTo_l6oshk$=function(t){t.putFloat32_q3cr5i$(this.value.array),t.putUint32_za3lpa$(0)},xh.$metadata$={kind:$,simpleName:"Uniform3f",interfaces:[$h]},Object.defineProperty(wh.prototype,"size",{configurable:!0,get:function(){return this.size_xg29am$_0}}),wh.prototype.putTo_l6oshk$=function(t){t.putFloat32_q3cr5i$(this.value.array)},wh.$metadata$={kind:$,simpleName:"Uniform4f",interfaces:[$h]},Object.defineProperty(zh.prototype,"size",{configurable:!0,get:function(){return this.size_tg5r8j$_0}}),zh.prototype.putTo_l6oshk$=function(t){t.putFloat32_q3cr5i$(this.value.array)},zh.$metadata$={kind:$,simpleName:"UniformColor",interfaces:[$h]},Object.defineProperty(Ch.prototype,"length",{get:function(){return this.length_4yln86$_0}}),Object.defineProperty(Ch.prototype,"size",{configurable:!0,get:function(){return this.size_jukhwb$_0}}),Object.defineProperty(Ch.prototype,"typeSize",{configurable:!0,get:function(){return this.typeSize_inwio1$_0}}),Ch.prototype.putTo_l6oshk$=function(t){var e;e=this.length;for(var n=0;n<e;n++)t.putFloat32_mx4ult$(this.value[n]),t.putUint32_za3lpa$(0),t.putUint32_za3lpa$(0),t.putUint32_za3lpa$(0)},Ch.$metadata$={kind:$,simpleName:"Uniform1fv",interfaces:[$h]},Object.defineProperty(Sh.prototype,"length",{get:function(){return this.length_or99bd$_0}}),Object.defineProperty(Sh.prototype,"size",{configurable:!0,get:function(){return this.size_a1jiw4$_0}}),Sh.prototype.putTo_l6oshk$=function(t){var e;e=this.length;for(var n=0;n<e;n++)t.putFloat32_q3cr5i$(this.value[n].array),t.putUint32_za3lpa$(0),t.putUint32_za3lpa$(0)},Sh.$metadata$={kind:$,simpleName:"Uniform2fv",interfaces:[$h]},Object.defineProperty(kh.prototype,"length",{get:function(){return this.length_gjzw48$_0}}),Object.defineProperty(kh.prototype,"size",{configurable:!0,get:function(){return this.size_v3gial$_0}}),kh.prototype.putTo_l6oshk$=function(t){var e;e=this.length;for(var n=0;n<e;n++)t.putFloat32_q3cr5i$(this.value[n].array),t.putUint32_za3lpa$(0)},kh.$metadata$={kind:$,simpleName:"Uniform3fv",interfaces:[$h]},Object.defineProperty(Lh.prototype,"length",{get:function(){return this.length_d5v0fb$_0}}),Object.defineProperty(Lh.prototype,"size",{configurable:!0,get:function(){return this.size_17chi6$_0}}),Lh.prototype.putTo_l6oshk$=function(t){var e;e=this.length;for(var n=0;n<e;n++)t.putFloat32_q3cr5i$(this.value[n].array)},Lh.$metadata$={kind:$,simpleName:"Uniform4fv",interfaces:[$h]},Object.defineProperty(jh.prototype,"size",{configurable:!0,get:function(){return this.size_aq1f2r$_0}}),jh.prototype.putTo_l6oshk$=function(t){t.putFloat32_q3cr5i$(this.value.matrix)},jh.$metadata$={kind:$,simpleName:"UniformMat3f",interfaces:[$h]},Object.defineProperty(Nh.prototype,"size",{configurable:!0,get:function(){return this.size_i3l1zg$_0}}),Nh.prototype.putTo_l6oshk$=function(t){t.putFloat32_q3cr5i$(this.value.matrix)},Nh.$metadata$={kind:$,simpleName:"UniformMat4f",interfaces:[$h]},Object.defineProperty(Ph.prototype,"length",{get:function(){return this.length_m05swr$_0}}),Object.defineProperty(Ph.prototype,"size",{configurable:!0,get:function(){return this.size_mobkps$_0}}),Ph.prototype.putTo_l6oshk$=function(t){var e;e=this.length;for(var n=0;n<e;n++)t.putFloat32_q3cr5i$(this.value[n].matrix)},Ph.$metadata$={kind:$,simpleName:"UniformMat4fv",interfaces:[$h]},Object.defineProperty(Th.prototype,"size",{configurable:!0,get:function(){return this.size_8zmb7w$_0}}),Th.prototype.putTo_l6oshk$=function(t){t.putInt32_za3lpa$(this.value)},Th.$metadata$={kind:$,simpleName:"Uniform1i",interfaces:[$h]},Object.defineProperty(Eh.prototype,"size",{configurable:!0,get:function(){return this.size_ju05ub$_0}}),Eh.prototype.putTo_l6oshk$=function(t){t.putInt32_q5rwfd$(this.value.array)},Eh.$metadata$={kind:$,simpleName:"Uniform2i",interfaces:[$h]},Object.defineProperty(Mh.prototype,"size",{configurable:!0,get:function(){return this.size_mdhf2m$_0}}),Mh.prototype.putTo_l6oshk$=function(t){t.putInt32_q5rwfd$(this.value.array)},Mh.$metadata$={kind:$,simpleName:"Uniform3i",interfaces:[$h]},Object.defineProperty(Rh.prototype,"size",{configurable:!0,get:function(){return this.size_6g51zl$_0}}),Rh.prototype.putTo_l6oshk$=function(t){t.putInt32_q5rwfd$(this.value.array)},Rh.$metadata$={kind:$,simpleName:"Uniform4i",interfaces:[$h]},Ah.$metadata$={kind:$,simpleName:"Binding",interfaces:[]},Ah.prototype.component1=function(){return this.binding},Ah.prototype.component2=function(){return this.inputRate},Ah.prototype.component3=function(){return this.vertexAttributes},Ah.prototype.component4=function(){return this.strideBytes},Ah.prototype.copy_beujkh$=function(t,e,n,i){return new Ah(void 0===t?this.binding:t,void 0===e?this.inputRate:e,void 0===n?this.vertexAttributes:n,void 0===i?this.strideBytes:i)},Ah.prototype.toString=function(){return"Binding(binding="+e.toString(this.binding)+", inputRate="+e.toString(this.inputRate)+", vertexAttributes="+e.toString(this.vertexAttributes)+", strideBytes="+e.toString(this.strideBytes)+")"},Ah.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.binding)|0)+e.hashCode(this.inputRate)|0)+e.hashCode(this.vertexAttributes)|0)+e.hashCode(this.strideBytes)|0},Ah.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.binding,t.binding)&&e.equals(this.inputRate,t.inputRate)&&e.equals(this.vertexAttributes,t.vertexAttributes)&&e.equals(this.strideBytes,t.strideBytes)},Object.defineProperty(Dh.prototype,"name",{configurable:!0,get:function(){return this.attribute.name}}),Object.defineProperty(Dh.prototype,"type",{configurable:!0,get:function(){return this.attribute.type}}),Dh.$metadata$={kind:$,simpleName:"VertexAttribute",interfaces:[]},Dh.prototype.component1=function(){return this.location},Dh.prototype.component2=function(){return this.offset},Dh.prototype.component3=function(){return this.attribute},Dh.prototype.copy_767q6x$=function(t,e,n){return new Dh(void 0===t?this.location:t,void 0===e?this.offset:e,void 0===n?this.attribute:n)},Dh.prototype.toString=function(){return"VertexAttribute(location="+e.toString(this.location)+", offset="+e.toString(this.offset)+", attribute="+e.toString(this.attribute)+")"},Dh.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*t+e.hashCode(this.location)|0)+e.hashCode(this.offset)|0)+e.hashCode(this.attribute)|0},Dh.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.location,t.location)&&e.equals(this.offset,t.offset)&&e.equals(this.attribute,t.attribute)},Bh.prototype.create=function(){return new Ih(L$(this.bindings),this.primitiveType)},Bh.$metadata$={kind:$,simpleName:"Builder",interfaces:[]},Ih.$metadata$={kind:$,simpleName:"VertexLayout",interfaces:[]},Fh.$metadata$={kind:$,simpleName:"InputRate",interfaces:[P]},Fh.values=function(){return[Uh(),Vh()]},Fh.valueOf_61zpoe$=function(t){switch(t){case"VERTEX":return Uh();case"INSTANCE":return Vh();default:T("No enum constant de.fabmax.kool.pipeline.InputRate."+t)}},Object.defineProperty(Gh.prototype,"globalPos",{configurable:!0,get:function(){return this.globalPosMut}}),Object.defineProperty(Gh.prototype,"globalLookAt",{configurable:!0,get:function(){return this.globalLookAtMut}}),Object.defineProperty(Gh.prototype,"globalUp",{configurable:!0,get:function(){return this.globalUpMut}}),Object.defineProperty(Gh.prototype,"globalRight",{configurable:!0,get:function(){return this.globalRightMut}}),Object.defineProperty(Gh.prototype,"globalLookDir",{configurable:!0,get:function(){return this.globalLookDirMut}}),Object.defineProperty(Gh.prototype,"globalRange",{configurable:!0,get:function(){return this.globalRange_4hi0xu$_0},set:function(t){this.globalRange_4hi0xu$_0=t}}),Object.defineProperty(Gh.prototype,"invProj",{configurable:!0,get:function(){return this.lazyInvProj_tohv7i$_0.get()}}),Object.defineProperty(Gh.prototype,"invView",{configurable:!0,get:function(){return this.lazyInvView_trmos6$_0.get()}}),Object.defineProperty(Gh.prototype,"viewProj",{configurable:!0,get:function(){return this.lazyViewProj_dqyl7q$_0.get()}}),Object.defineProperty(Gh.prototype,"invViewProj",{configurable:!0,get:function(){return this.lazyInvViewProj_vy3fmv$_0.get()}}),Gh.prototype.updateCamera_fd1mc0$=function(t,e){this.useViewportAspectRatio&&(this.aspectRatio=e.aspectRatio),this.updateViewMatrix(),this.updateProjectionMatrix(),this.projCorrectionMode===Zh()?(t.projCorrectionMatrixScreen.mul_u47j3u$(this.proj,this.projCorrected_2lfajw$_0),this.proj.set_d4zu6l$(this.projCorrected_2lfajw$_0)):this.projCorrectionMode===Jh()&&(t.projCorrectionMatrixOffscreen.mul_u47j3u$(this.proj,this.projCorrected_2lfajw$_0),this.proj.set_d4zu6l$(this.projCorrected_2lfajw$_0)),this.lazyInvProj_tohv7i$_0.isDirty=!0,this.lazyViewProj_dqyl7q$_0.isDirty=!0,this.lazyInvViewProj_vy3fmv$_0.isDirty=!0},Gh.prototype.updateViewMatrix=function(){this.toGlobalCoords_w1lst9$(this.globalPosMut.set_czzhiu$(this.position)),this.toGlobalCoords_w1lst9$(this.globalLookAtMut.set_czzhiu$(this.lookAt)),this.toGlobalCoords_w1lst9$(this.globalUpMut.set_czzhiu$(this.up),0).norm(),this.globalLookDirMut.set_czzhiu$(this.globalLookAtMut).subtract_czzhiu$(this.globalPosMut),this.globalRange=this.globalLookDirMut.length(),this.globalLookDirMut.scale_mx4ult$(1/this.globalRange),this.globalLookDirMut.cross_2gj7b4$(this.globalUpMut,this.globalRightMut).norm(),this.globalRightMut.cross_2gj7b4$(this.globalLookDirMut,this.globalUpMut).norm(),this.view.setLookAt_n440fu$(this.globalPosMut,this.globalLookAtMut,this.globalUpMut),this.lazyInvView_trmos6$_0.isDirty=!0},Gh.prototype.computePickRay_2cu1go$=function(t,e,n,i){return e.isValid&&this.computePickRay_k7d561$(t,e.x,e.y,n,i)},Gh.prototype.computePickRay_k7d561$=function(t,e,n,i,o){var r=this.unProjectScreen_c0y950$(this.tmpVec3_txabpe$_0.set_y2kzbl$(e,n,0),i,o,t.origin);return(r=r&&this.unProjectScreen_c0y950$(this.tmpVec3_txabpe$_0.set_y2kzbl$(e,n,1),i,o,t.direction))&&(t.direction.subtract_czzhiu$(t.origin),t.direction.norm()),r},Gh.prototype.initRayTes_clwnka$=function(t,e,n,i){return e.isValid&&this.initRayTes_r53qw5$(t,e.x,e.y,n,i)},Gh.prototype.initRayTes_r53qw5$=function(t,e,n,i,o){return t.clear(),this.computePickRay_k7d561$(t.ray,e,n,i,o)},Gh.prototype.isInFrustum_f1kmr1$=function(t){return this.isInFrustum_2qa7tb$(t.globalCenter,t.globalRadius)},Gh.prototype.project_2gj7b4$=function(t,e){this.tmpVec4_txabq9$_0.set_7b5o5w$(t.x,t.y,t.z,1),this.viewProj.transform_5s4mpv$(this.tmpVec4_txabq9$_0);var n,i=this.tmpVec4_txabq9$_0.w;return n=Ij.FUZZY_EQ_F,!(R.abs(i)<=n||(e.set_y2kzbl$(this.tmpVec4_txabq9$_0.x,this.tmpVec4_txabq9$_0.y,this.tmpVec4_txabq9$_0.z).scale_mx4ult$(1/this.tmpVec4_txabq9$_0.w),0))},Gh.prototype.project_2gj7bz$=function(t,e){return this.viewProj.transform_5s4mpv$(e.set_7b5o5w$(t.x,t.y,t.z,1))},Gh.prototype.projectScreen_c0y950$=function(t,e,n,i){return!!this.project_2gj7b4$(t,i)&&(i.x=.5*(1+i.x)*e.width+e.x,i.y=n.windowHeight-.5*(1+i.y)*e.height+e.y,i.z=.5*(1+i.z),!0)},Gh.prototype.unProjectScreen_c0y950$=function(t,e,n,i){var o=t.x-e.x,r=n.windowHeight-t.y-e.y;this.tmpVec4_txabq9$_0.set_7b5o5w$(2*o/e.width-1,2*r/e.height-1,2*t.z-1,1),this.invViewProj.transform_5s4mpv$(this.tmpVec4_txabq9$_0);var s=1/this.tmpVec4_txabq9$_0.w;return i.set_y2kzbl$(this.tmpVec4_txabq9$_0.x*s,this.tmpVec4_txabq9$_0.y*s,this.tmpVec4_txabq9$_0.z*s),!0},Hh.prototype.get=function(){return this.isDirty&&(this.update(this.mat_0),this.isDirty=!1),this.mat_0},Hh.$metadata$={kind:$,simpleName:"LazyMatrix",interfaces:[]},Xh.$metadata$={kind:$,simpleName:"ProjCorrectionMode",interfaces:[P]},Xh.values=function(){return[Yh(),Zh(),Jh()]},Xh.valueOf_61zpoe$=function(t){switch(t){case"NONE":return Yh();case"ONSCREEN":return Zh();case"OFFSCREEN":return Jh();default:T("No enum constant de.fabmax.kool.scene.Camera.ProjCorrectionMode."+t)}},Gh.$metadata$={kind:$,simpleName:"Camera",interfaces:[Pd]},Qh.prototype.setCentered_y2kzbl$=function(t,e,n){this.top=.5*t,this.bottom=-this.top,this.right=this.aspectRatio*this.top,this.left=-this.right,this.near=e,this.far=n},Qh.prototype.updateCamera_fd1mc0$=function(t,e){if(this.isClipToViewport)this.left=0,this.right=e.width,this.bottom=0,this.top=e.height;else if(this.isKeepAspectRatio){var n=this.top-this.bottom,i=e.aspectRatio*n,o=this.left+.5*(this.right-this.left);this.left=o-.5*i,this.right=o+.5*i}Gh.prototype.updateCamera_fd1mc0$.call(this,t,e)},Qh.prototype.updateProjectionMatrix=function(){this.left!==this.right&&this.bottom!==this.top&&this.near!==this.far&&this.proj.setOrthographic_w8lrqs$(this.left,this.right,this.bottom,this.top,this.near,this.far)},Qh.prototype.computeFrustumPlane_jwr40o$=function(t,e){this.invView.transform_w1lst9$(e.upperLeft.set_y2kzbl$(this.left,this.top,-t)),this.invView.transform_w1lst9$(e.upperRight.set_y2kzbl$(this.right,this.top,-t)),this.invView.transform_w1lst9$(e.lowerLeft.set_y2kzbl$(this.left,this.bottom,-t)),this.invView.transform_w1lst9$(e.lowerRight.set_y2kzbl$(this.right,this.bottom,-t))},Qh.prototype.isInFrustum_2qa7tb$=function(t,e){this.tmpNodeCenter_dwzowq$_0.set_czzhiu$(t),this.tmpNodeCenter_dwzowq$_0.subtract_czzhiu$(this.globalPos);var n=this.tmpNodeCenter_dwzowq$_0.dot_czzhiu$(this.globalRight);if(n>this.right+e||n<this.left-e)return!1;var i=this.tmpNodeCenter_dwzowq$_0.dot_czzhiu$(this.globalUp);if(i>this.top+e||i<this.bottom-e)return!1;var o=this.tmpNodeCenter_dwzowq$_0.dot_czzhiu$(this.globalLookDir);return!(o>this.far+e||o<this.near-e)},Qh.$metadata$={kind:$,simpleName:"OrthographicCamera",interfaces:[Gh]},Object.defineProperty(td.prototype,"fovX",{configurable:!0,get:function(){return this.fovX_7k9npl$_0},set:function(t){this.fovX_7k9npl$_0=t}}),td.prototype.updateProjectionMatrix=function(){this.proj.setPerspective_7b5o5w$(this.fovY,this.aspectRatio,this.clipNear,this.clipFar);var t=this.fovY*Ij.DEG_2_RAD/2;this.sphereFacY_87yuf8$_0=1/R.cos(t),this.tangY_ey6fvl$_0=R.tan(t);var e=this.tangY_ey6fvl$_0*this.aspectRatio,n=R.atan(e);this.sphereFacX_87yued$_0=1/R.cos(n),this.tangX_ey6fwg$_0=R.tan(n),this.fovX=2*n*Ij.RAD_2_DEG},td.prototype.computeFrustumPlane_jwr40o$=function(t,e){var n=t*this.tangX_ey6fwg$_0,i=t*this.tangY_ey6fvl$_0;this.invView.transform_w1lst9$(e.upperLeft.set_y2kzbl$(-n,i,-t)),this.invView.transform_w1lst9$(e.upperRight.set_y2kzbl$(n,i,-t)),this.invView.transform_w1lst9$(e.lowerLeft.set_y2kzbl$(-n,-i,-t)),this.invView.transform_w1lst9$(e.lowerRight.set_y2kzbl$(n,-i,-t))},td.prototype.isInFrustum_2qa7tb$=function(t,e){this.tmpNodeCenter_hw7d0$_0.set_czzhiu$(t),this.tmpNodeCenter_hw7d0$_0.subtract_czzhiu$(this.globalPos);var n=this.tmpNodeCenter_hw7d0$_0.dot_czzhiu$(this.globalLookDir);if(n>this.clipFar+e||n<this.clipNear-e)return!1;var i=this.tmpNodeCenter_hw7d0$_0.dot_czzhiu$(this.globalUp),o=e*this.sphereFacY_87yuf8$_0;if(i>(n*=this.tangY_ey6fvl$_0)+o||i<-n-o)return!1;var r=this.tmpNodeCenter_hw7d0$_0.dot_czzhiu$(this.globalRight);return o=e*this.sphereFacX_87yued$_0,!(r>(n*=this.aspectRatio)+o||r<-n-o)},ed.prototype.sync_hrtwbc$=function(t,e){this.master.updateCamera_fd1mc0$(e,t),this.position.set_czzhiu$(this.master.globalPos),this.lookAt.set_czzhiu$(this.master.globalLookAt),this.up.set_czzhiu$(this.master.globalUp),this.aspectRatio=this.master.aspectRatio,this.fovY=this.master.fovY,this.clipNear=this.master.clipNear,this.clipFar=this.master.clipFar},ed.$metadata$={kind:$,simpleName:"Proxy",interfaces:[td]},td.$metadata$={kind:$,simpleName:"PerspectiveCamera",interfaces:[Gh]},nd.prototype.set_lj9zd1$=function(t){this.upperLeft.set_czzhiu$(t.upperLeft),this.upperRight.set_czzhiu$(t.upperRight),this.lowerLeft.set_czzhiu$(t.lowerLeft),this.lowerRight.set_czzhiu$(t.lowerRight)},nd.$metadata$={kind:$,simpleName:"FrustumPlane",interfaces:[]};var id,od,rd,sd=Y((function(){var t=e.kotlin.comparisons.compareValues_s00gnj$;return function(e){return function(n,i){var o=e;return t(o(n),o(i))}}}));function ad(t){void 0===t&&(t=null),Pd.call(this,t),this.intChildren=E(),this.childrenBounds=new v$,this.transform=new xi,this.invTransform=new xi,this.isIdentity=!1,this.isDirty=!1,this.tmpTransformVec_vl4onp$_0=Mo(),this.tmpBounds_8xwcjs$_0=new v$,this.setIdentity()}function ld(){this.lights=x([(new pd).setDirectional_czzhiu$(new Lo(-.8,-1.2,-1)).setColor_y83vuj$(O$().WHITE,1)])}function pd(){this.color=R$(O$().WHITE),this.type=_d(),this.direction=new Eo(0,1,0),this.position=Mo(),this.spotAngle=60}function ud(t,e,n){P.call(this),this.encoded=n,this.name$=t,this.ordinal$=e}function cd(){cd=function(){},id=new ud("DIRECTIONAL",0,0),od=new ud("POINT",1,1),rd=new ud("SPOT",2,2)}function _d(){return cd(),id}function hd(){return cd(),od}function dd(){return cd(),rd}function fd(t,e){void 0===t&&(t=Jz([hs().POSITIONS,hs().COLORS])),void 0===e&&(e=null),$d.call(this,t,e),t.primitiveType=eC(),this.rayTest=jd().nopTest();var n=new r_;this.shader=new Uc(n)}function md(t,e){void 0===t&&(t=null);var n=new $d(new Uz(Rt([hs().POSITIONS,hs().NORMALS,hs().COLORS])),t);return e(n),n}function yd(t,e,n){void 0===t&&(t=null),void 0===e&&(e=!1);var i=x([hs().POSITIONS,hs().NORMALS,hs().TEXTURE_COORDS]);if(e){var o=hs().TANGENTS;i.add_11rb$(o)}var r=new $d(new Uz(i),t);n(r);var s=r;return e&&s.geometry.generateTangents_mx4ult$(),s}function $d(t,e){var n;vd(),void 0===e&&(e=null),Pd.call(this,e),this.geometry=t,this.id=(n=vd().instanceId_0,vd().instanceId_0=n.inc(),n),this.instances=null,this.morphWeights=null,this.skin=null,this.isOpaque=!0,this.shader_cdun6p$_0=null,this.pipeline_fj0dqa$_0=null,this.discardedPipelines_d0j47k$_0=E(),this.rayTest=jd().boundsTest()}function bd(){gd=this,this.instanceId_0=Tt}Object.defineProperty(ad.prototype,"children",{configurable:!0,get:function(){return this.intChildren}}),Object.defineProperty(ad.prototype,"size",{configurable:!0,get:function(){return this.intChildren.size}}),ad.prototype.checkInverse=function(){this.isDirty&&(this.transform.invert_23yxad$(this.invTransform),this.isDirty=!1)},ad.prototype.setDirty=function(){this.isDirty=!0,this.isIdentity=!1},ad.prototype.update_kma0q5$=function(t){var e;Pd.prototype.update_kma0q5$.call(this,t),this.childrenBounds.clear(),e=this.intChildren;for(var n=0;n!==e.size;++n)this.intChildren.get_za3lpa$(n).update_kma0q5$(t),this.childrenBounds.add_ea4od8$(this.intChildren.get_za3lpa$(n).bounds);this.setLocalBounds(),this.globalCenterMut.set_czzhiu$(this.bounds.center),this.globalExtentMut.set_czzhiu$(this.bounds.max),this.modelMat.transform_w1lst9$(this.globalCenterMut),this.modelMat.transform_w1lst9$(this.globalExtentMut),this.globalRadius=this.globalCenter.distance_czzhiu$(this.globalExtentMut),this.bounds.isEmpty||this.isIdentity||(this.tmpBounds_8xwcjs$_0.clear(),this.tmpBounds_8xwcjs$_0.add_czzhiu$(this.transform.transform_w1lst9$(this.tmpTransformVec_vl4onp$_0.set_y2kzbl$(this.bounds.min.x,this.bounds.min.y,this.bounds.min.z),1)),this.tmpBounds_8xwcjs$_0.add_czzhiu$(this.transform.transform_w1lst9$(this.tmpTransformVec_vl4onp$_0.set_y2kzbl$(this.bounds.min.x,this.bounds.min.y,this.bounds.max.z),1)),this.tmpBounds_8xwcjs$_0.add_czzhiu$(this.transform.transform_w1lst9$(this.tmpTransformVec_vl4onp$_0.set_y2kzbl$(this.bounds.min.x,this.bounds.max.y,this.bounds.min.z),1)),this.tmpBounds_8xwcjs$_0.add_czzhiu$(this.transform.transform_w1lst9$(this.tmpTransformVec_vl4onp$_0.set_y2kzbl$(this.bounds.min.x,this.bounds.max.y,this.bounds.max.z),1)),this.tmpBounds_8xwcjs$_0.add_czzhiu$(this.transform.transform_w1lst9$(this.tmpTransformVec_vl4onp$_0.set_y2kzbl$(this.bounds.max.x,this.bounds.min.y,this.bounds.min.z),1)),this.tmpBounds_8xwcjs$_0.add_czzhiu$(this.transform.transform_w1lst9$(this.tmpTransformVec_vl4onp$_0.set_y2kzbl$(this.bounds.max.x,this.bounds.min.y,this.bounds.max.z),1)),this.tmpBounds_8xwcjs$_0.add_czzhiu$(this.transform.transform_w1lst9$(this.tmpTransformVec_vl4onp$_0.set_y2kzbl$(this.bounds.max.x,this.bounds.max.y,this.bounds.min.z),1)),this.tmpBounds_8xwcjs$_0.add_czzhiu$(this.transform.transform_w1lst9$(this.tmpTransformVec_vl4onp$_0.set_y2kzbl$(this.bounds.max.x,this.bounds.max.y,this.bounds.max.z),1)),this.bounds.set_ea4od8$(this.tmpBounds_8xwcjs$_0))},ad.prototype.setLocalBounds=function(){this.bounds.set_ea4od8$(this.childrenBounds)},ad.prototype.updateModelMat=function(){Pd.prototype.updateModelMat.call(this),this.isIdentity||this.modelMat.mul_d4zu6l$(this.transform)},ad.prototype.rayTest_jljx4v$=function(t){var e;this.isIdentity||(this.checkInverse(),t.transformBy_d4zu6l$(this.invTransform)),e=this.intChildren;for(var n=0;n!==e.size;++n){var i=this.intChildren.get_za3lpa$(n);if(i.isPickable&&i.isVisible){var o=i.bounds.hitDistanceSqr_nvyeur$(t.ray);o<st.MAX_VALUE&&o<=t.hitDistanceSqr&&i.rayTest_jljx4v$(t)}}this.isIdentity||t.transformBy_d4zu6l$(this.transform)},ad.prototype.getTransform_d4zu6j$=function(t){return t.set_d4zu6l$(this.transform)},ad.prototype.getInverseTransform_d4zu6j$=function(t){return this.checkInverse(),t.set_d4zu6l$(this.invTransform)},ad.prototype.collectDrawCommands_kma0q5$=function(t){var e;if(Pd.prototype.collectDrawCommands_kma0q5$.call(this,t),this.isRendered){e=this.intChildren;for(var n=0;n!==e.size;++n)this.intChildren.get_za3lpa$(n).collectDrawCommands_kma0q5$(t)}},ad.prototype.dispose_aemszp$=function(t){var e;Pd.prototype.dispose_aemszp$.call(this,t),e=this.intChildren;for(var n=0;n!==e.size;++n)this.intChildren.get_za3lpa$(n).dispose_aemszp$(t)},ad.prototype.get_61zpoe$=function(t){var e;if(Dt(t,this.name))return this;e=this.intChildren;for(var n=0;n!==e.size;++n){var i=this.intChildren.get_za3lpa$(n).get_61zpoe$(t);if(null!=i)return i}return null},ad.prototype.addNode_xtids1$$default=function(t,e){e>=0?this.intChildren.add_wxm5ur$(e,t):this.intChildren.add_11rb$(t),t.parent=this,this.bounds.add_ea4od8$(t.bounds)},ad.prototype.addNode_xtids1$=function(t,e,n){void 0===e&&(e=-1),n?n(t,e):this.addNode_xtids1$$default(t,e)},ad.prototype.sortChildrenBy_mq7kdd$=function(t){var e=this.intChildren;e.size>1&&$t(e,new bt(sd(t)))},ad.prototype.removeNode_f1kmr1$=function(t){return!!this.intChildren.remove_11rb$(t)&&(t.parent=null,!0)},ad.prototype.removeAllChildren=function(){var t;t=this.intChildren;for(var e=0;e!==t.size;++e)this.intChildren.get_za3lpa$(e).parent=null;this.intChildren.clear()},ad.prototype.findNode_61zpoe$=function(t){var e;if(Dt(t,this.name))return this;e=this.children;for(var n=0;n!==e.size;++n){var i=this.children.get_za3lpa$(n).findNode_61zpoe$(t);if(null!=i)return i}return null},ad.prototype.containsNode_f1kmr1$=function(t){return this.intChildren.contains_11rb$(t)},ad.prototype.plusAssign_f1kmr1$=function(t){this.addNode_xtids1$(t)},ad.prototype.minusAssign_f1kmr1$=function(t){this.removeNode_f1kmr1$(t)},ad.prototype.unaryPlus_uv0sim$=function(t){this.addNode_xtids1$(t)},ad.prototype.translate_czzhiu$=function(t){return this.translate_y2kzbl$(t.x,t.y,t.z)},ad.prototype.translate_y2kzbl$=function(t,e,n){return this.translate_yvo9jy$(t,e,n)},ad.prototype.translate_czzhiw$=function(t){return this.translate_yvo9jy$(t.x,t.y,t.z)},ad.prototype.translate_yvo9jy$=function(t,e,n){return this.transform.translate_yvo9jy$(t,e,n),this.setDirty(),this},ad.prototype.rotate_ad55pp$=function(t,e){return this.rotate_7b5o5w$(t,e.x,e.y,e.z)},ad.prototype.rotate_7b5o5w$=function(t,e,n,i){return this.rotate_6y0v78$(t,e,n,i)},ad.prototype.rotate_5820x2$=function(t,e){return this.rotate_6y0v78$(t,e.x,e.y,e.z)},ad.prototype.rotate_6y0v78$=function(t,e,n,i){return this.transform.rotate_6y0v78$(t,e,n,i),this.setDirty(),this},ad.prototype.scale_mx4ult$=function(t){return this.scale_yvo9jy$(t,t,t)},ad.prototype.scale_y2kzbl$=function(t,e,n){return this.scale_yvo9jy$(t,e,n)},ad.prototype.scale_14dthe$=function(t){return this.scale_yvo9jy$(t,t,t)},ad.prototype.scale_yvo9jy$=function(t,e,n){return this.transform.scale_yvo9jy$(t,e,n),this.setDirty(),this},ad.prototype.mul_d4zu6l$=function(t){return this.transform.mul_d4zu6l$(t),this.setDirty(),this},ad.prototype.set_d4zu6j$=function(t){return this.transform.set_d4zu6j$(t),this.setDirty(),this},ad.prototype.set_d4zu6l$=function(t){return this.transform.set_d4zu6l$(t),this.setDirty(),this},ad.prototype.setIdentity=function(){return this.transform.setIdentity(),this.invTransform.setIdentity(),this.isDirty=!1,this.isIdentity=!0,this},ad.$metadata$={kind:$,simpleName:"Group",interfaces:[Pd]},ld.prototype.singleLight_q9zcvo$=function(t){this.lights.clear();var e=this.lights,n=new pd;t(n),e.add_11rb$(n)},ld.$metadata$={kind:$,simpleName:"Lighting",interfaces:[]},pd.prototype.setColor_y83vuj$=function(t,e){return this.color.set_czzhhz$(t),this.color.a=e,this},pd.prototype.setDirectional_czzhiu$=function(t){return this.type=_d(),this.direction.set_czzhiu$(t).norm(),this.position.set_czzhiu$(Po().ZERO),this.spotAngle=0,this},pd.prototype.setPoint_czzhiu$=function(t){return this.type=hd(),this.position.set_czzhiu$(t),this.direction.set_czzhiu$(Po().ZERO),this.spotAngle=0,this},pd.prototype.setSpot_nve3wz$=function(t,e,n){return this.type=dd(),this.position.set_czzhiu$(t),this.direction.set_czzhiu$(e).norm(),this.spotAngle=n,this},ud.$metadata$={kind:$,simpleName:"Type",interfaces:[P]},ud.values=function(){return[_d(),hd(),dd()]},ud.valueOf_61zpoe$=function(t){switch(t){case"DIRECTIONAL":return _d();case"POINT":return hd();case"SPOT":return dd();default:T("No enum constant de.fabmax.kool.scene.Light.Type."+t)}},pd.$metadata$={kind:$,simpleName:"Light",interfaces:[]},fd.prototype.addLine_nbf24k$=function(t,e,n){return this.addLine_b8opkg$(t,n,e,n)},fd.prototype.addLine_b8opkg$=function(t,e,n,i){var o,r,s,l,p,u={v:0},c=this.geometry,_=c.isBatchUpdate;return c.isBatchUpdate=!0,(o=t,r=e,s=u,l=n,p=i,function(t){return s.v=t.addVertex_lv7vxo$(o,null,r,null),t.addVertex_lv7vxo$(l,null,p,null),t.addIndex_za3lpa$(s.v),t.addIndex_za3lpa$(s.v+1|0),a})(c),c.hasChanged=!0,c.isBatchUpdate=_,u.v},fd.prototype.addLineString_k3xgzo$=function(t,e){var n;n=wt(t);for(var i=0;i<n;i++)this.addLine_b8opkg$(t.get_za3lpa$(i),e,t.get_za3lpa$(i+1|0),e)},fd.prototype.addWireframe_hjnvxh$=function(t,n){if(void 0===n&&(n=null),t.primitiveType!==iC())throw _i("Supplied mesh is not a triangle mesh: "+t.primitiveType);var i,o,r,s,l=ht(),p=this.geometry,u=p.isBatchUpdate;p.isBatchUpdate=!0,(i=t,o=this,r=n,s=l,function(t){var n,l,p=i.get_za3lpa$(0),u=t.numVertices;n=i.numVertices;for(var c=0;c<n;c++){p.index=c;var _,h,d,f=o.geometry;f.checkBufferSizes_za3lpa$(),_=f.vertexSizeF;for(var m=1;m<=_;m++)f.dataF.plusAssign_mx4ult$(0);h=f.vertexSizeI;for(var y=1;y<=h;y++)f.dataI.plusAssign_za3lpa$(0);f.vertexIt.index=(d=f.numVertices,f.numVertices=d+1|0,d);var $=r,b=f.vertexIt;b.position.set_czzhiu$(p.position),b.color.set_czzhhz$(null!=$?$:p.color),f.bounds.add_czzhiu$(f.vertexIt.position),f.hasChanged=!0,f.numVertices}l=i.numIndices;for(var g=0;g<l;g+=3){var v=u+i.indices.get_za3lpa$(g)|0,x=u+i.indices.get_za3lpa$(g+1|0)|0,w=u+i.indices.get_za3lpa$(g+2|0)|0,z=e.Long.fromInt(R.min(v,x)).shiftLeft(32).or(e.Long.fromInt(R.max(v,x))),C=e.Long.fromInt(R.min(x,w)).shiftLeft(32).or(e.Long.fromInt(R.max(x,w))),S=e.Long.fromInt(R.min(w,v)).shiftLeft(32).or(e.Long.fromInt(R.max(w,v)));s.contains_11rb$(z)||(o.geometry.addIndex_za3lpa$(v),o.geometry.addIndex_za3lpa$(x),s.add_11rb$(z)),s.contains_11rb$(C)||(o.geometry.addIndex_za3lpa$(x),o.geometry.addIndex_za3lpa$(w),s.add_11rb$(C)),s.contains_11rb$(S)||(o.geometry.addIndex_za3lpa$(w),o.geometry.addIndex_za3lpa$(v),s.add_11rb$(S))}return a})(p),p.hasChanged=!0,p.isBatchUpdate=u},fd.prototype.addNormals_325j0g$=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=1);var i,o,r,s,l=t.isBatchUpdate;t.isBatchUpdate=!0,(i=t,o=n,r=e,s=this,function(t){var e,n=Mo(),l=i;e=l.numVertices;for(var p=0;p<e;p++){l.vertexIt.index=p;var u=o,c=r,_=s,h=l.vertexIt;n.set_czzhiu$(h.normal).scale_mx4ult$(u).add_czzhiu$(h.position);var d=null!=c?c:h.color;_.addLine_b8opkg$(h.position,d,n,d)}return a})(t),t.hasChanged=!0,t.isBatchUpdate=l},fd.prototype.clear=function(){this.geometry.clear(),this.bounds.clear()},fd.prototype.addBoundingBox_j1pmtk$=function(t,e){var n,i,o=this.geometry,r=o.isBatchUpdate;o.isBatchUpdate=!0,(n=t,i=e,function(t){var e,o,r;t.checkBufferSizes_za3lpa$(),e=t.vertexSizeF;for(var s=1;s<=e;s++)t.dataF.plusAssign_mx4ult$(0);o=t.vertexSizeI;for(var l=1;l<=o;l++)t.dataI.plusAssign_za3lpa$(0);t.vertexIt.index=(r=t.numVertices,t.numVertices=r+1|0,r);var p=n,u=i,c=t.vertexIt;c.position.set_y2kzbl$(p.min.x,p.min.y,p.min.z),c.color.set_czzhhz$(u),t.bounds.add_czzhiu$(t.vertexIt.position),t.hasChanged=!0;var _,h,d,f=t.numVertices-1|0;t.checkBufferSizes_za3lpa$(),_=t.vertexSizeF;for(var m=1;m<=_;m++)t.dataF.plusAssign_mx4ult$(0);h=t.vertexSizeI;for(var y=1;y<=h;y++)t.dataI.plusAssign_za3lpa$(0);t.vertexIt.index=(d=t.numVertices,t.numVertices=d+1|0,d);var $=n,b=i,g=t.vertexIt;g.position.set_y2kzbl$($.min.x,$.min.y,$.max.z),g.color.set_czzhhz$(b),t.bounds.add_czzhiu$(t.vertexIt.position),t.hasChanged=!0;var v,x,w,z=t.numVertices-1|0;t.checkBufferSizes_za3lpa$(),v=t.vertexSizeF;for(var C=1;C<=v;C++)t.dataF.plusAssign_mx4ult$(0);x=t.vertexSizeI;for(var S=1;S<=x;S++)t.dataI.plusAssign_za3lpa$(0);t.vertexIt.index=(w=t.numVertices,t.numVertices=w+1|0,w);var k=n,L=i,j=t.vertexIt;j.position.set_y2kzbl$(k.min.x,k.max.y,k.max.z),j.color.set_czzhhz$(L),t.bounds.add_czzhiu$(t.vertexIt.position),t.hasChanged=!0;var N,P,T,O=t.numVertices-1|0;t.checkBufferSizes_za3lpa$(),N=t.vertexSizeF;for(var E=1;E<=N;E++)t.dataF.plusAssign_mx4ult$(0);P=t.vertexSizeI;for(var M=1;M<=P;M++)t.dataI.plusAssign_za3lpa$(0);t.vertexIt.index=(T=t.numVertices,t.numVertices=T+1|0,T);var R=n,I=i,A=t.vertexIt;A.position.set_y2kzbl$(R.min.x,R.max.y,R.min.z),A.color.set_czzhhz$(I),t.bounds.add_czzhiu$(t.vertexIt.position),t.hasChanged=!0;var D,B,F,q=t.numVertices-1|0;t.checkBufferSizes_za3lpa$(),D=t.vertexSizeF;for(var U=1;U<=D;U++)t.dataF.plusAssign_mx4ult$(0);B=t.vertexSizeI;for(var V=1;V<=B;V++)t.dataI.plusAssign_za3lpa$(0);t.vertexIt.index=(F=t.numVertices,t.numVertices=F+1|0,F);var W=n,G=i,H=t.vertexIt;H.position.set_y2kzbl$(W.max.x,W.min.y,W.min.z),H.color.set_czzhhz$(G),t.bounds.add_czzhiu$(t.vertexIt.position),t.hasChanged=!0;var X,K,Y,Z=t.numVertices-1|0;t.checkBufferSizes_za3lpa$(),X=t.vertexSizeF;for(var J=1;J<=X;J++)t.dataF.plusAssign_mx4ult$(0);K=t.vertexSizeI;for(var Q=1;Q<=K;Q++)t.dataI.plusAssign_za3lpa$(0);t.vertexIt.index=(Y=t.numVertices,t.numVertices=Y+1|0,Y);var tt=n,et=i,nt=t.vertexIt;nt.position.set_y2kzbl$(tt.max.x,tt.min.y,tt.max.z),nt.color.set_czzhhz$(et),t.bounds.add_czzhiu$(t.vertexIt.position),t.hasChanged=!0;var it,ot,rt,st=t.numVertices-1|0;t.checkBufferSizes_za3lpa$(),it=t.vertexSizeF;for(var at=1;at<=it;at++)t.dataF.plusAssign_mx4ult$(0);ot=t.vertexSizeI;for(var lt=1;lt<=ot;lt++)t.dataI.plusAssign_za3lpa$(0);t.vertexIt.index=(rt=t.numVertices,t.numVertices=rt+1|0,rt);var pt=n,ut=i,ct=t.vertexIt;ct.position.set_y2kzbl$(pt.max.x,pt.max.y,pt.max.z),ct.color.set_czzhhz$(ut),t.bounds.add_czzhiu$(t.vertexIt.position),t.hasChanged=!0;var _t,ht,dt,ft=t.numVertices-1|0;t.checkBufferSizes_za3lpa$(),_t=t.vertexSizeF;for(var mt=1;mt<=_t;mt++)t.dataF.plusAssign_mx4ult$(0);ht=t.vertexSizeI;for(var yt=1;yt<=ht;yt++)t.dataI.plusAssign_za3lpa$(0);t.vertexIt.index=(dt=t.numVertices,t.numVertices=dt+1|0,dt);var $t=n,bt=i,gt=t.vertexIt;gt.position.set_y2kzbl$($t.max.x,$t.max.y,$t.min.z),gt.color.set_czzhhz$(bt),t.bounds.add_czzhiu$(t.vertexIt.position),t.hasChanged=!0;var vt=t.numVertices-1|0;return t.addIndices_pmhfmb$(new Int32Array([f,z,z,O,O,q,q,f,Z,st,st,ft,ft,vt,vt,Z,f,Z,z,st,O,ft,q,vt])),a})(o),o.hasChanged=!0,o.isBatchUpdate=r},fd.$metadata$={kind:$,simpleName:"LineMesh",interfaces:[$d]},Object.defineProperty($d.prototype,"shader",{configurable:!0,get:function(){return this.shader_cdun6p$_0},set:function(t){var e;this.shader_cdun6p$_0=t,null!=(e=this.pipeline_fj0dqa$_0)&&this.discardedPipelines_d0j47k$_0.add_11rb$(e),this.pipeline_fj0dqa$_0=null}}),Object.defineProperty($d.prototype,"bounds",{configurable:!0,get:function(){return this.geometry.bounds}}),$d.prototype.generate_v2sixm$=function(t){var e,n=this.geometry,i=n.isBatchUpdate;n.isBatchUpdate=!0,(e=t,function(t){return t.clear(),e(new PC(t)),a})(n),n.hasChanged=!0,n.isBatchUpdate=i},$d.prototype.getPipeline_aemszp$=function(t){var e,n,i;if(!this.discardedPipelines_d0j47k$_0.isEmpty()){var o;for(o=this.discardedPipelines_d0j47k$_0.iterator();o.hasNext();){var r=o.next();t.disposePipeline_i7l2g2$(r)}this.discardedPipelines_d0j47k$_0.clear()}if(null!=(n=this.pipeline_fj0dqa$_0))i=n;else{var s;if(null!=(e=this.shader)){var a=e.createPipeline_sbx4mf$(this,t);this.pipeline_fj0dqa$_0=a,s=a}else s=null;i=s}return i},$d.prototype.rayTest_jljx4v$=function(t){this.rayTest.rayTest_jljx4v$(t)},$d.prototype.dispose_aemszp$=function(t){var e;Pd.prototype.dispose_aemszp$.call(this,t),null!=(e=this.pipeline_fj0dqa$_0)&&t.disposePipeline_i7l2g2$(e),this.pipeline_fj0dqa$_0=null},$d.prototype.collectDrawCommands_kma0q5$=function(t){Pd.prototype.collectDrawCommands_kma0q5$.call(this,t),this.isRendered&&(this.geometry.hasChanged&&!this.geometry.isBatchUpdate&&(this.geometry.isRebuildBoundsOnSync&&this.geometry.rebuildBounds(),this.rayTest.onMeshDataChanged_f1jspk$(this)),t.renderPass.addMesh_sbx4mf$(this,t.ctx))},bd.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var gd=null;function vd(){return null===gd&&new bd,gd}function xd(){jd()}function wd(){Ld=this}function zd(){}function Cd(){this.mesh=null}function Sd(t){this.closure$mesh=t,this.triangleTree=null,this.rayTraverser=new rk}function kd(t){this.closure$mesh=t,this.edgeTree=null,this.rayTraverser=new ik}$d.$metadata$={kind:$,simpleName:"Mesh",interfaces:[Pd]},xd.prototype.onMeshDataChanged_f1jspk$=function(t){},zd.prototype.rayTest_jljx4v$=function(t){},zd.$metadata$={kind:$,interfaces:[xd]},wd.prototype.nopTest=function(){return new zd},Cd.prototype.onMeshDataChanged_f1jspk$=function(t){this.mesh=t},Cd.prototype.rayTest_jljx4v$=function(t){var e;if(null!=(e=this.mesh)){var n=e,i=n.bounds.hitDistanceSqr_nvyeur$(t.ray);i<st.MAX_VALUE&&i<=t.hitDistanceSqr&&t.setHit_vfk0k2$(n,R.sqrt(i))}},Cd.$metadata$={kind:$,interfaces:[xd]},wd.prototype.boundsTest=function(){return new Cd},Sd.prototype.onMeshDataChanged_f1jspk$=function(t){this.triangleTree=zS(US().getTriangles_r7nl2o$(t.geometry))},Sd.prototype.rayTest_jljx4v$=function(t){var e;this.rayTraverser.setup_nvyeur$(t.ray),null!=(e=this.triangleTree)&&this.rayTraverser.traverse_7efza$(e),this.rayTraverser.distanceSqr<t.hitDistanceSqr&&t.setHit_vfk0k2$(this.closure$mesh,this.rayTraverser.distance)},Sd.$metadata$={kind:$,interfaces:[xd]},kd.prototype.onMeshDataChanged_f1jspk$=function(t){this.edgeTree=CS(DS().getEdges_r7nl2o$(t.geometry))},kd.prototype.rayTest_jljx4v$=function(t){var e;this.rayTraverser.setup_nvyeur$(t.ray),null!=(e=this.edgeTree)&&this.rayTraverser.traverse_7efza$(e),this.rayTraverser.distanceSqr<t.hitDistanceSqr&&t.setHit_vfk0k2$(this.closure$mesh,this.rayTraverser.distance)},kd.$metadata$={kind:$,interfaces:[xd]},wd.prototype.geometryTest_f1jspk$=function(t){var e;switch(t.geometry.primitiveType.name){case"TRIANGLES":e=new Sd(t);break;case"LINES":e=new kd(t);break;default:throw G("Mesh primitive type must be either GL_TRIANGLES or GL_LINES")}return e},wd.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Ld=null;function jd(){return null===Ld&&new wd,Ld}function Nd(t){void 0===t&&(t=null),ad.call(this,t),this.nodes=C(),this.meshes=C(),this.textures=C(),this.animations=E(),this.skins=E()}function Pd(t){Dd(),void 0===t&&(t=null),this.name=t,this.onUpdate=E(),this.onCollectDrawCommands=E(),this.onDispose=E(),this.onHoverEnter=E(),this.onHover=E(),this.onHoverExit=E(),this.tags=new Nf,this.bounds_ba5obo$_0=new v$,this.globalRadius_3g00fw$_0=0,this.globalCenterMut=Mo(),this.globalExtentMut=Mo(),this.modelMat=new xi,this.modelMatDirty=!1,this.modelMatInvLazy_yq9j4d$_0=new xi,this.parent_302581$_0=null,this.isVisible_mqrc8j$_0=!0,this.isCastingShadow=!0,this.isPickable_b77vbo$_0=!0,this.isFrustumChecked_un4x7a$_0=!0,this.isRendered=!0}function Td(){Ad=this,this.MODEL_MAT_IDENTITY_0=new xi}xd.$metadata$={kind:Z,simpleName:"MeshRayTest",interfaces:[]},Nd.prototype.disableAllAnimations=function(){this.enableAnimation_za3lpa$(-1)},Nd.prototype.enableAnimation_za3lpa$=function(t){var e;e=this.animations;for(var n=0;n!==e.size;++n)this.animations.get_za3lpa$(n).weight=n===t?1:0},Nd.prototype.setAnimationWeight_24o109$=function(t,e){A(this.animations).contains_mef7kx$(t)&&(this.animations.get_za3lpa$(t).weight=e)},Nd.prototype.applyAnimation_14dthe$=function(t){var e,n,i=!0;e=this.animations;for(var o=0;o!==e.size;++o)this.animations.get_za3lpa$(o).weight>0&&(this.animations.get_za3lpa$(o).apply_8555vt$(t,i),i=!1);n=this.skins;for(var r=0;r!==n.size;++r)this.skins.get_za3lpa$(r).updateJointTransforms()},Nd.prototype.printHierarchy=function(){this.printHierarchy_0(this,"")},Nd.prototype.printHierarchy_0=function(t,n){var i,o,r=n+Lt(t.name)+" [",s=t.children,a=E();for(i=s.iterator();i.hasNext();){var l=i.next();e.isType(l,$d)&&a.add_11rb$(l)}for(Mt(r+a.size+" meshes]"),o=t.children.iterator();o.hasNext();){var p=o.next();e.isType(p,ad)?this.printHierarchy_0(p,n+"    "):Mt(n+"    "+Lt(p.name))}},Nd.prototype.dispose_aemszp$=function(t){var e;for(e=this.textures.values.iterator();e.hasNext();)e.next().dispose();ad.prototype.dispose_aemszp$.call(this,t)},Nd.$metadata$={kind:$,simpleName:"Model",interfaces:[ad]},Object.defineProperty(Pd.prototype,"bounds",{configurable:!0,get:function(){return this.bounds_ba5obo$_0}}),Object.defineProperty(Pd.prototype,"globalCenter",{configurable:!0,get:function(){return this.globalCenterMut}}),Object.defineProperty(Pd.prototype,"globalRadius",{configurable:!0,get:function(){return this.globalRadius_3g00fw$_0},set:function(t){this.globalRadius_3g00fw$_0=t}}),Object.defineProperty(Pd.prototype,"modelMatInv",{configurable:!0,get:function(){return this.checkModelMatInv_vk7bqf$_0()}}),Object.defineProperty(Pd.prototype,"parent",{configurable:!0,get:function(){return this.parent_302581$_0},set:function(t){this.parent_302581$_0=t}}),Object.defineProperty(Pd.prototype,"isVisible",{configurable:!0,get:function(){return this.isVisible_mqrc8j$_0},set:function(t){this.isVisible_mqrc8j$_0=t}}),Object.defineProperty(Pd.prototype,"isPickable",{configurable:!0,get:function(){return this.isPickable_b77vbo$_0},set:function(t){this.isPickable_b77vbo$_0=t}}),Object.defineProperty(Pd.prototype,"isFrustumChecked",{configurable:!0,get:function(){return this.isFrustumChecked_un4x7a$_0},set:function(t){this.isFrustumChecked_un4x7a$_0=t}}),Pd.prototype.update_kma0q5$=function(t){var e;e=this.onUpdate;for(var n=0;n!==e.size;++n)this.onUpdate.get_za3lpa$(n)(this,t);this.updateModelMat(),this.globalCenterMut.set_czzhiu$(this.bounds.center),this.globalExtentMut.set_czzhiu$(this.bounds.max),this.modelMat.transform_w1lst9$(this.globalCenterMut),this.modelMat.transform_w1lst9$(this.globalExtentMut),this.globalRadius=this.globalCenter.distance_czzhiu$(this.globalExtentMut)},Pd.prototype.updateModelMat=function(){var t,e;this.modelMat.set_d4zu6l$(null!=(e=null!=(t=this.parent)?t.modelMat:null)?e:Dd().MODEL_MAT_IDENTITY_0),this.modelMatDirty=!0},Pd.prototype.collectDrawCommands_kma0q5$=function(t){var e;if(this.isRendered=this.checkIsVisible_6otzq7$(t.camera,t.ctx),this.isRendered){e=this.onCollectDrawCommands;for(var n=0;n!==e.size;++n)this.onCollectDrawCommands.get_za3lpa$(n)(this,t)}},Pd.prototype.dispose_aemszp$=function(t){var e;e=this.onDispose;for(var n=0;n!==e.size;++n)this.onDispose.get_za3lpa$(n)(this,t)},Pd.prototype.toGlobalCoords_w1lst9$$default=function(t,e){return this.modelMat.transform_w1lst9$(t,e),t},Pd.prototype.toGlobalCoords_w1lst9$=function(t,e,n){return void 0===e&&(e=1),n?n(t,e):this.toGlobalCoords_w1lst9$$default(t,e)},Pd.prototype.toGlobalCoords_j7uy7i$$default=function(t,e){return this.modelMat.transform_j7uy7i$(t,e),t},Pd.prototype.toGlobalCoords_j7uy7i$=function(t,e,n){return void 0===e&&(e=1),n?n(t,e):this.toGlobalCoords_j7uy7i$$default(t,e)},Pd.prototype.toLocalCoords_w1lst9$$default=function(t,e){return this.modelMatInv.transform_w1lst9$(t,e),t},Pd.prototype.toLocalCoords_w1lst9$=function(t,e,n){return void 0===e&&(e=1),n?n(t,e):this.toLocalCoords_w1lst9$$default(t,e)},Pd.prototype.toLocalCoords_j7uy7i$$default=function(t,e){return this.modelMatInv.transform_j7uy7i$(t,e),t},Pd.prototype.toLocalCoords_j7uy7i$=function(t,e,n){return void 0===e&&(e=1),n?n(t,e):this.toLocalCoords_j7uy7i$$default(t,e)},Pd.prototype.rayTest_jljx4v$=function(t){},Pd.prototype.get_61zpoe$=function(t){return Dt(t,this.name)?this:null},Pd.prototype.checkIsVisible_6otzq7$=function(t,e){return!!this.isVisible&&(!(this.isFrustumChecked&&!this.bounds.isEmpty)||t.isInFrustum_f1kmr1$(this))},Pd.prototype.findNode_61zpoe$=function(t){return Dt(t,this.name)?this:null},Pd.prototype.findParentOfType_287e2$=K("kool-kool-core.de.fabmax.kool.scene.Node.findParentOfType_287e2$",Y((function(){var t=e.throwCCE;return function(e,n){for(var i,o=this.parent;null!=o&&!n(o);)o=o.parent;return n(i=o)?i:t()}}))),Pd.prototype.checkModelMatInv_vk7bqf$_0=function(){return this.modelMatDirty&&(this.modelMat.invert_23yxad$(this.modelMatInvLazy_yq9j4d$_0),this.modelMatDirty=!1),this.modelMatInvLazy_yq9j4d$_0},Td.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Od,Ed,Md,Rd,Id,Ad=null;function Dd(){return null===Ad&&new Td,Ad}function Bd(t,e,n){void 0===e&&(e=null);var i=new Fd(t,e);return n(i),i}function Fd(t,e){var n;void 0===e&&(e=null),ad.call(this,e),this.leftDragMethod=Wd(),this.middleDragMethod=Vd(),this.rightDragMethod=Gd(),this.zoomMethod=Kd(),this.verticalAxis=Bo().Y_AXIS,this.horizontalAxis=Bo().X_AXIS,this.minHorizontalRot=-90,this.maxHorizontalRot=90,this.translation=Uo(),this.verticalRotation=0,this.horizontalRotation=0,this.zoom_os17wm$_0=10,this.isKeepingStandardTransform=!1,this.invertRotX=!1,this.invertRotY=!1,this.minZoom=1,this.maxZoom=100,this.translationBounds=null,this.panMethod=new Jd,this.vertRotAnimator=new Ay(0),this.horiRotAnimator=new Ay(0),this.zoomAnimator=new Ay(this.zoom),this.prevButtonMask_ajfzw$_0=0,this.dragMethod_errtco$_0=Vd(),this.dragStart_84bd5l$_0=!1,this.deltaPos_l16i4v$_0=co(),this.deltaScroll_dymhuq$_0=0,this.ptrPos_jb68ux$_0=co(),this.panPlane_eoagge$_0=new Zi,this.pointerHitStart_dvxvk5$_0=Mo(),this.pointerHit_a6l7qh$_0=Mo(),this.tmpVec1_ioqh9p$_0=Mo(),this.tmpVec2_ioqh8u$_0=Mo(),this.mouseTransform_3g2ewq$_0=new xi,this.mouseTransformInv_t9oczn$_0=new xi,this.smoothness_swf2pk$_0=0,this.smoothness=.5,this.panPlane_eoagge$_0.p.set_czzhiu$(Po().ZERO),this.panPlane_eoagge$_0.n.set_czzhiu$(Po().Y_AXIS),t.registerDragHandler_y44tw7$(this),this.onUpdate.add_11rb$((n=this,function(t,e){var i=e.component1(),o=e.component2();return n.doCamTransform_kff6gu$_0(i,o),a}))}function qd(t,e){P.call(this),this.name$=t,this.ordinal$=e}function Ud(){Ud=function(){},Od=new qd("NONE",0),Ed=new qd("ROTATE",1),Md=new qd("PAN",2)}function Vd(){return Ud(),Od}function Wd(){return Ud(),Ed}function Gd(){return Ud(),Md}function Hd(t,e){P.call(this),this.name$=t,this.ordinal$=e}function Xd(){Xd=function(){},Rd=new Hd("ZOOM_CENTER",0),Id=new Hd("ZOOM_TRANSLATE",1)}function Kd(){return Xd(),Rd}function Yd(){return Xd(),Id}function Zd(){}function Jd(){Zd.call(this),this.panPlane=new Zi,this.pointerRay_0=new io}function Qd(t){Zd.call(this),this.panPlane=new Zi,this.pointerRay_0=new io,this.panPlane.n.set_czzhiu$(t)}function tf(t,e){of(),void 0===t&&(t=Jz([hs().POSITIONS,of().ATTRIB_POINT_SIZE,hs().COLORS])),void 0===e&&(e=null),$d.call(this,t,e),t.primitiveType=nC(),this.rayTest=jd().nopTest();var n=new r_,i=o_().defaultUnlitModel_ws3dmo$(n),o=new nu(i);o.pointSize_r20yfm$(o.attributeNode_nm2vx5$(of().ATTRIB_POINT_SIZE).output);var r=i;this.shader=new Uc(n,r)}function ef(){nf=this,this.ATTRIB_POINT_SIZE=new us("aPointSize",Qr())}Pd.$metadata$={kind:$,simpleName:"Node",interfaces:[ig]},Object.defineProperty(Fd.prototype,"zoom",{configurable:!0,get:function(){return this.zoom_os17wm$_0},set:function(t){var e,n=this.minZoom,i=this.maxZoom;e=t<n?n:t>i?i:t,this.zoom_os17wm$_0=e}}),Object.defineProperty(Fd.prototype,"smoothness",{configurable:!0,get:function(){return this.smoothness_swf2pk$_0},set:function(t){var e;this.smoothness_swf2pk$_0=t,e=Ij.FUZZY_EQ_D;var n=R.abs(t)<=e?0:50/t;this.vertRotAnimator.stiffness=n,this.horiRotAnimator.stiffness=n,this.zoomAnimator.stiffness=n}}),Fd.prototype.setMouseRotation_dleff0$=function(t,e){this.setMouseRotation_lu1900$(t,e)},Fd.prototype.setMouseRotation_lu1900$=function(t,e){this.vertRotAnimator.set_14dthe$(t),this.horiRotAnimator.set_14dthe$(e),this.verticalRotation=t,this.horizontalRotation=e},Fd.prototype.setMouseTranslation_y2kzbl$=function(t,e,n){this.setMouseTranslation_yvo9jy$(t,e,n)},Fd.prototype.setMouseTranslation_yvo9jy$=function(t,e,n){this.translation.set_yvo9jy$(t,e,n)},Fd.prototype.resetZoom_mx4ult$=function(t){this.resetZoom_14dthe$(t)},Fd.prototype.resetZoom_14dthe$=function(t){this.zoom=t,this.zoomAnimator.set_14dthe$(this.zoom)},Fd.prototype.updateTransform=function(){var t;null!=(t=this.translationBounds)&&t.clampToBounds_5s4mqs$(this.translation),this.isKeepingStandardTransform&&(this.mouseTransform_3g2ewq$_0.invert_23yxad$(this.mouseTransformInv_t9oczn$_0),this.mul_d4zu6l$(this.mouseTransformInv_t9oczn$_0));var e=this.zoomAnimator.actual,n=this.vertRotAnimator.actual,i=this.horiRotAnimator.actual;this.mouseTransform_3g2ewq$_0.setIdentity(),this.mouseTransform_3g2ewq$_0.translate_yvo9jy$(this.translation.x,this.translation.y,this.translation.z),this.mouseTransform_3g2ewq$_0.scale_yvo9jy$(e,e,e),this.mouseTransform_3g2ewq$_0.rotate_5820x2$(n,this.verticalAxis),this.mouseTransform_3g2ewq$_0.rotate_5820x2$(i,this.horizontalAxis),this.isKeepingStandardTransform?this.mul_d4zu6l$(this.mouseTransform_3g2ewq$_0):this.set_d4zu6l$(this.mouseTransform_3g2ewq$_0)},Fd.prototype.doCamTransform_kff6gu$_0=function(t,e){var n,i,o,r,s,a,l;if(this.dragMethod_errtco$_0===Gd()&&this.panMethod.computePanPoint_467c2i$(this.pointerHit_a6l7qh$_0,t,this.ptrPos_jb68ux$_0,e))if(this.dragStart_84bd5l$_0)this.dragStart_84bd5l$_0=!1,this.pointerHitStart_dvxvk5$_0.set_czzhiu$(this.pointerHit_a6l7qh$_0),this.stopSmoothMotion_ph0bif$_0();else{var p=1-this.smoothness,u=p<.1?.1:p>1?1:p;this.tmpVec1_ioqh9p$_0.set_czzhiu$(this.pointerHitStart_dvxvk5$_0).subtract_czzhiu$(this.pointerHit_a6l7qh$_0).scale_mx4ult$(u),null!=(n=this.parent)&&n.toLocalCoords_w1lst9$(this.tmpVec1_ioqh9p$_0,0);var c=this.tmpVec1_ioqh9p$_0.length();c>.5*t.camera.globalRange&&this.tmpVec1_ioqh9p$_0.scale_mx4ult$(.5*t.camera.globalRange/c),this.add_1k1qf7$_0(this.translation,this.tmpVec1_ioqh9p$_0)}else this.pointerHit_a6l7qh$_0.set_czzhiu$(t.camera.globalLookAt);var _,h=this.deltaScroll_dymhuq$_0;if(_=Ij.FUZZY_EQ_F,R.abs(h)<=_||(this.zoom=this.zoom*(1-this.deltaScroll_dymhuq$_0/10),this.deltaScroll_dymhuq$_0=0),this.dragMethod_errtco$_0===Wd()){r=this.verticalRotation,o=this.deltaPos_l16i4v$_0.x/3,i=this.invertRotX?-1:1,this.verticalRotation=r-o*i,l=this.horizontalRotation,a=this.deltaPos_l16i4v$_0.y/3,s=this.invertRotY?-1:1,this.horizontalRotation=l-a*s;var d,f=this.horizontalRotation,m=this.minHorizontalRot,y=this.maxHorizontalRot;d=f<m?m:f>y?y:f,this.horizontalRotation=d,this.deltaPos_l16i4v$_0.set_czzhjp$(lo().ZERO)}this.vertRotAnimator.desired=this.verticalRotation,this.horiRotAnimator.desired=this.horizontalRotation,this.zoomAnimator.desired=this.zoom;var $,b=this.zoomAnimator.actual,g=this.zoomAnimator.animate_mx4ult$(e.deltaT);$=Ij.FUZZY_EQ_D;var v=b-g;R.abs(v)<=$||this.zoomMethod!==Yd()||!this.panMethod.computePanPoint_467c2i$(this.pointerHit_a6l7qh$_0,t,this.ptrPos_jb68ux$_0,e)||this.computeZoomTranslationPerspective_axn3gs$(t.camera,b,g),this.vertRotAnimator.animate_mx4ult$(e.deltaT),this.horiRotAnimator.animate_mx4ult$(e.deltaT),this.updateTransform()},Fd.prototype.computeZoomTranslationPerspective_axn3gs$=function(t,e,n){var i,o=n/e;t.globalPos.subtract_2gj7b4$(this.pointerHit_a6l7qh$_0,this.tmpVec1_ioqh9p$_0).scale_mx4ult$(o).add_czzhiu$(this.pointerHit_a6l7qh$_0),t.globalPos.subtract_2gj7b4$(t.globalLookAt,this.tmpVec2_ioqh8u$_0).scale_mx4ult$(o).add_czzhiu$(t.globalLookAt),this.tmpVec1_ioqh9p$_0.subtract_czzhiu$(this.tmpVec2_ioqh8u$_0),null!=(i=this.parent)&&i.toLocalCoords_w1lst9$(this.tmpVec1_ioqh9p$_0,0),this.add_1k1qf7$_0(this.translation,this.tmpVec1_ioqh9p$_0)},Fd.prototype.stopSmoothMotion_ph0bif$_0=function(){this.vertRotAnimator.set_14dthe$(this.vertRotAnimator.actual),this.horiRotAnimator.set_14dthe$(this.horiRotAnimator.actual),this.zoomAnimator.set_14dthe$(this.zoomAnimator.actual),this.verticalRotation=this.vertRotAnimator.actual,this.horizontalRotation=this.horiRotAnimator.actual,this.zoom=this.zoomAnimator.actual},Fd.prototype.handleDrag_urvnay$=function(t,e,n){var i;t.isEmpty()||t.get_za3lpa$(0).isConsumed_za3lpa$()||!t.get_za3lpa$(0).isInViewport_hrtwbc$(e.mainRenderPass.viewport,n)?(this.deltaPos_l16i4v$_0.set_czzhjp$(lo().ZERO),this.deltaScroll_dymhuq$_0=0):(0===t.get_za3lpa$(0).buttonEventMask&&t.get_za3lpa$(0).buttonMask===this.prevButtonMask_ajfzw$_0||(i=t.get_za3lpa$(0).isLeftButtonDown?this.leftDragMethod:t.get_za3lpa$(0).isRightButtonDown?this.rightDragMethod:t.get_za3lpa$(0).isMiddleButtonDown?this.middleDragMethod:Vd(),this.dragMethod_errtco$_0=i,this.dragStart_84bd5l$_0=this.dragMethod_errtco$_0!==Vd()),this.prevButtonMask_ajfzw$_0=t.get_za3lpa$(0).buttonMask,this.ptrPos_jb68ux$_0.set_dleff0$(t.get_za3lpa$(0).x,t.get_za3lpa$(0).y),this.deltaPos_l16i4v$_0.set_dleff0$(t.get_za3lpa$(0).deltaX,t.get_za3lpa$(0).deltaY),this.deltaScroll_dymhuq$_0=t.get_za3lpa$(0).deltaScroll,t.get_za3lpa$(0).consume_za3lpa$())},Fd.prototype.add_1k1qf7$_0=function(t,e){t.x=t.x+e.x,t.y=t.y+e.y,t.z=t.z+e.z},qd.$metadata$={kind:$,simpleName:"DragMethod",interfaces:[P]},qd.values=function(){return[Vd(),Wd(),Gd()]},qd.valueOf_61zpoe$=function(t){switch(t){case"NONE":return Vd();case"ROTATE":return Wd();case"PAN":return Gd();default:T("No enum constant de.fabmax.kool.scene.OrbitInputTransform.DragMethod."+t)}},Hd.$metadata$={kind:$,simpleName:"ZoomMethod",interfaces:[P]},Hd.values=function(){return[Kd(),Yd()]},Hd.valueOf_61zpoe$=function(t){switch(t){case"ZOOM_CENTER":return Kd();case"ZOOM_TRANSLATE":return Yd();default:T("No enum constant de.fabmax.kool.scene.OrbitInputTransform.ZoomMethod."+t)}},Fd.$metadata$={kind:$,simpleName:"OrbitInputTransform",interfaces:[sf,ad]},Zd.$metadata$={kind:$,simpleName:"PanBase",interfaces:[]},Jd.prototype.computePanPoint_467c2i$=function(t,e,n,i){return this.panPlane.p.set_czzhiu$(e.camera.globalLookAt),this.panPlane.n.set_czzhiu$(e.camera.globalLookDir),e.camera.computePickRay_k7d561$(this.pointerRay_0,n.x,n.y,e.viewport,i)&&this.panPlane.intersectionPoint_lplggz$(this.pointerRay_0,t)},Jd.$metadata$={kind:$,simpleName:"CameraOrthogonalPan",interfaces:[Zd]},Qd.prototype.computePanPoint_467c2i$=function(t,e,n,i){return this.panPlane.p.set_czzhiu$(e.camera.globalLookAt),e.camera.computePickRay_k7d561$(this.pointerRay_0,n.x,n.y,e.viewport,i)&&this.panPlane.intersectionPoint_lplggz$(this.pointerRay_0,t)},Qd.$metadata$={kind:$,simpleName:"FixedPlanePan",interfaces:[Zd]},tf.prototype.addPoint_tohjaj$=function(t){var e,n,i,o=this.geometry;o.checkBufferSizes_za3lpa$(),e=o.vertexSizeF;for(var r=1;r<=e;r++)o.dataF.plusAssign_mx4ult$(0);n=o.vertexSizeI;for(var s=1;s<=n;s++)o.dataI.plusAssign_za3lpa$(0);o.vertexIt.index=(i=o.numVertices,o.numVertices=i+1|0,i),t(o.vertexIt),o.bounds.add_czzhiu$(o.vertexIt.position),o.hasChanged=!0;var a=o.numVertices-1|0;return this.geometry.addIndex_za3lpa$(a),a},tf.prototype.addPoint_y9lm7v$=function(t,e,n){var i,o,r,s=this.geometry;s.checkBufferSizes_za3lpa$(),i=s.vertexSizeF;for(var a=1;a<=i;a++)s.dataF.plusAssign_mx4ult$(0);o=s.vertexSizeI;for(var l=1;l<=o;l++)s.dataI.plusAssign_za3lpa$(0);s.vertexIt.index=(r=s.numVertices,s.numVertices=r+1|0,r);var p,u=s.vertexIt;u.position.set_czzhiu$(t),u.color.set_czzhhz$(n),null!=(p=u.getFloatAttribute_nm2vx5$(of().ATTRIB_POINT_SIZE))&&(p.f=e),s.bounds.add_czzhiu$(s.vertexIt.position),s.hasChanged=!0;var c=s.numVertices-1|0;return this.geometry.addIndex_za3lpa$(c),c},tf.prototype.clear=function(){this.geometry.clear(),this.bounds.clear()},ef.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var nf=null;function of(){return null===nf&&new ef,nf}function rf(t){void 0===t&&(t=null),ad.call(this,t),this.lighting=new ld,this.camera=new td,this.onRenderScene=E(),this.mainRenderPass=new Il(this),this.mutOffscreenPasses_2k8cox$_0=E(),this.addOffscreenPasses_g83fdg$_0=E(),this.remOffscreenPasses_yrwi31$_0=E(),this.isPickingEnabled=!0,this.rayTest_odjp91$_0=new oo,this.hoverNode_ab2f3d$_0=null,this.dragPtrs_mbcqtw$_0=E(),this.dragHandlers_ipew8g$_0=E(),this.disposables_mcwga4$_0=E()}function sf(){}function af(){jf=this}function lf(t){var e=new qC;return e.centered(),t.cube_lhbb6w$(e),a}function pf(t){return t.texCoord.x=1-t.texCoord.x,a}function uf(t){t.vertexModFun=pf;var e=(new BC).uvDefaults();return e.steps=10,t.uvSphere_mojs8w$(e),a}function cf(t,n,i,o){var r,s;df(),void 0===n&&(n=0),zc.call(this,df().skyboxCubeShaderModel_vzi7zj$(n,i,o)),this.cubeMapSampler_0=null,this.environmentMap_dc5v0g$_0=t,this.onPipelineSetup.add_11rb$(ff),this.onPipelineCreated.add_11rb$((r=this,s=t,function(t,n,i){var o,l,p,u,c=r,h=r.model;t:do{var d;for(p=sc.ALL,d=h.stages.values.iterator();d.hasNext();){var f=d.next();if(0!=(f.stage.mask&p.mask)){var m,y,$=f.nodes;e:do{var b;for(b=$.iterator();b.hasNext();){var g=b.next();if(Dt(g.name,"skyboxCube")&&e.isType(g,Ou)){y=g;break e}}y=null}while(0);var v=null==(m=y)||e.isType(m,Ou)?m:_();if(null!=v){u=v;break t}}}u=null}while(0);return c.cubeMapSampler_0=null!=(o=u)?o.sampler:null,null!=(l=r.cubeMapSampler_0)&&(l.texture=s),a}))}function _f(){hf=this}tf.$metadata$={kind:$,simpleName:"PointMesh",interfaces:[$d]},Object.defineProperty(rf.prototype,"offscreenPasses",{configurable:!0,get:function(){return this.mutOffscreenPasses_2k8cox$_0}}),Object.defineProperty(rf.prototype,"isFrustumChecked",{configurable:!0,get:function(){return!1},set:function(t){}}),rf.prototype.addOffscreenPass_m1c2kf$=function(t){this.addOffscreenPasses_g83fdg$_0.add_11rb$(t)},rf.prototype.removeOffscreenPass_m1c2kf$=function(t){this.remOffscreenPasses_yrwi31$_0.add_11rb$(t)},rf.prototype.addOffscreenPasses_g83fdg$_1=function(){if(!this.addOffscreenPasses_g83fdg$_0.isEmpty()){var t;for(t=this.addOffscreenPasses_g83fdg$_0.iterator();t.hasNext();){var e=t.next();this.mutOffscreenPasses_2k8cox$_0.contains_11rb$(e)||this.mutOffscreenPasses_2k8cox$_0.add_11rb$(e)}this.addOffscreenPasses_g83fdg$_0.clear()}},rf.prototype.removeOffscreenPasses_fgywi7$_0=function(){this.remOffscreenPasses_yrwi31$_0.isEmpty()||(this.mutOffscreenPasses_2k8cox$_0.removeAll_brywnq$(this.remOffscreenPasses_yrwi31$_0),this.remOffscreenPasses_yrwi31$_0.clear())},rf.prototype.renderScene_aemszp$=function(t){var e,n;this.removeOffscreenPasses_fgywi7$_0(),this.addOffscreenPasses_g83fdg$_1(),e=this.onRenderScene;for(var i=0;i!==e.size;++i)this.onRenderScene.get_za3lpa$(i)(this,t);this.mainRenderPass.update_aemszp$(t),n=this.offscreenPasses;for(var o=0;o!==n.size;++o){var r=this.offscreenPasses.get_za3lpa$(o);r.isEnabled&&(r.update_aemszp$(t),r.collectDrawCommands_aemszp$(t))}this.mainRenderPass.collectDrawCommands_aemszp$(t)},rf.prototype.processInput_aemszp$=function(t){this.handleInput_gqm22e$_0(t)},rf.prototype.update_kma0q5$=function(t){var e;e=this.disposables_mcwga4$_0;for(var n=0;n!==e.size;++n)this.disposables_mcwga4$_0.get_za3lpa$(n).dispose_aemszp$(t.ctx);this.disposables_mcwga4$_0.clear(),ad.prototype.update_kma0q5$.call(this,t)},rf.prototype.dispose_ipew3$=function(t){this.disposables_mcwga4$_0.add_11rb$(t)},rf.prototype.dispose_aemszp$=function(t){var e,n;for(n=this.disposables_mcwga4$_0.iterator();n.hasNext();)n.next().dispose_aemszp$(t);this.disposables_mcwga4$_0.clear(),this.mainRenderPass.dispose_aemszp$(t),e=this.offscreenPasses;for(var i=0;i!==e.size;++i)this.offscreenPasses.get_za3lpa$(i).dispose_aemszp$(t);this.remOffscreenPasses_yrwi31$_0.clear(),this.mutOffscreenPasses_2k8cox$_0.clear(),ad.prototype.dispose_aemszp$.call(this,t)},rf.prototype.registerDragHandler_y44tw7$=function(t){this.dragHandlers_ipew8g$_0.contains_11rb$(t)||this.dragHandlers_ipew8g$_0.add_11rb$(t)},rf.prototype.removeDragHandler_y44tw7$=function(t){this.dragHandlers_ipew8g$_0.remove_11rb$(t)},rf.prototype.computeRay_wswg9$=function(t,e,n){return this.camera.computePickRay_2cu1go$(n,t,this.mainRenderPass.viewport,e)},rf.prototype.handleInput_gqm22e$_0=function(t){var e,n,i,o=null,r=this.hoverNode_ab2f3d$_0,s=t.inputMgr.pointerState.primaryPointer;if(this.isPickingEnabled&&s.isValid&&!s.isConsumed_za3lpa$()){if(s.isInViewport_hrtwbc$(this.mainRenderPass.viewport,t)&&this.camera.initRayTes_clwnka$(this.rayTest_odjp91$_0,s,this.mainRenderPass.viewport,t)&&(this.rayTest_jljx4v$(this.rayTest_odjp91$_0),this.rayTest_odjp91$_0.isHit&&(o=this.rayTest_odjp91$_0.hitNode)),!Dt(r,o)){if(null!=r){e=r.onHoverExit;for(var a=0;a!==e.size;++a)r.onHoverExit.get_za3lpa$(a)(r,s,this.rayTest_odjp91$_0,t)}if(null!=o){n=o.onHoverEnter;for(var l=0;l!==n.size;++l)o.onHoverEnter.get_za3lpa$(l)(o,s,this.rayTest_odjp91$_0,t)}this.hoverNode_ab2f3d$_0=o}if(null!=o&&Dt(r,o)){i=o.onHover;for(var p=0;p!==i.size;++p)o.onHover.get_za3lpa$(p)(o,s,this.rayTest_odjp91$_0,t)}this.handleDrag_dsfjhm$_0(t)}},rf.prototype.handleDrag_dsfjhm$_0=function(t){var e,n;this.dragPtrs_mbcqtw$_0.clear(),e=t.inputMgr.pointerState.pointers;for(var i=0;i!==e.length;++i){var o=t.inputMgr.pointerState.pointers[i];o.isValid&&o.isInViewport_hrtwbc$(this.mainRenderPass.viewport,t)&&(0!==o.buttonMask||0!==o.buttonEventMask||0!==o.deltaScroll)&&this.dragPtrs_mbcqtw$_0.add_11rb$(o)}for(n=D(A(this.dragHandlers_ipew8g$_0)).iterator();n.hasNext();){var r=n.next();this.dragHandlers_ipew8g$_0.get_za3lpa$(r).handleDrag_urvnay$(this.dragPtrs_mbcqtw$_0,this,t)}},sf.$metadata$={kind:Z,simpleName:"DragHandler",interfaces:[]},rf.$metadata$={kind:$,simpleName:"Scene",interfaces:[ad]},af.prototype.cube_o7q6nm$=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=!0),void 0===i&&(i=!1);var o=new $d(new Uz(qt(hs().POSITIONS)),"skybox-cube");return o.generate_v2sixm$(lf),o.isFrustumChecked=!1,o.isCastingShadow=!1,o.shader=new cf(t,e,n,i),o},af.prototype.sphere_457yi7$=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=!0),void 0===i&&(i=!1);var o=new $d(new Uz(Rt([hs().POSITIONS,hs().TEXTURE_COORDS])),"skybox-cube");return o.generate_v2sixm$(uf),o.isFrustumChecked=!1,o.isCastingShadow=!1,o.shader=new mf(t,e,n,i),o},Object.defineProperty(cf.prototype,"environmentMap",{configurable:!0,get:function(){return this.environmentMap_dc5v0g$_0},set:function(t){var e;this.environmentMap_dc5v0g$_0=t,null!=(e=this.cubeMapSampler_0)&&(e.texture=t)}}),_f.prototype.skyboxCubeShaderModel_vzi7zj$=function(t,e,n){var i=new tu("skybox-cube"),o={v:null},r=new nu(i),s=r.mvpNode(),a=r.vec3TransformNode_vid4wo$(r.attrPositions().output,s.outModelMat,1);o.v=r.stageInterfaceNode_iikjwn$("ifLocalPos",a.outVec3),r.positionOutput=r.addNode_u9w9by$(new vf(s,r.attrPositions().output,r.stage)).outPosition;var l=new iu(i),p=l.textureCubeSamplerNode_ub8j0u$(l.textureCubeNode_61zpoe$("skyboxCube"),o.v.output);return 0!==t&&(p.texLod=new ru(new Pp(t))),e===n?l.colorOutput_a3v4si$(p.outColor):e?l.colorOutput_a3v4si$(l.hdrToLdrNode_r20yfm$(p.outColor).outColor):l.colorOutput_a3v4si$(l.gammaNode_ze33is$(p.outColor).outColor),i},_f.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var hf=null;function df(){return null===hf&&new _f,hf}function ff(t,e,n){return t.cullMethod=Pl(),t.depthTest=xl(),a}function mf(t,n,i,o){var r,s;bf(),void 0===n&&(n=0),zc.call(this,bf().skyboxSphereShaderModel_vzi7zj$(n,i,o)),this.textureSampler_0=null,this.environmentMap_gq82hk$_0=t,this.onPipelineSetup.add_11rb$(gf),this.onPipelineCreated.add_11rb$((r=this,s=t,function(t,n,i){var o,l,p,u,c=r,h=r.model;t:do{var d;for(p=sc.ALL,d=h.stages.values.iterator();d.hasNext();){var f=d.next();if(0!=(f.stage.mask&p.mask)){var m,y,$=f.nodes;e:do{var b;for(b=$.iterator();b.hasNext();){var g=b.next();if(Dt(g.name,"skyboxSphere")&&e.isType(g,ju)){y=g;break e}}y=null}while(0);var v=null==(m=y)||e.isType(m,ju)?m:_();if(null!=v){u=v;break t}}}u=null}while(0);return c.textureSampler_0=null!=(o=u)?o.sampler:null,null!=(l=r.textureSampler_0)&&(l.texture=s),a}))}function yf(){$f=this}cf.$metadata$={kind:$,simpleName:"SkyboxCubeShader",interfaces:[zc]},Object.defineProperty(mf.prototype,"environmentMap",{configurable:!0,get:function(){return this.environmentMap_gq82hk$_0},set:function(t){var e;this.environmentMap_gq82hk$_0=t,null!=(e=this.textureSampler_0)&&(e.texture=t)}}),yf.prototype.skyboxSphereShaderModel_vzi7zj$=function(t,e,n){var i=new tu("skybox-sphere"),o={v:null},r=new nu(i),s=r.mvpNode();o.v=r.stageInterfaceNode_iikjwn$("ifUv",r.attrTexCoords().output),r.positionOutput=r.addNode_u9w9by$(new vf(s,r.attrPositions().output,r.stage)).outPosition;var a=new iu(i),l=a.texture2dSamplerNode_fzevit$(a.texture2dNode_61zpoe$("skyboxSphere"),o.v.output);return 0!==t&&(l.texLod=new ru(new Pp(t))),e===n?a.colorOutput_a3v4si$(l.outColor):e?a.colorOutput_a3v4si$(a.hdrToLdrNode_r20yfm$(l.outColor).outColor):a.colorOutput_a3v4si$(a.gammaNode_ze33is$(l.outColor).outColor),i},yf.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var $f=null;function bf(){return null===$f&&new yf,$f}function gf(t,e,n){return t.cullMethod=Pl(),t.depthTest=xl(),a}function vf(t,e,n){ou.call(this,"skyboxPos",n,lc().mask),this.mvp=t,this.inPos=e,this.outPosition=new ru(new zp("skyboxPos_outPosition"),this)}mf.$metadata$={kind:$,simpleName:"SkyboxSphereShader",interfaces:[zc]},vf.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inPos),this.dependsOn_lhtstx$(this.mvp)},vf.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outPosition.declare()+" = ("+this.mvp.outMvpMat+" * vec4("+this.inPos.ref3f_61zpoe$()+", 0.0)).xyww;")},vf.$metadata$={kind:$,simpleName:"SkyboxPosNode",interfaces:[ou]},af.$metadata$={kind:b,simpleName:"Skybox",interfaces:[]};var xf,wf,zf,Cf,Sf,kf,Lf,jf=null;function Nf(t){void 0===t&&(t=C()),this.tags_0=t}function Pf(t,e){var n;Df.call(this,t,e),this.onClick=E(),this.textColorHovered=new Qm(O$().WHITE),this.isPressed_xi0anj$_0=!1,this.isHovered_k6sd62$_0=!1,this.ptrDownPos=co(),this.textAlignment=new pm(hm(),hm()),this.onHoverEnter.add_11rb$((n=this,function(t,e,i,o){return n.isHovered=!0,a})),this.onHoverExit.add_11rb$(function(t){return function(e,n,i,o){return t.isHovered=!1,t.isPressed=!1,a}}(this)),this.onHover.add_11rb$(function(t){return function(e,n,i,o){return n.isLeftButtonEvent&&(n.isLeftButtonDown?(t.ptrDownPos.set_dleff0$(i.hitPositionLocal.x-t.componentBounds.min.x,i.hitPositionLocal.y-t.componentBounds.min.y),t.isPressed=!0):t.isPressed&&(t.isPressed=!1,t.ptrDownPos.x=t.ptrDownPos.x-(i.hitPositionLocal.x-t.componentBounds.min.x),t.ptrDownPos.y=t.ptrDownPos.y-(i.hitPositionLocal.y-t.componentBounds.min.y),t.ptrDownPos.length()<nm(t,5)&&t.fireOnClick_kjsf19$(n,i,o))),a}}(this))}function Tf(t,e){var n;Bf.call(this,t,e),this.button=t,this.hoverAnimator=new Oy(new Ry(0,1)),this.colorWeightStd=1,this.colorWeightHovered=0,this.hoverEnterListener=(n=this,function(t,e,i,o){return n.hoverAnimator.duration=.1,n.hoverAnimator.speed=1,a}),this.hoverExitListener=function(t){return function(e,n,i,o){return t.hoverAnimator.duration=.2,t.hoverAnimator.speed=-1,a}}(this)}function Of(){}function Ef(){}function Mf(t){this.component=t,this.geometry=new Uz(Dm().UI_MESH_ATTRIBS),this.meshBuilder=new PC(this.geometry),this.mesh=new $d(this.geometry),this.shader=new Rm,this.color=new Qm(O$().BLACK.withAlpha_mx4ult$(.5))}function Rf(t){Mf.call(this,t)}function If(t,e,n,i){var o,r,s;Pm.call(this,n,i),this.menuAnimator_0=new Ey(new Ry(0,1)),this.menuButton_8be2vx$_2ldp8u$_0=this.menuButton_8be2vx$_2ldp8u$_0,this.menuAnimator_0.duration=.25,this.menuAnimator_0.speed=-1,this.menuAnimator_0.value.onUpdate=(o=this,function(t){return o.setScrollOffset_y2kzbl$(nm(o,40)*(1-t),0,0),o.alpha=t,a}),this.layoutSpec.setOrigin_4ujscr$(Xf(),Xf(),Xf()),this.layoutSpec.setSize_4ujscr$(t,Jf(100,!0),Kf()),this.alpha=0,null!=e&&(this.unaryPlus_uv0sim$(i.label_tokfmu$("title",(r=e,s=i,function(t){return t.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(-50,!0),Xf()),t.layoutSpec.setSize_4ujscr$(Jf(100,!0),Zf(40,!0),Kf()),t.textAlignment=new pm(hm(),hm()),t.text=r,t.textColor.setCustom_11rb$(s.theme.accentColor),t.onUpdate.add_11rb$(function(t,e){return function(n,i){return t.v&&(t.v=!1,e.font.setCustom_11rb$(Ym(e,i.ctx))),a}}({v:!0},t)),a}))),this.unaryPlus_uv0sim$(i.component_qphi6d$("divider",function(t){return function(e){e.layoutSpec.setOrigin_4ujscr$(Jf(5),Zf(-58,!0),Xf()),e.layoutSpec.setSize_4ujscr$(Jf(90),Zf(1,!0),Kf());var n=new Mf(e);return n.color.setCustom_11rb$(t.theme.accentColor),e.ui.setCustom_11rb$(n),a}}(i)))),i.toggleButton_6j87po$(n+"-menuButton",function(t){return function(e){return t.menuButton_8be2vx$=e,e.ui.setCustom_11rb$(new Af(t,e)),e.layoutSpec.setOrigin_4ujscr$(Zf(10,!0),Zf(-50,!0),Xf()),e.layoutSpec.setSize_4ujscr$(Zf(40,!0),Zf(40,!0),Kf()),a}}(this))}function Af(t,e){this.$outer=t,Sm.call(this,e,new Ef)}function Df(t,e){km.call(this,t,e),this.text_qvo458$_0=t,this.textAlignment_ux8xbn$_0=new pm(_m(),hm()),this.font=new Qm(null),this.textColor=new Qm(O$().WHITE)}function Bf(t,e){this.label=t,this.baseUi_tctiu8$_0=e,this.font=this.label.font.prop,this.textColor=M$(),this.geom=new Uz(Dm().UI_MESH_ATTRIBS),this.meshBuilder=new PC(this.geom),this.mesh=new $d(this.geom),this.shader=new Rm,this.textStartX=0,this.textWidth=0,this.textBaseline=0}function Ff(){this.width=Yf(0),this.height=Yf(0),this.depth=Yf(0),this.x=Yf(0),this.y=Yf(0),this.z=Yf(0)}function qf(t,e){P.call(this),this.name$=t,this.ordinal$=e}function Uf(){Uf=function(){},xf=new qf("UN",0),wf=new qf("DP",1),zf=new qf("MM",2),Cf=new qf("PC",3)}function Vf(){return Uf(),xf}function Wf(){return Uf(),wf}function Gf(){return Uf(),zf}function Hf(){return Uf(),Cf}function Xf(){return new sm(0,Vf())}function Kf(){return new sm(100,Hf())}function Yf(t,e){return void 0===e&&(e=!0),new sm(t,Vf(),e)}function Zf(t,e){return void 0===e&&(e=!0),new sm(t,Wf(),e)}function Jf(t,e){return void 0===e&&(e=!0),new sm(t,Hf(),e)}function Qf(t,e){return e*t/100}function tm(t,e){return t*e/96}function em(t,e){return t*e/25.4}function nm(t,e){return tm(e,t.dpi)}function im(t,e){return lt(e*t/100)}function om(t,e){return lt(t*e/96)}function rm(t,e){return lt(t*e/25.4)}function sm(t,e,n){void 0===n&&(n=!0),this.value=t,this.unit=e,this.roundToUnit=n}function am(t,e,n){sm.call(this,0,Vf()),this.left=t,this.right=e,this.add=n}function lm(t,e,n,i){this.top=t,this.bottom=e,this.left=n,this.right=i}function pm(t,e){this.xAlignment=t,this.yAlignment=e}function um(t,e){P.call(this),this.name$=t,this.ordinal$=e}function cm(){cm=function(){},Sf=new um("START",0),kf=new um("CENTER",1),Lf=new um("END",2)}function _m(){return cm(),Sf}function hm(){return cm(),kf}function dm(){return cm(),Lf}function fm(t,e,n){void 0===n&&(n=Lt(e.name)+"-scroll"),km.call(this,n,e.root),this.scrollTarget=e,this.trackColor=O$().GRAY.withAlpha_mx4ult$(.2),this.handleColor=O$().GRAY.withAlpha_mx4ult$(.75),this.verticalTrackBounds=new v$,this.verticalHandleBounds=new v$,this.horizontalTrackBounds=new v$,this.horizontalHandleBounds=new v$,this.scrollPosY_ted4vc$_0=new Iy(0),this.scrollPosYGuard_vhhi7b$_0=new Iy(0),this.pickRay_m6hrch$_0=new io,this.padding.set_m986jv$(Zf(3)),this.layoutSpec.setOrigin_4ujscr$(Xf(),Xf(),Xf()),this.layoutSpec.setSize_4ujscr$(this.scrollTarget.layoutSpec.width,this.scrollTarget.layoutSpec.height,this.scrollTarget.layoutSpec.depth),this.scrollPosY_ted4vc$_0.stiffness=300,this.scrollPosYGuard_vhhi7b$_0.stiffness=500,t.registerDragHandler_y44tw7$(this)}function mm(t){this.scrollHandler=t,this.geom=Jz([hs().POSITIONS,hs().NORMALS,hs().COLORS]),this.meshBuilder=new PC(this.geom),this.mesh=new $d(this.geom)}function ym(t,e,n,i,o){var r,s;km.call(this,t,o),this.onValueChanged=E(),this.onDragFinished=E(),this.trackColor=O$().GRAY,this.trackColorHighlighted=new Qm(O$().LIGHT_GRAY),this.knobColor=new Qm(O$().WHITE),this.trackWidth=0,this.knobSize=0,this.knobPosition=co(),this.min_c38r2y$_0=e,this.max_c38wrw$_0=n,this.value_ymubdz$_0=i,this.pickRay_0=new io,this.hitPlane_0=new Zi,this.hitPos_0=Mo(),this.initHitPos_0=Mo(),this.startDrag_0=!1,this.startDragValue_0=0,this.hitPlane_0.n.set_czzhiu$(Po().Z_AXIS),this.onHover.add_11rb$((r=this,s=o,function(t,e,n,i){var o=n.hitPositionLocal.x-r.componentBounds.min.x,l=n.hitPositionLocal.y-r.componentBounds.min.y;return e.isLeftButtonEvent&&e.isLeftButtonDown&&r.isOverKnob_0(o,l)&&(s.scene.registerDragHandler_y44tw7$(r),r.startDrag_0=!0),a}))}function $m(t,e){this.slider=t,this.baseUi=e,this.geom=new Uz(Dm().UI_MESH_ATTRIBS),this.meshBuilder=new PC(this.geom),this.mesh=new $d(this.geom),this.shader=new Rm}function bm(t,e){var n;Df.call(this,t,e),this.editText=new vm,this.onUpdate.add_11rb$((n=this,function(t,e){var i,o=e.ctx;if(!o.inputMgr.keyEvents.isEmpty()){for(i=o.inputMgr.keyEvents.iterator();i.hasNext();){var r=i.next();if(r.isCharTyped)n.editText.charTyped_s8itvh$(O(r.typedChar));else if(r.isPressed)switch(r.keyCode){case-17:n.editText.backspace();break;case-19:n.editText.deleteSelection();break;case-25:r.isCtrlDown?n.editText.moveCaret_fzusl$(3,r.isShiftDown):n.editText.moveCaret_fzusl$(1,r.isShiftDown);break;case-26:r.isCtrlDown?n.editText.moveCaret_fzusl$(4,r.isShiftDown):n.editText.moveCaret_fzusl$(2,r.isShiftDown);break;case-21:n.editText.moveCaret_fzusl$(5,r.isShiftDown);break;case-22:n.editText.moveCaret_fzusl$(6,r.isShiftDown)}}n.text=n.editText.toString()}return a}))}function gm(t,e){Bf.call(this,t,e),this.textField=t,this.caretAlphaAnimator_mmbcs$_0=new Ey(new Ry(0,1)),this.caretColor_qpd03i$_0=M$(),this.caretDrawPos_hkh11t$_0=new Ry(0,0),this.caretPosAnimator_3ucebe$_0=new Oy(this.caretDrawPos_hkh11t$_0),this.caretAlphaAnimator_mmbcs$_0.duration=.5,this.caretAlphaAnimator_mmbcs$_0.repeating=Ty().REPEAT_TOGGLE_DIR,this.caretPosAnimator_3ucebe$_0.duration=.1}function vm(t){zm(),void 0===t&&(t=""),this.text_x0rs8x$_0=t,this.caretPosition_lco9r8$_0=0,this.selectionStart_trwhxy$_0=0}function xm(){wm=this,this.MOVE_LEFT=1,this.MOVE_RIGHT=2,this.MOVE_WORD_LEFT=3,this.MOVE_WORD_RIGHT=4,this.MOVE_START=5,this.MOVE_END=6}Nf.prototype.addTag_61zpoe$=function(t){var e=d(t,61);if(e>=0){var n=m(t,new Ut(0,e-1|0)),i=e+1|0,o=t.substring(i);this.set_4w9ihe$(n,o)}else this.set_4w9ihe$(t,null)},Nf.prototype.set_4w9ihe$=function(t,e){this.put_xwzc9p$(t,null!=e?e.toString():null)},Nf.prototype.plusAssign_61zpoe$=function(t){this.addTag_61zpoe$(t)},Nf.prototype.hasTag_jyasbz$=function(t,e){return void 0===e&&(e=null),this.containsKey_11rb$(t)&&Dt(this.get_11rb$(t),e)},Nf.prototype.getBoolean_ivxn3r$=function(t,n){var i,o=this.get_11rb$(t);if(null==o)i=n;else try{i=Vt(o)}catch(t){if(!e.isType(t,B))throw t;i=n}return i},Nf.prototype.getInt_bm4lxs$=function(t,n){var i,o=this.get_11rb$(t);if(null==o)i=n;else try{i=Wt(o)}catch(t){if(!e.isType(t,B))throw t;i=n}return i},Nf.prototype.getFloat_9sobi5$=function(t,n){var i,o=this.get_11rb$(t);if(null==o)i=n;else try{i=Gt(o)}catch(t){if(!e.isType(t,B))throw t;i=n}return i},Nf.prototype.getDouble_io5o9c$=function(t,n){var i,o=this.get_11rb$(t);if(null==o)i=n;else try{i=Gt(o)}catch(t){if(!e.isType(t,B))throw t;i=n}return i},Nf.prototype.getTyped_pt3pci$=K("kool-kool-core.de.fabmax.kool.scene.Tags.getTyped_pt3pci$",Y((function(){var t=e.kotlin.Exception;return function(n,i,o){var r,s=this.get_11rb$(n);if(null==s)r=i;else try{r=o(s)}catch(n){if(!e.isType(n,t))throw n;r=i}return r}}))),Nf.prototype.toString=function(){var t,e=Ot(),n=z(this.size);for(t=this.entries.iterator();t.hasNext();){var i=t.next(),o=n.add_11rb$,r=i.key,s=i.value;o.call(n,null!=s?r+"="+Lt(s):r)}return Ht(n,e,void 0,"[","]"),e.toString()},Object.defineProperty(Nf.prototype,"entries",{get:function(){return this.tags_0.entries}}),Object.defineProperty(Nf.prototype,"keys",{get:function(){return this.tags_0.keys}}),Object.defineProperty(Nf.prototype,"size",{get:function(){return this.tags_0.size}}),Object.defineProperty(Nf.prototype,"values",{get:function(){return this.tags_0.values}}),Nf.prototype.clear=function(){return this.tags_0.clear()},Nf.prototype.containsKey_11rb$=function(t){return this.tags_0.containsKey_11rb$(t)},Nf.prototype.containsValue_11rc$=function(t){return this.tags_0.containsValue_11rc$(t)},Nf.prototype.get_11rb$=function(t){return this.tags_0.get_11rb$(t)},Nf.prototype.isEmpty=function(){return this.tags_0.isEmpty()},Nf.prototype.put_xwzc9p$=function(t,e){return this.tags_0.put_xwzc9p$(t,e)},Nf.prototype.putAll_a2k3zr$=function(t){return this.tags_0.putAll_a2k3zr$(t)},Nf.prototype.remove_11rb$=function(t){return this.tags_0.remove_11rb$(t)},Nf.$metadata$={kind:$,simpleName:"Tags",interfaces:[Xt]},Object.defineProperty(Pf.prototype,"isPressed",{configurable:!0,get:function(){return this.isPressed_xi0anj$_0},set:function(t){this.isPressed_xi0anj$_0=t}}),Object.defineProperty(Pf.prototype,"isHovered",{configurable:!0,get:function(){return this.isHovered_k6sd62$_0},set:function(t){this.isHovered_k6sd62$_0=t}}),Pf.prototype.fireOnClick_kjsf19$=function(t,e,n){var i;i=this.onClick;for(var o=0;o!==i.size;++o)this.onClick.get_za3lpa$(o)(this,t,e,n)},Pf.prototype.setThemeProps_aemszp$=function(t){Df.prototype.setThemeProps_aemszp$.call(this,t),this.textColorHovered.setTheme_11rb$(this.root.theme.accentColor)},Pf.prototype.createThemeUi_aemszp$=function(t){return this.root.theme.newButtonUi_t4rm0v$(this)},Pf.$metadata$={kind:$,simpleName:"Button",interfaces:[Df]},Tf.prototype.createUi_aemszp$=function(t){var e;Bf.prototype.createUi_aemszp$.call(this,t),this.hoverAnimator.speed=0,this.hoverAnimator.value.onUpdate=(e=this,function(t){return e.colorWeightHovered=t,e.colorWeightStd=1-t,e.button.requestUiUpdate(),a});var n=this.button.onHoverEnter,i=this.hoverEnterListener;n.add_11rb$(i);var o=this.button.onHoverExit,r=this.hoverExitListener;o.add_11rb$(r)},Tf.prototype.updateTextColor=function(){this.textColor.clear(),this.textColor.add_m79ulu$(this.button.textColor.apply(),this.colorWeightStd),this.textColor.add_m79ulu$(this.button.textColorHovered.apply(),this.colorWeightHovered)},Tf.prototype.dispose_aemszp$=function(t){Bf.prototype.dispose_aemszp$.call(this,t);var e=this.button.onHoverEnter,n=this.hoverEnterListener;e.remove_11rb$(n);var i=this.button.onHoverExit,o=this.hoverExitListener;i.remove_11rb$(o)},Tf.prototype.onRender_aemszp$=function(t){Bf.prototype.onRender_aemszp$.call(this,t),this.hoverAnimator.tick_aemszp$(t)},Tf.$metadata$={kind:$,simpleName:"ButtonUi",interfaces:[Bf]},Of.prototype.updateComponentAlpha=function(){},Of.prototype.createUi_aemszp$=function(t){},Of.prototype.updateUi_aemszp$=function(t){},Of.prototype.onRender_aemszp$=function(t){},Of.prototype.dispose_aemszp$=function(t){},Of.$metadata$={kind:Z,simpleName:"ComponentUi",interfaces:[ig]},Ef.$metadata$={kind:$,simpleName:"BlankComponentUi",interfaces:[Of]},Mf.prototype.updateComponentAlpha=function(){this.shader.alpha=this.component.alpha},Mf.prototype.createUi_aemszp$=function(t){this.color.setTheme_11rb$(this.component.root.theme.backgroundColor).apply(),this.mesh.shader=this.shader,this.component.addNode_xtids1$(this.mesh,0)},Mf.prototype.dispose_aemszp$=function(t){this.component.minusAssign_f1kmr1$(this.mesh),this.mesh.dispose_aemszp$(t)},Mf.prototype.updateUi_aemszp$=function(t){this.color.setTheme_11rb$(this.component.root.theme.backgroundColor).apply(),this.component.setupBuilder_84rojv$(this.meshBuilder),this.meshBuilder.color=this.color.prop;var e=this.meshBuilder,n=new FC;n.size.set_dleff0$(this.component.width,this.component.height),n.zeroTexCoords(),e.rect_e5k3t5$(n)},Mf.prototype.onRender_aemszp$=function(t){},Mf.$metadata$={kind:$,simpleName:"SimpleComponentUi",interfaces:[Of]},Rf.$metadata$={kind:$,simpleName:"BlurredComponentUi",interfaces:[Mf]},Object.defineProperty(If.prototype,"menuButton_8be2vx$",{configurable:!0,get:function(){return null==this.menuButton_8be2vx$_2ldp8u$_0?_t("menuButton"):this.menuButton_8be2vx$_2ldp8u$_0},set:function(t){this.menuButton_8be2vx$_2ldp8u$_0=t}}),Object.defineProperty(If.prototype,"isOpen",{configurable:!0,get:function(){return this.menuButton_8be2vx$.isEnabled},set:function(t){this.menuButton_8be2vx$.isEnabled=t}}),Object.defineProperty(If.prototype,"animationPos",{configurable:!0,get:function(){return this.menuAnimator_0.value.value}}),Af.prototype.createUi_aemszp$=function(t){Sm.prototype.createUi_aemszp$.call(this,t),this.knobAnimator.duration=.5,this.knobAnimator.value.onUpdate;var e,n,i=this.tb.onStateChange,o=(e=this,n=this.$outer,function(t){return n.menuAnimator_0.speed=e.tb.isEnabled?1:-1,a});i.add_11rb$(o),this.mesh.shader=new Rm},Af.prototype.onRender_aemszp$=function(t){Sm.prototype.onRender_aemszp$.call(this,t),this.$outer.menuAnimator_0.tick_aemszp$(t)},Af.prototype.updateUi_aemszp$=function(t){var e=.5*this.tb.width,n=.18*this.tb.height,i=-e/2,o=nm(this.tb,2.5);this.updateTextColor(),this.tb.setupBuilder_84rojv$(this.meshBuilder);var r=this.meshBuilder;r.color=new N$(0,0,0,0);var s=new EC;s.zeroTexCoords();var a=this.tb.width,l=this.tb.height;s.radius=R.min(a,l)/2,s.center.set_y2kzbl$(this.tb.width/2,this.tb.height/2,-4),s.steps=30,r.circle_59f34t$(s);var p=this.knobAnimator.value.value*-e*.1,u=e-this.knobAnimator.value.value*e*.4;r.color=this.textColor,r.translate_y2kzbl$(this.tb.width/2,this.tb.height/2,0),r.rotate_ad55pp$(180-180*this.knobAnimator.value.value,Po().Z_AXIS),r.transform.push(),r.translate_y2kzbl$(p,n,0),r.rotate_ad55pp$(45*this.knobAnimator.value.value,Po().Z_AXIS);var c=new FC;c.origin.set_y2kzbl$(i,-o/2,0),c.size.set_dleff0$(u,o),c.zeroTexCoords(),r.rect_e5k3t5$(c),r.transform.pop();var _=new FC;_.origin.set_y2kzbl$(i,-o/2,0),_.size.set_dleff0$(e,o),r.rect_e5k3t5$(_),r.transform.push(),r.translate_y2kzbl$(p,-n,0),r.rotate_ad55pp$(-45*this.knobAnimator.value.value,Po().Z_AXIS);var h=new FC;h.origin.set_y2kzbl$(i,-o/2,0),h.size.set_dleff0$(u,o),r.rect_e5k3t5$(h),r.transform.pop()},Af.$metadata$={kind:$,simpleName:"MenuButtonUi",interfaces:[Sm]},If.$metadata$={kind:$,simpleName:"DrawerMenu",interfaces:[Pm]},Object.defineProperty(Df.prototype,"text",{configurable:!0,get:function(){return this.text_qvo458$_0},set:function(t){Dt(t,this.text_qvo458$_0)||(this.text_qvo458$_0=t,this.requestUiUpdate())}}),Object.defineProperty(Df.prototype,"textAlignment",{configurable:!0,get:function(){return this.textAlignment_ux8xbn$_0},set:function(t){null!=t&&t.equals(this.textAlignment_ux8xbn$_0)||(this.textAlignment_ux8xbn$_0=t,this.requestUiUpdate())}}),Df.prototype.setThemeProps_aemszp$=function(t){km.prototype.setThemeProps_aemszp$.call(this,t),this.font.setTheme_11rb$(Km(this,t)),this.textColor.setTheme_11rb$(this.root.theme.foregroundColor)},Df.prototype.createThemeUi_aemszp$=function(t){return this.root.theme.newLabelUi_wviu0r$(this)},Df.$metadata$={kind:$,simpleName:"Label",interfaces:[km]},Bf.prototype.updateComponentAlpha=function(){this.baseUi_tctiu8$_0.updateComponentAlpha(),this.shader.alpha=this.label.alpha},Bf.prototype.createUi_aemszp$=function(t){this.baseUi_tctiu8$_0.createUi_aemszp$(t),this.mesh.shader=this.shader,this.label.plusAssign_f1kmr1$(this.mesh)},Bf.prototype.updateUi_aemszp$=function(t){this.baseUi_tctiu8$_0.updateUi_aemszp$(t),this.label.font.isUpdate||null!=this.label.font.prop||this.label.font.setCustom_11rb$(pg().defaultFont_aemszp$(t)),this.label.font.isUpdate&&(this.font=this.label.font.apply(),this.shader.font=this.font),this.label.setupBuilder_84rojv$(this.meshBuilder),this.updateTextColor(),this.computeTextMetrics(),this.renderText_aemszp$(t)},Bf.prototype.onRender_aemszp$=function(t){this.baseUi_tctiu8$_0.onRender_aemszp$(t)},Bf.prototype.dispose_aemszp$=function(t){this.baseUi_tctiu8$_0.dispose_aemszp$(t),this.label.minusAssign_f1kmr1$(this.mesh),this.mesh.dispose_aemszp$(t)},Bf.prototype.computeTextMetrics=function(){var t,n,i,o,r,s,a,l;switch(this.textWidth=null!=(n=null!=(t=this.font)?t.textWidth_61zpoe$(this.label.text):null)?n:0,this.label.textAlignment.xAlignment.name){case"START":i=this.label.padding.left.toUnits_dleff0$(this.label.width,this.label.dpi);break;case"CENTER":i=(this.label.width-this.textWidth)/2;break;case"END":i=this.label.width-this.textWidth-this.label.padding.right.toUnits_dleff0$(this.label.width,this.label.dpi);break;default:i=e.noWhenBranchMatched()}switch(this.textStartX=i,this.label.textAlignment.yAlignment.name){case"START":l=this.label.height-this.label.padding.top.toUnits_dleff0$(this.label.width,this.label.dpi)-(null!=(r=null!=(o=this.font)?o.normHeight:null)?r:0);break;case"CENTER":l=(this.label.height-(null!=(a=null!=(s=this.font)?s.normHeight:null)?a:0))/2;break;case"END":l=this.label.padding.bottom.toUnits_dleff0$(this.label.height,this.label.dpi);break;default:l=e.noWhenBranchMatched()}this.textBaseline=l},Bf.prototype.renderText_aemszp$=function(t){this.meshBuilder.color=this.textColor;var e=this.font;if(null!=e){var n=this.meshBuilder,i=new VC(e);i.origin.set_y2kzbl$(this.textStartX,this.textBaseline,nm(this.label,.1)),i.text=this.label.text,n.text_s8z339$(i,0)}},Bf.prototype.updateTextColor=function(){this.textColor.set_czzhhz$(this.label.textColor.apply())},Bf.$metadata$={kind:$,simpleName:"LabelUi",interfaces:[Of]},Ff.prototype.setOrigin_4ujscr$=function(t,e,n){this.x=t,this.y=e,this.z=n},Ff.prototype.setSize_4ujscr$=function(t,e,n){this.width=t,this.height=e,this.depth=n},Ff.prototype.set_m6ih2k$=function(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.x=t.x,this.y=t.y,this.z=t.z},Ff.$metadata$={kind:$,simpleName:"LayoutSpec",interfaces:[]},qf.$metadata$={kind:$,simpleName:"SizeUnit",interfaces:[P]},qf.values=function(){return[Vf(),Wf(),Gf(),Hf()]},qf.valueOf_61zpoe$=function(t){switch(t){case"UN":return Vf();case"DP":return Wf();case"MM":return Gf();case"PC":return Hf();default:T("No enum constant de.fabmax.kool.scene.ui.SizeUnit."+t)}},sm.prototype.toUnits_dleff0$=function(t,n){var i;if(this.roundToUnit)switch(this.unit.name){case"UN":i=lt(this.value);break;case"DP":i=om(this.value,n);break;case"MM":i=rm(this.value,n);break;case"PC":i=im(this.value,t);break;default:i=e.noWhenBranchMatched()}else switch(this.unit.name){case"UN":i=this.value;break;case"DP":i=tm(this.value,n);break;case"MM":i=em(this.value,n);break;case"PC":i=Qf(this.value,t);break;default:i=e.noWhenBranchMatched()}return i},sm.prototype.plus_m986jv$=function(t){return new am(this,t,!0)},sm.prototype.minus_m986jv$=function(t){return new am(this,t,!1)},sm.prototype.equals=function(t){return this===t||!!e.isType(t,sm)&&this.value===t.value&&this.unit===t.unit&&this.roundToUnit===t.roundToUnit},sm.prototype.hashCode=function(){var t=at(this.value);return t=(31*(t=(31*t|0)+this.unit.hashCode()|0)|0)+at(this.roundToUnit)|0},sm.$metadata$={kind:$,simpleName:"SizeSpec",interfaces:[]},am.prototype.toUnits_dleff0$=function(t,e){var n=this.left.toUnits_dleff0$(t,e),i=this.right.toUnits_dleff0$(t,e);return this.add?n+i:n-i},am.$metadata$={kind:$,simpleName:"CombSizeSpec",interfaces:[sm]},lm.prototype.set_m986jv$=function(t){this.set_107250$(t,t,t,t)},lm.prototype.set_107250$=function(t,e,n,i){this.top=t,this.bottom=e,this.left=n,this.right=i},lm.$metadata$={kind:$,simpleName:"Margin",interfaces:[]},lm.prototype.component1=function(){return this.top},lm.prototype.component2=function(){return this.bottom},lm.prototype.component3=function(){return this.left},lm.prototype.component4=function(){return this.right},lm.prototype.copy_107250$=function(t,e,n,i){return new lm(void 0===t?this.top:t,void 0===e?this.bottom:e,void 0===n?this.left:n,void 0===i?this.right:i)},lm.prototype.toString=function(){return"Margin(top="+e.toString(this.top)+", bottom="+e.toString(this.bottom)+", left="+e.toString(this.left)+", right="+e.toString(this.right)+")"},lm.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.top)|0)+e.hashCode(this.bottom)|0)+e.hashCode(this.left)|0)+e.hashCode(this.right)|0},lm.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.top,t.top)&&e.equals(this.bottom,t.bottom)&&e.equals(this.left,t.left)&&e.equals(this.right,t.right)},pm.$metadata$={kind:$,simpleName:"Gravity",interfaces:[]},pm.prototype.component1=function(){return this.xAlignment},pm.prototype.component2=function(){return this.yAlignment},pm.prototype.copy_9pkgn0$=function(t,e){return new pm(void 0===t?this.xAlignment:t,void 0===e?this.yAlignment:e)},pm.prototype.toString=function(){return"Gravity(xAlignment="+e.toString(this.xAlignment)+", yAlignment="+e.toString(this.yAlignment)+")"},pm.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.xAlignment)|0)+e.hashCode(this.yAlignment)|0},pm.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.xAlignment,t.xAlignment)&&e.equals(this.yAlignment,t.yAlignment)},um.$metadata$={kind:$,simpleName:"Alignment",interfaces:[P]},um.values=function(){return[_m(),hm(),dm()]},um.valueOf_61zpoe$=function(t){switch(t){case"START":return _m();case"CENTER":return hm();case"END":return dm();default:T("No enum constant de.fabmax.kool.scene.ui.Alignment."+t)}},fm.prototype.createThemeUi_aemszp$=function(t){return this.root.theme.newScrollHandlerUi_dz938y$(this)},fm.prototype.setDrawBoundsFromWrappedComponentBounds_hf6scw$=function(t,e){this.drawBounds.set_ea4od8$(this.scrollTarget.drawBounds),this.bounds.set_ea4od8$(this.drawBounds)},fm.prototype.handleDrag_urvnay$=function(t,e,n){if(0!==this.alpha){!t.isEmpty()&&!t.get_za3lpa$(0).isConsumed_za3lpa$()&&this.computeLocalPickRay_wswg9$(t.get_za3lpa$(0),n,this.pickRay_m6hrch$_0)&&this.bounds.hitDistanceSqr_nvyeur$(this.pickRay_m6hrch$_0)<st.MAX_VALUE&&(this.scrollPosY_ted4vc$_0.desired=this.scrollPosY_ted4vc$_0.desired+50*t.get_za3lpa$(0).deltaScroll,t.get_za3lpa$(0).consume_za3lpa$()),this.scrollPosY_ted4vc$_0.desired>0&&(this.scrollPosY_ted4vc$_0.desired>this.scrollPosYGuard_vhhi7b$_0.actual&&(this.scrollPosYGuard_vhhi7b$_0.actual=this.scrollPosY_ted4vc$_0.desired),this.scrollPosYGuard_vhhi7b$_0.desired=0,this.scrollPosY_ted4vc$_0.desired=this.scrollPosYGuard_vhhi7b$_0.animate_mx4ult$(n.deltaT));var i=this.scrollTarget.drawBounds.size.y-this.scrollTarget.contentBounds.size.y;this.scrollPosY_ted4vc$_0.desired<i&&(this.scrollPosY_ted4vc$_0.desired<this.scrollPosYGuard_vhhi7b$_0.actual&&(this.scrollPosYGuard_vhhi7b$_0.actual=this.scrollPosY_ted4vc$_0.desired),this.scrollPosYGuard_vhhi7b$_0.desired=i,this.scrollPosY_ted4vc$_0.desired=this.scrollPosYGuard_vhhi7b$_0.animate_mx4ult$(n.deltaT)),this.scrollPosY_ted4vc$_0.animate_mx4ult$(n.deltaT);var o,r=this.scrollTarget.scrollOffset.y,s=this.scrollPosY_ted4vc$_0.actual;o=Ij.FUZZY_EQ_F;var a=r-s;R.abs(a)<=o||this.scrollTarget.setScrollOffset_y2kzbl$(0,this.scrollPosY_ted4vc$_0.actual,0)}},fm.prototype.rayTest_jljx4v$=function(t){if(0!==this.alpha){var e=this.verticalTrackBounds.hitDistanceSqr_nvyeur$(t.ray),n=this.horizontalTrackBounds.hitDistanceSqr_nvyeur$(t.ray),i=R.min(e,n);i<st.MAX_VALUE&&i<=t.hitDistanceSqr&&t.setHit_vfk0k2$(this,R.sqrt(i))}},fm.$metadata$={kind:$,simpleName:"ScrollHandler",interfaces:[sf,km]},mm.prototype.updateComponentAlpha=function(){},mm.prototype.createUi_aemszp$=function(t){this.scrollHandler.plusAssign_f1kmr1$(this.mesh)},mm.prototype.updateUi_aemszp$=function(t){this.meshBuilder.clear(),this.meshBuilder.identity(),this.computeTrackBounds(),this.drawVerticalBar(),this.drawHorizontalBar()},mm.prototype.computeTrackBounds=function(){var t=this.scrollHandler.scrollTarget,e=t.drawBounds.size.y<t.contentBounds.size.y,n=t.drawBounds.size.x<t.contentBounds.size.x,i=t.drawBounds.size.x,o=t.drawBounds.size.y,r=this.scrollHandler.padding.top.toUnits_dleff0$(o,this.scrollHandler.dpi),s=this.scrollHandler.padding.bottom.toUnits_dleff0$(o,this.scrollHandler.dpi),a=this.scrollHandler.padding.left.toUnits_dleff0$(i,this.scrollHandler.dpi),l=this.scrollHandler.padding.right.toUnits_dleff0$(i,this.scrollHandler.dpi),p=nm(this.scrollHandler,6),u=nm(this.scrollHandler,.1),c=nm(this.scrollHandler,.25);if(e){var _=i-l-p,h=this.scrollHandler.padding.bottom.toUnits_dleff0$(o,this.scrollHandler.dpi)+(n?p+l:0),d=p,f=o-r-s-(n?p+l:0);this.scrollHandler.verticalTrackBounds.set_w8lrqs$(_,h,u,_+d,h+f,u).move_czzhiu$(t.drawBounds.min);var m=t.drawBounds.size.y/t.contentBounds.size.y*f,y=nm(this.scrollHandler,12),$=m<y?y:m>f?f:m,b=$-m,g=f-(b<0?0:b>f?f:b),v=(t.drawBounds.min.y-t.contentBounds.min.y)/t.contentBounds.size.y*g+h,x=h+f-$,w=v<h?h:v>x?x:v;this.scrollHandler.verticalHandleBounds.set_w8lrqs$(_,w,c,_+d,w+$,c).move_czzhiu$(t.drawBounds.min)}else this.scrollHandler.verticalTrackBounds.clear(),this.scrollHandler.verticalHandleBounds.clear();if(n){var z=a,C=s,S=this.scrollHandler.width-a-l-(e?p+l:0),k=p;this.scrollHandler.horizontalTrackBounds.set_w8lrqs$(z,C,u,z+S,C+k,u).move_czzhiu$(t.drawBounds.min);var L=t.drawBounds.size.x/t.contentBounds.size.x*S,j=nm(this.scrollHandler,12),N=L<j?j:L>S?S:L,P=N-L,T=S-(P<0?0:P>S?S:P),O=(t.drawBounds.min.x-t.contentBounds.min.x)/t.contentBounds.size.x*T+z,E=z+S-N,M=O<z?z:O>E?E:O;this.scrollHandler.horizontalHandleBounds.set_w8lrqs$(M,C,c,M+N,C+k,c).move_czzhiu$(t.drawBounds.min)}else this.scrollHandler.horizontalTrackBounds.clear(),this.scrollHandler.horizontalHandleBounds.clear()},mm.prototype.drawVerticalBar=function(){this.drawDefaultBar_xyh9j8$_0(this.scrollHandler.verticalTrackBounds,this.scrollHandler.verticalHandleBounds)},mm.prototype.drawHorizontalBar=function(){this.drawDefaultBar_xyh9j8$_0(this.scrollHandler.horizontalTrackBounds,this.scrollHandler.horizontalHandleBounds)},mm.prototype.drawDefaultBar_xyh9j8$_0=function(t,e){if(!t.isEmpty){this.meshBuilder.color=this.scrollHandler.trackColor;var n=this.meshBuilder,i=new FC;i.origin.set_y2kzbl$(t.min.x,t.min.y,t.min.z),i.size.set_dleff0$(t.size.x,t.size.y);var o=t.size.x,r=t.size.y;i.cornerRadius=R.min(o,r)/2,i.cornerSteps=4,i.zeroTexCoords(),n.rect_e5k3t5$(i)}if(!e.isEmpty){this.meshBuilder.color=this.scrollHandler.handleColor;var s=this.meshBuilder,a=new FC;a.origin.set_y2kzbl$(e.min.x,e.min.y,e.min.z),a.size.set_dleff0$(e.size.x,e.size.y);var l=e.size.x,p=e.size.y;a.cornerRadius=R.min(l,p)/2,a.cornerSteps=4,a.zeroTexCoords(),s.rect_e5k3t5$(a)}},mm.prototype.onRender_aemszp$=function(t){},mm.prototype.dispose_aemszp$=function(t){this.scrollHandler.minusAssign_f1kmr1$(this.mesh),this.mesh.dispose_aemszp$(t)},mm.$metadata$={kind:$,simpleName:"ScrollHandlerUi",interfaces:[Of]},Object.defineProperty(ym.prototype,"min",{configurable:!0,get:function(){return this.min_c38r2y$_0},set:function(t){t!==this.min_c38r2y$_0&&(this.min_c38r2y$_0=t,this.requestUiUpdate())}}),Object.defineProperty(ym.prototype,"max",{configurable:!0,get:function(){return this.max_c38wrw$_0},set:function(t){t!==this.max_c38wrw$_0&&(this.max_c38wrw$_0=t,this.requestUiUpdate())}}),Object.defineProperty(ym.prototype,"value",{configurable:!0,get:function(){return this.value_ymubdz$_0},set:function(t){var e;if(t!==this.value_ymubdz$_0){var n,i=this.min,o=this.max;n=t<i?i:t>o?o:t,this.value_ymubdz$_0=n,this.requestUiUpdate(),e=this.onValueChanged;for(var r=0;r!==e.size;++r)this.onValueChanged.get_za3lpa$(r)(this,this.value_ymubdz$_0)}}}),ym.prototype.setValue_y2kzbl$=function(t,e,n){this.min=t,this.max=e,this.value=n},ym.prototype.isOverKnob_0=function(t,e){var n=t-this.knobPosition.x,i=e-this.knobPosition.y;return n*n+i*i<this.knobSize*this.knobSize},ym.prototype.handleDrag_urvnay$=function(t,e,n){if(1===t.size&&!t.get_za3lpa$(0).isConsumed_za3lpa$()&&t.get_za3lpa$(0).isLeftButtonDown&&this.computeLocalPickRay_wswg9$(t.get_za3lpa$(0),n,this.pickRay_0)){if(this.hitPlane_0.intersectionPoint_lplggz$(this.pickRay_0,this.hitPos_0)){this.startDrag_0&&(this.startDrag_0=!1,this.initHitPos_0.set_czzhiu$(this.hitPos_0),this.startDragValue_0=this.value);var i=this.hitPos_0.x-this.initHitPos_0.x;this.value=this.startDragValue_0+i/this.trackWidth*(this.max-this.min)}t.get_za3lpa$(0).consume_za3lpa$()}else{var o;for(e.removeDragHandler_y44tw7$(this),o=this.onDragFinished.iterator();o.hasNext();)o.next()(this,this.value)}},ym.prototype.setThemeProps_aemszp$=function(t){km.prototype.setThemeProps_aemszp$.call(this,t),this.knobColor.setTheme_11rb$(this.root.theme.accentColor),this.trackColorHighlighted.setTheme_11rb$(M$().add_m79ulu$(this.root.theme.accentColor,.4))},ym.prototype.createThemeUi_aemszp$=function(t){return this.root.theme.newSliderUi_l85jm8$(this)},ym.$metadata$={kind:$,simpleName:"Slider",interfaces:[sf,km]},$m.prototype.updateComponentAlpha=function(){this.baseUi.updateComponentAlpha(),this.shader.alpha=this.slider.alpha},$m.prototype.createUi_aemszp$=function(t){this.baseUi.createUi_aemszp$(t),this.mesh.shader=this.shader,this.slider.plusAssign_f1kmr1$(this.mesh)},$m.prototype.dispose_aemszp$=function(t){this.baseUi.dispose_aemszp$(t),this.mesh.dispose_aemszp$(t),this.slider.minusAssign_f1kmr1$(this.mesh)},$m.prototype.updateUi_aemszp$=function(t){this.baseUi.updateUi_aemszp$(t),this.slider.knobSize=nm(this.slider,10);var e=nm(this.slider,6),n=this.slider.padding.left.toUnits_dleff0$(this.slider.width,this.slider.dpi)+this.slider.knobSize,i=(this.slider.height-e)/2,o=(this.slider.value-this.slider.min)/(this.slider.max-this.slider.min);if(this.slider.trackWidth=this.slider.width-n-this.slider.knobSize-this.slider.padding.right.toUnits_dleff0$(this.slider.width,this.slider.dpi),this.slider.knobPosition.set_dleff0$(n+this.slider.trackWidth*o,this.slider.height/2),this.slider.setupBuilder_84rojv$(this.meshBuilder),this.slider.value>this.slider.min){this.meshBuilder.color=this.slider.trackColorHighlighted.apply();var r=this.meshBuilder,s=new FC;s.origin.set_y2kzbl$(n,i,nm(this.slider,.1)),s.size.set_dleff0$(this.slider.knobPosition.x-n+e,e),s.cornerRadius=e/2,s.cornerSteps=4,s.zeroTexCoords(),r.rect_e5k3t5$(s)}if(this.slider.value<this.slider.max){this.meshBuilder.color=this.slider.trackColor;var a=this.meshBuilder,l=new FC;l.origin.set_y2kzbl$(this.slider.knobPosition.x-e,i,nm(this.slider,.1)),l.size.set_dleff0$(this.slider.trackWidth-this.slider.knobPosition.x+n+e,e),l.cornerRadius=e/2,l.cornerSteps=4,l.zeroTexCoords(),a.rect_e5k3t5$(l)}this.meshBuilder.color=this.slider.knobColor.apply();var p=this.meshBuilder,u=new EC;u.zeroTexCoords(),u.center.set_y2kzbl$(this.slider.knobPosition.x,this.slider.knobPosition.y,nm(this.slider,.2)),u.radius=this.slider.knobSize,u.steps=30,p.circle_59f34t$(u)},$m.prototype.onRender_aemszp$=function(t){this.baseUi.onRender_aemszp$(t)},$m.$metadata$={kind:$,simpleName:"SliderUi",interfaces:[Of]},bm.prototype.createThemeUi_aemszp$=function(t){return this.root.theme.newTextFieldUi_p39bdq$(this)},bm.$metadata$={kind:$,simpleName:"TextField",interfaces:[Df]},gm.prototype.onRender_aemszp$=function(t){this.textField.requestUiUpdate(),Bf.prototype.onRender_aemszp$.call(this,t)},gm.prototype.renderText_aemszp$=function(t){var e,n,i,o,r,s,a,l=this.label.padding.left.toUnits_dleff0$(this.label.width,this.label.dpi),p=this.label.width-this.label.padding.right.toUnits_dleff0$(this.label.width,this.label.dpi),u=this.textBaseline-.2*(null!=(o=null!=(i=null!=(n=null!=(e=this.font)?e.charMap:null)?n.fontProps:null)?i.sizePts:null)?o:0),c={v:this.textStartX},_={v:this.textStartX};if(this.textField.editText.caretPosition>0||this.textField.editText.selectionStart>0){var h=this.textField.editText.caretPosition,d=this.textField.editText.selectionStart;r=R.max(h,d)-1|0;for(var f=0;f<=r;f++){var m=null!=(a=null!=(s=this.font)?s.charWidth_s8itvh$(O(this.textField.editText.get_za3lpa$(f))):null)?a:0;f<this.textField.editText.caretPosition&&(c.v+=m),f<this.textField.editText.selectionStart&&(_.v+=m)}}c.v!==this.caretDrawPos_hkh11t$_0.to&&(this.caretDrawPos_hkh11t$_0.from=this.caretDrawPos_hkh11t$_0.value,this.caretDrawPos_hkh11t$_0.to=c.v,this.caretPosAnimator_3ucebe$_0.progress=0,this.caretPosAnimator_3ucebe$_0.speed=1),c.v=this.caretPosAnimator_3ucebe$_0.tick_aemszp$(t);var y,$,b,g,v=this.meshBuilder;if(v.transform.push(),v.translate_y2kzbl$(0,0,nm(this.label,.1)),this.meshBuilder.color=this.label.root.theme.accentColor,this.meshBuilder.line_s2l86p$(l,u,p,u,nm(this.label,1.5)),this.textField.editText.selectionStart!==this.textField.editText.caretPosition){this.caretColor_qpd03i$_0.set_czzhhz$(this.label.root.theme.accentColor),this.caretColor_qpd03i$_0.a=.4,this.meshBuilder.color=this.caretColor_qpd03i$_0;var x,w,z,C,S=this.meshBuilder,k=new FC;k.origin.set_y2kzbl$(c.v,u,0),k.size.set_dleff0$(_.v-c.v,1.2*(null!=(C=null!=(z=null!=(w=null!=(x=this.font)?x.charMap:null)?w.fontProps:null)?z.sizePts:null)?C:0)),k.zeroTexCoords(),S.rect_e5k3t5$(k)}this.caretColor_qpd03i$_0.set_czzhhz$(this.label.root.theme.accentColor),this.caretColor_qpd03i$_0.a=this.caretAlphaAnimator_mmbcs$_0.tick_aemszp$(t),this.meshBuilder.color=this.caretColor_qpd03i$_0,this.meshBuilder.line_s2l86p$(c.v,u,c.v,this.textBaseline+(null!=(g=null!=(b=null!=($=null!=(y=this.font)?y.charMap:null)?$.fontProps:null)?b.sizePts:null)?g:0),nm(this.label,1.5)),v.transform.pop(),Bf.prototype.renderText_aemszp$.call(this,t)},gm.$metadata$={kind:$,simpleName:"TextFieldUi",interfaces:[Bf]},Object.defineProperty(vm.prototype,"text",{configurable:!0,get:function(){return this.text_x0rs8x$_0},set:function(t){this.caretPosition>t.length&&(this.caretPosition=t.length),this.selectionStart>t.length&&(this.selectionStart=t.length),this.text_x0rs8x$_0=t}}),Object.defineProperty(vm.prototype,"caretPosition",{configurable:!0,get:function(){return this.caretPosition_lco9r8$_0},set:function(t){var e,n=this.text.length;e=t<0?0:t>n?n:t,this.caretPosition_lco9r8$_0=e}}),Object.defineProperty(vm.prototype,"selectionStart",{configurable:!0,get:function(){return this.selectionStart_trwhxy$_0},set:function(t){var e,n=this.text.length;e=t<0?0:t>n?n:t,this.selectionStart_trwhxy$_0=e}}),vm.prototype.charTyped_s8itvh$=function(t){this.replaceSelection_61zpoe$(String.fromCharCode(t))},vm.prototype.moveCaret_fzusl$=function(t,e){switch(t){case 1:this.caretPosition=this.caretPosition-1|0;break;case 2:this.caretPosition=this.caretPosition+1|0;break;case 5:this.caretPosition=0;break;case 6:this.caretPosition=this.text.length;break;case 3:this.moveWordLeft_0();break;case 4:this.moveWordRight_0()}e||(this.selectionStart=this.caretPosition)},vm.prototype.moveWordLeft_0=function(){if(this.caretPosition>0){var t=this.text,e=this.caretPosition,n=Kt(t.substring(0,e),32);this.caretPosition=n<0?0:n}},vm.prototype.moveWordRight_0=function(){if(this.caretPosition<this.text.length){var t=d(this.text,32,this.caretPosition);this.caretPosition=t<0?this.text.length:t+1|0}},vm.prototype.backspace=function(){if(this.selectionStart!==this.caretPosition)this.replaceSelection_61zpoe$("");else if(this.caretPosition>0){this.selectionStart=(this.caretPosition=this.caretPosition-1|0,this.caretPosition);var t=this.text,e=this.caretPosition,n=t.substring(0,e),i=this.text,o=this.caretPosition+1|0;this.text=n+i.substring(o)}},vm.prototype.deleteSelection=function(){if(this.selectionStart!==this.caretPosition)this.replaceSelection_61zpoe$("");else if(this.caretPosition<this.text.length){var t=this.text,e=this.caretPosition,n=t.substring(0,e),i=this.text,o=this.caretPosition+1|0;this.text=n+i.substring(o)}},vm.prototype.replaceSelection_61zpoe$=function(t){var e=this.selectionStart,n=this.caretPosition,i=R.min(e,n),o=this.selectionStart,r=this.caretPosition,s=R.max(o,r);this.text=this.text.substring(0,i)+t+this.text.substring(s);var a=this.selectionStart,l=this.caretPosition;this.caretPosition=R.min(a,l)+t.length|0,this.selectionStart=this.caretPosition},vm.prototype.get_za3lpa$=function(t){return N(this.text.charCodeAt(t))},vm.prototype.toString=function(){return this.text},xm.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var wm=null;function zm(){return null===wm&&new xm,wm}function Cm(t,e,n){void 0===n&&(n=!1),Pf.call(this,t,e),this.onStateChange=E(),this.knobColorOn=O$().WHITE,this.knobColorOff=O$().LIGHT_GRAY,this.trackColorOff=O$().GRAY,this.trackColorOn=O$().LIGHT_GRAY,this.isEnabled_gffhto$_0=n,this.textAlignment=new pm(_m(),hm())}function Sm(t,e){var n;Tf.call(this,t,e),this.tb=t,this.knobAnimator=new Ey(new Ry(0,1)),this.knobColor=M$(),this.trackColor=M$(),this.stateChangedListener=(n=this,function(t){return t.isEnabled?n.knobAnimator.speed=1:n.knobAnimator.speed=-1,a})}function km(t,e){ad.call(this,t),this.root=e,this.componentBounds=new v$,this.drawBounds=new v$,this.layoutSpec=new Ff,this.padding_iyk9nn$_0=new lm(Zf(16),Zf(16),Zf(16),Zf(16)),this.ui=new Qm(new Ef),this.alpha_e9jtsg$_0=1,this.isThemeUpdate_yv706e$_0=!0,this.isUiUpdate_l4k16n$_0=!0,this.onHoverEnter.add_11rb$(Lm),this.onHoverExit.add_11rb$(jm),this.onHover.add_11rb$(Nm)}function Lm(t,n,i,o){var r,s,l=e.isType(r=t.parent,km)?r:null;if(null!=l){s=l.onHoverEnter;for(var p=0;p!==s.size;++p)l.onHoverEnter.get_za3lpa$(p)(l,n,i,o)}return a}function jm(t,n,i,o){var r,s,l=e.isType(r=t.parent,km)?r:null;if(null!=l){s=l.onHoverExit;for(var p=0;p!==s.size;++p)l.onHoverExit.get_za3lpa$(p)(l,n,i,o)}return a}function Nm(t,n,i,o){var r,s,l=e.isType(r=t.parent,km)?r:null;if(null!=l){s=l.onHover;for(var p=0;p!==s.size;++p)l.onHover.get_za3lpa$(p)(l,n,i,o)}return a}function Pm(t,e){km.call(this,t,e),this.posInParent=Mo(),this.contentScale=1,this.customTransform=Tm,this.scrollOffsetMut=Mo(),this.isScrollDirty=!0,this.childComponents_65igag$_0=E(),this.scrollHandler_xer21f$_0=null,this.tmpChildBounds_j2uogg$_0=new v$,this.tmpVec1_md9h9y$_0=Mo(),this.tmpVec2_md9hat$_0=Mo()}function Tm(t){return a}function Om(t,e,n,i,o,r){void 0===o&&(o=300);var s=new Mm(t,o);return s.contentHeight=i,s.globalWidth=e,s.globalHeight=n,r(s),s}function Em(t,e,n,i){void 0===t&&(t=96),void 0===e&&(e=null),void 0===n&&(n=!0);var o,r,s=new rf(null!=e?e:"uiScene"),l=new Qh;return l.isClipToViewport=!0,l.near=-1e3,l.far=1e3,s.camera=l,n&&(s.mainRenderPass.clearColor=null),s.unaryPlus_uv0sim$(Om(s,1,1,null,t,(o=i,r=s,function(t){return t.isFillViewport=!0,o(t,r),a}))),s}function Mm(t,e,n){void 0===n&&(n="UiRoot"),Pd.call(this,n),this.scene=t,this.uiDpi=e,this.globalWidth_rlfw80$_0=1,this.globalHeight_5sxs8p$_0=1,this.globalDepth_ijlk77$_0=1,this.isFillViewport_fr53nm$_0=!1,this.theme_208sxy$_0=Hm().DARK,this.content=new Pm(n+"-content",this),this.contentHeight_17xsyl$_0=null,this.isLayoutNeeded_0=!0,this.content.parent=this,this.content.layoutSpec.setSize_4ujscr$(Jf(100),Jf(100),Jf(100))}function Rm(t){Dm(),void 0===t&&(t=new E_(O$().WHITE)),zc.call(this,Dm().uiShaderModel_0()),this.uAlpha_0=null,this.uFontSampler_0=null,this.alpha_dkua5e$_0=1,this.font_1rx0e3$_0=t}function Im(){Am=this,this.UI_MESH_ATTRIBS=Rt([hs().POSITIONS,hs().TEXTURE_COORDS,hs().COLORS]),this.U_ALPHA_0="uAlpha",this.U_FONT_TEX_0="uFontTex"}vm.$metadata$={kind:$,simpleName:"EditableText",interfaces:[]},Object.defineProperty(Cm.prototype,"isEnabled",{configurable:!0,get:function(){return this.isEnabled_gffhto$_0},set:function(t){t!==this.isEnabled_gffhto$_0&&(this.isEnabled_gffhto$_0=t,this.fireStateChanged())}}),Cm.prototype.fireStateChanged=function(){var t;t=this.onStateChange;for(var e=0;e!==t.size;++e)this.onStateChange.get_za3lpa$(e)(this)},Cm.prototype.fireOnClick_kjsf19$=function(t,e,n){this.isEnabled=!this.isEnabled,Pf.prototype.fireOnClick_kjsf19$.call(this,t,e,n)},Cm.prototype.setThemeProps_aemszp$=function(t){Pf.prototype.setThemeProps_aemszp$.call(this,t),this.knobColorOn=this.root.theme.accentColor,this.trackColorOn=M$().add_m79ulu$(this.root.theme.accentColor,.4)},Cm.prototype.createThemeUi_aemszp$=function(t){return this.root.theme.newToggleButtonUi_r83hfv$(this)},Cm.$metadata$={kind:$,simpleName:"ToggleButton",interfaces:[Pf]},Sm.prototype.createUi_aemszp$=function(t){var e,n,i;Tf.prototype.createUi_aemszp$.call(this,t),this.knobAnimator.speed=0,this.knobAnimator.duration=.15,n=this.knobAnimator.value,e=this.tb.isEnabled?1:0,n.value=e,this.knobAnimator.value.onUpdate=(i=this,function(t){return i.tb.requestUiUpdate(),a});var o=this.tb.onStateChange,r=this.stateChangedListener;o.add_11rb$(r)},Sm.prototype.dispose_aemszp$=function(t){Tf.prototype.dispose_aemszp$.call(this,t);var e=this.tb.onStateChange,n=this.stateChangedListener;e.remove_11rb$(n)},Sm.prototype.updateUi_aemszp$=function(t){Tf.prototype.updateUi_aemszp$.call(this,t);var e=this.tb.padding.right.toUnits_dleff0$(this.tb.width,this.tb.dpi),n=nm(this.tb,24),i=nm(this.tb,6),o=nm(this.tb,10),r=this.tb.width-e-n-o,s=(this.tb.height-i)/2,a=this.knobAnimator.value.value;this.trackColor.clear(),this.trackColor.add_m79ulu$(this.tb.trackColorOff,1-a),this.trackColor.add_m79ulu$(this.tb.trackColorOn,a),this.meshBuilder.color=this.trackColor;var l=this.meshBuilder,p=new FC;p.origin.set_y2kzbl$(r,s,nm(this.tb,.1)),p.size.set_dleff0$(n,i),p.cornerRadius=i/2,p.cornerSteps=4,p.zeroTexCoords(),l.rect_e5k3t5$(p),this.knobColor.clear(),this.knobColor.add_m79ulu$(this.tb.knobColorOff,1-a),this.knobColor.add_m79ulu$(this.tb.knobColorOn,a),this.meshBuilder.color=this.knobColor;var u=this.meshBuilder,c=new EC;c.zeroTexCoords(),c.center.set_y2kzbl$(r+n*a,s+i/2,nm(this.tb,.2)),c.radius=o,c.steps=30,u.circle_59f34t$(c)},Sm.prototype.onRender_aemszp$=function(t){Tf.prototype.onRender_aemszp$.call(this,t),this.knobAnimator.tick_aemszp$(t)},Sm.$metadata$={kind:$,simpleName:"ToggleButtonUi",interfaces:[Tf]},Object.defineProperty(km.prototype,"posX",{configurable:!0,get:function(){return this.componentBounds.min.x}}),Object.defineProperty(km.prototype,"posY",{configurable:!0,get:function(){return this.componentBounds.min.y}}),Object.defineProperty(km.prototype,"posZ",{configurable:!0,get:function(){return this.componentBounds.min.z}}),Object.defineProperty(km.prototype,"width",{configurable:!0,get:function(){return this.componentBounds.size.x}}),Object.defineProperty(km.prototype,"height",{configurable:!0,get:function(){return this.componentBounds.size.y}}),Object.defineProperty(km.prototype,"depth",{configurable:!0,get:function(){return this.componentBounds.size.z}}),Object.defineProperty(km.prototype,"padding",{configurable:!0,get:function(){return this.padding_iyk9nn$_0},set:function(t){var e;null!=(e=this.padding_iyk9nn$_0)&&e.equals(t)||(this.padding_iyk9nn$_0=t,this.isUiUpdate_l4k16n$_0=!0)}}),Object.defineProperty(km.prototype,"alpha",{configurable:!0,get:function(){return this.alpha_e9jtsg$_0},set:function(t){this.alpha_e9jtsg$_0!==t&&(this.alpha_e9jtsg$_0=t,this.updateComponentAlpha())}}),Object.defineProperty(km.prototype,"dpi",{configurable:!0,get:function(){return this.root.uiDpi}}),km.prototype.addNode_xtids1$$default=function(t,n){this.addNode_xtids1$(t,n,ad.prototype.addNode_xtids1$$default.bind(this)),e.isType(t,km)&&(t.alpha=this.alpha)},km.prototype.setupBuilder_84rojv$=function(t){t.clear(),t.identity(),t.translate_czzhiu$(this.componentBounds.min)},km.prototype.requestThemeUpdate=function(){this.isThemeUpdate_yv706e$_0=!0},km.prototype.requestUiUpdate=function(){this.isUiUpdate_l4k16n$_0=!0},km.prototype.updateComponentAlpha=function(){this.ui.prop.updateComponentAlpha()},km.prototype.updateUi_aemszp$=function(t){this.ui.prop.updateUi_aemszp$(t)},km.prototype.updateTheme_aemszp$=function(t){this.ui.prop.dispose_aemszp$(t),this.ui.setTheme_11rb$(this.createThemeUi_aemszp$(t)).apply(),this.setThemeProps_aemszp$(t),this.ui.prop.createUi_aemszp$(t),this.ui.prop.updateComponentAlpha(),this.requestUiUpdate()},km.prototype.updateComponent_aemszp$=function(t){var n,i;if(this.isThemeUpdate_yv706e$_0&&(this.isThemeUpdate_yv706e$_0=!1,this.updateTheme_aemszp$(t)),this.isUiUpdate_l4k16n$_0)for(this.isUiUpdate_l4k16n$_0=!1,this.updateUi_aemszp$(t),this.isFrustumChecked=this.root.isFrustumChecked,i=this.children.iterator();i.hasNext();)i.next().isFrustumChecked=this.root.isFrustumChecked;this.setDrawBoundsFromWrappedComponentBounds_hf6scw$(e.isType(n=this.parent,Pm)?n:null,t)},km.prototype.setDrawBoundsFromWrappedComponentBounds_hf6scw$=function(t,e){if(null!=t){var n=this.componentBounds.min.x,i=t.drawBounds.min.x,o=R.max(n,i),r=this.componentBounds.min.y,s=t.drawBounds.min.y,a=R.max(r,s),l=this.componentBounds.min.z,p=t.drawBounds.min.z,u=R.max(l,p),c=this.componentBounds.max.x,_=t.drawBounds.max.x,h=R.min(c,_),d=this.componentBounds.max.y,f=t.drawBounds.max.y,m=R.min(d,f),y=this.componentBounds.max.z,$=t.drawBounds.max.z,b=R.min(y,$);o>=h||a>=m||u>=b?this.drawBounds.clear():this.drawBounds.set_w8lrqs$(o,a,u,h,m,b)}else this.drawBounds.set_ea4od8$(this.componentBounds);this.bounds.set_ea4od8$(this.drawBounds)},km.prototype.setLocalBounds=function(){this.bounds.set_ea4od8$(this.drawBounds)},km.prototype.setThemeProps_aemszp$=function(t){},km.prototype.createThemeUi_aemszp$=function(t){return this.root.theme.componentUi(this)},km.prototype.collectDrawCommands_kma0q5$=function(t){this.isVisible&&this.alpha>0&&!this.bounds.isEmpty&&(this.ui.prop.onRender_aemszp$(t.ctx),ad.prototype.collectDrawCommands_kma0q5$.call(this,t))},km.prototype.doLayout_sq5703$=function(t,n){var i;this.componentBounds.isFuzzyEqual_ea4od8$(t)||(this.componentBounds.set_ea4od8$(t),this.requestUiUpdate()),this.setDrawBoundsFromWrappedComponentBounds_hf6scw$(e.isType(i=this.parent,Pm)?i:null,n)},km.prototype.rayTest_jljx4v$=function(t){if(0!==this.alpha){var n=t.hitNode;ad.prototype.rayTest_jljx4v$.call(this,t),n===t.hitNode||e.isType(t.hitNode,km)||t.setHit_ulhqnp$(this,t.hitPosition)}},km.prototype.computeLocalPickRay_wswg9$=function(t,e,n){var i=this.root.scene.computeRay_wswg9$(t,e,n);return i&&(this.toLocalCoords_w1lst9$(n.origin),this.toLocalCoords_w1lst9$(n.direction,0).norm()),i},km.$metadata$={kind:$,simpleName:"UiComponent",interfaces:[ad]},Object.defineProperty(Pm.prototype,"contentBounds",{configurable:!0,get:function(){return this.childrenBounds}}),Object.defineProperty(Pm.prototype,"scrollOffset",{configurable:!0,get:function(){return this.scrollOffsetMut}}),Pm.prototype.updateTheme_aemszp$=function(t){var e;km.prototype.updateTheme_aemszp$.call(this,t),e=this.childComponents_65igag$_0;for(var n=0;n!==e.size;++n)this.childComponents_65igag$_0.get_za3lpa$(n).requestThemeUpdate()},Pm.prototype.updateComponentAlpha=function(){var t;km.prototype.updateComponentAlpha.call(this),t=this.childComponents_65igag$_0;for(var e=0;e!==t.size;++e)this.childComponents_65igag$_0.get_za3lpa$(e).alpha=this.alpha},Pm.prototype.updateComponent_aemszp$=function(t){var e,n;this.isScrollDirty&&(this.isScrollDirty=!1,null!=(e=this.scrollHandler_xer21f$_0)&&e.requestUiUpdate(),this.updateTransform()),km.prototype.updateComponent_aemszp$.call(this,t),n=this.childComponents_65igag$_0;for(var i=0;i!==n.size;++i)this.childComponents_65igag$_0.get_za3lpa$(i).updateComponent_aemszp$(t)},Pm.prototype.doLayout_sq5703$=function(t,e){var n;this.applyBounds_sq5703$(t,e),this.contentBounds.clear(),n=this.childComponents_65igag$_0;for(var i=0;i!==n.size;++i){var o=this.childComponents_65igag$_0.get_za3lpa$(i);this.computeChildLayoutBounds_q1axsv$(this.tmpChildBounds_j2uogg$_0,o,e),this.contentBounds.add_ea4od8$(this.tmpChildBounds_j2uogg$_0),o.doLayout_sq5703$(this.tmpChildBounds_j2uogg$_0,e)}},Pm.prototype.createThemeUi_aemszp$=function(t){return this.root.theme.containerUi(this)},Pm.prototype.setDrawBoundsFromWrappedComponentBounds_hf6scw$=function(t,e){km.prototype.setDrawBoundsFromWrappedComponentBounds_hf6scw$.call(this,t,e),this.drawBounds.isEmpty?this.bounds.clear():(this.drawBounds.move_czzhiu$(this.scrollOffset),this.syncNodeBounds_aemszp$(e))},Pm.prototype.setLocalBounds=function(){var t;this.childrenBounds.clear(),t=this.childComponents_65igag$_0;for(var e=0;e!==t.size;++e)this.childrenBounds.add_ea4od8$(this.childComponents_65igag$_0.get_za3lpa$(e).componentBounds);this.bounds.set_ea4od8$(this.childrenBounds)},Pm.prototype.applyBounds_sq5703$=function(t,e){t.size.isFuzzyEqual_2qa7tb$(this.componentBounds.size)&&t.min.isFuzzyEqual_2qa7tb$(this.posInParent)||(this.posInParent.set_czzhiu$(t.min),this.updateTransform(),this.componentBounds.set_4lfkt4$(Po().ZERO,t.size),this.drawBounds.set_ea4od8$(this.componentBounds),this.syncNodeBounds_aemszp$(e),this.requestUiUpdate())},Pm.prototype.syncNodeBounds_aemszp$=function(t){var e,n,i,o,r,s;this.tmpVec1_md9h9y$_0.set_czzhiu$(this.drawBounds.min),this.tmpVec2_md9hat$_0.set_czzhiu$(this.drawBounds.max),this.transform.transform_w1lst9$(this.tmpVec1_md9h9y$_0),this.transform.transform_w1lst9$(this.tmpVec2_md9hat$_0),this.tmpVec1_md9h9y$_0.x<this.tmpVec2_md9hat$_0.x?(e=this.tmpVec1_md9h9y$_0.x,n=this.tmpVec2_md9hat$_0.x):(e=this.tmpVec2_md9hat$_0.x,n=this.tmpVec2_md9hat$_0.x),this.tmpVec1_md9h9y$_0.y<this.tmpVec2_md9hat$_0.y?(i=this.tmpVec1_md9h9y$_0.y,o=this.tmpVec2_md9hat$_0.y):(i=this.tmpVec2_md9hat$_0.y,o=this.tmpVec1_md9h9y$_0.y),this.tmpVec1_md9h9y$_0.z<this.tmpVec2_md9hat$_0.z?(r=this.tmpVec1_md9h9y$_0.z,s=this.tmpVec2_md9hat$_0.z):(r=this.tmpVec2_md9hat$_0.z,s=this.tmpVec1_md9h9y$_0.z),this.bounds.set_w8lrqs$(e,i,r,n,o,s)},Pm.prototype.updateTransform=function(){this.customTransform(this.setIdentity().scale_y2kzbl$(this.contentScale,this.contentScale,this.contentScale).translate_czzhiu$(this.posInParent).translate_y2kzbl$(-this.scrollOffsetMut.x,-this.scrollOffsetMut.y,-this.scrollOffsetMut.z))},Pm.prototype.computeChildLayoutBounds_q1axsv$=function(t,e,n){var i=e.layoutSpec.x.toUnits_dleff0$(this.componentBounds.size.x,this.dpi),o=e.layoutSpec.y.toUnits_dleff0$(this.componentBounds.size.y,this.dpi),r=e.layoutSpec.z.toUnits_dleff0$(this.componentBounds.size.z,this.dpi),s=e.layoutSpec.width.toUnits_dleff0$(this.componentBounds.size.x,this.dpi),a=e.layoutSpec.height.toUnits_dleff0$(this.componentBounds.size.y,this.dpi),l=e.layoutSpec.depth.toUnits_dleff0$(this.componentBounds.size.z,this.dpi);i<0&&(i+=this.width),o<0&&(o+=this.height),r<0&&(r+=this.depth),t.set_w8lrqs$(i,o,r,i+s,o+a,r+l)},Pm.prototype.setScrollOffset_czzhiu$=function(t){this.setScrollOffset_y2kzbl$(t.x,t.y,t.z)},Pm.prototype.setScrollOffset_y2kzbl$=function(t,e,n){t===this.scrollOffsetMut.x&&e===this.scrollOffsetMut.y&&n===this.scrollOffsetMut.z||(this.scrollOffsetMut.set_y2kzbl$(t,e,n),this.isScrollDirty=!0)},Pm.prototype.requestUpdateTransform=function(){this.isScrollDirty=!0},Pm.prototype.addNode_xtids1$$default=function(t,n){var i=!this.children.isEmpty()&&n<0&&e.isType(q(this.children),fm)?wt(this.children):n;this.addNode_xtids1$(t,i,km.prototype.addNode_xtids1$$default.bind(this)),e.isType(t,km)&&(this.childComponents_65igag$_0.add_11rb$(t),e.isType(t,fm)&&(this.scrollHandler_xer21f$_0=t))},Pm.prototype.removeNode_f1kmr1$=function(t){return e.isType(t,km)&&(this.childComponents_65igag$_0.remove_11rb$(t),Dt(t,this.scrollHandler_xer21f$_0)&&(this.scrollHandler_xer21f$_0=null)),km.prototype.removeNode_f1kmr1$.call(this,t)},Pm.prototype.removeAllChildren=function(){km.prototype.removeAllChildren.call(this),this.childComponents_65igag$_0.clear(),this.scrollHandler_xer21f$_0=null},Pm.$metadata$={kind:$,simpleName:"UiContainer",interfaces:[km]},Object.defineProperty(Mm.prototype,"globalWidth",{configurable:!0,get:function(){return this.globalWidth_rlfw80$_0},set:function(t){t!==this.globalWidth_rlfw80$_0&&(this.globalWidth_rlfw80$_0=t,this.isLayoutNeeded_0=!0)}}),Object.defineProperty(Mm.prototype,"globalHeight",{configurable:!0,get:function(){return this.globalHeight_5sxs8p$_0},set:function(t){t!==this.globalHeight_5sxs8p$_0&&(this.globalHeight_5sxs8p$_0=t,this.isLayoutNeeded_0=!0)}}),Object.defineProperty(Mm.prototype,"globalDepth",{configurable:!0,get:function(){return this.globalDepth_ijlk77$_0},set:function(t){t!==this.globalDepth_ijlk77$_0&&(this.globalDepth_ijlk77$_0=t,this.isLayoutNeeded_0=!0)}}),Object.defineProperty(Mm.prototype,"isFillViewport",{configurable:!0,get:function(){return this.isFillViewport_fr53nm$_0},set:function(t){t!==this.isFillViewport_fr53nm$_0&&(this.isFillViewport_fr53nm$_0=t,this.isLayoutNeeded_0=!0)}}),Object.defineProperty(Mm.prototype,"theme",{configurable:!0,get:function(){return this.theme_208sxy$_0},set:function(t){Dt(t,this.theme_208sxy$_0)||(this.theme_208sxy$_0=t,this.content.requestThemeUpdate())}}),Object.defineProperty(Mm.prototype,"contentHeight",{configurable:!0,get:function(){return this.contentHeight_17xsyl$_0},set:function(t){this.contentHeight_17xsyl$_0=t,this.isLayoutNeeded_0=!0}}),Object.defineProperty(Mm.prototype,"bounds",{configurable:!0,get:function(){return this.content.bounds}}),Mm.prototype.setGlobalSize_y2kzbl$=function(t,e,n){this.isFillViewport=!1,this.globalWidth=t,this.globalHeight=e,this.globalDepth=n},Mm.prototype.requestLayout=function(){this.isLayoutNeeded_0=!0},Mm.prototype.update_kma0q5$=function(t){var e=this.scene.mainRenderPass.viewport;if(!this.isFillViewport||this.globalWidth===e.width&&this.globalHeight===e.height||(this.globalWidth=e.width,this.globalHeight=e.height),this.isLayoutNeeded_0){this.isLayoutNeeded_0=!1;var n=1,i=this.contentHeight;null!=i&&(n=1/(i.toUnits_dleff0$(this.globalHeight,this.uiDpi)/this.globalHeight));var o=(new v$).set_w8lrqs$(0,0,0,this.globalWidth/n,this.globalHeight/n,this.globalDepth/n);this.content.contentScale=n,this.content.doLayout_sq5703$(o,t.ctx)}this.content.update_kma0q5$(t),Pd.prototype.update_kma0q5$.call(this,t),this.content.updateComponent_aemszp$(t.ctx)},Mm.prototype.collectDrawCommands_kma0q5$=function(t){Pd.prototype.collectDrawCommands_kma0q5$.call(this,t),this.content.collectDrawCommands_kma0q5$(t)},Mm.prototype.dispose_aemszp$=function(t){Pd.prototype.dispose_aemszp$.call(this,t),this.content.dispose_aemszp$(t)},Mm.prototype.rayTest_jljx4v$=function(t){Pd.prototype.rayTest_jljx4v$.call(this,t),this.content.rayTest_jljx4v$(t)},Mm.prototype.unaryPlus_uv0sim$=function(t){this.content.addNode_xtids1$(t)},Mm.prototype.unaryPlus_63m4fk$=function(t){this.content.addNode_xtids1$(t),this.content.addNode_xtids1$(t.menuButton_8be2vx$)},Mm.prototype.component_qphi6d$=function(t,e){var n=new km(t,this);return e(n),n},Mm.prototype.container_t34sov$=function(t,e){var n=new Pm(t,this);return e(n),n},Mm.prototype.drawerMenu_enmky4$=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=Zf(250,!0));var o=new If(n,e,t,this);return i(o),o},Mm.prototype.button_9zrh0o$=function(t,e){var n=new Pf(t,this);return e(n),n},Mm.prototype.label_tokfmu$=function(t,e){var n=new Df(t,this);return e(n),n},Mm.prototype.slider_87iqh3$=function(t,e){return this.slider_91a1dk$(t,0,100,50,e)},Mm.prototype.slider_91a1dk$=function(t,e,n,i,o){var r=new ym(t,e,n,i,this);return o(r),r},Mm.prototype.textField_peizi7$=function(t,e){var n=new bm(t,this);return e(n),n},Mm.prototype.toggleButton_6j87po$=function(t,e){var n=new Cm(t,this);return e(n),n},Mm.$metadata$={kind:$,simpleName:"UiRoot",interfaces:[Pd]},Object.defineProperty(Rm.prototype,"alpha",{configurable:!0,get:function(){return this.alpha_dkua5e$_0},set:function(t){var e,n;this.alpha_dkua5e$_0=t,null!=(n=null!=(e=this.uAlpha_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Rm.prototype,"font",{configurable:!0,get:function(){return this.font_1rx0e3$_0},set:function(t){var e;this.font_1rx0e3$_0=t,null!=(e=this.uFontSampler_0)&&(e.texture=t)}}),Rm.prototype.onPipelineSetup_x08qbx$=function(t,e,n){t.blendMode=fl(),t.cullMethod=Tl(),t.depthTest=xl(),zc.prototype.onPipelineSetup_x08qbx$.call(this,t,e,n)},Rm.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l,p,u=this.model,c=Dm().U_ALPHA_0;t:do{var h;for(l=sc.ALL,h=u.stages.values.iterator();h.hasNext();){var d=h.next();if(0!=(d.stage.mask&l.mask)){var f,m,y=d.nodes;e:do{var $;for($=y.iterator();$.hasNext();){var b=$.next();if(Dt(b.name,c)&&e.isType(b,Iu)){m=b;break e}}m=null}while(0);var g=null==(f=m)||e.isType(f,Iu)?f:_();if(null!=g){p=g;break t}}}p=null}while(0);this.uAlpha_0=p,null!=(r=null!=(o=this.uAlpha_0)?o.uniform:null)&&(r.value=this.alpha);var v,x,w=this.model,z=Dm().U_FONT_TEX_0;t:do{var C;for(v=sc.ALL,C=w.stages.values.iterator();C.hasNext();){var S=C.next();if(0!=(S.stage.mask&v.mask)){var k,L,j=S.nodes;e:do{var N;for(N=j.iterator();N.hasNext();){var P=N.next();if(Dt(P.name,z)&&e.isType(P,ju)){L=P;break e}}L=null}while(0);var T=null==(k=L)||e.isType(k,ju)?k:_();if(null!=T){x=T;break t}}}x=null}while(0);this.uFontSampler_0=null!=(s=x)?s.sampler:null,null!=(a=this.uFontSampler_0)&&(a.texture=this.font),zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},Im.prototype.uiShaderModel_0=function(){var t=new tu("UI Shader"),e={v:null},n={v:null},i=new nu(t);e.v=i.stageInterfaceNode_iikjwn$("ifTexCoords",i.attrTexCoords().output),n.v=i.stageInterfaceNode_iikjwn$("ifColors",i.attrColors().output),i.positionOutput=i.simpleVertexPositionNode().outVec4;var o=new iu(t),r=o.pushConstantNode1f_61zpoe$(this.U_ALPHA_0),s=o.texture2dSamplerNode_fzevit$(o.texture2dNode_61zpoe$(this.U_FONT_TEX_0),e.v.output),a=o.multiplyNode_ze33is$(s.outColor,r.output),l=o.colorAlphaNode_ze33is$(n.v.output,a.output);return o.colorOutput_a3v4si$(o.unlitMaterialNode_r20yfm$(l.outAlphaColor).outColor),t},Im.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Am=null;function Dm(){return null===Am&&new Im,Am}function Bm(){Hm(),this.backgroundColor_yt8dmb$_0=O$().BLACK,this.foregroundColor_sxfy5a$_0=O$().WHITE,this.accentColor_2rzgrt$_0=O$().LIME,this.standardFontProps_v4eg6a$_0=new rg(pg().SYSTEM_FONT,20),this.titleFontProps_idgbxl$_0=new rg(pg().SYSTEM_FONT,28),this.componentUi_rare29$_0=Yt("BlurredComponentUi",(function(t){return new Rf(t)})),this.containerUi_233tf$_0=Xm,this.buttonUi_667cek$_0=Yt("ButtonUi",(function(t,e){return new Tf(t,e)})),this.labelUi_9aobqe$_0=Yt("LabelUi",(function(t,e){return new Bf(t,e)})),this.scrollHandlerUi_k8xkq9$_0=Yt("ScrollHandlerUi",(function(t){return new mm(t)})),this.sliderUi_76d1mr$_0=Yt("SliderUi",(function(t,e){return new $m(t,e)})),this.textFieldUi_fr4mch$_0=Yt("TextFieldUi",(function(t,e){return new gm(t,e)})),this.toggleButtonUi_2tk5m0$_0=Yt("ToggleButtonUi",(function(t,e){return new Sm(t,e)}))}function Fm(){Gm=this,this.DARK=Zm(void 0,qm),this.DARK_SIMPLE=Zm(this.DARK,Um),this.LIGHT=Zm(void 0,Vm),this.LIGHT_SIMPLE=Zm(this.LIGHT,Wm)}function qm(t){return t.backgroundColor_d7aj7k$(O$().fromHex_61zpoe$("00141980")),t.foregroundColor_d7aj7k$(O$().WHITE),t.accentColor_d7aj7k$(O$().LIME),a}function Um(t){return t.componentUi_mloaa0$(Yt("SimpleComponentUi",(function(t){return new Mf(t)}))),a}function Vm(t){return t.backgroundColor_d7aj7k$(O$().WHITE.withAlpha_mx4ult$(.6)),t.foregroundColor_d7aj7k$(O$().MD_BLUE_GREY_900),t.accentColor_d7aj7k$(O$().MD_PINK),a}function Wm(t){return t.componentUi_mloaa0$(Yt("SimpleComponentUi",(function(t){return new Mf(t)}))),a}Rm.$metadata$={kind:$,simpleName:"UiShader",interfaces:[zc]},Object.defineProperty(Bm.prototype,"backgroundColor",{configurable:!0,get:function(){return this.backgroundColor_yt8dmb$_0},set:function(t){this.backgroundColor_yt8dmb$_0=t}}),Object.defineProperty(Bm.prototype,"foregroundColor",{configurable:!0,get:function(){return this.foregroundColor_sxfy5a$_0},set:function(t){this.foregroundColor_sxfy5a$_0=t}}),Object.defineProperty(Bm.prototype,"accentColor",{configurable:!0,get:function(){return this.accentColor_2rzgrt$_0},set:function(t){this.accentColor_2rzgrt$_0=t}}),Bm.prototype.standardFont_oei9ky$=function(t,e){return og(this.standardFontProps.family,this.standardFontProps.sizePts,t,e,this.standardFontProps.style,this.standardFontProps.chars)},Object.defineProperty(Bm.prototype,"standardFontProps",{configurable:!0,get:function(){return this.standardFontProps_v4eg6a$_0},set:function(t){this.standardFontProps_v4eg6a$_0=t}}),Bm.prototype.titleFont_oei9ky$=function(t,e){return og(this.titleFontProps.family,this.titleFontProps.sizePts,t,e,this.titleFontProps.style,this.titleFontProps.chars)},Object.defineProperty(Bm.prototype,"titleFontProps",{configurable:!0,get:function(){return this.titleFontProps_idgbxl$_0},set:function(t){this.titleFontProps_idgbxl$_0=t}}),Bm.prototype.newComponentUi_gzmg0q$=function(t){return this.componentUi(t)},Object.defineProperty(Bm.prototype,"componentUi",{configurable:!0,get:function(){return this.componentUi_rare29$_0},set:function(t){this.componentUi_rare29$_0=t}}),Bm.prototype.newContainerUi_xcf31a$=function(t){return this.containerUi(t)},Object.defineProperty(Bm.prototype,"containerUi",{configurable:!0,get:function(){return this.containerUi_233tf$_0},set:function(t){this.containerUi_233tf$_0=t}}),Bm.prototype.newButtonUi_t4rm0v$=function(t){return this.buttonUi(t,this.newComponentUi_gzmg0q$(t))},Object.defineProperty(Bm.prototype,"buttonUi",{configurable:!0,get:function(){return this.buttonUi_667cek$_0},set:function(t){this.buttonUi_667cek$_0=t}}),Bm.prototype.newLabelUi_wviu0r$=function(t){return this.labelUi(t,this.newComponentUi_gzmg0q$(t))},Object.defineProperty(Bm.prototype,"labelUi",{configurable:!0,get:function(){return this.labelUi_9aobqe$_0},set:function(t){this.labelUi_9aobqe$_0=t}}),Bm.prototype.newScrollHandlerUi_dz938y$=function(t){return this.scrollHandlerUi(t)},Object.defineProperty(Bm.prototype,"scrollHandlerUi",{configurable:!0,get:function(){return this.scrollHandlerUi_k8xkq9$_0},set:function(t){this.scrollHandlerUi_k8xkq9$_0=t}}),Bm.prototype.newSliderUi_l85jm8$=function(t){return this.sliderUi(t,this.newComponentUi_gzmg0q$(t))},Object.defineProperty(Bm.prototype,"sliderUi",{configurable:!0,get:function(){return this.sliderUi_76d1mr$_0},set:function(t){this.sliderUi_76d1mr$_0=t}}),Bm.prototype.newTextFieldUi_p39bdq$=function(t){return this.textFieldUi(t,this.newComponentUi_gzmg0q$(t))},Object.defineProperty(Bm.prototype,"textFieldUi",{configurable:!0,get:function(){return this.textFieldUi_fr4mch$_0},set:function(t){this.textFieldUi_fr4mch$_0=t}}),Bm.prototype.newToggleButtonUi_r83hfv$=function(t){return this.toggleButtonUi(t,this.newComponentUi_gzmg0q$(t))},Object.defineProperty(Bm.prototype,"toggleButtonUi",{configurable:!0,get:function(){return this.toggleButtonUi_2tk5m0$_0},set:function(t){this.toggleButtonUi_2tk5m0$_0=t}}),Fm.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Gm=null;function Hm(){return null===Gm&&new Fm,Gm}function Xm(t){return new Ef}function Km(t,e){return t.root.theme.standardFont_oei9ky$(t.dpi,e)}function Ym(t,e){return t.root.theme.titleFont_oei9ky$(t.dpi,e)}function Zm(t,e){void 0===t&&(t=null);var n=new Jm(t);return e(n),n}function Jm(t){Bm.call(this),null!=t&&(this.backgroundColor=t.backgroundColor,this.foregroundColor=t.foregroundColor,this.accentColor=t.accentColor,this.standardFontProps=t.standardFontProps,this.titleFontProps=t.titleFontProps,this.componentUi=t.componentUi,this.containerUi=t.containerUi,this.buttonUi=t.buttonUi,this.labelUi=t.labelUi,this.scrollHandlerUi=t.scrollHandlerUi,this.sliderUi=t.sliderUi,this.textFieldUi=t.textFieldUi,this.toggleButtonUi=t.toggleButtonUi)}function Qm(t){this.prop_5ushja$_0=t,this.themeVal_jacv1h$_0=t,this.isThemeSet_n9zltm$_0=!1,this.customVal_5f7u1l$_0=t,this.isCustom_s2c3c2$_0=!1}function ty(t){this.name=t,this.channels=E(),this.weight=1,this.speed=1,this.duration_dwtdbj$_0=1,this.animationNodes_0=E()}function ey(t,e){this.name=t,this.animationNode=e,this.keys=new gk,this.duration=0}function ny(t,e){ey.call(this,t,e)}function iy(t,e){ey.call(this,t,e)}function oy(t,e){ey.call(this,t,e)}function ry(t,e){ey.call(this,t,e)}function sy(){}function ay(t){this.target=t,this.initTranslation_0=Uo(),this.initRotation_0=cr(),this.initScale_0=new qo(1,1,1),this.animTranslation_0=Uo(),this.animRotation_0=cr(),this.animScale_0=Uo(),this.quatRotMat_0=new xi,this.weightedTransformMat_0=new xi;var e=cr();this.target.transform.getCol_8irwu3$(3,e),this.initTranslation_0.set_yvo9jy$(e.x,e.y,e.z),this.target.transform.getRotation_5s4mpx$(this.initRotation_0);var n=this.target.transform.getCol_8irwu3$(0,e).length(),i=this.target.transform.getCol_8irwu3$(0,e).length(),o=this.target.transform.getCol_8irwu3$(0,e).length();this.initScale_0.set_yvo9jy$(n,i,o)}function ly(t){this.target=t,this.weights_0=new Float32Array(1)}function py(t){this.time=t,this.interpolation=dy()}function uy(t,e){P.call(this),this.name$=t,this.ordinal$=e}function cy(){cy=function(){},new _y,new fy,new $y}function _y(){hy=this,uy.call(this,"LINEAR",0)}Bm.$metadata$={kind:$,simpleName:"UiTheme",interfaces:[]},Jm.prototype.backgroundColor_d7aj7k$=function(t){this.backgroundColor=t},Jm.prototype.foregroundColor_d7aj7k$=function(t){this.foregroundColor=t},Jm.prototype.accentColor_d7aj7k$=function(t){this.accentColor=t},Jm.prototype.standardFont_ttufcy$=function(t){this.standardFontProps=t},Jm.prototype.titleFont_ttufcy$=function(t){this.titleFontProps=t},Jm.prototype.componentUi_mloaa0$=function(t){this.componentUi=t},Jm.prototype.containerUi_2t3ptw$=function(t){this.containerUi=t},Jm.prototype.buttonUi_layl6g$=function(t){this.buttonUi=t},Jm.prototype.labelUi_zicoma$=function(t){this.labelUi=t},Jm.prototype.scrollHandlerUi_4p1ygc$=function(t){this.scrollHandlerUi=t},Jm.prototype.sliderUi_artm94$=function(t){this.sliderUi=t},Jm.prototype.textFieldUi_5ax6ok$=function(t){this.textFieldUi=t},Jm.prototype.toggleButtonUi_50ge0o$=function(t){this.toggleButtonUi=t},Jm.$metadata$={kind:$,simpleName:"ThemeBuilder",interfaces:[Bm]},Object.defineProperty(Qm.prototype,"prop",{configurable:!0,get:function(){return this.prop_5ushja$_0},set:function(t){this.prop_5ushja$_0=t}}),Object.defineProperty(Qm.prototype,"themeVal",{configurable:!0,get:function(){return this.themeVal_jacv1h$_0},set:function(t){this.themeVal_jacv1h$_0=t}}),Object.defineProperty(Qm.prototype,"isThemeSet",{configurable:!0,get:function(){return this.isThemeSet_n9zltm$_0},set:function(t){this.isThemeSet_n9zltm$_0=t}}),Object.defineProperty(Qm.prototype,"customVal",{configurable:!0,get:function(){return this.customVal_5f7u1l$_0},set:function(t){this.customVal_5f7u1l$_0=t}}),Object.defineProperty(Qm.prototype,"isCustom",{configurable:!0,get:function(){return this.isCustom_s2c3c2$_0},set:function(t){this.isCustom_s2c3c2$_0=t}}),Object.defineProperty(Qm.prototype,"isUpdate",{configurable:!0,get:function(){return this.isCustom&&!Dt(this.prop,this.customVal)||!this.isCustom&&this.isThemeSet&&!Dt(this.prop,this.themeVal)}}),Qm.prototype.setTheme_11rb$=function(t){return this.themeVal=t,this.isThemeSet=!0,this},Qm.prototype.setCustom_11rb$=function(t){return this.customVal=t,this.isCustom=!0,this},Qm.prototype.clearCustom=function(){this.isCustom=!1},Qm.prototype.apply=function(){return this.isCustom?this.prop=this.customVal:this.isThemeSet&&(this.prop=this.themeVal),this.prop},Qm.$metadata$={kind:$,simpleName:"ThemeOrCustomProp",interfaces:[]},Object.defineProperty(ty.prototype,"duration",{configurable:!0,get:function(){return this.duration_dwtdbj$_0},set:function(t){this.duration_dwtdbj$_0=t}}),ty.prototype.prepareAnimation=function(){var t,e,n,i=this.channels,o=z(M(i,10));for(e=i.iterator();e.hasNext();){var r=e.next();o.add_11rb$(r.lastKeyTime)}for(this.duration=null!=(t=Zt(o))?t:0,n=this.channels.iterator();n.hasNext();)n.next().duration=this.duration;var s,a=this.animationNodes_0,l=this.channels,p=z(M(l,10));for(s=l.iterator();s.hasNext();){var u=s.next();p.add_11rb$(u.animationNode)}zt(a,Jt(p))},ty.prototype.apply_8555vt$=function(t,e){var n,i,o,r;void 0===e&&(e=!0);var s=t*this.speed%this.duration;n=this.animationNodes_0;for(var a=0;a!==n.size;++a)this.animationNodes_0.get_za3lpa$(a).initTransform();i=this.channels;for(var l=0;l!==i.size;++l)this.channels.get_za3lpa$(l).apply_mx4ult$(s);if(1===this.weight){o=this.animationNodes_0;for(var p=0;p!==o.size;++p)this.animationNodes_0.get_za3lpa$(p).applyTransform()}else{r=this.animationNodes_0;for(var u=0;u!==r.size;++u)this.animationNodes_0.get_za3lpa$(u).applyTransformWeighted_8ca0d4$(this.weight,e)}},ty.prototype.printChannels=function(){var t;for(Mt(Lt(this.name)+" channels:"),t=this.channels.iterator();t.hasNext();){var e=t.next();Mt("  "+Lt(e.name)+" [node: "+Lt(e.animationNode.name)+"]"),e.printKeys_61zpoe$("    ")}},ty.$metadata$={kind:$,simpleName:"Animation",interfaces:[]},Object.defineProperty(ey.prototype,"lastKeyTime",{configurable:!0,get:function(){return this.keys.lastKey()}}),ey.prototype.apply_mx4ult$=function(t){var e=this.keys.floorValue_trkh7z$(t);if(null==e){var n,i=this.lastKeyTime,o=this.duration;n=Ij.FUZZY_EQ_F;var r=i-o;e=R.abs(r)<=n?this.keys.lastValue():this.keys.firstValue()}e.apply_8kwor9$(t,this.keys.higherValue_trkh7z$(t),this.animationNode)},ey.prototype.printKeys_61zpoe$=function(t){var e;void 0===t&&(t="");var n=Qt(this.keys.values),i=n.size;e=R.min(5,i);for(var o=0;o<e;o++)Mt(t+n.get_za3lpa$(o));n.size>5&&Mt(t+"  ..."+(n.size-5|0)+" more")},ey.$metadata$={kind:$,simpleName:"AnimationChannel",interfaces:[]},ny.$metadata$={kind:$,simpleName:"TranslationAnimationChannel",interfaces:[ey]},iy.$metadata$={kind:$,simpleName:"RotationAnimationChannel",interfaces:[ey]},oy.$metadata$={kind:$,simpleName:"ScaleAnimationChannel",interfaces:[ey]},ry.$metadata$={kind:$,simpleName:"WeightAnimationChannel",interfaces:[ey]},sy.prototype.initTransform=function(){},sy.prototype.setTranslation_czzhiw$=function(t){},sy.prototype.setRotation_czzhi1$=function(t){},sy.prototype.setScale_czzhiw$=function(t){},sy.prototype.setWeights_q3cr5i$=function(t){},sy.$metadata$={kind:Z,simpleName:"AnimationNode",interfaces:[]},Object.defineProperty(ay.prototype,"name",{configurable:!0,get:function(){return this.target.name}}),ay.prototype.initTransform=function(){this.animTranslation_0.set_czzhiw$(this.initTranslation_0),this.animRotation_0.set_czzhi1$(this.initRotation_0),this.animScale_0.set_czzhiw$(this.initScale_0)},ay.prototype.applyTransform=function(){this.target.setIdentity(),this.target.translate_czzhiw$(this.animTranslation_0),this.target.mul_d4zu6l$(this.quatRotMat_0.setRotate_czzhi1$(this.animRotation_0)),this.target.scale_yvo9jy$(this.animScale_0.x,this.animScale_0.y,this.animScale_0.z)},ay.prototype.applyTransformWeighted_8ca0d4$=function(t,e){if(this.weightedTransformMat_0.setIdentity(),this.weightedTransformMat_0.translate_czzhiw$(this.animTranslation_0),this.weightedTransformMat_0.mul_d4zu6l$(this.quatRotMat_0.setRotate_czzhi1$(this.animRotation_0)),this.weightedTransformMat_0.scale_yvo9jy$(this.animScale_0.x,this.animScale_0.y,this.animScale_0.z),e)for(var n=0;n<=15;n++)this.target.transform.matrix[n]=this.weightedTransformMat_0.matrix[n]*t;else for(var i=0;i<=15;i++)this.target.transform.matrix[i]=this.target.transform.matrix[i]+this.weightedTransformMat_0.matrix[i]*t;this.target.setDirty()},ay.prototype.setTranslation_czzhiw$=function(t){this.animTranslation_0.set_czzhiw$(t)},ay.prototype.setRotation_czzhi1$=function(t){this.animRotation_0.set_czzhi1$(t)},ay.prototype.setScale_czzhiw$=function(t){this.animScale_0.set_czzhiw$(t)},ay.$metadata$={kind:$,simpleName:"AnimatedTransformGroup",interfaces:[sy]},Object.defineProperty(ly.prototype,"name",{configurable:!0,get:function(){return this.target.name}}),ly.prototype.applyTransform=function(){this.target.morphWeights=this.weights_0},ly.prototype.applyTransformWeighted_8ca0d4$=function(t,e){var n,i=this.target.morphWeights;null!=i&&i.length===this.weights_0.length||(i=new Float32Array(this.weights_0.length),this.target.morphWeights=i),n=this.weights_0;for(var o=0;o!==n.length;++o)i[o]=e?this.weights_0[o]*t:i[o]+this.weights_0[o]*t},ly.prototype.setWeights_q3cr5i$=function(t){this.weights_0.length!==t.length&&(this.weights_0=new Float32Array(t.length));for(var e=0;e!==t.length;++e)this.weights_0[e]=t[e]},ly.$metadata$={kind:$,simpleName:"MorphAnimatedMesh",interfaces:[sy]},py.prototype.interpolationPos_dleff0$=function(t,e){var n;if(this.time!==e){var i=this.time<e?this.time:0;n=this.interpolation.getInterpolationPos_mx4ult$((t-i)/(e-i))}else n=0;return n},py.prototype.toString=function(){return Wh(this.time,2)+" -> ["+this.interpolation+"]"},_y.prototype.getInterpolationPos_mx4ult$=function(t){return t},_y.$metadata$={kind:$,simpleName:"LINEAR",interfaces:[uy]};var hy=null;function dy(){return cy(),hy}function fy(){my=this,uy.call(this,"STEP",1)}fy.prototype.getInterpolationPos_mx4ult$=function(t){return 0},fy.$metadata$={kind:$,simpleName:"STEP",interfaces:[uy]};var my=null;function yy(){return cy(),my}function $y(){by=this,uy.call(this,"CUBICSPLINE",2)}$y.prototype.getInterpolationPos_mx4ult$=function(t){return t},$y.$metadata$={kind:$,simpleName:"CUBICSPLINE",interfaces:[uy]};var by=null;function gy(){return cy(),by}function vy(t,e){py.call(this,t),this.rotation=e,this.tmpRotation_2somu9$_0=cr(),this.qa_lcvm40$_0=cr(),this.qb_lcvm4v$_0=cr(),this.qc_lcvm5q$_0=cr()}function xy(t,e,n,i){vy.call(this,t,e),this.startTan=n,this.endTan=i,this.p0_0=cr(),this.p1_0=cr(),this.m0_0=cr(),this.m1_0=cr()}function wy(t,e){py.call(this,t),this.translation=e,this.tmpTranslation_1fj65v$_0=Uo()}function zy(t,e,n,i){wy.call(this,t,e),this.startTan=n,this.endTan=i,this.p0_0=Uo(),this.p1_0=Uo(),this.m0_0=Uo(),this.m1_0=Uo()}function Cy(t,e){py.call(this,t),this.scale=e,this.tmpScale_fz7pzv$_0=Uo()}function Sy(t,e,n,i){Cy.call(this,t,e),this.startTan=n,this.endTan=i,this.p0_0=Uo(),this.p1_0=Uo(),this.m0_0=Uo(),this.m1_0=Uo()}function ky(t,e){py.call(this,t),this.weights=e,this.tmpW=new Float32Array(1)}function Ly(t,e,n,i){ky.call(this,t,e),this.startTan=n,this.endTan=i}function jy(t){Ty(),this.value=t,this.duration=1,this.speed=1,this.repeating=Ty().ONCE,this.progress=0}function Ny(){Py=this,this.ONCE=1,this.REPEAT=2,this.REPEAT_TOGGLE_DIR=3}uy.$metadata$={kind:$,simpleName:"Interpolation",interfaces:[P]},uy.values=function(){return[dy(),yy(),gy()]},uy.valueOf_61zpoe$=function(t){switch(t){case"LINEAR":return dy();case"STEP":return yy();case"CUBICSPLINE":return gy();default:T("No enum constant de.fabmax.kool.util.animation.AnimationKey.Interpolation."+t)}},py.$metadata$={kind:$,simpleName:"AnimationKey",interfaces:[]},vy.prototype.apply_8kwor9$=function(t,e,n){null==e?this.tmpRotation_2somu9$_0.set_czzhi1$(this.rotation):this.slerp_6dcy83$_0(this.rotation,e.rotation,this.interpolationPos_dleff0$(t,e.time),this.tmpRotation_2somu9$_0),n.setRotation_czzhi1$(this.tmpRotation_2somu9$_0)},vy.prototype.toString=function(){return Wh(this.time,2)+" -> rotation: "+this.rotation+" ["+this.interpolation+"]"},vy.prototype.slerp_6dcy83$_0=function(t,e,n,i){t.norm_5s4mpx$(this.qa_lcvm40$_0),e.norm_5s4mpx$(this.qb_lcvm4v$_0);var o=n<0?0:n>1?1:n,r=this.qa_lcvm40$_0.dot_czzhi1$(this.qb_lcvm4v$_0),s=r<-1?-1:r>1?1:r;if(s<0&&(this.qa_lcvm40$_0.scale_14dthe$(-1),s=-s),s>.9999995)this.qb_lcvm4v$_0.subtract_2x9ggw$(this.qa_lcvm40$_0,i).scale_14dthe$(o).add_czzhi1$(this.qa_lcvm40$_0).norm();else{var a=s,l=R.acos(a)*o;this.qa_lcvm40$_0.scale_b0flav$(-s,this.qc_lcvm5q$_0).add_czzhi1$(this.qb_lcvm4v$_0).norm(),this.qa_lcvm40$_0.scale_14dthe$(R.cos(l)),this.qc_lcvm5q$_0.scale_14dthe$(R.sin(l)),i.set_czzhi1$(this.qa_lcvm40$_0).add_czzhi1$(this.qc_lcvm5q$_0)}return i},vy.$metadata$={kind:$,simpleName:"RotationKey",interfaces:[py]},xy.prototype.apply_8kwor9$=function(t,e,n){if(null==e)n.setRotation_czzhi1$(this.rotation);else{var i=this.interpolationPos_dleff0$(t,e.time),o=i*i,r=i*i*i,s=2*r-3*o+1,a=r-2*o+i,l=-2*r+3*o,p=r-o;this.p0_0.set_czzhi1$(this.rotation).scale_14dthe$(s),this.m0_0.set_czzhi1$(this.startTan).scale_14dthe$(a),this.p1_0.set_czzhi1$(e.rotation).scale_14dthe$(l),this.m1_0.set_czzhi1$(this.endTan).scale_14dthe$(p),n.setRotation_czzhi1$(this.p0_0.add_czzhi1$(this.m0_0).add_czzhi1$(this.p1_0).add_czzhi1$(this.m1_0).norm())}},xy.$metadata$={kind:$,simpleName:"CubicRotationKey",interfaces:[vy]},wy.prototype.apply_8kwor9$=function(t,e,n){null==e?n.setTranslation_czzhiw$(this.translation):(e.translation.subtract_vgki2o$(this.translation,this.tmpTranslation_1fj65v$_0).scale_14dthe$(this.interpolationPos_dleff0$(t,e.time)).add_czzhiw$(this.translation),n.setTranslation_czzhiw$(this.tmpTranslation_1fj65v$_0))},wy.prototype.toString=function(){return Wh(this.time,2)+" -> translation: "+this.translation+" ["+this.interpolation+"]"},wy.$metadata$={kind:$,simpleName:"TranslationKey",interfaces:[py]},zy.prototype.apply_8kwor9$=function(t,e,n){if(null==e)n.setTranslation_czzhiw$(this.translation);else{var i=this.interpolationPos_dleff0$(t,e.time),o=i*i,r=i*i*i,s=2*r-3*o+1,a=r-2*o+i,l=-2*r+3*o,p=r-o;this.p0_0.set_czzhiw$(this.translation).scale_14dthe$(s),this.m0_0.set_czzhiw$(this.startTan).scale_14dthe$(a),this.p1_0.set_czzhiw$(e.translation).scale_14dthe$(l),this.m1_0.set_czzhiw$(this.endTan).scale_14dthe$(p),n.setTranslation_czzhiw$(this.p0_0.add_czzhiw$(this.m0_0).add_czzhiw$(this.p1_0).add_czzhiw$(this.m1_0))}},zy.$metadata$={kind:$,simpleName:"CubicTranslationKey",interfaces:[wy]},Cy.prototype.apply_8kwor9$=function(t,e,n){null==e?n.setScale_czzhiw$(this.scale):(e.scale.subtract_vgki2o$(this.scale,this.tmpScale_fz7pzv$_0).scale_14dthe$(this.interpolationPos_dleff0$(t,e.time)).add_czzhiw$(this.scale),n.setScale_czzhiw$(this.tmpScale_fz7pzv$_0))},Cy.prototype.toString=function(){return Wh(this.time,2)+" -> scale: "+this.scale+" ["+this.interpolation+"]"},Cy.$metadata$={kind:$,simpleName:"ScaleKey",interfaces:[py]},Sy.prototype.apply_8kwor9$=function(t,e,n){if(null==e)n.setScale_czzhiw$(this.scale);else{var i=this.interpolationPos_dleff0$(t,e.time),o=i*i,r=i*i*i,s=2*r-3*o+1,a=r-2*o+i,l=-2*r+3*o,p=r-o;this.p0_0.set_czzhiw$(this.scale).scale_14dthe$(s),this.m0_0.set_czzhiw$(this.startTan).scale_14dthe$(a),this.p1_0.set_czzhiw$(e.scale).scale_14dthe$(l),this.m1_0.set_czzhiw$(this.endTan).scale_14dthe$(p),n.setScale_czzhiw$(this.p0_0.add_czzhiw$(this.m0_0).add_czzhiw$(this.p1_0).add_czzhiw$(this.m1_0))}},Sy.$metadata$={kind:$,simpleName:"CubicScaleKey",interfaces:[Cy]},ky.prototype.apply_8kwor9$=function(t,e,n){var i,o;if(this.tmpW.length!==this.weights.length&&(this.tmpW=new Float32Array(this.weights.length)),null==e){i=this.weights;for(var r=0;r!==i.length;++r)this.tmpW[r]=this.weights[r]}else{o=this.weights;for(var s=0;s!==o.length;++s)this.tmpW[s]=(e.weights[s]-this.weights[s])*this.interpolationPos_dleff0$(t,e.time)+this.weights[s]}n.setWeights_q3cr5i$(this.tmpW)},ky.prototype.toString=function(){return Wh(this.time,2)+" -> weight: ("+te(this.weights,", ")+") ["+this.interpolation+"]"},ky.$metadata$={kind:$,simpleName:"WeightKey",interfaces:[py]},Ly.prototype.apply_8kwor9$=function(t,e,n){var i,o;if(this.tmpW.length!==this.weights.length&&(this.tmpW=new Float32Array(this.weights.length)),null==e){i=this.weights;for(var r=0;r!==i.length;++r)this.tmpW[r]=this.weights[r]}else{var s=this.interpolationPos_dleff0$(t,e.time),a=s*s,l=s*s*s,p=2*l-3*a+1,u=l-2*a+s,c=-2*l+3*a,_=l-a;o=this.weights;for(var h=0;h!==o.length;++h){var d=this.weights[h]*p,f=this.startTan[h]*u,m=e.weights[h]*c,y=this.endTan[h]*_;this.tmpW[h]=d+f+m+y}}n.setWeights_q3cr5i$(this.tmpW)},Ly.$metadata$={kind:$,simpleName:"CubicWeightKey",interfaces:[ky]},Ny.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Py=null;function Ty(){return null===Py&&new Ny,Py}function Oy(t){jy.call(this,t)}function Ey(t){jy.call(this,t)}function My(t){this.value=t,this.onUpdate=null}function Ry(t,e){My.call(this,t),this.from=t,this.to=e}function Iy(t){this.desired=t,this.actual=t,this.speed_t20eng$_0=0,this.damping_0=0,this.stiffness_h7kl9w$_0=0,this.stiffness=100}function Ay(t){this.desired=t,this.actual=t,this.speed_e6bbiv$_0=0,this.damping_0=0,this.stiffness_bla035$_0=0,this.stiffness=100}function Dy(){this.nodes=E()}function By(t,e){this.joint=t,this.inverseBindMatrix=e,this.jointTransform=new Ni,this.tmpMat4f_0=new Ni,this.parent_0=null,this.children_0=E()}function Fy(t,n,i,o){Ky();var r,s=new ad,l=new ua;l.name="AmbientOcclusionPass",l.setSize_vux9f0$(i,o),l.clearDepthTexture(),l.addColorTexture_farcsl$(h_()),ya.call(this,s,new pa(l)),this.aoSetup=n,this.radius=1,this.strength=1.25,this.power=1.5,this.bias=.05,this.kernelSz_cjciej$_0=32,this.aoUniforms_0=null,this.aoNode_0=null,this.noiseTex_0=this.makeNoiseTexture_0(),this.clearColor=O$().WHITE;var p=e.isType(r=this.drawNode,ad)?r:_(),u=new $d(new Uz(Rt([hs().POSITIONS,hs().TEXTURE_COORDS])),null);u.generate_v2sixm$(Yy);var c=new tu("AoPass"),h={v:null},d=new nu(c);h.v=d.stageInterfaceNode_iikjwn$("ifTexCoords",d.attrTexCoords().output),d.positionOutput=d.fullScreenQuadPositionNode_r20yfm$(d.attrTexCoords().output).outQuadPos;var f,m,y,$,b=new iu(c),g=b.texture2dNode_61zpoe$("noiseTex"),v=b.addNode_u9w9by$(new Uy(this,t,!0,b.stage));if(this.aoSetup.isDeferred)f=b.texture2dNode_61zpoe$("positionTex"),m="z",y=b.splitNode_500t7j$(b.texture2dSamplerNode_fzevit$(f,h.v.output).outColor,"xyz").output,$=b.splitNode_500t7j$(b.texture2dSamplerNode_fzevit$(b.texture2dNode_61zpoe$("normalTex"),h.v.output).outColor,"xyz").output;else{f=b.texture2dNode_61zpoe$("normalDepthTex"),m="a";var x=b.texture2dSamplerNode_fzevit$(f,h.v.output).outColor;$=b.splitNode_500t7j$(x,"xyz").output;var z=b.addNode_u9w9by$(new Wy(v,b.stage));z.inDepth=b.splitNode_500t7j$(x,"a").output,z.inScreenPos=h.v.output,y=z.outPosition}var C=b.addNode_u9w9by$(new Gy(this,v,g,f,m,b.stage));C.inScreenPos=h.v.output,C.inOrigin=y,C.inNormal=$,b.colorOutput_a3v4si$(C.outColor);var S,k,L=c,j=new zc(L);j.onPipelineCreated.add_11rb$((S=this,k=L,function(t,n,i){var o,r,s;if(S.aoSetup.isForward){var l,p,u=k;t:do{var c;for(l=sc.ALL,c=u.stages.values.iterator();c.hasNext();){var h=c.next();if(0!=(h.stage.mask&l.mask)){var d,f,m=h.nodes;e:do{var y;for(y=m.iterator();y.hasNext();){var $=y.next();if(Dt($.name,"normalDepthTex")&&e.isType($,ju)){f=$;break e}}f=null}while(0);var b=null==(d=f)||e.isType(d,ju)?d:_();if(null!=b){p=b;break t}}}p=null}while(0);w(p).sampler.texture=null!=(o=S.aoSetup.linearDepthPass)?o.colorTexture:null}else{var g,v,x=k;t:do{var z;for(g=sc.ALL,z=x.stages.values.iterator();z.hasNext();){var C=z.next();if(0!=(C.stage.mask&g.mask)){var L,j,N=C.nodes;e:do{var P;for(P=N.iterator();P.hasNext();){var T=P.next();if(Dt(T.name,"positionTex")&&e.isType(T,ju)){j=T;break e}}j=null}while(0);var O=null==(L=j)||e.isType(L,ju)?L:_();if(null!=O){v=O;break t}}}v=null}while(0);w(v).sampler.texture=null!=(r=S.aoSetup.mrtPass)?r.positionAo:null;var E,M,R=k;t:do{var I;for(E=sc.ALL,I=R.stages.values.iterator();I.hasNext();){var A=I.next();if(0!=(A.stage.mask&E.mask)){var D,B,F=A.nodes;e:do{var q;for(q=F.iterator();q.hasNext();){var U=q.next();if(Dt(U.name,"normalTex")&&e.isType(U,ju)){B=U;break e}}B=null}while(0);var V=null==(D=B)||e.isType(D,ju)?D:_();if(null!=V){M=V;break t}}}M=null}while(0);w(M).sampler.texture=null!=(s=S.aoSetup.mrtPass)?s.normalRoughness:null}var W,G,H=k;t:do{var X;for(W=sc.ALL,X=H.stages.values.iterator();X.hasNext();){var K=X.next();if(0!=(K.stage.mask&W.mask)){var Y,Z,J=K.nodes;e:do{var Q;for(Q=J.iterator();Q.hasNext();){var tt=Q.next();if(Dt(tt.name,"noiseTex")&&e.isType(tt,ju)){Z=tt;break e}}Z=null}while(0);var et=null==(Y=Z)||e.isType(Y,ju)?Y:_();if(null!=et){G=et;break t}}}G=null}while(0);w(G).sampler.texture=S.noiseTex_0;var nt,it,ot=S,rt=k;t:do{var st;for(nt=sc.ALL,st=rt.stages.values.iterator();st.hasNext();){var at=st.next();if(0!=(at.stage.mask&nt.mask)){var lt,pt,ut=at.nodes;e:do{var ct;for(ct=ut.iterator();ct.hasNext();){var _t=ct.next();if(Dt(_t.name,"aoUniforms")&&e.isType(_t,Uy)){pt=_t;break e}}pt=null}while(0);var ht=null==(lt=pt)||e.isType(lt,Uy)?lt:_();if(null!=ht){it=ht;break t}}}it=null}while(0);ot.aoUniforms_0=it;var dt,ft,mt=S,yt=k;t:do{var $t;for(dt=sc.ALL,$t=yt.stages.values.iterator();$t.hasNext();){var bt=$t.next();if(0!=(bt.stage.mask&dt.mask)){var gt,vt,xt=bt.nodes;e:do{var wt;for(wt=xt.iterator();wt.hasNext();){var zt=wt.next();if(Dt(zt.name,"aoNode")&&e.isType(zt,Gy)){vt=zt;break e}}vt=null}while(0);var Ct=null==(gt=vt)||e.isType(gt,Gy)?gt:_();if(null!=Ct){ft=Ct;break t}}}ft=null}while(0);return mt.aoNode_0=ft,S.setKernelSize_0(S.kernelSz),a})),u.shader=j,p.unaryPlus_uv0sim$(u)}function qy(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$data=t}function Uy(t,e,n,i){this.$outer=t,ou.call(this,"aoUniforms",i),this.cam=e,this.withInvProj=n,this.uKernel=new kh("uKernel",128),this.uKernelN=Oh(32,"uKernelN"),this.uProj=new Nh("uProj"),this.uInvProj=new Nh("uInvProj"),this.uNoiseScale=new vh("uNoiseScale"),this.uRadius=new bh("uRadius"),this.uStrength=new bh("uStrength"),this.uPower=new bh("uPower"),this.uBias=new bh("uBias")}function Vy(t,e){return function(n){return n.unaryPlus_wq3w46$(function(t){return function(){return t.uKernel}}(t)),n.unaryPlus_wq3w46$(function(t){return function(){return t.uProj}}(t)),t.withInvProj&&n.unaryPlus_wq3w46$(function(t){return function(){return t.uInvProj}}(t)),n.unaryPlus_wq3w46$(function(t){return function(){return t.uNoiseScale}}(t)),n.unaryPlus_wq3w46$(function(t){return function(){return t.uRadius}}(t)),n.unaryPlus_wq3w46$(function(t){return function(){return t.uStrength}}(t)),n.unaryPlus_wq3w46$(function(t){return function(){return t.uPower}}(t)),n.unaryPlus_wq3w46$(function(t){return function(){return t.uBias}}(t)),n.unaryPlus_wq3w46$(function(t){return function(){return t.uKernelN}}(t)),n.onUpdate=function(t,e){return function(n,i){return t.uProj.value.set_d4zu6l$(t.cam.proj),t.uNoiseScale.value.set_dleff0$(e.width/4,e.height/4),t.uRadius.value=e.radius,t.uStrength.value=e.strength,t.uPower.value=e.power,t.uBias.value=e.bias,t.withInvProj&&t.uInvProj.value.set_d4zu6l$(t.cam.invProj),a}}(t,e),a}}function Wy(t,e){ou.call(this,"unprojectPos",e),this.aoUniforms=t,this.inDepth=new ru(new Pp(1)),this.inScreenPos=new ru(new Tp(lo().ZERO)),this.outPosition=new ru(new wp(this.name+"_outPos"),this)}function Gy(t,e,n,i,o,r){this.$outer=t,ou.call(this,"aoNode",r),this.aoUniforms=e,this.noiseTex=n,this.depthTex=i,this.depthComponent=o,this.inScreenPos=new ru(new Tp(lo().ZERO)),this.inOrigin=new ru(new Op(Po().ZERO)),this.inNormal=new ru(new Op(Po().Y_AXIS)),this.outColor=new ru(new zp("colorOut"),this)}function Hy(){Xy=this,this.MAX_KERNEL_SIZE=128}jy.prototype.tick_aemszp$=function(t){var e,n=this.speed;if(e=Ij.FUZZY_EQ_F,!(R.abs(n)<=e)){if(this.progress+=t.deltaT*this.speed/this.duration,this.progress>=1&&this.speed>0)switch(this.repeating){case 1:this.progress=1,this.speed=0;break;case 2:this.progress=0;break;case 3:this.progress=1,this.speed=-this.speed}else if(this.progress<=0&&this.speed<0)switch(this.repeating){case 1:this.progress=0,this.speed=0;break;case 2:this.progress=1;break;case 3:this.progress=0,this.speed=-this.speed}var i,o=this.progress;i=o<0?0:o>1?1:o,this.progress=i,this.value.interpolate_mx4ult$(this.interpolate_mx4ult$(this.progress))}return this.value.value},jy.$metadata$={kind:$,simpleName:"Animator",interfaces:[]},Oy.prototype.interpolate_mx4ult$=function(t){return t},Oy.$metadata$={kind:$,simpleName:"LinearAnimator",interfaces:[jy]},Ey.prototype.interpolate_mx4ult$=function(t){var e=t*V.PI;return.5-.5*R.cos(e)},Ey.$metadata$={kind:$,simpleName:"CosAnimator",interfaces:[jy]},My.prototype.interpolate_mx4ult$=function(t){var e;this.updateValue_mx4ult$(t),null!=(e=this.onUpdate)&&e(this.value)},My.$metadata$={kind:$,simpleName:"InterpolatedValue",interfaces:[]},Ry.prototype.updateValue_mx4ult$=function(t){this.value=this.from+(this.to-this.from)*t},Ry.$metadata$={kind:$,simpleName:"InterpolatedFloat",interfaces:[My]},Object.defineProperty(Iy.prototype,"speed",{configurable:!0,get:function(){return this.speed_t20eng$_0},set:function(t){this.speed_t20eng$_0=t}}),Object.defineProperty(Iy.prototype,"stiffness",{configurable:!0,get:function(){return this.stiffness_h7kl9w$_0},set:function(t){this.stiffness_h7kl9w$_0=t;var e=this.stiffness;this.damping_0=2*R.sqrt(e)}}),Iy.prototype.set_mx4ult$=function(t){this.desired=t,this.actual=t,this.speed=0},Iy.prototype.animate_mx4ult$=function(t){if(0===this.stiffness||t>.2)return this.actual=this.desired,this.actual;for(var e=0;e<t;){var n=t-e,i=R.min(.05,n);e+=i+.001;var o=this.desired-this.actual;this.speed=this.speed+(o*this.stiffness-this.speed*this.damping_0)*i;var r,s=this.speed*i,a=R.abs(s);r=Ij.FUZZY_EQ_F,R.abs(a)<=r?this.actual=this.desired:this.actual+=s}return this.actual},Iy.$metadata$={kind:$,simpleName:"SpringDamperFloat",interfaces:[]},Object.defineProperty(Ay.prototype,"speed",{configurable:!0,get:function(){return this.speed_e6bbiv$_0},set:function(t){this.speed_e6bbiv$_0=t}}),Object.defineProperty(Ay.prototype,"stiffness",{configurable:!0,get:function(){return this.stiffness_bla035$_0},set:function(t){this.stiffness_bla035$_0=t;var e=this.stiffness;this.damping_0=2*R.sqrt(e)}}),Ay.prototype.set_14dthe$=function(t){this.desired=t,this.actual=t,this.speed=0},Ay.prototype.animate_mx4ult$=function(t){if(0===this.stiffness||t>.2)return this.actual=this.desired,this.actual;for(var e=0;e<t;){var n=t-e,i=R.min(.05,n);e+=i+.001;var o=this.desired-this.actual;this.speed=this.speed+(o*this.stiffness-this.speed*this.damping_0)*i;var r,s=this.speed*i,a=R.abs(s);r=Ij.FUZZY_EQ_D,R.abs(a)<=r?this.actual=this.desired:this.actual+=s}return this.actual},Ay.$metadata$={kind:$,simpleName:"SpringDamperDouble",interfaces:[]},Dy.prototype.updateJointTransforms=function(){var t;t=this.nodes;for(var e=0;e!==t.size;++e)this.nodes.get_za3lpa$(e).hasParent||this.nodes.get_za3lpa$(e).updateJointTransform()},Dy.prototype.printHierarchy=function(){var t,e,n=this.nodes,i=E();for(t=n.iterator();t.hasNext();){var o=t.next();o.hasParent||i.add_11rb$(o)}for(e=i.iterator();e.hasNext();)e.next().printHierarchy_61zpoe$("")},Object.defineProperty(By.prototype,"hasParent",{configurable:!0,get:function(){return null!=this.parent_0}}),By.prototype.addChild_j3a3b7$=function(t){t.parent_0=this,this.children_0.add_11rb$(t)},By.prototype.updateJointTransform=function(){var t;this.jointTransform.set_d4zu6l$(this.joint.transform),t=this.children_0;for(var e=0;e!==t.size;++e)this.children_0.get_za3lpa$(e).updateJointTransform_0(this.jointTransform);this.jointTransform.mul_d4zu6j$(this.inverseBindMatrix)},By.prototype.updateJointTransform_0=function(t){var e;this.tmpMat4f_0.set_d4zu6l$(this.joint.transform),this.jointTransform.set_d4zu6j$(t).mul_d4zu6j$(this.tmpMat4f_0),e=this.children_0;for(var n=0;n!==e.size;++n)this.children_0.get_za3lpa$(n).updateJointTransform_0(this.jointTransform);this.jointTransform.mul_d4zu6j$(this.inverseBindMatrix)},By.prototype.printHierarchy_61zpoe$=function(t){var e;for(Mt(t+Lt(this.joint.name)),e=this.children_0.iterator();e.hasNext();)e.next().printHierarchy_61zpoe$(t+"    ")},By.$metadata$={kind:$,simpleName:"SkinNode",interfaces:[]},Dy.$metadata$={kind:$,simpleName:"Skin",interfaces:[]},Object.defineProperty(Fy.prototype,"kernelSz",{configurable:!0,get:function(){return this.kernelSz_cjciej$_0},set:function(t){this.kernelSz_cjciej$_0=t,this.setKernelSize_0(t)}}),Fy.prototype.setKernelSize_0=function(t){var e,n=R.min(t,128);if(null!=(e=this.aoNode_0)){var i,o=f(0,n),r=z(M(o,10));for(i=o.iterator();i.hasNext();){var s=i.next()/n;r.add_11rb$.call(r,this.lerp_0(.1,1,R.pow(s,2)))}for(var a=tt(r,Q(17)),l=0;l<n;l++){var p=this.hammersley_0(l,n),u=2*V.PI*p.x,c=1-p.y,_=R.sqrt(c),h=1-_*_,d=R.sqrt(h),m=new Eo(d*R.cos(u),d*R.sin(u),_);e.aoUniforms.uKernel.value[l]=m.norm().scale_mx4ult$(a.get_za3lpa$(l))}e.aoUniforms.uKernelN.value=n}},Fy.prototype.radicalInverse_0=function(t){var n=e.Long.fromInt(t);return 2.3283064e-10*(n=(n=(n=(n=(n=n.shiftLeft(16).or(n.shiftRight(16))).and(ee).shiftLeft(1).or(n.and(ne).shiftRight(1))).and(ie).shiftLeft(2).or(n.and(oe).shiftRight(2))).and(re).shiftLeft(4).or(n.and(se).shiftRight(4))).and(ae).shiftLeft(8).or(n.and(le).shiftRight(8))).toNumber()},Fy.prototype.hammersley_0=function(t,e){return new ro(t/e,this.radicalInverse_0(t))},Fy.prototype.lerp_0=function(t,e,n){return t+n*(e-t)},qy.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},qy.prototype=Object.create(p.prototype),qy.prototype.constructor=qy,qy.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:return this.local$closure$data;case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Fy.prototype.makeNoiseTexture_0=function(){var t,e=Nj(64),n=f(0,16),i=z(M(n,10));for(t=n.iterator();t.hasNext();){var o=t.next();i.add_11rb$(V.PI*o/8)}for(var r=pe(i),s=0;s<16;s++){var a=r.get_za3lpa$(s),l=R.cos(a),p=R.sin(a);e.set_6t1wet$(0+(4*s|0)|0,Ft(U(255*(.5*l+.5)))),e.set_6t1wet$(1+(4*s|0)|0,Ft(U(255*(.5*p+.5)))),e.set_6t1wet$(2+(4*s|0)|0,0),e.set_6t1wet$(3+(4*s|0)|0,1)}var u,c=new ah(e,4,4,h_());return new j_(new G_(h_(),eh(),eh(),void 0,K_(),K_(),!1,1),"ao_noise_tex",(u=c,function(t,e,n,i){var o=new qy(u,t,e,this,n);return i?o:o.doResume(null)}))},Fy.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),this.noiseTex_0.dispose(),ya.prototype.dispose_aemszp$.call(this,t)},Uy.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t);var e=t.descriptorSet;this.$outer;var n=this.$outer;e.uniformBuffer_2ydyu8$(this.name,[t.stage],Vy(this,n))},Uy.$metadata$={kind:$,simpleName:"AoUniforms",interfaces:[ou]},Wy.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inDepth,this.inScreenPos])},Wy.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                vec4 projPos = vec4("+this.inScreenPos.ref2f_61zpoe$()+" * 2.0 - vec2(1.0), 1.0, 1.0);\n                vec4 viewPos = "+this.aoUniforms.uInvProj+" * projPos;\n                "+this.outPosition.declare()+" = viewPos.xyz / viewPos.w;\n                "+this.outPosition+" *= ("+this.inDepth.ref1f_61zpoe$()+" / "+this.outPosition+".z);\n            ")},Wy.$metadata$={kind:$,simpleName:"UnprojectPosNode",interfaces:[ou]},Gy.prototype.setup_llmhyc$=function(t){this.dependsOn_lhtstx$(this.noiseTex),this.dependsOn_8ak6wm$([this.inScreenPos,this.inOrigin]),ou.prototype.setup_llmhyc$.call(this,t)},Gy.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                if ("+this.inOrigin+".z > 0.0) {\n                    discard;\n                }\n                \n                // compute kernel rotation\n                vec2 noiseCoord = "+this.inScreenPos.ref2f_61zpoe$()+" * "+this.aoUniforms.uNoiseScale+";\n                vec3 rotVec = "+t.sampleTexture2d_buzeal$(this.noiseTex.name,"noiseCoord")+".xyz * 2.0 - 1.0;\n                vec3 tangent = normalize(rotVec - "+this.inNormal.ref3f_61zpoe$()+" * dot(rotVec, "+this.inNormal.ref3f_61zpoe$()+"));\n                vec3 bitangent = cross("+this.inNormal.ref3f_61zpoe$()+", tangent);\n                mat3 tbn = mat3(tangent, bitangent, "+this.inNormal.ref3f_61zpoe$()+");\n                \n                float occlusion = 0.0;\n                float bias = "+this.aoUniforms.uBias+" * "+this.aoUniforms.uRadius+";\n                for (int i = 0; i < "+this.aoUniforms.uKernelN+"; i++) {\n                    vec3 kernel = tbn * "+this.aoUniforms.uKernel+"[i];\n                    vec3 samplePos = "+this.inOrigin+" + kernel * "+this.aoUniforms.uRadius+";\n                    \n                    vec4 sampleProj = "+this.aoUniforms.uProj+" * vec4(samplePos, 1.0);\n                    sampleProj.xyz /= sampleProj.w;\n                    sampleProj.xy = sampleProj.xy * 0.5 + 0.5;\n                    \n                    if (sampleProj.x > 0.0 && sampleProj.x < 1.0 && sampleProj.y > 0.0 && sampleProj.y < 1.0 && sampleProj.z > 0.0) {\n                        float sampleDepth = "+t.sampleTexture2d_buzeal$(this.depthTex.name,"sampleProj.xy")+"."+this.depthComponent+";\n                        float rangeCheck = 1.0 - smoothstep(0.0, 1.0, abs("+this.inOrigin+".z - sampleDepth) / (4.0 * "+this.aoUniforms.uRadius+"));\n                        float occlusionInc = clamp((sampleDepth - (samplePos.z + bias)) * 10.0, 0.0, 1.0);\n                        occlusion += occlusionInc * rangeCheck;\n                    }\n                }\n                occlusion /= float("+this.aoUniforms.uKernelN+");\n                float occlFac = pow(clamp(1.0 - occlusion * "+this.aoUniforms.uStrength+", 0.0, 1.0), "+this.aoUniforms.uPower+");\n                \n                "+this.outColor.declare()+" = vec4(occlFac, 0.0, 0.0, 1.0);\n            ")},Gy.$metadata$={kind:$,simpleName:"AoNode",interfaces:[ou]},Hy.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Xy=null;function Ky(){return null===Xy&&new Hy,Xy}function Yy(t){var e=new FC;return e.size.set_dleff0$(1,1),e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function Zy(t,e){t$(),this.mrtPass=t,this.linearDepthPass=e}function Jy(){Qy=this}Fy.$metadata$={kind:$,simpleName:"AmbientOcclusionPass",interfaces:[ya]},Object.defineProperty(Zy.prototype,"isDeferred",{configurable:!0,get:function(){return null!=this.mrtPass}}),Object.defineProperty(Zy.prototype,"isForward",{configurable:!0,get:function(){return null!=this.linearDepthPass}}),Jy.prototype.deferred_u6tred$=function(t){return new Zy(t,null)},Jy.prototype.forward_xscw1l$=function(t){return new Zy(null,t)},Jy.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Qy=null;function t$(){return null===Qy&&new Jy,Qy}function e$(t,n,i){var o,r=new ad,s=new ua;s.name="AoDenoisePass",s.setSize_vux9f0$(t.config.width,t.config.height),s.addColorTexture_farcsl$(u_()),s.clearDepthTexture(),ya.call(this,r,new pa(s)),this.uRadius_0=gh(1,"uRadius"),this.clearAndDisable=!1,this.denoiseMesh_0=null,this.clearMesh_0=null,this.clearColor=O$().BLACK;var l=new $d(new Uz(Rt([hs().POSITIONS,hs().TEXTURE_COORDS])),null);l.generate_v2sixm$(i$);var p=new tu("AoDenoisePass"),u={v:null},c=new nu(p);u.v=c.stageInterfaceNode_iikjwn$("ifTexCoords",c.attrTexCoords().output),c.positionOutput=c.fullScreenQuadPositionNode_r20yfm$(c.attrTexCoords().output).outQuadPos;var h=new iu(p),d=h.texture2dNode_61zpoe$("noisyAo"),f=h.texture2dNode_61zpoe$("depth"),m=h.pushConstantNode1f_978i2u$(this.uRadius_0),y=h.addNode_u9w9by$(new n$(d,f,i,h.stage));y.inScreenPos=u.v.output,y.radius=m.output,h.colorOutput_a3v4si$(y.outColor);var $,b,g,v=p,x=new zc(v);x.onPipelineSetup.add_11rb$(o$),x.onPipelineCreated.add_11rb$(($=t,b=v,g=n,function(t,n,i){var o,r,s=b;t:do{var l;for(o=sc.ALL,l=s.stages.values.iterator();l.hasNext();){var p=l.next();if(0!=(p.stage.mask&o.mask)){var u,c,h=p.nodes;e:do{var d;for(d=h.iterator();d.hasNext();){var f=d.next();if(Dt(f.name,"noisyAo")&&e.isType(f,ju)){c=f;break e}}c=null}while(0);var m=null==(u=c)||e.isType(u,ju)?u:_();if(null!=m){r=m;break t}}}r=null}while(0);w(r).sampler.texture=$.colorTexture;var y,v,x=b;t:do{var z;for(y=sc.ALL,z=x.stages.values.iterator();z.hasNext();){var C=z.next();if(0!=(C.stage.mask&y.mask)){var S,k,L=C.nodes;e:do{var j;for(j=L.iterator();j.hasNext();){var N=j.next();if(Dt(N.name,"depth")&&e.isType(N,ju)){k=N;break e}}k=null}while(0);var P=null==(S=k)||e.isType(S,ju)?S:_();if(null!=P){v=P;break t}}}v=null}while(0);return w(v).sampler.texture=g,a})),l.shader=x,this.denoiseMesh_0=l;var z=new $d(new Uz(Rt([hs().POSITIONS,hs().TEXTURE_COORDS])),null);z.isVisible=!1,z.generate_v2sixm$(r$);var C=new tu("ClearAoDenoisePass"),S=new nu(C);S.mvpNode(),S.positionOutput=S.fullScreenQuadPositionNode_r20yfm$(S.attrTexCoords().output).outQuadPos;var k=new iu(C);k.colorOutput_a3v4si$(k.constVec4f_czzhhz$(O$().WHITE));var L=new zc(C);L.onPipelineSetup.add_11rb$(s$),z.shader=L,this.clearMesh_0=z;var j=e.isType(o=this.drawNode,ad)?o:_();j.unaryPlus_uv0sim$(this.denoiseMesh_0),j.unaryPlus_uv0sim$(this.clearMesh_0)}function n$(t,e,n,i){ou.call(this,"blurNode",i),this.noisyAo=t,this.depth=e,this.depthComponent=n,this.inScreenPos=new ru(new Tp(lo().ZERO)),this.radius=new ru(new Pp(1)),this.outColor=new ru(new zp("colorOut"),this)}function i$(t){var e=new FC;return e.size.set_dleff0$(1,1),e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function o$(t,e,n){return t.blendMode=_l(),t.depthTest=$l(),a}function r$(t){var e=new FC;return e.size.set_dleff0$(1,1),e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function s$(t,e,n){return t.blendMode=_l(),t.depthTest=$l(),a}function a$(){_$(),this.mapSize=.5,this.isEnabled_ubfkyk$_0=!0}function l$(t){var n;a$.call(this),this.depthPass=null,this.aoPass_i8vqld$_0=null,this.denoisePass_wz7oly$_0=null,this.mapWidth_0=0,this.mapHeight_0=0;var i,o,r,s=new ed(e.isType(n=t.camera,td)?n:_());this.depthPass=Rs(t,this.mapWidth_0,this.mapHeight_0),this.depthPass.camera=s,this.depthPass.isUpdateDrawNode=!1,this.depthPass.onBeforeCollectDrawCommands.add_11rb$((i=s,o=t,function(t){return i.sync_hrtwbc$(o.mainRenderPass.viewport,t),a})),this.aoPass_i8vqld$_0=new Fy(s,t$().forward_xscw1l$(this.depthPass),this.mapWidth_0,this.mapHeight_0),this.aoPass.dependsOn_yqp8fe$(this.depthPass),this.denoisePass_wz7oly$_0=new e$(this.aoPass,w(this.depthPass.colorTexture),"a"),t.addOffscreenPass_m1c2kf$(this.depthPass),t.addOffscreenPass_m1c2kf$(this.aoPass),t.addOffscreenPass_m1c2kf$(this.denoisePass),t.onRenderScene.add_11rb$((r=this,function(t,e){var n=U(t.mainRenderPass.viewport.width*r.mapSize),i=U(t.mainRenderPass.viewport.height*r.mapSize);return r.isEnabled&&n>0&&i>0&&(n!==r.aoPass.width||i!==r.aoPass.height)&&(r.depthPass.resize_w70mbp$(n,i,e),r.aoPass.resize_w70mbp$(n,i,e)),r.isEnabled&&n>0&&i>0&&(n!==r.denoisePass.width||i!==r.denoisePass.height)&&r.denoisePass.resize_w70mbp$(n,i,e),a}))}function p$(t,e){var n,i;a$.call(this),this.aoPass_6v2ifx$_0=null,this.denoisePass_mxbezy$_0=null,this.mapWidth_0=0,this.mapHeight_0=0,this.aoPass_6v2ifx$_0=new Fy(e.camera,t$().deferred_u6tred$(e),this.mapWidth_0,this.mapHeight_0),this.aoPass.dependsOn_yqp8fe$(e),this.denoisePass_mxbezy$_0=new e$(this.aoPass,e.positionAo,"z"),t.addOffscreenPass_m1c2kf$(this.aoPass),t.addOffscreenPass_m1c2kf$(this.denoisePass),t.onRenderScene.add_11rb$((n=e,i=this,function(t,e){var o=U(n.width*i.mapSize),r=U(n.height*i.mapSize);return i.isEnabled&&o>0&&r>0&&(o!==i.aoPass.width||r!==i.aoPass.height)&&i.aoPass.resize_w70mbp$(o,r,e),i.isEnabled&&o>0&&r>0&&(o!==i.denoisePass.width||r!==i.denoisePass.height)&&i.denoisePass.resize_w70mbp$(o,r,e),a}))}function u$(){c$=this}Zy.$metadata$={kind:$,simpleName:"AoSetup",interfaces:[]},Object.defineProperty(e$.prototype,"radius",{configurable:!0,get:function(){return this.uRadius_0.value},set:function(t){this.uRadius_0.value=t}}),e$.prototype.update_aemszp$=function(t){var e;this.clearAndDisable&&(this.resize_w70mbp$(1,1,t),this.clearAndDisable=!1,this.denoiseMesh_0.isVisible=!1,this.clearMesh_0.isVisible=!0,t.runDelayed_hd6vpk$(5,(e=this,function(t){return e.isEnabled=!1,e.denoiseMesh_0.isVisible=!0,e.clearMesh_0.isVisible=!1,a}))),ya.prototype.update_aemszp$.call(this,t)},e$.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),ya.prototype.dispose_aemszp$.call(this,t)},n$.prototype.setup_llmhyc$=function(t){this.dependsOn_lhtstx$(this.noisyAo),this.dependsOn_lhtstx$(this.depth),this.dependsOn_8ak6wm$([this.inScreenPos,this.radius]),ou.prototype.setup_llmhyc$.call(this,t)},n$.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                int blurSize = 4;\n                vec2 texelSize = 1.0 / vec2(textureSize("+this.noisyAo.name+", 0));\n                float depthOri = "+t.sampleTexture2d_buzeal$(this.depth.name,this.inScreenPos.ref2f_61zpoe$())+"."+this.depthComponent+";\n                float depthThreshold = "+this.radius.ref1f_61zpoe$()+" * 0.1;\n                \n                float result = 0.0;\n                float weight = 0.0;\n                vec2 hlim = vec2(float(-blurSize) * 0.5 + 0.5);\n                for (int x = 0; x < blurSize; x++) {\n                    for (int y = 0; y < blurSize; y++) {\n                        vec2 uv = "+this.inScreenPos.ref2f_61zpoe$()+" + (hlim + vec2(float(x), float(y))) * texelSize;\n                        float w = 1.0 - step(depthThreshold, abs("+t.sampleTexture2d_buzeal$(this.depth.name,"uv")+"."+this.depthComponent+" - depthOri)) * 0.99;\n                        \n                        result += "+t.sampleTexture2d_buzeal$(this.noisyAo.name,"uv")+".r * w;\n                        weight += w;\n                    }\n                }\n                result /= weight;\n                "+this.outColor.declare()+" = vec4(result, result, result, 1.0);\n            ")},n$.$metadata$={kind:$,simpleName:"BlurNode",interfaces:[ou]},e$.$metadata$={kind:$,simpleName:"AoDenoisePass",interfaces:[ya]},Object.defineProperty(a$.prototype,"aoMap",{configurable:!0,get:function(){return w(this.denoisePass.colorTexture)}}),Object.defineProperty(a$.prototype,"radius",{configurable:!0,get:function(){return this.aoPass.radius},set:function(t){this.aoPass.radius=t,this.denoisePass.radius=t}}),Object.defineProperty(a$.prototype,"strength",{configurable:!0,get:function(){return this.aoPass.strength},set:function(t){this.aoPass.strength=t}}),Object.defineProperty(a$.prototype,"power",{configurable:!0,get:function(){return this.aoPass.power},set:function(t){this.aoPass.power=t}}),Object.defineProperty(a$.prototype,"bias",{configurable:!0,get:function(){return this.aoPass.bias},set:function(t){this.aoPass.bias=t}}),Object.defineProperty(a$.prototype,"kernelSz",{configurable:!0,get:function(){return this.aoPass.kernelSz},set:function(t){this.aoPass.kernelSz=t}}),Object.defineProperty(a$.prototype,"isEnabled",{configurable:!0,get:function(){return this.isEnabled_ubfkyk$_0},set:function(t){this.isEnabled_ubfkyk$_0=t,this.updateEnabled()}}),a$.prototype.updateEnabled=function(){this.aoPass.isEnabled=this.isEnabled,this.isEnabled?(this.denoisePass.isEnabled=!0,this.denoisePass.clearAndDisable=!1):this.denoisePass.clearAndDisable=!0},Object.defineProperty(l$.prototype,"aoPass",{configurable:!0,get:function(){return this.aoPass_i8vqld$_0}}),Object.defineProperty(l$.prototype,"denoisePass",{configurable:!0,get:function(){return this.denoisePass_wz7oly$_0}}),l$.prototype.updateEnabled=function(){a$.prototype.updateEnabled.call(this),this.depthPass.isEnabled=this.isEnabled},l$.$metadata$={kind:$,simpleName:"ForwardAoPipeline",interfaces:[a$]},Object.defineProperty(p$.prototype,"aoPass",{configurable:!0,get:function(){return this.aoPass_6v2ifx$_0}}),Object.defineProperty(p$.prototype,"denoisePass",{configurable:!0,get:function(){return this.denoisePass_mxbezy$_0}}),p$.$metadata$={kind:$,simpleName:"DeferredAoPipeline",interfaces:[a$]},u$.prototype.createForward_ushge7$=function(t){return new l$(t)},u$.prototype.createDeferred_4lrvgg$=function(t,e){return new p$(t,e)},u$.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var c$=null;function _$(){return null===c$&&new u$,c$}function h$(t){ou.call(this,"raySphereIntersection",t)}function d$(t,e){ou.call(this,"atmosphereNode",e),this.opticalDepthLut=t,this.inSceneColor=new ru(new Ep(O$().MAGENTA)),this.inSceneDepth=new ru(new Pp(0)),this.inScenePos=new ru(new Op(Po().ZERO)),this.inSkyColor=new ru(new Ep(O$().MAGENTA)),this.inViewDepth=new ru(new Pp(0)),this.inCamPos=new ru(new Op(Po().ZERO)),this.inLookDir=new ru(new Op(Po().Z_AXIS)),this.uDirToSun=new xh("uDirToSun"),this.uPlanetCenter=new xh("uPlanetCenter"),this.uSurfaceRadius=new bh("uSurfaceRadius"),this.uAtmosphereRadius=new bh("uAtmosphereRadius"),this.uScatteringCoeffs=new xh("uScatteringCoeffs"),this.uMieG=new bh("uMieG"),this.uMieColor=new zh("uMieColor"),this.uRayleighColor=new zh("uRayleighColor"),this.uSunColor=new zh("uSunColor"),this.outColor=new ru(new zp("outColor"),this)}function f$(){$$();var t,n=new ad,i=new ua;i.name="OpticalDepthLutPass",i.setSize_vux9f0$(512,512),i.addColorTexture_farcsl$(f_()),i.clearDepthTexture(),ya.call(this,n,new pa(i)),this.lutNode_0=null,this.atmosphereRadius_fokv28$_0=65,this.surfaceRadius_nmta75$_0=60,this.densityFalloff_h12ebs$_0=9,this.clearColor=null;var o=new Qh;o.projCorrectionMode=Jh(),o.isKeepAspectRatio=!1,o.left=0,o.right=1,o.top=1,o.bottom=0,this.camera=o;var r=e.isType(t=this.drawNode,ad)?t:_(),s=new $d(new Uz(Rt([hs().POSITIONS,hs().TEXTURE_COORDS])),null);s.generate_v2sixm$(g$);var l=new tu("Optical Depth LUT"),p={v:null},u=new nu(l);p.v=u.stageInterfaceNode_iikjwn$("ifTexCoords",u.attrTexCoords().output),u.positionOutput=u.simpleVertexPositionNode().outVec4;var c=new iu(l),h=c.addNode_u9w9by$(new b$(c.stage));h.inTexCoords=p.v.output;var d=h;c.colorOutput_a3v4si$(d.outColor);var f,m,y=l,$=new zc(y);$.onPipelineCreated.add_11rb$((f=y,m=this,function(t,n,i){var o,r,s,l=m,p=f;t:do{var u;for(r=sc.ALL,u=p.stages.values.iterator();u.hasNext();){var c=u.next();if(0!=(c.stage.mask&r.mask)){var _,h=c.nodes,d=E();for(_=h.iterator();_.hasNext();){var y=_.next();e.isType(y,b$)&&d.add_11rb$(y)}var $=ue(d);if(null!=$){s=$;break t}}}s=null}while(0);if(l.lutNode_0=s,null!=(o=m.lutNode_0)){var b=m;o.uAtmosphereRadius.value=b.atmosphereRadius,o.uSurfaceRadius.value=b.surfaceRadius,o.uDensityFalloff.value=b.densityFalloff}return a})),s.shader=$,r.unaryPlus_uv0sim$(s),this.onAfterDraw.add_11rb$(function(t){return function(e){return t.isEnabled=!1,a}}(this))}function m$(){y$=this,this.LUT_SIZE_X=512,this.LUT_SIZE_Y=512}a$.$metadata$={kind:$,simpleName:"AoPipeline",interfaces:[]},h$.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("raySphereIntersection","\n                bool raySphereIntersection(vec3 rayOrigin, vec3 rayDir, vec3 center, float radius, out float d1, out float d2) {\n                    vec3 centerToOri = rayOrigin - center;\n                    float a = dot(rayDir, rayDir);\n                    float b = 2.0 * dot(rayDir, centerToOri);\n                    float c = dot(centerToOri, centerToOri) - radius * radius;\n                    \n                    float discriminant = b * b - 4.0 * a * c;\n                    if (discriminant < 0.0) {\n                        return false;\n                    } else {\n                        float q = -0.5 * (b + sign(b) * sqrt(discriminant));\n                        float t1 = q / a;\n                        float t2 = c / q;\n                        d1 = min(t1, t2);\n                        d2 = max(t1, t2);\n                        return d2 > 0.0;\n                    }\n                }\n            "),t.appendFunction_puj7f4$("rayPointDistance","\n                vec4 rayPointDistance(vec3 rayOrigin, vec3 rayDir, vec3 point) {\n                    vec3 w = point - rayOrigin;\n                    float c1 = dot(w, rayDir);\n                    float c2 = dot(rayDir, rayDir);\n                    vec3 pn = rayOrigin + rayDir * (c1 / c2);\n                    float dist = length(pn - point) * sign(c1);\n                    return vec4(pn, dist);\n                }\n            ")},h$.$metadata$={kind:$,simpleName:"RaySphereIntersectionNode",interfaces:[ou]},d$.prototype.setup_llmhyc$=function(t){var e;ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inSceneColor,this.inSceneDepth,this.inScenePos,this.inSkyColor,this.inViewDepth,this.inCamPos,this.inLookDir]),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],(e=this,function(t){return t.unaryPlus_wq3w46$(function(t){return function(){return t.uDirToSun}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uPlanetCenter}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uRayleighColor}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uMieColor}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uScatteringCoeffs}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uSunColor}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uSurfaceRadius}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uAtmosphereRadius}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uMieG}}(e)),a}))},d$.prototype.printUniforms=function(){Mt("uDirToSun: "+this.uDirToSun.value),Mt("uPlanetCenter: "+this.uPlanetCenter.value),Mt("uSurfaceRadius: "+this.uSurfaceRadius.value),Mt("uAtmosphereRadius: "+this.uAtmosphereRadius.value),Mt("uScatteringCoeffs: "+this.uScatteringCoeffs.value),Mt("uMieG: "+this.uMieG.value),Mt("uMieColor: "+this.uMieColor.value),Mt("uRayleighColor: "+this.uRayleighColor.value),Mt("uSunColor: "+this.uSunColor.value)},d$.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("phaseFunRayleigh","\n                vec3 phaseFunRayleigh(float cosTheta) {\n                    //vec3 phase = vec3(1.0 + clamp(cosTheta, 0.0, 1.0));\n                    //vec3 phase = vec3(1.0 + smoothstep(0.0, 1.0, cosTheta));\n                    vec3 phase = vec3(1.5 + cosTheta * 0.5);\n                    return phase * "+this.uRayleighColor+".rgb * "+this.uRayleighColor+".a;\n                }\n            "),t.appendFunction_puj7f4$("phaseFunMie","\n                vec3 phaseFunMie(float cosTheta, float g) {\n                    float g2 = g * g;\n                    float f1 = (3.0 * (1.0 - g2)) / (2.0 * (2.0 + g2));\n                    float f2 = (1.0 + cosTheta * cosTheta) / pow(1.0 + g2 - 2.0 * g * cosTheta, 1.5);\n                    return vec3(f1 * f2) * "+this.uMieColor+".rgb * "+this.uMieColor+".a;\n                }\n            "),t.appendFunction_puj7f4$("opticalDepthLut","\n                vec2 opticalDepthLut(float altitude, float cosTheta) {\n                    return "+t.sampleTexture2d_buzeal$(this.opticalDepthLut.name,"vec2(cosTheta * 0.5 + 0.5, altitude)")+".xy;\n                }\n            "),t.appendFunction_puj7f4$("opticalDepthLenLut","\n                float opticalDepthLenLut(vec3 origin, vec3 dir, float len) {\n                    float atmosphereThickness = "+this.uAtmosphereRadius+" - "+this.uSurfaceRadius+";\n                    \n                    vec3 p1 = origin;\n                    vec3 p2 = origin + dir * len;\n                    float altitude1 = (length(p1) - "+this.uSurfaceRadius+") / atmosphereThickness;\n                    float altitude2 = (length(p2) - "+this.uSurfaceRadius+") / atmosphereThickness;\n                    \n                    if (altitude1 > altitude2) {\n                        // swap points and direction if ray is pointing downwards\n                        p1 = p2;\n                        p2 = origin;\n                        \n                        float swapAlt = altitude1;\n                        altitude1 = altitude2;\n                        altitude2 = swapAlt;\n                        \n                        dir = -dir;\n                    }\n                    \n                    float depth1 = opticalDepthLut(altitude1, dot(dir, normalize(p1))).x;\n                    float depth2 = opticalDepthLut(altitude2, dot(dir, normalize(p2))).x;\n                    return depth1 - depth2;\n                }\n            "),t.appendFunction_puj7f4$("scatterLight","\n                vec3 scatterLight(vec3 origin, vec3 dir, float rayLength, vec3 dirToSun) {\n                    float atmosphereThickness = "+this.uAtmosphereRadius+" - "+this.uSurfaceRadius+";\n                    float stepSize = rayLength / float(11);\n                    vec3 inScatterPt = origin;\n                    vec3 inScatteredLight = vec3(0.0);\n                    \n                    for (int i = 0; i < 10; i++) {\n                        inScatterPt += dir * stepSize;\n                        \n                        float dPlanetIn, dPlanetOut;\n                        bool planetHit = raySphereIntersection(inScatterPt, dirToSun, vec3(0.0), "+this.uSurfaceRadius+", dPlanetIn, dPlanetOut);\n                        float dThroughPlanet = (dPlanetOut - dPlanetIn) * float(planetHit);\n                        float planetLenThresh = "+this.uSurfaceRadius+" / 3.0;\n                        \n                        if (dThroughPlanet < planetLenThresh) {\n                            vec3 verticalDir = normalize(inScatterPt);\n                            float cosTheta = dot(dirToSun, verticalDir);\n                            float altitude = (length(inScatterPt) - "+this.uSurfaceRadius+") / atmosphereThickness;\n    \n                            float viewRayOpticalDepth = opticalDepthLenLut(origin, dir, stepSize * float(i));\n                            vec2 opticalDepthToSun = opticalDepthLut(altitude, cosTheta);\n                            float sunRayOpticalDepth = opticalDepthToSun.x;\n                            float localDensity = opticalDepthToSun.y;\n                            vec3 transmittance = exp(-(sunRayOpticalDepth + viewRayOpticalDepth) * "+this.uScatteringCoeffs+");\n    \n                            float planetBlend = 1.0 - dThroughPlanet / planetLenThresh;\n                            inScatteredLight += localDensity * transmittance * "+this.uScatteringCoeffs+" * stepSize * planetBlend;\n                        }\n                    }\n                    \n                    float sunAngle = dot(dir, dirToSun);\n                    vec3 rayleigh = phaseFunRayleigh(sunAngle);\n                    vec3 mie = phaseFunMie(sunAngle, "+this.uMieG+");\n                    return (rayleigh + mie) * inScatteredLight * "+this.uSunColor+".rgb * "+this.uSunColor+".a;\n                }\n            "),t.appendMain_61zpoe$("\n                float dAtmoIn, dAtmoOut;\n                vec3 camOri = "+this.inCamPos.ref3f_61zpoe$()+" - "+this.uPlanetCenter+";\n                vec3 nrmLookDir = normalize("+this.inLookDir.ref3f_61zpoe$()+");\n                bool hitAtmo = raySphereIntersection(camOri, nrmLookDir, vec3(0.0), "+this.uAtmosphereRadius+", dAtmoIn, dAtmoOut);\n                \n                "+this.outColor.declare()+" = "+this.inSceneColor+";\n                if ("+this.inSceneDepth+" > 0.0) {\n                    "+this.outColor+" = "+this.inSkyColor+";\n                }\n                if (hitAtmo) {\n                    // dAtmoIn is negative if camera is inside atmosphere\n                    float dToAtmo = max(0.0, dAtmoIn);\n                    float dThroughAtmo = dAtmoOut - dToAtmo;\n                    if ("+this.inViewDepth.ref1f_61zpoe$()+" < 0.0) {\n                        float sceneDepth = length("+this.inCamPos.ref3f_61zpoe$()+" - "+this.inScenePos.ref3f_61zpoe$()+");\n                        dThroughAtmo = min(dThroughAtmo, sceneDepth - dToAtmo);\n                    }\n\n                    // scattering\n                    vec3 atmoHitPt = camOri + nrmLookDir * dToAtmo;\n                    vec3 light = scatterLight(atmoHitPt, nrmLookDir, dThroughAtmo, "+this.uDirToSun+");\n                    "+this.outColor+".rgb += light;\n                    \n                    //"+this.outColor+" = vec4(dThroughAtmo / 20.0, dToAtmo, 0.0, 1.0);\n                }\n            ")},d$.$metadata$={kind:$,simpleName:"AtmosphereNode",interfaces:[ou]},Object.defineProperty(f$.prototype,"atmosphereRadius",{configurable:!0,get:function(){return this.atmosphereRadius_fokv28$_0},set:function(t){var e,n;this.atmosphereRadius_fokv28$_0=t,null!=(n=null!=(e=this.lutNode_0)?e.uAtmosphereRadius:null)&&(n.value=t),this.update()}}),Object.defineProperty(f$.prototype,"surfaceRadius",{configurable:!0,get:function(){return this.surfaceRadius_nmta75$_0},set:function(t){var e,n;this.surfaceRadius_nmta75$_0=t,null!=(n=null!=(e=this.lutNode_0)?e.uSurfaceRadius:null)&&(n.value=t),this.update()}}),Object.defineProperty(f$.prototype,"densityFalloff",{configurable:!0,get:function(){return this.densityFalloff_h12ebs$_0},set:function(t){var e,n;this.densityFalloff_h12ebs$_0=t,null!=(n=null!=(e=this.lutNode_0)?e.uDensityFalloff:null)&&(n.value=t),this.update()}}),f$.prototype.update=function(){this.isEnabled=!0},f$.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),ya.prototype.dispose_aemszp$.call(this,t)},m$.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var y$=null;function $$(){return null===y$&&new m$,y$}function b$(t){ou.call(this,"opticalDepthLut",t),this.inTexCoords=new ru(new Tp(lo().ZERO)),this.outColor=new ru(new zp("brdfLut_outColor"),this),this.uAtmosphereRadius=new bh("uAtmosphereRadius"),this.uSurfaceRadius=new bh("uSurfaceRadius"),this.uDensityFalloff=new bh("uDensityFalloff")}function g$(t){var e=new FC;return e.size.set_dleff0$(1,1),e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function v$(){this.mutMin_0=Mo(),this.mutMax_0=Mo(),this.mutSize_0=Mo(),this.mutCenter_0=Mo(),this.isEmpty_xiuk4h$_0=!0,this.min=this.mutMin_0,this.max=this.mutMax_0,this.size=this.mutSize_0,this.center=this.mutCenter_0,this.isBatchUpdate_4nlnat$_0=!1}function x$(){}function w$(){}function z$(){}function C$(){}function S$(){}function k$(){}function L$(t){for(var e=t.size,n=z(e),i=0;i<e;i++)n.add_11rb$(t.get_za3lpa$(i));return n}function j$(t){var e=ht();return e.addAll_brywnq$(t),e}function N$(t,e,n,i){O$(),void 0===i&&(i=1),Zo.call(this,t,e,n,i)}function P$(){T$=this,this.BLACK=new N$(0,0,0,1),this.DARK_GRAY=new N$(.25,.25,.25,1),this.GRAY=new N$(.5,.5,.5,1),this.LIGHT_GRAY=new N$(.75,.75,.75,1),this.WHITE=new N$(1,1,1,1),this.RED=new N$(1,0,0,1),this.GREEN=new N$(0,1,0,1),this.BLUE=new N$(0,0,1,1),this.YELLOW=new N$(1,1,0,1),this.CYAN=new N$(0,1,1,1),this.MAGENTA=new N$(1,0,1,1),this.ORANGE=new N$(1,.5,0,1),this.LIME=new N$(.7,1,0,1),this.LIGHT_RED=new N$(1,.5,.5,1),this.LIGHT_GREEN=new N$(.5,1,.5,1),this.LIGHT_BLUE=new N$(.5,.5,1,1),this.LIGHT_YELLOW=new N$(1,1,.5,1),this.LIGHT_CYAN=new N$(.5,1,1,1),this.LIGHT_MAGENTA=new N$(1,.5,1,1),this.LIGHT_ORANGE=new N$(1,.75,.5,1),this.DARK_RED=new N$(.5,0,0,1),this.DARK_GREEN=new N$(0,.5,0,1),this.DARK_BLUE=new N$(0,0,.5,1),this.DARK_YELLOW=new N$(.5,.5,0,1),this.DARK_CYAN=new N$(0,.5,.5,1),this.DARK_MAGENTA=new N$(.5,0,.5,1),this.DARK_ORANGE=new N$(.5,.25,0,1),this.MD_RED_50=this.fromHex_61zpoe$("FFEBEE"),this.MD_RED_100=this.fromHex_61zpoe$("FFCDD2"),this.MD_RED_200=this.fromHex_61zpoe$("EF9A9A"),this.MD_RED_300=this.fromHex_61zpoe$("E57373"),this.MD_RED_400=this.fromHex_61zpoe$("EF5350"),this.MD_RED_500=this.fromHex_61zpoe$("F44336"),this.MD_RED_600=this.fromHex_61zpoe$("E53935"),this.MD_RED_700=this.fromHex_61zpoe$("D32F2F"),this.MD_RED_800=this.fromHex_61zpoe$("C62828"),this.MD_RED_900=this.fromHex_61zpoe$("B71C1C"),this.MD_RED_A100=this.fromHex_61zpoe$("FF8A80"),this.MD_RED_A200=this.fromHex_61zpoe$("FF5252"),this.MD_RED_A400=this.fromHex_61zpoe$("FF1744"),this.MD_RED_A700=this.fromHex_61zpoe$("D50000"),this.MD_RED=this.MD_RED_500,this.MD_PINK_50=this.fromHex_61zpoe$("FCE4EC"),this.MD_PINK_100=this.fromHex_61zpoe$("F8BBD0"),this.MD_PINK_200=this.fromHex_61zpoe$("F48FB1"),this.MD_PINK_300=this.fromHex_61zpoe$("F06292"),this.MD_PINK_400=this.fromHex_61zpoe$("EC407A"),this.MD_PINK_500=this.fromHex_61zpoe$("E91E63"),this.MD_PINK_600=this.fromHex_61zpoe$("D81B60"),this.MD_PINK_700=this.fromHex_61zpoe$("C2185B"),this.MD_PINK_800=this.fromHex_61zpoe$("AD1457"),this.MD_PINK_900=this.fromHex_61zpoe$("880E4F"),this.MD_PINK_A100=this.fromHex_61zpoe$("FF80AB"),this.MD_PINK_A200=this.fromHex_61zpoe$("FF4081"),this.MD_PINK_A400=this.fromHex_61zpoe$("F50057"),this.MD_PINK_A700=this.fromHex_61zpoe$("C51162"),this.MD_PINK=this.MD_PINK_500,this.MD_PURPLE_50=this.fromHex_61zpoe$("F3E5F5"),this.MD_PURPLE_100=this.fromHex_61zpoe$("E1BEE7"),this.MD_PURPLE_200=this.fromHex_61zpoe$("CE93D8"),this.MD_PURPLE_300=this.fromHex_61zpoe$("BA68C8"),this.MD_PURPLE_400=this.fromHex_61zpoe$("AB47BC"),this.MD_PURPLE_500=this.fromHex_61zpoe$("9C27B0"),this.MD_PURPLE_600=this.fromHex_61zpoe$("8E24AA"),this.MD_PURPLE_700=this.fromHex_61zpoe$("7B1FA2"),this.MD_PURPLE_800=this.fromHex_61zpoe$("6A1B9A"),this.MD_PURPLE_900=this.fromHex_61zpoe$("4A148C"),this.MD_PURPLE_A100=this.fromHex_61zpoe$("EA80FC"),this.MD_PURPLE_A200=this.fromHex_61zpoe$("E040FB"),this.MD_PURPLE_A400=this.fromHex_61zpoe$("D500F9"),this.MD_PURPLE_A700=this.fromHex_61zpoe$("AA00FF"),this.MD_PURPLE=this.MD_PURPLE_500,this.MD_DEEP_PURPLE_50=this.fromHex_61zpoe$("EDE7F6"),this.MD_DEEP_PURPLE_100=this.fromHex_61zpoe$("D1C4E9"),this.MD_DEEP_PURPLE_200=this.fromHex_61zpoe$("B39DDB"),this.MD_DEEP_PURPLE_300=this.fromHex_61zpoe$("9575CD"),this.MD_DEEP_PURPLE_400=this.fromHex_61zpoe$("7E57C2"),this.MD_DEEP_PURPLE_500=this.fromHex_61zpoe$("673AB7"),this.MD_DEEP_PURPLE_600=this.fromHex_61zpoe$("5E35B1"),this.MD_DEEP_PURPLE_700=this.fromHex_61zpoe$("512DA8"),this.MD_DEEP_PURPLE_800=this.fromHex_61zpoe$("4527A0"),this.MD_DEEP_PURPLE_900=this.fromHex_61zpoe$("311B92"),this.MD_DEEP_PURPLE_A100=this.fromHex_61zpoe$("B388FF"),this.MD_DEEP_PURPLE_A200=this.fromHex_61zpoe$("7C4DFF"),this.MD_DEEP_PURPLE_A400=this.fromHex_61zpoe$("651FFF"),this.MD_DEEP_PURPLE_A700=this.fromHex_61zpoe$("6200EA"),this.MD_DEEP_PURPLE=this.MD_DEEP_PURPLE_500,this.MD_INDIGO_50=this.fromHex_61zpoe$("E8EAF6"),this.MD_INDIGO_100=this.fromHex_61zpoe$("C5CAE9"),this.MD_INDIGO_200=this.fromHex_61zpoe$("9FA8DA"),this.MD_INDIGO_300=this.fromHex_61zpoe$("7986CB"),this.MD_INDIGO_400=this.fromHex_61zpoe$("5C6BC0"),this.MD_INDIGO_500=this.fromHex_61zpoe$("3F51B5"),this.MD_INDIGO_600=this.fromHex_61zpoe$("3949AB"),this.MD_INDIGO_700=this.fromHex_61zpoe$("303F9F"),this.MD_INDIGO_800=this.fromHex_61zpoe$("283593"),this.MD_INDIGO_900=this.fromHex_61zpoe$("1A237E"),this.MD_INDIGO_A100=this.fromHex_61zpoe$("8C9EFF"),this.MD_INDIGO_A200=this.fromHex_61zpoe$("536DFE"),this.MD_INDIGO_A400=this.fromHex_61zpoe$("3D5AFE"),this.MD_INDIGO_A700=this.fromHex_61zpoe$("304FFE"),this.MD_INDIGO=this.MD_INDIGO_500,this.MD_BLUE_50=this.fromHex_61zpoe$("E3F2FD"),this.MD_BLUE_100=this.fromHex_61zpoe$("BBDEFB"),this.MD_BLUE_200=this.fromHex_61zpoe$("90CAF9"),this.MD_BLUE_300=this.fromHex_61zpoe$("64B5F6"),this.MD_BLUE_400=this.fromHex_61zpoe$("42A5F5"),this.MD_BLUE_500=this.fromHex_61zpoe$("2196F3"),this.MD_BLUE_600=this.fromHex_61zpoe$("1E88E5"),this.MD_BLUE_700=this.fromHex_61zpoe$("1976D2"),this.MD_BLUE_800=this.fromHex_61zpoe$("1565C0"),this.MD_BLUE_900=this.fromHex_61zpoe$("0D47A1"),this.MD_BLUE_A100=this.fromHex_61zpoe$("82B1FF"),this.MD_BLUE_A200=this.fromHex_61zpoe$("448AFF"),this.MD_BLUE_A400=this.fromHex_61zpoe$("2979FF"),this.MD_BLUE_A700=this.fromHex_61zpoe$("2962FF"),this.MD_BLUE=this.MD_BLUE_500,this.MD_LIGHT_BLUE_50=this.fromHex_61zpoe$("E1F5FE"),this.MD_LIGHT_BLUE_100=this.fromHex_61zpoe$("B3E5FC"),this.MD_LIGHT_BLUE_200=this.fromHex_61zpoe$("81D4FA"),this.MD_LIGHT_BLUE_300=this.fromHex_61zpoe$("4FC3F7"),this.MD_LIGHT_BLUE_400=this.fromHex_61zpoe$("29B6F6"),this.MD_LIGHT_BLUE_500=this.fromHex_61zpoe$("03A9F4"),this.MD_LIGHT_BLUE_600=this.fromHex_61zpoe$("039BE5"),this.MD_LIGHT_BLUE_700=this.fromHex_61zpoe$("0288D1"),this.MD_LIGHT_BLUE_800=this.fromHex_61zpoe$("0277BD"),this.MD_LIGHT_BLUE_900=this.fromHex_61zpoe$("01579B"),this.MD_LIGHT_BLUE_A100=this.fromHex_61zpoe$("80D8FF"),this.MD_LIGHT_BLUE_A200=this.fromHex_61zpoe$("40C4FF"),this.MD_LIGHT_BLUE_A400=this.fromHex_61zpoe$("00B0FF"),this.MD_LIGHT_BLUE_A700=this.fromHex_61zpoe$("0091EA"),this.MD_LIGHT_BLUE=this.MD_LIGHT_BLUE_500,this.MD_CYAN_50=this.fromHex_61zpoe$("E0F7FA"),this.MD_CYAN_100=this.fromHex_61zpoe$("B2EBF2"),this.MD_CYAN_200=this.fromHex_61zpoe$("80DEEA"),this.MD_CYAN_300=this.fromHex_61zpoe$("4DD0E1"),this.MD_CYAN_400=this.fromHex_61zpoe$("26C6DA"),this.MD_CYAN_500=this.fromHex_61zpoe$("00BCD4"),this.MD_CYAN_600=this.fromHex_61zpoe$("00ACC1"),this.MD_CYAN_700=this.fromHex_61zpoe$("0097A7"),this.MD_CYAN_800=this.fromHex_61zpoe$("00838F"),this.MD_CYAN_900=this.fromHex_61zpoe$("006064"),this.MD_CYAN_A100=this.fromHex_61zpoe$("84FFFF"),this.MD_CYAN_A200=this.fromHex_61zpoe$("18FFFF"),this.MD_CYAN_A400=this.fromHex_61zpoe$("00E5FF"),this.MD_CYAN_A700=this.fromHex_61zpoe$("00B8D4"),this.MD_CYAN=this.MD_CYAN_500,this.MD_TEAL_50=this.fromHex_61zpoe$("E0F2F1"),this.MD_TEAL_100=this.fromHex_61zpoe$("B2DFDB"),this.MD_TEAL_200=this.fromHex_61zpoe$("80CBC4"),this.MD_TEAL_300=this.fromHex_61zpoe$("4DB6AC"),this.MD_TEAL_400=this.fromHex_61zpoe$("26A69A"),this.MD_TEAL_500=this.fromHex_61zpoe$("009688"),this.MD_TEAL_600=this.fromHex_61zpoe$("00897B"),this.MD_TEAL_700=this.fromHex_61zpoe$("00796B"),this.MD_TEAL_800=this.fromHex_61zpoe$("00695C"),this.MD_TEAL_900=this.fromHex_61zpoe$("004D40"),this.MD_TEAL_A100=this.fromHex_61zpoe$("A7FFEB"),this.MD_TEAL_A200=this.fromHex_61zpoe$("64FFDA"),this.MD_TEAL_A400=this.fromHex_61zpoe$("1DE9B6"),this.MD_TEAL_A700=this.fromHex_61zpoe$("00BFA5"),this.MD_TEAL=this.MD_TEAL_500,this.MD_GREEN_50=this.fromHex_61zpoe$("E8F5E9"),this.MD_GREEN_100=this.fromHex_61zpoe$("C8E6C9"),this.MD_GREEN_200=this.fromHex_61zpoe$("A5D6A7"),this.MD_GREEN_300=this.fromHex_61zpoe$("81C784"),this.MD_GREEN_400=this.fromHex_61zpoe$("66BB6A"),this.MD_GREEN_500=this.fromHex_61zpoe$("4CAF50"),this.MD_GREEN_600=this.fromHex_61zpoe$("43A047"),this.MD_GREEN_700=this.fromHex_61zpoe$("388E3C"),this.MD_GREEN_800=this.fromHex_61zpoe$("2E7D32"),this.MD_GREEN_900=this.fromHex_61zpoe$("1B5E20"),this.MD_GREEN_A100=this.fromHex_61zpoe$("B9F6CA"),this.MD_GREEN_A200=this.fromHex_61zpoe$("69F0AE"),this.MD_GREEN_A400=this.fromHex_61zpoe$("00E676"),this.MD_GREEN_A700=this.fromHex_61zpoe$("00C853"),this.MD_GREEN=this.MD_GREEN_500,this.MD_LIGHT_GREEN_50=this.fromHex_61zpoe$("F1F8E9"),this.MD_LIGHT_GREEN_100=this.fromHex_61zpoe$("DCEDC8"),this.MD_LIGHT_GREEN_200=this.fromHex_61zpoe$("C5E1A5"),this.MD_LIGHT_GREEN_300=this.fromHex_61zpoe$("AED581"),this.MD_LIGHT_GREEN_400=this.fromHex_61zpoe$("9CCC65"),this.MD_LIGHT_GREEN_500=this.fromHex_61zpoe$("8BC34A"),this.MD_LIGHT_GREEN_600=this.fromHex_61zpoe$("7CB342"),this.MD_LIGHT_GREEN_700=this.fromHex_61zpoe$("689F38"),this.MD_LIGHT_GREEN_800=this.fromHex_61zpoe$("558B2F"),this.MD_LIGHT_GREEN_900=this.fromHex_61zpoe$("33691E"),this.MD_LIGHT_GREEN_A100=this.fromHex_61zpoe$("CCFF90"),this.MD_LIGHT_GREEN_A200=this.fromHex_61zpoe$("B2FF59"),this.MD_LIGHT_GREEN_A400=this.fromHex_61zpoe$("76FF03"),this.MD_LIGHT_GREEN_A700=this.fromHex_61zpoe$("64DD17"),this.MD_LIGHT_GREEN=this.MD_LIGHT_GREEN_500,this.MD_LIME_50=this.fromHex_61zpoe$("F9FBE7"),this.MD_LIME_100=this.fromHex_61zpoe$("F0F4C3"),this.MD_LIME_200=this.fromHex_61zpoe$("E6EE9C"),this.MD_LIME_300=this.fromHex_61zpoe$("DCE775"),this.MD_LIME_400=this.fromHex_61zpoe$("D4E157"),this.MD_LIME_500=this.fromHex_61zpoe$("CDDC39"),this.MD_LIME_600=this.fromHex_61zpoe$("C0CA33"),this.MD_LIME_700=this.fromHex_61zpoe$("AFB42B"),this.MD_LIME_800=this.fromHex_61zpoe$("9E9D24"),this.MD_LIME_900=this.fromHex_61zpoe$("827717"),this.MD_LIME_A100=this.fromHex_61zpoe$("F4FF81"),this.MD_LIME_A200=this.fromHex_61zpoe$("EEFF41"),this.MD_LIME_A400=this.fromHex_61zpoe$("C6FF00"),this.MD_LIME_A700=this.fromHex_61zpoe$("AEEA00"),this.MD_LIME=this.MD_LIME_500,this.MD_YELLOW_50=this.fromHex_61zpoe$("FFFDE7"),this.MD_YELLOW_100=this.fromHex_61zpoe$("FFF9C4"),this.MD_YELLOW_200=this.fromHex_61zpoe$("FFF59D"),this.MD_YELLOW_300=this.fromHex_61zpoe$("FFF176"),this.MD_YELLOW_400=this.fromHex_61zpoe$("FFEE58"),this.MD_YELLOW_500=this.fromHex_61zpoe$("FFEB3B"),this.MD_YELLOW_600=this.fromHex_61zpoe$("FDD835"),this.MD_YELLOW_700=this.fromHex_61zpoe$("FBC02D"),this.MD_YELLOW_800=this.fromHex_61zpoe$("F9A825"),this.MD_YELLOW_900=this.fromHex_61zpoe$("F57F17"),this.MD_YELLOW_A100=this.fromHex_61zpoe$("FFFF8D"),this.MD_YELLOW_A200=this.fromHex_61zpoe$("FFFF00"),this.MD_YELLOW_A400=this.fromHex_61zpoe$("FFEA00"),this.MD_YELLOW_A700=this.fromHex_61zpoe$("FFD600"),this.MD_YELLOW=this.MD_YELLOW_500,this.MD_AMBER_50=this.fromHex_61zpoe$("FFF8E1"),this.MD_AMBER_100=this.fromHex_61zpoe$("FFECB3"),this.MD_AMBER_200=this.fromHex_61zpoe$("FFE082"),this.MD_AMBER_300=this.fromHex_61zpoe$("FFD54F"),this.MD_AMBER_400=this.fromHex_61zpoe$("FFCA28"),this.MD_AMBER_500=this.fromHex_61zpoe$("FFC107"),this.MD_AMBER_600=this.fromHex_61zpoe$("FFB300"),this.MD_AMBER_700=this.fromHex_61zpoe$("FFA000"),this.MD_AMBER_800=this.fromHex_61zpoe$("FF8F00"),this.MD_AMBER_900=this.fromHex_61zpoe$("FF6F00"),this.MD_AMBER_A100=this.fromHex_61zpoe$("FFE57F"),this.MD_AMBER_A200=this.fromHex_61zpoe$("FFD740"),this.MD_AMBER_A400=this.fromHex_61zpoe$("FFC400"),this.MD_AMBER_A700=this.fromHex_61zpoe$("FFAB00"),this.MD_AMBER=this.MD_AMBER_500,this.MD_ORANGE_50=this.fromHex_61zpoe$("FFF3E0"),this.MD_ORANGE_100=this.fromHex_61zpoe$("FFE0B2"),this.MD_ORANGE_200=this.fromHex_61zpoe$("FFCC80"),this.MD_ORANGE_300=this.fromHex_61zpoe$("FFB74D"),this.MD_ORANGE_400=this.fromHex_61zpoe$("FFA726"),this.MD_ORANGE_500=this.fromHex_61zpoe$("FF9800"),this.MD_ORANGE_600=this.fromHex_61zpoe$("FB8C00"),this.MD_ORANGE_700=this.fromHex_61zpoe$("F57C00"),this.MD_ORANGE_800=this.fromHex_61zpoe$("EF6C00"),this.MD_ORANGE_900=this.fromHex_61zpoe$("E65100"),this.MD_ORANGE_A100=this.fromHex_61zpoe$("FFD180"),this.MD_ORANGE_A200=this.fromHex_61zpoe$("FFAB40"),this.MD_ORANGE_A400=this.fromHex_61zpoe$("FF9100"),this.MD_ORANGE_A700=this.fromHex_61zpoe$("FF6D00"),this.MD_ORANGE=this.MD_ORANGE_500,this.MD_DEEP_ORANGE_50=this.fromHex_61zpoe$("FBE9E7"),this.MD_DEEP_ORANGE_100=this.fromHex_61zpoe$("FFCCBC"),this.MD_DEEP_ORANGE_200=this.fromHex_61zpoe$("FFAB91"),this.MD_DEEP_ORANGE_300=this.fromHex_61zpoe$("FF8A65"),this.MD_DEEP_ORANGE_400=this.fromHex_61zpoe$("FF7043"),this.MD_DEEP_ORANGE_500=this.fromHex_61zpoe$("FF5722"),this.MD_DEEP_ORANGE_600=this.fromHex_61zpoe$("F4511E"),this.MD_DEEP_ORANGE_700=this.fromHex_61zpoe$("E64A19"),this.MD_DEEP_ORANGE_800=this.fromHex_61zpoe$("D84315"),this.MD_DEEP_ORANGE_900=this.fromHex_61zpoe$("BF360C"),this.MD_DEEP_ORANGE_A100=this.fromHex_61zpoe$("FF9E80"),this.MD_DEEP_ORANGE_A200=this.fromHex_61zpoe$("FF6E40"),this.MD_DEEP_ORANGE_A400=this.fromHex_61zpoe$("FF3D00"),this.MD_DEEP_ORANGE_A700=this.fromHex_61zpoe$("DD2C00"),this.MD_DEEP_ORANGE=this.MD_DEEP_ORANGE_500,this.MD_BROWN_50=this.fromHex_61zpoe$("EFEBE9"),this.MD_BROWN_100=this.fromHex_61zpoe$("D7CCC8"),this.MD_BROWN_200=this.fromHex_61zpoe$("BCAAA4"),this.MD_BROWN_300=this.fromHex_61zpoe$("A1887F"),this.MD_BROWN_400=this.fromHex_61zpoe$("8D6E63"),this.MD_BROWN_500=this.fromHex_61zpoe$("795548"),this.MD_BROWN_600=this.fromHex_61zpoe$("6D4C41"),this.MD_BROWN_700=this.fromHex_61zpoe$("5D4037"),this.MD_BROWN_800=this.fromHex_61zpoe$("4E342E"),this.MD_BROWN_900=this.fromHex_61zpoe$("3E2723"),this.MD_BROWN=this.MD_BROWN_500,this.MD_GREY_50=this.fromHex_61zpoe$("FAFAFA"),this.MD_GREY_100=this.fromHex_61zpoe$("F5F5F5"),this.MD_GREY_200=this.fromHex_61zpoe$("EEEEEE"),this.MD_GREY_300=this.fromHex_61zpoe$("E0E0E0"),this.MD_GREY_400=this.fromHex_61zpoe$("BDBDBD"),this.MD_GREY_500=this.fromHex_61zpoe$("9E9E9E"),this.MD_GREY_600=this.fromHex_61zpoe$("757575"),this.MD_GREY_700=this.fromHex_61zpoe$("616161"),this.MD_GREY_800=this.fromHex_61zpoe$("424242"),this.MD_GREY_900=this.fromHex_61zpoe$("212121"),this.MD_GREY=this.MD_GREY_500,this.MD_BLUE_GREY_50=this.fromHex_61zpoe$("ECEFF1"),this.MD_BLUE_GREY_100=this.fromHex_61zpoe$("CFD8DC"),this.MD_BLUE_GREY_200=this.fromHex_61zpoe$("B0BEC5"),this.MD_BLUE_GREY_300=this.fromHex_61zpoe$("90A4AE"),this.MD_BLUE_GREY_400=this.fromHex_61zpoe$("78909C"),this.MD_BLUE_GREY_500=this.fromHex_61zpoe$("607D8B"),this.MD_BLUE_GREY_600=this.fromHex_61zpoe$("546E7A"),this.MD_BLUE_GREY_700=this.fromHex_61zpoe$("455A64"),this.MD_BLUE_GREY_800=this.fromHex_61zpoe$("37474F"),this.MD_BLUE_GREY_900=this.fromHex_61zpoe$("263238"),this.MD_BLUE_GREY=this.MD_BLUE_GREY_500,this.MD_COLORS=Rt([this.MD_RED,this.MD_PINK,this.MD_PURPLE,this.MD_DEEP_PURPLE,this.MD_INDIGO,this.MD_BLUE,this.MD_LIGHT_BLUE,this.MD_CYAN,this.MD_TEAL,this.MD_GREEN,this.MD_LIGHT_GREEN,this.MD_LIME,this.MD_YELLOW,this.MD_AMBER,this.MD_ORANGE,this.MD_DEEP_ORANGE,this.MD_BROWN,this.MD_GREY,this.MD_BLUE_GREY])}b$.prototype.setup_llmhyc$=function(t){var e;ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inTexCoords),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],(e=this,function(t){return t.unaryPlus_wq3w46$(function(t){return function(){return t.uAtmosphereRadius}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uSurfaceRadius}}(e)),t.unaryPlus_wq3w46$(function(t){return function(){return t.uDensityFalloff}}(e)),a}))},b$.prototype.generateCode_626509$=function(t){ou.prototype.generateCode_626509$.call(this,t),t.appendFunction_puj7f4$("rayLength","\n                float rayLength(vec3 rayOrigin, vec3 rayDir) {\n                    float a = dot(rayDir, rayDir);\n                    float b = 2.0 * dot(rayDir, rayOrigin);\n                    float c = dot(rayOrigin, rayOrigin) - "+this.uAtmosphereRadius+" * "+this.uAtmosphereRadius+";\n                    \n                    float discriminant = b * b - 4.0 * a * c;\n                    if (discriminant < 0.0) {\n                        return -1.0;\n                    } else {\n                        float q = -0.5 * (b + sign(b) * sqrt(discriminant));\n                        float t1 = q / a;\n                        float t2 = c / q;\n                        return max(t1, t2);\n                    }\n                }\n            "),t.appendFunction_puj7f4$("densityAtAltitude","\n                float densityAtAltitude(float altitude) {\n                    float nH = clamp(altitude / ("+this.uAtmosphereRadius+" - "+this.uSurfaceRadius+"), 0.0, 1.0);\n\n                    // exponential density\n                    //float h = nH;\n\n                    // exponential density with cut-off\n                    //float cutOff = 0.2;\n                    //float h = nH * (1.0 - cutOff) + cutOff;\n                    \n                    // reduced density at low altitudes\n                    float x = nH * 10.0;\n                    float f = 0.3 * (2.0 + 3.0 * x * exp(-x)) * (10.0 - x) / 10.0;\n                    float h = 1.0 - f;\n                    \n                    return exp(-clamp(h, 0.0, 1.0) * "+this.uDensityFalloff+") * (1.0 - smoothstep(0.0, 1.0, nH));\n                }\n            "),t.appendFunction_puj7f4$("opticalDepth","\n                float opticalDepth(vec3 origin, vec3 dir, float rayLength) {\n                    vec3 samplePt = origin;\n                    float stepSize = rayLength / float(101);\n                    float opticalDepth = 0.0;\n                    for (int i = 0; i < 100; i++) {\n                        samplePt += dir * stepSize;\n                        opticalDepth += densityAtAltitude(length(samplePt) - "+this.uSurfaceRadius+") * stepSize;\n                    }\n                    return opticalDepth;\n                }\n            "),t.appendMain_61zpoe$("\n                float cosAngle = "+this.inTexCoords.ref2f_61zpoe$()+".x * 2.0 - 1.0;\n                float altitude = "+this.inTexCoords.ref2f_61zpoe$()+".y * ("+this.uAtmosphereRadius+" - "+this.uSurfaceRadius+");\n                \n                vec3 origin = vec3("+this.uSurfaceRadius+" + altitude, 0.0, 0.0);\n                vec3 direction = vec3(cosAngle, sin(acos(cosAngle)), 0.0);\n                \n                float shift = "+this.uAtmosphereRadius+" * 2.0;\n                float rayLen = rayLength(origin - direction * shift, direction) - shift;\n                float opticalDepth = opticalDepth(origin, direction, rayLen);\n                \n                "+this.outColor.declare()+" = vec4(opticalDepth, densityAtAltitude(altitude), 0.0, 1.0);\n            ")},b$.$metadata$={kind:$,simpleName:"OpticalDepthLutNode",interfaces:[ou]},f$.$metadata$={kind:$,simpleName:"OpticalDepthLutPass",interfaces:[ya]},Object.defineProperty(v$.prototype,"isEmpty",{configurable:!0,get:function(){return this.isEmpty_xiuk4h$_0},set:function(t){this.isEmpty_xiuk4h$_0=t}}),Object.defineProperty(v$.prototype,"isBatchUpdate",{configurable:!0,get:function(){return this.isBatchUpdate_4nlnat$_0},set:function(t){this.isBatchUpdate_4nlnat$_0=t,t||this.updateSizeAndCenter_0()}}),v$.prototype.updateSizeAndCenter_0=function(){this.isBatchUpdate||(this.mutMax_0.subtract_2gj7b4$(this.mutMin_0,this.mutSize_0),this.size.scale_749b8l$(.5,this.mutCenter_0).add_czzhiu$(this.min))},v$.prototype.addPoint_0=function(t){this.isEmpty?(this.mutMin_0.set_czzhiu$(t),this.mutMax_0.set_czzhiu$(t),this.isEmpty=!1):(t.x<this.min.x&&(this.mutMin_0.x=t.x),t.y<this.min.y&&(this.mutMin_0.y=t.y),t.z<this.min.z&&(this.mutMin_0.z=t.z),t.x>this.max.x&&(this.mutMax_0.x=t.x),t.y>this.max.y&&(this.mutMax_0.y=t.y),t.z>this.max.z&&(this.mutMax_0.z=t.z))},v$.prototype.batchUpdate_xanadp$=K("kool-kool-core.de.fabmax.kool.util.BoundingBox.batchUpdate_xanadp$",(function(t){var e=this.isBatchUpdate;this.isBatchUpdate=!0,t(this),this.isBatchUpdate=e})),v$.prototype.isFuzzyEqual_ea4od8$=function(t){return this.isEmpty===t.isEmpty&&this.min.isFuzzyEqual_2qa7tb$(t.min)&&this.max.isFuzzyEqual_2qa7tb$(t.max)},v$.prototype.clear=function(){return this.isEmpty=!0,this.mutMin_0.set_czzhiu$(Po().ZERO),this.mutMax_0.set_czzhiu$(Po().ZERO),this.updateSizeAndCenter_0(),this},v$.prototype.add_czzhiu$=function(t){return this.addPoint_0(t),this.updateSizeAndCenter_0(),this},v$.prototype.add_uqk38n$=function(t){return this.add_3y53ni$(t,A(t)),this},v$.prototype.add_3y53ni$=function(t,e){var n,i,o;n=e.first,i=e.last,o=e.step;for(var r=n;r<=i;r+=o)this.addPoint_0(t.get_za3lpa$(r));return this.updateSizeAndCenter_0(),this},v$.prototype.add_ea4od8$=function(t){return t.isEmpty||(this.addPoint_0(t.min),this.addPoint_0(t.max),this.updateSizeAndCenter_0()),this},v$.prototype.expand_czzhiu$=function(t){if(this.isEmpty)throw _i("Empty BoundingBox cannot be expanded");return this.mutMin_0.minusAssign_czzhiu$(t),this.mutMax_0.plusAssign_czzhiu$(t),this.updateSizeAndCenter_0(),this},v$.prototype.signedExpand_czzhiu$=function(t){if(this.isEmpty)throw _i("Empty BoundingBox cannot be expanded");return t.x>0?this.mutMax_0.x=this.mutMax_0.x+t.x:this.mutMin_0.x=this.mutMin_0.x+t.x,t.y>0?this.mutMax_0.y=this.mutMax_0.y+t.y:this.mutMin_0.y=this.mutMin_0.y+t.y,t.z>0?this.mutMax_0.z=this.mutMax_0.z+t.z:this.mutMin_0.z=this.mutMin_0.z+t.z,this.updateSizeAndCenter_0(),this},v$.prototype.set_ea4od8$=function(t){return this.mutMin_0.set_czzhiu$(t.min),this.mutMax_0.set_czzhiu$(t.max),this.mutSize_0.set_czzhiu$(t.size),this.mutCenter_0.set_czzhiu$(t.center),this.isEmpty=t.isEmpty,this},v$.prototype.set_4lfkt4$=function(t,e){return this.isEmpty=!1,this.mutMin_0.set_czzhiu$(t),this.mutMax_0.set_czzhiu$(e),this.updateSizeAndCenter_0(),this},v$.prototype.set_w8lrqs$=function(t,e,n,i,o,r){return this.isEmpty=!1,this.mutMin_0.set_y2kzbl$(t,e,n),this.mutMax_0.set_y2kzbl$(i,o,r),this.updateSizeAndCenter_0(),this},v$.prototype.move_czzhiu$=function(t){return this.move_y2kzbl$(t.x,t.y,t.z)},v$.prototype.move_y2kzbl$=function(t,e,n){if(this.isEmpty)throw _i("Empty BoundingBox cannot be moved");return this.mutMin_0.x=this.mutMin_0.x+t,this.mutMin_0.y=this.mutMin_0.y+e,this.mutMin_0.z=this.mutMin_0.z+n,this.mutMax_0.x=this.mutMax_0.x+t,this.mutMax_0.y=this.mutMax_0.y+e,this.mutMax_0.z=this.mutMax_0.z+n,this.mutCenter_0.x=this.mutCenter_0.x+t,this.mutCenter_0.y=this.mutCenter_0.y+e,this.mutCenter_0.z=this.mutCenter_0.z+n,this},v$.prototype.setMerged_hnxjto$=function(t,e){var n=this.mutMin_0,i=t.min.x,o=e.min.x;n.x=R.min(i,o);var r=this.mutMin_0,s=t.min.y,a=e.min.y;r.y=R.min(s,a);var l=this.mutMin_0,p=t.min.z,u=e.min.z;l.z=R.min(p,u);var c=this.mutMax_0,_=t.max.x,h=e.max.x;c.x=R.max(_,h);var d=this.mutMax_0,f=t.max.y,m=e.max.y;d.y=R.max(f,m);var y=this.mutMax_0,$=t.max.z,b=e.max.z;return y.z=R.max($,b),this.isEmpty=!1,this.updateSizeAndCenter_0(),this},v$.prototype.contains_czzhiu$=function(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z},v$.prototype.contains_y2kzbl$=function(t,e,n){return t>=this.min.x&&t<=this.max.x&&e>=this.min.y&&e<=this.max.y&&n>=this.min.z&&n<=this.max.z},v$.prototype.contains_ea4od8$=function(t){return this.contains_czzhiu$(t.min)&&this.contains_czzhiu$(t.max)},v$.prototype.isIntersecting_ea4od8$=function(t){return this.min.x<=t.max.x&&this.max.x>=t.min.x&&this.min.y<=t.max.y&&this.max.y>=t.min.y&&this.min.z<=t.max.z&&this.max.z>=t.min.z},v$.prototype.clampToBounds_5s4mqq$=function(t){var e,n=t.x,i=this.min.x,o=this.max.x;e=n<i?i:n>o?o:n,t.x=e;var r,s=t.y,a=this.min.y,l=this.max.y;r=s<a?a:s>l?l:s,t.y=r;var p,u=t.z,c=this.min.z,_=this.max.z;p=u<c?c:u>_?_:u,t.z=p},v$.prototype.clampToBounds_5s4mqs$=function(t){var e,n=t.x,i=this.min.x,o=this.max.x;e=n<i?i:n>o?o:n,t.x=e;var r,s=t.y,a=this.min.y,l=this.max.y;r=s<a?a:s>l?l:s,t.y=r;var p,u=t.z,c=this.min.z,_=this.max.z;p=u<c?c:u>_?_:u,t.z=p},v$.prototype.pointDistance_czzhiu$=function(t){var e=this.pointDistanceSqr_czzhiu$(t);return R.sqrt(e)},v$.prototype.pointDistanceSqr_czzhiu$=function(t){if(this.contains_czzhiu$(t))return 0;var e=0,n=0,i=0,o=t.x-this.min.x;return(o<0||(o=this.max.x-t.x)<0)&&(e=o),((o=t.y-this.min.y)<0||(o=this.max.y-t.y)<0)&&(n=o),((o=t.z-this.min.z)<0||(o=this.max.z-t.z)<0)&&(i=o),e*e+n*n+i*i},v$.prototype.hitDistanceSqr_nvyeur$=function(t){var e,n,i,o,r,s;if(this.isEmpty)return st.MAX_VALUE;if(this.contains_czzhiu$(t.origin))return 0;var a=1/t.direction.x;if(a>=0?(e=(this.min.x-t.origin.x)*a,n=(this.max.x-t.origin.x)*a):(e=(this.max.x-t.origin.x)*a,n=(this.min.x-t.origin.x)*a),(a=1/t.direction.y)>=0?(i=(this.min.y-t.origin.y)*a,o=(this.max.y-t.origin.y)*a):(i=(this.max.y-t.origin.y)*a,o=(this.min.y-t.origin.y)*a),e>o||i>n)return st.MAX_VALUE;if(i>e&&(e=i),o<n&&(n=o),(a=1/t.direction.z)>=0?(r=(this.min.z-t.origin.z)*a,s=(this.max.z-t.origin.z)*a):(r=(this.max.z-t.origin.z)*a,s=(this.min.z-t.origin.z)*a),e>s||r>n)return st.MAX_VALUE;if(r>e&&(e=r),e>0){var l=t.direction.x*e,p=l*l;return p+=(l=t.direction.y*e)*l,(p+=(l=t.direction.z*e)*l)/t.direction.sqrLength()}return st.MAX_VALUE},v$.prototype.toString=function(){return this.isEmpty?"[empty]":"[min="+this.min+", max="+this.max+"]"},v$.prototype.equals=function(t){var n,i;return this===t||!!e.isType(t,v$)&&this.isEmpty===t.isEmpty&&!(null==(n=this.min)||!n.equals(t.min))&&!(null==(i=this.max)||!i.equals(t.max))},v$.prototype.hashCode=function(){var t=at(this.isEmpty);return t=(31*(t=(31*t|0)+this.min.hashCode()|0)|0)+this.max.hashCode()|0},v$.$metadata$={kind:$,simpleName:"BoundingBox",interfaces:[]},x$.prototype.removeAt_za3lpa$=function(t){this.position>t&&(this.position=this.position-1|0),this.limit>t&&(this.limit=this.limit-1|0)},x$.$metadata$={kind:Z,simpleName:"Buffer",interfaces:[]},w$.prototype.plusAssign_s8j3t7$=function(t){this.put_s8j3t7$(t)},w$.prototype.put_fqrh44$=function(t){return this.put_mj6st8$(t,0,t.length)},w$.prototype.toArray=function(){var t,e=new Int8Array(this.capacity);t=this.capacity;for(var n=0;n<t;n++)e[n]=this.get_za3lpa$(n);return e},w$.prototype.removeAt_za3lpa$=function(t){var e;e=this.position;for(var n=t;n<e;n++)this.set_6t1wet$(n,this.get_za3lpa$(n+1|0));x$.prototype.removeAt_za3lpa$.call(this,t)},w$.$metadata$={kind:Z,simpleName:"Uint8Buffer",interfaces:[x$]},z$.prototype.plusAssign_mq22fl$=function(t){this.put_mq22fl$(t)},z$.prototype.put_gmedm2$=function(t){return this.put_359eei$(t,0,t.length)},z$.prototype.removeAt_za3lpa$=function(t){var e;e=this.position;for(var n=t;n<e;n++)this.set_2bqt6h$(n,this.get_za3lpa$(n+1|0));x$.prototype.removeAt_za3lpa$.call(this,t)},z$.$metadata$={kind:Z,simpleName:"Uint16Buffer",interfaces:[x$]},C$.prototype.plusAssign_za3lpa$=function(t){this.put_za3lpa$(t)},C$.prototype.put_q5rwfd$=function(t){return this.put_nd5v6f$(t,0,t.length)},C$.prototype.removeAt_za3lpa$=function(t){var e;e=this.position;for(var n=t;n<e;n++)this.set_vux9f0$(n,this.get_za3lpa$(n+1|0));x$.prototype.removeAt_za3lpa$.call(this,t)},C$.$metadata$={kind:Z,simpleName:"Uint32Buffer",interfaces:[x$]},S$.prototype.plusAssign_mx4ult$=function(t){this.put_mx4ult$(t)},S$.prototype.put_q3cr5i$=function(t){return this.put_kgymra$(t,0,t.length)},S$.prototype.removeAt_za3lpa$=function(t){var e;e=this.position;for(var n=t;n<e;n++)this.set_24o109$(n,this.get_za3lpa$(n+1|0));x$.prototype.removeAt_za3lpa$.call(this,t)},S$.$metadata$={kind:Z,simpleName:"Float32Buffer",interfaces:[x$]},k$.prototype.putInt8_s8j3t7$=function(t){return this.putUint8_s8j3t7$(t)},k$.prototype.putInt8_fqrh44$=function(t){return this.putUint8_fqrh44$(t)},k$.prototype.putInt8_mj6st8$=function(t,e,n){return this.putUint8_mj6st8$(t,e,n)},k$.prototype.putInt8_ay2i3f$=function(t){return this.putUint8_ay2i3f$(t)},k$.prototype.putInt16_mq22fl$=function(t){return this.putUint16_mq22fl$(t)},k$.prototype.putInt16_gmedm2$=function(t){return this.putUint16_gmedm2$(t)},k$.prototype.putInt16_359eei$=function(t,e,n){return this.putUint16_359eei$(t,e,n)},k$.prototype.putInt16_8k344i$=function(t){return this.putUint16_8k344i$(t)},k$.prototype.putInt32_za3lpa$=function(t){return this.putUint32_za3lpa$(t)},k$.prototype.putInt32_q5rwfd$=function(t){return this.putUint32_q5rwfd$(t)},k$.prototype.putInt32_nd5v6f$=function(t,e,n){return this.putUint32_nd5v6f$(t,e,n)},k$.prototype.putInt32_7hqxcs$=function(t){return this.putUint32_7hqxcs$(t)},k$.prototype.putUint8_fqrh44$=function(t){return this.putUint8_mj6st8$(t,0,t.length)},k$.prototype.putUint16_gmedm2$=function(t){return this.putUint16_359eei$(t,0,t.length)},k$.prototype.putUint32_q5rwfd$=function(t){return this.putUint32_nd5v6f$(t,0,t.length)},k$.prototype.putFloat32_q3cr5i$=function(t){return this.putFloat32_kgymra$(t,0,t.length)},k$.prototype.removeAt_za3lpa$=function(t){throw _i("MixedBuffer does not support element removal")},k$.$metadata$={kind:Z,simpleName:"MixedBuffer",interfaces:[x$]},Object.defineProperty(N$.prototype,"r",{configurable:!0,get:function(){return this.get_za3lpa$(0)}}),Object.defineProperty(N$.prototype,"g",{configurable:!0,get:function(){return this.get_za3lpa$(1)}}),Object.defineProperty(N$.prototype,"b",{configurable:!0,get:function(){return this.get_za3lpa$(2)}}),Object.defineProperty(N$.prototype,"a",{configurable:!0,get:function(){return this.get_za3lpa$(3)}}),N$.prototype.mix_y83vuj$=function(t,e){return this.mix_jpxij3$(t,e,M$())},N$.prototype.mix_jpxij3$=function(t,e,n){return n.r=t.r*e+this.r*(1-e),n.g=t.g*e+this.g*(1-e),n.b=t.b*e+this.b*(1-e),n.a=t.a*e+this.a*(1-e),n},N$.prototype.withAlpha_mx4ult$=function(t){return new E$(this.r,this.g,this.b,t)},N$.prototype.toLinear=function(){return this.gamma_mx4ult$(2.2)},N$.prototype.toLinear_b0h0gw$=function(t){return this.gamma_ccloyr$(2.2,t)},N$.prototype.toSrgb=function(){return this.gamma_mx4ult$(1/2.2)},N$.prototype.toSrgb_b0h0gw$=function(t){return this.gamma_ccloyr$(1/2.2,t)},N$.prototype.gamma_mx4ult$=function(t){return this.gamma_ccloyr$(t,M$())},N$.prototype.gamma_ccloyr$=function(t,e){var n=this.r,i=R.pow(n,t),o=this.g,r=R.pow(o,t),s=this.b;return e.set_7b5o5w$(i,r,R.pow(s,t),this.a)},P$.prototype.fromHsv_7b5o5w$=function(t,e,n,i){return M$().setHsv_7b5o5w$(t,e,n,i)},P$.prototype.fromHex_61zpoe$=function(t){if(0===t.length)return this.BLACK;var n=t;35===n.charCodeAt(0)&&(n=n.substring(1));var i=0,o=0,r=0,s=1;try{if(3===n.length){var a=ce(n.substring(0,1),16),l=ce(n.substring(1,2),16),p=ce(n.substring(2,3),16);i=(a|a<<4)/255,o=(l|l<<4)/255,r=(p|p<<4)/255}else if(4===n.length){var u=ce(n.substring(0,1),16),c=ce(n.substring(1,2),16),_=ce(n.substring(2,3),16),h=ce(n.substring(2,3),16);i=(u|u<<4)/255,o=(c|c<<4)/255,r=(_|_<<4)/255,s=(h|h<<4)/255}else 6===n.length?(i=ce(n.substring(0,2),16)/255,o=ce(n.substring(2,4),16)/255,r=ce(n.substring(4,6),16)/255):8===n.length&&(i=ce(n.substring(0,2),16)/255,o=ce(n.substring(2,4),16)/255,r=ce(n.substring(4,6),16)/255,s=ce(n.substring(6,8),16)/255)}catch(n){if(!e.isType(n,_e))throw n;var d=Hj.Log,f=vC.ERROR,m=e.getKClassFromExpression(this).simpleName;f.level>=d.level.level&&d.printer(f,m,"invalid color code: "+t+", "+n)}return new N$(i,o,r,s)},P$.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var T$=null;function O$(){return null===T$&&new P$,T$}function E$(t,e,n,i){N$.call(this,t,e,n,i)}function M$(t){return t=t||Object.create(E$.prototype),E$.call(t,0,0,0,1),t}function R$(t,e){return e=e||Object.create(E$.prototype),E$.call(e,t.r,t.g,t.b,t.a),e}N$.$metadata$={kind:$,simpleName:"Color",interfaces:[Zo]},Object.defineProperty(E$.prototype,"r",{configurable:!0,get:function(){return this.get_za3lpa$(0)},set:function(t){this.set_24o109$(0,t)}}),Object.defineProperty(E$.prototype,"g",{configurable:!0,get:function(){return this.get_za3lpa$(1)},set:function(t){this.set_24o109$(1,t)}}),Object.defineProperty(E$.prototype,"b",{configurable:!0,get:function(){return this.get_za3lpa$(2)},set:function(t){this.set_24o109$(2,t)}}),Object.defineProperty(E$.prototype,"a",{configurable:!0,get:function(){return this.get_za3lpa$(3)},set:function(t){this.set_24o109$(3,t)}}),Object.defineProperty(E$.prototype,"array",{configurable:!0,get:function(){return this.fields}}),E$.prototype.add_czzhhz$=function(t){return this.r=this.r+t.x,this.g=this.g+t.y,this.b=this.b+t.z,this.a=this.a+t.w,this},E$.prototype.add_m79ulu$=function(t,e){return this.r=this.r+t.x*e,this.g=this.g+t.y*e,this.b=this.b+t.z*e,this.a=this.a+t.w*e,this},E$.prototype.subtract_czzhhz$=function(t){return this.r=this.r-t.x,this.g=this.g-t.y,this.b=this.b-t.z,this.a=this.a-t.w,this},E$.prototype.scale_mx4ult$=function(t){return this.r=this.r*t,this.g=this.g*t,this.b=this.b*t,this.a=this.a*t,this},E$.prototype.scaleRgb_mx4ult$=function(t){return this.r=this.r*t,this.g=this.g*t,this.b=this.b*t,this},E$.prototype.clear=function(){return this.set_7b5o5w$(0,0,0,0),this},E$.prototype.set_7b5o5w$=function(t,e,n,i){return this.r=t,this.g=e,this.b=n,this.a=i,this},E$.prototype.set_czzhhz$=function(t){return this.r=t.x,this.g=t.y,this.b=t.z,this.a=t.w,this},E$.prototype.set_24o109$=function(t,e){this.fields[t]=e},E$.prototype.setHsv_7b5o5w$=function(t,e,n,i){var o=t%360;o<0&&(o+=360);var r=U(o/60),s=o/60-r,a=n*(1-e),l=n*(1-e*s),p=n*(1-e*(1-s));switch(r){case 1:this.set_7b5o5w$(l,n,a,i);break;case 2:this.set_7b5o5w$(a,n,p,i);break;case 3:this.set_7b5o5w$(a,l,n,i);break;case 4:this.set_7b5o5w$(p,a,n,i);break;case 5:this.set_7b5o5w$(n,a,l,i);break;default:this.set_7b5o5w$(n,p,a,i)}return this},E$.$metadata$={kind:$,simpleName:"MutableColor",interfaces:[N$]};var I$=Y((function(){var t=e.kotlin.comparisons.compareValues_s00gnj$;return function(e){return function(n,i){var o=e;return t(o(n),o(i))}}}));function A$(t,e){W$(),void 0===e&&(e=256);var n,i,o,r,s,a=I(e);n=a.length-1|0;for(var l=0;l<=n;l++)a[l]=M$();if(this.gradient_0=a,t.length<2)throw _i("ColorGradient requires at least two colors");t.length>1&&me(t,new bt(I$(G$)));var p=de(t).first,u=fe(t).first,c=0,_=t[(i=c,c=i+1|0,i)],h=t[(o=c,c=o+1|0,o)];r=e;for(var d=0;d<r;d++){for(var f=d/(e-1)*(u-p)+p;f>h.first;){_=h;var m=(c=(s=c)+1|0,s);h=t[R.min(m,t.length)]}var y=1-(f-_.first)/(h.first-_.first);this.gradient_0[d].set_czzhhz$(_.second).scale_mx4ult$(y).add_m79ulu$(h.second,1-y)}}function D$(){V$=this,this.DEFAULT_N=256,this.JET=H$([O$().BLUE,O$().CYAN,O$().GREEN,O$().YELLOW,O$().RED,O$().MAGENTA]),this.JET_MD=H$([O$().MD_BLUE,O$().MD_CYAN,O$().MD_GREEN,O$().MD_YELLOW,O$().MD_RED,O$().MD_PURPLE]),this.RED_YELLOW_GREEN=H$([O$().RED,O$().YELLOW,O$().GREEN]),this.RED_YELLOW_GREEN_MD=H$([O$().MD_RED,O$().MD_YELLOW,O$().MD_GREEN]),this.RED_WHITE_BLUE=new A$([mt(0,new N$(.35,0,0,1)),mt(.35,new N$(.81,.39,0,1)),mt(.5,O$().WHITE),mt(.75,new N$(0,.5,1,1)),mt(1,new N$(0,.18,.47,1))]),this.PLASMA=H$([new N$(.0504,.0298,.528,1),new N$(.1324,.0223,.5633,1),new N$(.1934,.0184,.5903,1),new N$(.2546,.0139,.6154,1),new N$(.3062,.0089,.6337,1),new N$(.3564,.0038,.6478,1),new N$(.4055,7e-4,.657,1),new N$(.4596,.0036,.6603,1),new N$(.5065,.0163,.6562,1),new N$(.5517,.0431,.6453,1),new N$(.595,.0772,.6279,1),new N$(.636,.1121,.6052,1),new N$(.6792,.1518,.5752,1),new N$(.7149,.1873,.5463,1),new N$(.7483,.2227,.5168,1),new N$(.7796,.2581,.4875,1),new N$(.8126,.2979,.4553,1),new N$(.8402,.3336,.4275,1),new N$(.8661,.3697,.4001,1),new N$(.8903,.4064,.3731,1),new N$(.9155,.4488,.3429,1),new N$(.9356,.4877,.316,1),new N$(.9534,.528,.2889,1),new N$(.9685,.5697,.2617,1),new N$(.9806,.613,.2346,1),new N$(.9899,.6638,.2049,1),new N$(.9941,.7107,.1801,1),new N$(.9939,.7593,.1591,1),new N$(.9886,.8096,.1454,1),new N$(.9763,.868,.1434,1),new N$(.9593,.9214,.1516,1),new N$(.94,.9752,.1313,1)]),this.VIRIDIS=H$([new N$(.267,.0049,.3294,1),new N$(.277,.0503,.3757,1),new N$(.2823,.095,.4173,1),new N$(.2826,.1409,.4575,1),new N$(.278,.1804,.4867,1),new N$(.2693,.2188,.5096,1),new N$(.2573,.2561,.5266,1),new N$(.2412,.2965,.5397,1),new N$(.2259,.3308,.5473,1),new N$(.2105,.3637,.5522,1),new N$(.1959,.3954,.5553,1),new N$(.1823,.4262,.5571,1),new N$(.1681,.46,.5581,1),new N$(.1563,.4896,.5579,1),new N$(.1448,.5191,.5566,1),new N$(.1337,.5485,.5535,1),new N$(.1235,.5817,.5474,1),new N$(.1194,.6111,.539,1),new N$(.1248,.6405,.5271,1),new N$(.1433,.6695,.5112,1),new N$(.1807,.7014,.4882,1),new N$(.2264,.7289,.4628,1),new N$(.2815,.7552,.4326,1),new N$(.3441,.78,.3974,1),new N$(.4129,.803,.3573,1),new N$(.4966,.8264,.3064,1),new N$(.5756,.8446,.2564,1),new N$(.6576,.8602,.2031,1),new N$(.7414,.8734,.1496,1),new N$(.8353,.886,.1026,1),new N$(.9162,.8961,.1007,1),new N$(.9932,.9062,.1439,1)])}A$.prototype.getColor_y2kzbl$=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var i=this.gradient_0,o=U((t-e)/(n-e)*this.gradient_0.length),r=this.gradient_0.length-1|0;return i[o<0?0:o>r?r:o]},A$.prototype.getColorInterpolated_vsomir$=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=1);var o=(t-n)/(i-n)*this.gradient_0.length,r=this.gradient_0.length-1,s=o<0?0:o>r?r:o,a=U(s),l=this.gradient_0.length-1|0,p=a<0?0:a>l?l:a,u=p+1|0,c=this.gradient_0.length-1|0,_=u<0?0:u>c?c:u,h=_-s,d=1-h,f=this.gradient_0[_];return e.set_czzhhz$(this.gradient_0[p]).scale_mx4ult$(d),e.r=e.r+f.r*h,e.g=e.g+f.g*h,e.b=e.b+f.b*h,e.a=e.a+f.a*h,e},A$.prototype.inverted=function(){var t,e=I(this.gradient_0.length);t=e.length-1|0;for(var n=0;n<=t;n++)e[n]=mt(n,this.gradient_0[he(this.gradient_0)-n|0]);return new A$(e.slice(),this.gradient_0.length)},D$.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var B$,F$,q$,U$,V$=null;function W$(){return null===V$&&new D$,V$}function G$(t){return t.first}function H$(t,e,n){void 0===e&&(e=256),n=n||Object.create(A$.prototype);var i,o=I(t.length);i=o.length-1|0;for(var r=0;r<=i;r++)o[r]=mt(r,t[r]);return A$.call(n,o.slice(),e),n}function X$(t,e){void 0===e&&(e=0),this.data=t,this.byteOffset=e,this.index=0}function K$(t,e){var n,i,o;void 0===e&&(e=Q$()),this.ui=null,this.xOffset_un9ppf$_0=0,this.menuContainer_pm7z9i$_0=this.menuContainer_pm7z9i$_0,this.ui=Em(t.screenDpi,"debug-overlay",void 0,(n=this,i=t,o=e,function(t,e){return t.theme=Zm(Hm().DARK_SIMPLE,ib),t.content.ui.setCustom_11rb$(new Ef),t.unaryPlus_uv0sim$(t.container_t34sov$("dbgPanel",function(t,e,n,i){return function(o){var r;t.menuContainer_0=o,o.customTransform=function(t){return function(e){return e.translate_y2kzbl$(t.xOffset,0,0),a}}(t);var s=168+18*e.getSysInfos().size;switch(n.name){case"UPPER_LEFT":o.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(-s,!0),Xf());break;case"UPPER_RIGHT":o.layoutSpec.setOrigin_4ujscr$(Zf(-180,!0),Zf(-s,!0),Xf());break;case"LOWER_LEFT":o.layoutSpec.setOrigin_4ujscr$(Xf(),Xf(),Xf());break;case"LOWER_RIGHT":o.layoutSpec.setOrigin_4ujscr$(Zf(-180,!0),Xf(),Xf())}o.layoutSpec.setSize_4ujscr$(Zf(180,!0),Zf(s,!0),Kf());var l=new rb(i);l.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(-40,!0),Xf()),l.layoutSpec.setSize_4ujscr$(Zf(180,!0),Zf(40,!0),Kf()),o.unaryPlus_uv0sim$(l),o.unaryPlus_uv0sim$(i.label_tokfmu$("lblFps",function(t,e){return function(n){var i;return n.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(-37,!0),Xf()),n.layoutSpec.setSize_4ujscr$(Zf(t,!0),Zf(37,!0),Kf()),n.padding=new lm(Xf(),Xf(),Zf(4,!0),Zf(4,!0)),n.textAlignment=new pm(hm(),hm()),n.text="",n.font.setCustom_11rb$(Hm().DARK_SIMPLE.standardFont_oei9ky$(n.dpi,e)),n.textColor.setCustom_11rb$(n.root.theme.accentColor),n.onUpdate.add_11rb$((i=n,function(t,e){return i.text=Dk(e.ctx.fps,1)+" fps",a})),a}}(180,e)));var p,u,c={v:-60};o.unaryPlus_uv0sim$(i.label_tokfmu$("lblKoolVersion",(p=c,u=180,function(t){return t.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(p.v,!0),Xf()),t.layoutSpec.setSize_4ujscr$(Zf(u,!0),Zf(18,!0),Kf()),t.padding=new lm(Xf(),Xf(),Zf(4,!0),Zf(4,!0)),t.textAlignment=new pm(dm(),hm()),t.text="Kool v0.7.0-210105.0008",a}))),c.v-=18,r=e.getSysInfos();for(var _=0;_!==r.size;++_)o.unaryPlus_uv0sim$(i.label_tokfmu$("lblSysInfo_"+_,ob(c,180,_))),c.v-=18;return o.unaryPlus_uv0sim$(i.label_tokfmu$("lblVpSize",function(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(t.v,!0),Xf()),i.layoutSpec.setSize_4ujscr$(Zf(e,!0),Zf(18,!0),Kf()),i.padding=new lm(Xf(),Xf(),Zf(4,!0),Zf(4,!0)),i.textAlignment=new pm(dm(),hm());var o=i.onUpdate,r=function(t,e,n,i){return function(o,r){return t.windowWidth===e.v&&t.windowHeight===n.v||(e.v=t.windowWidth,n.v=t.windowHeight,i.text="Viewport: "+t.windowWidth+"x"+t.windowHeight),a}}(n,{v:-1},{v:-1},i);return o.add_11rb$(r),a}}(c,180,e))),c.v-=18,o.unaryPlus_uv0sim$(i.label_tokfmu$("lblUpTime",function(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(t.v,!0),Xf()),i.layoutSpec.setSize_4ujscr$(Zf(e,!0),Zf(18,!0),Kf()),i.padding=new lm(Xf(),Xf(),Zf(4,!0),Zf(4,!0)),i.textAlignment=new pm(dm(),hm()),i.text="Up: 00:00.00";var o=i.onUpdate,r=function(t,e,n){return function(i,o){if(e.v-=t.deltaT,e.v<0){e.v+=1;var r=""+Lt(U(t.time/3600));1===r.length&&(r="0"+r);var s=""+Lt(U(t.time%3600/60));1===s.length&&(s="0"+s);var l=""+Lt(U(t.time%60));1===l.length&&(l="0"+l),n.text="Up: "+r+":"+s+"."+l}return a}}(n,{v:1},i);return o.add_11rb$(r),a}}(c,180,e))),c.v-=18,o.unaryPlus_uv0sim$(i.label_tokfmu$("lblNumTextures",function(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(t.v,!0),Xf()),i.layoutSpec.setSize_4ujscr$(Zf(e,!0),Zf(18,!0),Kf()),i.padding=new lm(Xf(),Xf(),Zf(4,!0),Zf(4,!0)),i.textAlignment=new pm(dm(),hm());var o=i.onUpdate,r=function(t,e,n,i){return function(o,r){var s=t.engineStats.textureAllocations.size,l=t.engineStats.totalTextureSize.toNumber();return s===e.v&&l===n.v||(e.v=s,n.v=l,i.text=s.toString()+" Textures: "+Dk(l/1048576,1)+"M"),a}}(n,{v:-1},{v:-1},i);return o.add_11rb$(r),a}}(c,180,e))),c.v-=18,o.unaryPlus_uv0sim$(i.label_tokfmu$("lblNumBuffers",function(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(t.v,!0),Xf()),i.layoutSpec.setSize_4ujscr$(Zf(e,!0),Zf(18,!0),Kf()),i.padding=new lm(Xf(),Xf(),Zf(4,!0),Zf(4,!0)),i.textAlignment=new pm(dm(),hm());var o=i.onUpdate,r=function(t,e,n,i){return function(o,r){var s=t.engineStats.bufferAllocations.size,l=t.engineStats.totalBufferSize.toNumber();return s===e.v&&l===n.v||(e.v=s,n.v=l,i.text=s.toString()+" Buffers: "+Dk(l/1048576,1)+"M"),a}}(n,{v:-1},{v:-1},i);return o.add_11rb$(r),a}}(c,180,e))),c.v-=18,o.unaryPlus_uv0sim$(i.label_tokfmu$("lblNumShaders",function(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(t.v,!0),Xf()),i.layoutSpec.setSize_4ujscr$(Zf(e,!0),Zf(18,!0),Kf()),i.padding=new lm(Xf(),Xf(),Zf(4,!0),Zf(4,!0)),i.textAlignment=new pm(dm(),hm());var o=i.onUpdate,r=function(t,e,n,i){return function(o,r){var s=t.engineStats.pipelines.size,l=t.engineStats.numDrawCommands;return l===e.v&&s===n.v||(n.v=s,e.v=l,i.text=s.toString()+" Shaders / "+l+" Cmds"),a}}(n,{v:-1},{v:-1},i);return o.add_11rb$(r),a}}(c,180,e))),c.v-=18,o.unaryPlus_uv0sim$(i.label_tokfmu$("lblNumFaces",function(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(t.v,!0),Xf()),i.layoutSpec.setSize_4ujscr$(Zf(e,!0),Zf(18,!0),Kf()),i.padding=new lm(Xf(),Xf(),Zf(4,!0),Zf(4,!0)),i.textAlignment=new pm(dm(),hm());var o=i.onUpdate,r=function(t,e,n){return function(i,o){var r=t.engineStats.numPrimitives;return r!==e.v&&(e.v=r,n.text=r.toString()+" Faces"),a}}(n,{v:-1},i);return o.add_11rb$(r),a}}(c,180,e))),a}}(n,i,o,t))),a})),this.ui.isPickingEnabled=!1}function Y$(t,e){P.call(this),this.name$=t,this.ordinal$=e}function Z$(){Z$=function(){},B$=new Y$("UPPER_LEFT",0),F$=new Y$("UPPER_RIGHT",1),q$=new Y$("LOWER_LEFT",2),U$=new Y$("LOWER_RIGHT",3)}function J$(){return Z$(),B$}function Q$(){return Z$(),F$}function tb(){return Z$(),q$}function eb(){return Z$(),U$}function nb(t){return new Ef}function ib(t){return t.componentUi_mloaa0$(nb),t.containerUi_2t3ptw$(Yt("SimpleComponentUi",(function(t){return new Mf(t)}))),t.standardFont_ttufcy$(new rg(pg().SYSTEM_FONT,12)),a}function ob(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(Xf(),Zf(t.v,!0),Xf()),i.layoutSpec.setSize_4ujscr$(Zf(e,!0),Zf(18,!0),Kf()),i.padding=new lm(Xf(),Xf(),Zf(4,!0),Zf(4,!0)),i.textAlignment=new pm(dm(),hm()),i.text="";var o=i.onUpdate,r=function(t,e){return function(n,i){return e.text=i.ctx.getSysInfos().get_za3lpa$(t),a}}(n,i);return o.add_11rb$(r),a}}function rb(t){km.call(this,"deltaT",t),this.graphMesh=null,this.graphGeom=new Uz(Dm().UI_MESH_ATTRIBS),this.graphBuilder=new PC(this.graphGeom),this.graphVertex=this.graphGeom.get_za3lpa$(0),this.graphIdx=0,this.prevDeltaT=0,this.graphMesh=new $d(this.graphGeom),this.graphMesh.geometry.usage=sC(),this.graphMesh.shader=new Rm}function sb(t){pb(),zc.call(this,pb().shaderModel_l5ebkw$(t)),this.deferredCameraNode_0=null,this.sceneCamera_f7edkp$_0=t.sceneCamera,this.positionAoSampler_0=null,this.normalRoughnessSampler_0=null,this.albedoMetalSampler_0=null,this.positionAo_ot9dej$_0=t.positionAo,this.normalRoughness_mouyfl$_0=t.normalRoughness,this.albedoMetal_35ktqu$_0=t.albedoMetal}function ab(){lb=this,this.LIGHT_POS=new us("aLightPos",ns()),this.LIGHT_DIR=new us("aLightDir",ns())}A$.$metadata$={kind:$,simpleName:"ColorGradient",interfaces:[]},X$.prototype.hasRemaining=function(){return this.index<this.data.capacity},X$.prototype.readByte=function(){var t;return this.data.get_za3lpa$(this.byteOffset+(t=this.index,this.index=t+1|0,t)|0)},X$.prototype.readUByte=function(){var t;return 255&this.data.get_za3lpa$(this.byteOffset+(t=this.index,this.index=t+1|0,t)|0)},X$.prototype.readShort=function(){var t=this.readUShort();return t>32767&&(t=t-65536|0),t},X$.prototype.readUShort=function(){for(var t=0,e=0;e<=1;e++)t|=this.readUByte()<<(8*e|0);return t},X$.prototype.readInt=function(){return this.readUInt()},X$.prototype.readUInt=function(){for(var t=0,e=0;e<=3;e++)t|=this.readUByte()<<(8*e|0);return t},X$.prototype.readFloat=function(){var t=this.readUInt();return e.floatFromBits(t)},X$.prototype.readData_za3lpa$=function(t){for(var e,n=Nj(t),i=0;i<t;i++)n.set_6t1wet$(i,this.data.get_za3lpa$((e=this.index,this.index=e+1|0,e)));return n},X$.prototype.skipBytes_za3lpa$=function(t){this.index=this.index+t|0},X$.$metadata$={kind:$,simpleName:"DataStream",interfaces:[]},Object.defineProperty(K$.prototype,"xOffset",{configurable:!0,get:function(){return this.xOffset_un9ppf$_0},set:function(t){this.xOffset_un9ppf$_0!==t&&(this.xOffset_un9ppf$_0=t,this.menuContainer_0.requestUpdateTransform())}}),Object.defineProperty(K$.prototype,"menuContainer_0",{configurable:!0,get:function(){return null==this.menuContainer_pm7z9i$_0?_t("menuContainer"):this.menuContainer_pm7z9i$_0},set:function(t){this.menuContainer_pm7z9i$_0=t}}),Y$.$metadata$={kind:$,simpleName:"Position",interfaces:[P]},Y$.values=function(){return[J$(),Q$(),tb(),eb()]},Y$.valueOf_61zpoe$=function(t){switch(t){case"UPPER_LEFT":return J$();case"UPPER_RIGHT":return Q$();case"LOWER_LEFT":return tb();case"LOWER_RIGHT":return eb();default:T("No enum constant de.fabmax.kool.util.DebugOverlay.Position."+t)}},K$.$metadata$={kind:$,simpleName:"DebugOverlay",interfaces:[]},rb.prototype.collectDrawCommands_kma0q5$=function(t){var e=O$().WHITE;this.prevDeltaT>.05?e=O$().RED:this.prevDeltaT>.025&&(e=O$().YELLOW),this.setCurrentBarColor_d7aj7k$(e),this.prevDeltaT=t.deltaT,this.graphIdx=(this.graphIdx+4|0)%(4*U(this.width)|0),this.graphVertex.index=this.graphIdx;var n,i,o=this.graphVertex.position.y,r=250*t.deltaT,s=this.height,a=R.min(r,s);(n=this.graphVertex).index=n.index+1|0,this.graphVertex.position.y=o+a,(i=this.graphVertex).index=i.index+1|0,this.graphVertex.position.y=o+a,this.setCurrentBarColor_d7aj7k$(O$().MAGENTA),this.graphGeom.hasChanged=!0,km.prototype.collectDrawCommands_kma0q5$.call(this,t)},rb.prototype.setCurrentBarColor_d7aj7k$=function(t){this.graphVertex.index=this.graphIdx;for(var e=0;e<=3;e++)this.graphVertex.index=this.graphIdx+e|0,this.graphVertex.color.set_czzhhz$(t)},rb.prototype.updateUi_aemszp$=function(t){km.prototype.updateUi_aemszp$.call(this,t),this.setupBuilder_84rojv$(this.graphBuilder),this.graphBuilder.color=O$().WHITE;var e,n=this.graphBuilder;n.transform.push(),n.translate_y2kzbl$(0,0,0),e=U(this.width);for(var i=1;i<=e;i++)this.graphBuilder.line_s2l86p$(i-.5,0,i-.5,1,1);n.transform.pop()},rb.prototype.updateTheme_aemszp$=function(t){km.prototype.updateTheme_aemszp$.call(this,t),this.minusAssign_f1kmr1$(this.graphMesh),this.plusAssign_f1kmr1$(this.graphMesh)},rb.$metadata$={kind:$,simpleName:"DeltaTGraph",interfaces:[km]},Object.defineProperty(sb.prototype,"sceneCamera",{configurable:!0,get:function(){return this.sceneCamera_f7edkp$_0},set:function(t){var e;this.sceneCamera_f7edkp$_0=t,null!=(e=this.deferredCameraNode_0)&&(e.sceneCam=t)}}),Object.defineProperty(sb.prototype,"positionAo",{configurable:!0,get:function(){return this.positionAo_ot9dej$_0},set:function(t){var e;this.positionAo_ot9dej$_0=t,null!=(e=this.positionAoSampler_0)&&(e.texture=t)}}),Object.defineProperty(sb.prototype,"normalRoughness",{configurable:!0,get:function(){return this.normalRoughness_mouyfl$_0},set:function(t){var e;this.normalRoughness_mouyfl$_0=t,null!=(e=this.normalRoughnessSampler_0)&&(e.texture=t)}}),Object.defineProperty(sb.prototype,"albedoMetal",{configurable:!0,get:function(){return this.albedoMetal_35ktqu$_0},set:function(t){var e;this.albedoMetal_35ktqu$_0=t,null!=(e=this.albedoMetalSampler_0)&&(e.texture=t)}}),sb.prototype.onPipelineSetup_x08qbx$=function(t,e,n){t.blendMode=hl(),t.cullMethod=Pl(),t.depthTest=$l(),zc.prototype.onPipelineSetup_x08qbx$.call(this,t,e,n)},sb.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l,p,u,c,h,d=this.model;t:do{var f;for(c=sc.ALL,f=d.stages.values.iterator();f.hasNext();){var m=f.next();if(0!=(m.stage.mask&c.mask)){var y,$,b=m.nodes;e:do{var g;for(g=b.iterator();g.hasNext();){var v=g.next();if(Dt(v.name,"deferredCam")&&e.isType(v,Tb)){$=v;break e}}$=null}while(0);var x=null==(y=$)||e.isType(y,Tb)?y:_();if(null!=x){h=x;break t}}}h=null}while(0);this.deferredCameraNode_0=h,null!=(o=this.deferredCameraNode_0)&&(o.sceneCam=this.sceneCamera);var w,z,C=this.model;t:do{var S;for(w=sc.ALL,S=C.stages.values.iterator();S.hasNext();){var k=S.next();if(0!=(k.stage.mask&w.mask)){var L,j,N=k.nodes;e:do{var P;for(P=N.iterator();P.hasNext();){var T=P.next();if(Dt(T.name,"positionAo")&&e.isType(T,ju)){j=T;break e}}j=null}while(0);var O=null==(L=j)||e.isType(L,ju)?L:_();if(null!=O){z=O;break t}}}z=null}while(0);this.positionAoSampler_0=null!=(r=z)?r.sampler:null,null!=(s=this.positionAoSampler_0)&&(s.texture=this.positionAo);var E,M,R=this.model;t:do{var I;for(E=sc.ALL,I=R.stages.values.iterator();I.hasNext();){var A=I.next();if(0!=(A.stage.mask&E.mask)){var D,B,F=A.nodes;e:do{var q;for(q=F.iterator();q.hasNext();){var U=q.next();if(Dt(U.name,"normalRoughness")&&e.isType(U,ju)){B=U;break e}}B=null}while(0);var V=null==(D=B)||e.isType(D,ju)?D:_();if(null!=V){M=V;break t}}}M=null}while(0);this.normalRoughnessSampler_0=null!=(a=M)?a.sampler:null,null!=(l=this.normalRoughnessSampler_0)&&(l.texture=this.normalRoughness);var W,G,H=this.model;t:do{var X;for(W=sc.ALL,X=H.stages.values.iterator();X.hasNext();){var K=X.next();if(0!=(K.stage.mask&W.mask)){var Y,Z,J=K.nodes;e:do{var Q;for(Q=J.iterator();Q.hasNext();){var tt=Q.next();if(Dt(tt.name,"albedoMetal")&&e.isType(tt,ju)){Z=tt;break e}}Z=null}while(0);var et=null==(Y=Z)||e.isType(Y,ju)?Y:_();if(null!=et){G=et;break t}}}G=null}while(0);this.albedoMetalSampler_0=null!=(p=G)?p.sampler:null,null!=(u=this.albedoMetalSampler_0)&&(u.texture=this.albedoMetal),zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},ab.prototype.shaderModel_l5ebkw$=function(t){var e,n=new tu("point light shader model"),i={v:null},o={v:null},r={v:null},s={v:null},a=new nu(n),l=a.instanceAttrModelMat().output,p=a.multiplyNode_ze33is$(a.premultipliedMvpNode().outMvpMat,l).output;a.positionOutput=a.vec4TransformNode_9krp9t$(a.attrPositions().output,p).outVec4,i.v=a.stageInterfaceNode_iikjwn$("ifFragCoords",a.positionOutput),o.v=a.stageInterfaceNode_iikjwn$("ifLightColor",a.instanceAttributeNode_nm2vx5$(hs().COLORS).output,!0),r.v=a.stageInterfaceNode_iikjwn$("ifLightPos",a.instanceAttributeNode_nm2vx5$(this.LIGHT_POS).output,!0),e=t.lightType===hd()?null:a.stageInterfaceNode_iikjwn$("ifLightDir",a.instanceAttributeNode_nm2vx5$(this.LIGHT_DIR).output,!0),s.v=e;var u=new iu(n),c=u.divideNode_ze33is$(u.splitNode_500t7j$(i.v.output,"xy").output,u.splitNode_500t7j$(i.v.output,"w").output).output,_=u.addNode_ze33is$(u.multiplyNode_tuikh5$(c,.5).output,new ru(new Pp(.5))).output,h=u.addNode_u9w9by$(new Cb(u.stage));h.inPositionAo=u.texture2dSamplerNode_fzevit$(u.texture2dNode_61zpoe$("positionAo"),_).outColor,h.inNormalRough=u.texture2dSamplerNode_fzevit$(u.texture2dNode_61zpoe$("normalRoughness"),_).outColor,h.inAlbedoMetallic=u.texture2dSamplerNode_fzevit$(u.texture2dNode_61zpoe$("albedoMetal"),_).outColor;var d=h;u.addNode_u9w9by$(new Pb(u.stage)).inViewPos=d.outViewPos;var f=u.addNode_u9w9by$(new Tb(u.stage)),m=u.vec3TransformNode_vid4wo$(d.outViewPos,f.outInvViewMat,1).outVec3,y=u.vec3TransformNode_vid4wo$(d.outViewNormal,f.outInvViewMat,0).outVec3,$=u.pbrLightNode();if($.lightBacksides=t.lightBacksides,$.inFragPos=m,$.inNormal=y,$.inCamPos=f.outCamPos,$.inAlbedo=d.outAlbedo,$.inMetallic=d.outMetallic,$.inRoughness=d.outRoughness,t.lightType===dd()){var b=u.addNode_u9w9by$(new ip(u.stage));b.isReducedSoi=!0,b.inLightPos=r.v.output,b.inLightColor=o.v.output,b.inLightDir=w(s.v).output,b.inFragPos=m;var g=b;$.inFragToLight=g.outFragToLightDirection,$.inRadiance=g.outRadiance}else{var v=u.addNode_u9w9by$(new np(u.stage));v.isReducedSoi=!0,v.inLightPos=r.v.output,v.inLightColor=o.v.output,v.inFragPos=m;var x=v;$.inFragToLight=x.outFragToLightDirection,$.inRadiance=x.outRadiance}var z=$;return u.colorOutput_a3v4si$(z.outColor),n},ab.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var lb=null;function pb(){return null===lb&&new ab,lb}function ub(){this.lightType_vh4r6w$_0=hd(),this.sceneCamera=null,this.lightBacksides=!1,this.positionAo=null,this.normalRoughness=null,this.albedoMetal=null}function cb(t,n){db(),void 0===n&&(n=!1);var i,o,r,s=new ad,l=new ua,p=n;for(l.name="DeferredMrtPass",l.setDynamicSize(),l.setDepthTexture_6taknv$(!1),i=(p?db().FORMATS_DEFERRED_EMISSIVE:db().FORMATS_DEFERRED).iterator();i.hasNext();){var u=i.next();l.addColorTexture_farcsl$(u)}ya.call(this,s,new pa(l)),this.withEmissive=n,this.content=e.isType(o=this.drawNode,ad)?o:_(),this.alphaMeshes_8be2vx$=E();var c,h,d=new ed(e.isType(r=t.camera,td)?r:_());this.camera=d,this.onBeforeCollectDrawCommands.add_11rb$((c=d,h=t,function(t){return c.sync_hrtwbc$(h.mainRenderPass.viewport,t),a})),t.addOffscreenPass_m1c2kf$(this),this.clearColors[0]=new N$(0,0,1,0),this.clearColors[1]=null,this.clearColors[2]=null,this.withEmissive&&(this.clearColors[3]=null),this.content.isFrustumChecked=!1,this.drawQueue.meshFilter=fb}function _b(){hb=this,this.FMT_POSITION_AO=y_(),this.FMT_NORMAL_ROUGH=y_(),this.FMT_ALBEDO_METAL=h_(),this.FMT_EMISSIVE=h_(),this.FORMATS_DEFERRED=Rt([this.FMT_POSITION_AO,this.FMT_NORMAL_ROUGH,this.FMT_ALBEDO_METAL]),this.FORMATS_DEFERRED_EMISSIVE=Rt([this.FMT_POSITION_AO,this.FMT_NORMAL_ROUGH,this.FMT_ALBEDO_METAL,this.FMT_EMISSIVE])}Object.defineProperty(ub.prototype,"lightType",{configurable:!0,get:function(){return this.lightType_vh4r6w$_0},set:function(t){var n;if(t===_d()){var i=Hj.Log,o=vC.ERROR,r=e.getKClassFromExpression(this).simpleName;o.level>=i.level.level&&i.printer(o,r,"Directional lights are not supported for deferred lights, use global lighting instead."),n=hd()}else n=t;this.lightType_vh4r6w$_0=n}}),ub.$metadata$={kind:$,simpleName:"Config",interfaces:[]},sb.$metadata$={kind:$,simpleName:"DeferredLightShader",interfaces:[zc]},Object.defineProperty(cb.prototype,"positionAo",{configurable:!0,get:function(){return this.colorTextures.get_za3lpa$(0)}}),Object.defineProperty(cb.prototype,"normalRoughness",{configurable:!0,get:function(){return this.colorTextures.get_za3lpa$(1)}}),Object.defineProperty(cb.prototype,"albedoMetal",{configurable:!0,get:function(){return this.colorTextures.get_za3lpa$(2)}}),Object.defineProperty(cb.prototype,"emissive",{configurable:!0,get:function(){return this.withEmissive?this.colorTextures.get_za3lpa$(3):null}}),cb.prototype.collectDrawCommands_aemszp$=function(t){this.alphaMeshes_8be2vx$.clear(),ya.prototype.collectDrawCommands_aemszp$.call(this,t)},cb.prototype.addMesh_sbx4mf$=function(t,e){var n;return t.isOpaque?n=ya.prototype.addMesh_sbx4mf$.call(this,t,e):(this.alphaMeshes_8be2vx$.add_11rb$(t),n=null),n},cb.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),ya.prototype.dispose_aemszp$.call(this,t)},_b.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var hb=null;function db(){return null===hb&&new _b,hb}function fb(t){return t.isOpaque}function mb(t,e){bb(),zc.call(this,bb().outputModel_0()),this.pbrOutput_0=t,this.depth_0=e}function yb(){$b=this}cb.$metadata$={kind:$,simpleName:"DeferredMrtPass",interfaces:[ya]},mb.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l=this.model;t:do{var p;for(s=sc.ALL,p=l.stages.values.iterator();p.hasNext();){var u=p.next();if(0!=(u.stage.mask&s.mask)){var c,h,d=u.nodes;e:do{var f;for(f=d.iterator();f.hasNext();){var m=f.next();if(Dt(m.name,"deferredPbrOutput")&&e.isType(m,ju)){h=m;break e}}h=null}while(0);var y=null==(c=h)||e.isType(c,ju)?c:_();if(null!=y){a=y;break t}}}a=null}while(0);var $=null!=(o=a)?o.sampler:null;null!=$&&($.texture=this.pbrOutput_0);var b,g,v=this.model;t:do{var x;for(b=sc.ALL,x=v.stages.values.iterator();x.hasNext();){var w=x.next();if(0!=(w.stage.mask&b.mask)){var z,C,S=w.nodes;e:do{var k;for(k=S.iterator();k.hasNext();){var L=k.next();if(Dt(L.name,"deferredDepthOutput")&&e.isType(L,ju)){C=L;break e}}C=null}while(0);var j=null==(z=C)||e.isType(z,ju)?z:_();if(null!=j){g=j;break t}}}g=null}while(0);var N=null!=(r=g)?r.sampler:null;null!=N&&(N.texture=this.depth_0),zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},yb.prototype.outputModel_0=function(){var t=new tu("DeferredOutputShader"),e={v:null},n=new nu(t);e.v=n.stageInterfaceNode_iikjwn$("ifTexCoords",n.attrTexCoords().output),n.positionOutput=n.fullScreenQuadPositionNode_r20yfm$(n.attrTexCoords().output).outQuadPos;var i=new iu(t),o=i.texture2dSamplerNode_fzevit$(i.texture2dNode_61zpoe$("deferredPbrOutput"),e.v.output);i.colorOutput_a3v4si$(i.hdrToLdrNode_r20yfm$(o.outColor).outColor);var r=i.texture2dSamplerNode_fzevit$(i.texture2dNode_61zpoe$("deferredDepthOutput"),e.v.output);return i.depthOutput_r20yfm$(r.outColor),t},yb.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var $b=null;function bb(){return null===$b&&new yb,$b}function gb(t,e){wb(),void 0===e&&(e=wb().defaultMrtPbrModel_2ufela$(t)),zc.call(this,e),this.cullMethod_aft819$_0=t.cullMethod,this.uRoughness_l04x3p$_0=null,this.uMetallic_zgqm06$_0=null,this.uAlbedo_4phmdc$_0=null,this.uEmissive_2p1vku$_0=null,this.metallic_mwthg9$_0=t.metallic,this.roughness_cztq66$_0=t.roughness,this.albedo_9owvlf$_0=t.albedo,this.emissive_9uv8z3$_0=t.emissive,this.albedoSampler_4xngv3$_0=null,this.emissiveSampler_7gr0w3$_0=null,this.normalSampler_9dwwj7$_0=null,this.metallicSampler_2ylj7p$_0=null,this.roughnessSampler_3dp96a$_0=null,this.occlusionSampler_slvtxn$_0=null,this.displacementSampler_8zs1vn$_0=null,this.uDispStrength_86lbd6$_0=null,this.metallicTexName_o5b24b$_0=t.metallicTexName,this.roughnessTexName_ht09qc$_0=t.roughnessTexName,this.occlusionTexName_l8ip4v$_0=t.occlusionTexName,this.albedoMap_583l57$_0=t.albedoMap,this.emissiveMap_lef1wp$_0=t.emissiveMap,this.normalMap_o8h8ft$_0=t.normalMap,this.metallicMap_onr26n$_0=t.metallicMap,this.roughnessMap_kdfn22$_0=t.roughnessMap,this.occlusionMap_ewiscp$_0=t.occlusionMap,this.displacementMap_1yztpl$_0=t.displacementMap,this.displacementStrength_i48dea$_0=t.displacementStrength}function vb(){xb=this}mb.$metadata$={kind:$,simpleName:"DeferredOutputShader",interfaces:[zc]},Object.defineProperty(gb.prototype,"metallic",{configurable:!0,get:function(){return this.metallic_mwthg9$_0},set:function(t){var e,n;this.metallic_mwthg9$_0=t,null!=(n=null!=(e=this.uMetallic_zgqm06$_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(gb.prototype,"roughness",{configurable:!0,get:function(){return this.roughness_cztq66$_0},set:function(t){var e,n;this.roughness_cztq66$_0=t,null!=(n=null!=(e=this.uRoughness_l04x3p$_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(gb.prototype,"albedo",{configurable:!0,get:function(){return this.albedo_9owvlf$_0},set:function(t){var e,n,i;this.albedo_9owvlf$_0=t,null!=(i=null!=(n=null!=(e=this.uAlbedo_4phmdc$_0)?e.uniform:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(gb.prototype,"emissive",{configurable:!0,get:function(){return this.emissive_9uv8z3$_0},set:function(t){var e,n,i;this.emissive_9uv8z3$_0=t,null!=(i=null!=(n=null!=(e=this.uEmissive_2p1vku$_0)?e.uniform:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(gb.prototype,"albedoMap",{configurable:!0,get:function(){return this.albedoMap_583l57$_0},set:function(t){var e;this.albedoMap_583l57$_0=t,null!=(e=this.albedoSampler_4xngv3$_0)&&(e.texture=t)}}),Object.defineProperty(gb.prototype,"emissiveMap",{configurable:!0,get:function(){return this.emissiveMap_lef1wp$_0},set:function(t){var e;this.emissiveMap_lef1wp$_0=t,null!=(e=this.emissiveSampler_7gr0w3$_0)&&(e.texture=t)}}),Object.defineProperty(gb.prototype,"normalMap",{configurable:!0,get:function(){return this.normalMap_o8h8ft$_0},set:function(t){var e;this.normalMap_o8h8ft$_0=t,null!=(e=this.normalSampler_9dwwj7$_0)&&(e.texture=t)}}),Object.defineProperty(gb.prototype,"metallicMap",{configurable:!0,get:function(){return this.metallicMap_onr26n$_0},set:function(t){var e;this.metallicMap_onr26n$_0=t,null!=(e=this.metallicSampler_2ylj7p$_0)&&(e.texture=t)}}),Object.defineProperty(gb.prototype,"roughnessMap",{configurable:!0,get:function(){return this.roughnessMap_kdfn22$_0},set:function(t){var e;this.roughnessMap_kdfn22$_0=t,null!=(e=this.roughnessSampler_3dp96a$_0)&&(e.texture=t)}}),Object.defineProperty(gb.prototype,"occlusionMap",{configurable:!0,get:function(){return this.occlusionMap_ewiscp$_0},set:function(t){var e;this.occlusionMap_ewiscp$_0=t,null!=(e=this.occlusionSampler_slvtxn$_0)&&(e.texture=t)}}),Object.defineProperty(gb.prototype,"displacementMap",{configurable:!0,get:function(){return this.displacementMap_1yztpl$_0},set:function(t){var e;this.displacementMap_1yztpl$_0=t,null!=(e=this.displacementSampler_8zs1vn$_0)&&(e.texture=t)}}),Object.defineProperty(gb.prototype,"displacementStrength",{configurable:!0,get:function(){return this.displacementStrength_i48dea$_0},set:function(t){var e,n;this.displacementStrength_i48dea$_0=t,null!=(n=null!=(e=this.uDispStrength_86lbd6$_0)?e.uniform:null)&&(n.value=t)}}),gb.prototype.onPipelineSetup_x08qbx$=function(t,e,n){t.cullMethod=this.cullMethod_aft819$_0,t.blendMode=_l(),zc.prototype.onPipelineSetup_x08qbx$.call(this,t,e,n)},gb.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l,p,u,c,h,d,f,m,y,$,b,g,v,x,w,z,C,S,k,L,j,N=this.model;t:do{var P;for(L=sc.ALL,P=N.stages.values.iterator();P.hasNext();){var T=P.next();if(0!=(T.stage.mask&L.mask)){var O,E,M=T.nodes;e:do{var R;for(R=M.iterator();R.hasNext();){var I=R.next();if(Dt(I.name,"uMetallic")&&e.isType(I,Iu)){E=I;break e}}E=null}while(0);var A=null==(O=E)||e.isType(O,Iu)?O:_();if(null!=A){j=A;break t}}}j=null}while(0);this.uMetallic_zgqm06$_0=j,null!=(o=this.uMetallic_zgqm06$_0)&&(o.uniform.value=this.metallic);var D,B,F=this.model;t:do{var q;for(D=sc.ALL,q=F.stages.values.iterator();q.hasNext();){var U=q.next();if(0!=(U.stage.mask&D.mask)){var V,W,G=U.nodes;e:do{var H;for(H=G.iterator();H.hasNext();){var X=H.next();if(Dt(X.name,"uRoughness")&&e.isType(X,Iu)){W=X;break e}}W=null}while(0);var K=null==(V=W)||e.isType(V,Iu)?V:_();if(null!=K){B=K;break t}}}B=null}while(0);this.uRoughness_l04x3p$_0=B,null!=(r=this.uRoughness_l04x3p$_0)&&(r.uniform.value=this.roughness);var Y,Z,J=this.model;t:do{var Q;for(Y=sc.ALL,Q=J.stages.values.iterator();Q.hasNext();){var tt=Q.next();if(0!=(tt.stage.mask&Y.mask)){var et,nt,it=tt.nodes;e:do{var ot;for(ot=it.iterator();ot.hasNext();){var rt=ot.next();if(Dt(rt.name,"uAlbedo")&&e.isType(rt,Fu)){nt=rt;break e}}nt=null}while(0);var st=null==(et=nt)||e.isType(et,Fu)?et:_();if(null!=st){Z=st;break t}}}Z=null}while(0);this.uAlbedo_4phmdc$_0=Z,null!=(l=null!=(a=null!=(s=this.uAlbedo_4phmdc$_0)?s.uniform:null)?a.value:null)&&l.set_czzhhz$(this.albedo);var at,lt,pt=this.model;t:do{var ut;for(at=sc.ALL,ut=pt.stages.values.iterator();ut.hasNext();){var ct=ut.next();if(0!=(ct.stage.mask&at.mask)){var _t,ht,dt=ct.nodes;e:do{var ft;for(ft=dt.iterator();ft.hasNext();){var mt=ft.next();if(Dt(mt.name,"uEmissive")&&e.isType(mt,Fu)){ht=mt;break e}}ht=null}while(0);var yt=null==(_t=ht)||e.isType(_t,Fu)?_t:_();if(null!=yt){lt=yt;break t}}}lt=null}while(0);this.uEmissive_2p1vku$_0=lt,null!=(c=null!=(u=null!=(p=this.uEmissive_2p1vku$_0)?p.uniform:null)?u.value:null)&&c.set_czzhhz$(this.emissive);var $t,bt,gt=this.model;t:do{var vt;for($t=sc.ALL,vt=gt.stages.values.iterator();vt.hasNext();){var xt=vt.next();if(0!=(xt.stage.mask&$t.mask)){var wt,zt,Ct=xt.nodes;e:do{var St;for(St=Ct.iterator();St.hasNext();){var kt=St.next();if(Dt(kt.name,"tAlbedo")&&e.isType(kt,ju)){zt=kt;break e}}zt=null}while(0);var Lt=null==(wt=zt)||e.isType(wt,ju)?wt:_();if(null!=Lt){bt=Lt;break t}}}bt=null}while(0);this.albedoSampler_4xngv3$_0=null!=(h=bt)?h.sampler:null,null!=(d=this.albedoSampler_4xngv3$_0)&&(d.texture=this.albedoMap);var jt,Nt,Pt=this.model;t:do{var Tt;for(jt=sc.ALL,Tt=Pt.stages.values.iterator();Tt.hasNext();){var Ot=Tt.next();if(0!=(Ot.stage.mask&jt.mask)){var Et,Mt,Rt=Ot.nodes;e:do{var It;for(It=Rt.iterator();It.hasNext();){var At=It.next();if(Dt(At.name,"tEmissive")&&e.isType(At,ju)){Mt=At;break e}}Mt=null}while(0);var Bt=null==(Et=Mt)||e.isType(Et,ju)?Et:_();if(null!=Bt){Nt=Bt;break t}}}Nt=null}while(0);this.emissiveSampler_7gr0w3$_0=null!=(f=Nt)?f.sampler:null,null!=(m=this.emissiveSampler_7gr0w3$_0)&&(m.texture=this.emissiveMap);var Ft,qt,Ut=this.model;t:do{var Vt;for(Ft=sc.ALL,Vt=Ut.stages.values.iterator();Vt.hasNext();){var Wt=Vt.next();if(0!=(Wt.stage.mask&Ft.mask)){var Gt,Ht,Xt=Wt.nodes;e:do{var Kt;for(Kt=Xt.iterator();Kt.hasNext();){var Yt=Kt.next();if(Dt(Yt.name,"tNormal")&&e.isType(Yt,ju)){Ht=Yt;break e}}Ht=null}while(0);var Zt=null==(Gt=Ht)||e.isType(Gt,ju)?Gt:_();if(null!=Zt){qt=Zt;break t}}}qt=null}while(0);this.normalSampler_9dwwj7$_0=null!=(y=qt)?y.sampler:null,null!=($=this.normalSampler_9dwwj7$_0)&&($.texture=this.normalMap);var Jt,Qt,te=this.model,ee=this.metallicTexName_o5b24b$_0;t:do{var ne;for(Jt=sc.ALL,ne=te.stages.values.iterator();ne.hasNext();){var ie=ne.next();if(0!=(ie.stage.mask&Jt.mask)){var oe,re,se=ie.nodes;e:do{var ae;for(ae=se.iterator();ae.hasNext();){var le=ae.next();if(Dt(le.name,ee)&&e.isType(le,ju)){re=le;break e}}re=null}while(0);var pe=null==(oe=re)||e.isType(oe,ju)?oe:_();if(null!=pe){Qt=pe;break t}}}Qt=null}while(0);this.metallicSampler_2ylj7p$_0=null!=(b=Qt)?b.sampler:null,null!=(g=this.metallicSampler_2ylj7p$_0)&&(g.texture=this.metallicMap);var ue,ce,_e=this.model,he=this.roughnessTexName_ht09qc$_0;t:do{var de;for(ue=sc.ALL,de=_e.stages.values.iterator();de.hasNext();){var fe=de.next();if(0!=(fe.stage.mask&ue.mask)){var me,ye,$e=fe.nodes;e:do{var be;for(be=$e.iterator();be.hasNext();){var ge=be.next();if(Dt(ge.name,he)&&e.isType(ge,ju)){ye=ge;break e}}ye=null}while(0);var ve=null==(me=ye)||e.isType(me,ju)?me:_();if(null!=ve){ce=ve;break t}}}ce=null}while(0);this.roughnessSampler_3dp96a$_0=null!=(v=ce)?v.sampler:null,null!=(x=this.roughnessSampler_3dp96a$_0)&&(x.texture=this.roughnessMap);var xe,we,ze=this.model,Ce=this.occlusionTexName_l8ip4v$_0;t:do{var Se;for(xe=sc.ALL,Se=ze.stages.values.iterator();Se.hasNext();){var ke=Se.next();if(0!=(ke.stage.mask&xe.mask)){var Le,je,Ne=ke.nodes;e:do{var Pe;for(Pe=Ne.iterator();Pe.hasNext();){var Te=Pe.next();if(Dt(Te.name,Ce)&&e.isType(Te,ju)){je=Te;break e}}je=null}while(0);var Oe=null==(Le=je)||e.isType(Le,ju)?Le:_();if(null!=Oe){we=Oe;break t}}}we=null}while(0);this.occlusionSampler_slvtxn$_0=null!=(w=we)?w.sampler:null,null!=(z=this.occlusionSampler_slvtxn$_0)&&(z.texture=this.occlusionMap);var Ee,Me,Re=this.model;t:do{var Ie;for(Ee=sc.ALL,Ie=Re.stages.values.iterator();Ie.hasNext();){var Ae=Ie.next();if(0!=(Ae.stage.mask&Ee.mask)){var De,Be,Fe=Ae.nodes;e:do{var qe;for(qe=Fe.iterator();qe.hasNext();){var Ue=qe.next();if(Dt(Ue.name,"tDisplacement")&&e.isType(Ue,ju)){Be=Ue;break e}}Be=null}while(0);var Ve=null==(De=Be)||e.isType(De,ju)?De:_();if(null!=Ve){Me=Ve;break t}}}Me=null}while(0);this.displacementSampler_8zs1vn$_0=null!=(C=Me)?C.sampler:null,null!=(S=this.displacementSampler_8zs1vn$_0)&&(S.texture=this.displacementMap);var We,Ge,He=this.model;t:do{var Xe;for(We=sc.ALL,Xe=He.stages.values.iterator();Xe.hasNext();){var Ke=Xe.next();if(0!=(Ke.stage.mask&We.mask)){var Ye,Ze,Je=Ke.nodes;e:do{var Qe;for(Qe=Je.iterator();Qe.hasNext();){var tn=Qe.next();if(Dt(tn.name,"uDispStrength")&&e.isType(tn,Iu)){Ze=tn;break e}}Ze=null}while(0);var en=null==(Ye=Ze)||e.isType(Ye,Iu)?Ye:_();if(null!=en){Ge=en;break t}}}Ge=null}while(0);this.uDispStrength_86lbd6$_0=Ge,null!=(k=this.uDispStrength_86lbd6$_0)&&(k.uniform.value=this.displacementStrength),zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},vb.prototype.defaultMrtPbrModel_2ufela$=function(t){var n,i,o,r=new tu("defaultMrtPbrModel()"),s={v:null},a={v:null},l={v:null},p={v:null},c={v:null},_={v:null},h=new nu(r);_.v=h.mvpNode();var d=h.namedVariable_wtmwsg$("modelMat",_.v.outModelMat),f=h.namedVariable_wtmwsg$("mvpMat",_.v.outMvpMat),m=d.output,y=f.output;if(t.isInstanced&&(d.input=h.multiplyNode_ze33is$(_.v.outModelMat,h.instanceAttrModelMat().output).output,f.input=h.multiplyNode_ze33is$(_.v.outMvpMat,h.instanceAttrModelMat().output).output),t.isSkinned){var $=h.skinTransformNode_78eraa$(h.attrJoints().output,h.attrWeights().output,t.maxJoints);d.input=h.multiplyNode_ze33is$(d.input,$.outJointMat).output,f.input=h.multiplyNode_ze33is$(f.input,$.outJointMat).output}var b=h.namedVariable_wtmwsg$("modelViewMat",h.multiplyNode_ze33is$(_.v.outViewMat,m).output).output;if(t.requiresTexCoords()){var g=h.namedVariable_wtmwsg$("texCoordInput",h.attrTexCoords().output);n=h.stageInterfaceNode_iikjwn$("ifTexCoords",g.output)}else n=null;c.v=n,i=t.albedoSource===bc()?h.stageInterfaceNode_iikjwn$("ifColors",h.attrColors().output):null,s.v=i;var v,x,z=t.morphAttributes.isEmpty()?null:h.morphWeightsNode_za3lpa$(t.morphAttributes.size),S=h.namedVariable_wtmwsg$("localPosInput",h.attrPositions().output),k=h.namedVariable_wtmwsg$("localNormalInput",h.attrNormals().output),L={v:S.output},j=t.morphAttributes,N=E();for(v=j.iterator();v.hasNext();){var P=v.next();u(P.name,hs().POSITIONS.name)&&N.add_11rb$(P)}for(x=N.iterator();x.hasNext();){var T=x.next(),O=h.getMorphWeightNode_dcktnw$(t.morphAttributes.indexOf_11rb$(T),w(z)),M=h.multiplyNode_ze33is$(h.attributeNode_nm2vx5$(T).output,O.outWeight);L.v=h.addNode_ze33is$(L.v,M.output).output}var R,I,A=h.namedVariable_wtmwsg$("localPosMorphed",L.v),D={v:k.output},B=t.morphAttributes,F=E();for(R=B.iterator();R.hasNext();){var q=R.next();u(q.name,hs().NORMALS.name)&&F.add_11rb$(q)}for(I=F.iterator();I.hasNext();){var U=I.next(),V=h.getMorphWeightNode_dcktnw$(t.morphAttributes.indexOf_11rb$(U),w(z)),W=h.multiplyNode_ze33is$(h.attributeNode_nm2vx5$(U).output,V.outWeight);D.v=h.addNode_ze33is$(D.v,W.output).output}var G=h.namedVariable_wtmwsg$("localNormalMorphed",D.v);if(t.isNormalMapped){var H,X,K=h.namedVariable_wtmwsg$("localTangentInput",h.attrTangents().output),Y={v:h.splitNode_500t7j$(K.output,"xyz").output},Z=t.morphAttributes,J=E();for(H=Z.iterator();H.hasNext();){var Q=H.next();u(Q.name,hs().TANGENTS.name)&&J.add_11rb$(Q)}for(X=J.iterator();X.hasNext();){var tt=X.next(),et=h.getMorphWeightNode_dcktnw$(t.morphAttributes.indexOf_11rb$(tt),w(z)),nt=h.multiplyNode_ze33is$(h.attributeNode_nm2vx5$(tt).output,et.outWeight);Y.v=h.addNode_ze33is$(Y.v,nt.output).output}var it=h.vec3TransformNode_vid4wo$(Y.v,b,0),ot=h.combineXyzWNode_ze33is$(it.outVec3,h.splitNode_500t7j$(K.output,"w").output);o=h.stageInterfaceNode_iikjwn$("ifTangents",ot.output)}else o=null;l.v=o;var rt=h.namedVariable_wtmwsg$("localPosDisplaced",A.output);if(t.isDisplacementMapped){var st=h.texture2dNode_61zpoe$("tDisplacement"),at=h.displacementMapNode_kq6xq$(st,w(c.v).input,A.output,G.output);at.inStrength=h.pushConstantNode1f_61zpoe$("uDispStrength").output;var lt=at;rt.input=lt.outPosition}var pt=h.vec3TransformNode_vid4wo$(G.output,b,0).outVec3;a.v=h.stageInterfaceNode_iikjwn$("ifNormals",pt);var ut=h.vec3TransformNode_vid4wo$(rt.output,b,1).outVec3;p.v=h.stageInterfaceNode_iikjwn$("ifViewPos",ut),h.positionOutput=h.vec4TransformNode_9krp9t$(rt.output,y).outVec4;var ct,_t,ht,dt,ft,mt,yt,$t,bt=new iu(r),gt=p.v.output;switch(t.albedoSource.name){case"VERTEX_ALBEDO":ct=w(s.v).output;break;case"STATIC_ALBEDO":ct=bt.pushConstantNodeColor_61zpoe$("uAlbedo").output;break;case"TEXTURE_ALBEDO":var vt=bt.texture2dSamplerNode_fzevit$(bt.texture2dNode_61zpoe$("tAlbedo"),w(c.v).output),wt=bt.gammaNode_ze33is$(vt.outColor);if(t.isMultiplyAlbedoMap){var zt=bt.pushConstantNodeColor_61zpoe$("uAlbedo").output;ct=bt.multiplyNode_ze33is$(wt.outColor,zt).output}else ct=wt.outColor;break;case"CUBE_MAP_ALBEDO":throw xt("CUBE_MAP_ALBEDO is not allowed for PbrShader");default:ct=e.noWhenBranchMatched()}var Ct={v:ct};if(null!=(ht=e.isType(_t=t.alphaMode,wc)?_t:null)&&bt.discardAlpha_ze33is$(bt.splitNode_500t7j$(Ct.v,"a").output,bt.constFloat_mx4ult$(ht.cutOff)),e.isType(t.alphaMode,vc)||(Ct.v=bt.combineXyzWNode_ze33is$(Ct.v,bt.constFloat_mx4ult$(1)).output),t.isEmissiveMapped){var St=bt.texture2dSamplerNode_fzevit$(bt.texture2dNode_61zpoe$("tEmissive"),w(c.v).output).outColor;if(t.isMultiplyEmissiveMap){var kt=bt.pushConstantNodeColor_61zpoe$("uEmissive").output;dt=bt.multiplyNode_ze33is$(St,kt).output}else dt=St}else dt=bt.pushConstantNodeColor_61zpoe$("uEmissive").output;var Lt=dt,jt=bt.normalizeNode_r20yfm$(a.v.output).output;if(t.isNormalMapped&&null!=l.v){var Nt=bt.normalMapNode_pp0pk4$(bt.texture2dNode_61zpoe$("tNormal"),w(c.v).output,jt,l.v.output);Nt.inStrength=new ru(new Pp(t.normalStrength)),ft=Nt.outNormal}else ft=jt;var Pt,Tt,Ot={v:ft};Ot.v=bt.flipBacksideNormalNode_r20yfm$(Ot.v).outNormal;var Et={v:bt.constFloat_mx4ult$(1)},Mt=C();if(t.isRoughnessMapped){var Rt=bt.texture2dSamplerNode_fzevit$(bt.texture2dNode_61zpoe$(t.roughnessTexName),w(c.v).output).outColor,It=t.roughnessTexName;Mt.put_xwzc9p$(It,Rt);var At=bt.splitNode_500t7j$(Rt,t.roughnessChannel).output;if(t.isMultiplyRoughnessMap){var Dt=bt.pushConstantNode1f_61zpoe$("uRoughness").output;mt=bt.multiplyNode_ze33is$(At,Dt).output}else mt=At;Pt=mt}else Pt=bt.pushConstantNode1f_61zpoe$("uRoughness").output;if(t.isMetallicMapped){var Bt,Ft=t.metallicTexName,qt=Mt.get_11rb$(Ft);if(null==qt){var Ut=bt.texture2dSamplerNode_fzevit$(bt.texture2dNode_61zpoe$(t.metallicTexName),w(c.v).output).outColor;Mt.put_xwzc9p$(Ft,Ut),Bt=Ut}else Bt=qt;var Vt=Bt,Wt=t.metallicTexName;Mt.put_xwzc9p$(Wt,Vt);var Gt=bt.splitNode_500t7j$(Vt,t.metallicChannel).output;if(t.isMultiplyMetallicMap){var Ht=bt.pushConstantNode1f_61zpoe$("uMetallic").output;yt=bt.multiplyNode_ze33is$(Gt,Ht).output}else yt=Gt;Tt=yt}else Tt=bt.pushConstantNode1f_61zpoe$("uMetallic").output;if(t.isOcclusionMapped){var Xt,Kt=t.occlusionTexName,Yt=Mt.get_11rb$(Kt);if(null==Yt){var Zt=bt.texture2dSamplerNode_fzevit$(bt.texture2dNode_61zpoe$(t.occlusionTexName),w(c.v).output).outColor;Mt.put_xwzc9p$(Kt,Zt),Xt=Zt}else Xt=Yt;var Jt=Xt,Qt=t.occlusionTexName;Mt.put_xwzc9p$(Qt,Jt);var te=bt.splitNode_500t7j$(Jt,t.occlusionChannel).output;if(1!==t.occlusionStrength){var ee=t.occlusionStrength;$t=bt.addNode_ze33is$(bt.constFloat_mx4ult$(1-ee),bt.multiplyNode_tuikh5$(te,ee).output).output}else $t=te;Et.v=$t}var ne=bt.addNode_u9w9by$(new zb(bt.stage)),ie=Pt,oe=Tt;ne.inViewPos=gt,ne.inAlbedo=Ct.v,ne.inEmissive=Lt,ne.inViewNormal=Ot.v,ne.inRoughness=ie,ne.inMetallic=oe,ne.inAo=Et.v;var re=ne,se=bt.colorOutput_a3v4si$(void 0,4);return se.inColors[0]=re.outPositionAo,se.inColors[1]=re.outNormalRough,se.inColors[2]=re.outAlbedoMetallic,se.inColors[3]=re.outEmissive,r},vb.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var xb=null;function wb(){return null===xb&&new vb,xb}function zb(t){ou.call(this,"mrtMultiplex",t,_c().mask),this.inViewPos=new ru(new Op(Po().ZERO)),this.inAlbedo=new ru(new Op(Po().ZERO)),this.inEmissive=new ru(new Op(Po().ZERO)),this.inViewNormal=new ru(new Op(Po().ZERO)),this.inRoughness=new ru(new Pp(.5)),this.inMetallic=new ru(new Pp(0)),this.inAo=new ru(new Pp(1)),this.outPositionAo=new ru(new zp("outPositionAo"),this),this.outNormalRough=new ru(new zp("outNormalRough"),this),this.outAlbedoMetallic=new ru(new zp("outAlbedoMetallic"),this),this.outEmissive=new ru(new zp("outEmissive"),this)}function Cb(t){ou.call(this,"mrtDeMultiplex",t,_c().mask),this.inPositionAo=new ru(new Ep(tr().ZERO)),this.inNormalRough=new ru(new Ep(tr().ZERO)),this.inAlbedoMetallic=new ru(new Ep(tr().ZERO)),this.inEmissive=new ru(new Op(Po().ZERO)),this.outViewPos=new ru(new zp("outViewPos"),this),this.outAlbedo=new ru(new zp("outAlbedo"),this),this.outEmissive=new ru(new wp("outEmissive"),this),this.outViewNormal=new ru(new wp("outViewNormal"),this),this.outRoughness=new ru(new vp("outRoughness"),this),this.outMetallic=new ru(new vp("outMetallic"),this),this.outAo=new ru(new vp("outAo"),this)}function Sb(t,e){var n,i;this.scene=t,this.mrtPass=null,this.pbrPass=null,this.aoPipeline=null,this.reflectionPass=null,this.reflectionDenoisePass=null,this.shadowMaps=null,this.renderOutput=null,this.noSsrMap_0=new E_(new N$(0,0,0,0)),this.maxGlobalLights_0=e.maxGlobalLights,this.isAoAvailable_0=e.isWithAmbientOcclusion,this.isssrAvailable_0=e.isWithScreenSpaceReflections,this.isEnabled_4awwas$_0=!0,this.isAoEnabled_1ruccy$_0=this.isAoAvailable_0,this.isSsrEnabled_blaxhc$_0=this.isssrAvailable_0,this.reflectionMapSize=.7,this.mrtPass=new cb(this.scene,e.isWithEmissive),this.aoPipeline=e.isWithAmbientOcclusion?_$().createDeferred_4lrvgg$(this.scene,this.mrtPass):null,this.shadowMaps=null!=(n=e.shadowMaps)?n:this.createShadowMapsFromSceneLights_0();var o,r=e.pbrSceneShader;if(null==r){var s=new Ub;s.isWithEmissive=e.isWithEmissive,s.isScrSpcAmbientOcclusion=e.isWithAmbientOcclusion,s.isScrSpcReflections=e.isWithScreenSpaceReflections,s.maxLights=e.maxGlobalLights,zt(s.shadowMaps,this.shadowMaps),s.useImageBasedLighting_po417x$(e.environmentMaps),r=new Db(s)}r.setMrtMaps_u6tred$(this.mrtPass),this.pbrPass=new Rb(this.scene,this.mrtPass,r),this.pbrPass.sceneShader.scrSpcAmbientOcclusionMap=null!=(i=this.aoPipeline)?i.aoMap:null,e.isWithScreenSpaceReflections?(this.reflectionPass=new Xb(this.mrtPass,this.pbrPass,e.baseReflectionStep),this.reflectionDenoisePass=new Vb(this.reflectionPass,this.mrtPass.positionAo),this.pbrPass.sceneShader.scrSpcReflectionMap=this.reflectionDenoisePass.colorTexture,this.scene.addOffscreenPass_m1c2kf$(this.reflectionPass),this.scene.addOffscreenPass_m1c2kf$(this.reflectionDenoisePass)):(this.reflectionPass=null,this.reflectionDenoisePass=null),this.renderOutput=this.pbrPass.createOutputQuad(),this.scene.onRenderScene.add_11rb$((o=this,function(t,e){var n,i=t.mainRenderPass.viewport.width,r=t.mainRenderPass.viewport.height;if(i>0&&r>0&&(i!==o.mrtPass.width||r!==o.mrtPass.height)&&(o.mrtPass.resize_w70mbp$(i,r,e),o.pbrPass.resize_w70mbp$(i,r,e)),null!=(n=o.reflectionPass)){var s,l=o,p=Bt(i*l.reflectionMapSize),u=Bt(r*l.reflectionMapSize);p>0&&u>0&&(p!==n.width||u!==n.height)&&(n.resize_w70mbp$(p,u,e),null!=(s=l.reflectionDenoisePass)&&s.resize_w70mbp$(p,u,e))}return a})),this.scene.onDispose.add_11rb$(function(t){return function(e,n){return t.noSsrMap_0.dispose(),a}}(this))}function kb(){this.isWithEmissive=!1,this.isWithAmbientOcclusion=!0,this.isWithScreenSpaceReflections=!0,this.isWithImageBasedLighting=!1,this.maxGlobalLights=4,this.lightBacksides=!1,this.baseReflectionStep=.1,this.environmentMaps=null,this.shadowMaps=null,this.pbrSceneShader=null}function Lb(t){this.lightInstances=E(),this.isDynamic=!0,this.lightInstanceData_0=new WC(Rt([XC().MODEL_MAT,pb().LIGHT_POS,hs().COLORS]),1e4),this.modelMat_0=new Ni,this.encodedLightData_0=new Float32Array(8);var e=new $d(new Uz(qt(hs().POSITIONS)),null);e.isFrustumChecked=!1,e.instances=this.lightInstanceData_0,e.generate_v2sixm$(Nb);var n=new ub;n.lightType=hd(),n.sceneCamera=t.camera,n.positionAo=t.positionAo,n.normalRoughness=t.normalRoughness,n.albedoMetal=t.albedoMetal;var i,o=n;e.shader=new sb(o),e.onUpdate.add_11rb$((i=this,function(t,e){return i.isDynamic&&i.updateLightData(),a})),this.mesh=e}function jb(){this.position=Mo(),this.color=R$(O$().WHITE),this.intensity=1}function Nb(t){var e=(new BC).icoDefaults();return e.steps=0,e.radius=1.176,t.icoSphere_mojs8w$(e),a}function Pb(t){ou.call(this,"discardClear",t),this.inViewPos=new ru(new Ep(tr().ZERO))}function Tb(t){ou.call(this,"deferredCam",t),this.uProjMat_0=new Nh("uProjMat"),this.uInvViewMat_0=new Nh("uInvViewMat"),this.uCamPos_0=new wh("uCamPos"),this.uViewport_0=new wh("uViewport"),this.outProjMat=new ru(new Np(this.uProjMat_0.name),this),this.outInvViewMat=new ru(new Np(this.uInvViewMat_0.name),this),this.outCamPos=new ru(new zp(this.uCamPos_0.name),this),this.outViewport=new ru(new zp(this.uViewport_0.name),this),this.sceneCam=null}function Ob(t){return function(e){return e.unaryPlus_wq3w46$(function(t){return function(){return t.uProjMat_0}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uInvViewMat_0}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uCamPos_0}}(t)),e.unaryPlus_wq3w46$(function(t){return function(){return t.uViewport_0}}(t)),e.onUpdate=function(t){return function(e,n){var i=t.sceneCam;null!=i&&(t.uProjMat_0.value.set_d4zu6l$(i.proj),t.uInvViewMat_0.value.set_d4zu6l$(i.invView),t.uCamPos_0.value.set_2qa7tb$(i.globalPos,1));var o=n.renderPass.viewport;return t.uViewport_0.value.set_7b5o5w$(o.x,o.y,o.width,o.height),a}}(t),a}}function Eb(t,e){this.maxSpotAngle=t,this.lightInstances=E(),this.isDynamic=!0,this.lightInstanceData_0=new WC(Rt([XC().MODEL_MAT,pb().LIGHT_POS,pb().LIGHT_DIR,hs().COLORS]),1e4),this.modelMat_0=new Ni,this.encodedLightData_0=new Float32Array(12),this.tmpLightDir_0=Mo();var n,i=new $d(new Uz(qt(hs().POSITIONS)),null);i.isFrustumChecked=!1,i.instances=this.lightInstanceData_0,i.generate_v2sixm$((n=this,function(t){return n.makeHalfSphereCone_0(t,n.maxSpotAngle,1.17),a}));var o=new ub;o.lightType=dd(),o.sceneCamera=e.camera,o.positionAo=e.positionAo,o.normalRoughness=e.normalRoughness,o.albedoMetal=e.albedoMetal;var r=o;i.shader=new sb(r),i.onUpdate.add_11rb$(function(t){return function(e,n){return t.isDynamic&&t.updateLightData(),a}}(this)),this.mesh=i}function Mb(){this.position=Mo(),this.orientation=new $i,this.spotAngle=60,this.color=R$(O$().WHITE),this.intensity=1}function Rb(t,n,i){var o,r=new ad,s=new ua;s.name="PbrLightingPass",s.setSize_vux9f0$(n.config.width,n.config.height),s.addColorTexture_farcsl$(y_()),s.clearDepthTexture(),ya.call(this,r,new pa(s)),this.mrtPass=n,this.sceneShader=i,this.dynamicPointLights=new Lb(this.mrtPass),this.staticPointLights=new Lb(this.mrtPass),this.mutSpotLights_0=E(),this.content=e.isType(o=this.drawNode,ad)?o:_(),this.dynamicPointLights.isDynamic=!0,this.staticPointLights.isDynamic=!1,this.lighting=t.lighting,this.clearColor=new N$(0,0,0,0),this.camera=this.mrtPass.camera,t.addOffscreenPass_m1c2kf$(this);var l=this.content;l.isFrustumChecked=!1;var p,u,c=new $d(new Uz(Rt([hs().POSITIONS,hs().TEXTURE_COORDS])),null);c.isFrustumChecked=!1,c.generate_v2sixm$(Ab),c.shader=this.sceneShader,l.unaryPlus_uv0sim$(c),l.unaryPlus_uv0sim$(this.dynamicPointLights.mesh),l.unaryPlus_uv0sim$(this.staticPointLights.mesh),this.dependsOn_yqp8fe$(this.mrtPass),t.mainRenderPass.onAfterCollectDrawCommands.add_11rb$((p=this,u=t,function(t){var e;if(p.isEnabled){e=p.mrtPass.alphaMeshes_8be2vx$;for(var n=0;n!==e.size;++n)u.mainRenderPass.drawQueue.addMesh_sbx4mf$(p.mrtPass.alphaMeshes_8be2vx$.get_za3lpa$(n),t)}return a}))}function Ib(t){var e=new FC;return e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function Ab(t){var e=new FC;return e.size.set_dleff0$(1,1),e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function Db(t,e){var n,i,o;qb(),void 0===e&&(e=qb().defaultDeferredPbrModel_ijjr66$(t)),zc.call(this,e),this.deferredCameraNode_0=null,this.sceneCamera_79hi92$_0=null,this.depthSampler_0=null,this.positionAoSampler_0=null,this.normalRoughnessSampler_0=null,this.albedoMetalSampler_0=null,this.emissiveSampler_0=null,this.depth_tvzo14$_0=null,this.positionAo_xpzjm6$_0=null,this.normalRoughness_ruv8si$_0=null,this.albedoMetal_4sc1kt$_0=null,this.emissive_4k8acu$_0=null,this.uAmbient_0=null,this.ambient_kdw3d9$_0=new N$(.03,.03,.03,1),this.irradianceMapSampler_0=null,this.reflectionMapSampler_0=null,this.brdfLutSampler_0=null,this.irradianceMap_33niit$_0=null!=(n=t.environmentMaps)?n.irradianceMap:null,this.reflectionMap_496w8q$_0=null!=(i=t.environmentMaps)?i.reflectionMap:null,this.brdfLut_bolscy$_0=null!=(o=t.environmentMaps)?o.brdfLut:null,this.ssaoSampler_0=null,this.scrSpcAmbientOcclusionMap_4r7yg8$_0=null,this.ssrSampler_0=null,this.scrSpcReflectionMap_b22z3y$_0=null;var r,s=I(t.shadowMaps.size);r=s.length-1|0;for(var a=0;a<=r;a++)s[a]=t.shadowMaps.get_za3lpa$(a);this.shadowMaps_0=s;var l,p=I(this.shadowMaps_0.length);l=p.length-1|0;for(var u=0;u<=l;u++)p[u]=null;this.depthSamplers_0=p,this.isReceivingShadow_0=!t.shadowMaps.isEmpty()}function Bb(){Fb=this}zb.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inViewPos,this.inAlbedo,this.inEmissive,this.inViewNormal,this.inRoughness,this.inMetallic,this.inAo])},zb.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                "+this.outPositionAo.declare()+" = vec4("+this.inViewPos.ref3f_61zpoe$()+", "+this.inAo.ref1f_61zpoe$()+");\n                "+this.outNormalRough.declare()+" = vec4("+this.inViewNormal.ref3f_61zpoe$()+", "+this.inRoughness.ref1f_61zpoe$()+");\n                "+this.outAlbedoMetallic.declare()+" = vec4("+this.inAlbedo.ref3f_61zpoe$()+", "+this.inMetallic.ref1f_61zpoe$()+");\n                "+this.outEmissive.declare()+" = vec4("+this.inEmissive.ref3f_61zpoe$()+", 1.0);\n            ")},zb.$metadata$={kind:$,simpleName:"MrtMultiplexNode",interfaces:[ou]},Cb.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inPositionAo,this.inNormalRough,this.inAlbedoMetallic])},Cb.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                "+this.outViewPos.declare()+" = vec4("+this.inPositionAo.ref3f_61zpoe$()+", 1.0);\n                "+this.outAlbedo.declare()+" = vec4("+this.inAlbedoMetallic.ref3f_61zpoe$()+", 1.0);\n                "+this.outEmissive.declare()+" = "+this.inEmissive.ref3f_61zpoe$()+";\n                "+this.outViewNormal.declare()+" = normalize("+this.inNormalRough.ref3f_61zpoe$()+");\n                "+this.outRoughness.declare()+" = "+this.inNormalRough.ref4f_61zpoe$()+".a;\n                "+this.outMetallic.declare()+" = "+this.inAlbedoMetallic.ref4f_61zpoe$()+".a;\n                "+this.outAo.declare()+" = "+this.inPositionAo.ref4f_61zpoe$()+".a;\n            ")},Cb.$metadata$={kind:$,simpleName:"MrtDeMultiplexNode",interfaces:[ou]},gb.$metadata$={kind:$,simpleName:"DeferredPbrShader",interfaces:[zc]},Object.defineProperty(Sb.prototype,"contentGroup",{configurable:!0,get:function(){return this.mrtPass.content}}),Object.defineProperty(Sb.prototype,"isEnabled",{configurable:!0,get:function(){return this.isEnabled_4awwas$_0},set:function(t){this.isEnabled_4awwas$_0=t,this.updateEnabled_0()}}),Object.defineProperty(Sb.prototype,"isAoEnabled",{configurable:!0,get:function(){return this.isAoEnabled_1ruccy$_0},set:function(t){this.isAoEnabled_1ruccy$_0=t&&this.isAoAvailable_0,this.updateEnabled_0()}}),Object.defineProperty(Sb.prototype,"isSsrEnabled",{configurable:!0,get:function(){return this.isSsrEnabled_blaxhc$_0},set:function(t){this.isSsrEnabled_blaxhc$_0=t&&this.isssrAvailable_0,this.updateEnabled_0()}}),Sb.prototype.updateEnabled_0=function(){var t,e,n,i,o;for(o=this.shadowMaps.iterator();o.hasNext();)o.next().isShadowMapEnabled=this.isEnabled;null!=(t=this.aoPipeline)&&(t.isEnabled=this.isEnabled&&this.isAoEnabled),this.mrtPass.isEnabled=this.isEnabled,this.pbrPass.isEnabled=this.isEnabled,null!=(e=this.reflectionPass)&&(e.isEnabled=this.isEnabled&&this.isSsrEnabled),null!=(n=this.reflectionDenoisePass)&&(n.isEnabled=this.isEnabled&&this.isSsrEnabled),this.pbrPass.sceneShader.scrSpcReflectionMap=this.isSsrEnabled?null!=(i=this.reflectionDenoisePass)?i.colorTexture:null:this.noSsrMap_0},Sb.prototype.createShadowMapsFromSceneLights_0=function(){var t,n,i=E(),o=this.maxGlobalLights_0,r=this.scene.lighting.lights.size;t=R.min(o,r);for(var s=0;s<t;s++){switch(this.scene.lighting.lights.get_za3lpa$(s).type.name){case"DIRECTIONAL":n=new gS(this.scene,s,void 0,void 0,void 0,this.mrtPass.content);break;case"SPOT":n=new $S(this.scene,s,void 0,this.mrtPass.content);break;case"POINT":var a=Hj.Log,l=vC.WARN,p=e.getKClassFromExpression(this).simpleName;l.level>=a.level.level&&a.printer(l,p,"Point light shadow maps not yet supported"),n=null;break;default:n=e.noWhenBranchMatched()}var u=n;null!=u&&i.add_11rb$(u)}return i},Sb.$metadata$={kind:$,simpleName:"DeferredPipeline",interfaces:[]},kb.prototype.useShadowMaps_gdx315$=function(t){this.shadowMaps=t},kb.prototype.useImageBasedLighting_po417x$=function(t){this.environmentMaps=t,this.isWithImageBasedLighting=null!=t},kb.$metadata$={kind:$,simpleName:"DeferredPipelineConfig",interfaces:[]},Lb.prototype.updateLightData=function(){var t;this.lightInstanceData_0.clear();var e=this.lightInstances.size,n=this.lightInstanceData_0.maxInstances;t=R.min(e,n);for(var i=0;i<t;i++){var o=this.lightInstanceData_0;o.checkBufferSize_za3lpa$();var r=o.dataF.position,s=o.dataF;this.encodeLight_0(this.lightInstances.get_za3lpa$(i)),s.put_q3cr5i$(this.modelMat_0.matrix),s.put_q3cr5i$(this.encodedLightData_0);var a=o.dataF.position-r|0;if(a!==o.instanceSizeF)throw xt("Expected data to grow by "+o.instanceSizeF+" elements, instead it grew by "+a);o.numInstances=o.numInstances+1|0,o.hasChanged=!0}},Lb.prototype.encodeLight_0=function(t){this.modelMat_0.setIdentity(),this.modelMat_0.translate_czzhiu$(t.position);var e=t.intensity,n=R.sqrt(e);this.modelMat_0.scale_y2kzbl$(n,n,n),this.encodedLightData_0[0]=t.position.x,this.encodedLightData_0[1]=t.position.y,this.encodedLightData_0[2]=t.position.z,this.encodedLightData_0[3]=hd().encoded,this.encodedLightData_0[4]=t.color.r,this.encodedLightData_0[5]=t.color.g,this.encodedLightData_0[6]=t.color.b,this.encodedLightData_0[7]=t.intensity},Lb.prototype.addPointLight_at6cwi$=function(t){this.lightInstances.add_11rb$(t)},Lb.prototype.addPointLight_v2bnrz$=K("kool-kool-core.de.fabmax.kool.util.deferred.DeferredPointLights.addPointLight_v2bnrz$",Y((function(){var e=t.de.fabmax.kool.util.deferred.DeferredPointLights.PointLight;return function(t){var n=new e;return t(n),this.addPointLight_at6cwi$(n),n}}))),Lb.prototype.removePointLight_at6cwi$=function(t){this.lightInstances.remove_11rb$(t)},jb.$metadata$={kind:$,simpleName:"PointLight",interfaces:[]},Lb.$metadata$={kind:$,simpleName:"DeferredPointLights",interfaces:[]},Pb.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inViewPos)},Pb.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("if ("+this.inViewPos.name+".z > 0.0) { discard; }")},Pb.$metadata$={kind:$,simpleName:"DiscardClearNode",interfaces:[ou]},Tb.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],Ob(this))},Tb.$metadata$={kind:$,simpleName:"DeferredCameraNode",interfaces:[ou]},Eb.prototype.updateLightData=function(){var t;this.lightInstanceData_0.clear();var e=this.lightInstances.size,n=this.lightInstanceData_0.maxInstances;t=R.min(e,n);for(var i=0;i<t;i++){var o=this.lightInstanceData_0;o.checkBufferSize_za3lpa$();var r=o.dataF.position,s=o.dataF;this.encodeLight_0(this.lightInstances.get_za3lpa$(i)),s.put_q3cr5i$(this.modelMat_0.matrix),s.put_q3cr5i$(this.encodedLightData_0);var a=o.dataF.position-r|0;if(a!==o.instanceSizeF)throw xt("Expected data to grow by "+o.instanceSizeF+" elements, instead it grew by "+a);o.numInstances=o.numInstances+1|0,o.hasChanged=!0}},Eb.prototype.encodeLight_0=function(t){this.modelMat_0.setIdentity(),this.modelMat_0.translate_czzhiu$(t.position);var e=t.intensity,n=R.sqrt(e);this.modelMat_0.scale_y2kzbl$(n,n,n),this.modelMat_0.rotate_d4zu7e$(t.orientation),this.tmpLightDir_0.set_czzhiu$(Po().X_AXIS),t.orientation.transform_5s4mqq$(this.tmpLightDir_0),this.encodedLightData_0[0]=t.position.x,this.encodedLightData_0[1]=t.position.y,this.encodedLightData_0[2]=t.position.z,this.encodedLightData_0[3]=dd().encoded,this.encodedLightData_0[4]=this.tmpLightDir_0.x,this.encodedLightData_0[5]=this.tmpLightDir_0.y,this.encodedLightData_0[6]=this.tmpLightDir_0.z;var i=this.encodedLightData_0,o=this.maxSpotAngle,r=t.spotAngle,s=R.min(o,r)/2*Ij.DEG_2_RAD;i[7]=R.cos(s),this.encodedLightData_0[8]=t.color.r,this.encodedLightData_0[9]=t.color.g,this.encodedLightData_0[10]=t.color.b,this.encodedLightData_0[11]=t.intensity},Eb.prototype.addSpotLight_sdnkeo$=function(t){this.lightInstances.add_11rb$(t)},Eb.prototype.addSpotLight_g3dtq9$=K("kool-kool-core.de.fabmax.kool.util.deferred.DeferredSpotLights.addSpotLight_g3dtq9$",Y((function(){var e=t.de.fabmax.kool.util.deferred.DeferredSpotLights.SpotLight;return function(t){var n=new e;return t(n),this.addSpotLight_sdnkeo$(n),n}}))),Eb.prototype.removeSpotLight_sdnkeo$=function(t){this.lightInstances.remove_11rb$(t)},Mb.prototype.setDirection_czzhiu$=function(t){var e=t.dot_czzhiu$(Po().Y_AXIS),n=R.abs(e)>.9?Po().X_AXIS:Po().Y_AXIS,i=t.cross_2gj7b4$(n,Mo()),o=t.cross_2gj7b4$(i,Mo());this.orientation.setColVec_ky00qo$(0,t),this.orientation.setColVec_ky00qo$(1,i),this.orientation.setColVec_ky00qo$(2,o)},Mb.$metadata$={kind:$,simpleName:"SpotLight",interfaces:[]},Eb.prototype.makeHalfSphereCone_0=function(t,e,n){for(var i=(e<0?0:e>360?360:e)/2,o=U(4*i/180),r=t.vertex_n440gp$(new Lo(n,0,0),Po().X_AXIS),s=0;s<8;s++){var a=45*Ij.DEG_2_RAD,l=i*Ij.DEG_2_RAD,p=R.min(a,l),u=R.cos(p)*n,c=R.sin(p)*n,_=2*V.PI*s/8,h=R.sin(_)*c,d=2*V.PI*s/8,f=new Lo(u,h,R.cos(d)*c),m=t.vertex_n440gp$(f,f);s>0&&t.geometry.addTriIndices_qt1dr2$(r,m,m-1|0),7===s&&t.geometry.addTriIndices_qt1dr2$(r,m-8+1|0,m)}for(var y=0;y<o;y++)for(var $=y<(o-1|0)?45*(y+2|0)*Ij.DEG_2_RAD:i*Ij.DEG_2_RAD,b=0;b<8;b++){var g=R.cos($)*n,v=R.sin($)*n,x=2*V.PI*b/8,w=R.sin(x)*v,z=2*V.PI*b/8,C=new Lo(g,w,R.cos(z)*v),S=t.vertex_n440gp$(C,C);b>0&&(t.geometry.addTriIndices_qt1dr2$(S,S-1|0,S-8|0),t.geometry.addTriIndices_qt1dr2$(S-1|0,S-8-1|0,S-8|0)),7===b&&(t.geometry.addTriIndices_qt1dr2$(S,S-8|0,S-16+1|0),t.geometry.addTriIndices_qt1dr2$(S-8+1|0,S,S-16+1|0))}for(var k=t.vertex_n440gp$(new Lo(-.1,0,0),Po().NEG_X_AXIS),L=0;L<8;L++)L<7?t.geometry.addTriIndices_qt1dr2$(k,k-8+L|0,k-8+L+1|0):t.geometry.addTriIndices_qt1dr2$(k,k-1|0,k-8|0)},Eb.$metadata$={kind:$,simpleName:"DeferredSpotLights",interfaces:[]},Object.defineProperty(Rb.prototype,"spotLights",{configurable:!0,get:function(){return this.mutSpotLights_0}}),Rb.prototype.addSpotLights_mx4ult$=function(t){var e=new Eb(t,this.mrtPass);return this.content.plusAssign_f1kmr1$(e.mesh),this.mutSpotLights_0.add_11rb$(e),e},Rb.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),ya.prototype.dispose_aemszp$.call(this,t)},Rb.prototype.createOutputQuad=function(){return yd(void 0,void 0,(t=this,function(e){return e.isFrustumChecked=!1,e.generate_v2sixm$(Ib),e.shader=new mb(w(t.colorTexture),w(t.mrtPass.depthTexture)),a}));var t},Rb.$metadata$={kind:$,simpleName:"PbrLightingPass",interfaces:[ya]},Object.defineProperty(Db.prototype,"sceneCamera",{configurable:!0,get:function(){return this.sceneCamera_79hi92$_0},set:function(t){var e;this.sceneCamera_79hi92$_0=t,null!=(e=this.deferredCameraNode_0)&&(e.sceneCam=t)}}),Object.defineProperty(Db.prototype,"depth",{configurable:!0,get:function(){return this.depth_tvzo14$_0},set:function(t){var e;this.depth_tvzo14$_0=t,null!=(e=this.depthSampler_0)&&(e.texture=t)}}),Object.defineProperty(Db.prototype,"positionAo",{configurable:!0,get:function(){return this.positionAo_xpzjm6$_0},set:function(t){var e;this.positionAo_xpzjm6$_0=t,null!=(e=this.positionAoSampler_0)&&(e.texture=t)}}),Object.defineProperty(Db.prototype,"normalRoughness",{configurable:!0,get:function(){return this.normalRoughness_ruv8si$_0},set:function(t){var e;this.normalRoughness_ruv8si$_0=t,null!=(e=this.normalRoughnessSampler_0)&&(e.texture=t)}}),Object.defineProperty(Db.prototype,"albedoMetal",{configurable:!0,get:function(){return this.albedoMetal_4sc1kt$_0},set:function(t){var e;this.albedoMetal_4sc1kt$_0=t,null!=(e=this.albedoMetalSampler_0)&&(e.texture=t)}}),Object.defineProperty(Db.prototype,"emissive",{configurable:!0,get:function(){return this.emissive_4k8acu$_0},set:function(t){var e;this.emissive_4k8acu$_0=t,null!=(e=this.emissiveSampler_0)&&(e.texture=t)}}),Object.defineProperty(Db.prototype,"ambient",{configurable:!0,get:function(){return this.ambient_kdw3d9$_0},set:function(t){var e,n,i;this.ambient_kdw3d9$_0=t,null!=(i=null!=(n=null!=(e=this.uAmbient_0)?e.uniform:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(Db.prototype,"irradianceMap",{configurable:!0,get:function(){return this.irradianceMap_33niit$_0},set:function(t){var e;this.irradianceMap_33niit$_0=t,null!=(e=this.irradianceMapSampler_0)&&(e.texture=t)}}),Object.defineProperty(Db.prototype,"reflectionMap",{configurable:!0,get:function(){return this.reflectionMap_496w8q$_0},set:function(t){var e;this.reflectionMap_496w8q$_0=t,null!=(e=this.reflectionMapSampler_0)&&(e.texture=t)}}),Object.defineProperty(Db.prototype,"brdfLut",{configurable:!0,get:function(){return this.brdfLut_bolscy$_0},set:function(t){var e;this.brdfLut_bolscy$_0=t,null!=(e=this.brdfLutSampler_0)&&(e.texture=t)}}),Object.defineProperty(Db.prototype,"scrSpcAmbientOcclusionMap",{configurable:!0,get:function(){return this.scrSpcAmbientOcclusionMap_4r7yg8$_0},set:function(t){var e;this.scrSpcAmbientOcclusionMap_4r7yg8$_0=t,null!=(e=this.ssaoSampler_0)&&(e.texture=t)}}),Object.defineProperty(Db.prototype,"scrSpcReflectionMap",{configurable:!0,get:function(){return this.scrSpcReflectionMap_b22z3y$_0},set:function(t){var e;this.scrSpcReflectionMap_b22z3y$_0=t,null!=(e=this.ssrSampler_0)&&(e.texture=t)}}),Db.prototype.setMrtMaps_u6tred$=function(t){this.sceneCamera=t.camera,this.depth=t.depthTexture,this.positionAo=t.positionAo,this.normalRoughness=t.normalRoughness,this.albedoMetal=t.albedoMetal,this.emissive=t.emissive},Db.prototype.onPipelineSetup_x08qbx$=function(t,e,n){t.depthTest=bl(),t.blendMode=_l(),zc.prototype.onPipelineSetup_x08qbx$.call(this,t,e,n)},Db.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l,p,u,c,h,d,f,m,y,$,b,g,v,x,w,z,C,S,k,L,j,N,P,T=this.model;t:do{var O;for(N=sc.ALL,O=T.stages.values.iterator();O.hasNext();){var E=O.next();if(0!=(E.stage.mask&N.mask)){var M,R,I=E.nodes;e:do{var A;for(A=I.iterator();A.hasNext();){var D=A.next();if(Dt(D.name,"deferredCam")&&e.isType(D,Tb)){R=D;break e}}R=null}while(0);var B=null==(M=R)||e.isType(M,Tb)?M:_();if(null!=B){P=B;break t}}}P=null}while(0);this.deferredCameraNode_0=P,null!=(o=this.deferredCameraNode_0)&&(o.sceneCam=this.sceneCamera);var F,q,U=this.model;t:do{var V;for(F=sc.ALL,V=U.stages.values.iterator();V.hasNext();){var W=V.next();if(0!=(W.stage.mask&F.mask)){var G,H,X=W.nodes;e:do{var K;for(K=X.iterator();K.hasNext();){var Y=K.next();if(Dt(Y.name,"depth")&&e.isType(Y,ju)){H=Y;break e}}H=null}while(0);var Z=null==(G=H)||e.isType(G,ju)?G:_();if(null!=Z){q=Z;break t}}}q=null}while(0);this.depthSampler_0=null!=(r=q)?r.sampler:null,null!=(s=this.depthSampler_0)&&(s.texture=this.depth);var J,Q,tt=this.model;t:do{var et;for(J=sc.ALL,et=tt.stages.values.iterator();et.hasNext();){var nt=et.next();if(0!=(nt.stage.mask&J.mask)){var it,ot,rt=nt.nodes;e:do{var st;for(st=rt.iterator();st.hasNext();){var at=st.next();if(Dt(at.name,"positionAo")&&e.isType(at,ju)){ot=at;break e}}ot=null}while(0);var lt=null==(it=ot)||e.isType(it,ju)?it:_();if(null!=lt){Q=lt;break t}}}Q=null}while(0);this.positionAoSampler_0=null!=(a=Q)?a.sampler:null,null!=(l=this.positionAoSampler_0)&&(l.texture=this.positionAo);var pt,ut,ct=this.model;t:do{var _t;for(pt=sc.ALL,_t=ct.stages.values.iterator();_t.hasNext();){var ht=_t.next();if(0!=(ht.stage.mask&pt.mask)){var dt,ft,mt=ht.nodes;e:do{var yt;for(yt=mt.iterator();yt.hasNext();){var $t=yt.next();if(Dt($t.name,"normalRoughness")&&e.isType($t,ju)){ft=$t;break e}}ft=null}while(0);var bt=null==(dt=ft)||e.isType(dt,ju)?dt:_();if(null!=bt){ut=bt;break t}}}ut=null}while(0);this.normalRoughnessSampler_0=null!=(p=ut)?p.sampler:null,null!=(u=this.normalRoughnessSampler_0)&&(u.texture=this.normalRoughness);var gt,vt,xt=this.model;t:do{var wt;for(gt=sc.ALL,wt=xt.stages.values.iterator();wt.hasNext();){var zt=wt.next();if(0!=(zt.stage.mask&gt.mask)){var Ct,St,kt=zt.nodes;e:do{var Lt;for(Lt=kt.iterator();Lt.hasNext();){var jt=Lt.next();if(Dt(jt.name,"albedoMetal")&&e.isType(jt,ju)){St=jt;break e}}St=null}while(0);var Nt=null==(Ct=St)||e.isType(Ct,ju)?Ct:_();if(null!=Nt){vt=Nt;break t}}}vt=null}while(0);this.albedoMetalSampler_0=null!=(c=vt)?c.sampler:null,null!=(h=this.albedoMetalSampler_0)&&(h.texture=this.albedoMetal);var Pt,Tt,Ot=this.model;t:do{var Et;for(Pt=sc.ALL,Et=Ot.stages.values.iterator();Et.hasNext();){var Mt=Et.next();if(0!=(Mt.stage.mask&Pt.mask)){var Rt,It,At=Mt.nodes;e:do{var Bt;for(Bt=At.iterator();Bt.hasNext();){var Ft=Bt.next();if(Dt(Ft.name,"emissive")&&e.isType(Ft,ju)){It=Ft;break e}}It=null}while(0);var qt=null==(Rt=It)||e.isType(Rt,ju)?Rt:_();if(null!=qt){Tt=qt;break t}}}Tt=null}while(0);this.emissiveSampler_0=null!=(d=Tt)?d.sampler:null,null!=(f=this.emissiveSampler_0)&&(f.texture=this.emissive);var Ut,Vt,Wt=this.model;t:do{var Gt;for(Ut=sc.ALL,Gt=Wt.stages.values.iterator();Gt.hasNext();){var Ht=Gt.next();if(0!=(Ht.stage.mask&Ut.mask)){var Xt,Kt,Yt=Ht.nodes;e:do{var Zt;for(Zt=Yt.iterator();Zt.hasNext();){var Jt=Zt.next();if(Dt(Jt.name,"uAmbient")&&e.isType(Jt,Fu)){Kt=Jt;break e}}Kt=null}while(0);var Qt=null==(Xt=Kt)||e.isType(Xt,Fu)?Xt:_();if(null!=Qt){Vt=Qt;break t}}}Vt=null}while(0);this.uAmbient_0=Vt,null!=($=null!=(y=null!=(m=this.uAmbient_0)?m.uniform:null)?y.value:null)&&$.set_czzhhz$(this.ambient);var te,ee,ne=this.model;t:do{var ie;for(te=sc.ALL,ie=ne.stages.values.iterator();ie.hasNext();){var oe=ie.next();if(0!=(oe.stage.mask&te.mask)){var re,se,ae=oe.nodes;e:do{var le;for(le=ae.iterator();le.hasNext();){var pe=le.next();if(Dt(pe.name,"irradianceMap")&&e.isType(pe,Ou)){se=pe;break e}}se=null}while(0);var ue=null==(re=se)||e.isType(re,Ou)?re:_();if(null!=ue){ee=ue;break t}}}ee=null}while(0);this.irradianceMapSampler_0=null!=(b=ee)?b.sampler:null,null!=(g=this.irradianceMapSampler_0)&&(g.texture=this.irradianceMap);var ce,_e,he=this.model;t:do{var de;for(ce=sc.ALL,de=he.stages.values.iterator();de.hasNext();){var fe=de.next();if(0!=(fe.stage.mask&ce.mask)){var me,ye,$e=fe.nodes;e:do{var be;for(be=$e.iterator();be.hasNext();){var ge=be.next();if(Dt(ge.name,"reflectionMap")&&e.isType(ge,Ou)){ye=ge;break e}}ye=null}while(0);var ve=null==(me=ye)||e.isType(me,Ou)?me:_();if(null!=ve){_e=ve;break t}}}_e=null}while(0);this.reflectionMapSampler_0=null!=(v=_e)?v.sampler:null,null!=(x=this.reflectionMapSampler_0)&&(x.texture=this.reflectionMap);var xe,we,ze=this.model;t:do{var Ce;for(xe=sc.ALL,Ce=ze.stages.values.iterator();Ce.hasNext();){var Se=Ce.next();if(0!=(Se.stage.mask&xe.mask)){var ke,Le,je=Se.nodes;e:do{var Ne;for(Ne=je.iterator();Ne.hasNext();){var Pe=Ne.next();if(Dt(Pe.name,"brdfLut")&&e.isType(Pe,ju)){Le=Pe;break e}}Le=null}while(0);var Te=null==(ke=Le)||e.isType(ke,ju)?ke:_();if(null!=Te){we=Te;break t}}}we=null}while(0);this.brdfLutSampler_0=null!=(w=we)?w.sampler:null,null!=(z=this.brdfLutSampler_0)&&(z.texture=this.brdfLut);var Oe,Ee,Me=this.model;t:do{var Re;for(Oe=sc.ALL,Re=Me.stages.values.iterator();Re.hasNext();){var Ie=Re.next();if(0!=(Ie.stage.mask&Oe.mask)){var Ae,De,Be=Ie.nodes;e:do{var Fe;for(Fe=Be.iterator();Fe.hasNext();){var qe=Fe.next();if(Dt(qe.name,"ssaoMap")&&e.isType(qe,ju)){De=qe;break e}}De=null}while(0);var Ue=null==(Ae=De)||e.isType(Ae,ju)?Ae:_();if(null!=Ue){Ee=Ue;break t}}}Ee=null}while(0);this.ssaoSampler_0=null!=(C=Ee)?C.sampler:null,null!=(S=this.ssaoSampler_0)&&(S.texture=this.scrSpcAmbientOcclusionMap);var Ve,We,Ge=this.model;t:do{var He;for(Ve=sc.ALL,He=Ge.stages.values.iterator();He.hasNext();){var Xe=He.next();if(0!=(Xe.stage.mask&Ve.mask)){var Ke,Ye,Ze=Xe.nodes;e:do{var Je;for(Je=Ze.iterator();Je.hasNext();){var Qe=Je.next();if(Dt(Qe.name,"ssrMap")&&e.isType(Qe,ju)){Ye=Qe;break e}}Ye=null}while(0);var tn=null==(Ke=Ye)||e.isType(Ke,ju)?Ke:_();if(null!=tn){We=tn;break t}}}We=null}while(0);if(this.ssrSampler_0=null!=(k=We)?k.sampler:null,null!=(L=this.ssrSampler_0)&&(L.texture=this.scrSpcReflectionMap),this.isReceivingShadow_0){j=this.depthSamplers_0;for(var en=0;en!==j.length;++en){var nn,on,rn,sn=this.model,an="depthMap_"+en;t:do{var ln;for(on=sc.ALL,ln=sn.stages.values.iterator();ln.hasNext();){var pn=ln.next();if(0!=(pn.stage.mask&on.mask)){var un,cn,_n=pn.nodes;e:do{var hn;for(hn=_n.iterator();hn.hasNext();){var dn=hn.next();if(Dt(dn.name,an)&&e.isType(dn,ju)){cn=dn;break e}}cn=null}while(0);var fn=null==(un=cn)||e.isType(un,ju)?un:_();if(null!=fn){rn=fn;break t}}}rn=null}while(0);var mn=null!=(nn=rn)?nn.sampler:null;this.depthSamplers_0[en]=mn,this.shadowMaps_0[en].setupSampler_wl9pml$(mn)}}zc.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},Bb.prototype.defaultDeferredPbrModel_ijjr66$=function(t){var n=new tu("defaultDeferredPbrModel()"),i={v:null},o=new nu(n);i.v=o.stageInterfaceNode_iikjwn$("ifTexCoords",o.attrTexCoords().output),o.positionOutput=o.fullScreenQuadPositionNode_r20yfm$(o.attrTexCoords().output).outQuadPos;var r=new iu(n),s=i.v.output,a=r.texture2dNode_61zpoe$("positionAo"),l=r.addNode_u9w9by$(new Cb(r.stage));l.inPositionAo=r.texture2dSamplerNode_fzevit$(a,s).outColor,l.inNormalRough=r.texture2dSamplerNode_fzevit$(r.texture2dNode_61zpoe$("normalRoughness"),s).outColor,l.inAlbedoMetallic=r.texture2dSamplerNode_fzevit$(r.texture2dNode_61zpoe$("albedoMetal"),s).outColor,t.isWithEmissive&&(l.inEmissive=r.gammaNode_ze33is$(r.texture2dSamplerNode_fzevit$(r.texture2dNode_61zpoe$("emissive"),s).outColor).outColor);var p=l;r.addNode_u9w9by$(new Pb(r.stage)).inViewPos=p.outViewPos;var u,c,_,h=r.addNode_u9w9by$(new Tb(r.stage)),d=r.vec3TransformNode_vid4wo$(p.outViewPos,h.outInvViewMat,1).outVec3,f=r.vec3TransformNode_vid4wo$(p.outViewNormal,h.outInvViewMat,0).outVec3,m={v:null};if(t.maxLights>0){var y,$;m.v=r.multiLightNode_d76fwk$(d,t.maxLights);var b=0;for(y=t.shadowMaps.iterator();y.hasNext();){var g,v=y.next(),x=et((b=($=b)+1|0,$));g=e.isType(v,gS)?r.deferredCascadedShadowMapNode_y1yrn$(v,"depthMap_"+x,p.outViewPos,d).outShadowFac:e.isType(v,$S)?r.deferredSimpleShadowMapNode_dhoqzq$(v,"depthMap_"+x,d).outShadowFac:new ru(new Pp(1)),m.v.inShadowFacs[x]=g}}if(t.isImageBasedLighting){var w=r.textureCubeNode_61zpoe$("irradianceMap");_=r.textureCubeSamplerNode_ub8j0u$(w,f),u=r.textureCubeNode_61zpoe$("reflectionMap"),c=r.texture2dNode_61zpoe$("brdfLut")}else _=null,u=null,c=null;var z,C=r.pbrMaterialNode_aple27$(u,c),S=_;C.lightBacksides=t.lightBacksides,C.inFragPos=d,C.inNormal=f,C.inViewDir=r.viewDirNode_ze33is$(h.outCamPos,d).output,null!=m.v&&(C.inLightCount=m.v.outLightCount,C.inFragToLight=m.v.outFragToLightDirection,C.inRadiance=m.v.outRadiance),C.inIrradiance=null!=(z=null!=S?S.outColor:null)?z:r.pushConstantNodeColor_61zpoe$("uAmbient").output,C.inAlbedo=p.outAlbedo,C.inEmissive=p.outEmissive,C.inMetallic=p.outMetallic,C.inRoughness=p.outRoughness;var k=p.outAo;if(t.isScrSpcAmbientOcclusion){var L=r.texture2dNode_61zpoe$("ssaoMap"),j=r.addNode_u9w9by$(new Wp(L,C.graph));j.inViewport=h.outViewport,k=r.multiplyNode_ze33is$(k,j.outAo).output}if(C.inAmbientOccl=k,t.isScrSpcReflections){var N=r.texture2dSamplerNode_fzevit$(r.texture2dNode_61zpoe$("ssrMap"),s).outColor;C.inReflectionColor=r.gammaNode_ze33is$(N).outColor,C.inReflectionWeight=r.splitNode_500t7j$(N,"a").output}var P=C;r.colorOutput_a3v4si$(P.outColor);var T=r.texture2dSamplerNode_fzevit$(r.texture2dNode_61zpoe$("depth"),s);return r.depthOutput_r20yfm$(T.outColor),n},Bb.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Fb=null;function qb(){return null===Fb&&new Bb,Fb}function Ub(){this.isImageBasedLighting=!1,this.isScrSpcAmbientOcclusion=!1,this.isScrSpcReflections=!1,this.isWithEmissive=!1,this.maxLights=4,this.shadowMaps=E(),this.lightBacksides=!1,this.environmentMaps=null}function Vb(t,n){var i,o=new ad,r=new ua;r.name="ReflectionDenoisePass",r.setSize_vux9f0$(t.config.width,t.config.height),r.addColorTexture_farcsl$(h_()),r.clearDepthTexture(),ya.call(this,o,new pa(r)),this.clearColor=new N$(0,0,0,0);var s=e.isType(i=this.drawNode,ad)?i:_(),l=new $d(new Uz(Rt([hs().POSITIONS,hs().TEXTURE_COORDS])),null);l.generate_v2sixm$(Gb);var p=new tu("ReflectionDenoisePass"),u={v:null},c=new nu(p);u.v=c.stageInterfaceNode_iikjwn$("ifTexCoords",c.attrTexCoords().output),c.positionOutput=c.fullScreenQuadPositionNode_r20yfm$(c.attrTexCoords().output).outQuadPos;var h=new iu(p),d=h.texture2dNode_61zpoe$("noisyRefl"),f=h.texture2dNode_61zpoe$("positionAo"),m=h.addNode_u9w9by$(new Wb(this,d,f,h.stage));m.inScreenPos=u.v.output,h.colorOutput_a3v4si$(m.outColor);var y,$,b,g=p,v=new zc(g);v.onPipelineSetup.add_11rb$(Hb),v.onPipelineCreated.add_11rb$((y=t,$=g,b=n,function(t,n,i){var o,r,s=$;t:do{var l;for(o=sc.ALL,l=s.stages.values.iterator();l.hasNext();){var p=l.next();if(0!=(p.stage.mask&o.mask)){var u,c,h=p.nodes;e:do{var d;for(d=h.iterator();d.hasNext();){var f=d.next();if(Dt(f.name,"noisyRefl")&&e.isType(f,ju)){c=f;break e}}c=null}while(0);var m=null==(u=c)||e.isType(u,ju)?u:_();if(null!=m){r=m;break t}}}r=null}while(0);w(r).sampler.texture=y.colorTexture;var g,v,x=$;t:do{var z;for(g=sc.ALL,z=x.stages.values.iterator();z.hasNext();){var C=z.next();if(0!=(C.stage.mask&g.mask)){var S,k,L=C.nodes;e:do{var j;for(j=L.iterator();j.hasNext();){var N=j.next();if(Dt(N.name,"positionAo")&&e.isType(N,ju)){k=N;break e}}k=null}while(0);var P=null==(S=k)||e.isType(S,ju)?S:_();if(null!=P){v=P;break t}}}v=null}while(0);return w(v).sampler.texture=b,a})),l.shader=v,s.unaryPlus_uv0sim$(l),this.dependsOn_yqp8fe$(t)}function Wb(t,e,n,i){this.$outer=t,ou.call(this,"blurNode",i),this.noisyRefl=e,this.depthTex=n,this.inScreenPos=new ru(new Tp(lo().ZERO)),this.outColor=new ru(new zp("colorOut"),this)}function Gb(t){var e=new FC;return e.size.set_dleff0$(1,1),e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function Hb(t,e,n){return t.depthTest=bl(),t.blendMode=_l(),a}function Xb(t,n,i){tg();var o,r=new ad,s=new ua;s.name="ReflectionPass",s.setSize_vux9f0$(n.config.width,n.config.height),s.addColorTexture_farcsl$(h_()),s.clearDepthTexture(),ya.call(this,r,new pa(s)),this.mrtPass=t,this.pbrLightingPass=n,this.baseReflectionStep=i,this.uRoughThreshLow_0=null,this.roughnessThresholdLow_2pd7lz$_0=.5,this.uRoughThreshHigh_0=null,this.roughnessThresholdHigh_cqy6xj$_0=.6,this.uMaxIterations_0=null,this.scrSpcReflectionIterations_4w6b2n$_0=24,this.noiseTex_0=this.generateScrSpcReflectionNoiseTex_0(),this.clearColor=new N$(0,0,0,0);var a=e.isType(o=this.drawNode,ad)?o:_();a.isFrustumChecked=!1;var l=new $d(new Uz(Rt([hs().POSITIONS,hs().TEXTURE_COORDS])),null);l.isFrustumChecked=!1,l.generate_v2sixm$(eg),l.shader=new Kb(this),a.unaryPlus_uv0sim$(l),this.dependsOn_yqp8fe$(this.mrtPass)}function Kb(t){this.$outer=t,zc.call(this,this.$outer.reflectionShaderModel_0())}function Yb(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$data=t}function Zb(t){ou.call(this,"discardRough",t),this.inRoughness=new ru(new Pp(0)),this.inThreshHigh=new ru(new Pp(.6)),this.inThreshLow=new ru(new Pp(.5)),this.outWeight=new ru(new vp("outRoughWeight"),this)}function Jb(){Qb=this,this.NOISE_SIZE=4}Ub.prototype.useImageBasedLighting_po417x$=function(t){this.environmentMaps=t,this.isImageBasedLighting=null!=t},Ub.$metadata$={kind:$,simpleName:"DeferredPbrConfig",interfaces:[]},Db.$metadata$={kind:$,simpleName:"PbrSceneShader",interfaces:[zc]},Vb.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),ya.prototype.dispose_aemszp$.call(this,t)},Wb.prototype.setup_llmhyc$=function(t){this.dependsOn_lhtstx$(this.noisyRefl),this.dependsOn_lhtstx$(this.depthTex),ou.prototype.setup_llmhyc$.call(this,t)},Wb.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                int blurSize = 4;\n                vec2 texelSize = 1.0 / vec2(textureSize("+this.noisyRefl.name+", 0));\n                float depthOri = "+t.sampleTexture2d_buzeal$(this.depthTex.name,this.inScreenPos.ref2f_61zpoe$())+".z;\n                float depthThreshold = max(0.3, depthOri * 0.05);\n                "+this.outColor.declare()+" = vec4(0.0);\n                \n                float weight = 0.0;\n                vec2 hlim = vec2(float(-blurSize) * 0.5 + 0.5);\n                for (int x = 0; x < blurSize; x++) {\n                    for (int y = 0; y < blurSize; y++) {\n                        vec2 uv = "+this.inScreenPos.ref2f_61zpoe$()+" + (hlim + vec2(float(x), float(y))) * texelSize;\n                        float w = 1.0 - step(depthThreshold, abs("+t.sampleTexture2d_buzeal$(this.depthTex.name,"uv")+".z - depthOri)) * 0.99;\n                        \n                        "+this.outColor+" += "+t.sampleTexture2d_buzeal$(this.noisyRefl.name,"uv")+" * w;\n                        weight += w;\n                    }\n                }\n                "+this.outColor+" /= weight;\n            ")},Wb.$metadata$={kind:$,simpleName:"BlurNode",interfaces:[ou]},Vb.$metadata$={kind:$,simpleName:"ReflectionDenoisePass",interfaces:[ya]},Object.defineProperty(Xb.prototype,"roughnessThresholdLow",{configurable:!0,get:function(){return this.roughnessThresholdLow_2pd7lz$_0},set:function(t){var e,n;this.roughnessThresholdLow_2pd7lz$_0=t,null!=(n=null!=(e=this.uRoughThreshLow_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Xb.prototype,"roughnessThresholdHigh",{configurable:!0,get:function(){return this.roughnessThresholdHigh_cqy6xj$_0},set:function(t){var e,n;this.roughnessThresholdHigh_cqy6xj$_0=t,null!=(n=null!=(e=this.uRoughThreshHigh_0)?e.uniform:null)&&(n.value=t)}}),Object.defineProperty(Xb.prototype,"scrSpcReflectionIterations",{configurable:!0,get:function(){return this.scrSpcReflectionIterations_4w6b2n$_0},set:function(t){var e,n;this.scrSpcReflectionIterations_4w6b2n$_0=t,null!=(n=null!=(e=this.uMaxIterations_0)?e.uniform:null)&&(n.value=t)}}),Xb.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),this.noiseTex_0.dispose(),ya.prototype.dispose_aemszp$.call(this,t)},Kb.prototype.onPipelineSetup_x08qbx$=function(t,e,n){t.depthTest=bl(),t.blendMode=_l(),zc.prototype.onPipelineSetup_x08qbx$.call(this,t,e,n)},Kb.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s,a,l,p,u,c,h,d,f,m,y=this.model;t:do{var $;for(f=sc.ALL,$=y.stages.values.iterator();$.hasNext();){var b=$.next();if(0!=(b.stage.mask&f.mask)){var g,v,x=b.nodes;e:do{var w;for(w=x.iterator();w.hasNext();){var z=w.next();if(Dt(z.name,"deferredCam")&&e.isType(z,Tb)){v=z;break e}}v=null}while(0);var C=null==(g=v)||e.isType(g,Tb)?g:_();if(null!=C){m=C;break t}}}m=null}while(0);var S=m;null!=S&&(this.$outer,S.sceneCam=this.$outer.mrtPass.camera);var k,L,j=this.model;t:do{var N;for(k=sc.ALL,N=j.stages.values.iterator();N.hasNext();){var P=N.next();if(0!=(P.stage.mask&k.mask)){var T,O,E=P.nodes;e:do{var M;for(M=E.iterator();M.hasNext();){var R=M.next();if(Dt(R.name,"positionAo")&&e.isType(R,ju)){O=R;break e}}O=null}while(0);var I=null==(T=O)||e.isType(T,ju)?T:_();if(null!=I){L=I;break t}}}L=null}while(0);var A=null!=(o=L)?o.sampler:null;null!=A&&(this.$outer,A.texture=this.$outer.mrtPass.positionAo);var D,B,F=this.model;t:do{var q;for(D=sc.ALL,q=F.stages.values.iterator();q.hasNext();){var U=q.next();if(0!=(U.stage.mask&D.mask)){var V,W,G=U.nodes;e:do{var H;for(H=G.iterator();H.hasNext();){var X=H.next();if(Dt(X.name,"normalRoughness")&&e.isType(X,ju)){W=X;break e}}W=null}while(0);var K=null==(V=W)||e.isType(V,ju)?V:_();if(null!=K){B=K;break t}}}B=null}while(0);var Y=null!=(r=B)?r.sampler:null;null!=Y&&(this.$outer,Y.texture=this.$outer.mrtPass.normalRoughness);var Z,J,Q=this.model;t:do{var tt;for(Z=sc.ALL,tt=Q.stages.values.iterator();tt.hasNext();){var et=tt.next();if(0!=(et.stage.mask&Z.mask)){var nt,it,ot=et.nodes;e:do{var rt;for(rt=ot.iterator();rt.hasNext();){var st=rt.next();if(Dt(st.name,"ssrMap")&&e.isType(st,ju)){it=st;break e}}it=null}while(0);var at=null==(nt=it)||e.isType(nt,ju)?nt:_();if(null!=at){J=at;break t}}}J=null}while(0);var lt=null!=(s=J)?s.sampler:null;null!=lt&&(this.$outer,lt.texture=this.$outer.pbrLightingPass.colorTexture);var pt,ut,ct=this.model;t:do{var _t;for(pt=sc.ALL,_t=ct.stages.values.iterator();_t.hasNext();){var ht=_t.next();if(0!=(ht.stage.mask&pt.mask)){var dt,ft,mt=ht.nodes;e:do{var yt;for(yt=mt.iterator();yt.hasNext();){var $t=yt.next();if(Dt($t.name,"ssrNoiseTex")&&e.isType($t,ju)){ft=$t;break e}}ft=null}while(0);var bt=null==(dt=ft)||e.isType(dt,ju)?dt:_();if(null!=bt){ut=bt;break t}}}ut=null}while(0);var gt=null!=(a=ut)?a.sampler:null;null!=gt&&(this.$outer,gt.texture=this.$outer.noiseTex_0);var vt,xt,wt=this.$outer,zt=this.model;t:do{var Ct;for(vt=sc.ALL,Ct=zt.stages.values.iterator();Ct.hasNext();){var St=Ct.next();if(0!=(St.stage.mask&vt.mask)){var kt,Lt,jt=St.nodes;e:do{var Nt;for(Nt=jt.iterator();Nt.hasNext();){var Pt=Nt.next();if(Dt(Pt.name,"uRoughThreshLow")&&e.isType(Pt,Iu)){Lt=Pt;break e}}Lt=null}while(0);var Tt=null==(kt=Lt)||e.isType(kt,Iu)?kt:_();if(null!=Tt){xt=Tt;break t}}}xt=null}while(0);wt.uRoughThreshLow_0=xt,null!=(p=null!=(l=this.$outer.uRoughThreshLow_0)?l.uniform:null)&&(p.value=this.$outer.roughnessThresholdLow);var Ot,Et,Mt=this.$outer,Rt=this.model;t:do{var It;for(Ot=sc.ALL,It=Rt.stages.values.iterator();It.hasNext();){var At=It.next();if(0!=(At.stage.mask&Ot.mask)){var Bt,Ft,qt=At.nodes;e:do{var Ut;for(Ut=qt.iterator();Ut.hasNext();){var Vt=Ut.next();if(Dt(Vt.name,"uRoughThreshHigh")&&e.isType(Vt,Iu)){Ft=Vt;break e}}Ft=null}while(0);var Wt=null==(Bt=Ft)||e.isType(Bt,Iu)?Bt:_();if(null!=Wt){Et=Wt;break t}}}Et=null}while(0);Mt.uRoughThreshHigh_0=Et,null!=(c=null!=(u=this.$outer.uRoughThreshHigh_0)?u.uniform:null)&&(c.value=this.$outer.roughnessThresholdHigh);var Gt,Ht,Xt=this.$outer,Kt=this.model;t:do{var Yt;for(Gt=sc.ALL,Yt=Kt.stages.values.iterator();Yt.hasNext();){var Zt=Yt.next();if(0!=(Zt.stage.mask&Gt.mask)){var Jt,Qt,te=Zt.nodes;e:do{var ee;for(ee=te.iterator();ee.hasNext();){var ne=ee.next();if(Dt(ne.name,"uMaxIterations")&&e.isType(ne,qu)){Qt=ne;break e}}Qt=null}while(0);var ie=null==(Jt=Qt)||e.isType(Jt,qu)?Jt:_();if(null!=ie){Ht=ie;break t}}}Ht=null}while(0);Xt.uMaxIterations_0=Ht,null!=(d=null!=(h=this.$outer.uMaxIterations_0)?h.uniform:null)&&(d.value=this.$outer.scrSpcReflectionIterations)},Kb.$metadata$={kind:$,simpleName:"ReflectionShader",interfaces:[zc]},Xb.prototype.reflectionShaderModel_0=function(){var t=new tu("ReflectionShaderModel"),e={v:null},n=new nu(t);e.v=n.stageInterfaceNode_iikjwn$("ifTexCoords",n.attrTexCoords().output),n.positionOutput=n.fullScreenQuadPositionNode_r20yfm$(n.attrTexCoords().output).outQuadPos;var i=new iu(t),o=e.v.output,r=i.texture2dNode_61zpoe$("positionAo"),s=i.addNode_u9w9by$(new Cb(i.stage));s.inPositionAo=i.texture2dSamplerNode_fzevit$(r,o).outColor,s.inNormalRough=i.texture2dSamplerNode_fzevit$(i.texture2dNode_61zpoe$("normalRoughness"),o).outColor;var a=s,l=i.addNode_u9w9by$(new Zb(i.stage));l.inRoughness=a.outRoughness,l.inThreshLow=i.pushConstantNode1f_61zpoe$("uRoughThreshLow").output,l.inThreshHigh=i.pushConstantNode1f_61zpoe$("uRoughThreshHigh").output;var p=l,u=i.addNode_u9w9by$(new Tb(i.stage)),c=i.texture2dNode_61zpoe$("ssrNoiseTex"),_=i.noiseTextureSamplerNode_bg7ra4$(c,i.constVec2i_czzhjm$(new vo(4,4))).outNoise,h=i.texture2dNode_61zpoe$("ssrMap"),d=a.outViewPos,f=i.normalizeNode_r20yfm$(d).output,m=i.splitNode_500t7j$(_,"a").output,y=i.reflectNode_ze33is$(f,i.normalizeNode_r20yfm$(a.outViewNormal).output).outDirection,$=i.vecFromColorNode_r20yfm$(i.splitNode_500t7j$(_,"xyz").output).output,b=i.multiplyNode_ze33is$($,a.outRoughness).output,g=i.normalizeNode_r20yfm$(i.addNode_ze33is$(y,b).output).output,v=i.addNode_u9w9by$(new ng(r,i.stage));v.inProjMat=u.outProjMat,v.inRayOrigin=d,v.inRayDirection=g,v.inRayOffset=m,v.maxIterations=i.pushConstantNode1i_61zpoe$("uMaxIterations").output,v.baseStepFac=i.constFloat_mx4ult$(this.baseReflectionStep);var x=v,w=i.texture2dSamplerNode_fzevit$(h,x.outSamplePos).outColor,z=i.multiplyNode_ze33is$(x.outSampleWeight,p.outWeight).output,C=i.gammaNode_ze33is$(w,i.constFloat_mx4ult$(2.2)).outColor;return i.colorOutput_a3v4si$(i.combineXyzWNode_ze33is$(C,z).output),t},Yb.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},Yb.prototype=Object.create(p.prototype),Yb.prototype.constructor=Yb,Yb.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:return this.local$closure$data;case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Xb.prototype.generateScrSpcReflectionNoiseTex_0=function(){var t,n=Nj(4*e.imul(4,4)|0),i=new no(501930763),o=Mo();t=e.imul(4,4);for(var r=0;r<t;r++){do{o.set_y2kzbl$(i.randomF_dleff0$(-1,1),i.randomF_dleff0$(-1,1),i.randomF_dleff0$(-1,1))}while(o.length()>1);o.norm().scale_mx4ult$(.25),n.set_6t1wet$(0+(4*r|0)|0,Ft(U(127.5*(o.x+1)))),n.set_6t1wet$(1+(4*r|0)|0,Ft(U(127.5*(o.y+1)))),n.set_6t1wet$(2+(4*r|0)|0,Ft(U(127.5*(o.z+1)))),n.set_6t1wet$(3+(4*r|0)|0,Ft(i.randomI_n8acyv$(new Ut(0,255))))}var s,a=new ah(n,4,4,h_());return new j_(new G_(h_(),eh(),eh(),void 0,K_(),K_(),!1,1),"ssr_noise_tex",(s=a,function(t,e,n,i){var o=new Yb(s,t,e,this,n);return i?o:o.doResume(null)}))},Zb.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inRoughness,this.inThreshHigh,this.inThreshLow])},Zb.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                if ("+this.inRoughness.ref1f_61zpoe$()+" > "+this.inThreshHigh.ref1f_61zpoe$()+") discard;\n                "+this.outWeight.declare()+" = 1.0 - (clamp("+this.inRoughness.ref1f_61zpoe$()+", "+this.inThreshLow.ref1f_61zpoe$()+", "+this.inThreshHigh.ref1f_61zpoe$()+") - "+this.inThreshLow.ref1f_61zpoe$()+")\n                        / ("+this.inThreshHigh.ref1f_61zpoe$()+" - "+this.inThreshLow.ref1f_61zpoe$()+");\n            ")},Zb.$metadata$={kind:$,simpleName:"DiscardRoughSurfacesNode",interfaces:[ou]},Jb.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Qb=null;function tg(){return null===Qb&&new Jb,Qb}function eg(t){var e=new FC;return e.size.set_dleff0$(1,1),e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function ng(t,e){ou.call(this,"rayTrace_"+e.nextNodeId,e),this.positionTex=t,this.baseStepFac=new ru(new Pp(.02)),this.stepIncFac=new ru(new Pp(1.2)),this.maxIterations=new ru(new Mp(24)),this.maxRefinements=new ru(new Mp(5)),this.inProjMat=new ru(new Np("_")),this.inRayOrigin=new ru(new Op(Po().ZERO)),this.inRayDirection=new ru(new Op(Po().Z_AXIS)),this.inRayOffset=new ru(new Op(Po().Z_AXIS)),this.outRayPos=new ru(new wp(this.name+"_outPos"),this),this.outSamplePos=new ru(new wp(this.name+"_outSamplePos"),this),this.outSampleWeight=new ru(new vp(this.name+"_outHitWeight"),this),this.outCost=new ru(new vp(this.name+"_outSteps"),this)}function ig(){}function og(t,e,n,i,o,r){return void 0===o&&(o=0),void 0===r&&(r=pg().STD_CHARS),cg(new rg(t,e*n/96,o,r),i)}function rg(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=pg().STD_CHARS),this.family=t,this.sizePts=e,this.style=n,this.chars=i}function sg(t){var e;pg(),j_.call(this,new G_(void 0,Q_(),Q_()),t.toString(),(e=t,function(t,n,i,o){var r=new ug(e,t,n,this,i);return o?r:r.doResume(null)})),this.charMap=t,this.type_hczp3w$_0="Font",this.lineSpace=1.2*this.charMap.fontProps.sizePts,this.normHeight=.7*this.charMap.fontProps.sizePts}function ag(){lg=this,this.PLAIN=0,this.BOLD=1,this.ITALIC=2,this.SYSTEM_FONT='-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',this.STD_CHARS=null,this.DEFAULT_FONT_PROPS=null;for(var t="",e=32;e<=126;e++)t+=String.fromCharCode(j(e));t+="äÄöÖüÜß°©",this.STD_CHARS=t,this.DEFAULT_FONT_PROPS=new rg(this.SYSTEM_FONT,12)}Xb.$metadata$={kind:$,simpleName:"ReflectionPass",interfaces:[ya]},ng.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.baseStepFac,this.stepIncFac,this.maxIterations,this.maxRefinements]),this.dependsOn_8ak6wm$([this.inProjMat,this.inRayOrigin,this.inRayDirection,this.inRayOffset])},ng.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("projectViewPos","\n            vec3 projectViewPos(vec3 viewPos) {\n                vec4 proj = "+this.inProjMat+" * vec4(viewPos, 1.0);\n                return (proj.xyz / proj.w) * 0.5 + 0.5;\n            }\n        "),t.appendFunction_puj7f4$("linearStep",ye("\n            float linearStep(float edge0, float edge1, float x) {\n                float f = clamp(x, edge0, edge1);\n                return (f - edge0) / (edge1 - edge0);\n            }\n        ")),t.appendMain_61zpoe$("\n            vec3 "+this.name+"_rayPos = "+this.inRayOrigin.ref3f_61zpoe$()+";\n            vec3 "+this.name+"_rayStepPos = "+this.name+"_rayPos;\n            float "+this.name+"_rayStep = -"+this.name+"_rayPos.z * "+this.baseStepFac.ref1f_61zpoe$()+";\n            float "+this.name+"_rayOffset = "+this.inRayOffset.ref1f_61zpoe$()+";\n            \n            float "+this.name+"_sampleDepth = 0.0;\n            float "+this.name+"_dDepth = 0.0;\n            bool "+this.name+"_refineHit = false;\n\n            int "+this.name+"_iSteps, "+this.name+"_iRef;\n            for ("+this.name+"_iSteps = 0, "+this.name+"_iRef = 0; "+this.name+"_iSteps < "+this.maxIterations.ref1i_61zpoe$()+" && "+this.name+"_iRef < "+this.maxRefinements.ref1i_61zpoe$()+"; "+this.name+"_iSteps++) {\n                "+this.name+"_rayStepPos += "+this.inRayDirection.ref3f_61zpoe$()+" * "+this.name+"_rayStep;\n                "+this.name+"_rayPos = "+this.name+"_rayStepPos + "+this.inRayDirection.ref3f_61zpoe$()+" * "+this.name+"_rayStep * "+this.name+"_rayOffset * "+this.stepIncFac.ref1f_61zpoe$()+";\n                \n                vec2 "+this.name+"_samplePos = projectViewPos("+this.name+"_rayPos).xy;\n                if ("+this.name+"_samplePos.x < 0.0 || "+this.name+"_samplePos.x > 1.0\n                        || "+this.name+"_samplePos.x < 0.0 || "+this.name+"_samplePos.x > 1.0\n                        || "+this.name+"_rayPos.z > 0.0) {\n                    break;\n                }\n                \n                "+this.name+"_sampleDepth = "+t.sampleTexture2d_buzeal$(this.positionTex.name,this.name+"_samplePos")+".z;\n\n                // set a large depth if sampleDepth is positive (clear value)\n                "+this.name+"_sampleDepth -= 1e5 * step(0.1, "+this.name+"_sampleDepth);\n                \n                // diff between ray position depth and scene depth\n                //   negative -> ray pos is behind scene depth, i.e. covered by an object\n                //   positive -> ray pos is in front of scene\n                "+this.name+"_dDepth = "+this.name+"_rayPos.z - "+this.name+"_sampleDepth;\n                \n                if (!"+this.name+"_refineHit) {\n                    // search for hit\n                    if ("+this.name+"_dDepth < 0.0 && "+this.name+"_dDepth > (-"+this.name+"_rayStep - 0.2)) {\n                        // hit -> roll back position to previous ray position and start refinement\n                        "+this.name+"_rayStepPos = "+this.name+"_rayPos - "+this.inRayDirection.ref3f_61zpoe$()+" * "+this.name+"_rayStep;\n                        "+this.name+"_rayOffset = 0.0;\n                        "+this.name+"_rayStep *= 0.5;\n                        "+this.name+"_refineHit = true;\n                    } else {\n                        // no hit, increase step size\n                        "+this.name+"_rayStep *= "+this.stepIncFac.ref1f_61zpoe$()+";\n                    }\n\n                } else {\n                    // refine hit position\n                    "+this.name+"_rayStep = 0.5 * abs("+this.name+"_rayStep) * sign("+this.name+"_dDepth);\n                    "+this.name+"_iRef++;\n                }\n            }\n            \n            "+this.outCost.declare()+" = float("+this.name+"_iSteps) / "+this.maxIterations.ref1f_61zpoe$()+";\n            "+this.outSampleWeight.declare()+" = 0.0;\n            "+this.outRayPos.declare()+" = vec3(0.0);\n            "+this.outSamplePos.declare()+" = vec3(0.0);\n            \n            if ("+this.maxIterations.ref1i_61zpoe$()+" > 0) {\n                "+this.outRayPos+" = "+this.name+"_rayPos + "+this.inRayDirection.ref3f_61zpoe$()+" * "+this.name+"_rayStep;\n                "+this.outSamplePos+" = projectViewPos("+this.outRayPos+");\n                \n                "+this.outSampleWeight+" = \n                              linearStep(0.0, 0.1, "+this.outSamplePos+".x) * (1.0 - linearStep(0.9, 1.0, "+this.outSamplePos+".x))\n                            * linearStep(0.0, 0.1, "+this.outSamplePos+".y) * (1.0 - linearStep(0.9, 1.0, "+this.outSamplePos+".y))\n                            * (1.0 - step(0.9999, "+this.outSamplePos+".z))\n                            * (1.0 - linearStep(0.0, -"+this.name+"_rayPos.z / 10.0, abs("+this.name+"_dDepth)));\n            }\n        ")},ng.$metadata$={kind:$,simpleName:"ScreenSpaceRayTraceNode",interfaces:[ou]},ig.$metadata$={kind:Z,simpleName:"Disposable",interfaces:[]},rg.prototype.toString=function(){return"FontProps("+this.family+", "+this.sizePts+"pts, "+this.style+")"},rg.$metadata$={kind:$,simpleName:"FontProps",interfaces:[]},rg.prototype.component1=function(){return this.family},rg.prototype.component2=function(){return this.sizePts},rg.prototype.component3=function(){return this.style},rg.prototype.component4=function(){return this.chars},rg.prototype.copy_aw0137$=function(t,e,n,i){return new rg(void 0===t?this.family:t,void 0===e?this.sizePts:e,void 0===n?this.style:n,void 0===i?this.chars:i)},rg.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.family)|0)+e.hashCode(this.sizePts)|0)+e.hashCode(this.style)|0)+e.hashCode(this.chars)|0},rg.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.family,t.family)&&e.equals(this.sizePts,t.sizePts)&&e.equals(this.style,t.style)&&e.equals(this.chars,t.chars)},Object.defineProperty(sg.prototype,"type",{configurable:!0,get:function(){return this.type_hczp3w$_0}}),sg.prototype.textWidth_61zpoe$=function(t){var e,n,i,o,r=0,s=0;n=(e=$e(t)).first,i=e.last,o=e.step;for(var a=n;a<=i;a+=o){var l=t.charCodeAt(a);(r+=this.charWidth_s8itvh$(l))>s&&(s=r),10===l&&(r=0)}return s},sg.prototype.charWidth_s8itvh$=function(t){var e,n;return null!=(n=null!=(e=this.charMap.get_11rb$(N(t)))?e.advance:null)?n:0},sg.prototype.toString=function(){return"Font("+this.charMap.fontProps+")"},ag.prototype.defaultFont_aemszp$=function(t){return cg(this.DEFAULT_FONT_PROPS,t)},ag.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var lg=null;function pg(){return null===lg&&new ag,lg}function ug(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$charMap=t}function cg(t,e,n){return n=n||Object.create(sg.prototype),sg.call(n,e.assetMgr.createCharMap_ttufcy$(t)),n}function _g(){this.width=0,this.height=0,this.xOffset=0,this.yBaseline=0,this.advance=0,this.uvMin=co(),this.uvMax=co()}function hg(t,e,n){this.textureData=t,this.map_0=e,this.fontProps=n}function dg(t,e,n,i,o,r,s,a,l,p){yg(),void 0===t&&(t=-1),void 0===e&&(e=0),void 0===i&&(i=!1),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=null),void 0===p&&(p=null),this.bufferView=t,this.byteOffset=e,this.componentType=n,this.normalized=i,this.count=o,this.type=r,this.max=s,this.min=a,this.sparse=l,this.name=p,this.bufferViewRef=null}function fg(){mg=this,this.TYPE_SCALAR="SCALAR",this.TYPE_VEC2="VEC2",this.TYPE_VEC3="VEC3",this.TYPE_VEC4="VEC4",this.TYPE_MAT2="MAT2",this.TYPE_MAT3="MAT3",this.TYPE_MAT4="MAT4",this.COMP_TYPE_BYTE=5120,this.COMP_TYPE_UNSIGNED_BYTE=5121,this.COMP_TYPE_SHORT=5122,this.COMP_TYPE_UNSIGNED_SHORT=5123,this.COMP_TYPE_INT=5124,this.COMP_TYPE_UNSIGNED_INT=5125,this.COMP_TYPE_FLOAT=5126,this.COMP_INT_TYPES=ve([5120,5121,5122,5123,5124,5125])}ug.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},ug.prototype=Object.create(p.prototype),ug.prototype.constructor=ug,ug.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:return this.local$closure$charMap.textureData;case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},sg.$metadata$={kind:$,simpleName:"Font",interfaces:[j_]},_g.$metadata$={kind:$,simpleName:"CharMetrics",interfaces:[]},Object.defineProperty(hg.prototype,"entries",{get:function(){return this.map_0.entries}}),Object.defineProperty(hg.prototype,"keys",{get:function(){return this.map_0.keys}}),Object.defineProperty(hg.prototype,"size",{get:function(){return this.map_0.size}}),Object.defineProperty(hg.prototype,"values",{get:function(){return this.map_0.values}}),hg.prototype.containsKey_11rb$=function(t){return this.map_0.containsKey_11rb$(t)},hg.prototype.containsValue_11rc$=function(t){return this.map_0.containsValue_11rc$(t)},hg.prototype.get_11rb$=function(t){return this.map_0.get_11rb$(t)},hg.prototype.isEmpty=function(){return this.map_0.isEmpty()},hg.$metadata$={kind:$,simpleName:"CharMap",interfaces:[be]},fg.prototype.serializer=function(){return Vg()},fg.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var mg=null;function yg(){return null===mg&&new fg,mg}function $g(t,e,n){vg(),this.count=t,this.indices=e,this.values=n}function bg(){gg=this}bg.prototype.serializer=function(){return zg()},bg.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var gg=null;function vg(){return null===gg&&new bg,gg}function xg(){this.descriptor_xehwm7$_0=new xe("de.fabmax.kool.util.gltf.GltfAccessor.Sparse",this,3),this.descriptor.addElement_ivxn3r$("count",!1),this.descriptor.addElement_ivxn3r$("indices",!1),this.descriptor.addElement_ivxn3r$("values",!1),wg=this}Object.defineProperty(xg.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_xehwm7$_0}}),xg.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeIntElement_ptg7oe$(this.descriptor,0,e.count),n.encodeSerializableElement_r4qlx7$(this.descriptor,1,Tg(),e.indices),n.encodeSerializableElement_r4qlx7$(this.descriptor,2,Bg(),e.values),n.endStructure_24f42q$(this.descriptor)},xg.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r=0,s=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=s.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=s.decodeIntElement_szpzho$(this.descriptor,0),r|=1;break;case 1:i=s.decodeSerializableElement_12e8id$(this.descriptor,1,Tg(),i),r|=2;break;case 2:o=s.decodeSerializableElement_12e8id$(this.descriptor,2,Bg(),o),r|=4;break;case-1:break t;default:throw new we(e)}return s.endStructure_24f42q$(this.descriptor),Cg(r,n,i,o,null)},xg.prototype.childSerializers=function(){return[ze.IntSerializer,Tg(),Bg()]},xg.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var wg=null;function zg(){return null===wg&&new xg,wg}function Cg(t,e,n,i,o){var r=o||Object.create($g.prototype);if(0==(1&t))throw new Se("count");if(r.count=e,0==(2&t))throw new Se("indices");if(r.indices=n,0==(4&t))throw new Se("values");return r.values=i,r}function Sg(t,e,n){jg(),void 0===e&&(e=0),this.bufferView=t,this.byteOffset=e,this.componentType=n,this.bufferViewRef_8okve9$_0=this.bufferViewRef_8okve9$_0}function kg(){Lg=this}$g.$metadata$={kind:$,simpleName:"Sparse",interfaces:[]},$g.prototype.component1=function(){return this.count},$g.prototype.component2=function(){return this.indices},$g.prototype.component3=function(){return this.values},$g.prototype.copy_x8d0af$=function(t,e,n){return new $g(void 0===t?this.count:t,void 0===e?this.indices:e,void 0===n?this.values:n)},$g.prototype.toString=function(){return"Sparse(count="+e.toString(this.count)+", indices="+e.toString(this.indices)+", values="+e.toString(this.values)+")"},$g.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*t+e.hashCode(this.count)|0)+e.hashCode(this.indices)|0)+e.hashCode(this.values)|0},$g.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.count,t.count)&&e.equals(this.indices,t.indices)&&e.equals(this.values,t.values)},Object.defineProperty(Sg.prototype,"bufferViewRef",{configurable:!0,get:function(){return null==this.bufferViewRef_8okve9$_0?_t("bufferViewRef"):this.bufferViewRef_8okve9$_0},set:function(t){this.bufferViewRef_8okve9$_0=t}}),kg.prototype.serializer=function(){return Tg()},kg.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Lg=null;function jg(){return null===Lg&&new kg,Lg}function Ng(){this.descriptor_9z4dbk$_0=new xe("de.fabmax.kool.util.gltf.GltfAccessor.SparseIndices",this,3),this.descriptor.addElement_ivxn3r$("bufferView",!1),this.descriptor.addElement_ivxn3r$("byteOffset",!0),this.descriptor.addElement_ivxn3r$("componentType",!1),Pg=this}Object.defineProperty(Ng.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_9z4dbk$_0}}),Ng.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeIntElement_ptg7oe$(this.descriptor,0,e.bufferView),Dt(e.byteOffset,0)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeIntElement_ptg7oe$(this.descriptor,1,e.byteOffset),n.encodeIntElement_ptg7oe$(this.descriptor,2,e.componentType),n.endStructure_24f42q$(this.descriptor)},Ng.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r=0,s=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=s.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=s.decodeIntElement_szpzho$(this.descriptor,0),r|=1;break;case 1:i=s.decodeIntElement_szpzho$(this.descriptor,1),r|=2;break;case 2:o=s.decodeIntElement_szpzho$(this.descriptor,2),r|=4;break;case-1:break t;default:throw new we(e)}return s.endStructure_24f42q$(this.descriptor),Og(r,n,i,o,null)},Ng.prototype.childSerializers=function(){return[ze.IntSerializer,ze.IntSerializer,ze.IntSerializer]},Ng.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Pg=null;function Tg(){return null===Pg&&new Ng,Pg}function Og(t,e,n,i,o){var r=o||Object.create(Sg.prototype);if(0==(1&t))throw new Se("bufferView");if(r.bufferView=e,r.byteOffset=0==(2&t)?0:n,0==(4&t))throw new Se("componentType");return r.componentType=i,r}function Eg(t,e){Ig(),void 0===e&&(e=0),this.bufferView=t,this.byteOffset=e,this.bufferViewRef_s3axfo$_0=this.bufferViewRef_s3axfo$_0}function Mg(){Rg=this}Sg.$metadata$={kind:$,simpleName:"SparseIndices",interfaces:[]},Sg.prototype.component1=function(){return this.bufferView},Sg.prototype.component2=function(){return this.byteOffset},Sg.prototype.component3=function(){return this.componentType},Sg.prototype.copy_qt1dr2$=function(t,e,n){return new Sg(void 0===t?this.bufferView:t,void 0===e?this.byteOffset:e,void 0===n?this.componentType:n)},Sg.prototype.toString=function(){return"SparseIndices(bufferView="+e.toString(this.bufferView)+", byteOffset="+e.toString(this.byteOffset)+", componentType="+e.toString(this.componentType)+")"},Sg.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*t+e.hashCode(this.bufferView)|0)+e.hashCode(this.byteOffset)|0)+e.hashCode(this.componentType)|0},Sg.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.bufferView,t.bufferView)&&e.equals(this.byteOffset,t.byteOffset)&&e.equals(this.componentType,t.componentType)},Object.defineProperty(Eg.prototype,"bufferViewRef",{configurable:!0,get:function(){return null==this.bufferViewRef_s3axfo$_0?_t("bufferViewRef"):this.bufferViewRef_s3axfo$_0},set:function(t){this.bufferViewRef_s3axfo$_0=t}}),Mg.prototype.serializer=function(){return Bg()},Mg.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Rg=null;function Ig(){return null===Rg&&new Mg,Rg}function Ag(){this.descriptor_qz2of1$_0=new xe("de.fabmax.kool.util.gltf.GltfAccessor.SparseValues",this,2),this.descriptor.addElement_ivxn3r$("bufferView",!1),this.descriptor.addElement_ivxn3r$("byteOffset",!0),Dg=this}Object.defineProperty(Ag.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_qz2of1$_0}}),Ag.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeIntElement_ptg7oe$(this.descriptor,0,e.bufferView),Dt(e.byteOffset,0)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeIntElement_ptg7oe$(this.descriptor,1,e.byteOffset),n.endStructure_24f42q$(this.descriptor)},Ag.prototype.deserialize_bq71mq$=function(t){var e,n,i,o=0,r=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=r.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=r.decodeIntElement_szpzho$(this.descriptor,0),o|=1;break;case 1:i=r.decodeIntElement_szpzho$(this.descriptor,1),o|=2;break;case-1:break t;default:throw new we(e)}return r.endStructure_24f42q$(this.descriptor),Fg(o,n,i,null)},Ag.prototype.childSerializers=function(){return[ze.IntSerializer,ze.IntSerializer]},Ag.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Dg=null;function Bg(){return null===Dg&&new Ag,Dg}function Fg(t,e,n,i){var o=i||Object.create(Eg.prototype);if(0==(1&t))throw new Se("bufferView");return o.bufferView=e,o.byteOffset=0==(2&t)?0:n,o}function qg(){this.descriptor_6qddyh$_0=new xe("de.fabmax.kool.util.gltf.GltfAccessor",this,10),this.descriptor.addElement_ivxn3r$("bufferView",!0),this.descriptor.addElement_ivxn3r$("byteOffset",!0),this.descriptor.addElement_ivxn3r$("componentType",!1),this.descriptor.addElement_ivxn3r$("normalized",!0),this.descriptor.addElement_ivxn3r$("count",!1),this.descriptor.addElement_ivxn3r$("type",!1),this.descriptor.addElement_ivxn3r$("max",!0),this.descriptor.addElement_ivxn3r$("min",!0),this.descriptor.addElement_ivxn3r$("sparse",!0),this.descriptor.addElement_ivxn3r$("name",!0),Ug=this}Eg.$metadata$={kind:$,simpleName:"SparseValues",interfaces:[]},Eg.prototype.component1=function(){return this.bufferView},Eg.prototype.component2=function(){return this.byteOffset},Eg.prototype.copy_vux9f0$=function(t,e){return new Eg(void 0===t?this.bufferView:t,void 0===e?this.byteOffset:e)},Eg.prototype.toString=function(){return"SparseValues(bufferView="+e.toString(this.bufferView)+", byteOffset="+e.toString(this.byteOffset)+")"},Eg.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.bufferView)|0)+e.hashCode(this.byteOffset)|0},Eg.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.bufferView,t.bufferView)&&e.equals(this.byteOffset,t.byteOffset)},Object.defineProperty(qg.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_6qddyh$_0}}),qg.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.bufferView,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeIntElement_ptg7oe$(this.descriptor,0,e.bufferView),Dt(e.byteOffset,0)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeIntElement_ptg7oe$(this.descriptor,1,e.byteOffset),n.encodeIntElement_ptg7oe$(this.descriptor,2,e.componentType),Dt(e.normalized,!1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeBooleanElement_qh7jdn$(this.descriptor,3,e.normalized),n.encodeIntElement_ptg7oe$(this.descriptor,4,e.count),n.encodeStringElement_iij8qq$(this.descriptor,5,e.type),Dt(e.max,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,6)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,6,new ke(ze.FloatSerializer),e.max),Dt(e.min,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,7)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,7,new ke(ze.FloatSerializer),e.min),Dt(e.sparse,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,8)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,8,zg(),e.sparse),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,9)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,9,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},qg.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s,a,l,p,u,c,_=0,h=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=h.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=h.decodeIntElement_szpzho$(this.descriptor,0),_|=1;break;case 1:i=h.decodeIntElement_szpzho$(this.descriptor,1),_|=2;break;case 2:o=h.decodeIntElement_szpzho$(this.descriptor,2),_|=4;break;case 3:r=h.decodeBooleanElement_szpzho$(this.descriptor,3),_|=8;break;case 4:s=h.decodeIntElement_szpzho$(this.descriptor,4),_|=16;break;case 5:a=h.decodeStringElement_szpzho$(this.descriptor,5),_|=32;break;case 6:l=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,6,new ke(ze.FloatSerializer),l),_|=64;break;case 7:p=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,7,new ke(ze.FloatSerializer),p),_|=128;break;case 8:u=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,8,zg(),u),_|=256;break;case 9:c=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,9,ze.StringSerializer,c),_|=512;break;case-1:break t;default:throw new we(e)}return h.endStructure_24f42q$(this.descriptor),Wg(_,n,i,o,r,s,a,l,p,u,c,null)},qg.prototype.childSerializers=function(){return[ze.IntSerializer,ze.IntSerializer,ze.IntSerializer,ze.BooleanSerializer,ze.IntSerializer,ze.StringSerializer,new ge(new ke(ze.FloatSerializer)),new ge(new ke(ze.FloatSerializer)),new ge(zg()),new ge(ze.StringSerializer)]},qg.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Ug=null;function Vg(){return null===Ug&&new qg,Ug}function Wg(t,e,n,i,o,r,s,a,l,p,u,c){var _=c||Object.create(dg.prototype);if(_.bufferView=0==(1&t)?-1:e,_.byteOffset=0==(2&t)?0:n,0==(4&t))throw new Se("componentType");if(_.componentType=i,_.normalized=0!=(8&t)&&o,0==(16&t))throw new Se("count");if(_.count=r,0==(32&t))throw new Se("type");return _.type=s,_.max=0==(64&t)?null:a,_.min=0==(128&t)?null:l,_.sparse=0==(256&t)?null:p,_.name=0==(512&t)?null:u,_.bufferViewRef=null,_}function Gg(t){var n,i,o,r;switch(this.accessor=t,this.elemByteSize_7rvvqx$_0=0,this.byteStride_tkyqsw$_0=0,this.buffer_erynjj$_0=this.accessor.bufferViewRef,this.stream_lcz6z5$_0=null,this.sparseIndexStream_2vmodr$_0=null,this.sparseValueStream_1f0jfy$_0=null,this.sparseIndexType_mlp9rd$_0=0,this.nextSparseIndex_bp7us$_0=0,this.index_hw47f3$_0=0,n=null!=this.buffer_erynjj$_0?new X$(this.buffer_erynjj$_0.bufferRef.data,this.accessor.byteOffset+this.buffer_erynjj$_0.byteOffset|0):null,this.stream_lcz6z5$_0=n,null!=this.accessor.sparse?(this.sparseIndexStream_2vmodr$_0=new X$(this.accessor.sparse.indices.bufferViewRef.bufferRef.data,this.accessor.sparse.indices.bufferViewRef.byteOffset),this.sparseValueStream_1f0jfy$_0=new X$(this.accessor.sparse.values.bufferViewRef.bufferRef.data,this.accessor.sparse.values.bufferViewRef.byteOffset),this.sparseIndexType_mlp9rd$_0=this.accessor.sparse.indices.componentType,this.nextSparseIndex_bp7us$_0=this.nextIntComponent_jcyej8$_0(this.sparseIndexStream_2vmodr$_0,this.sparseIndexType_mlp9rd$_0)):(this.sparseIndexStream_2vmodr$_0=null,this.sparseValueStream_1f0jfy$_0=null,this.sparseIndexType_mlp9rd$_0=0,this.nextSparseIndex_bp7us$_0=-1),this.accessor.componentType){case 5120:case 5121:i=1;break;case 5122:case 5123:i=2;break;case 5124:case 5125:case 5126:i=4;break;default:throw G("Unknown accessor component type: "+this.accessor.componentType)}var s=i;switch(this.accessor.type){case"SCALAR":o=1;break;case"VEC2":o=2;break;case"VEC3":o=3;break;case"VEC4":case"MAT2":o=4;break;case"MAT3":o=9;break;case"MAT4":o=16;break;default:throw G("Unsupported accessor type: "+this.accessor.type)}var a=o;this.elemByteSize_7rvvqx$_0=e.imul(s,a),r=null!=this.buffer_erynjj$_0&&this.buffer_erynjj$_0.byteStride>0?this.buffer_erynjj$_0.byteStride:this.elemByteSize_7rvvqx$_0,this.byteStride_tkyqsw$_0=r}function Hg(t){if(Gg.call(this,t),!Dt(t.type,yg().TYPE_SCALAR))throw G("IntAccessor requires accessor type "+yg().TYPE_SCALAR+", provided was "+t.type);if(!yg().COMP_INT_TYPES.contains_11rb$(t.componentType))throw G("IntAccessor requires a (byte / short / int) component type, provided was "+t.componentType)}function Xg(t){if(Gg.call(this,t),!Dt(t.type,yg().TYPE_SCALAR))throw G("Vec2fAccessor requires accessor type "+yg().TYPE_SCALAR+", provided was "+t.type);if(5126!==t.componentType)throw G("FloatAccessor requires a float component type, provided was "+t.componentType)}function Kg(t){if(Gg.call(this,t),!Dt(t.type,yg().TYPE_VEC2))throw G("Vec2fAccessor requires accessor type "+yg().TYPE_VEC2+", provided was "+t.type);if(5126!==t.componentType)throw G("Vec2fAccessor requires a float component type, provided was "+t.componentType)}function Yg(t){if(Gg.call(this,t),!Dt(t.type,yg().TYPE_VEC3))throw G("Vec3fAccessor requires accessor type "+yg().TYPE_VEC3+", provided was "+t.type);if(5126!==t.componentType)throw G("Vec3fAccessor requires a float component type, provided was "+t.componentType)}function Zg(t){if(Gg.call(this,t),!Dt(t.type,yg().TYPE_VEC4))throw G("Vec4fAccessor requires accessor type "+yg().TYPE_VEC4+", provided was "+t.type);if(5126!==t.componentType)throw G("Vec4fAccessor requires a float component type, provided was "+t.componentType)}function Jg(t){if(Gg.call(this,t),!Dt(t.type,yg().TYPE_VEC4))throw G("Vec4iAccessor requires accessor type "+yg().TYPE_VEC4+", provided was "+t.type);if(!yg().COMP_INT_TYPES.contains_11rb$(t.componentType))throw G("Vec4fAccessor requires a (byte / short / int) component type, provided was "+t.componentType)}function Qg(t){if(Gg.call(this,t),!Dt(t.type,yg().TYPE_MAT4))throw G("Mat4fAccessor requires accessor type "+yg().TYPE_MAT4+", provided was "+t.type);if(5126!==t.componentType)throw G("Mat4fAccessor requires a float component type, provided was "+t.componentType)}function tv(t,e,n){kv(),void 0===n&&(n=null),this.channels=t,this.samplers=e,this.name=n}function ev(t,e){ov(),this.sampler=t,this.target=e,this.samplerRef_jhnz8x$_0=this.samplerRef_jhnz8x$_0}function nv(){iv=this}dg.$metadata$={kind:$,simpleName:"GltfAccessor",interfaces:[]},dg.prototype.component1=function(){return this.bufferView},dg.prototype.component2=function(){return this.byteOffset},dg.prototype.component3=function(){return this.componentType},dg.prototype.component4=function(){return this.normalized},dg.prototype.component5=function(){return this.count},dg.prototype.component6=function(){return this.type},dg.prototype.component7=function(){return this.max},dg.prototype.component8=function(){return this.min},dg.prototype.component9=function(){return this.sparse},dg.prototype.component10=function(){return this.name},dg.prototype.copy_4gbanh$=function(t,e,n,i,o,r,s,a,l,p){return new dg(void 0===t?this.bufferView:t,void 0===e?this.byteOffset:e,void 0===n?this.componentType:n,void 0===i?this.normalized:i,void 0===o?this.count:o,void 0===r?this.type:r,void 0===s?this.max:s,void 0===a?this.min:a,void 0===l?this.sparse:l,void 0===p?this.name:p)},dg.prototype.toString=function(){return"GltfAccessor(bufferView="+e.toString(this.bufferView)+", byteOffset="+e.toString(this.byteOffset)+", componentType="+e.toString(this.componentType)+", normalized="+e.toString(this.normalized)+", count="+e.toString(this.count)+", type="+e.toString(this.type)+", max="+e.toString(this.max)+", min="+e.toString(this.min)+", sparse="+e.toString(this.sparse)+", name="+e.toString(this.name)+")"},dg.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.bufferView)|0)+e.hashCode(this.byteOffset)|0)+e.hashCode(this.componentType)|0)+e.hashCode(this.normalized)|0)+e.hashCode(this.count)|0)+e.hashCode(this.type)|0)+e.hashCode(this.max)|0)+e.hashCode(this.min)|0)+e.hashCode(this.sparse)|0)+e.hashCode(this.name)|0},dg.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.bufferView,t.bufferView)&&e.equals(this.byteOffset,t.byteOffset)&&e.equals(this.componentType,t.componentType)&&e.equals(this.normalized,t.normalized)&&e.equals(this.count,t.count)&&e.equals(this.type,t.type)&&e.equals(this.max,t.max)&&e.equals(this.min,t.min)&&e.equals(this.sparse,t.sparse)&&e.equals(this.name,t.name)},Object.defineProperty(Gg.prototype,"index",{configurable:!0,get:function(){return this.index_hw47f3$_0},set:function(t){var n;this.index_hw47f3$_0=t,null!=(n=this.stream_lcz6z5$_0)&&(n.index=e.imul(t,this.byteStride_tkyqsw$_0))}}),Gg.prototype.selectDataStream_ji0jaj$_0=function(){return this.index!==this.nextSparseIndex_bp7us$_0?this.stream_lcz6z5$_0:this.sparseValueStream_1f0jfy$_0},Gg.prototype.nextInt=function(){var t,e;if(this.index<this.accessor.count)return null!=(e=null!=(t=this.selectDataStream_ji0jaj$_0())?this.nextIntComponent_jcyej8$_0(t,this.accessor.componentType):null)?e:0;throw new Le("Accessor overflow")},Gg.prototype.nextFloat=function(){var t,e;if(this.index<this.accessor.count)return null!=(e=null!=(t=this.selectDataStream_ji0jaj$_0())?t.readFloat():null)?e:0;throw new Le("Accessor overflow")},Gg.prototype.nextDouble=function(){return this.nextFloat()},Gg.prototype.nextIntComponent_jcyej8$_0=function(t,e){var n;switch(e){case 5120:n=t.readByte();break;case 5121:n=t.readUByte();break;case 5122:n=t.readShort();break;case 5123:n=t.readUShort();break;case 5124:n=t.readInt();break;case 5125:n=t.readUInt();break;default:throw G("Invalid component type: "+e)}return n},Gg.prototype.advance=function(){var t;this.index===this.nextSparseIndex_bp7us$_0&&!0===(null!=(t=this.sparseIndexStream_2vmodr$_0)?t.hasRemaining():null)&&(this.nextSparseIndex_bp7us$_0=this.nextIntComponent_jcyej8$_0(this.sparseIndexStream_2vmodr$_0,this.sparseIndexType_mlp9rd$_0)),this.index=this.index+1|0},Gg.$metadata$={kind:$,simpleName:"DataStreamAccessor",interfaces:[]},Hg.prototype.next=function(){if(this.index<this.accessor.count){var t=this.nextInt();return this.advance(),t}throw new Le("Accessor overflow")},Hg.$metadata$={kind:$,simpleName:"IntAccessor",interfaces:[Gg]},Xg.prototype.next=function(){var t=this.nextFloat();return this.advance(),t},Xg.prototype.nextD=function(){return this.next()},Xg.$metadata$={kind:$,simpleName:"FloatAccessor",interfaces:[Gg]},Kg.prototype.next=function(){return this.next_5s4mrl$(co())},Kg.prototype.next_5s4mrl$=function(t){return t.x=this.nextFloat(),t.y=this.nextFloat(),this.advance(),t},Kg.prototype.nextD=function(){return this.nextD_5s4mrn$(go())},Kg.prototype.nextD_5s4mrn$=function(t){return t.x=this.nextDouble(),t.y=this.nextDouble(),this.advance(),t},Kg.$metadata$={kind:$,simpleName:"Vec2fAccessor",interfaces:[Gg]},Yg.prototype.next=function(){return this.next_5s4mqq$(Mo())},Yg.prototype.next_5s4mqq$=function(t){return t.x=this.nextFloat(),t.y=this.nextFloat(),t.z=this.nextFloat(),this.advance(),t},Yg.prototype.nextD=function(){return this.nextD_5s4mqs$(Uo())},Yg.prototype.nextD_5s4mqs$=function(t){return t.x=this.nextDouble(),t.y=this.nextDouble(),t.z=this.nextDouble(),this.advance(),t},Yg.$metadata$={kind:$,simpleName:"Vec3fAccessor",interfaces:[Gg]},Zg.prototype.next=function(){return this.next_5s4mpv$(or())},Zg.prototype.next_5s4mpv$=function(t){return t.x=this.nextFloat(),t.y=this.nextFloat(),t.z=this.nextFloat(),t.w=this.nextFloat(),this.advance(),t},Zg.prototype.nextD=function(){return this.nextD_5s4mpx$(cr())},Zg.prototype.nextD_5s4mpx$=function(t){return t.x=this.nextDouble(),t.y=this.nextDouble(),t.z=this.nextDouble(),t.w=this.nextDouble(),this.advance(),t},Zg.$metadata$={kind:$,simpleName:"Vec4fAccessor",interfaces:[Gg]},Jg.prototype.next=function(){return this.next_5s4mps$(jr())},Jg.prototype.next_5s4mps$=function(t){return t.x=this.nextInt(),t.y=this.nextInt(),t.z=this.nextInt(),t.w=this.nextInt(),this.advance(),t},Jg.$metadata$={kind:$,simpleName:"Vec4iAccessor",interfaces:[Gg]},Qg.prototype.next=function(){return this.next_d4zu6j$(new Ni)},Qg.prototype.next_d4zu6j$=function(t){for(var e=0;e<=15;e++)t.matrix[e]=this.nextFloat();return this.advance(),t},Qg.prototype.nextD=function(){return this.nextD_d4zu6l$(new xi)},Qg.prototype.nextD_d4zu6l$=function(t){for(var e=0;e<=15;e++)t.matrix[e]=this.nextDouble();return this.advance(),t},Qg.$metadata$={kind:$,simpleName:"Mat4fAccessor",interfaces:[Gg]},Object.defineProperty(ev.prototype,"samplerRef",{configurable:!0,get:function(){return null==this.samplerRef_jhnz8x$_0?_t("samplerRef"):this.samplerRef_jhnz8x$_0},set:function(t){this.samplerRef_jhnz8x$_0=t}}),nv.prototype.serializer=function(){return av()},nv.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var iv=null;function ov(){return null===iv&&new nv,iv}function rv(){this.descriptor_lxi57x$_0=new xe("de.fabmax.kool.util.gltf.GltfAnimation.Channel",this,2),this.descriptor.addElement_ivxn3r$("sampler",!1),this.descriptor.addElement_ivxn3r$("target",!1),sv=this}Object.defineProperty(rv.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_lxi57x$_0}}),rv.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeIntElement_ptg7oe$(this.descriptor,0,e.sampler),n.encodeSerializableElement_r4qlx7$(this.descriptor,1,fv(),e.target),n.endStructure_24f42q$(this.descriptor)},rv.prototype.deserialize_bq71mq$=function(t){var e,n,i,o=0,r=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=r.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=r.decodeIntElement_szpzho$(this.descriptor,0),o|=1;break;case 1:i=r.decodeSerializableElement_12e8id$(this.descriptor,1,fv(),i),o|=2;break;case-1:break t;default:throw new we(e)}return r.endStructure_24f42q$(this.descriptor),lv(o,n,i,null)},rv.prototype.childSerializers=function(){return[ze.IntSerializer,fv()]},rv.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var sv=null;function av(){return null===sv&&new rv,sv}function lv(t,e,n,i){var o=i||Object.create(ev.prototype);if(0==(1&t))throw new Se("sampler");if(o.sampler=e,0==(2&t))throw new Se("target");return o.target=n,o}function pv(t,e){_v(),void 0===t&&(t=-1),this.node=t,this.path=e,this.nodeRef=null}function uv(){cv=this,this.PATH_TRANSLATION="translation",this.PATH_ROTATION="rotation",this.PATH_SCALE="scale",this.PATH_WEIGHTS="weights"}ev.$metadata$={kind:$,simpleName:"Channel",interfaces:[]},ev.prototype.component1=function(){return this.sampler},ev.prototype.component2=function(){return this.target},ev.prototype.copy_16lfz8$=function(t,e){return new ev(void 0===t?this.sampler:t,void 0===e?this.target:e)},ev.prototype.toString=function(){return"Channel(sampler="+e.toString(this.sampler)+", target="+e.toString(this.target)+")"},ev.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.sampler)|0)+e.hashCode(this.target)|0},ev.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.sampler,t.sampler)&&e.equals(this.target,t.target)},uv.prototype.serializer=function(){return fv()},uv.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var cv=null;function _v(){return null===cv&&new uv,cv}function hv(){this.descriptor_8uby97$_0=new xe("de.fabmax.kool.util.gltf.GltfAnimation.Target",this,2),this.descriptor.addElement_ivxn3r$("node",!0),this.descriptor.addElement_ivxn3r$("path",!1),dv=this}Object.defineProperty(hv.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_8uby97$_0}}),hv.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.node,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeIntElement_ptg7oe$(this.descriptor,0,e.node),n.encodeStringElement_iij8qq$(this.descriptor,1,e.path),n.endStructure_24f42q$(this.descriptor)},hv.prototype.deserialize_bq71mq$=function(t){var e,n,i,o=0,r=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=r.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=r.decodeIntElement_szpzho$(this.descriptor,0),o|=1;break;case 1:i=r.decodeStringElement_szpzho$(this.descriptor,1),o|=2;break;case-1:break t;default:throw new we(e)}return r.endStructure_24f42q$(this.descriptor),mv(o,n,i,null)},hv.prototype.childSerializers=function(){return[ze.IntSerializer,ze.StringSerializer]},hv.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var dv=null;function fv(){return null===dv&&new hv,dv}function mv(t,e,n,i){var o=i||Object.create(pv.prototype);if(o.node=0==(1&t)?-1:e,0==(2&t))throw new Se("path");return o.path=n,o.nodeRef=null,o}function yv(t,e,n){gv(),void 0===e&&(e=gv().INTERPOLATION_LINEAR),this.input=t,this.interpolation=e,this.output=n,this.inputAccessorRef_83hs5f$_0=this.inputAccessorRef_83hs5f$_0,this.outputAccessorRef_fq2m6i$_0=this.outputAccessorRef_fq2m6i$_0}function $v(){bv=this,this.INTERPOLATION_LINEAR="LINEAR",this.INTERPOLATION_STEP="STEP",this.INTERPOLATION_CUBICSPLINE="CUBICSPLINE"}pv.$metadata$={kind:$,simpleName:"Target",interfaces:[]},pv.prototype.component1=function(){return this.node},pv.prototype.component2=function(){return this.path},pv.prototype.copy_19mbxw$=function(t,e){return new pv(void 0===t?this.node:t,void 0===e?this.path:e)},pv.prototype.toString=function(){return"Target(node="+e.toString(this.node)+", path="+e.toString(this.path)+")"},pv.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.node)|0)+e.hashCode(this.path)|0},pv.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.node,t.node)&&e.equals(this.path,t.path)},Object.defineProperty(yv.prototype,"inputAccessorRef",{configurable:!0,get:function(){return null==this.inputAccessorRef_83hs5f$_0?_t("inputAccessorRef"):this.inputAccessorRef_83hs5f$_0},set:function(t){this.inputAccessorRef_83hs5f$_0=t}}),Object.defineProperty(yv.prototype,"outputAccessorRef",{configurable:!0,get:function(){return null==this.outputAccessorRef_fq2m6i$_0?_t("outputAccessorRef"):this.outputAccessorRef_fq2m6i$_0},set:function(t){this.outputAccessorRef_fq2m6i$_0=t}}),$v.prototype.serializer=function(){return wv()},$v.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var bv=null;function gv(){return null===bv&&new $v,bv}function vv(){this.descriptor_vtcpaw$_0=new xe("de.fabmax.kool.util.gltf.GltfAnimation.Sampler",this,3),this.descriptor.addElement_ivxn3r$("input",!1),this.descriptor.addElement_ivxn3r$("interpolation",!0),this.descriptor.addElement_ivxn3r$("output",!1),xv=this}Object.defineProperty(vv.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_vtcpaw$_0}}),vv.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeIntElement_ptg7oe$(this.descriptor,0,e.input),Dt(e.interpolation,gv().INTERPOLATION_LINEAR)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeStringElement_iij8qq$(this.descriptor,1,e.interpolation),n.encodeIntElement_ptg7oe$(this.descriptor,2,e.output),n.endStructure_24f42q$(this.descriptor)},vv.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r=0,s=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=s.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=s.decodeIntElement_szpzho$(this.descriptor,0),r|=1;break;case 1:i=s.decodeStringElement_szpzho$(this.descriptor,1),r|=2;break;case 2:o=s.decodeIntElement_szpzho$(this.descriptor,2),r|=4;break;case-1:break t;default:throw new we(e)}return s.endStructure_24f42q$(this.descriptor),zv(r,n,i,o,null)},vv.prototype.childSerializers=function(){return[ze.IntSerializer,ze.StringSerializer,ze.IntSerializer]},vv.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var xv=null;function wv(){return null===xv&&new vv,xv}function zv(t,e,n,i,o){var r=o||Object.create(yv.prototype);if(0==(1&t))throw new Se("input");if(r.input=e,r.interpolation=0==(2&t)?gv().INTERPOLATION_LINEAR:n,0==(4&t))throw new Se("output");return r.output=i,r}function Cv(){Sv=this}yv.$metadata$={kind:$,simpleName:"Sampler",interfaces:[]},yv.prototype.component1=function(){return this.input},yv.prototype.component2=function(){return this.interpolation},yv.prototype.component3=function(){return this.output},yv.prototype.copy_jl0c9m$=function(t,e,n){return new yv(void 0===t?this.input:t,void 0===e?this.interpolation:e,void 0===n?this.output:n)},yv.prototype.toString=function(){return"Sampler(input="+e.toString(this.input)+", interpolation="+e.toString(this.interpolation)+", output="+e.toString(this.output)+")"},yv.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*t+e.hashCode(this.input)|0)+e.hashCode(this.interpolation)|0)+e.hashCode(this.output)|0},yv.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.input,t.input)&&e.equals(this.interpolation,t.interpolation)&&e.equals(this.output,t.output)},Cv.prototype.serializer=function(){return Nv()},Cv.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Sv=null;function kv(){return null===Sv&&new Cv,Sv}function Lv(){this.descriptor_tnzh7m$_0=new xe("de.fabmax.kool.util.gltf.GltfAnimation",this,3),this.descriptor.addElement_ivxn3r$("channels",!1),this.descriptor.addElement_ivxn3r$("samplers",!1),this.descriptor.addElement_ivxn3r$("name",!0),jv=this}Object.defineProperty(Lv.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_tnzh7m$_0}}),Lv.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeSerializableElement_r4qlx7$(this.descriptor,0,new ke(av()),e.channels),n.encodeSerializableElement_r4qlx7$(this.descriptor,1,new ke(wv()),e.samplers),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,2,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},Lv.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r=0,s=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=s.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=s.decodeSerializableElement_12e8id$(this.descriptor,0,new ke(av()),n),r|=1;break;case 1:i=s.decodeSerializableElement_12e8id$(this.descriptor,1,new ke(wv()),i),r|=2;break;case 2:o=s.decodeNullableSerializableElement_8viuyw$(this.descriptor,2,ze.StringSerializer,o),r|=4;break;case-1:break t;default:throw new we(e)}return s.endStructure_24f42q$(this.descriptor),Pv(r,n,i,o,null)},Lv.prototype.childSerializers=function(){return[new ke(av()),new ke(wv()),new ge(ze.StringSerializer)]},Lv.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var jv=null;function Nv(){return null===jv&&new Lv,jv}function Pv(t,e,n,i,o){var r=o||Object.create(tv.prototype);if(0==(1&t))throw new Se("channels");if(r.channels=e,0==(2&t))throw new Se("samplers");return r.samplers=n,r.name=0==(4&t)?null:i,r}function Tv(t,e,n,i){Mv(),void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),this.copyright=t,this.generator=e,this.version=n,this.minVersion=i}function Ov(){Ev=this}tv.$metadata$={kind:$,simpleName:"GltfAnimation",interfaces:[]},tv.prototype.component1=function(){return this.channels},tv.prototype.component2=function(){return this.samplers},tv.prototype.component3=function(){return this.name},tv.prototype.copy_gie5zu$=function(t,e,n){return new tv(void 0===t?this.channels:t,void 0===e?this.samplers:e,void 0===n?this.name:n)},tv.prototype.toString=function(){return"GltfAnimation(channels="+e.toString(this.channels)+", samplers="+e.toString(this.samplers)+", name="+e.toString(this.name)+")"},tv.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*t+e.hashCode(this.channels)|0)+e.hashCode(this.samplers)|0)+e.hashCode(this.name)|0},tv.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.channels,t.channels)&&e.equals(this.samplers,t.samplers)&&e.equals(this.name,t.name)},Ov.prototype.serializer=function(){return Av()},Ov.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Ev=null;function Mv(){return null===Ev&&new Ov,Ev}function Rv(){this.descriptor_jo73ey$_0=new xe("de.fabmax.kool.util.gltf.GltfAsset",this,4),this.descriptor.addElement_ivxn3r$("copyright",!0),this.descriptor.addElement_ivxn3r$("generator",!0),this.descriptor.addElement_ivxn3r$("version",!1),this.descriptor.addElement_ivxn3r$("minVersion",!0),Iv=this}Object.defineProperty(Rv.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_jo73ey$_0}}),Rv.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.copyright,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,0,ze.StringSerializer,e.copyright),Dt(e.generator,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,1,ze.StringSerializer,e.generator),n.encodeStringElement_iij8qq$(this.descriptor,2,e.version),Dt(e.minVersion,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,3,ze.StringSerializer,e.minVersion),n.endStructure_24f42q$(this.descriptor)},Rv.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s=0,a=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=a.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=a.decodeNullableSerializableElement_8viuyw$(this.descriptor,0,ze.StringSerializer,n),s|=1;break;case 1:i=a.decodeNullableSerializableElement_8viuyw$(this.descriptor,1,ze.StringSerializer,i),s|=2;break;case 2:o=a.decodeStringElement_szpzho$(this.descriptor,2),s|=4;break;case 3:r=a.decodeNullableSerializableElement_8viuyw$(this.descriptor,3,ze.StringSerializer,r),s|=8;break;case-1:break t;default:throw new we(e)}return a.endStructure_24f42q$(this.descriptor),Dv(s,n,i,o,r,null)},Rv.prototype.childSerializers=function(){return[new ge(ze.StringSerializer),new ge(ze.StringSerializer),ze.StringSerializer,new ge(ze.StringSerializer)]},Rv.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Iv=null;function Av(){return null===Iv&&new Rv,Iv}function Dv(t,e,n,i,o,r){var s=r||Object.create(Tv.prototype);if(s.copyright=0==(1&t)?null:e,s.generator=0==(2&t)?null:n,0==(4&t))throw new Se("version");return s.version=i,s.minVersion=0==(8&t)?null:o,s}function Bv(t,e,n){p.call(this,n),this.exceptionState_0=1,this.local$tmp$=void 0,this.local$file=void 0,this.local$modelBasePath=void 0,this.local$tmp$_1=void 0,this.local$element=void 0,this.local$$receiver=t,this.local$assetPath=e}function Fv(t,e,n,i){var o=new Bv(t,e,n);return i?o:o.doResume(null)}function qv(t,e,n,i,o){p.call(this,o),this.exceptionState_0=1,this.local$$receiver=t,this.local$assetPath=e,this.local$modelCfg=n,this.local$scene=i}function Uv(t){return Ne(t,".glb",!0)||Ne(t,".glb.gz",!0)}function Vv(t,e,n){p.call(this,n),this.exceptionState_0=1,this.local$$receiver=t,this.local$assetPath=e}function Wv(t,e,n,i){var o=new Vv(t,e,n);return i?o:o.doResume(null)}function Gv(t,e,n){p.call(this,n),this.exceptionState_0=1,this.local$tmp$=void 0,this.local$$receiver=t,this.local$assetPath=e}function Hv(t,e,n,i){var o=new Gv(t,e,n);return i?o:o.doResume(null)}function Xv(t,e,n){Zv(),void 0===t&&(t=null),void 0===n&&(n=null),this.uri=t,this.byteLength=e,this.name=n,this.data_5ej3ir$_0=this.data_5ej3ir$_0}function Kv(){Yv=this}Tv.$metadata$={kind:$,simpleName:"GltfAsset",interfaces:[]},Tv.prototype.component1=function(){return this.copyright},Tv.prototype.component2=function(){return this.generator},Tv.prototype.component3=function(){return this.version},Tv.prototype.component4=function(){return this.minVersion},Tv.prototype.copy_iz7fdb$=function(t,e,n,i){return new Tv(void 0===t?this.copyright:t,void 0===e?this.generator:e,void 0===n?this.version:n,void 0===i?this.minVersion:i)},Tv.prototype.toString=function(){return"GltfAsset(copyright="+e.toString(this.copyright)+", generator="+e.toString(this.generator)+", version="+e.toString(this.version)+", minVersion="+e.toString(this.minVersion)+")"},Tv.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.copyright)|0)+e.hashCode(this.generator)|0)+e.hashCode(this.version)|0)+e.hashCode(this.minVersion)|0},Tv.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.copyright,t.copyright)&&e.equals(this.generator,t.generator)&&e.equals(this.version,t.version)&&e.equals(this.minVersion,t.minVersion)},Bv.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},Bv.prototype=Object.create(p.prototype),Bv.prototype.constructor=Bv,Bv.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t;if(m=this.local$assetPath,Ne(m,".gltf",!0)||Ne(m,".gltf.gz",!0)){if(this.state_0=4,this.result_0=Wv(this.local$$receiver,this.local$assetPath,this),this.result_0===l)return l;continue}if(Uv(this.local$assetPath)){if(this.state_0=2,this.result_0=Hv(this.local$$receiver,this.local$assetPath,this),this.result_0===l)return l;continue}this.local$tmp$=null,this.state_0=3;continue;case 1:throw this.exception_0;case 2:this.local$tmp$=this.result_0,this.state_0=3;continue;case 3:this.state_0=5;continue;case 4:this.local$tmp$=this.result_0,this.state_0=5;continue;case 5:if(this.local$file=this.local$tmp$,je(this.local$assetPath,47)){var e=Kt(this.local$assetPath,47);t=this.local$assetPath.substring(0,e)}else t=".";if(this.local$modelBasePath=t,null!=this.local$file){var n,i=this.local$file.buffers,o=E();for(n=i.iterator();n.hasNext();){var r=n.next();null!=r.uri&&o.add_11rb$(r)}this.local$tmp$_1=o.iterator(),this.state_0=6;continue}this.state_0=9;continue;case 6:if(!this.local$tmp$_1.hasNext()){this.state_0=8;continue}this.local$element=this.local$tmp$_1.next();var s=w(this.local$element.uri),a=u(s,"data:",!0)?s:this.local$modelBasePath+"/"+s;if(this.state_0=7,this.result_0=this.local$$receiver.loadAsset_61zpoe$(a,this),this.result_0===l)return l;continue;case 7:this.local$element.data=w(this.result_0),this.state_0=6;continue;case 8:var p,c,_=this.local$file.images,h=E();for(p=_.iterator();p.hasNext();){var d=p.next();null!=d.uri&&h.add_11rb$(d)}for(c=h.iterator();c.hasNext();){var f=c.next();f.uri=this.local$modelBasePath+"/"+Lt(f.uri)}this.local$file.updateReferences_8be2vx$(),this.state_0=9;continue;case 9:return this.local$file;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}var m},qv.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},qv.prototype=Object.create(p.prototype),qv.prototype.constructor=qv,qv.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t;if(void 0===this.local$modelCfg&&(this.local$modelCfg=new cx),void 0===this.local$scene&&(this.local$scene=0),this.state_0=2,this.result_0=Fv(this.local$$receiver,this.local$assetPath,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return null!=(t=this.result_0)?t.makeModel_m0hq3v$(this.local$modelCfg,this.local$scene):null;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Vv.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},Vv.prototype=Object.create(p.prototype),Vv.prototype.constructor=Vv,Vv.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$$receiver.loadAsset_61zpoe$(this.local$assetPath,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:var t=this.result_0;return null!=t&&Ne(this.local$assetPath,".gz",!0)&&(t=this.local$$receiver.inflate_ay2i3f$(t)),null!=t?$x().fromJson_61zpoe$(Pe(t.toArray())):null;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Gv.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},Gv.prototype=Object.create(p.prototype),Gv.prototype.constructor=Gv,Gv.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$$receiver.loadAsset_61zpoe$(this.local$assetPath,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:if(this.local$tmp$=this.result_0,null==this.local$tmp$)return null;this.state_0=3;continue;case 3:var t=this.local$tmp$;Ne(this.local$assetPath,".gz",!0)&&(t=this.local$$receiver.inflate_ay2i3f$(t));var n=new X$(t),i=n.readUInt(),o=n.readUInt();if(n.readUInt(),1179937895!==i)throw _i("Unexpected glTF magic number: "+i+" (should be 1179937895 / 'glTF')");if(2!==o){var r=Hj.Log,s=vC.WARN,a=e.getKClassFromExpression(this.local$$receiver).simpleName;s.level>=r.level.level&&r.printer(s,a,"Unexpected glTF version: "+o+" (should be 2) - stuff might not work as expected")}var p=n.readUInt(),u={v:n.readUInt()};if(1313821514!==u.v)throw _i("Unexpected chunk type for chunk 0: "+u.v+" (should be 1313821514 / 'JSON')");for(var c=n.readData_za3lpa$(p).toArray(),_=$x().fromJson_61zpoe$(Pe(c)),h={v:1};n.hasRemaining();){if(p=n.readUInt(),u.v=n.readUInt(),5130562===u.v)_.buffers.get_za3lpa$(h.v-1|0).data=n.readData_za3lpa$(p);else{var d=Hj.Log,f=vC.WARN,m=e.getKClassFromExpression(this.local$$receiver).simpleName;f.level>=d.level.level&&d.printer(f,m,"Unexpected chunk type for chunk "+h.v+": "+u.v+" (should be 5130562 / ' BIN')"),n.index=n.index+p|0}h.v=h.v+1|0}return _;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Object.defineProperty(Xv.prototype,"data",{configurable:!0,get:function(){return null==this.data_5ej3ir$_0?_t("data"):this.data_5ej3ir$_0},set:function(t){this.data_5ej3ir$_0=t}}),Kv.prototype.serializer=function(){return tx()},Kv.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Yv=null;function Zv(){return null===Yv&&new Kv,Yv}function Jv(){this.descriptor_ou5fio$_0=new xe("de.fabmax.kool.util.gltf.GltfBuffer",this,3),this.descriptor.addElement_ivxn3r$("uri",!0),this.descriptor.addElement_ivxn3r$("byteLength",!1),this.descriptor.addElement_ivxn3r$("name",!0),Qv=this}Object.defineProperty(Jv.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_ou5fio$_0}}),Jv.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.uri,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,0,ze.StringSerializer,e.uri),n.encodeIntElement_ptg7oe$(this.descriptor,1,e.byteLength),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,2,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},Jv.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r=0,s=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=s.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=s.decodeNullableSerializableElement_8viuyw$(this.descriptor,0,ze.StringSerializer,n),r|=1;break;case 1:i=s.decodeIntElement_szpzho$(this.descriptor,1),r|=2;break;case 2:o=s.decodeNullableSerializableElement_8viuyw$(this.descriptor,2,ze.StringSerializer,o),r|=4;break;case-1:break t;default:throw new we(e)}return s.endStructure_24f42q$(this.descriptor),ex(r,n,i,o,null)},Jv.prototype.childSerializers=function(){return[new ge(ze.StringSerializer),ze.IntSerializer,new ge(ze.StringSerializer)]},Jv.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Qv=null;function tx(){return null===Qv&&new Jv,Qv}function ex(t,e,n,i,o){var r=o||Object.create(Xv.prototype);if(r.uri=0==(1&t)?null:e,0==(2&t))throw new Se("byteLength");return r.byteLength=n,r.name=0==(4&t)?null:i,r}function nx(t,e,n,i,o,r){rx(),void 0===e&&(e=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===r&&(r=null),this.buffer=t,this.byteOffset=e,this.byteLength=n,this.byteStride=i,this.target=o,this.name=r,this.bufferRef_y7hzt1$_0=this.bufferRef_y7hzt1$_0}function ix(){ox=this}Xv.$metadata$={kind:$,simpleName:"GltfBuffer",interfaces:[]},Xv.prototype.component1=function(){return this.uri},Xv.prototype.component2=function(){return this.byteLength},Xv.prototype.component3=function(){return this.name},Xv.prototype.copy_xf6674$=function(t,e,n){return new Xv(void 0===t?this.uri:t,void 0===e?this.byteLength:e,void 0===n?this.name:n)},Xv.prototype.toString=function(){return"GltfBuffer(uri="+e.toString(this.uri)+", byteLength="+e.toString(this.byteLength)+", name="+e.toString(this.name)+")"},Xv.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*t+e.hashCode(this.uri)|0)+e.hashCode(this.byteLength)|0)+e.hashCode(this.name)|0},Xv.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.uri,t.uri)&&e.equals(this.byteLength,t.byteLength)&&e.equals(this.name,t.name)},Object.defineProperty(nx.prototype,"bufferRef",{configurable:!0,get:function(){return null==this.bufferRef_y7hzt1$_0?_t("bufferRef"):this.bufferRef_y7hzt1$_0},set:function(t){this.bufferRef_y7hzt1$_0=t}}),nx.prototype.getData=function(){var t,e=Nj(this.byteLength);t=this.byteLength;for(var n=0;n<t;n++)e.set_6t1wet$(n,this.bufferRef.data.get_za3lpa$(this.byteOffset+n|0));return e},ix.prototype.serializer=function(){return lx()},ix.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var ox=null;function rx(){return null===ox&&new ix,ox}function sx(){this.descriptor_7gwufp$_0=new xe("de.fabmax.kool.util.gltf.GltfBufferView",this,6),this.descriptor.addElement_ivxn3r$("buffer",!1),this.descriptor.addElement_ivxn3r$("byteOffset",!0),this.descriptor.addElement_ivxn3r$("byteLength",!1),this.descriptor.addElement_ivxn3r$("byteStride",!0),this.descriptor.addElement_ivxn3r$("target",!0),this.descriptor.addElement_ivxn3r$("name",!0),ax=this}Object.defineProperty(sx.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_7gwufp$_0}}),sx.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeIntElement_ptg7oe$(this.descriptor,0,e.buffer),Dt(e.byteOffset,0)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeIntElement_ptg7oe$(this.descriptor,1,e.byteOffset),n.encodeIntElement_ptg7oe$(this.descriptor,2,e.byteLength),Dt(e.byteStride,0)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeIntElement_ptg7oe$(this.descriptor,3,e.byteStride),Dt(e.target,0)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,4)||n.encodeIntElement_ptg7oe$(this.descriptor,4,e.target),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,5)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,5,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},sx.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s,a,l=0,p=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=p.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=p.decodeIntElement_szpzho$(this.descriptor,0),l|=1;break;case 1:i=p.decodeIntElement_szpzho$(this.descriptor,1),l|=2;break;case 2:o=p.decodeIntElement_szpzho$(this.descriptor,2),l|=4;break;case 3:r=p.decodeIntElement_szpzho$(this.descriptor,3),l|=8;break;case 4:s=p.decodeIntElement_szpzho$(this.descriptor,4),l|=16;break;case 5:a=p.decodeNullableSerializableElement_8viuyw$(this.descriptor,5,ze.StringSerializer,a),l|=32;break;case-1:break t;default:throw new we(e)}return p.endStructure_24f42q$(this.descriptor),px(l,n,i,o,r,s,a,null)},sx.prototype.childSerializers=function(){return[ze.IntSerializer,ze.IntSerializer,ze.IntSerializer,ze.IntSerializer,ze.IntSerializer,new ge(ze.StringSerializer)]},sx.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var ax=null;function lx(){return null===ax&&new sx,ax}function px(t,e,n,i,o,r,s,a){var l=a||Object.create(nx.prototype);if(0==(1&t))throw new Se("buffer");if(l.buffer=e,l.byteOffset=0==(2&t)?0:n,0==(4&t))throw new Se("byteLength");return l.byteLength=i,l.byteStride=0==(8&t)?0:o,l.target=0==(16&t)?0:r,l.name=0==(32&t)?null:s,l}function ux(t,e,n,i,o,r,s,a,l,p,u,c,_,h,d){$x(),void 0===t&&(t=jt()),void 0===e&&(e=jt()),void 0===n&&(n=jt()),void 0===i&&(i=jt()),void 0===r&&(r=jt()),void 0===s&&(s=jt()),void 0===a&&(a=jt()),void 0===l&&(l=jt()),void 0===p&&(p=jt()),void 0===u&&(u=jt()),void 0===c&&(c=0),void 0===_&&(_=jt()),void 0===h&&(h=jt()),void 0===d&&(d=jt()),this.extensionsUsed=t,this.extensionsRequired=e,this.accessors=n,this.animations=i,this.asset=o,this.buffers=r,this.bufferViews=s,this.images=a,this.materials=l,this.meshes=p,this.nodes=u,this.scene=c,this.scenes=_,this.skins=h,this.textures=d}function cx(t,e,n,i,o,r,s,a,l,p,u){void 0===t&&(t=!1),void 0===e&&(e=!0),void 0===n&&(n=new _x),void 0===i&&(i=!0),void 0===o&&(o=!0),void 0===r&&(r=!0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===l&&(l=!1),void 0===p&&(p=!0),void 0===u&&(u=null),this.generateNormals=t,this.applyMaterials=e,this.materialConfig=n,this.loadAnimations=i,this.applySkins=o,this.applyMorphTargets=r,this.applyTransforms=s,this.removeEmptyNodes=a,this.mergeMeshesByMaterial=l,this.sortNodesByAlpha=p,this.pbrBlock=u}function _x(t,e,n,i){void 0===t&&(t=jt()),void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),this.shadowMaps=t,this.scrSpcAmbientOcclusionMap=e,this.environmentMaps=n,this.isDeferredShading=i}function hx(t,e){this.$outer=t,this.cfg=e,this.modelAnimations=E(),this.modelNodes=C(),this.meshesByMaterial=C(),this.meshMaterials=C()}function dx(t){return function(e){var n;n=e.numVertices;for(var i=0;i<n;i++){e.vertexIt.index=i;var o=t,r=e.vertexIt;o.transform_w1lst9$(r.position,1),o.transform_w1lst9$(r.normal,0);var s=r.tangent.getXyz_5s4mqq$(Mo());o.transform_w1lst9$(s,0),r.tangent.set_2qa7tb$(s,r.tangent.w)}return a}}function fx(){yx=this,this.GLB_FILE_MAGIC=1179937895,this.GLB_CHUNK_MAGIC_JSON=1313821514,this.GLB_CHUNK_MAGIC_BIN=5130562}function mx(t){return t.isLenient=!0,t.ignoreUnknownKeys=!0,t.allowSpecialFloatingPointValues=!0,t.useArrayPolymorphism=!0,a}nx.$metadata$={kind:$,simpleName:"GltfBufferView",interfaces:[]},nx.prototype.component1=function(){return this.buffer},nx.prototype.component2=function(){return this.byteOffset},nx.prototype.component3=function(){return this.byteLength},nx.prototype.component4=function(){return this.byteStride},nx.prototype.component5=function(){return this.target},nx.prototype.component6=function(){return this.name},nx.prototype.copy_o3471x$=function(t,e,n,i,o,r){return new nx(void 0===t?this.buffer:t,void 0===e?this.byteOffset:e,void 0===n?this.byteLength:n,void 0===i?this.byteStride:i,void 0===o?this.target:o,void 0===r?this.name:r)},nx.prototype.toString=function(){return"GltfBufferView(buffer="+e.toString(this.buffer)+", byteOffset="+e.toString(this.byteOffset)+", byteLength="+e.toString(this.byteLength)+", byteStride="+e.toString(this.byteStride)+", target="+e.toString(this.target)+", name="+e.toString(this.name)+")"},nx.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.buffer)|0)+e.hashCode(this.byteOffset)|0)+e.hashCode(this.byteLength)|0)+e.hashCode(this.byteStride)|0)+e.hashCode(this.target)|0)+e.hashCode(this.name)|0},nx.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.buffer,t.buffer)&&e.equals(this.byteOffset,t.byteOffset)&&e.equals(this.byteLength,t.byteLength)&&e.equals(this.byteStride,t.byteStride)&&e.equals(this.target,t.target)&&e.equals(this.name,t.name)},ux.prototype.makeModel_m0hq3v$=function(t,e){return void 0===t&&(t=new cx),void 0===e&&(e=this.scene),new hx(this,t).makeModel_m76q01$(this.scenes.get_za3lpa$(e))},ux.prototype.updateReferences_8be2vx$=function(){var t,e,n;for(t=this.accessors.iterator();t.hasNext();){var i,o=t.next();o.bufferView>=0&&(o.bufferViewRef=this.bufferViews.get_za3lpa$(o.bufferView)),null!=(i=o.sparse)&&(i.indices.bufferViewRef=this.bufferViews.get_za3lpa$(i.indices.bufferView),i.values.bufferViewRef=this.bufferViews.get_za3lpa$(i.values.bufferView))}for(e=this.animations.iterator();e.hasNext();){var r,s,a=e.next();for(r=a.samplers.iterator();r.hasNext();){var l=r.next();l.inputAccessorRef=this.accessors.get_za3lpa$(l.input),l.outputAccessorRef=this.accessors.get_za3lpa$(l.output)}for(s=a.channels.iterator();s.hasNext();){var p=s.next();p.samplerRef=a.samplers.get_za3lpa$(p.sampler),p.target.node>=0&&(p.target.nodeRef=this.nodes.get_za3lpa$(p.target.node))}}for(n=this.bufferViews.iterator();n.hasNext();){var u=n.next();u.bufferRef=this.buffers.get_za3lpa$(u.buffer)}var c,_,h,d,f,m,y,$=this.images,b=E();for(c=$.iterator();c.hasNext();){var g=c.next();g.bufferView>=0&&b.add_11rb$(g)}for(_=b.iterator();_.hasNext();){var v=_.next();v.bufferViewRef=this.bufferViews.get_za3lpa$(v.bufferView)}for(h=this.meshes.iterator();h.hasNext();){var x;for(x=h.next().primitives.iterator();x.hasNext();){var w=x.next();w.material>=0&&(w.materialRef=this.materials.get_za3lpa$(w.material))}}for(d=this.nodes.iterator();d.hasNext();){var C,S=d.next(),k=S.children,L=z(M(k,10));for(C=k.iterator();C.hasNext();){var j=C.next();L.add_11rb$(this.nodes.get_za3lpa$(j))}S.childRefs=L,S.mesh>=0&&(S.meshRef=this.meshes.get_za3lpa$(S.mesh)),S.skin>=0&&(S.skinRef=this.skins.get_za3lpa$(S.skin))}for(f=this.scenes.iterator();f.hasNext();){var N,P=f.next(),T=P.nodes,O=z(M(T,10));for(N=T.iterator();N.hasNext();){var R=N.next();O.add_11rb$(this.nodes.get_za3lpa$(R))}P.nodeRefs=O}for(m=this.skins.iterator();m.hasNext();){var I=m.next();I.inverseBindMatrices>=0&&(I.inverseBindMatrixAccessorRef=this.accessors.get_za3lpa$(I.inverseBindMatrices));var A,D=I.joints,B=z(M(D,10));for(A=D.iterator();A.hasNext();){var F=A.next();B.add_11rb$(this.nodes.get_za3lpa$(F))}I.jointRefs=B}for(y=this.textures.iterator();y.hasNext();){var q=y.next();q.imageRef=this.images.get_za3lpa$(q.source)}},cx.$metadata$={kind:$,simpleName:"ModelGenerateConfig",interfaces:[]},_x.$metadata$={kind:$,simpleName:"ModelMaterialConfig",interfaces:[]},hx.prototype.makeModel_m76q01$=function(t){var e,n,i,o=new Nd(null!=(e=t.name)?e:"model_scene");for(n=t.nodeRefs.iterator();n.hasNext();){var r=n.next();o.plusAssign_f1kmr1$(this.makeNode_0(r,o,this.cfg))}for(this.cfg.loadAnimations&&this.makeTrsAnimations_0(),this.cfg.loadAnimations&&this.makeSkins_0(o),i=this.modelNodes.entries.iterator();i.hasNext();){var s=i.next(),a=s.key,l=s.value;this.createMeshes_0(a,o,l,this.cfg)}this.cfg.loadAnimations&&this.makeMorphAnimations_0();var p,u,c=this.modelAnimations,_=E();for(p=c.iterator();p.hasNext();){var h=p.next();h.channels.isEmpty()||_.add_11rb$(h)}for(u=_.iterator();u.hasNext();){var d=u.next();d.prepareAnimation(),o.animations.add_11rb$(d)}return o.disableAllAnimations(),this.cfg.applyTransforms&&o.animations.isEmpty()&&this.applyTransforms_0(o),this.cfg.mergeMeshesByMaterial&&this.mergeMeshesByMaterial_0(o),this.cfg.sortNodesByAlpha&&this.sortNodesByAlpha_0(o),this.cfg.removeEmptyNodes&&this.removeEmpty_0(o),o},hx.prototype.removeEmpty_0=function(t){var n,i,o=t.children,r=E();for(n=o.iterator();n.hasNext();){var s=n.next();e.isType(s,ad)&&r.add_11rb$(s)}for(i=r.iterator();i.hasNext();){var a=i.next();this.removeEmpty_0(a),a.children.isEmpty()&&t.removeNode_f1kmr1$(a)}},hx.prototype.makeTrsAnimations_0=function(){var t;for(t=this.$outer.animations.iterator();t.hasNext();){var n=t.next(),i=new ty(n.name);this.modelAnimations.add_11rb$(i);var o,r=C();for(o=n.channels.iterator();o.hasNext();){var s,a=o.next(),l=this.modelNodes,p=a.target.nodeRef,u=(e.isType(s=l,be)?s:_()).get_11rb$(p);if(null!=u){var c,h=r.get_11rb$(u);if(null==h){var d=new ay(u);r.put_xwzc9p$(u,d),c=d}else c=h;var f=c;switch(a.target.path){case"translation":this.makeTranslationAnimation_0(a,f,i);break;case"rotation":this.makeRotationAnimation_0(a,f,i);break;case"scale":this.makeScaleAnimation_0(a,f,i)}}}}},hx.prototype.makeTranslationAnimation_0=function(t,n,i){var o,r,s,a=t.samplerRef.inputAccessorRef,l=t.samplerRef.outputAccessorRef;if(Dt(a.type,yg().TYPE_SCALAR)&&5126===a.componentType)if(Dt(l.type,yg().TYPE_VEC3)&&5126===l.componentType){var p=new ny(Lt(i.name)+"_translation",n);switch(t.samplerRef.interpolation){case"STEP":o=yy();break;case"CUBICSPLINE":o=gy();break;default:o=dy()}var u=o;i.channels.add_11rb$(p);var c=new Xg(a),_=new Yg(l),h=a.count,d=l.count;r=R.min(h,d);for(var f=0;f<r;f++){var m=c.next();if(u===gy()){var y=_.nextD();s=new zy(m,_.nextD(),y,_.nextD())}else s=new wy(m,_.nextD());var $=s;$.interpolation=u,p.keys.put_xwzc9p$(m,$)}}else{var b=Hj.Log,g=vC.WARN,v=e.getKClassFromExpression(this).simpleName;g.level>=b.level.level&&b.printer(g,v,"Unsupported translation animation output accessor: type = "+l.type+", component type = "+l.componentType+", should be VEC3 and 5126 (float)")}else{var x=Hj.Log,w=vC.WARN,z=e.getKClassFromExpression(this).simpleName;w.level>=x.level.level&&x.printer(w,z,"Unsupported translation animation input accessor: type = "+a.type+", component type = "+a.componentType+", should be SCALAR and 5126 (float)")}},hx.prototype.makeRotationAnimation_0=function(t,n,i){var o,r,s,a=t.samplerRef.inputAccessorRef,l=t.samplerRef.outputAccessorRef;if(Dt(a.type,yg().TYPE_SCALAR)&&5126===a.componentType)if(Dt(l.type,yg().TYPE_VEC4)&&5126===l.componentType){var p=new iy(Lt(i.name)+"_rotation",n);switch(t.samplerRef.interpolation){case"STEP":o=yy();break;case"CUBICSPLINE":o=gy();break;default:o=dy()}var u=o;i.channels.add_11rb$(p);var c=new Xg(a),_=new Zg(l),h=a.count,d=l.count;r=R.min(h,d);for(var f=0;f<r;f++){var m=c.next();if(u===gy()){var y=_.nextD();s=new xy(m,_.nextD(),y,_.nextD())}else s=new vy(m,_.nextD());var $=s;$.interpolation=u,p.keys.put_xwzc9p$(m,$)}}else{var b=Hj.Log,g=vC.WARN,v=e.getKClassFromExpression(this).simpleName;g.level>=b.level.level&&b.printer(g,v,"Unsupported rotation animation output accessor: type = "+l.type+", component type = "+l.componentType+", should be VEC4 and 5126 (float)")}else{var x=Hj.Log,w=vC.WARN,z=e.getKClassFromExpression(this).simpleName;w.level>=x.level.level&&x.printer(w,z,"Unsupported rotation animation input accessor: type = "+a.type+", component type = "+a.componentType+", should be SCALAR and 5126 (float)")}},hx.prototype.makeScaleAnimation_0=function(t,n,i){var o,r,s,a=t.samplerRef.inputAccessorRef,l=t.samplerRef.outputAccessorRef;if(Dt(a.type,yg().TYPE_SCALAR)&&5126===a.componentType)if(Dt(l.type,yg().TYPE_VEC3)&&5126===l.componentType){var p=new oy(Lt(i.name)+"_scale",n);switch(t.samplerRef.interpolation){case"STEP":o=yy();break;case"CUBICSPLINE":o=gy();break;default:o=dy()}var u=o;i.channels.add_11rb$(p);var c=new Xg(a),_=new Yg(l),h=a.count,d=l.count;r=R.min(h,d);for(var f=0;f<r;f++){var m=c.next();if(u===gy()){var y=_.nextD();s=new Sy(m,_.nextD(),y,_.nextD())}else s=new Cy(m,_.nextD());var $=s;$.interpolation=u,p.keys.put_xwzc9p$(m,$)}}else{var b=Hj.Log,g=vC.WARN,v=e.getKClassFromExpression(this).simpleName;g.level>=b.level.level&&b.printer(g,v,"Unsupported scale animation output accessor: type = "+l.type+", component type = "+l.componentType+", should be VEC3 and 5126 (float)")}else{var x=Hj.Log,w=vC.WARN,z=e.getKClassFromExpression(this).simpleName;w.level>=x.level.level&&x.printer(w,z,"Unsupported scale animation input accessor: type = "+a.type+", component type = "+a.componentType+", should be SCALAR and 5126 (float)")}},hx.prototype.makeMorphAnimations_0=function(){var t,n,i=0;for(t=this.$outer.animations.iterator();t.hasNext();){var o,r=t.next(),s=et((i=(n=i)+1|0,n));for(o=r.channels.iterator();o.hasNext();){var a,l,p,u=o.next();if(Dt(u.target.path,_v().PATH_WEIGHTS)){var c,h,d,f=this.modelAnimations.get_za3lpa$(s),m=null!=(a=u.target.nodeRef)?a.meshRef:null,y=this.modelNodes,$=u.target.nodeRef,b=(e.isType(c=y,be)?c:_()).get_11rb$($);if(null!=(l=null!=b?b.children:null)){var g,v=E();for(g=l.iterator();g.hasNext();){var x=g.next();e.isType(x,$d)&&v.add_11rb$(x)}h=v}else h=null;if(null!=(p=h))for(d=p.iterator();d.hasNext();){var z=d.next();this.makeWeightAnimation_0(w(m),u,new ly(z),f)}}}}},hx.prototype.makeWeightAnimation_0=function(t,n,i,o){var r,s,a,l=n.samplerRef.inputAccessorRef,p=n.samplerRef.outputAccessorRef;if(Dt(l.type,yg().TYPE_SCALAR)&&5126===l.componentType)if(Dt(p.type,yg().TYPE_SCALAR)&&5126===p.componentType){var u=new ry(Lt(o.name)+"_weight",i);switch(n.samplerRef.interpolation){case"STEP":r=yy();break;case"CUBICSPLINE":r=gy();break;default:r=dy()}var c=r;o.channels.add_11rb$(u);var _,h=t.primitives.get_za3lpa$(0).targets,d=0;for(_=t.primitives.get_za3lpa$(0).targets.iterator();_.hasNext();)d=d+_.next().size|0;var f=d,m=new Xg(l),y=new Xg(p),$=l.count,b=p.count;s=R.min($,b);for(var g=0;g<s;g++){var v=m.next();if(c===gy()){for(var x=new Float32Array(f),w=new Float32Array(f),z=new Float32Array(f),C=0,S=0;S!==h.size;++S){var k,L,j=y.next();k=h.get_za3lpa$(S).size;for(var N=0;N<k;N++)x[(L=C,C=L+1|0,L)]=j}C=0;for(var P=0;P!==h.size;++P){var T,O,E=y.next();T=h.get_za3lpa$(P).size;for(var M=0;M<T;M++)w[(O=C,C=O+1|0,O)]=E}C=0;for(var I=0;I!==h.size;++I){var A,D,B=y.next();A=h.get_za3lpa$(I).size;for(var F=0;F<A;F++)z[(D=C,C=D+1|0,D)]=B}a=new Ly(v,w,x,z)}else{for(var q=new Float32Array(f),U=0,V=0;V!==h.size;++V){var W,G,H=y.next();W=h.get_za3lpa$(V).size;for(var X=0;X<W;X++)q[(G=U,U=G+1|0,G)]=H}a=new ky(v,q)}var K=a;K.interpolation=c,u.keys.put_xwzc9p$(v,K)}}else{var Y=Hj.Log,Z=vC.WARN,J=e.getKClassFromExpression(this).simpleName;Z.level>=Y.level.level&&Y.printer(Z,J,"Unsupported weight animation output accessor: type = "+p.type+", component type = "+l.componentType+", should be VEC3 and 5126 (float)")}else{var Q=Hj.Log,tt=vC.WARN,et=e.getKClassFromExpression(this).simpleName;tt.level>=Q.level.level&&Q.printer(tt,et,"Unsupported weight animation input accessor: type = "+l.type+", component type = "+l.componentType+", should be SCALAR and 5126 (float)")}},hx.prototype.makeSkins_0=function(t){var e;for(e=this.$outer.skins.iterator();e.hasNext();){var n,i=e.next(),o=new Dy,r=null!=(n=i.inverseBindMatrixAccessorRef)?new Qg(n):null;if(null!=r){var s,a,l=C();for(s=i.jointRefs.iterator();s.hasNext();){var p=s.next(),u=new By(w(this.modelNodes.get_11rb$(p)),r.next());o.nodes.add_11rb$(u),l.put_xwzc9p$(p,u)}for(a=i.jointRefs.iterator();a.hasNext();){var c,_=a.next(),h=l.get_11rb$(_);if(null!=h)for(c=_.childRefs.iterator();c.hasNext();){var d=c.next(),f=l.get_11rb$(d);null!=f&&h.addChild_j3a3b7$(f)}}t.skins.add_11rb$(o)}}},hx.prototype.sortNodesByAlpha_0=function(t){var n,i,o=C(),r=0;for(n=t.children.iterator();n.hasNext();){var s=n.next(),a=1;e.isType(s,$d)&&!s.isOpaque?a=0:e.isType(s,ad)&&(a=this.sortNodesByAlpha_0(s));var l=a;o.put_xwzc9p$(s,l),r+=a}return t.sortChildrenBy_mq7kdd$((i=o,function(t){var e;return-(null!=(e=i.get_11rb$(t))?e:1)})),t.children.isEmpty()||(r/=t.children.size),r},hx.prototype.mergeMeshesByMaterial_0=function(t){this.mergeMeshesByMaterial_1(t)},hx.prototype.mergeMeshesByMaterial_1=function(t){var n,i,o,r=t.children,s=E();for(n=r.iterator();n.hasNext();){var a=n.next();e.isType(a,ad)&&s.add_11rb$(a)}for(i=s.iterator();i.hasNext();){var l=i.next();this.mergeMeshesByMaterial_1(l)}for(o=this.meshesByMaterial.values.iterator();o.hasNext();){var p,u,c=o.next(),h=t.children,d=E();for(u=h.iterator();u.hasNext();){var f=u.next();Ee(c,f)&&d.add_11rb$(f)}var m,y=z(M(d,10));for(m=d.iterator();m.hasNext();){var $,b=m.next();y.add_11rb$(e.isType($=b,$d)?$:_())}var g=y;if(g.size>1){var v=g.get_za3lpa$(0);p=g.size;for(var x=1;x<p;x++){var w=g.get_za3lpa$(x);Dt(w.geometry.attributeHash,v.geometry.attributeHash)&&(v.geometry.addGeometry_r7nl2o$(w.geometry),t.removeNode_f1kmr1$(w))}}}},hx.prototype.applyTransforms_0=function(t){var e=new Si;e.setIdentity(),this.applyTransforms_1(t,e,t)},hx.prototype.applyTransforms_1=function(t,n,i){n.push(),n.mul_d4zu6l$(t.transform);var o,r,s=t.children,a=E();for(o=s.iterator();o.hasNext();){var l=o.next();e.isType(l,$d)&&a.add_11rb$(l)}for(r=a.iterator();r.hasNext();){var p=r.next(),u=p.geometry,c=u.isBatchUpdate;u.isBatchUpdate=!0,dx(n)(u),u.hasChanged=!0,u.isBatchUpdate=c,u.rebuildBounds(),Dt(i,t)||i.plusAssign_f1kmr1$(p)}var _,h,d=t.children,f=E();for(_=d.iterator();_.hasNext();){var m=_.next();e.isType(m,ad)&&f.add_11rb$(m)}for(h=f.iterator();h.hasNext();){var y=h.next();this.applyTransforms_1(y,n,i),t.removeNode_f1kmr1$(y)}n.pop()},hx.prototype.makeNode_0=function(t,e,n){var i,o,r=null!=(i=t.name)?i:"node_"+e.nodes.size,s=new ad(r);if(this.modelNodes.put_xwzc9p$(t,s),e.nodes.put_xwzc9p$(r,s),null!=t.matrix){var a,l=s.transform,p=t.matrix,u=z(M(p,10));for(a=p.iterator();a.hasNext();){var c=a.next();u.add_11rb$(c)}l.set_d3e2cz$(u)}else{if(null!=t.translation&&s.translate_y2kzbl$(t.translation.get_za3lpa$(0),t.translation.get_za3lpa$(1),t.translation.get_za3lpa$(2)),null!=t.rotation){var _=(new xi).setRotate_czzhi1$(new rr(t.rotation.get_za3lpa$(0),t.rotation.get_za3lpa$(1),t.rotation.get_za3lpa$(2),t.rotation.get_za3lpa$(3)));s.transform.mul_d4zu6l$(_)}null!=t.scale&&s.scale_y2kzbl$(t.scale.get_za3lpa$(0),t.scale.get_za3lpa$(1),t.scale.get_za3lpa$(2))}for(o=t.childRefs.iterator();o.hasNext();){var h=o.next();s.plusAssign_f1kmr1$(this.makeNode_0(h,e,n))}return s},hx.prototype.createMeshes_0=function(t,n,i,o){var r,s;if(null!=(s=null!=(r=t.meshRef)?r.primitives:null)){var a,l;this.$outer;var p=0;for(a=s.iterator();a.hasNext();){var u,c,_=a.next(),h=this.$outer,d=et((p=(l=p)+1|0,l)),f=(null!=(c=null!=(u=t.meshRef)?u.name:null)?c:Lt(i.name)+".mesh")+"_"+d,m=_.toGeometry_pfr3gu$(o.generateNormals,h.accessors);if(!m.isEmpty()){var y=new $d(m,f);i.plusAssign_f1kmr1$(y);var $,b=this.meshesByMaterial,g=_.material,v=b.get_11rb$(g);if(null==v){var x=ht();b.put_xwzc9p$(g,x),$=x}else $=v;$.add_11rb$(y);var z=this.meshMaterials,C=_.materialRef;if(z.put_xwzc9p$(y,C),o.loadAnimations&&o.applySkins&&t.skin>=0){y.skin=n.skins.get_za3lpa$(t.skin);var S=h.skins.get_za3lpa$(t.skin).skeleton;S>=0&&(i.minusAssign_f1kmr1$(y),w(this.modelNodes.get_11rb$(h.nodes.get_za3lpa$(S))).plusAssign_f1kmr1$(y)),y.isFrustumChecked=!1}var k=o.loadAnimations&&o.applyMorphTargets;if(k&&(k=!_.targets.isEmpty()),k){var L,j=Float32Array,N=0;for(L=_.targets.iterator();L.hasNext();)N=N+L.next().size|0;y.morphWeights=new j(N),y.isFrustumChecked=!1}if(o.applyMaterials){var P,T,O,E,M,R,I,A,D={v:o.materialConfig.isDeferredShading},B=_.attributes.containsKey_11rb$(Zx().ATTRIBUTE_COLOR_0),F=new Tc,q=_.materialRef;null!=q?q.applyTo_rmmby8$(F,B,h):(F.albedo=O$().GRAY,F.albedoSource=yc()),null!=y.skin&&(F.isSkinned=!0),null!=y.morphWeights&&zt(F.morphAttributes,y.geometry.getMorphAttributes());var U,V=o.materialConfig;if(zt(F.shadowMaps,V.shadowMaps),null!=(U=V.scrSpcAmbientOcclusionMap)&&F.useScreenSpaceAmbientOcclusion_9cjgzv$(U),F.useImageBasedLighting_po417x$(V.environmentMaps),null!=(P=o.pbrBlock)&&P(F,_),e.isType(F.alphaMode,vc)&&(y.isOpaque=!1,D.v=!1),null!=(T=F.albedoMap)){var W,G;G=n.textures;var H=null!=(W=T.name)?W:"tex_"+n.textures.size;G.put_xwzc9p$(H,T)}if(null!=(O=F.emissiveMap)){var X,K;K=n.textures;var Y=null!=(X=O.name)?X:"tex_"+n.textures.size;K.put_xwzc9p$(Y,O)}if(null!=(E=F.normalMap)){var Z,J;J=n.textures;var Q=null!=(Z=E.name)?Z:"tex_"+n.textures.size;J.put_xwzc9p$(Q,E)}if(null!=(M=F.roughnessMap)){var tt,nt;nt=n.textures;var it=null!=(tt=M.name)?tt:"tex_"+n.textures.size;nt.put_xwzc9p$(it,M)}if(null!=(R=F.metallicMap)){var ot,rt;rt=n.textures;var st=null!=(ot=R.name)?ot:"tex_"+n.textures.size;rt.put_xwzc9p$(st,R)}if(null!=(I=F.occlusionMap)){var at,lt;lt=n.textures;var pt=null!=(at=I.name)?at:"tex_"+n.textures.size;lt.put_xwzc9p$(pt,I)}if(null!=(A=F.displacementMap)){var ut,ct;ct=n.textures;var _t=null!=(ut=A.name)?ut:"tex_"+n.textures.size;ct.put_xwzc9p$(_t,A)}var dt=F;D.v?(dt.isHdrOutput=!0,y.shader=new gb(dt)):(dt.isHdrOutput=!1,y.shader=new Ec(dt))}n.meshes.put_xwzc9p$(f,y)}}}},hx.$metadata$={kind:$,simpleName:"ModelGenerator",interfaces:[]},fx.prototype.fromJson_61zpoe$=function(t){var n,i=Me(void 0,mx);return i.decodeFromString_awif5v$(e.isType(n=Re(i.serializersModule,Oe(Te(ux),[],!1)),Ie)?n:_(),t)},fx.prototype.serializer=function(){return vx()},fx.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var yx=null;function $x(){return null===yx&&new fx,yx}function bx(){this.descriptor_sl1tf8$_0=new xe("de.fabmax.kool.util.gltf.GltfFile",this,15),this.descriptor.addElement_ivxn3r$("extensionsUsed",!0),this.descriptor.addElement_ivxn3r$("extensionsRequired",!0),this.descriptor.addElement_ivxn3r$("accessors",!0),this.descriptor.addElement_ivxn3r$("animations",!0),this.descriptor.addElement_ivxn3r$("asset",!1),this.descriptor.addElement_ivxn3r$("buffers",!0),this.descriptor.addElement_ivxn3r$("bufferViews",!0),this.descriptor.addElement_ivxn3r$("images",!0),this.descriptor.addElement_ivxn3r$("materials",!0),this.descriptor.addElement_ivxn3r$("meshes",!0),this.descriptor.addElement_ivxn3r$("nodes",!0),this.descriptor.addElement_ivxn3r$("scene",!0),this.descriptor.addElement_ivxn3r$("scenes",!0),this.descriptor.addElement_ivxn3r$("skins",!0),this.descriptor.addElement_ivxn3r$("textures",!0),gx=this}Object.defineProperty(bx.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_sl1tf8$_0}}),bx.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.extensionsUsed,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeSerializableElement_r4qlx7$(this.descriptor,0,new ke(ze.StringSerializer),e.extensionsUsed),Dt(e.extensionsRequired,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeSerializableElement_r4qlx7$(this.descriptor,1,new ke(ze.StringSerializer),e.extensionsRequired),Dt(e.accessors,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeSerializableElement_r4qlx7$(this.descriptor,2,new ke(Vg()),e.accessors),Dt(e.animations,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeSerializableElement_r4qlx7$(this.descriptor,3,new ke(Nv()),e.animations),n.encodeSerializableElement_r4qlx7$(this.descriptor,4,Av(),e.asset),Dt(e.buffers,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,5)||n.encodeSerializableElement_r4qlx7$(this.descriptor,5,new ke(tx()),e.buffers),Dt(e.bufferViews,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,6)||n.encodeSerializableElement_r4qlx7$(this.descriptor,6,new ke(lx()),e.bufferViews),Dt(e.images,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,7)||n.encodeSerializableElement_r4qlx7$(this.descriptor,7,new ke(jx()),e.images),Dt(e.materials,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,8)||n.encodeSerializableElement_r4qlx7$(this.descriptor,8,new ke(Wx()),e.materials),Dt(e.meshes,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,9)||n.encodeSerializableElement_r4qlx7$(this.descriptor,9,new ke(aw()),e.meshes),Dt(e.nodes,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,10)||n.encodeSerializableElement_r4qlx7$(this.descriptor,10,new ke(fw()),e.nodes),Dt(e.scene,0)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,11)||n.encodeIntElement_ptg7oe$(this.descriptor,11,e.scene),Dt(e.scenes,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,12)||n.encodeSerializableElement_r4qlx7$(this.descriptor,12,new ke(ww()),e.scenes),Dt(e.skins,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,13)||n.encodeSerializableElement_r4qlx7$(this.descriptor,13,new ke(Pw()),e.skins),Dt(e.textures,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,14)||n.encodeSerializableElement_r4qlx7$(this.descriptor,14,new ke(Bw()),e.textures),n.endStructure_24f42q$(this.descriptor)},bx.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s,a,l,p,u,c,_,h,d,f,m,y=0,$=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=$.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=$.decodeSerializableElement_12e8id$(this.descriptor,0,new ke(ze.StringSerializer),n),y|=1;break;case 1:i=$.decodeSerializableElement_12e8id$(this.descriptor,1,new ke(ze.StringSerializer),i),y|=2;break;case 2:o=$.decodeSerializableElement_12e8id$(this.descriptor,2,new ke(Vg()),o),y|=4;break;case 3:r=$.decodeSerializableElement_12e8id$(this.descriptor,3,new ke(Nv()),r),y|=8;break;case 4:s=$.decodeSerializableElement_12e8id$(this.descriptor,4,Av(),s),y|=16;break;case 5:a=$.decodeSerializableElement_12e8id$(this.descriptor,5,new ke(tx()),a),y|=32;break;case 6:l=$.decodeSerializableElement_12e8id$(this.descriptor,6,new ke(lx()),l),y|=64;break;case 7:p=$.decodeSerializableElement_12e8id$(this.descriptor,7,new ke(jx()),p),y|=128;break;case 8:u=$.decodeSerializableElement_12e8id$(this.descriptor,8,new ke(Wx()),u),y|=256;break;case 9:c=$.decodeSerializableElement_12e8id$(this.descriptor,9,new ke(aw()),c),y|=512;break;case 10:_=$.decodeSerializableElement_12e8id$(this.descriptor,10,new ke(fw()),_),y|=1024;break;case 11:h=$.decodeIntElement_szpzho$(this.descriptor,11),y|=2048;break;case 12:d=$.decodeSerializableElement_12e8id$(this.descriptor,12,new ke(ww()),d),y|=4096;break;case 13:f=$.decodeSerializableElement_12e8id$(this.descriptor,13,new ke(Pw()),f),y|=8192;break;case 14:m=$.decodeSerializableElement_12e8id$(this.descriptor,14,new ke(Bw()),m),y|=16384;break;case-1:break t;default:throw new we(e)}return $.endStructure_24f42q$(this.descriptor),xx(y,n,i,o,r,s,a,l,p,u,c,_,h,d,f,m,null)},bx.prototype.childSerializers=function(){return[new ke(ze.StringSerializer),new ke(ze.StringSerializer),new ke(Vg()),new ke(Nv()),Av(),new ke(tx()),new ke(lx()),new ke(jx()),new ke(Wx()),new ke(aw()),new ke(fw()),ze.IntSerializer,new ke(ww()),new ke(Pw()),new ke(Bw())]},bx.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var gx=null;function vx(){return null===gx&&new bx,gx}function xx(t,e,n,i,o,r,s,a,l,p,u,c,_,h,d,f,m){var y=m||Object.create(ux.prototype);if(y.extensionsUsed=0==(1&t)?jt():e,y.extensionsRequired=0==(2&t)?jt():n,y.accessors=0==(4&t)?jt():i,y.animations=0==(8&t)?jt():o,0==(16&t))throw new Se("asset");return y.asset=r,y.buffers=0==(32&t)?jt():s,y.bufferViews=0==(64&t)?jt():a,y.images=0==(128&t)?jt():l,y.materials=0==(256&t)?jt():p,y.meshes=0==(512&t)?jt():u,y.nodes=0==(1024&t)?jt():c,y.scene=0==(2048&t)?0:_,y.scenes=0==(4096&t)?jt():h,y.skins=0==(8192&t)?jt():d,y.textures=0==(16384&t)?jt():f,y}function wx(t,e,n,i){Sx(),void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=-1),void 0===i&&(i=null),this.uri=t,this.mimeType=e,this.bufferView=n,this.name=i,this.bufferViewRef=null}function zx(){Cx=this}ux.$metadata$={kind:$,simpleName:"GltfFile",interfaces:[]},ux.prototype.component1=function(){return this.extensionsUsed},ux.prototype.component2=function(){return this.extensionsRequired},ux.prototype.component3=function(){return this.accessors},ux.prototype.component4=function(){return this.animations},ux.prototype.component5=function(){return this.asset},ux.prototype.component6=function(){return this.buffers},ux.prototype.component7=function(){return this.bufferViews},ux.prototype.component8=function(){return this.images},ux.prototype.component9=function(){return this.materials},ux.prototype.component10=function(){return this.meshes},ux.prototype.component11=function(){return this.nodes},ux.prototype.component12=function(){return this.scene},ux.prototype.component13=function(){return this.scenes},ux.prototype.component14=function(){return this.skins},ux.prototype.component15=function(){return this.textures},ux.prototype.copy_2qvmcu$=function(t,e,n,i,o,r,s,a,l,p,u,c,_,h,d){return new ux(void 0===t?this.extensionsUsed:t,void 0===e?this.extensionsRequired:e,void 0===n?this.accessors:n,void 0===i?this.animations:i,void 0===o?this.asset:o,void 0===r?this.buffers:r,void 0===s?this.bufferViews:s,void 0===a?this.images:a,void 0===l?this.materials:l,void 0===p?this.meshes:p,void 0===u?this.nodes:u,void 0===c?this.scene:c,void 0===_?this.scenes:_,void 0===h?this.skins:h,void 0===d?this.textures:d)},ux.prototype.toString=function(){return"GltfFile(extensionsUsed="+e.toString(this.extensionsUsed)+", extensionsRequired="+e.toString(this.extensionsRequired)+", accessors="+e.toString(this.accessors)+", animations="+e.toString(this.animations)+", asset="+e.toString(this.asset)+", buffers="+e.toString(this.buffers)+", bufferViews="+e.toString(this.bufferViews)+", images="+e.toString(this.images)+", materials="+e.toString(this.materials)+", meshes="+e.toString(this.meshes)+", nodes="+e.toString(this.nodes)+", scene="+e.toString(this.scene)+", scenes="+e.toString(this.scenes)+", skins="+e.toString(this.skins)+", textures="+e.toString(this.textures)+")"},ux.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.extensionsUsed)|0)+e.hashCode(this.extensionsRequired)|0)+e.hashCode(this.accessors)|0)+e.hashCode(this.animations)|0)+e.hashCode(this.asset)|0)+e.hashCode(this.buffers)|0)+e.hashCode(this.bufferViews)|0)+e.hashCode(this.images)|0)+e.hashCode(this.materials)|0)+e.hashCode(this.meshes)|0)+e.hashCode(this.nodes)|0)+e.hashCode(this.scene)|0)+e.hashCode(this.scenes)|0)+e.hashCode(this.skins)|0)+e.hashCode(this.textures)|0},ux.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.extensionsUsed,t.extensionsUsed)&&e.equals(this.extensionsRequired,t.extensionsRequired)&&e.equals(this.accessors,t.accessors)&&e.equals(this.animations,t.animations)&&e.equals(this.asset,t.asset)&&e.equals(this.buffers,t.buffers)&&e.equals(this.bufferViews,t.bufferViews)&&e.equals(this.images,t.images)&&e.equals(this.materials,t.materials)&&e.equals(this.meshes,t.meshes)&&e.equals(this.nodes,t.nodes)&&e.equals(this.scene,t.scene)&&e.equals(this.scenes,t.scenes)&&e.equals(this.skins,t.skins)&&e.equals(this.textures,t.textures)},zx.prototype.serializer=function(){return jx()},zx.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Cx=null;function Sx(){return null===Cx&&new zx,Cx}function kx(){this.descriptor_bk6hkl$_0=new xe("de.fabmax.kool.util.gltf.GltfImage",this,4),this.descriptor.addElement_ivxn3r$("uri",!0),this.descriptor.addElement_ivxn3r$("mimeType",!0),this.descriptor.addElement_ivxn3r$("bufferView",!0),this.descriptor.addElement_ivxn3r$("name",!0),Lx=this}Object.defineProperty(kx.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_bk6hkl$_0}}),kx.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.uri,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,0,ze.StringSerializer,e.uri),Dt(e.mimeType,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,1,ze.StringSerializer,e.mimeType),Dt(e.bufferView,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeIntElement_ptg7oe$(this.descriptor,2,e.bufferView),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,3,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},kx.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s=0,a=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=a.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=a.decodeNullableSerializableElement_8viuyw$(this.descriptor,0,ze.StringSerializer,n),s|=1;break;case 1:i=a.decodeNullableSerializableElement_8viuyw$(this.descriptor,1,ze.StringSerializer,i),s|=2;break;case 2:o=a.decodeIntElement_szpzho$(this.descriptor,2),s|=4;break;case 3:r=a.decodeNullableSerializableElement_8viuyw$(this.descriptor,3,ze.StringSerializer,r),s|=8;break;case-1:break t;default:throw new we(e)}return a.endStructure_24f42q$(this.descriptor),Nx(s,n,i,o,r,null)},kx.prototype.childSerializers=function(){return[new ge(ze.StringSerializer),new ge(ze.StringSerializer),ze.IntSerializer,new ge(ze.StringSerializer)]},kx.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Lx=null;function jx(){return null===Lx&&new kx,Lx}function Nx(t,e,n,i,o,r){var s=r||Object.create(wx.prototype);return s.uri=0==(1&t)?null:e,s.mimeType=0==(2&t)?null:n,s.bufferView=0==(4&t)?-1:i,s.name=0==(8&t)?null:o,s.bufferViewRef=null,s}function Px(t,e,n,i,o,r,s,a,l){qx(),void 0===t&&(t=null),void 0===e&&(e=new Tx(Rt([.5,.5,.5,1]))),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===s&&(s=qx().ALPHA_MODE_OPAQUE),void 0===a&&(a=.5),void 0===l&&(l=!1),this.name=t,this.pbrMetallicRoughness=e,this.normalTexture=n,this.occlusionTexture=i,this.emissiveTexture=o,this.emissiveFactor=r,this.alphaMode=s,this.alphaCutoff=a,this.doubleSided=l}function Tx(t,e,n,i,o){Mx(),void 0===t&&(t=Rt([1,1,1,1])),void 0===e&&(e=null),void 0===n&&(n=1),void 0===i&&(i=1),void 0===o&&(o=null),this.baseColorFactor=t,this.baseColorTexture=e,this.metallicFactor=n,this.roughnessFactor=i,this.metallicRoughnessTexture=o}function Ox(){Ex=this}wx.$metadata$={kind:$,simpleName:"GltfImage",interfaces:[]},wx.prototype.component1=function(){return this.uri},wx.prototype.component2=function(){return this.mimeType},wx.prototype.component3=function(){return this.bufferView},wx.prototype.component4=function(){return this.name},wx.prototype.copy_82a7yt$=function(t,e,n,i){return new wx(void 0===t?this.uri:t,void 0===e?this.mimeType:e,void 0===n?this.bufferView:n,void 0===i?this.name:i)},wx.prototype.toString=function(){return"GltfImage(uri="+e.toString(this.uri)+", mimeType="+e.toString(this.mimeType)+", bufferView="+e.toString(this.bufferView)+", name="+e.toString(this.name)+")"},wx.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.uri)|0)+e.hashCode(this.mimeType)|0)+e.hashCode(this.bufferView)|0)+e.hashCode(this.name)|0},wx.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.uri,t.uri)&&e.equals(this.mimeType,t.mimeType)&&e.equals(this.bufferView,t.bufferView)&&e.equals(this.name,t.name)},Px.prototype.applyTo_rmmby8$=function(t,e,n){var i,o,r,s,a,l,p,u,c,_,h,d,f=null!=(i=this.pbrMetallicRoughness.baseColorTexture)?i.getTexture_vd9sc9$(n):null,m=null!=(o=this.emissiveTexture)?o.getTexture_vd9sc9$(n):null,y=null!=(r=this.normalTexture)?r.getTexture_vd9sc9$(n):null,$=null!=(s=this.pbrMetallicRoughness.metallicRoughnessTexture)?s.getTexture_vd9sc9$(n):null,b=null!=(a=this.pbrMetallicRoughness.metallicRoughnessTexture)?a.getTexture_vd9sc9$(n):null,g=null!=(l=this.occlusionTexture)?l.getTexture_vd9sc9$(n):null,v=this.pbrMetallicRoughness.baseColorFactor;switch(this.alphaMode){case"BLEND":p=new vc;break;case"MASK":p=new wc(this.alphaCutoff);break;default:p=new xc}t.alphaMode=p,u=this.doubleSided?Tl():Nl(),t.cullMethod=u,c=4===v.size?new N$(v.get_za3lpa$(0),v.get_za3lpa$(1),v.get_za3lpa$(2),v.get_za3lpa$(3)):O$().WHITE,t.albedo=c,e?t.albedoSource=bc():null!=f?(t.albedoSource=$c(),t.albedoMap=f,null!=(_=t.albedo)&&_.equals(O$().WHITE)||(t.isMultiplyAlbedoMap=!0)):t.albedoSource=yc(),null!=m&&(t.isEmissiveMapped=!0,t.emissiveMap=m,null!=this.emissiveFactor&&(t.isMultiplyEmissiveMap=!0)),null!=this.emissiveFactor&&(t.emissive=new N$(this.emissiveFactor.get_za3lpa$(0),this.emissiveFactor.get_za3lpa$(1),this.emissiveFactor.get_za3lpa$(2),1)),null!=y?(t.isNormalMapped=!0,t.normalMap=y):t.isNormalMapped=!1,t.roughness=this.pbrMetallicRoughness.roughnessFactor,null!=b?(t.isRoughnessMapped=!0,t.roughnessMap=b,1!==this.pbrMetallicRoughness.roughnessFactor&&(t.isMultiplyRoughnessMap=!0)):t.isRoughnessMapped=!1,t.metallic=this.pbrMetallicRoughness.metallicFactor,null!=$?(t.isMetallicMapped=!0,t.metallicMap=$,1!==this.pbrMetallicRoughness.metallicFactor&&(t.isMultiplyMetallicMap=!0)):t.isMetallicMapped=!1,null!=g?(t.isOcclusionMapped=!0,t.occlusionMap=g,t.occlusionStrength=null!=(d=null!=(h=this.occlusionTexture)?h.strength:null)?d:1):t.isOcclusionMapped=!1,t.isRoughnessMapped&&(b!==$&&b!==g?(t.roughnessChannel="r",t.roughnessTexName="tRoughness"):(t.roughnessChannel="g",t.roughnessTexName=b===$&&b===g?"tOcclRoughMetal":b===$?"tRoughMetal":"tOcclRough")),t.isMetallicMapped&&($!==b&&$!==g?(t.metallicChannel="r",t.metallicTexName="tMetallic"):(t.metallicChannel="b",$===b&&$===g?t.metallicTexName="tOcclRoughMetal":$===b?t.metallicTexName="tRoughMetal":t.roughnessTexName="tOcclMetal")),t.isOcclusionMapped&&(g!==b&&g!==$?(t.occlusionChannel="r",t.occlusionTexName="tOcclusion"):(t.occlusionChannel="r",g===b&&g===$?t.occlusionTexName="tOcclRoughMetal":t.roughnessTexName=g===b?"tOcclRough":"tOcclMetal"))},Ox.prototype.serializer=function(){return Ax()},Ox.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Ex=null;function Mx(){return null===Ex&&new Ox,Ex}function Rx(){this.descriptor_2b7y8e$_0=new xe("de.fabmax.kool.util.gltf.GltfMaterial.PbrMetallicRoughness",this,5),this.descriptor.addElement_ivxn3r$("baseColorFactor",!0),this.descriptor.addElement_ivxn3r$("baseColorTexture",!0),this.descriptor.addElement_ivxn3r$("metallicFactor",!0),this.descriptor.addElement_ivxn3r$("roughnessFactor",!0),this.descriptor.addElement_ivxn3r$("metallicRoughnessTexture",!0),Ix=this}Object.defineProperty(Rx.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_2b7y8e$_0}}),Rx.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.baseColorFactor,Rt([1,1,1,1]))&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeSerializableElement_r4qlx7$(this.descriptor,0,new ke(ze.FloatSerializer),e.baseColorFactor),Dt(e.baseColorTexture,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,1,Xw(),e.baseColorTexture),Dt(e.metallicFactor,1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeFloatElement_lf6hpt$(this.descriptor,2,e.metallicFactor),Dt(e.roughnessFactor,1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeFloatElement_lf6hpt$(this.descriptor,3,e.roughnessFactor),Dt(e.metallicRoughnessTexture,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,4)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,4,Xw(),e.metallicRoughnessTexture),n.endStructure_24f42q$(this.descriptor)},Rx.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s,a=0,l=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=l.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=l.decodeSerializableElement_12e8id$(this.descriptor,0,new ke(ze.FloatSerializer),n),a|=1;break;case 1:i=l.decodeNullableSerializableElement_8viuyw$(this.descriptor,1,Xw(),i),a|=2;break;case 2:o=l.decodeFloatElement_szpzho$(this.descriptor,2),a|=4;break;case 3:r=l.decodeFloatElement_szpzho$(this.descriptor,3),a|=8;break;case 4:s=l.decodeNullableSerializableElement_8viuyw$(this.descriptor,4,Xw(),s),a|=16;break;case-1:break t;default:throw new we(e)}return l.endStructure_24f42q$(this.descriptor),Dx(a,n,i,o,r,s,null)},Rx.prototype.childSerializers=function(){return[new ke(ze.FloatSerializer),new ge(Xw()),ze.FloatSerializer,ze.FloatSerializer,new ge(Xw())]},Rx.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Ix=null;function Ax(){return null===Ix&&new Rx,Ix}function Dx(t,e,n,i,o,r,s){var a=s||Object.create(Tx.prototype);return a.baseColorFactor=0==(1&t)?Rt([1,1,1,1]):e,a.baseColorTexture=0==(2&t)?null:n,a.metallicFactor=0==(4&t)?1:i,a.roughnessFactor=0==(8&t)?1:o,a.metallicRoughnessTexture=0==(16&t)?null:r,a}function Bx(){Fx=this,this.ALPHA_MODE_BLEND="BLEND",this.ALPHA_MODE_MASK="MASK",this.ALPHA_MODE_OPAQUE="OPAQUE"}Tx.$metadata$={kind:$,simpleName:"PbrMetallicRoughness",interfaces:[]},Tx.prototype.component1=function(){return this.baseColorFactor},Tx.prototype.component2=function(){return this.baseColorTexture},Tx.prototype.component3=function(){return this.metallicFactor},Tx.prototype.component4=function(){return this.roughnessFactor},Tx.prototype.component5=function(){return this.metallicRoughnessTexture},Tx.prototype.copy_x3y116$=function(t,e,n,i,o){return new Tx(void 0===t?this.baseColorFactor:t,void 0===e?this.baseColorTexture:e,void 0===n?this.metallicFactor:n,void 0===i?this.roughnessFactor:i,void 0===o?this.metallicRoughnessTexture:o)},Tx.prototype.toString=function(){return"PbrMetallicRoughness(baseColorFactor="+e.toString(this.baseColorFactor)+", baseColorTexture="+e.toString(this.baseColorTexture)+", metallicFactor="+e.toString(this.metallicFactor)+", roughnessFactor="+e.toString(this.roughnessFactor)+", metallicRoughnessTexture="+e.toString(this.metallicRoughnessTexture)+")"},Tx.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.baseColorFactor)|0)+e.hashCode(this.baseColorTexture)|0)+e.hashCode(this.metallicFactor)|0)+e.hashCode(this.roughnessFactor)|0)+e.hashCode(this.metallicRoughnessTexture)|0},Tx.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.baseColorFactor,t.baseColorFactor)&&e.equals(this.baseColorTexture,t.baseColorTexture)&&e.equals(this.metallicFactor,t.metallicFactor)&&e.equals(this.roughnessFactor,t.roughnessFactor)&&e.equals(this.metallicRoughnessTexture,t.metallicRoughnessTexture)},Bx.prototype.serializer=function(){return Wx()},Bx.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Fx=null;function qx(){return null===Fx&&new Bx,Fx}function Ux(){this.descriptor_esy7m1$_0=new xe("de.fabmax.kool.util.gltf.GltfMaterial",this,9),this.descriptor.addElement_ivxn3r$("name",!0),this.descriptor.addElement_ivxn3r$("pbrMetallicRoughness",!0),this.descriptor.addElement_ivxn3r$("normalTexture",!0),this.descriptor.addElement_ivxn3r$("occlusionTexture",!0),this.descriptor.addElement_ivxn3r$("emissiveTexture",!0),this.descriptor.addElement_ivxn3r$("emissiveFactor",!0),this.descriptor.addElement_ivxn3r$("alphaMode",!0),this.descriptor.addElement_ivxn3r$("alphaCutoff",!0),this.descriptor.addElement_ivxn3r$("doubleSided",!0),Vx=this}Object.defineProperty(Ux.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_esy7m1$_0}}),Ux.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,0,ze.StringSerializer,e.name),Dt(e.pbrMetallicRoughness,new Tx(Rt([.5,.5,.5,1])))&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeSerializableElement_r4qlx7$(this.descriptor,1,Ax(),e.pbrMetallicRoughness),Dt(e.normalTexture,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,2,Xw(),e.normalTexture),Dt(e.occlusionTexture,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,3,Xw(),e.occlusionTexture),Dt(e.emissiveTexture,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,4)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,4,Xw(),e.emissiveTexture),Dt(e.emissiveFactor,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,5)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,5,new ke(ze.FloatSerializer),e.emissiveFactor),Dt(e.alphaMode,qx().ALPHA_MODE_OPAQUE)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,6)||n.encodeStringElement_iij8qq$(this.descriptor,6,e.alphaMode),Dt(e.alphaCutoff,.5)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,7)||n.encodeFloatElement_lf6hpt$(this.descriptor,7,e.alphaCutoff),Dt(e.doubleSided,!1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,8)||n.encodeBooleanElement_qh7jdn$(this.descriptor,8,e.doubleSided),n.endStructure_24f42q$(this.descriptor)},Ux.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s,a,l,p,u,c=0,_=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=_.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=_.decodeNullableSerializableElement_8viuyw$(this.descriptor,0,ze.StringSerializer,n),c|=1;break;case 1:i=_.decodeSerializableElement_12e8id$(this.descriptor,1,Ax(),i),c|=2;break;case 2:o=_.decodeNullableSerializableElement_8viuyw$(this.descriptor,2,Xw(),o),c|=4;break;case 3:r=_.decodeNullableSerializableElement_8viuyw$(this.descriptor,3,Xw(),r),c|=8;break;case 4:s=_.decodeNullableSerializableElement_8viuyw$(this.descriptor,4,Xw(),s),c|=16;break;case 5:a=_.decodeNullableSerializableElement_8viuyw$(this.descriptor,5,new ke(ze.FloatSerializer),a),c|=32;break;case 6:l=_.decodeStringElement_szpzho$(this.descriptor,6),c|=64;break;case 7:p=_.decodeFloatElement_szpzho$(this.descriptor,7),c|=128;break;case 8:u=_.decodeBooleanElement_szpzho$(this.descriptor,8),c|=256;break;case-1:break t;default:throw new we(e)}return _.endStructure_24f42q$(this.descriptor),Gx(c,n,i,o,r,s,a,l,p,u,null)},Ux.prototype.childSerializers=function(){return[new ge(ze.StringSerializer),Ax(),new ge(Xw()),new ge(Xw()),new ge(Xw()),new ge(new ke(ze.FloatSerializer)),ze.StringSerializer,ze.FloatSerializer,ze.BooleanSerializer]},Ux.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Vx=null;function Wx(){return null===Vx&&new Ux,Vx}function Gx(t,e,n,i,o,r,s,a,l,p,u){var c=u||Object.create(Px.prototype);return c.name=0==(1&t)?null:e,c.pbrMetallicRoughness=0==(2&t)?new Tx(Rt([.5,.5,.5,1])):n,c.normalTexture=0==(4&t)?null:i,c.occlusionTexture=0==(8&t)?null:o,c.emissiveTexture=0==(16&t)?null:r,c.emissiveFactor=0==(32&t)?null:s,c.alphaMode=0==(64&t)?qx().ALPHA_MODE_OPAQUE:a,c.alphaCutoff=0==(128&t)?.5:l,c.doubleSided=0!=(256&t)&&p,c}function Hx(t,e,n){ow(),void 0===e&&(e=null),void 0===n&&(n=null),this.primitives=t,this.weights=e,this.name=n}function Xx(t,e,n,i,o){Zx(),void 0===e&&(e=-1),void 0===n&&(n=-1),void 0===i&&(i=4),void 0===o&&(o=jt()),this.attributes=t,this.indices=e,this.material=n,this.mode=i,this.targets=o,this.materialRef=null}function Kx(){Yx=this,this.MODE_POINTS=0,this.MODE_LINES=1,this.MODE_LINE_LOOP=2,this.MODE_LINE_STRIP=3,this.MODE_TRIANGLES=4,this.MODE_TRIANGLE_STRIP=5,this.MODE_TRIANGLE_FAN=6,this.MODE_QUADS=7,this.MODE_QUAD_STRIP=8,this.MODE_POLYGON=9,this.ATTRIBUTE_POSITION="POSITION",this.ATTRIBUTE_NORMAL="NORMAL",this.ATTRIBUTE_TANGENT="TANGENT",this.ATTRIBUTE_TEXCOORD_0="TEXCOORD_0",this.ATTRIBUTE_TEXCOORD_1="TEXCOORD_1",this.ATTRIBUTE_COLOR_0="COLOR_0",this.ATTRIBUTE_JOINTS_0="JOINTS_0",this.ATTRIBUTE_WEIGHTS_0="WEIGHTS_0"}Px.$metadata$={kind:$,simpleName:"GltfMaterial",interfaces:[]},Px.prototype.component1=function(){return this.name},Px.prototype.component2=function(){return this.pbrMetallicRoughness},Px.prototype.component3=function(){return this.normalTexture},Px.prototype.component4=function(){return this.occlusionTexture},Px.prototype.component5=function(){return this.emissiveTexture},Px.prototype.component6=function(){return this.emissiveFactor},Px.prototype.component7=function(){return this.alphaMode},Px.prototype.component8=function(){return this.alphaCutoff},Px.prototype.component9=function(){return this.doubleSided},Px.prototype.copy_rgcvd8$=function(t,e,n,i,o,r,s,a,l){return new Px(void 0===t?this.name:t,void 0===e?this.pbrMetallicRoughness:e,void 0===n?this.normalTexture:n,void 0===i?this.occlusionTexture:i,void 0===o?this.emissiveTexture:o,void 0===r?this.emissiveFactor:r,void 0===s?this.alphaMode:s,void 0===a?this.alphaCutoff:a,void 0===l?this.doubleSided:l)},Px.prototype.toString=function(){return"GltfMaterial(name="+e.toString(this.name)+", pbrMetallicRoughness="+e.toString(this.pbrMetallicRoughness)+", normalTexture="+e.toString(this.normalTexture)+", occlusionTexture="+e.toString(this.occlusionTexture)+", emissiveTexture="+e.toString(this.emissiveTexture)+", emissiveFactor="+e.toString(this.emissiveFactor)+", alphaMode="+e.toString(this.alphaMode)+", alphaCutoff="+e.toString(this.alphaCutoff)+", doubleSided="+e.toString(this.doubleSided)+")"},Px.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.name)|0)+e.hashCode(this.pbrMetallicRoughness)|0)+e.hashCode(this.normalTexture)|0)+e.hashCode(this.occlusionTexture)|0)+e.hashCode(this.emissiveTexture)|0)+e.hashCode(this.emissiveFactor)|0)+e.hashCode(this.alphaMode)|0)+e.hashCode(this.alphaCutoff)|0)+e.hashCode(this.doubleSided)|0},Px.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.name,t.name)&&e.equals(this.pbrMetallicRoughness,t.pbrMetallicRoughness)&&e.equals(this.normalTexture,t.normalTexture)&&e.equals(this.occlusionTexture,t.occlusionTexture)&&e.equals(this.emissiveTexture,t.emissiveTexture)&&e.equals(this.emissiveFactor,t.emissiveFactor)&&e.equals(this.alphaMode,t.alphaMode)&&e.equals(this.alphaCutoff,t.alphaCutoff)&&e.equals(this.doubleSided,t.doubleSided)},Xx.prototype.toGeometry_pfr3gu$=function(t,n){var i,o,r,s,a,l,p,u,c,_,h,d=this.indices>=0?n.get_za3lpa$(this.indices):null,f=null!=(i=this.attributes.get_11rb$(Zx().ATTRIBUTE_POSITION))?n.get_za3lpa$(i):null,m=null!=(o=this.attributes.get_11rb$(Zx().ATTRIBUTE_NORMAL))?n.get_za3lpa$(o):null,y=null!=(r=this.attributes.get_11rb$(Zx().ATTRIBUTE_TANGENT))?n.get_za3lpa$(r):null,$=null!=(s=this.attributes.get_11rb$(Zx().ATTRIBUTE_TEXCOORD_0))?n.get_za3lpa$(s):null,b=null!=(a=this.attributes.get_11rb$(Zx().ATTRIBUTE_COLOR_0))?n.get_za3lpa$(a):null,g=null!=(l=this.attributes.get_11rb$(Zx().ATTRIBUTE_JOINTS_0))?n.get_za3lpa$(l):null,v=null!=(p=this.attributes.get_11rb$(Zx().ATTRIBUTE_WEIGHTS_0))?n.get_za3lpa$(p):null;if(this.attributes.containsKey_11rb$(Zx().ATTRIBUTE_TEXCOORD_1)){var x=Hj.Log,w=vC.WARN,z=e.getKClassFromExpression(this).simpleName;w.level>=x.level.level&&x.printer(w,z,"Second set of UVs is not yet supported and therefore ignored")}if(null==f){var C=Hj.Log,S=vC.WARN,k=e.getKClassFromExpression(this).simpleName;return S.level>=C.level.level&&C.printer(S,k,"MeshPrimitive without position attribute"),Jz([])}var L=!1,j=E(),N=hs().POSITIONS;j.add_11rb$(N);var P=hs().NORMALS;if(j.add_11rb$(P),null!=b){var T=hs().COLORS;j.add_11rb$(T)}if(null!=$){var O=hs().TEXTURE_COORDS;j.add_11rb$(O)}if(null!=y){var M=hs().TANGENTS;j.add_11rb$(M)}else if(null!=(null!=(u=this.materialRef)?u.normalTexture:null)){var R=hs().TANGENTS;j.add_11rb$(R),L=!0}if(null!=g){var I=hs().JOINTS;j.add_11rb$(I)}if(null!=v){var A=hs().WEIGHTS;j.add_11rb$(A)}var D=this.makeMorphTargetAccessors_0(n);zt(j,D.keys);var B=new Uz(j),F=new Yg(f),q=null!=m?new Yg(m):null,U=null!=y?new Zg(y):null,V=null!=$?new Kg($):null,W=null!=b?new Zg(b):null,G=null!=g?new Jg(g):null,H=null!=v?new Zg(v):null;c=f.count;for(var X=0;X<c;X++){var K,Y,Z;B.checkBufferSizes_za3lpa$(),K=B.vertexSizeF;for(var J=1;J<=K;J++)B.dataF.plusAssign_mx4ult$(0);Y=B.vertexSizeI;for(var Q=1;Q<=Y;Q++)B.dataI.plusAssign_za3lpa$(0);B.vertexIt.index=(Z=B.numVertices,B.numVertices=Z+1|0,Z);var tt,et,nt=B.vertexIt;for(F.next_5s4mqq$(nt.position),null!=q&&q.next_5s4mqq$(nt.normal),null!=U&&U.next_5s4mpv$(nt.tangent),null!=V&&V.next_5s4mrl$(nt.texCoord),null!=(tt=null!=W?W.next():null)&&nt.color.set_czzhhz$(tt),null!=G&&G.next_5s4mps$(nt.joints),null!=H&&H.next_5s4mpv$(nt.weights),et=D.entries.iterator();et.hasNext();){var it,ot=et.next(),rt=ot.key,st=ot.value;null!=(it=nt.getVec3fAttribute_nm2vx5$(rt))&&st.next_5s4mqq$(it)}B.bounds.add_czzhiu$(B.vertexIt.position),B.hasChanged=!0,B.numVertices}if(null!=d){var at=new Hg(d);_=d.count;for(var lt=0;lt<_;lt++)B.addIndex_za3lpa$(at.next())}else{h=f.count;for(var pt=0;pt<h;pt++)B.addIndex_za3lpa$(pt)}return L&&B.generateTangents_mx4ult$(),(t||null==m)&&B.generateNormals(),B},Xx.prototype.makeMorphTargetAccessors_0=function(t){var e,n,i=C(),o=0;for(e=this.targets.iterator();e.hasNext();){var r,s,a,l=e.next(),p="_"+(et((o=(n=o)+1|0,n))+1|0);if(null!=(r=l.get_11rb$(Zx().ATTRIBUTE_NORMAL))){var u=new us(hs().NORMALS.name+p,es()),c=new Yg(t.get_za3lpa$(r));i.put_xwzc9p$(u,c)}if(null!=(s=l.get_11rb$(Zx().ATTRIBUTE_POSITION))){var _=new us(hs().POSITIONS.name+p,es()),h=new Yg(t.get_za3lpa$(s));i.put_xwzc9p$(_,h)}if(null!=(a=l.get_11rb$(Zx().ATTRIBUTE_TANGENT))){var d=new us(hs().TANGENTS.name+p,es()),f=new Yg(t.get_za3lpa$(a));i.put_xwzc9p$(d,f)}}return i},Kx.prototype.serializer=function(){return tw()},Kx.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Yx=null;function Zx(){return null===Yx&&new Kx,Yx}function Jx(){this.descriptor_6bhnca$_0=new xe("de.fabmax.kool.util.gltf.GltfMesh.Primitive",this,5),this.descriptor.addElement_ivxn3r$("attributes",!1),this.descriptor.addElement_ivxn3r$("indices",!0),this.descriptor.addElement_ivxn3r$("material",!0),this.descriptor.addElement_ivxn3r$("mode",!0),this.descriptor.addElement_ivxn3r$("targets",!0),Qx=this}Object.defineProperty(Jx.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_6bhnca$_0}}),Jx.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeSerializableElement_r4qlx7$(this.descriptor,0,new Ae(ze.StringSerializer,ze.IntSerializer),e.attributes),Dt(e.indices,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeIntElement_ptg7oe$(this.descriptor,1,e.indices),Dt(e.material,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeIntElement_ptg7oe$(this.descriptor,2,e.material),Dt(e.mode,4)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeIntElement_ptg7oe$(this.descriptor,3,e.mode),Dt(e.targets,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,4)||n.encodeSerializableElement_r4qlx7$(this.descriptor,4,new ke(new Ae(ze.StringSerializer,ze.IntSerializer)),e.targets),n.endStructure_24f42q$(this.descriptor)},Jx.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s,a=0,l=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=l.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=l.decodeSerializableElement_12e8id$(this.descriptor,0,new Ae(ze.StringSerializer,ze.IntSerializer),n),a|=1;break;case 1:i=l.decodeIntElement_szpzho$(this.descriptor,1),a|=2;break;case 2:o=l.decodeIntElement_szpzho$(this.descriptor,2),a|=4;break;case 3:r=l.decodeIntElement_szpzho$(this.descriptor,3),a|=8;break;case 4:s=l.decodeSerializableElement_12e8id$(this.descriptor,4,new ke(new Ae(ze.StringSerializer,ze.IntSerializer)),s),a|=16;break;case-1:break t;default:throw new we(e)}return l.endStructure_24f42q$(this.descriptor),ew(a,n,i,o,r,s,null)},Jx.prototype.childSerializers=function(){return[new Ae(ze.StringSerializer,ze.IntSerializer),ze.IntSerializer,ze.IntSerializer,ze.IntSerializer,new ke(new Ae(ze.StringSerializer,ze.IntSerializer))]},Jx.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Qx=null;function tw(){return null===Qx&&new Jx,Qx}function ew(t,e,n,i,o,r,s){var a=s||Object.create(Xx.prototype);if(0==(1&t))throw new Se("attributes");return a.attributes=e,a.indices=0==(2&t)?-1:n,a.material=0==(4&t)?-1:i,a.mode=0==(8&t)?4:o,a.targets=0==(16&t)?jt():r,a.materialRef=null,a}function nw(){iw=this}Xx.$metadata$={kind:$,simpleName:"Primitive",interfaces:[]},Xx.prototype.component1=function(){return this.attributes},Xx.prototype.component2=function(){return this.indices},Xx.prototype.component3=function(){return this.material},Xx.prototype.component4=function(){return this.mode},Xx.prototype.component5=function(){return this.targets},Xx.prototype.copy_nzvr0p$=function(t,e,n,i,o){return new Xx(void 0===t?this.attributes:t,void 0===e?this.indices:e,void 0===n?this.material:n,void 0===i?this.mode:i,void 0===o?this.targets:o)},Xx.prototype.toString=function(){return"Primitive(attributes="+e.toString(this.attributes)+", indices="+e.toString(this.indices)+", material="+e.toString(this.material)+", mode="+e.toString(this.mode)+", targets="+e.toString(this.targets)+")"},Xx.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.attributes)|0)+e.hashCode(this.indices)|0)+e.hashCode(this.material)|0)+e.hashCode(this.mode)|0)+e.hashCode(this.targets)|0},Xx.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.attributes,t.attributes)&&e.equals(this.indices,t.indices)&&e.equals(this.material,t.material)&&e.equals(this.mode,t.mode)&&e.equals(this.targets,t.targets)},nw.prototype.serializer=function(){return aw()},nw.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var iw=null;function ow(){return null===iw&&new nw,iw}function rw(){this.descriptor_82b5j7$_0=new xe("de.fabmax.kool.util.gltf.GltfMesh",this,3),this.descriptor.addElement_ivxn3r$("primitives",!1),this.descriptor.addElement_ivxn3r$("weights",!0),this.descriptor.addElement_ivxn3r$("name",!0),sw=this}Object.defineProperty(rw.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_82b5j7$_0}}),rw.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeSerializableElement_r4qlx7$(this.descriptor,0,new ke(tw()),e.primitives),Dt(e.weights,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,1,new ke(ze.FloatSerializer),e.weights),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,2,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},rw.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r=0,s=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=s.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=s.decodeSerializableElement_12e8id$(this.descriptor,0,new ke(tw()),n),r|=1;break;case 1:i=s.decodeNullableSerializableElement_8viuyw$(this.descriptor,1,new ke(ze.FloatSerializer),i),r|=2;break;case 2:o=s.decodeNullableSerializableElement_8viuyw$(this.descriptor,2,ze.StringSerializer,o),r|=4;break;case-1:break t;default:throw new we(e)}return s.endStructure_24f42q$(this.descriptor),lw(r,n,i,o,null)},rw.prototype.childSerializers=function(){return[new ke(tw()),new ge(new ke(ze.FloatSerializer)),new ge(ze.StringSerializer)]},rw.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var sw=null;function aw(){return null===sw&&new rw,sw}function lw(t,e,n,i,o){var r=o||Object.create(Hx.prototype);if(0==(1&t))throw new Se("primitives");return r.primitives=e,r.weights=0==(2&t)?null:n,r.name=0==(4&t)?null:i,r}function pw(t,e,n,i,o,r,s,a,l,p){_w(),void 0===t&&(t=-1),void 0===e&&(e=jt()),void 0===n&&(n=-1),void 0===i&&(i=null),void 0===o&&(o=-1),void 0===r&&(r=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=null),void 0===p&&(p=null),this.camera=t,this.children=e,this.skin=n,this.matrix=i,this.mesh=o,this.rotation=r,this.scale=s,this.translation=a,this.weights=l,this.name=p,this.childRefs_cmm67z$_0=this.childRefs_cmm67z$_0,this.meshRef=null,this.skinRef=null}function uw(){cw=this}Hx.$metadata$={kind:$,simpleName:"GltfMesh",interfaces:[]},Hx.prototype.component1=function(){return this.primitives},Hx.prototype.component2=function(){return this.weights},Hx.prototype.component3=function(){return this.name},Hx.prototype.copy_fdi4sq$=function(t,e,n){return new Hx(void 0===t?this.primitives:t,void 0===e?this.weights:e,void 0===n?this.name:n)},Hx.prototype.toString=function(){return"GltfMesh(primitives="+e.toString(this.primitives)+", weights="+e.toString(this.weights)+", name="+e.toString(this.name)+")"},Hx.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*t+e.hashCode(this.primitives)|0)+e.hashCode(this.weights)|0)+e.hashCode(this.name)|0},Hx.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.primitives,t.primitives)&&e.equals(this.weights,t.weights)&&e.equals(this.name,t.name)},Object.defineProperty(pw.prototype,"childRefs",{configurable:!0,get:function(){return null==this.childRefs_cmm67z$_0?_t("childRefs"):this.childRefs_cmm67z$_0},set:function(t){this.childRefs_cmm67z$_0=t}}),uw.prototype.serializer=function(){return fw()},uw.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var cw=null;function _w(){return null===cw&&new uw,cw}function hw(){this.descriptor_t10j82$_0=new xe("de.fabmax.kool.util.gltf.GltfNode",this,10),this.descriptor.addElement_ivxn3r$("camera",!0),this.descriptor.addElement_ivxn3r$("children",!0),this.descriptor.addElement_ivxn3r$("skin",!0),this.descriptor.addElement_ivxn3r$("matrix",!0),this.descriptor.addElement_ivxn3r$("mesh",!0),this.descriptor.addElement_ivxn3r$("rotation",!0),this.descriptor.addElement_ivxn3r$("scale",!0),this.descriptor.addElement_ivxn3r$("translation",!0),this.descriptor.addElement_ivxn3r$("weights",!0),this.descriptor.addElement_ivxn3r$("name",!0),dw=this}Object.defineProperty(hw.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_t10j82$_0}}),hw.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.camera,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeIntElement_ptg7oe$(this.descriptor,0,e.camera),Dt(e.children,jt())&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeSerializableElement_r4qlx7$(this.descriptor,1,new ke(ze.IntSerializer),e.children),Dt(e.skin,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeIntElement_ptg7oe$(this.descriptor,2,e.skin),Dt(e.matrix,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,3,new ke(ze.FloatSerializer),e.matrix),Dt(e.mesh,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,4)||n.encodeIntElement_ptg7oe$(this.descriptor,4,e.mesh),Dt(e.rotation,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,5)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,5,new ke(ze.FloatSerializer),e.rotation),Dt(e.scale,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,6)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,6,new ke(ze.FloatSerializer),e.scale),Dt(e.translation,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,7)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,7,new ke(ze.FloatSerializer),e.translation),Dt(e.weights,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,8)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,8,new ke(ze.FloatSerializer),e.weights),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,9)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,9,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},hw.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s,a,l,p,u,c,_=0,h=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=h.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=h.decodeIntElement_szpzho$(this.descriptor,0),_|=1;break;case 1:i=h.decodeSerializableElement_12e8id$(this.descriptor,1,new ke(ze.IntSerializer),i),_|=2;break;case 2:o=h.decodeIntElement_szpzho$(this.descriptor,2),_|=4;break;case 3:r=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,3,new ke(ze.FloatSerializer),r),_|=8;break;case 4:s=h.decodeIntElement_szpzho$(this.descriptor,4),_|=16;break;case 5:a=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,5,new ke(ze.FloatSerializer),a),_|=32;break;case 6:l=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,6,new ke(ze.FloatSerializer),l),_|=64;break;case 7:p=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,7,new ke(ze.FloatSerializer),p),_|=128;break;case 8:u=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,8,new ke(ze.FloatSerializer),u),_|=256;break;case 9:c=h.decodeNullableSerializableElement_8viuyw$(this.descriptor,9,ze.StringSerializer,c),_|=512;break;case-1:break t;default:throw new we(e)}return h.endStructure_24f42q$(this.descriptor),mw(_,n,i,o,r,s,a,l,p,u,c,null)},hw.prototype.childSerializers=function(){return[ze.IntSerializer,new ke(ze.IntSerializer),ze.IntSerializer,new ge(new ke(ze.FloatSerializer)),ze.IntSerializer,new ge(new ke(ze.FloatSerializer)),new ge(new ke(ze.FloatSerializer)),new ge(new ke(ze.FloatSerializer)),new ge(new ke(ze.FloatSerializer)),new ge(ze.StringSerializer)]},hw.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var dw=null;function fw(){return null===dw&&new hw,dw}function mw(t,e,n,i,o,r,s,a,l,p,u,c){var _=c||Object.create(pw.prototype);return _.camera=0==(1&t)?-1:e,_.children=0==(2&t)?jt():n,_.skin=0==(4&t)?-1:i,_.matrix=0==(8&t)?null:o,_.mesh=0==(16&t)?-1:r,_.rotation=0==(32&t)?null:s,_.scale=0==(64&t)?null:a,_.translation=0==(128&t)?null:l,_.weights=0==(256&t)?null:p,_.name=0==(512&t)?null:u,_.meshRef=null,_.skinRef=null,_}function yw(t,e){gw(),void 0===e&&(e=null),this.nodes=t,this.name=e,this.nodeRefs_fy674b$_0=this.nodeRefs_fy674b$_0}function $w(){bw=this}pw.$metadata$={kind:$,simpleName:"GltfNode",interfaces:[]},pw.prototype.component1=function(){return this.camera},pw.prototype.component2=function(){return this.children},pw.prototype.component3=function(){return this.skin},pw.prototype.component4=function(){return this.matrix},pw.prototype.component5=function(){return this.mesh},pw.prototype.component6=function(){return this.rotation},pw.prototype.component7=function(){return this.scale},pw.prototype.component8=function(){return this.translation},pw.prototype.component9=function(){return this.weights},pw.prototype.component10=function(){return this.name},pw.prototype.copy_gbbj5h$=function(t,e,n,i,o,r,s,a,l,p){return new pw(void 0===t?this.camera:t,void 0===e?this.children:e,void 0===n?this.skin:n,void 0===i?this.matrix:i,void 0===o?this.mesh:o,void 0===r?this.rotation:r,void 0===s?this.scale:s,void 0===a?this.translation:a,void 0===l?this.weights:l,void 0===p?this.name:p)},pw.prototype.toString=function(){return"GltfNode(camera="+e.toString(this.camera)+", children="+e.toString(this.children)+", skin="+e.toString(this.skin)+", matrix="+e.toString(this.matrix)+", mesh="+e.toString(this.mesh)+", rotation="+e.toString(this.rotation)+", scale="+e.toString(this.scale)+", translation="+e.toString(this.translation)+", weights="+e.toString(this.weights)+", name="+e.toString(this.name)+")"},pw.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.camera)|0)+e.hashCode(this.children)|0)+e.hashCode(this.skin)|0)+e.hashCode(this.matrix)|0)+e.hashCode(this.mesh)|0)+e.hashCode(this.rotation)|0)+e.hashCode(this.scale)|0)+e.hashCode(this.translation)|0)+e.hashCode(this.weights)|0)+e.hashCode(this.name)|0},pw.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.camera,t.camera)&&e.equals(this.children,t.children)&&e.equals(this.skin,t.skin)&&e.equals(this.matrix,t.matrix)&&e.equals(this.mesh,t.mesh)&&e.equals(this.rotation,t.rotation)&&e.equals(this.scale,t.scale)&&e.equals(this.translation,t.translation)&&e.equals(this.weights,t.weights)&&e.equals(this.name,t.name)},Object.defineProperty(yw.prototype,"nodeRefs",{configurable:!0,get:function(){return null==this.nodeRefs_fy674b$_0?_t("nodeRefs"):this.nodeRefs_fy674b$_0},set:function(t){this.nodeRefs_fy674b$_0=t}}),$w.prototype.serializer=function(){return ww()},$w.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var bw=null;function gw(){return null===bw&&new $w,bw}function vw(){this.descriptor_mfdw2u$_0=new xe("de.fabmax.kool.util.gltf.GltfScene",this,2),this.descriptor.addElement_ivxn3r$("nodes",!1),this.descriptor.addElement_ivxn3r$("name",!0),xw=this}Object.defineProperty(vw.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_mfdw2u$_0}}),vw.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeSerializableElement_r4qlx7$(this.descriptor,0,new ke(ze.IntSerializer),e.nodes),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,1,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},vw.prototype.deserialize_bq71mq$=function(t){var e,n,i,o=0,r=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=r.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=r.decodeSerializableElement_12e8id$(this.descriptor,0,new ke(ze.IntSerializer),n),o|=1;break;case 1:i=r.decodeNullableSerializableElement_8viuyw$(this.descriptor,1,ze.StringSerializer,i),o|=2;break;case-1:break t;default:throw new we(e)}return r.endStructure_24f42q$(this.descriptor),zw(o,n,i,null)},vw.prototype.childSerializers=function(){return[new ke(ze.IntSerializer),new ge(ze.StringSerializer)]},vw.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var xw=null;function ww(){return null===xw&&new vw,xw}function zw(t,e,n,i){var o=i||Object.create(yw.prototype);if(0==(1&t))throw new Se("nodes");return o.nodes=e,o.name=0==(2&t)?null:n,o}function Cw(t,e,n,i){Lw(),void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=null),this.inverseBindMatrices=t,this.skeleton=e,this.joints=n,this.name=i,this.inverseBindMatrixAccessorRef=null,this.jointRefs_tdme4q$_0=this.jointRefs_tdme4q$_0}function Sw(){kw=this}yw.$metadata$={kind:$,simpleName:"GltfScene",interfaces:[]},yw.prototype.component1=function(){return this.nodes},yw.prototype.component2=function(){return this.name},yw.prototype.copy_jfrl1g$=function(t,e){return new yw(void 0===t?this.nodes:t,void 0===e?this.name:e)},yw.prototype.toString=function(){return"GltfScene(nodes="+e.toString(this.nodes)+", name="+e.toString(this.name)+")"},yw.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.nodes)|0)+e.hashCode(this.name)|0},yw.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.nodes,t.nodes)&&e.equals(this.name,t.name)},Object.defineProperty(Cw.prototype,"jointRefs",{configurable:!0,get:function(){return null==this.jointRefs_tdme4q$_0?_t("jointRefs"):this.jointRefs_tdme4q$_0},set:function(t){this.jointRefs_tdme4q$_0=t}}),Sw.prototype.serializer=function(){return Pw()},Sw.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var kw=null;function Lw(){return null===kw&&new Sw,kw}function jw(){this.descriptor_73xgz7$_0=new xe("de.fabmax.kool.util.gltf.GltfSkin",this,4),this.descriptor.addElement_ivxn3r$("inverseBindMatrices",!0),this.descriptor.addElement_ivxn3r$("skeleton",!0),this.descriptor.addElement_ivxn3r$("joints",!1),this.descriptor.addElement_ivxn3r$("name",!0),Nw=this}Object.defineProperty(jw.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_73xgz7$_0}}),jw.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.inverseBindMatrices,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeIntElement_ptg7oe$(this.descriptor,0,e.inverseBindMatrices),Dt(e.skeleton,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeIntElement_ptg7oe$(this.descriptor,1,e.skeleton),n.encodeSerializableElement_r4qlx7$(this.descriptor,2,new ke(ze.IntSerializer),e.joints),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,3,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},jw.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s=0,a=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=a.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=a.decodeIntElement_szpzho$(this.descriptor,0),s|=1;break;case 1:i=a.decodeIntElement_szpzho$(this.descriptor,1),s|=2;break;case 2:o=a.decodeSerializableElement_12e8id$(this.descriptor,2,new ke(ze.IntSerializer),o),s|=4;break;case 3:r=a.decodeNullableSerializableElement_8viuyw$(this.descriptor,3,ze.StringSerializer,r),s|=8;break;case-1:break t;default:throw new we(e)}return a.endStructure_24f42q$(this.descriptor),Tw(s,n,i,o,r,null)},jw.prototype.childSerializers=function(){return[ze.IntSerializer,ze.IntSerializer,new ke(ze.IntSerializer),new ge(ze.StringSerializer)]},jw.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Nw=null;function Pw(){return null===Nw&&new jw,Nw}function Tw(t,e,n,i,o,r){var s=r||Object.create(Cw.prototype);if(s.inverseBindMatrices=0==(1&t)?-1:e,s.skeleton=0==(2&t)?-1:n,0==(4&t))throw new Se("joints");return s.joints=i,s.name=0==(8&t)?null:o,s.inverseBindMatrixAccessorRef=null,s}function Ow(t,e,n){Iw(),void 0===t&&(t=-1),void 0===e&&(e=0),void 0===n&&(n=null),this.sampler=t,this.source=e,this.name=n,this.imageRef_gjfsvw$_0=this.imageRef_gjfsvw$_0,this.createdTex_0=null}function Ew(t,e,n,i,o,r){p.call(this,r),this.$controller=o,this.exceptionState_0=1,this.local$closure$uri=t,this.local$this$GltfTexture=e,this.local$assetMgr=i}function Mw(){Rw=this}Cw.$metadata$={kind:$,simpleName:"GltfSkin",interfaces:[]},Cw.prototype.component1=function(){return this.inverseBindMatrices},Cw.prototype.component2=function(){return this.skeleton},Cw.prototype.component3=function(){return this.joints},Cw.prototype.component4=function(){return this.name},Cw.prototype.copy_1a8yv8$=function(t,e,n,i){return new Cw(void 0===t?this.inverseBindMatrices:t,void 0===e?this.skeleton:e,void 0===n?this.joints:n,void 0===i?this.name:i)},Cw.prototype.toString=function(){return"GltfSkin(inverseBindMatrices="+e.toString(this.inverseBindMatrices)+", skeleton="+e.toString(this.skeleton)+", joints="+e.toString(this.joints)+", name="+e.toString(this.name)+")"},Cw.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.inverseBindMatrices)|0)+e.hashCode(this.skeleton)|0)+e.hashCode(this.joints)|0)+e.hashCode(this.name)|0},Cw.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.inverseBindMatrices,t.inverseBindMatrices)&&e.equals(this.skeleton,t.skeleton)&&e.equals(this.joints,t.joints)&&e.equals(this.name,t.name)},Object.defineProperty(Ow.prototype,"imageRef",{configurable:!0,get:function(){return null==this.imageRef_gjfsvw$_0?_t("imageRef"):this.imageRef_gjfsvw$_0},set:function(t){this.imageRef_gjfsvw$_0=t}}),Ew.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},Ew.prototype=Object.create(p.prototype),Ew.prototype.constructor=Ew,Ew.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(null!=this.local$closure$uri){if(this.state_0=3,this.result_0=this.local$assetMgr.loadTextureData_9n4zzi$(this.local$closure$uri,void 0,this),this.result_0===l)return l;continue}if(this.state_0=2,this.result_0=this.local$assetMgr.createTextureData_asds6l$(w(this.local$this$GltfTexture.imageRef.bufferViewRef).getData(),w(this.local$this$GltfTexture.imageRef.mimeType),this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:case 3:return this.result_0;case 4:return;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Ow.prototype.makeTexture=function(){var t,e;if(null==this.createdTex_0){var n=this.imageRef.uri,i=null==n||u(n,"data:",!0)?"gltf_tex_"+this.source:n;this.createdTex_0=new j_(new G_,i,(t=n,e=this,function(n,i,o,r){var s=new Ew(t,e,n,i,this,o);return r?s:s.doResume(null)}))}return w(this.createdTex_0)},Mw.prototype.serializer=function(){return Bw()},Mw.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Rw=null;function Iw(){return null===Rw&&new Mw,Rw}function Aw(){this.descriptor_grd8gb$_0=new xe("de.fabmax.kool.util.gltf.GltfTexture",this,3),this.descriptor.addElement_ivxn3r$("sampler",!0),this.descriptor.addElement_ivxn3r$("source",!0),this.descriptor.addElement_ivxn3r$("name",!0),Dw=this}Object.defineProperty(Aw.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_grd8gb$_0}}),Aw.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);Dt(e.sampler,-1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,0)||n.encodeIntElement_ptg7oe$(this.descriptor,0,e.sampler),Dt(e.source,0)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeIntElement_ptg7oe$(this.descriptor,1,e.source),Dt(e.name,null)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeNullableSerializableElement_qw92s8$(this.descriptor,2,ze.StringSerializer,e.name),n.endStructure_24f42q$(this.descriptor)},Aw.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r=0,s=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=s.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=s.decodeIntElement_szpzho$(this.descriptor,0),r|=1;break;case 1:i=s.decodeIntElement_szpzho$(this.descriptor,1),r|=2;break;case 2:o=s.decodeNullableSerializableElement_8viuyw$(this.descriptor,2,ze.StringSerializer,o),r|=4;break;case-1:break t;default:throw new we(e)}return s.endStructure_24f42q$(this.descriptor),Fw(r,n,i,o,null)},Aw.prototype.childSerializers=function(){return[ze.IntSerializer,ze.IntSerializer,new ge(ze.StringSerializer)]},Aw.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Dw=null;function Bw(){return null===Dw&&new Aw,Dw}function Fw(t,e,n,i,o){var r=o||Object.create(Ow.prototype);return r.sampler=0==(1&t)?-1:e,r.source=0==(2&t)?0:n,r.name=0==(4&t)?null:i,r.createdTex_0=null,r}function qw(t,e,n,i){Ww(),void 0===e&&(e=1),void 0===n&&(n=0),void 0===i&&(i=1),this.index=t,this.strength=e,this.texCoord=n,this.scale=i}function Uw(){Vw=this}Ow.$metadata$={kind:$,simpleName:"GltfTexture",interfaces:[]},Ow.prototype.component1=function(){return this.sampler},Ow.prototype.component2=function(){return this.source},Ow.prototype.component3=function(){return this.name},Ow.prototype.copy_273qip$=function(t,e,n){return new Ow(void 0===t?this.sampler:t,void 0===e?this.source:e,void 0===n?this.name:n)},Ow.prototype.toString=function(){return"GltfTexture(sampler="+e.toString(this.sampler)+", source="+e.toString(this.source)+", name="+e.toString(this.name)+")"},Ow.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*t+e.hashCode(this.sampler)|0)+e.hashCode(this.source)|0)+e.hashCode(this.name)|0},Ow.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.sampler,t.sampler)&&e.equals(this.source,t.source)&&e.equals(this.name,t.name)},qw.prototype.getTexture_vd9sc9$=function(t){return t.textures.get_za3lpa$(this.index).makeTexture()},Uw.prototype.serializer=function(){return Xw()},Uw.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Vw=null;function Ww(){return null===Vw&&new Uw,Vw}function Gw(){this.descriptor_yo1hoj$_0=new xe("de.fabmax.kool.util.gltf.GltfTextureInfo",this,4),this.descriptor.addElement_ivxn3r$("index",!1),this.descriptor.addElement_ivxn3r$("strength",!0),this.descriptor.addElement_ivxn3r$("texCoord",!0),this.descriptor.addElement_ivxn3r$("scale",!0),Hw=this}Object.defineProperty(Gw.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_yo1hoj$_0}}),Gw.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeIntElement_ptg7oe$(this.descriptor,0,e.index),Dt(e.strength,1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,1)||n.encodeFloatElement_lf6hpt$(this.descriptor,1,e.strength),Dt(e.texCoord,0)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,2)||n.encodeIntElement_ptg7oe$(this.descriptor,2,e.texCoord),Dt(e.scale,1)&&!n.shouldEncodeElementDefault_szpzho$(this.descriptor,3)||n.encodeFloatElement_lf6hpt$(this.descriptor,3,e.scale),n.endStructure_24f42q$(this.descriptor)},Gw.prototype.deserialize_bq71mq$=function(t){var e,n,i,o,r,s=0,a=t.beginStructure_24f42q$(this.descriptor);t:for(;;)switch(e=a.decodeElementIndex_24f42q$(this.descriptor)){case 0:n=a.decodeIntElement_szpzho$(this.descriptor,0),s|=1;break;case 1:i=a.decodeFloatElement_szpzho$(this.descriptor,1),s|=2;break;case 2:o=a.decodeIntElement_szpzho$(this.descriptor,2),s|=4;break;case 3:r=a.decodeFloatElement_szpzho$(this.descriptor,3),s|=8;break;case-1:break t;default:throw new we(e)}return a.endStructure_24f42q$(this.descriptor),Kw(s,n,i,o,r,null)},Gw.prototype.childSerializers=function(){return[ze.IntSerializer,ze.FloatSerializer,ze.IntSerializer,ze.FloatSerializer]},Gw.$metadata$={kind:b,simpleName:"$serializer",interfaces:[Ce]};var Hw=null;function Xw(){return null===Hw&&new Gw,Hw}function Kw(t,e,n,i,o,r){var s=r||Object.create(qw.prototype);if(0==(1&t))throw new Se("index");return s.index=e,s.strength=0==(2&t)?1:n,s.texCoord=0==(4&t)?0:i,s.scale=0==(8&t)?1:o,s}function Yw(t){var n,i=new ad,o=new ua;o.name="BrdfLutPass",o.setSize_vux9f0$(512,512),o.addColorTexture_farcsl$(f_()),o.clearDepthTexture(),ya.call(this,i,new pa(o)),this.isAutoRemove=!0,this.clearColor=null;var r=new Qh;r.projCorrectionMode=Jh(),r.isKeepAspectRatio=!1,r.left=0,r.right=1,r.top=1,r.bottom=0,this.camera=r;var s=e.isType(n=this.drawNode,ad)?n:_(),l=new $d(new Uz(Rt([hs().POSITIONS,hs().TEXTURE_COORDS])),null);l.generate_v2sixm$(Jw);var p=new tu("BRDF LUT"),u={v:null},c=new nu(p);u.v=c.stageInterfaceNode_iikjwn$("ifTexCoords",c.attrTexCoords().output),c.positionOutput=c.simpleVertexPositionNode().outVec4;var h=new iu(p),d=h.addNode_u9w9by$(new Zw(h.stage));d.inTexCoords=u.v.output;var f=d;h.colorOutput_a3v4si$(f.outColor);var m,y,$=p;l.shader=new zc($),s.unaryPlus_uv0sim$(l),this.onAfterDraw.add_11rb$((m=this,y=t,function(t){var n=m,i=Hj.Log,o=vC.DEBUG,r=e.getKClassFromExpression(n).simpleName;return o.level>=i.level.level&&i.printer(o,r,"Generated BRDF look-up table"),m.isAutoRemove?(y.removeOffscreenPass_m1c2kf$(m),t.runDelayed_hd6vpk$(1,function(t,e){return function(n){return e.dispose_aemszp$(t),a}}(t,m))):m.isEnabled=!1,a}))}function Zw(t){ou.call(this,"brdfLut",t),this.inTexCoords=new ru(new Tp(lo().ZERO)),this.outColor=new ru(new zp("brdfLut_outColor"),this)}function Jw(t){var e=new FC;return e.size.set_dleff0$(1,1),e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function Qw(){nz=this}function tz(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$bgColor=t}function ez(t,e,n,i,o,r){p.call(this,r),this.exceptionState_0=1,this.$this=t,this.local$scene=e,this.local$hdriPath=n,this.local$assetManager=i,this.local$autoDispose=o}qw.$metadata$={kind:$,simpleName:"GltfTextureInfo",interfaces:[]},qw.prototype.component1=function(){return this.index},qw.prototype.component2=function(){return this.strength},qw.prototype.component3=function(){return this.texCoord},qw.prototype.component4=function(){return this.scale},qw.prototype.copy_scorqy$=function(t,e,n,i){return new qw(void 0===t?this.index:t,void 0===e?this.strength:e,void 0===n?this.texCoord:n,void 0===i?this.scale:i)},qw.prototype.toString=function(){return"GltfTextureInfo(index="+e.toString(this.index)+", strength="+e.toString(this.strength)+", texCoord="+e.toString(this.texCoord)+", scale="+e.toString(this.scale)+")"},qw.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.index)|0)+e.hashCode(this.strength)|0)+e.hashCode(this.texCoord)|0)+e.hashCode(this.scale)|0},qw.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.index,t.index)&&e.equals(this.strength,t.strength)&&e.equals(this.texCoord,t.texCoord)&&e.equals(this.scale,t.scale)},Yw.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),ya.prototype.dispose_aemszp$.call(this,t)},Zw.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inTexCoords)},Zw.prototype.generateCode_626509$=function(t){ou.prototype.generateCode_626509$.call(this,t),t.appendFunction_puj7f4$("brdfLut","\n                float RadicalInverse_VdC(uint bits) {\n                    bits = (bits << 16u) | (bits >> 16u);\n                    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n                    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n                    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n                    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n                    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\n                }\n                \n                vec2 Hammersley(uint i, uint N) {\n                    return vec2(float(i)/float(N), RadicalInverse_VdC(i));\n                }\n                \n                vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness) {\n                    float a = roughness*roughness;\n                    \n                    float phi = 2.0 * 3.141592653589793 * Xi.x;\n                    float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a*a - 1.0) * Xi.y));\n                    float sinTheta = sqrt(1.0 - cosTheta*cosTheta);\n                    \n                    // from spherical coordinates to cartesian coordinates\n                    vec3 H;\n                    H.x = cos(phi) * sinTheta;\n                    H.y = sin(phi) * sinTheta;\n                    H.z = cosTheta;\n                    \n                    // from tangent-space vector to world-space sample vector\n                    vec3 up = abs(N.z) < 0.9999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\n                    vec3 tangent = normalize(cross(up, N));\n                    vec3 bitangent = cross(N, tangent);\n                    \n                    vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\n                    return normalize(sampleVec);\n                }\n                \n                float GeometrySchlickGGX(float NdotV, float roughness) {\n                    float a = roughness;\n                    float k = (a * a) / 2.0;\n                \n                    float nom   = NdotV;\n                    float denom = NdotV * (1.0 - k) + k;\n                \n                    return nom / denom;\n                }\n                \n                float GeometrySmith(vec3 N, vec3 V, vec3 L, float roughness) {\n                    float NdotV = max(dot(N, V), 0.0);\n                    float NdotL = max(dot(N, L), 0.0);\n                    float ggx2 = GeometrySchlickGGX(NdotV, roughness);\n                    float ggx1 = GeometrySchlickGGX(NdotL, roughness);\n                \n                    return ggx1 * ggx2;\n                }\n                \n                vec2 IntegrateBRDF(float NdotV, float roughness) {\n                    vec3 V;\n                    V.x = sqrt(1.0 - NdotV*NdotV);\n                    V.y = 0.0;\n                    V.z = NdotV;\n                \n                    float A = 0.0;\n                    float B = 0.0;\n                \n                    vec3 N = vec3(0.0, 0.0, 1.0);\n                \n                    const uint SAMPLE_COUNT = 1024u;\n                    for(uint i = 0u; i < SAMPLE_COUNT; ++i) {\n                        vec2 Xi = Hammersley(i, SAMPLE_COUNT);\n                        vec3 H  = ImportanceSampleGGX(Xi, N, roughness);\n                        vec3 L  = normalize(2.0 * dot(V, H) * H - V);\n                \n                        float NdotL = max(L.z, 0.0);\n                        float NdotH = max(H.z, 0.0);\n                        float VdotH = max(dot(V, H), 0.0);\n                \n                        if(NdotL > 0.0) {\n                            float G = GeometrySmith(N, V, L, roughness);\n                            float G_Vis = (G * VdotH) / (NdotH * NdotV);\n                            float Fc = pow(1.0 - VdotH, 5.0);\n                \n                            A += (1.0 - Fc) * G_Vis;\n                            B += Fc * G_Vis;\n                        }\n                    }\n                    A /= float(SAMPLE_COUNT);\n                    B /= float(SAMPLE_COUNT);\n                    return vec2(A, B);\n                }\n            "),t.appendMain_61zpoe$("\n                vec2 integratedBRDF = IntegrateBRDF("+this.inTexCoords.ref2f_61zpoe$()+".x, "+this.inTexCoords.ref2f_61zpoe$()+".y);\n                "+this.outColor.declare()+" = vec4(integratedBRDF, 0.0, 1.0);\n            ")},Zw.$metadata$={kind:$,simpleName:"BrdfLutNode",interfaces:[ou]},Yw.$metadata$={kind:$,simpleName:"BrdfLutPass",interfaces:[ya]},tz.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},tz.prototype=Object.create(p.prototype),tz.prototype.constructor=tz,tz.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:return new yh(this.local$closure$bgColor,this.local$closure$bgColor,this.local$closure$bgColor,this.local$closure$bgColor,this.local$closure$bgColor,this.local$closure$bgColor);case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qw.prototype.singleColorEnvironment_6zt5da$=function(t,e,n){void 0===n&&(n=!0);var i,o=fh().singleColor_d7aj7k$(e.toLinear()),r=new O_(new G_(void 0,Q_(),Q_(),Q_(),K_(),K_(),!1,1),"singleColorEnv-"+e,(i=o,function(t,e,n,o){var r=new tz(i,t,e,this,n);return o?r:r.doResume(null)})),s=new Yw(t),l=new j_(s.config.colorAttachments.get_za3lpa$(0).getTextureProps_6taknv$(!1),"singleColorEnv-brdf");s.copyTargetsColor.add_11rb$(l);var p,u=new iz(r,r,l);return n&&t.onDispose.add_11rb$((p=u,function(t,e){return p.dispose(),a})),t.addOffscreenPass_m1c2kf$(s),u},Qw.prototype.gradientColorEnvironment_hfkvyz$=function(t,e,n,i){void 0===i&&(i=!0);var o=new oz(t,e,n),r=fz().irradianceMapFromCube_cv6i6k$(t,w(o.colorTexture)),s=wz().reflectionMapFromCube_cv6i6k$(t,w(o.colorTexture)),l=new Yw(t);r.dependsOn_yqp8fe$(o),s.dependsOn_yqp8fe$(o);var p,u=new iz(r.copyColor(),s.copyColor(),l.copyColor());return i&&t.onDispose.add_11rb$((p=u,function(t,e){return p.dispose(),a})),t.addOffscreenPass_m1c2kf$(o),t.addOffscreenPass_m1c2kf$(r),t.addOffscreenPass_m1c2kf$(s),t.addOffscreenPass_m1c2kf$(l),u},ez.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},ez.prototype=Object.create(p.prototype),ez.prototype.constructor=ez,ez.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:void 0===this.local$autoDispose&&(this.local$autoDispose=!0);var t=new G_(void 0,void 0,void 0,void 0,K_(),K_(),!1,1);if(this.state_0=2,this.result_0=this.local$assetManager.loadAndPrepareTexture_va0f2y$(this.local$hdriPath,t,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:var e=this.result_0;return this.$this.hdriEnvironment_6k7uq0$(this.local$scene,e,this.local$autoDispose);default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qw.prototype.hdriEnvironment_cj1d96$=function(t,e,n,i,o,r){var s=new ez(this,t,e,n,i,o);return r?s:s.doResume(null)},Qw.prototype.hdriEnvironment_6k7uq0$=function(t,e,n){void 0===n&&(n=!0);var i=new kz(t,e),o=fz().irradianceMapFromHdri_8b80en$(t,w(i.colorTexture)),r=wz().reflectionMapFromHdri_8b80en$(t,w(i.colorTexture)),s=new Yw(t);o.dependsOn_yqp8fe$(i),r.dependsOn_yqp8fe$(i);var l,p,u=new iz(o.copyColor(),r.copyColor(),s.copyColor());return n&&t.onDispose.add_11rb$((l=u,p=e,function(t,e){return l.dispose(),p.dispose(),a})),t.addOffscreenPass_m1c2kf$(i),t.addOffscreenPass_m1c2kf$(o),t.addOffscreenPass_m1c2kf$(r),t.addOffscreenPass_m1c2kf$(s),u},Qw.$metadata$={kind:b,simpleName:"EnvironmentHelper",interfaces:[]};var nz=null;function iz(t,e,n){this.irradianceMap=t,this.reflectionMap=e,this.brdfLut=n}function oz(t,n,i,o){void 0===o&&(o=128);var r,s,l=new ad,p=new ua,u=o;p.name="GradientEnvGenerator",p.setSize_vux9f0$(u,u),p.addColorTexture_farcsl$(y_()),p.clearDepthTexture(),$a.call(this,l,new pa(p)),this.gradientTex_0=this.makeGradientTex_0(n,2*o|0,i),(e.isType(r=this.drawNode,ad)?r:_()).unaryPlus_uv0sim$(yd(void 0,void 0,(s=this,function(t){return t.generate_v2sixm$(sz),t.shader=new kc(s.gradientTex_0,"gradTex",s.gradientEnvModel_0()),w(t.shader).onPipelineSetup.add_11rb$(az),a}))),this.onAfterDraw.add_11rb$(function(t,n,i){return function(o){var r=t,s=Hj.Log,l=vC.DEBUG,p=e.getKClassFromExpression(r).simpleName;return l.level>=s.level.level&&s.printer(l,p,"Generated gradient cube map"),n.removeOffscreenPass_m1c2kf$(t),i.runDelayed_hd6vpk$(1,function(t,e){return function(n){return e.dispose_aemszp$(t),a}}(i,t)),a}}(this,t,i))}function rz(t){ou.call(this,"posToUv",t),this.inPos=new ru(new Op(Po().Y_AXIS)),this.outUv=new ru(new xp("outUv"),this)}function sz(t){var e=new qC;return e.centered(),t.cube_lhbb6w$(e),a}function az(t,e,n){return t.depthTest=$l(),t.cullMethod=Tl(),a}function lz(t,e){ou.call(this,"envCubeSampler",e),this.texture=t,this.maxLightIntensity=new ru(new Pp(5e3))}function pz(t,e){ou.call(this,"envEquiRectSampler",e),this.texture=t}function uz(t){ou.call(this,"rgbeDecoder",t),this.inRgbe=new ru(new Ep(tr().ZERO)),this.maxLightIntensity=new ru(new Pp(20)),this.outColor=new ru(new wp("decodedRgbe"),this)}function cz(t,n,i,o){fz();var r,s=new ad,l=new ua;l.name="IrradianceMapPass",l.setSize_vux9f0$(o,o),l.addColorTexture_farcsl$(y_()),l.clearDepthTexture(),$a.call(this,s,new pa(l)),this.isAutoRemove=!0,this.clearColor=null;var p=e.isType(r=this.drawNode,ad)?r:_(),u=new $d(new Uz(qt(hs().POSITIONS)),null);u.generate_v2sixm$(mz);var c=new tu("IrradianceMapPass"),h={v:null},d=new nu(c);h.v=d.stageInterfaceNode_iikjwn$("ifLocalPos",d.attrPositions().output),d.positionOutput=d.simpleVertexPositionNode().outVec4;var f=new iu(c);null!=n?f.addNode_u9w9by$(new pz(f.texture2dNode_61zpoe$("colorTex"),f.stage)):f.addNode_u9w9by$(new lz(f.textureCubeNode_61zpoe$("colorTex"),f.stage));var m=f.addNode_u9w9by$(new _z(f.stage));m.inLocalPos=h.v.output;var y=m;f.colorOutput_a3v4si$(y.outColor);var $,b,g,v,x=c;if(null!=n){var w=new kc(n,"colorTex",x);w.onPipelineSetup.add_11rb$(yz),u.shader=w}else{var z=new Lc(i,"colorTex",x);z.onPipelineSetup.add_11rb$($z),u.shader=z}p.unaryPlus_uv0sim$(u),this.onAfterDraw.add_11rb$(($=n,b=this,g=i,v=t,function(t){if(null!=$){var n=b,i=Hj.Log,o=vC.DEBUG,r=e.getKClassFromExpression(n).simpleName;o.level>=i.level.level&&i.printer(o,r,"Generated irradiance map from HDRI: "+Lt($.name))}else{var s=b,l=Hj.Log,p=vC.DEBUG,u=e.getKClassFromExpression(s).simpleName;if(p.level>=l.level.level){var c=l.printer,_=g;c.call(l,p,u,"Generated irradiance map from cube map: "+Lt(null!=_?_.name:null))}}return b.isAutoRemove?(v.removeOffscreenPass_m1c2kf$(b),t.runDelayed_hd6vpk$(1,function(t,e){return function(n){return e.dispose_aemszp$(t),a}}(t,b))):b.isEnabled=!1,a}))}function _z(t){ou.call(this,"convIrradiance",t),this.inLocalPos=new ru(new Op(Po().X_AXIS)),this.outColor=new ru(new zp("convIrradiance_outColor"),this)}function hz(){dz=this}iz.prototype.dispose=function(){this.irradianceMap.dispose(),this.reflectionMap.dispose(),this.brdfLut.dispose()},iz.$metadata$={kind:$,simpleName:"EnvironmentMaps",interfaces:[]},oz.prototype.dispose_aemszp$=function(t){$a.prototype.dispose_aemszp$.call(this,t),this.gradientTex_0.dispose()},oz.prototype.makeGradientTex_0=function(t,e,n){for(var i=Nj(4*e|0),o=M$(),r=0;r<e;r++)t.getColorInterpolated_vsomir$(1-r/e,o),i.set_6t1wet$(0+(4*r|0)|0,Ft(U(255*o.r))),i.set_6t1wet$(1+(4*r|0)|0,Ft(U(255*o.g))),i.set_6t1wet$(2+(4*r|0)|0,Ft(U(255*o.b))),i.set_6t1wet$(3+(4*r|0)|0,Ft(255));var s=new ah(i,e,1,h_()),a=new G_(void 0,Q_(),Q_(),void 0,void 0,void 0,!1,1);return n.assetMgr.loadAndPrepareTexture_siesr9$(s,a,"gradientEnvTex")},oz.prototype.gradientEnvModel_0=function(){var t=new tu("gradientEnvModel()"),e={v:null},n=new nu(t),i=n.mvpNode(),o=n.attrPositions().output,r=n.vec3TransformNode_vid4wo$(o,i.outModelMat,1).outVec3;e.v=n.stageInterfaceNode_iikjwn$("ifFragPos",r),n.positionOutput=n.vec4TransformNode_9krp9t$(o,i.outMvpMat).outVec4;var s=new iu(t),a=s.addNode_u9w9by$(new rz(s.stage));a.inPos=e.v.output;var l=s.texture2dSamplerNode_fzevit$(s.texture2dNode_61zpoe$("gradTex"),a.outUv),p=s.gammaNode_ze33is$(l.outColor).outColor;return s.colorOutput_a3v4si$(p),t},rz.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inPos)},rz.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outUv.declare()+" = vec2(acos(normalize("+this.inPos.ref3f_61zpoe$()+").y) / "+V.PI+", 0.0);")},rz.$metadata$={kind:$,simpleName:"PosToUvNode",interfaces:[ou]},oz.$metadata$={kind:$,simpleName:"GradientCubeGenerator",interfaces:[$a]},lz.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_lhtstx$(this.texture)},lz.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("sampleEnv","\n                vec3 sampleEnv(vec3 texCoord, float mipLevel) {\n                    vec3 envColor = "+t.sampleTextureCube_buzeal$(this.texture.name,"texCoord","mipLevel")+".rgb;\n                    return min(envColor, vec3("+this.maxLightIntensity.ref1f_61zpoe$()+"));\n                }\n            ")},lz.$metadata$={kind:$,simpleName:"EnvCubeSamplerNode",interfaces:[ou]},pz.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_lhtstx$(this.texture)},pz.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("sampleEnv","\n                vec3 sampleEnv(vec3 texCoord, float mipLevel) {\n                    vec3 equiRect_in = normalize(texCoord);\n                    vec2 uv = vec2(atan(equiRect_in.z, equiRect_in.x), -asin(equiRect_in.y));\n                    uv *= vec2(0.1591, 0.3183);\n                    uv += 0.5;\n                    return "+t.sampleTexture2d_buzeal$(this.texture.name,"uv","mipLevel")+".rgb;\n                }\n            ")},pz.$metadata$={kind:$,simpleName:"EnvEquiRectSamplerNode",interfaces:[ou]},uz.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inRgbe,this.maxLightIntensity])},uz.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                vec3 fRgb = "+this.inRgbe.ref3f_61zpoe$()+";\n                float fExp = "+this.inRgbe.ref4f_61zpoe$()+".a * 255.0 - 128.0;\n                "+this.outColor.declare()+" = min(fRgb * pow(2.0, fExp), vec3("+this.maxLightIntensity.ref1f_61zpoe$()+"));\n            ")},uz.$metadata$={kind:$,simpleName:"RgbeDecoderNode",interfaces:[ou]},cz.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),$a.prototype.dispose_aemszp$.call(this,t)},_z.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inLocalPos)},_z.prototype.generateCode_626509$=function(t){ou.prototype.generateCode_626509$.call(this,t);var e=2*V.PI,n=.5*V.PI;t.appendMain_61zpoe$("\n                vec3 normal = normalize("+this.inLocalPos.ref3f_61zpoe$()+");\n                vec3 up = vec3(0.0, 1.0, 0.0);\n                vec3 right = normalize(cross(up, normal));\n                up = cross(normal, right);\n\n                float sampleDelta = 0.03737;\n                vec3 irradiance = vec3(0.0);\n                int nrSamples = 0; \n\n                for (float theta = 0.0; theta < "+n+"; theta += sampleDelta) {\n                    float deltaPhi = sampleDelta / sin(theta);\n                    for (float phi = 0.0; phi < "+e+"; phi += deltaPhi) {\n                        vec3 tempVec = cos(phi) * right + sin(phi) * up;\n                        vec3 sampleVector = cos(theta) * normal + sin(theta) * tempVec;\n                        vec3 envColor = sampleEnv(sampleVector, 3.0);\n                        irradiance += envColor * cos(theta) * 0.6;\n                        nrSamples++;\n                    }\n                }\n                irradiance = irradiance * "+V.PI+" / float(nrSamples);\n                "+this.outColor.declare()+" = vec4(irradiance, 1.0);\n            ")},_z.$metadata$={kind:$,simpleName:"ConvoluteIrradianceNode",interfaces:[ou]},hz.prototype.irradianceMapFromHdri_8b80en$=function(t,e,n){return void 0===n&&(n=16),new cz(t,e,null,n)},hz.prototype.irradianceMapFromCube_cv6i6k$=function(t,e,n){return void 0===n&&(n=16),new cz(t,null,e,n)},hz.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var dz=null;function fz(){return null===dz&&new hz,dz}function mz(t){var e=new qC;return e.centered(),t.cube_lhbb6w$(e),a}function yz(t,e,n){return t.cullMethod=Pl(),a}function $z(t,e,n){return t.cullMethod=Pl(),a}function bz(t,n,i,o){wz();var r,s,l=new ad,p=new ua;p.name="ReflectionMapPass",p.setSize_vux9f0$(o,o),p.mipLevels=7,p.addColorTexture_farcsl$(y_()),p.clearDepthTexture(),$a.call(this,l,new pa(p)),this.parentScene=t,this.uRoughness_0=gh(.5,"uRoughness"),this.isAutoRemove=!0,this.isEnabled=!0,this.onSetupMipLevel=(s=this,function(t,e){return s.uRoughness_0.value=t/(s.config.mipLevels-1|0),a});var u=e.isType(r=this.drawNode,ad)?r:_(),c=new $d(new Uz(qt(hs().POSITIONS)),"reflectionMap");c.generate_v2sixm$(zz);var h=new tu("Reflectance Convolution Sampler"),d={v:null},f=new nu(h);d.v=f.stageInterfaceNode_iikjwn$("ifLocalPos",f.attrPositions().output),f.positionOutput=f.simpleVertexPositionNode().outVec4;var m=new iu(h);null!=n?m.addNode_u9w9by$(new pz(m.texture2dNode_61zpoe$("colorTex"),m.stage)):m.addNode_u9w9by$(new lz(m.textureCubeNode_61zpoe$("colorTex"),m.stage));var y=m.addNode_u9w9by$(new gz(m.stage));y.inLocalPos=d.v.output,y.inRoughness=m.pushConstantNode1f_978i2u$(this.uRoughness_0).output;var $=y;m.colorOutput_a3v4si$($.outColor);var b=h;if(null!=n){var g=new kc(n,"colorTex",b);g.onPipelineSetup.add_11rb$(Cz),c.shader=g}else{var v=new Lc(i,"colorTex",b);v.onPipelineSetup.add_11rb$(Sz),c.shader=v}u.unaryPlus_uv0sim$(c),this.onAfterDraw.add_11rb$(function(t,n,i){return function(o){if(null!=t){var r=n,s=Hj.Log,l=vC.DEBUG,p=e.getKClassFromExpression(r).simpleName;l.level>=s.level.level&&s.printer(l,p,"Generated reflection map from HDRI: "+Lt(t.name))}else{var u=n,c=Hj.Log,_=vC.DEBUG,h=e.getKClassFromExpression(u).simpleName;if(_.level>=c.level.level){var d=c.printer,f=i;d.call(c,_,h,"Generated reflection map from cube map: "+Lt(null!=f?f.name:null))}}return n.isAutoRemove?(n.parentScene.removeOffscreenPass_m1c2kf$(n),o.runDelayed_hd6vpk$(1,function(t,e){return function(n){return e.dispose_aemszp$(t),a}}(o,n))):n.isEnabled=!1,a}}(n,this,i))}function gz(t){ou.call(this,"convIrradiance",t),this.inLocalPos=new ru(new Op(Po().X_AXIS)),this.inRoughness=new ru(new Pp(0)),this.maxLightIntensity=new ru(new Pp(5e3)),this.outColor=new ru(new zp("convReflection_outColor"),this)}function vz(){xz=this}cz.$metadata$={kind:$,simpleName:"IrradianceMapPass",interfaces:[$a]},bz.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),$a.prototype.dispose_aemszp$.call(this,t)},gz.prototype.setup_llmhyc$=function(t){ou.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inLocalPos),this.dependsOn_7qvs0d$(this.maxLightIntensity)},gz.prototype.generateCode_626509$=function(t){ou.prototype.generateCode_626509$.call(this,t),t.appendFunction_puj7f4$("reflMapFuncs","\n                float RadicalInverse_VdC(uint bits) {\n                    bits = (bits << 16u) | (bits >> 16u);\n                    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n                    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n                    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n                    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n                    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\n                }\n                \n                vec2 Hammersley(uint i, uint N) {\n                    return vec2(float(i)/float(N), RadicalInverse_VdC(i));\n                }\n                \n                vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness) {\n                    float a = roughness*roughness;\n                    \n                    float phi = 2.0 * 3.141592653589793 * Xi.x;\n                    float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a*a - 1.0) * Xi.y));\n                    float sinTheta = sqrt(1.0 - cosTheta*cosTheta);\n                    \n                    // from spherical coordinates to cartesian coordinates\n                    vec3 H;\n                    H.x = cos(phi) * sinTheta;\n                    H.y = sin(phi) * sinTheta;\n                    H.z = cosTheta;\n                    \n                    // from tangent-space vector to world-space sample vector\n                    vec3 up = abs(N.z) < 0.9999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\n                    vec3 tangent = normalize(cross(up, N));\n                    vec3 bitangent = cross(N, tangent);\n                    \n                    vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\n                    return normalize(sampleVec);\n                }\n            "),t.appendMain_61zpoe$("\n                vec3 N = normalize("+this.inLocalPos.ref3f_61zpoe$()+");\n                vec3 R = N;\n                vec3 V = R;\n                \n                float mipLevel = "+this.inRoughness.ref1f_61zpoe$()+" * 16.0;\n                uint SAMPLE_COUNT = uint(1024.0 * (1.0 + mipLevel));\n                float totalWeight = 0.0;\n                vec3 prefilteredColor = vec3(0.0);\n                for(uint i = 0u; i < SAMPLE_COUNT; ++i) {\n                    vec2 Xi = Hammersley(i, SAMPLE_COUNT);\n                    vec3 H  = ImportanceSampleGGX(Xi, N, "+this.inRoughness.ref1f_61zpoe$()+");\n                    vec3 L  = normalize(2.0 * dot(V, H) * H - V);\n            \n                    float NdotL = max(dot(N, L), 0.0);\n                    if(NdotL > 0.0) {\n                        prefilteredColor += sampleEnv(L, mipLevel) * NdotL;\n                        totalWeight += NdotL;\n                    }\n                }\n                prefilteredColor = prefilteredColor / totalWeight;\n                "+this.outColor.declare()+" = vec4(prefilteredColor, 1.0);\n            ")},gz.$metadata$={kind:$,simpleName:"ConvoluteReflectionNode",interfaces:[ou]},vz.prototype.reflectionMapFromHdri_8b80en$=function(t,e,n){return void 0===n&&(n=256),new bz(t,e,null,n)},vz.prototype.reflectionMapFromCube_cv6i6k$=function(t,e,n){return void 0===n&&(n=256),new bz(t,null,e,n)},vz.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var xz=null;function wz(){return null===xz&&new vz,xz}function zz(t){var e=new qC;return e.centered(),t.cube_lhbb6w$(e),a}function Cz(t,e,n){return t.cullMethod=Pl(),a}function Sz(t,e,n){return t.cullMethod=Pl(),a}function kz(t,n){var i,o,r,s,l,p,u=new ad,c=new ua,h=null!=(o=null!=(i=n.loadedTexture)?i.width:null)?o:1024,d=null!=(s=null!=(r=n.loadedTexture)?r.height:null)?s:512,f=R.max(h,d);c.name="RgbeDecoder",c.setSize_vux9f0$(f,f),c.addColorTexture_farcsl$(y_()),c.clearDepthTexture(),c.addMipLevels_ydzd23$(void 0,void 0,!1),ya.call(this,u,new pa(c)),(e.isType(l=this.drawNode,ad)?l:_()).unaryPlus_uv0sim$(yd(void 0,void 0,(p=n,function(t){t.isFrustumChecked=!1,t.generate_v2sixm$(Lz);var e=new tu("RgbeDecoder"),n={v:null},i=new nu(e);n.v=i.stageInterfaceNode_iikjwn$("ifTexCoords",i.attrTexCoords().output),i.positionOutput=i.fullScreenQuadPositionNode_r20yfm$(i.attrTexCoords().output).outQuadPos;var o=new iu(e),r=o.addNode_u9w9by$(new uz(o.stage));r.inRgbe=o.texture2dSamplerNode_fzevit$(o.texture2dNode_61zpoe$("colorTex"),n.v.output).outColor;var s=r;o.colorOutput_a3v4si$(s.outColor);var l=new kc(p,"colorTex",e);return l.onPipelineSetup.add_11rb$(jz),t.shader=l,a}))),this.onAfterDraw.add_11rb$(function(t,n,i){return function(o){var r=n,s=Hj.Log,l=vC.DEBUG,p=e.getKClassFromExpression(r).simpleName;return l.level>=s.level.level&&s.printer(l,p,"Converted RGBe to linear: "+Lt(t.name)),i.removeOffscreenPass_m1c2kf$(n),o.runDelayed_hd6vpk$(1,function(t,e){return function(n){return e.dispose_aemszp$(t),a}}(o,n)),a}}(n,this,t))}function Lz(t){var e=new FC;return t.rect_e5k3t5$(e),a}function jz(t,e,n){return t.cullMethod=Tl(),a}function Nz(t,n){Oz(),void 0===n&&(n=256);var i,o=new ad,r=new ua,s=n;r.name="SkyCubePass",r.setSize_vux9f0$(s,s),r.addColorTexture_farcsl$(y_()),r.clearDepthTexture(),$a.call(this,o,new pa(r)),this.syncLights=E(),this.azimuth_rc8r83$_0=0,this.elevation_kytf7i$_0=60,this.lightGradient_0=new A$([mt(-90,O$().BLACK),mt(-2,O$().BLACK),mt(0,O$().MD_ORANGE.mix_y83vuj$(O$().WHITE,.6).toLinear().scale_mx4ult$(.7)),mt(5,O$().MD_AMBER.mix_y83vuj$(O$().WHITE,.6).toLinear()),mt(10,O$().WHITE),mt(90,O$().WHITE)]),this.sunLight_0=(new pd).setDirectional_czzhiu$(new Lo(-1,-1,-1)).setColor_y83vuj$(O$().WHITE,3),this.groundShader=null,this.skyShader_0=new Ez(t);var l=new ld;l.lights.clear();var p=l.lights,u=this.sunLight_0;p.add_11rb$(u),this.lighting=l;var c=Oc(Dz);c.ambient=Oz().nightSkyColor_0,this.groundShader=c;var h,d=e.isType(i=this.drawNode,ad)?i:_();d.unaryPlus_uv0sim$(yd(void 0,void 0,(h=this,function(t){return t.generate_v2sixm$(Bz),t.shader=h.skyShader_0,a}))),d.unaryPlus_uv0sim$(md(void 0,function(t){return function(e){return e.generate_v2sixm$(Fz),e.shader=t.groundShader,a}}(this))),this.onBeforeCollectDrawCommands.add_11rb$(function(t){return function(e){var n;if(t.updateSunLight_0(),null!=(n=t.skyShader_0.atmoNode)){var i=t;n.uDirToSun.value.set_czzhiu$(i.sunLight_0.direction).scale_mx4ult$(-1),n.uSunColor.value.set_czzhhz$(i.sunLight_0.color),n.uSunColor.value.a=n.uSunColor.value.a/3}return a}}(this)),this.onAfterDraw.add_11rb$(function(t){return function(e){return t.isEnabled=!1,a}}(this))}function Pz(){Tz=this,this.nightSkyColor_0=new N$(.02,.07,.15).toLinear()}bz.$metadata$={kind:$,simpleName:"ReflectionMapPass",interfaces:[$a]},kz.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),ya.prototype.dispose_aemszp$.call(this,t)},kz.$metadata$={kind:$,simpleName:"RgbeDecoder",interfaces:[ya]},Object.defineProperty(Nz.prototype,"azimuth",{configurable:!0,get:function(){return this.azimuth_rc8r83$_0},set:function(t){this.azimuth_rc8r83$_0=t,this.isEnabled=!0}}),Object.defineProperty(Nz.prototype,"elevation",{configurable:!0,get:function(){return this.elevation_kytf7i$_0},set:function(t){var e;e=t<-90?-90:t>90?90:t,this.elevation_kytf7i$_0=e,this.isEnabled=!0}}),Nz.prototype.updateSunLight_0=function(){var t,e=-this.azimuth*Ij.DEG_2_RAD,n=V.PI/2-this.elevation*Ij.DEG_2_RAD;this.sunLight_0.direction.z=-R.sin(n)*R.cos(e),this.sunLight_0.direction.x=-R.sin(n)*R.sin(e),this.sunLight_0.direction.y=-R.cos(n);var i=this.lightGradient_0.getColorInterpolated_vsomir$(this.elevation,M$(),-90,90),o=i.r*i.r+i.g*i.g+i.b*i.b,r=R.sqrt(o);for(t=this.syncLights.iterator();t.hasNext();){var s=t.next();s.setDirectional_czzhiu$(this.sunLight_0.direction),s.setColor_y83vuj$(i,r*this.sunLight_0.color.a)}},Pz.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Tz=null;function Oz(){return null===Tz&&new Pz,Tz}function Ez(t){var n,i;Iz(),zc.call(this,Iz().model()),this.atmoNode=null,this.onPipelineSetup.add_11rb$(Az),this.onPipelineCreated.add_11rb$((n=t,i=this,function(t,o,r){var s,l,p=i.model;t:do{var u;for(s=sc.ALL,u=p.stages.values.iterator();u.hasNext();){var c=u.next();if(0!=(c.stage.mask&s.mask)){var h,d,f=c.nodes;e:do{var m;for(m=f.iterator();m.hasNext();){var y=m.next();if(Dt(y.name,"tOpticalDepthLut")&&e.isType(y,ju)){d=y;break e}}d=null}while(0);var $=null==(h=d)||e.isType(h,ju)?h:_();if(null!=$){l=$;break t}}}l=null}while(0);w(l).sampler.texture=n;var b,g,v=i,x=i.model;t:do{var z;for(b=sc.ALL,z=x.stages.values.iterator();z.hasNext();){var C=z.next();if(0!=(C.stage.mask&b.mask)){var S,k=C.nodes,L=E();for(S=k.iterator();S.hasNext();){var j=S.next();e.isType(j,d$)&&L.add_11rb$(j)}var N=ue(L);if(null!=N){g=N;break t}}}g=null}while(0);var P=w(g);return P.uPlanetCenter.value.set_y2kzbl$(0,-60,0),P.uSurfaceRadius.value=60,P.uAtmosphereRadius.value=65,P.uScatteringCoeffs.value.set_y2kzbl$(.274,1.536,3.859),P.uRayleighColor.value.set_7b5o5w$(.5,.5,1,1),P.uMieColor.value.set_7b5o5w$(1,.35,.35,.5),P.uMieG.value=.8,v.atmoNode=P,a}))}function Mz(){Rz=this}Mz.prototype.model=function(){var t=new tu,e={v:null},n={v:null},i=new nu(t);e.v=i.mvpNode();var o=i.attrPositions().output,r=i.vec3TransformNode_vid4wo$(o,e.v.outModelMat,1).outVec3;n.v=i.stageInterfaceNode_iikjwn$("ifFragPos",r),i.positionOutput=i.vec4TransformNode_9krp9t$(o,e.v.outMvpMat).outVec4;var s=new iu(t);s.addNode_u9w9by$(new h$(s.stage));var a=e.v.addToStage_llmhyc$(s.stage),l=s.texture2dNode_61zpoe$("tOpticalDepthLut"),p=s.viewDirNode_ze33is$(a.outCamPos,n.v.output).output,u=s.addNode_u9w9by$(new d$(l,s.stage));u.inSceneColor=s.constVec4f_czzhhz$(Oz().nightSkyColor_0),u.inSkyColor=s.constVec4f_czzhhz$(Oz().nightSkyColor_0),u.inScenePos=n.v.output,u.inCamPos=a.outCamPos,u.inLookDir=p;var c=u;return s.colorOutput_a3v4si$(c.outColor),t},Mz.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Rz=null;function Iz(){return null===Rz&&new Mz,Rz}function Az(t,e,n){return t.depthTest=$l(),t.cullMethod=Tl(),a}function Dz(t){return t.isHdrOutput=!0,t.useStaticAlbedo_d7aj7k$(O$().MD_BROWN_300.toLinear()),t.roughness=.8,a}function Bz(t){var e=(new BC).icoDefaults();return e.steps=2,t.icoSphere_mojs8w$(e),a}function Fz(t){t.translate_y2kzbl$(0,-.011,0),t.rotate_ad55pp$(-90,Po().X_AXIS);var e=new EC;return e.radius=9,e.steps=100,t.circle_59f34t$(e),a}function qz(t){var e;this.parentScene=t,this.opticalDepthLutPass=new f$,this.skyPass=new Nz(w(this.opticalDepthLutPass.colorTexture)),this.brdfLutPass=new Yw(this.parentScene),this.irradianceMapPass=fz().irradianceMapFromCube_cv6i6k$(this.parentScene,w(this.skyPass.colorTexture),8),this.reflectionMapPass=wz().reflectionMapFromCube_cv6i6k$(this.parentScene,w(this.skyPass.colorTexture),128),this.envMaps=new iz(w(this.irradianceMapPass.colorTexture),w(this.reflectionMapPass.colorTexture),w(this.brdfLutPass.colorTexture)),this.isAutoUpdateIblMaps=!0,this.brdfLutPass.isAutoRemove=!1,this.irradianceMapPass.isAutoRemove=!1,this.reflectionMapPass.isAutoRemove=!1,this.skyPass.onAfterDraw.add_11rb$((e=this,function(t){return e.isAutoUpdateIblMaps&&e.updateIblMaps(),a}))}function Uz(t){Zz(),this.vertexAttributes=t;var n,i,o=this.vertexAttributes,r=L;for(n=o.iterator();n.hasNext();){var s=n.next();r=r.multiply(e.Long.fromInt(31)).add(e.Long.fromInt(s.hashCode()))}this.attributeHash=r,this.vertexSizeF=0,this.byteStrideF=0,this.vertexSizeI=0,this.byteStrideI=0,this.attributeByteOffsets=null,this.primitiveType=iC(),this.usage=aC(),this.numVertices=0,this.dataF=null,this.dataI=null,this.indices=Pj(1e3),this.bounds=new v$,this.vertexIt=null,this.isRebuildBoundsOnSync=!1,this.hasChanged=!0,this.isBatchUpdate=!1;var a=0,l=0,p=C();for(i=this.vertexAttributes.iterator();i.hasNext();){var u=i.next();if(u.type===as()||u.type===ls()||u.type===ps())throw G("Matrix types are not supported as vertex attributes");if(u.type.isInt){var c=l;p.put_xwzc9p$(u,c),l=l+u.type.byteSize|0}else{var _=a;p.put_xwzc9p$(u,_),a=a+u.type.byteSize|0}}this.attributeByteOffsets=p,this.vertexSizeF=a/4|0,this.byteStrideF=a,this.vertexSizeI=l/4|0,this.byteStrideI=l,this.dataF=Tj(1e3*a|0),this.dataI=Pj(1e3*l|0),this.vertexIt=new Sk(this,0)}function Vz(){Yz=this,this.INITIAL_SIZE_0=1e3,this.GROW_FACTOR_0=2}Ez.$metadata$={kind:$,simpleName:"SkyShader",interfaces:[zc]},Nz.$metadata$={kind:$,simpleName:"SkyCubePass",interfaces:[$a]},qz.prototype.updateIblMaps=function(){this.irradianceMapPass.isEnabled=!0,this.reflectionMapPass.isEnabled=!0},qz.prototype.setupOffscreenPasses=function(){this.parentScene.addOffscreenPass_m1c2kf$(this.opticalDepthLutPass),this.parentScene.addOffscreenPass_m1c2kf$(this.brdfLutPass),this.parentScene.addOffscreenPass_m1c2kf$(this.skyPass),this.parentScene.addOffscreenPass_m1c2kf$(this.irradianceMapPass),this.parentScene.addOffscreenPass_m1c2kf$(this.reflectionMapPass)},qz.$metadata$={kind:$,simpleName:"SkyCubeIblSystem",interfaces:[]},Object.defineProperty(Uz.prototype,"numIndices",{configurable:!0,get:function(){return this.indices.position}}),Object.defineProperty(Uz.prototype,"numPrimitives",{configurable:!0,get:function(){return this.numIndices/this.primitiveType.nVertices|0}}),Object.defineProperty(Uz.prototype,"lastIndex",{configurable:!0,get:function(){return this.numVertices-1|0}}),Uz.prototype.getMorphAttributes=function(){var t,e=E();for(t=this.vertexAttributes.iterator();t.hasNext();){var n=t.next();(u(n.name,hs().NORMALS.name+"_")||u(n.name,hs().POSITIONS.name+"_")||u(n.name,hs().TANGENTS.name+"_"))&&e.add_11rb$(n)}return e},Uz.prototype.isEmpty=function(){return 0===this.numVertices||0===this.numIndices},Uz.prototype.increaseDataSizeF_0=function(t){var e=Tj(t);this.dataF.flip(),e.put_he122g$(this.dataF),this.dataF=e},Uz.prototype.increaseDataSizeI_0=function(t){var e=Pj(t);this.dataI.flip(),e.put_7hqxcs$(this.dataI),this.dataI=e},Uz.prototype.increaseIndicesSize_0=function(t){var e=Pj(t);this.indices.flip(),e.put_7hqxcs$(this.indices),this.indices=e},Uz.prototype.checkBufferSizes_za3lpa$=function(t){if(void 0===t&&(t=1),this.dataF.remaining<e.imul(this.vertexSizeF,t)){var n=U(lt(this.dataF.capacity*Zz().GROW_FACTOR_0)),i=e.imul(this.numVertices+t|0,this.vertexSizeF);this.increaseDataSizeF_0(R.max(n,i))}if(this.dataI.remaining<e.imul(this.vertexSizeI,t)){var o=U(lt(this.dataI.capacity*Zz().GROW_FACTOR_0)),r=e.imul(this.numVertices+t|0,this.vertexSizeI);this.increaseDataSizeI_0(R.max(o,r))}},Uz.prototype.checkIndexSize_za3lpa$=function(t){if(void 0===t&&(t=1),this.indices.remaining<t){var e=U(lt(this.indices.capacity*Zz().GROW_FACTOR_0)),n=this.numVertices+t|0;this.increaseIndicesSize_0(R.max(e,n))}},Uz.prototype.hasAttribute_nm2vx5$=function(t){return this.vertexAttributes.contains_11rb$(t)},Uz.prototype.batchUpdate_gj3khe$=K("kool-kool-core.de.fabmax.kool.util.IndexedVertexList.batchUpdate_gj3khe$",(function(t,e){void 0===t&&(t=!1);var n=this.isBatchUpdate;this.isBatchUpdate=!0,e(this),this.hasChanged=!0,this.isBatchUpdate=n,t&&this.rebuildBounds()})),Uz.prototype.addVertex_tohjaj$=K("kool-kool-core.de.fabmax.kool.util.IndexedVertexList.addVertex_tohjaj$",(function(t){var e,n,i;this.checkBufferSizes_za3lpa$(),e=this.vertexSizeF;for(var o=1;o<=e;o++)this.dataF.plusAssign_mx4ult$(0);n=this.vertexSizeI;for(var r=1;r<=n;r++)this.dataI.plusAssign_za3lpa$(0);return this.vertexIt.index=(i=this.numVertices,this.numVertices=i+1|0,i),t(this.vertexIt),this.bounds.add_czzhiu$(this.vertexIt.position),this.hasChanged=!0,this.numVertices-1|0})),Uz.prototype.addVertex_lv7vxo$=function(t,e,n,i){var o,r,s;void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),this.checkBufferSizes_za3lpa$(),o=this.vertexSizeF;for(var a=1;a<=o;a++)this.dataF.plusAssign_mx4ult$(0);r=this.vertexSizeI;for(var l=1;l<=r;l++)this.dataI.plusAssign_za3lpa$(0);this.vertexIt.index=(s=this.numVertices,this.numVertices=s+1|0,s);var p=this.vertexIt;return p.position.set_czzhiu$(t),null!=e&&p.normal.set_czzhiu$(e),null!=n&&p.color.set_czzhhz$(n),null!=i&&p.texCoord.set_czzhjp$(i),this.bounds.add_czzhiu$(this.vertexIt.position),this.hasChanged=!0,this.numVertices-1|0},Uz.prototype.addGeometry_r7nl2o$=function(t){var e,n,i=this.numVertices;this.checkBufferSizes_za3lpa$(t.numVertices),e=t.numVertices;for(var o=0;o<e;o++){var r,s,a;this.checkBufferSizes_za3lpa$(),r=this.vertexSizeF;for(var l=1;l<=r;l++)this.dataF.plusAssign_mx4ult$(0);s=this.vertexSizeI;for(var p=1;p<=s;p++)this.dataI.plusAssign_za3lpa$(0);this.vertexIt.index=(a=this.numVertices,this.numVertices=a+1|0,a);var u=this.vertexIt;t.vertexIt.index=o,u.set_fs4kvg$(t.vertexIt),this.bounds.add_czzhiu$(this.vertexIt.position),this.hasChanged=!0,this.numVertices}this.checkIndexSize_za3lpa$(t.indices.position),n=t.indices.position;for(var c=0;c<n;c++)this.addIndex_za3lpa$(i+t.indices.get_za3lpa$(c)|0)},Uz.prototype.addIndex_za3lpa$=function(t){0===this.indices.remaining&&this.checkIndexSize_za3lpa$(),this.indices.plusAssign_za3lpa$(t)},Uz.prototype.addIndices_pmhfmb$=function(t){for(var e=0;e!==t.length;++e)this.addIndex_za3lpa$(t[e]);this.hasChanged=!0},Uz.prototype.addIndices_pqoyrt$=function(t){for(var e=0;e!==t.size;++e)this.addIndex_za3lpa$(t.get_za3lpa$(e))},Uz.prototype.addTriIndices_qt1dr2$=function(t,e,n){this.addIndex_za3lpa$(t),this.addIndex_za3lpa$(e),this.addIndex_za3lpa$(n)},Uz.prototype.rebuildBounds=function(){var t;this.bounds.clear(),t=this.numVertices;for(var e=0;e<t;e++)this.vertexIt.index=e,this.bounds.add_czzhiu$(this.vertexIt.position)},Uz.prototype.clear=function(){this.numVertices=0,this.dataF.position=0,this.dataF.limit=this.dataF.capacity,this.dataI.position=0,this.dataI.limit=this.dataI.capacity,this.indices.position=0,this.indices.limit=this.indices.capacity,this.hasChanged=!0},Uz.prototype.clearIndices=function(){this.indices.position=0,this.indices.limit=this.indices.capacity},Uz.prototype.shrinkIndices_za3lpa$=function(t){if(t>this.indices.position)throw _i("new size must be less (or equal) than old size");this.indices.position=t,this.indices.limit=this.indices.capacity},Uz.prototype.shrinkVertices_za3lpa$=function(t){if(t>this.numVertices)throw _i("new size must be less (or equal) than old size");this.numVertices=t,this.dataF.position=e.imul(t,this.vertexSizeF),this.dataF.limit=this.dataF.capacity,this.dataI.position=e.imul(t,this.vertexSizeI),this.dataI.limit=this.dataI.capacity},Uz.prototype.get_za3lpa$=function(t){if(t<0||t>=(this.dataF.capacity/this.vertexSizeF|0))throw _i("Vertex index out of bounds: "+t);return new Sk(this,t)},Uz.prototype.forEach_tohjaj$=K("kool-kool-core.de.fabmax.kool.util.IndexedVertexList.forEach_tohjaj$",(function(t){var e;e=this.numVertices;for(var n=0;n<e;n++)this.vertexIt.index=n,t(this.vertexIt)})),Uz.prototype.removeDegeneratedTriangles=function(){var t,e,n,i,o=this.get_za3lpa$(0),r=this.get_za3lpa$(1),s=this.get_za3lpa$(2),a=Mo(),l=Mo(),p=new Int32Array(this.numIndices),u=0;t=this.numIndices;for(var c=0;c<t;c+=3){o.index=this.indices.get_za3lpa$(c),r.index=this.indices.get_za3lpa$(c+1|0),s.index=this.indices.get_za3lpa$(c+2|0),r.position.subtract_2gj7b4$(o.position,a).norm(),s.position.subtract_2gj7b4$(o.position,l).norm();var _=Wi(o.position,r.position,s.position),h=!(null!=a&&a.equals(Po().ZERO)||null!=l&&l.equals(Po().ZERO));if(h){var d=a.times_czzhiu$(l);h=1!==R.abs(d)}h&&!De(_)&&_>0&&(p[(e=u,u=e+1|0,e)]=this.indices.get_za3lpa$(c),p[(n=u,u=n+1|0,n)]=this.indices.get_za3lpa$(c+1|0),p[(i=u,u=i+1|0,i)]=this.indices.get_za3lpa$(c+2|0))}u!==this.numIndices&&(this.indices.clear(),this.indices.put_nd5v6f$(p,0,u))},Uz.prototype.generateNormals=function(){var t,n,i;if(this.vertexAttributes.contains_11rb$(hs().NORMALS)){if(this.primitiveType!==iC())throw _i("Normal generation is only supported for triangle meshes");var o=this.get_za3lpa$(0),r=this.get_za3lpa$(1),s=this.get_za3lpa$(2),a=Mo(),l=Mo(),p=Mo();t=this.numVertices;for(var u=0;u<t;u++)o.index=u,o.normal.set_czzhiu$(Po().ZERO);n=this.numIndices;for(var c=0;c<n;c+=3){if(o.index=this.indices.get_za3lpa$(c),r.index=this.indices.get_za3lpa$(c+1|0),s.index=this.indices.get_za3lpa$(c+2|0),o.index>this.numVertices||r.index>this.numVertices||s.index>this.numVertices){var _=Hj.Log,h=vC.ERROR,d=e.getKClassFromExpression(this).simpleName;h.level>=_.level.level&&_.printer(h,d,"index to large "+o.index+", "+r.index+", "+s.index+", sz: "+this.numVertices)}r.position.subtract_2gj7b4$(o.position,a).norm(),s.position.subtract_2gj7b4$(o.position,l).norm();var f=Wi(o.position,r.position,s.position);a.cross_2gj7b4$(l,p).norm().scale_mx4ult$(f),null!=p&&p.equals(Po().ZERO)||De(p.x)||De(p.y)||De(p.z)||(o.normal.plusAssign_czzhiu$(p),r.normal.plusAssign_czzhiu$(p),s.normal.plusAssign_czzhiu$(p))}i=this.numVertices;for(var m=0;m<i;m++)o.index=m,o.normal.norm()}},Uz.prototype.generateTangents_mx4ult$=function(t){var e,n,i;if(void 0===t&&(t=1),this.vertexAttributes.contains_11rb$(hs().TANGENTS)){if(this.primitiveType!==iC())throw _i("Normal generation is only supported for triangle meshes");var o=this.get_za3lpa$(0),r=this.get_za3lpa$(1),s=this.get_za3lpa$(2),a=Mo(),l=Mo(),p=Mo();e=this.numVertices;for(var u=0;u<e;u++)o.index=u,o.tangent.set_2qa7tb$(Po().ZERO);n=this.numIndices;for(var c=0;c<n;c+=3){o.index=this.indices.get_za3lpa$(c),r.index=this.indices.get_za3lpa$(c+1|0),s.index=this.indices.get_za3lpa$(c+2|0),r.position.subtract_2gj7b4$(o.position,a),s.position.subtract_2gj7b4$(o.position,l);var _=r.texCoord.x-o.texCoord.x,h=r.texCoord.y-o.texCoord.y,d=s.texCoord.x-o.texCoord.x,f=s.texCoord.y-o.texCoord.y,m=1/(_*f-d*h);De(m)||(p.x=m*(f*a.x-h*l.x),p.y=m*(f*a.y-h*l.y),p.z=m*(f*a.z-h*l.z),o.tangent.plusAssign_czzhhz$(nr(p,0)),r.tangent.plusAssign_czzhhz$(nr(p,0)),s.tangent.plusAssign_czzhhz$(nr(p,0)))}i=this.numVertices;for(var y=0;y<i;y++)o.index=y,0===o.normal.sqrLength()&&o.normal.set_czzhiu$(Po().Y_AXIS),0!==o.tangent.sqrLength()?(o.tangent.norm(),o.tangent.w=t):o.tangent.set_2qa7tb$(Po().X_AXIS)}},Vz.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Wz,Gz,Hz,Xz,Kz,Yz=null;function Zz(){return null===Yz&&new Vz,Yz}function Jz(t,e){return e=e||Object.create(Uz.prototype),Uz.call(e,Be(t)),e}function Qz(t,e,n){P.call(this),this.nVertices=n,this.name$=t,this.ordinal$=e}function tC(){tC=function(){},Wz=new Qz("LINES",0,2),Gz=new Qz("POINTS",1,1),Hz=new Qz("TRIANGLES",2,3)}function eC(){return tC(),Wz}function nC(){return tC(),Gz}function iC(){return tC(),Hz}function oC(t,e){P.call(this),this.name$=t,this.ordinal$=e}function rC(){rC=function(){},Xz=new oC("DYNAMIC",0),Kz=new oC("STATIC",1)}function sC(){return rC(),Xz}function aC(){return rC(),Kz}Uz.$metadata$={kind:$,simpleName:"IndexedVertexList",interfaces:[]},Qz.$metadata$={kind:$,simpleName:"PrimitiveType",interfaces:[P]},Qz.values=function(){return[eC(),nC(),iC()]},Qz.valueOf_61zpoe$=function(t){switch(t){case"LINES":return eC();case"POINTS":return nC();case"TRIANGLES":return iC();default:T("No enum constant de.fabmax.kool.util.PrimitiveType."+t)}},oC.$metadata$={kind:$,simpleName:"Usage",interfaces:[P]},oC.values=function(){return[sC(),aC()]},oC.valueOf_61zpoe$=function(t){switch(t){case"DYNAMIC":return sC();case"STATIC":return aC();default:T("No enum constant de.fabmax.kool.util.Usage."+t)}};var lC,pC,uC,cC,_C,hC,dC=Y((function(){var t=e.kotlin.comparisons.compareValues_s00gnj$;return function(e){return function(n,i){var o=e;return t(o(n),o(i))}}}));function fC(t){void 0===t&&(t=null),Pd.call(this,t),this.instances=E(),this.lods_0=E()}function mC(t){return t.maxDistance}function yC(t){return t.camDistance}function $C(t,e,n){this.$outer=t,this.mesh=e,this.maxDistance=n,this.instances=E()}function bC(){this.instanceModelMat=new Ni,this.center=Mo(),this.radius=1,this.globalRadius_jgtua1$_0=0,this.camDistance_n2u3ce$_0=0,this.isInFrustum_77t0d9$_0=!1,this.globalCenterMut_46d76q$_0=Mo(),this.globalExtentMut_q2k453$_0=Mo()}function gC(){NC=this,this.DEFAULT_PRINTER=jC,this.level=zC(),this.printer=this.DEFAULT_PRINTER}function vC(t,e,n,i){P.call(this),this.level=n,this.indicator=N(i),this.name$=t,this.ordinal$=e}function xC(){xC=function(){},lC=new vC("TRACE",0,0,84),pC=new vC("DEBUG",1,1,68),uC=new vC("INFO",2,2,73),cC=new vC("WARN",3,3,87),_C=new vC("ERROR",4,4,69),hC=new vC("OFF",5,5,120)}function wC(){return xC(),lC}function zC(){return xC(),pC}function CC(){return xC(),uC}function SC(){return xC(),cC}function kC(){return xC(),_C}function LC(){return xC(),hC}function jC(t,e,n){return Mt(String.fromCharCode(O(t.indicator))+"/"+Lt(e)+": "+n),a}Object.defineProperty(fC.prototype,"isFrustumChecked",{configurable:!0,get:function(){return!1},set:function(t){}}),fC.prototype.getInstanceCount_za3lpa$=function(t){return t<this.lods_0.size?this.lods_0.get_za3lpa$(t).instances.size:0},fC.prototype.addLod_od45r7$=function(t,e){var n=this.lods_0,i=new $C(this,t,e);n.add_11rb$(i);var o=this.lods_0;o.size>1&&$t(o,new bt(dC(mC))),t.parent=this},fC.prototype.update_kma0q5$=function(t){var e,n,i;Pd.prototype.update_kma0q5$.call(this,t),e=this.lods_0;for(var o=0;o!==e.size;++o)this.lods_0.get_za3lpa$(o).instances.clear();var r=t.camera;n=this.instances;for(var s=0;s!==n.size;++s){var a=this.instances.get_za3lpa$(s);if(a.update_l2cg23$(this,r,t.ctx),a.isInFrustum)for(var l=wt(this.lods_0);l>=0;l--)if(0===l||a.camDistance>this.lods_0.get_za3lpa$(l-1|0).maxDistance){this.lods_0.get_za3lpa$(l).instances.add_11rb$(a);break}}i=this.lods_0;for(var p=0;p!==i.size;++p){var u=this.lods_0.get_za3lpa$(p);if(u.instances.size>u.maxInstances){var c=u.instances;for(c.size>1&&$t(c,new bt(dC(yC)));u.instances.size>u.maxInstances;){var _=u.instances.removeAt_za3lpa$(wt(u.instances));p<wt(this.lods_0)&&this.lods_0.get_za3lpa$(p+1|0).instances.add_11rb$(_)}}u.updateInstances_2shagh$(p,t.ctx),u.mesh.update_kma0q5$(t)}},fC.prototype.collectDrawCommands_kma0q5$=function(t){var e;Pd.prototype.collectDrawCommands_kma0q5$.call(this,t),e=this.lods_0;for(var n=0;n!==e.size;++n)this.lods_0.get_za3lpa$(n).mesh.collectDrawCommands_kma0q5$(t)},fC.prototype.dispose_aemszp$=function(t){var e;Pd.prototype.dispose_aemszp$.call(this,t),e=this.lods_0;for(var n=0;n!==e.size;++n)this.lods_0.get_za3lpa$(n).mesh.dispose_aemszp$(t)},Object.defineProperty($C.prototype,"maxInstances",{configurable:!0,get:function(){var t,e;return null!=(e=null!=(t=this.mesh.instances)?t.maxInstances:null)?e:0}}),$C.prototype.updateInstances_2shagh$=function(t,e){var n,i;if(null!=(n=this.mesh.instances))for(n.clear(),i=this.instances.iterator();i.hasNext();)i.next().addInstanceData_bgc5cs$(t,n,e)},$C.$metadata$={kind:$,simpleName:"Lod",interfaces:[]},Object.defineProperty(bC.prototype,"globalCenter",{configurable:!0,get:function(){return this.globalCenterMut_46d76q$_0}}),Object.defineProperty(bC.prototype,"globalRadius",{configurable:!0,get:function(){return this.globalRadius_jgtua1$_0},set:function(t){this.globalRadius_jgtua1$_0=t}}),Object.defineProperty(bC.prototype,"camDistance",{configurable:!0,get:function(){return this.camDistance_n2u3ce$_0},set:function(t){this.camDistance_n2u3ce$_0=t}}),Object.defineProperty(bC.prototype,"isInFrustum",{configurable:!0,get:function(){return this.isInFrustum_77t0d9$_0},set:function(t){this.isInFrustum_77t0d9$_0=t}}),bC.prototype.update_l2cg23$=function(t,e,n){this.globalCenterMut_46d76q$_0.set_czzhiu$(this.center),this.globalExtentMut_q2k453$_0.set_czzhiu$(this.center).x=this.globalExtentMut_q2k453$_0.set_czzhiu$(this.center).x+this.radius,this.instanceModelMat.transform_w1lst9$(this.globalCenterMut_46d76q$_0),this.instanceModelMat.transform_w1lst9$(this.globalExtentMut_q2k453$_0),t.modelMat.transform_w1lst9$(this.globalCenterMut_46d76q$_0),t.modelMat.transform_w1lst9$(this.globalExtentMut_q2k453$_0),this.globalRadius=this.globalCenterMut_46d76q$_0.distance_czzhiu$(this.globalExtentMut_q2k453$_0),this.isInFrustum=e.isInFrustum_2qa7tb$(this.globalCenterMut_46d76q$_0,this.globalRadius),this.camDistance=e.globalPos.distance_czzhiu$(this.globalCenterMut_46d76q$_0)},bC.prototype.addInstanceData_bgc5cs$=function(t,e,n){e.checkBufferSize_za3lpa$();var i=e.dataF.position;e.dataF.put_q3cr5i$(this.instanceModelMat.matrix);var o=e.dataF.position-i|0;if(o!==e.instanceSizeF)throw xt("Expected data to grow by "+e.instanceSizeF+" elements, instead it grew by "+o);e.numInstances=e.numInstances+1|0,e.hasChanged=!0},bC.$metadata$={kind:$,simpleName:"Instance",interfaces:[]},fC.$metadata$={kind:$,simpleName:"InstancedLodController",interfaces:[Pd]},gC.prototype.tExt_jzryxz$=K("kool-kool-core.de.fabmax.kool.util.Log.tExt_jzryxz$",Y((function(){var n=t.de.fabmax.kool.util.Log.Level;return function(t,i){var o=n.TRACE,r=e.getKClassFromExpression(t).simpleName;o.level>=this.level.level&&this.printer(o,r,i())}}))),gC.prototype.t_fkbaij$=K("kool-kool-core.de.fabmax.kool.util.Log.t_fkbaij$",Y((function(){var e=t.de.fabmax.kool.util.Log.Level;return function(t,n){var i=e.TRACE;i.level>=this.level.level&&this.printer(i,t,n())}}))),gC.prototype.dExt_jzryxz$=K("kool-kool-core.de.fabmax.kool.util.Log.dExt_jzryxz$",Y((function(){var n=t.de.fabmax.kool.util.Log.Level;return function(t,i){var o=n.DEBUG,r=e.getKClassFromExpression(t).simpleName;o.level>=this.level.level&&this.printer(o,r,i())}}))),gC.prototype.d_fkbaij$=K("kool-kool-core.de.fabmax.kool.util.Log.d_fkbaij$",Y((function(){var e=t.de.fabmax.kool.util.Log.Level;return function(t,n){var i=e.DEBUG;i.level>=this.level.level&&this.printer(i,t,n())}}))),gC.prototype.iExt_jzryxz$=K("kool-kool-core.de.fabmax.kool.util.Log.iExt_jzryxz$",Y((function(){var n=t.de.fabmax.kool.util.Log.Level;return function(t,i){var o=n.INFO,r=e.getKClassFromExpression(t).simpleName;o.level>=this.level.level&&this.printer(o,r,i())}}))),gC.prototype.i_fkbaij$=K("kool-kool-core.de.fabmax.kool.util.Log.i_fkbaij$",Y((function(){var e=t.de.fabmax.kool.util.Log.Level;return function(t,n){var i=e.INFO;i.level>=this.level.level&&this.printer(i,t,n())}}))),gC.prototype.wExt_jzryxz$=K("kool-kool-core.de.fabmax.kool.util.Log.wExt_jzryxz$",Y((function(){var n=t.de.fabmax.kool.util.Log.Level;return function(t,i){var o=n.WARN,r=e.getKClassFromExpression(t).simpleName;o.level>=this.level.level&&this.printer(o,r,i())}}))),gC.prototype.w_fkbaij$=K("kool-kool-core.de.fabmax.kool.util.Log.w_fkbaij$",Y((function(){var e=t.de.fabmax.kool.util.Log.Level;return function(t,n){var i=e.WARN;i.level>=this.level.level&&this.printer(i,t,n())}}))),gC.prototype.eExt_jzryxz$=K("kool-kool-core.de.fabmax.kool.util.Log.eExt_jzryxz$",Y((function(){var n=t.de.fabmax.kool.util.Log.Level;return function(t,i){var o=n.ERROR,r=e.getKClassFromExpression(t).simpleName;o.level>=this.level.level&&this.printer(o,r,i())}}))),gC.prototype.e_fkbaij$=K("kool-kool-core.de.fabmax.kool.util.Log.e_fkbaij$",Y((function(){var e=t.de.fabmax.kool.util.Log.Level;return function(t,n){var i=e.ERROR;i.level>=this.level.level&&this.printer(i,t,n())}}))),gC.prototype.logExt_askb8u$=K("kool-kool-core.de.fabmax.kool.util.Log.logExt_askb8u$",(function(t,n,i){var o=e.getKClassFromExpression(n).simpleName;t.level>=this.level.level&&this.printer(t,o,i())})),gC.prototype.log_f0yxhs$=K("kool-kool-core.de.fabmax.kool.util.Log.log_f0yxhs$",(function(t,e,n){t.level>=this.level.level&&this.printer(t,e,n())})),vC.$metadata$={kind:$,simpleName:"Level",interfaces:[P]},vC.values=function(){return[wC(),zC(),CC(),SC(),kC(),LC()]},vC.valueOf_61zpoe$=function(t){switch(t){case"TRACE":return wC();case"DEBUG":return zC();case"INFO":return CC();case"WARN":return SC();case"ERROR":return kC();case"OFF":return LC();default:T("No enum constant de.fabmax.kool.util.Log.Level."+t)}},gC.$metadata$={kind:b,simpleName:"Log",interfaces:[]};var NC=null;function PC(t){this.geometry=t,this.transform=new Ei,this.color=O$().GRAY,this.vertexModFun=null,this.hasNormals=this.geometry.hasAttribute_nm2vx5$(hs().NORMALS)}function TC(){this.x=.5257311,this.z=.8506508,this.n=0,this.verts=x([new Lo(-this.x,this.n,this.z),new Lo(this.x,this.n,this.z),new Lo(-this.x,this.n,-this.z),new Lo(this.x,this.n,-this.z),new Lo(this.n,this.z,this.x),new Lo(this.n,this.z,-this.x),new Lo(this.n,-this.z,this.x),new Lo(this.n,-this.z,-this.x),new Lo(this.z,this.x,this.n),new Lo(-this.z,this.x,this.n),new Lo(this.z,-this.x,this.n),new Lo(-this.z,-this.x,this.n)]),this.uvVerts=E(),this.faces=x([4,0,1,9,0,4,5,9,4,5,4,8,8,4,1,10,8,1,3,8,10,3,5,8,2,5,3,7,2,3,10,7,3,6,7,10,11,7,6,0,11,6,1,0,6,1,6,10,0,9,11,11,9,2,2,9,5,2,7,11])}function OC(t,e){return Ro(t).add_czzhiu$(e).norm()}function EC(){this.radius=1,this.steps=20,this.center=Mo(),this.startDeg=0,this.sweepDeg=360,this.uvCenter=co(),this.uvRadius=0,this.fullTexCoords()}function MC(){DC(),this.center=Mo(),this.xDir=Ro(Po().X_AXIS),this.yDir=Ro(Po().NEG_Z_AXIS),this.sizeX=10,this.sizeY=10,this.stepsX=10,this.stepsY=10,this.heightFun=DC().ZERO_HEIGHT}function RC(){AC=this,this.ZERO_HEIGHT=IC}function IC(t,e){return 0}PC.prototype.vertex_tohjaj$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.vertex_tohjaj$",(function(t){var e,n,i,o=this.geometry;o.checkBufferSizes_za3lpa$(),e=o.vertexSizeF;for(var r=1;r<=e;r++)o.dataF.plusAssign_mx4ult$(0);n=o.vertexSizeI;for(var s=1;s<=n;s++)o.dataI.plusAssign_za3lpa$(0);o.vertexIt.index=(i=o.numVertices,o.numVertices=i+1|0,i);var a,l=o.vertexIt;return l.color.set_czzhhz$(this.color),t(l),this.transform.transform_w1lst9$(l.position),this.hasNormals&&0!==l.normal.sqrLength()&&(this.transform.transform_w1lst9$(l.normal,0),l.normal.norm()),null!=(a=this.vertexModFun)&&a(l),o.bounds.add_czzhiu$(o.vertexIt.position),o.hasChanged=!0,o.numVertices-1|0})),PC.prototype.vertex_n440gp$$default=function(t,e,n){var i,o,r,s=this.geometry;s.checkBufferSizes_za3lpa$(),i=s.vertexSizeF;for(var a=1;a<=i;a++)s.dataF.plusAssign_mx4ult$(0);o=s.vertexSizeI;for(var l=1;l<=o;l++)s.dataI.plusAssign_za3lpa$(0);s.vertexIt.index=(r=s.numVertices,s.numVertices=r+1|0,r);var p,u=s.vertexIt;return u.color.set_czzhhz$(this.color),u.position.set_czzhiu$(t),u.normal.set_czzhiu$(e),u.texCoord.set_czzhjp$(n),this.transform.transform_w1lst9$(u.position),this.hasNormals&&0!==u.normal.sqrLength()&&(this.transform.transform_w1lst9$(u.normal,0),u.normal.norm()),null!=(p=this.vertexModFun)&&p(u),s.bounds.add_czzhiu$(s.vertexIt.position),s.hasChanged=!0,s.numVertices-1|0},PC.prototype.vertex_n440gp$=function(t,e,n,i){return void 0===n&&(n=lo().ZERO),i?i(t,e,n):this.vertex_n440gp$$default(t,e,n)},PC.prototype.withTransform_v2sixm$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.withTransform_v2sixm$",(function(t){this.transform.push(),t(this),this.transform.pop()})),PC.prototype.withColor_2f8443$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.withColor_2f8443$",(function(t,e){var n=this.color;null!=t&&(this.color=t),e(this),this.color=n})),PC.prototype.clear=function(){this.geometry.clear(),this.identity()},PC.prototype.identity=function(){return this.transform.setIdentity()},PC.prototype.translate_czzhiu$=function(t){return this.transform.translate_y2kzbl$(t.x,t.y,t.z)},PC.prototype.translate_y2kzbl$=function(t,e,n){return this.transform.translate_y2kzbl$(t,e,n)},PC.prototype.rotate_ad55pp$=function(t,e){return this.transform.rotate_ad55pp$(t,e)},PC.prototype.rotate_7b5o5w$=function(t,e,n,i){return this.transform.rotate_7b5o5w$(t,e,n,i)},PC.prototype.rotate_y2kzbl$=function(t,e,n){return this.transform.rotate_y2kzbl$(t,e,n)},PC.prototype.scale_mx4ult$=function(t){return this.transform.scale_y2kzbl$(t,t,t)},PC.prototype.scale_y2kzbl$=function(t,e,n){return this.transform.scale_y2kzbl$(t,e,n)},PC.prototype.setCoordSystem_xq1mqt$=function(t,e,n,i){void 0===i&&(i=null);var o=i;null==o&&(o=Nr(e,n)),this.transform.setIdentity(),this.transform.set_n0b4r3$(0,0,e.x),this.transform.set_n0b4r3$(1,0,e.y),this.transform.set_n0b4r3$(2,0,e.z),this.transform.set_n0b4r3$(0,1,n.x),this.transform.set_n0b4r3$(1,1,n.y),this.transform.set_n0b4r3$(2,1,n.z),this.transform.set_n0b4r3$(0,2,o.x),this.transform.set_n0b4r3$(1,2,o.y),this.transform.set_n0b4r3$(2,2,o.z),this.transform.set_n0b4r3$(0,3,t.x),this.transform.set_n0b4r3$(1,3,t.y),this.transform.set_n0b4r3$(2,3,t.z)},PC.prototype.profile_qgzkbv$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.profile_qgzkbv$",Y((function(){var e=t.de.fabmax.kool.util.Profile;return function(t){var n=new e;return t(n),n}}))),PC.prototype.circleShape_k80pjh$=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=40);var i=new mS(!0);t.shapes.add_11rb$(i);for(var o=0;o<n;o++){var r=2*V.PI*o/n;i.xy_dleff0$(R.cos(r)*e,R.sin(r)*e)}return i},PC.prototype.sample_afatab$=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),t.sample_l28n3f$(this,e,n)},PC.prototype.sampleAndFillBottom_afatab$=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),t.sample_l28n3f$(this,e,n),t.fillBottom_84rojv$(this)},PC.prototype.fillBottom_pvgy1j$=function(t){t.fillBottom_84rojv$(this)},PC.prototype.sampleAndFillTop_afatab$=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),t.sample_l28n3f$(this,e,n),t.fillTop_84rojv$(this)},PC.prototype.fillTop_pvgy1j$=function(t){t.fillTop_84rojv$(this)},PC.prototype.circle_5yji8k$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.circle_5yji8k$",Y((function(){var e=t.de.fabmax.kool.util.CircleProps;return function(t){var n=new e;t(n),this.circle_59f34t$(n)}}))),PC.prototype.circle_59f34t$=function(t){var e,n=0,i=this.vertex_n440gp$(t.center,Po().Z_AXIS,t.uvCenter);e=t.steps;for(var o=0;o<=e;o++){var r,s,a,l=(t.startDeg+t.sweepDeg*o/t.steps)*Ij.DEG_2_RAD,p=R.cos(l),u=R.sin(l),c=t.center.x+t.radius*p,_=t.center.y+t.radius*u,h=this.geometry;h.checkBufferSizes_za3lpa$(),r=h.vertexSizeF;for(var d=1;d<=r;d++)h.dataF.plusAssign_mx4ult$(0);s=h.vertexSizeI;for(var f=1;f<=s;f++)h.dataI.plusAssign_za3lpa$(0);h.vertexIt.index=(a=h.numVertices,h.numVertices=a+1|0,a);var m,y=h.vertexIt;y.color.set_czzhhz$(this.color),y.position.set_y2kzbl$(c,_,t.center.z),y.normal.set_czzhiu$(Po().Z_AXIS),y.texCoord.set_dleff0$(p,-u).scale_mx4ult$(t.uvRadius).add_czzhjp$(t.uvCenter),this.transform.transform_w1lst9$(y.position),this.hasNormals&&0!==y.normal.sqrLength()&&(this.transform.transform_w1lst9$(y.normal,0),y.normal.norm()),null!=(m=this.vertexModFun)&&m(y),h.bounds.add_czzhiu$(h.vertexIt.position),h.hasChanged=!0;var $=h.numVertices-1|0;o>0&&this.geometry.addTriIndices_qt1dr2$(i,n,$),n=$}},PC.prototype.uvSphere_ybunu9$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.uvSphere_ybunu9$",Y((function(){var e=t.de.fabmax.kool.util.SphereProps;return function(t){var n=(new e).uvDefaults();t(n),this.uvSphere_mojs8w$(n)}}))),PC.prototype.uvSphere_mojs8w$=function(t){var e,n,i,o,r=t.steps/2|0,s=R.max(r,4),a=new Int32Array(1+(2*s|0)|0),l=new Int32Array(1+(2*s|0)|0),p={v:V.PI*(s-1|0)/s},u=p.v,c=R.sin(u)*t.radius,_=p.v,h={v:R.cos(_)*t.radius};e=2*s|0;for(var d=0;d<=e;d++){var f,m,y,$=V.PI*d/s,b=-$,g=R.cos(b)*c,v=-$,x=R.sin(v)*c,w=l,z=this.geometry;z.checkBufferSizes_za3lpa$(),f=z.vertexSizeF;for(var C=1;C<=f;C++)z.dataF.plusAssign_mx4ult$(0);m=z.vertexSizeI;for(var S=1;S<=m;S++)z.dataI.plusAssign_za3lpa$(0);z.vertexIt.index=(y=z.numVertices,z.numVertices=y+1|0,y);var k,L=z.vertexIt;if(L.color.set_czzhhz$(this.color),L.position.set_y2kzbl$(g,h.v,x).add_czzhiu$(t.center),L.normal.set_y2kzbl$(g,h.v,x).scale_mx4ult$(1/t.radius),L.texCoord.set_czzhjp$(t.texCoordGenerator(p.v,$)),this.transform.transform_w1lst9$(L.position),this.hasNormals&&0!==L.normal.sqrLength()&&(this.transform.transform_w1lst9$(L.normal,0),L.normal.norm()),null!=(k=this.vertexModFun)&&k(L),z.bounds.add_czzhiu$(z.vertexIt.position),z.hasChanged=!0,w[d]=z.numVertices-1|0,d>0){var j,N,P,T=this.geometry;T.checkBufferSizes_za3lpa$(),j=T.vertexSizeF;for(var O=1;O<=j;O++)T.dataF.plusAssign_mx4ult$(0);N=T.vertexSizeI;for(var E=1;E<=N;E++)T.dataI.plusAssign_za3lpa$(0);T.vertexIt.index=(P=T.numVertices,T.numVertices=P+1|0,P);var M,I=T.vertexIt;I.color.set_czzhhz$(this.color),I.position.set_y2kzbl$(t.center.x,t.center.y-t.radius,t.center.z),I.normal.set_czzhiu$(Po().NEG_Y_AXIS),I.texCoord.set_czzhjp$(t.texCoordGenerator(V.PI,$)),this.transform.transform_w1lst9$(I.position),this.hasNormals&&0!==I.normal.sqrLength()&&(this.transform.transform_w1lst9$(I.normal,0),I.normal.norm()),null!=(M=this.vertexModFun)&&M(I),T.bounds.add_czzhiu$(T.vertexIt.position),T.hasChanged=!0;var A=T.numVertices-1|0;this.geometry.addTriIndices_qt1dr2$(A,l[d],l[d-1|0])}}n=s-1|0;for(var D=2;D<=n;D++){var B=a;a=l,l=B,p.v=V.PI*(s-D|0)/s;var F=p.v;c=R.sin(F)*t.radius;var q=p.v;h.v=R.cos(q)*t.radius,i=2*s|0;for(var U=0;U<=i;U++){var W,G,H,X=V.PI*U/s,K=-X,Y=R.cos(K)*c,Z=-X,J=R.sin(Z)*c,Q=l,tt=this.geometry;tt.checkBufferSizes_za3lpa$(),W=tt.vertexSizeF;for(var et=1;et<=W;et++)tt.dataF.plusAssign_mx4ult$(0);G=tt.vertexSizeI;for(var nt=1;nt<=G;nt++)tt.dataI.plusAssign_za3lpa$(0);tt.vertexIt.index=(H=tt.numVertices,tt.numVertices=H+1|0,H);var it,ot=tt.vertexIt;ot.color.set_czzhhz$(this.color),ot.position.set_y2kzbl$(Y,h.v,J).add_czzhiu$(t.center),ot.normal.set_y2kzbl$(Y,h.v,J).scale_mx4ult$(1/t.radius),ot.texCoord.set_czzhjp$(t.texCoordGenerator(p.v,X)),this.transform.transform_w1lst9$(ot.position),this.hasNormals&&0!==ot.normal.sqrLength()&&(this.transform.transform_w1lst9$(ot.normal,0),ot.normal.norm()),null!=(it=this.vertexModFun)&&it(ot),tt.bounds.add_czzhiu$(tt.vertexIt.position),tt.hasChanged=!0,Q[U]=tt.numVertices-1|0,U>0&&(this.geometry.addTriIndices_qt1dr2$(a[U-1|0],l[U],l[U-1|0]),this.geometry.addTriIndices_qt1dr2$(a[U-1|0],a[U],l[U]))}}o=2*s|0;for(var rt=1;rt<=o;rt++){var st,at,lt,pt=this.geometry;pt.checkBufferSizes_za3lpa$(),st=pt.vertexSizeF;for(var ut=1;ut<=st;ut++)pt.dataF.plusAssign_mx4ult$(0);at=pt.vertexSizeI;for(var ct=1;ct<=at;ct++)pt.dataI.plusAssign_za3lpa$(0);pt.vertexIt.index=(lt=pt.numVertices,pt.numVertices=lt+1|0,lt);var _t,ht=pt.vertexIt;ht.color.set_czzhhz$(this.color),ht.position.set_y2kzbl$(t.center.x,t.center.y+t.radius,t.center.z),ht.normal.set_czzhiu$(Po().Y_AXIS),ht.texCoord.set_czzhjp$(t.texCoordGenerator(0,V.PI*rt/s)),this.transform.transform_w1lst9$(ht.position),this.hasNormals&&0!==ht.normal.sqrLength()&&(this.transform.transform_w1lst9$(ht.normal,0),ht.normal.norm()),null!=(_t=this.vertexModFun)&&_t(ht),pt.bounds.add_czzhiu$(pt.vertexIt.position),pt.hasChanged=!0;var dt=pt.numVertices-1|0;this.geometry.addTriIndices_qt1dr2$(dt,l[rt-1|0],l[rt])}},PC.prototype.icoSphere_ybunu9$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.icoSphere_ybunu9$",Y((function(){var e=t.de.fabmax.kool.util.SphereProps;return function(t){var n=(new e).icoDefaults();t(n),this.icoSphere_mojs8w$(n)}}))),TC.prototype.subdivide_za3lpa$=function(t){var n;if(t<=8)n=t;else{var i=Hj.Log,o=vC.WARN,r=e.getKClassFromExpression(this).simpleName;o.level>=i.level.level&&i.printer(o,r,"clamping too large number of iterations for ico-sphere ("+t+") to 8"),n=8}for(var s=n,a=0;a<s;a++)dk().subdivideTris_yreh0k$(this.verts,this.faces,OC)},TC.prototype.generateUvs=function(){var t,e,n=V.PI,i=this.verts,o=z(M(i,10));for(e=i.iterator();e.hasNext();){var r=e.next(),s=o.add_11rb$,a=r.x,l=r.z,p=(R.atan2(a,l)+n)/(2*n),u=r.y;s.call(o,mt(r,new ro(p,R.acos(u)/n)))}var c=Fe(o);for(this.uvVerts=c,t=qe(A(this.faces),3).iterator();t.hasNext();)for(var _=t.next(),h=0;h<=2;h++){var d=_+h|0,f=_+(h+1|0)%3|0,m=_+(h+2|0)%3|0,y=c.get_za3lpa$(this.faces.get_za3lpa$(d)).second.x,$=c.get_za3lpa$(this.faces.get_za3lpa$(f)).second.x,b=c.get_za3lpa$(this.faces.get_za3lpa$(m)).second.x;if(y-$>.5&&y-b>.5){var g=Oo(c.get_za3lpa$(this.faces.get_za3lpa$(d)).first),v=_o(c.get_za3lpa$(this.faces.get_za3lpa$(d)).second);v.x=v.x-1;var x=v;this.faces.set_wxm5ur$(d,c.size);var w=mt(g,x);c.add_11rb$(w)}else if($-y>.5&&b-y>.5){var C=Oo(c.get_za3lpa$(this.faces.get_za3lpa$(d)).first),S=_o(c.get_za3lpa$(this.faces.get_za3lpa$(d)).second);S.x=S.x+1;var k=S;this.faces.set_wxm5ur$(d,c.size);var L=mt(C,k);c.add_11rb$(L)}}},TC.$metadata$={kind:$,simpleName:"IcoGenerator",interfaces:[]},PC.prototype.icoSphere_mojs8w$=function(t){var e,n,i=new TC;i.subdivide_za3lpa$(t.steps),i.generateUvs();var o=V.PI,r=this.geometry.numVertices;for(e=i.uvVerts.iterator();e.hasNext();){var s,a,l,p=e.next(),u=this.geometry;u.checkBufferSizes_za3lpa$(),s=u.vertexSizeF;for(var c=1;c<=s;c++)u.dataF.plusAssign_mx4ult$(0);a=u.vertexSizeI;for(var _=1;_<=a;_++)u.dataI.plusAssign_za3lpa$(0);u.vertexIt.index=(l=u.numVertices,u.numVertices=l+1|0,l);var h,d=u.vertexIt;d.color.set_czzhhz$(this.color),d.normal.set_czzhiu$(p.first).norm(),d.position.set_czzhiu$(p.first).scale_mx4ult$(t.radius).add_czzhiu$(t.center),d.texCoord.set_czzhjp$(t.texCoordGenerator(p.second.y*o,2*p.second.x*o)),this.transform.transform_w1lst9$(d.position),this.hasNormals&&0!==d.normal.sqrLength()&&(this.transform.transform_w1lst9$(d.normal,0),d.normal.norm()),null!=(h=this.vertexModFun)&&h(d),u.bounds.add_czzhiu$(u.vertexIt.position),u.hasChanged=!0}for(n=qe(A(i.faces),3).iterator();n.hasNext();){var f=n.next();this.geometry.addTriIndices_qt1dr2$(r+i.faces.get_za3lpa$(f)|0,r+i.faces.get_za3lpa$(1+f|0)|0,r+i.faces.get_za3lpa$(2+f|0)|0)}},PC.prototype.rect_6h1xlk$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.rect_6h1xlk$",Y((function(){var e=t.de.fabmax.kool.util.RectProps;return function(t){var n=new e;t(n),this.rect_e5k3t5$(n)}}))),PC.prototype.rect_e5k3t5$=function(t){if(t.fixNegativeSize(),0===t.cornerRadius){var e,n,i,o=this.geometry;o.checkBufferSizes_za3lpa$(),e=o.vertexSizeF;for(var r=1;r<=e;r++)o.dataF.plusAssign_mx4ult$(0);n=o.vertexSizeI;for(var s=1;s<=n;s++)o.dataI.plusAssign_za3lpa$(0);o.vertexIt.index=(i=o.numVertices,o.numVertices=i+1|0,i);var a,l=o.vertexIt;l.color.set_czzhhz$(this.color),l.position.set_y2kzbl$(t.origin.x,t.origin.y,t.origin.z),l.normal.set_czzhiu$(Po().Z_AXIS),l.texCoord.set_czzhjp$(t.texCoordLowerLeft),this.transform.transform_w1lst9$(l.position),this.hasNormals&&0!==l.normal.sqrLength()&&(this.transform.transform_w1lst9$(l.normal,0),l.normal.norm()),null!=(a=this.vertexModFun)&&a(l),o.bounds.add_czzhiu$(o.vertexIt.position),o.hasChanged=!0;var p,u,c,_=o.numVertices-1|0,h=this.geometry;h.checkBufferSizes_za3lpa$(),p=h.vertexSizeF;for(var d=1;d<=p;d++)h.dataF.plusAssign_mx4ult$(0);u=h.vertexSizeI;for(var f=1;f<=u;f++)h.dataI.plusAssign_za3lpa$(0);h.vertexIt.index=(c=h.numVertices,h.numVertices=c+1|0,c);var m,y=h.vertexIt;y.color.set_czzhhz$(this.color),y.position.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y,t.origin.z),y.normal.set_czzhiu$(Po().Z_AXIS),y.texCoord.set_czzhjp$(t.texCoordLowerRight),this.transform.transform_w1lst9$(y.position),this.hasNormals&&0!==y.normal.sqrLength()&&(this.transform.transform_w1lst9$(y.normal,0),y.normal.norm()),null!=(m=this.vertexModFun)&&m(y),h.bounds.add_czzhiu$(h.vertexIt.position),h.hasChanged=!0;var $,b,g,v=h.numVertices-1|0,x=this.geometry;x.checkBufferSizes_za3lpa$(),$=x.vertexSizeF;for(var w=1;w<=$;w++)x.dataF.plusAssign_mx4ult$(0);b=x.vertexSizeI;for(var z=1;z<=b;z++)x.dataI.plusAssign_za3lpa$(0);x.vertexIt.index=(g=x.numVertices,x.numVertices=g+1|0,g);var C,S=x.vertexIt;S.color.set_czzhhz$(this.color),S.position.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y+t.size.y,t.origin.z),S.normal.set_czzhiu$(Po().Z_AXIS),S.texCoord.set_czzhjp$(t.texCoordUpperRight),this.transform.transform_w1lst9$(S.position),this.hasNormals&&0!==S.normal.sqrLength()&&(this.transform.transform_w1lst9$(S.normal,0),S.normal.norm()),null!=(C=this.vertexModFun)&&C(S),x.bounds.add_czzhiu$(x.vertexIt.position),x.hasChanged=!0;var k,L,j,N=x.numVertices-1|0,P=this.geometry;P.checkBufferSizes_za3lpa$(),k=P.vertexSizeF;for(var T=1;T<=k;T++)P.dataF.plusAssign_mx4ult$(0);L=P.vertexSizeI;for(var O=1;O<=L;O++)P.dataI.plusAssign_za3lpa$(0);P.vertexIt.index=(j=P.numVertices,P.numVertices=j+1|0,j);var E,M=P.vertexIt;M.color.set_czzhhz$(this.color),M.position.set_y2kzbl$(t.origin.x,t.origin.y+t.size.y,t.origin.z),M.normal.set_czzhiu$(Po().Z_AXIS),M.texCoord.set_czzhjp$(t.texCoordUpperLeft),this.transform.transform_w1lst9$(M.position),this.hasNormals&&0!==M.normal.sqrLength()&&(this.transform.transform_w1lst9$(M.normal,0),M.normal.norm()),null!=(E=this.vertexModFun)&&E(M),P.bounds.add_czzhiu$(P.vertexIt.position),P.hasChanged=!0;var R=P.numVertices-1|0;this.geometry.addTriIndices_qt1dr2$(_,v,N),this.geometry.addTriIndices_qt1dr2$(_,N,R)}else{var I=t.origin.x,A=t.origin.y,D=t.origin.z,B=t.size.x,F=t.size.y,q=I+t.cornerRadius,U=A+t.cornerRadius,V=B-2*t.cornerRadius,W=F-2*t.cornerRadius,G=Po().Z_AXIS,H=(t.texCoordUpperRight.x-t.texCoordUpperLeft.x)*t.cornerRadius/B,X=(t.texCoordUpperRight.y-t.texCoordLowerRight.y)*t.cornerRadius/F,K=Mo(),Y=co();if(W>0){var Z=this.vertex_n440gp$(K.set_y2kzbl$(I,U,D),G,Y.set_dleff0$(0,X).add_czzhjp$(t.texCoordLowerLeft)),J=this.vertex_n440gp$(K.set_y2kzbl$(I+B,U,D),G,Y.set_dleff0$(0,X).add_czzhjp$(t.texCoordLowerRight)),Q=this.vertex_n440gp$(K.set_y2kzbl$(I+B,U+W,D),G,Y.set_dleff0$(0,-X).add_czzhjp$(t.texCoordUpperRight)),tt=this.vertex_n440gp$(K.set_y2kzbl$(I,U+W,D),G,Y.set_dleff0$(0,-X).add_czzhjp$(t.texCoordUpperLeft));this.geometry.addTriIndices_qt1dr2$(Z,J,Q),this.geometry.addTriIndices_qt1dr2$(Z,Q,tt)}if(V>0){var et=this.vertex_n440gp$(K.set_y2kzbl$(q,A,D),G,Y.set_dleff0$(H,0).add_czzhjp$(t.texCoordLowerLeft)),nt=this.vertex_n440gp$(K.set_y2kzbl$(q+V,A,D),G,Y.set_dleff0$(-H,0).add_czzhjp$(t.texCoordLowerRight)),it=this.vertex_n440gp$(K.set_y2kzbl$(q+V,U,D),G,Y.set_dleff0$(-H,X).add_czzhjp$(t.texCoordLowerRight)),ot=this.vertex_n440gp$(K.set_y2kzbl$(q,U,D),G,Y.set_dleff0$(H,X).add_czzhjp$(t.texCoordLowerLeft));this.geometry.addTriIndices_qt1dr2$(et,nt,it),this.geometry.addTriIndices_qt1dr2$(et,it,ot),et=this.vertex_n440gp$(K.set_y2kzbl$(q,U+W,D),G,Y.set_dleff0$(H,-X).add_czzhjp$(t.texCoordUpperLeft)),nt=this.vertex_n440gp$(K.set_y2kzbl$(q+V,U+W,D),G,Y.set_dleff0$(-H,-X).add_czzhjp$(t.texCoordUpperRight)),it=this.vertex_n440gp$(K.set_y2kzbl$(q+V,A+F,D),G,Y.set_dleff0$(-H,0).add_czzhjp$(t.texCoordUpperRight)),ot=this.vertex_n440gp$(K.set_y2kzbl$(q,A+F,D),G,Y.set_dleff0$(H,0).add_czzhjp$(t.texCoordUpperLeft)),this.geometry.addTriIndices_qt1dr2$(et,nt,it),this.geometry.addTriIndices_qt1dr2$(et,it,ot)}var rt=new EC;rt.center.set_y2kzbl$(q+V,U+W,D),rt.startDeg=0,rt.sweepDeg=90,rt.radius=t.cornerRadius,rt.steps=t.cornerSteps,rt.uvCenter.set_dleff0$(-H,-X).add_czzhjp$(t.texCoordUpperRight),rt.uvRadius=H,this.circle_59f34t$(rt);var st=new EC;st.center.set_y2kzbl$(q,U+W,D),st.startDeg=90,st.sweepDeg=90,st.radius=t.cornerRadius,st.steps=t.cornerSteps,st.uvCenter.set_dleff0$(H,-X).add_czzhjp$(t.texCoordUpperLeft),st.uvRadius=H,this.circle_59f34t$(st);var at=new EC;at.center.set_y2kzbl$(q,U,D),at.startDeg=180,at.sweepDeg=90,at.radius=t.cornerRadius,at.steps=t.cornerSteps,at.uvCenter.set_dleff0$(H,X).add_czzhjp$(t.texCoordLowerLeft),at.uvRadius=H,this.circle_59f34t$(at);var lt=new EC;lt.center.set_y2kzbl$(q+V,U,D),lt.startDeg=270,lt.sweepDeg=90,lt.radius=t.cornerRadius,lt.steps=t.cornerSteps,lt.uvCenter.set_dleff0$(-H,X).add_czzhjp$(t.texCoordLowerRight),lt.uvRadius=H,this.circle_59f34t$(lt)}},PC.prototype.line_uy9yj5$=function(t,e,n){this.line_s2l86p$(t.x,t.y,e.x,e.y,n)},PC.prototype.line_s2l86p$=function(t,e,n,i,o){var r,s,a,l=n-t,p=i-e,u=l*l+p*p,c=R.sqrt(u),_=.25*o*l/c,h=.25*o*p/c,d=(l+=_+_)/(c+=.5*o)*o/2,f=(p+=h+h)/c*o/2,m=t-_+f,y=e-h-d,$=n+_+f,b=i+h-d,g=n+_-f,v=i+h+d,x=t-_-f,w=e-h+d,z=this.geometry;z.checkBufferSizes_za3lpa$(),r=z.vertexSizeF;for(var C=1;C<=r;C++)z.dataF.plusAssign_mx4ult$(0);s=z.vertexSizeI;for(var S=1;S<=s;S++)z.dataI.plusAssign_za3lpa$(0);z.vertexIt.index=(a=z.numVertices,z.numVertices=a+1|0,a);var k,L=z.vertexIt;L.color.set_czzhhz$(this.color),L.position.set_y2kzbl$(m,y,0),L.normal.set_czzhiu$(Po().Z_AXIS),this.transform.transform_w1lst9$(L.position),this.hasNormals&&0!==L.normal.sqrLength()&&(this.transform.transform_w1lst9$(L.normal,0),L.normal.norm()),null!=(k=this.vertexModFun)&&k(L),z.bounds.add_czzhiu$(z.vertexIt.position),z.hasChanged=!0;var j,N,P,T=z.numVertices-1|0,O=this.geometry;O.checkBufferSizes_za3lpa$(),j=O.vertexSizeF;for(var E=1;E<=j;E++)O.dataF.plusAssign_mx4ult$(0);N=O.vertexSizeI;for(var M=1;M<=N;M++)O.dataI.plusAssign_za3lpa$(0);O.vertexIt.index=(P=O.numVertices,O.numVertices=P+1|0,P);var I,A=O.vertexIt;A.color.set_czzhhz$(this.color),A.position.set_y2kzbl$($,b,0),A.normal.set_czzhiu$(Po().Z_AXIS),this.transform.transform_w1lst9$(A.position),this.hasNormals&&0!==A.normal.sqrLength()&&(this.transform.transform_w1lst9$(A.normal,0),A.normal.norm()),null!=(I=this.vertexModFun)&&I(A),O.bounds.add_czzhiu$(O.vertexIt.position),O.hasChanged=!0;var D,B,F,q=O.numVertices-1|0,U=this.geometry;U.checkBufferSizes_za3lpa$(),D=U.vertexSizeF;for(var V=1;V<=D;V++)U.dataF.plusAssign_mx4ult$(0);B=U.vertexSizeI;for(var W=1;W<=B;W++)U.dataI.plusAssign_za3lpa$(0);U.vertexIt.index=(F=U.numVertices,U.numVertices=F+1|0,F);var G,H=U.vertexIt;H.color.set_czzhhz$(this.color),H.position.set_y2kzbl$(g,v,0),H.normal.set_czzhiu$(Po().Z_AXIS),this.transform.transform_w1lst9$(H.position),this.hasNormals&&0!==H.normal.sqrLength()&&(this.transform.transform_w1lst9$(H.normal,0),H.normal.norm()),null!=(G=this.vertexModFun)&&G(H),U.bounds.add_czzhiu$(U.vertexIt.position),U.hasChanged=!0;var X,K,Y,Z=U.numVertices-1|0,J=this.geometry;J.checkBufferSizes_za3lpa$(),X=J.vertexSizeF;for(var Q=1;Q<=X;Q++)J.dataF.plusAssign_mx4ult$(0);K=J.vertexSizeI;for(var tt=1;tt<=K;tt++)J.dataI.plusAssign_za3lpa$(0);J.vertexIt.index=(Y=J.numVertices,J.numVertices=Y+1|0,Y);var et,nt=J.vertexIt;nt.color.set_czzhhz$(this.color),nt.position.set_y2kzbl$(x,w,0),nt.normal.set_czzhiu$(Po().Z_AXIS),this.transform.transform_w1lst9$(nt.position),this.hasNormals&&0!==nt.normal.sqrLength()&&(this.transform.transform_w1lst9$(nt.normal,0),nt.normal.norm()),null!=(et=this.vertexModFun)&&et(nt),J.bounds.add_czzhiu$(J.vertexIt.position),J.hasChanged=!0;var it=J.numVertices-1|0;this.geometry.addTriIndices_qt1dr2$(T,q,Z),this.geometry.addTriIndices_qt1dr2$(T,Z,it)},PC.prototype.lineArc_b3rrsf$=function(t,e,n,i,o,r,s){void 0===s&&(s=3);for(var a=U(lt(R.abs(o)/s)),l=R.max(1,a),p=o/l,u=i*Ij.DEG_2_RAD,c=p*Ij.DEG_2_RAD,_=0;_<l;_++){var h=u+c*_,d=h+c,f=t+R.cos(h)*n,m=e+R.sin(h)*n,y=t+R.cos(d)*n,$=e+R.sin(d)*n;this.line_s2l86p$(f,m,y,$,r)}},PC.prototype.cube_xdlx95$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.cube_xdlx95$",Y((function(){var e=t.de.fabmax.kool.util.CubeProps;return function(t){var n=new e;t(n),this.cube_lhbb6w$(n)}}))),PC.prototype.cube_lhbb6w$=function(t){var e=Mo();t.fixNegativeSize();var n=t.frontColor,i=this.color;null!=n&&(this.color=n);var o=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y,t.origin.z+t.size.z),Po().Z_AXIS,new ro(0,1)),r=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y,t.origin.z+t.size.z),Po().Z_AXIS,new ro(1,1)),s=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y+t.size.y,t.origin.z+t.size.z),Po().Z_AXIS,new ro(1,0)),a=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y+t.size.y,t.origin.z+t.size.z),Po().Z_AXIS,new ro(0,0));this.geometry.addTriIndices_qt1dr2$(o,r,s),this.geometry.addTriIndices_qt1dr2$(o,s,a),this.color=i;var l=t.rightColor,p=this.color;null!=l&&(this.color=l);var u=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y,t.origin.z),Po().X_AXIS,new ro(1,1)),c=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y+t.size.y,t.origin.z),Po().X_AXIS,new ro(1,0)),_=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y+t.size.y,t.origin.z+t.size.z),Po().X_AXIS,new ro(0,0)),h=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y,t.origin.z+t.size.z),Po().X_AXIS,new ro(0,1));this.geometry.addTriIndices_qt1dr2$(u,c,_),this.geometry.addTriIndices_qt1dr2$(u,_,h),this.color=p;var d=t.backColor,f=this.color;null!=d&&(this.color=d);var m=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y+t.size.y,t.origin.z),Po().NEG_Z_AXIS,new ro(1,0)),y=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y+t.size.y,t.origin.z),Po().NEG_Z_AXIS,new ro(0,0)),$=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y,t.origin.z),Po().NEG_Z_AXIS,new ro(0,1)),b=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y,t.origin.z),Po().NEG_Z_AXIS,new ro(1,1));this.geometry.addTriIndices_qt1dr2$(m,y,$),this.geometry.addTriIndices_qt1dr2$(m,$,b),this.color=f;var g=t.leftColor,v=this.color;null!=g&&(this.color=g);var x=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y,t.origin.z+t.size.z),Po().NEG_X_AXIS,new ro(1,1)),w=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y+t.size.y,t.origin.z+t.size.z),Po().NEG_X_AXIS,new ro(1,0)),z=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y+t.size.y,t.origin.z),Po().NEG_X_AXIS,new ro(0,0)),C=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y,t.origin.z),Po().NEG_X_AXIS,new ro(0,1));this.geometry.addTriIndices_qt1dr2$(x,w,z),this.geometry.addTriIndices_qt1dr2$(x,z,C),this.color=v;var S=t.topColor,k=this.color;null!=S&&(this.color=S);var L=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y+t.size.y,t.origin.z+t.size.z),Po().Y_AXIS,new ro(0,1)),j=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y+t.size.y,t.origin.z+t.size.z),Po().Y_AXIS,new ro(1,1)),N=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y+t.size.y,t.origin.z),Po().Y_AXIS,new ro(1,0)),P=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y+t.size.y,t.origin.z),Po().Y_AXIS,new ro(0,0));this.geometry.addTriIndices_qt1dr2$(L,j,N),this.geometry.addTriIndices_qt1dr2$(L,N,P),this.color=k;var T=t.bottomColor,O=this.color;null!=T&&(this.color=T);var E=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y,t.origin.z),Po().NEG_Y_AXIS,new ro(0,1)),M=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y,t.origin.z),Po().NEG_Y_AXIS,new ro(1,1)),R=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x+t.size.x,t.origin.y,t.origin.z+t.size.z),Po().NEG_Y_AXIS,new ro(1,0)),I=this.vertex_n440gp$(e.set_y2kzbl$(t.origin.x,t.origin.y,t.origin.z+t.size.z),Po().NEG_Y_AXIS,new ro(0,0));this.geometry.addTriIndices_qt1dr2$(E,M,R),this.geometry.addTriIndices_qt1dr2$(E,R,I),this.color=O},PC.prototype.cylinder_z0gg86$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.cylinder_z0gg86$",Y((function(){var e=t.de.fabmax.kool.util.CylinderProps;return function(t){var n=new e;t(n),this.cylinder_tnt2h$(n)}}))),PC.prototype.cylinder_tnt2h$=function(t){var e,n=Mo();if(t.fixNegativeSize(),t.bottomFill){this.transform.push(),this.translate_czzhiu$(t.origin),this.rotate_ad55pp$(90,Po().X_AXIS);var i=new EC;i.steps=t.steps,i.radius=t.bottomRadius,this.circle_59f34t$(i),this.transform.pop()}if(t.topFill){this.transform.push(),this.translate_y2kzbl$(t.origin.x,t.origin.y+t.height,t.origin.z),this.rotate_ad55pp$(-90,Po().X_AXIS);var o=new EC;o.steps=t.steps,o.radius=t.topRadius,this.circle_59f34t$(o),this.transform.pop()}var r=t.bottomRadius-t.topRadius,s=r*r+t.height*t.height,a=r/R.sqrt(s),l=90-R.acos(a)*Ij.RAD_2_DEG,p=0,u=0;e=t.steps;for(var c=0;c<=e;c++){var _=c*V.PI*2/t.steps,h=R.cos(_),d=c*V.PI*2/t.steps,f=R.sin(d),m=t.origin.x+t.bottomRadius*h,y=t.origin.z+t.bottomRadius*f,$=t.origin.x+t.topRadius*h,b=t.origin.z+t.topRadius*f;n.set_y2kzbl$(h,0,f).rotate_7b5o5w$(l,f,0,h);var g,v,x,w=this.geometry;w.checkBufferSizes_za3lpa$(),g=w.vertexSizeF;for(var z=1;z<=g;z++)w.dataF.plusAssign_mx4ult$(0);v=w.vertexSizeI;for(var C=1;C<=v;C++)w.dataI.plusAssign_za3lpa$(0);w.vertexIt.index=(x=w.numVertices,w.numVertices=x+1|0,x);var S,k=w.vertexIt;k.color.set_czzhhz$(this.color),k.position.set_y2kzbl$(m,t.origin.y,y),k.normal.set_czzhiu$(n),this.transform.transform_w1lst9$(k.position),this.hasNormals&&0!==k.normal.sqrLength()&&(this.transform.transform_w1lst9$(k.normal,0),k.normal.norm()),null!=(S=this.vertexModFun)&&S(k),w.bounds.add_czzhiu$(w.vertexIt.position),w.hasChanged=!0;var L,j,N,P=w.numVertices-1|0,T=this.geometry;T.checkBufferSizes_za3lpa$(),L=T.vertexSizeF;for(var O=1;O<=L;O++)T.dataF.plusAssign_mx4ult$(0);j=T.vertexSizeI;for(var E=1;E<=j;E++)T.dataI.plusAssign_za3lpa$(0);T.vertexIt.index=(N=T.numVertices,T.numVertices=N+1|0,N);var M,I=T.vertexIt;I.color.set_czzhhz$(this.color),I.position.set_y2kzbl$($,t.origin.y+t.height,b),I.normal.set_czzhiu$(n),this.transform.transform_w1lst9$(I.position),this.hasNormals&&0!==I.normal.sqrLength()&&(this.transform.transform_w1lst9$(I.normal,0),I.normal.norm()),null!=(M=this.vertexModFun)&&M(I),T.bounds.add_czzhiu$(T.vertexIt.position),T.hasChanged=!0;var A=T.numVertices-1|0;c>0&&(this.geometry.addTriIndices_qt1dr2$(p,u,P),this.geometry.addTriIndices_qt1dr2$(u,A,P)),p=P,u=A}},PC.prototype.grid_vs3byi$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.grid_vs3byi$",Y((function(){var e=t.de.fabmax.kool.util.GridProps;return function(t){var n=new e;t(n),this.grid_gtbnl3$(n)}}))),PC.prototype.grid_gtbnl3$=function(t){var n,i,o,r,s=Mo(),a=-t.sizeX/2,l=-t.sizeY/2,p=t.sizeX/t.stepsX,u=t.sizeY/t.stepsY,c=t.stepsX+1|0;t.xDir.cross_2gj7b4$(t.yDir,s).norm(),n=t.stepsY;for(var _=0;_<=n;_++){i=t.stepsX;for(var h=0;h<=i;h++){var d,f,m,y=a+h*p,$=l+_*u,b=t.heightFun(h,_),g=this.geometry;g.checkBufferSizes_za3lpa$(),d=g.vertexSizeF;for(var v=1;v<=d;v++)g.dataF.plusAssign_mx4ult$(0);f=g.vertexSizeI;for(var x=1;x<=f;x++)g.dataI.plusAssign_za3lpa$(0);g.vertexIt.index=(m=g.numVertices,g.numVertices=m+1|0,m);var w,z=g.vertexIt;z.color.set_czzhhz$(this.color),z.position.set_czzhiu$(t.center),z.position.x=z.position.x+(t.xDir.x*y+t.yDir.x*$+s.x*b),z.position.y=z.position.y+(t.xDir.y*y+t.yDir.y*$+s.y*b),z.position.z=z.position.z+(t.xDir.z*y+t.yDir.z*$+s.z*b),z.texCoord.set_dleff0$(h/t.stepsX,_/t.stepsY),this.transform.transform_w1lst9$(z.position),this.hasNormals&&0!==z.normal.sqrLength()&&(this.transform.transform_w1lst9$(z.normal,0),z.normal.norm()),null!=(w=this.vertexModFun)&&w(z),g.bounds.add_czzhiu$(g.vertexIt.position),g.hasChanged=!0;var C=g.numVertices-1|0;h>0&&_>0&&(h%2==_%2?(this.geometry.addTriIndices_qt1dr2$(C-c-1|0,C,C-1|0),this.geometry.addTriIndices_qt1dr2$(C-c|0,C,C-c-1|0)):(this.geometry.addTriIndices_qt1dr2$(C-c|0,C,C-1|0),this.geometry.addTriIndices_qt1dr2$(C-c|0,C-1|0,C-c-1|0)))}}var S=this.geometry.numIndices-(6*e.imul(t.stepsX,t.stepsY)|0)|0,k=Mo(),L=Mo(),j=this.geometry.get_za3lpa$(0),N=this.geometry.get_za3lpa$(0),P=this.geometry.get_za3lpa$(0);o=this.geometry.numIndices;for(var T=S;T<o;T+=3)j.index=this.geometry.indices.get_za3lpa$(T),N.index=this.geometry.indices.get_za3lpa$(T+1|0),P.index=this.geometry.indices.get_za3lpa$(T+2|0),N.position.subtract_2gj7b4$(j.position,k).norm(),P.position.subtract_2gj7b4$(j.position,L).norm(),k.cross_2gj7b4$(L,s).norm(),j.normal.add_czzhiu$(s),N.normal.add_czzhiu$(s),P.normal.add_czzhiu$(s);var O=this.geometry.numVertices-e.imul(t.stepsX+1|0,t.stepsY+1|0)|0;r=this.geometry.numVertices;for(var E=O;E<r;E++)j.index=E,j.normal.norm()},PC.prototype.geometry_ejqx55$=function(t,e){var n;if(void 0===e&&(e=!1),t.primitiveType!==iC())throw _i("Only triangle geometry can be added");var i,o=this.geometry.numVertices,r=this.color;i=t.numVertices;for(var s=0;s<i;s++){t.vertexIt.index=s;var a=t.vertexIt;e&&(this.color=a.color),this.vertex_n440gp$(a.position,a.normal,a.texCoord)}n=t.numIndices;for(var l=0;l<n;l++)this.geometry.addIndex_za3lpa$(o+t.indices.get_za3lpa$(l)|0);this.color=r},PC.prototype.text_7d71kc$=K("kool-kool-core.de.fabmax.kool.util.MeshBuilder.text_7d71kc$",Y((function(){var e=t.de.fabmax.kool.util.TextProps;return function(t,n,i){void 0===n&&(n=0);var o=new e(t);i(o),this.text_s8z339$(o,n)}}))),PC.prototype.text_s8z339$=function(t,e){var n;if(void 0===e&&(e=0),this.transform.push(),0!==e){var i=e/t.font.charMap.fontProps.sizePts;this.scale_y2kzbl$(i,i,i)}this.translate_czzhiu$(t.origin);var o={v:0};for(n=Ue(t.text);n.hasNext();){var r=O(n.next());10===r&&(this.translate_y2kzbl$(0,-t.font.lineSpace,0),o.v=0);var s=t.font.charMap.get_11rb$(N(r));if(null!=s){var a=new FC;a.origin.set_y2kzbl$(o.v-s.xOffset,s.yBaseline-s.height,0),a.size.set_dleff0$(s.width,s.height),a.texCoordUpperLeft.set_czzhjp$(s.uvMin),a.texCoordUpperRight.set_dleff0$(s.uvMax.x,s.uvMin.y),a.texCoordLowerLeft.set_dleff0$(s.uvMin.x,s.uvMax.y),a.texCoordLowerRight.set_czzhjp$(s.uvMax),this.rect_e5k3t5$(a),o.v+=s.advance}}this.transform.pop()},PC.$metadata$={kind:$,simpleName:"MeshBuilder",interfaces:[]},EC.prototype.zeroTexCoords=function(){this.uvCenter.set_czzhjp$(lo().ZERO),this.uvRadius=0},EC.prototype.fullTexCoords=function(){this.uvCenter.set_dleff0$(.5,.5),this.uvRadius=.5},EC.$metadata$={kind:$,simpleName:"CircleProps",interfaces:[]},RC.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var AC=null;function DC(){return null===AC&&new RC,AC}function BC(){var t;this.radius=1,this.steps=5,this.center=Mo(),this.uv_0=co(),this.texCoordGenerator=(t=this,function(e,n){return t.defaultTexCoordGenerator_0(e,n)})}function FC(){this.cornerRadius=0,this.cornerSteps=8,this.origin=Mo(),this.size=new uo(1,1),this.texCoordUpperLeft=co(),this.texCoordUpperRight=co(),this.texCoordLowerLeft=co(),this.texCoordLowerRight=co(),this.generateTexCoords_mx4ult$(1)}function qC(){this.origin=Mo(),this.size=new Eo(1,1,1),this.topColor=null,this.bottomColor=null,this.leftColor=null,this.rightColor=null,this.frontColor=null,this.backColor=null}function UC(){this.bottomRadius=1,this.topRadius=1,this.steps=20,this.height=1,this.topFill=!0,this.bottomFill=!0,this.origin=Mo()}function VC(t){this.font=t,this.text="",this.origin=Mo()}function WC(t,n){var i;XC(),void 0===n&&(n=1e3),this.instanceAttributes=t,this.maxInstances=n,this.attributeOffsets=null,this.instanceSizeF=0,this.strideBytesF=0,this.usage=sC(),this.numInstances=0,this.dataF=null,this.hasChanged=!0;var o=0,r=C();for(i=this.instanceAttributes.iterator();i.hasNext();){var s=i.next();if(s.type.isInt)throw G("For now only float attributes are supported");var a=o;r.put_xwzc9p$(s,a),o=o+s.type.byteSize|0}this.attributeOffsets=r,this.instanceSizeF=o/4|0,this.strideBytesF=o,this.dataF=Tj(e.imul(o,this.maxInstances))}function GC(){HC=this,this.MODEL_MAT=new us("attrib_model_mat",ps())}MC.$metadata$={kind:$,simpleName:"GridProps",interfaces:[]},BC.prototype.defaultTexCoordGenerator_0=function(t,e){return this.uv_0.set_dleff0$(e/(2*V.PI),t/V.PI)},BC.prototype.icoDefaults=function(){var t;return this.radius=1,this.steps=2,this.center.set_czzhiu$(Po().ZERO),this.texCoordGenerator=(t=this,function(e,n){return t.defaultTexCoordGenerator_0(e,n)}),this},BC.prototype.uvDefaults=function(){var t;return this.radius=1,this.steps=20,this.center.set_czzhiu$(Po().ZERO),this.texCoordGenerator=(t=this,function(e,n){return t.defaultTexCoordGenerator_0(e,n)}),this},BC.$metadata$={kind:$,simpleName:"SphereProps",interfaces:[]},Object.defineProperty(FC.prototype,"width",{configurable:!0,get:function(){return this.size.x},set:function(t){this.size.x=t}}),Object.defineProperty(FC.prototype,"height",{configurable:!0,get:function(){return this.size.y},set:function(t){this.size.y=t}}),FC.prototype.fixNegativeSize=function(){this.size.x<0&&(this.origin.x=this.origin.x+this.size.x,this.size.x=-this.size.x),this.size.y<0&&(this.origin.y=this.origin.y+this.size.y,this.size.y=-this.size.y)},FC.prototype.zeroTexCoords=function(){this.generateTexCoords_mx4ult$(0)},FC.prototype.generateTexCoords_mx4ult$=function(t){void 0===t&&(t=1),this.texCoordUpperLeft.set_dleff0$(0,0),this.texCoordUpperRight.set_dleff0$(t,0),this.texCoordLowerLeft.set_dleff0$(0,t),this.texCoordLowerRight.set_dleff0$(t,t)},FC.prototype.mirrorTexCoordsX=function(){var t=this.texCoordUpperLeft.x,e=this.texCoordLowerLeft.x;this.texCoordUpperLeft.x=this.texCoordUpperRight.x,this.texCoordUpperRight.x=t,this.texCoordLowerLeft.x=this.texCoordLowerRight.x,this.texCoordLowerRight.x=e},FC.prototype.mirrorTexCoordsY=function(){var t=this.texCoordUpperLeft.y,e=this.texCoordUpperRight.y;this.texCoordUpperLeft.y=this.texCoordLowerLeft.y,this.texCoordLowerLeft.y=t,this.texCoordUpperRight.y=this.texCoordLowerRight.y,this.texCoordLowerRight.y=e},FC.$metadata$={kind:$,simpleName:"RectProps",interfaces:[]},Object.defineProperty(qC.prototype,"width",{configurable:!0,get:function(){return this.size.x},set:function(t){this.size.x=t}}),Object.defineProperty(qC.prototype,"height",{configurable:!0,get:function(){return this.size.y},set:function(t){this.size.y=t}}),Object.defineProperty(qC.prototype,"depth",{configurable:!0,get:function(){return this.size.z},set:function(t){this.size.z=t}}),qC.prototype.fixNegativeSize=function(){this.size.x<0&&(this.origin.x=this.origin.x+this.size.x,this.size.x=-this.size.x),this.size.y<0&&(this.origin.y=this.origin.y+this.size.y,this.size.y=-this.size.y),this.size.z<0&&(this.origin.z=this.origin.z+this.size.z,this.size.z=-this.size.z)},qC.prototype.centered=function(){this.origin.x=this.origin.x-this.size.x/2,this.origin.y=this.origin.y-this.size.y/2,this.origin.z=this.origin.z-this.size.z/2},qC.prototype.colored_6taknv$=function(t){void 0===t&&(t=!0),t?(this.frontColor=O$().MD_RED.toLinear(),this.rightColor=O$().MD_AMBER.toLinear(),this.backColor=O$().MD_INDIGO.toLinear(),this.leftColor=O$().MD_CYAN.toLinear(),this.topColor=O$().MD_PURPLE.toLinear(),this.bottomColor=O$().MD_GREEN.toLinear()):(this.frontColor=O$().MD_RED,this.rightColor=O$().MD_AMBER,this.backColor=O$().MD_INDIGO,this.leftColor=O$().MD_CYAN,this.topColor=O$().MD_PURPLE,this.bottomColor=O$().MD_GREEN)},qC.$metadata$={kind:$,simpleName:"CubeProps",interfaces:[]},Object.defineProperty(UC.prototype,"radius",{configurable:!0,get:function(){return(this.bottomRadius+this.topRadius)/2},set:function(t){this.bottomRadius=t,this.topRadius=t}}),UC.prototype.fixNegativeSize=function(){this.height<0&&(this.origin.y=this.origin.y+this.height,this.height=-this.height)},UC.$metadata$={kind:$,simpleName:"CylinderProps",interfaces:[]},VC.$metadata$={kind:$,simpleName:"TextProps",interfaces:[]},WC.prototype.checkBufferSize_za3lpa$=function(t){if(void 0===t&&(t=1),(this.numInstances+t|0)>this.maxInstances)throw _i("Maximum number of instances exceeded, create with increased maxInstances")},WC.prototype.addInstance_u9cxs7$=K("kool-kool-core.de.fabmax.kool.util.MeshInstanceList.addInstance_u9cxs7$",Y((function(){var t=e.kotlin.IllegalStateException_init_pdl1vj$;return function(e){this.checkBufferSize_za3lpa$();var n=this.dataF.position;e(this.dataF);var i=this.dataF.position-n|0;if(i!==this.instanceSizeF)throw t("Expected data to grow by "+this.instanceSizeF+" elements, instead it grew by "+i);this.numInstances=this.numInstances+1|0,this.hasChanged=!0}}))),WC.prototype.clear=function(){this.numInstances=0,this.dataF.position=0,this.dataF.limit=this.dataF.capacity,this.hasChanged=!0},GC.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var HC=null;function XC(){return null===HC&&new GC,HC}function KC(t,e){JC(),this.maxSize_tysx8i$_0=t,this.factory_vv2li5$_0=e,this.recyclingStack_cbi09h$_0=E()}function YC(){ZC=this,this.DEFAULT_MAX_SIZE=1e4}WC.$metadata$={kind:$,simpleName:"MeshInstanceList",interfaces:[]},KC.prototype.get=function(){return this.recyclingStack_cbi09h$_0.isEmpty()?this.factory_vv2li5$_0():this.recyclingStack_cbi09h$_0.removeAt_za3lpa$(wt(this.recyclingStack_cbi09h$_0))},KC.prototype.recycle_trkh7z$=function(t){if(this.recyclingStack_cbi09h$_0.size<this.maxSize_tysx8i$_0)this.recyclingStack_cbi09h$_0.add_11rb$(t);else{var n=Hj.Log,i=vC.DEBUG,o=e.getKClassFromExpression(this).simpleName;i.level>=n.level.level&&n.printer(i,o,"Discarding recycled object "+e.getKClassFromExpression(t)+", stack is full: "+this.recyclingStack_cbi09h$_0.size)}return this},YC.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var ZC=null;function JC(){return null===ZC&&new YC,ZC}function QC(t,e){return e=e||Object.create(KC.prototype),KC.call(e,1e4,t),e}function tS(t){QC(t,this),this.liveObjects_0=E()}function eS(){this.tStart_0=0,this.reset()}function nS(){cS=this}function iS(t,e,n){this.vertices=t,this.indices=e,this.normal=n}function oS(t,n){this.outerRing=null,this.innerRings=E(),this.verts=E(),this.vertTree=null,this.edgeTree=null,this.vertInTriTrav=new pS,this.edgeIntersectionTrav=new uS,this.triangles=E(),this.triEdges=C();var i,o,r,s={v:0},a=z(M(t,10));for(i=t.iterator();i.hasNext();){var l,p=i.next();a.add_11rb$(new lS((l=s.v,s.v=l+1|0,l),p))}for(this.outerRing=new sS(a),o=n.iterator();o.hasNext();){var u,c=o.next(),_=this.innerRings,h=z(M(c,10));for(u=c.iterator();u.hasNext();){var d,f=u.next();h.add_11rb$(new lS((d=s.v,s.v=d+1|0,d),f))}var m=new sS(h);_.add_11rb$(m)}for(zt(this.verts,this.outerRing.points),r=this.innerRings.iterator();r.hasNext();){var y=r.next();zt(this.verts,y.points)}var $,b,g,v=E();for(this.addRingEdges_0(v,this.outerRing),$=this.innerRings.iterator();$.hasNext();){var x=$.next();this.addRingEdges_0(v,x)}for(this.edgeTree=new xS(v,TS()),this.vertTree=new xS(this.verts,jS()),b=this.innerRings.iterator();b.hasNext();){var w=b.next();this.insertBridgeEdge_0(w)}for(g=this.verts.iterator();g.hasNext();){var S=g.next();this.updateIsEar_0(S)}for(var k=this.verts.size-2|0;k>0;){var L=this.nextEarTip_0();if(null==L){var j=Hj.Log,N=vC.ERROR,P=e.getKClassFromExpression(this).simpleName;N.level>=j.level.level&&j.printer(N,P,"Triangulation failed: No more ear clipping candidates");break}this.clip_0(L),k=k-1|0}}function rS(t,n,i){this.v1=t,this.v2=n,this.v3=i,this.k1=e.Long.fromInt(this.v1.index).shiftLeft(32).or(e.Long.fromInt(this.v2.index)),this.k2=e.Long.fromInt(this.v2.index).shiftLeft(32).or(e.Long.fromInt(this.v3.index)),this.k3=e.Long.fromInt(this.v3.index).shiftLeft(32).or(e.Long.fromInt(this.v1.index)),this.a1=_S().interiorAngle_0(this.v3,this.v1,this.v2),this.a2=_S().interiorAngle_0(this.v1,this.v2,this.v3),this.a3=180-this.a1-this.a2;var o=this.a1,r=this.a2,s=this.a3,a=R.min(r,s);this.minA=R.min(o,a),this.longest=0,this.longestK=null;var l=this.v1.distance_czzhiu$(this.v2),p=this.v2.distance_czzhiu$(this.v3),u=this.v3.distance_czzhiu$(this.v1);l>p&&l>u?(this.longest=l,this.longestK=this.k1):p>l&&p>u?(this.longest=p,this.longestK=this.k2):(this.longest=u,this.longestK=this.k3)}function sS(t){this.points=null;var e,n=E();for(e=t.iterator();e.hasNext();){var i=e.next();(n.isEmpty()||i.distance_czzhiu$(q(n))>1e-4)&&n.add_11rb$(i)}q(n).distance_czzhiu$(F(n))<1e-4&&n.removeAt_za3lpa$(wt(n)),this.points=n}function aS(t,e){RS.call(this,t,e),t.nextEdge=this,e.prevEdge=this}function lS(t,e){Oo(e,this),this.index=t,this.interiorAngle=0,this.isEar=!1,this.isOpen=!0,this.prevEdge_gh04s7$_0=this.prevEdge_gh04s7$_0,this.nextEdge_hknyfd$_0=this.nextEdge_hknyfd$_0}function pS(){ZS.call(this),this.v1_tcfd5c$_0=this.v1_tcfd5c$_0,this.v2_tcfd4h$_0=this.v2_tcfd4h$_0,this.v3_tcfd3m$_0=this.v3_tcfd3m$_0,this.min=co(),this.max=co(),this.result=E()}function uS(){ZS.call(this),this.edge_ses85y$_0=this.edge_ses85y$_0,this.min=co(),this.max=co(),this.result=E()}KC.$metadata$={kind:$,simpleName:"ObjectRecycler",interfaces:[]},Object.defineProperty(tS.prototype,"size",{configurable:!0,get:function(){return this.liveObjects_0.size}}),tS.prototype.get_za3lpa$=function(t){return this.liveObjects_0.get_za3lpa$(t)},tS.prototype.get=function(){var t=KC.prototype.get.call(this);return this.liveObjects_0.add_11rb$(t),t},tS.prototype.recycle_trkh7z$=function(t){return this.liveObjects_0.remove_11rb$(t),KC.prototype.recycle_trkh7z$.call(this,t)},tS.prototype.use_oh3mgy$=K("kool-kool-core.de.fabmax.kool.util.ObjectPool.use_oh3mgy$",(function(t){var e=this.get();t(e),this.recycle_trkh7z$(e)})),tS.prototype.recycleAll=function(){var t;t=this.liveObjects_0;for(var e=0;e!==t.size;++e)KC.prototype.recycle_trkh7z$.call(this,this.liveObjects_0.get_za3lpa$(e));this.liveObjects_0.clear()},tS.$metadata$={kind:$,simpleName:"ObjectPool",interfaces:[KC]},eS.prototype.reset=function(){this.tStart_0=Ak()},eS.prototype.takeSecs=function(){return this.takeMs()/1e3},eS.prototype.takeMs=function(){return Ak()-this.tStart_0},eS.$metadata$={kind:$,simpleName:"PerfTimer",interfaces:[]},nS.prototype.fillPolygon_3v8xej$=function(t,e){void 0===e&&(e=jt());var n=this.computeNormal_uqk38n$(t),i=this.projectXy_gpxhmj$(t,n);this.xyArea_uqk38n$(i)<0&&(n.scale_mx4ult$(-1),i=this.projectXy_gpxhmj$(t,n));var o,r=z(M(e,10));for(o=e.iterator();o.hasNext();){var s=o.next();r.add_11rb$(this.projectXy_gpxhmj$(s,n))}var a,l=new oS(i,r),p=E();for(zt(p,t),a=e.iterator();a.hasNext();){var u=a.next();zt(p,u)}var c,_=E();for(c=l.triangles.iterator();c.hasNext();){var h=c.next(),d=h.v1.index;_.add_11rb$(d);var f=h.v2.index;_.add_11rb$(f);var m=h.v3.index;_.add_11rb$(m)}return new iS(Ge(p),Ve(_),n)},nS.prototype.computeNormal_uqk38n$=function(t){var e,n,i=x([t.get_za3lpa$(0)]);for(n=t.iterator();n.hasNext();){var o,r=n.next(),s=r.distance_czzhiu$(q(i));o=Ij.FUZZY_EQ_F,R.abs(s)<=o||i.add_11rb$(r)}for(var a=Ro(i.get_za3lpa$(1)).subtract_czzhiu$(i.get_za3lpa$(0)).norm(),l=Ro(i.get_za3lpa$(2)).subtract_czzhiu$(i.get_za3lpa$(1)).norm(),p=2;;){var u=l.times_czzhiu$(a);if(!(R.abs(u)>.8&&p<i.size))break;l.set_czzhiu$(i.get_za3lpa$((p+1|0)%i.size)).subtract_czzhiu$(i.get_za3lpa$((e=p,p=e+1|0,e))).norm()}return a.cross_2gj7b4$(l,Mo())},nS.prototype.projectXy_gpxhmj$=function(t,e){var n=e.times_czzhiu$(Po().X_AXIS),i=R.abs(n)<.7?Ro(Po().X_AXIS):Ro(Po().Z_AXIS),o=e.cross_2gj7b4$(i,Mo()).norm();o.cross_2gj7b4$(e,i).norm();var r,s=z(M(t,10));for(r=t.iterator();r.hasNext();){var a=r.next();s.add_11rb$(new Lo(a.times_czzhiu$(i),a.times_czzhiu$(o),0))}return s},nS.prototype.xyArea_uqk38n$=function(t){for(var e=0,n=0;n!==t.size;++n){var i=t.get_za3lpa$(n),o=t.get_za3lpa$((n+1|0)%t.size);e+=i.x*o.y-i.y*o.x}return.5*e},nS.prototype.interiorAngle_0=function(t,e,n){var i=t.y-e.y,o=t.x-e.x,r=R.atan2(i,o),s=n.y-e.y,a=n.x-e.x,l=(r-R.atan2(s,a))*Ij.RAD_2_DEG;return l<0?l+360:l},Object.defineProperty(iS.prototype,"numTriangles",{configurable:!0,get:function(){return this.indices.length/3|0}}),iS.$metadata$={kind:$,simpleName:"TriangulatedPolygon",interfaces:[]},oS.prototype.addRingEdges_0=function(t,e){var n;n=e.points;for(var i=0;i!==n.size;++i){var o=new aS(e.points.get_za3lpa$(i),e.points.get_za3lpa$((i+1|0)%e.points.size));t.add_11rb$(o)}},oS.prototype.insertBridgeEdge_0=function(t){var n,i=null;n=t.points;for(var o=0;o!==n.size;++o){var r;r=this.outerRing.points;for(var s=0;s!==r.size;++s){var a=new RS(t.points.get_za3lpa$(o),this.outerRing.points.get_za3lpa$(s));(null==i||a.length<i.length)&&this.noEdgeIntersect_0(a)&&(i=a)}}if(null!=i){var l=i.pt0,p=l.prevEdge.pt0,u=new lS(l.index,l);this.verts.add_11rb$(u);var c=i.pt1,_=c.nextEdge.pt1,h=new lS(c.index,c);this.verts.add_11rb$(h),new aS(p,u),new aS(h,_),new aS(c,l),new aS(u,h)}else{var d=Hj.Log,f=vC.ERROR,m=e.getKClassFromExpression(this).simpleName;f.level>=d.level.level&&d.printer(f,m,"No suitable bridge edge for hole insertion")}},oS.prototype.nextEarTip_0=function(){var t,e={v:null};for(t=this.verts.iterator();t.hasNext();){var n=t.next();n.isOpen&&n.isEar&&(null==e.v||w(e.v).interiorAngle>n.interiorAngle)&&(e.v=n)}return e.v},oS.prototype.clip_0=function(t){t.isOpen=!1;var e=new rS(t.prevEdge.pt0,t,t.nextEdge.pt1);this.addTriangle_0(e);var n=new aS(t.prevEdge.pt0,t.nextEdge.pt1);this.updateIsEar_0(n.pt0),this.updateIsEar_0(n.pt1),e.minA<30&&this.trySwap_0(e)},oS.prototype.addTriangle_0=function(t){this.triangles.add_11rb$(t);var e=this.triEdges,n=t.k1;e.put_xwzc9p$(n,t);var i=this.triEdges,o=t.k2;i.put_xwzc9p$(o,t);var r=this.triEdges,s=t.k3;r.put_xwzc9p$(s,t)},oS.prototype.removeTriangle_0=function(t){this.triangles.remove_11rb$(t),this.triEdges.remove_11rb$(t.k1),this.triEdges.remove_11rb$(t.k2),this.triEdges.remove_11rb$(t.k3)},oS.prototype.trySwap_0=function(t){var e=this.triEdges.get_11rb$(this.opp_0(t.longestK));if(null!=e){var n,i,o=e.containsIndex_za3lpa$(t.v1.index)?e.containsIndex_za3lpa$(t.v2.index)?Rt([t.v3,t.v1,e.oppVertex_vux9f0$(t.v1.index,t.v2.index),t.v2]):Rt([t.v2,t.v3,e.oppVertex_vux9f0$(t.v3.index,t.v1.index),t.v1]):Rt([t.v1,t.v2,e.oppVertex_vux9f0$(t.v2.index,t.v3.index),t.v3]);t.containsIndex_za3lpa$(o.get_za3lpa$(0).index)&&t.containsIndex_za3lpa$(o.get_za3lpa$(1).index)&&t.containsIndex_za3lpa$(o.get_za3lpa$(2).index)?(n=new rS(o.get_za3lpa$(0),o.get_za3lpa$(1),o.get_za3lpa$(3)),i=new rS(o.get_za3lpa$(3),o.get_za3lpa$(1),o.get_za3lpa$(2))):(n=new rS(o.get_za3lpa$(0),o.get_za3lpa$(1),o.get_za3lpa$(2)),i=new rS(o.get_za3lpa$(0),o.get_za3lpa$(2),o.get_za3lpa$(3)));var r=n.minA,s=i.minA,a=R.min(r,s),l=t.minA,p=e.minA;a>R.min(l,p)&&(this.removeTriangle_0(t),this.removeTriangle_0(e),this.addTriangle_0(n),this.addTriangle_0(i))}},oS.prototype.opp_0=function(t){var e=t.shiftRight(32).and(We);return t.and(We).shiftLeft(32).or(e)},oS.prototype.updateIsEar_0=function(t){var e;t.updateInteriorAngle(),e=!(t.interiorAngle>=180)&&this.noVertexInside_0(t.prevEdge.pt0,t,t.nextEdge.pt1),t.isEar=e},oS.prototype.noVertexInside_0=function(t,e,n){return this.vertInTriTrav.setup_6vy1vz$(t,e,n).traverse_7efza$(this.vertTree),this.vertInTriTrav.result.isEmpty()},oS.prototype.noEdgeIntersect_0=function(t){return this.edgeIntersectionTrav.setup_vktcv1$(t).traverse_7efza$(this.edgeTree),this.edgeIntersectionTrav.result.isEmpty()},oS.$metadata$={kind:$,simpleName:"Triangulator",interfaces:[]},rS.prototype.oppVertex_vux9f0$=function(t,e){return this.v1.index!==t&&this.v1.index!==e?this.v1:this.v2.index!==t&&this.v2.index!==e?this.v2:this.v3},rS.prototype.containsIndex_za3lpa$=function(t){return this.v1.index===t||this.v2.index===t||this.v3.index===t},rS.$metadata$={kind:$,simpleName:"PolyTri",interfaces:[]},sS.$metadata$={kind:$,simpleName:"PolyRing",interfaces:[]},aS.$metadata$={kind:$,simpleName:"PolyEdge",interfaces:[RS]},Object.defineProperty(lS.prototype,"prevEdge",{configurable:!0,get:function(){return null==this.prevEdge_gh04s7$_0?_t("prevEdge"):this.prevEdge_gh04s7$_0},set:function(t){this.prevEdge_gh04s7$_0=t}}),Object.defineProperty(lS.prototype,"nextEdge",{configurable:!0,get:function(){return null==this.nextEdge_hknyfd$_0?_t("nextEdge"):this.nextEdge_hknyfd$_0},set:function(t){this.nextEdge_hknyfd$_0=t}}),lS.prototype.updateInteriorAngle=function(){this.interiorAngle=_S().interiorAngle_0(this.prevEdge.pt0,this,this.nextEdge.pt1)},lS.$metadata$={kind:$,simpleName:"PolyVertex",interfaces:[Lo]},Object.defineProperty(pS.prototype,"v1",{configurable:!0,get:function(){return null==this.v1_tcfd5c$_0?_t("v1"):this.v1_tcfd5c$_0},set:function(t){this.v1_tcfd5c$_0=t}}),Object.defineProperty(pS.prototype,"v2",{configurable:!0,get:function(){return null==this.v2_tcfd4h$_0?_t("v2"):this.v2_tcfd4h$_0},set:function(t){this.v2_tcfd4h$_0=t}}),Object.defineProperty(pS.prototype,"v3",{configurable:!0,get:function(){return null==this.v3_tcfd3m$_0?_t("v3"):this.v3_tcfd3m$_0},set:function(t){this.v3_tcfd3m$_0=t}}),pS.prototype.setup_6vy1vz$=function(t,e,n){this.v1=t,this.v2=e,this.v3=n,this.result.clear();var i=this.min,o=t.x,r=e.x,s=n.x,a=R.min(r,s),l=R.min(o,a),p=t.y,u=e.y,c=n.y,_=R.min(u,c);i.set_dleff0$(l,R.min(p,_));var h=this.max,d=t.x,f=e.x,m=n.x,y=R.max(f,m),$=R.max(d,y),b=t.y,g=e.y,v=n.y,x=R.max(g,v);return h.set_dleff0$($,R.max(b,x)),this},pS.prototype.traverseChildren_4w85ke$=function(t,e){var n;n=e.children;for(var i=0;i!==n.size;++i){var o=e.children.get_za3lpa$(i),r=o.bounds;this.min.x<=r.max.x&&this.max.x>=r.min.x&&this.min.y<=r.max.y&&this.max.y>=r.min.y&&this.traverseNode_4w85ke$(t,o)}},pS.prototype.traverseLeaf_4w85ke$=function(t,e){var n,i,o,r;i=(n=e.nodeRange).first,o=n.last,r=n.step;for(var s=i;s<=o;s+=r){var a=e.items.get_za3lpa$(s),l=a.x>=this.min.x&&a.x<=this.max.x&&a.y>=this.min.y&&a.y<=this.max.y,p=a.index!==this.v1.index&&a.index!==this.v2.index&&a.index!==this.v3.index;l&&p&&this.isPointInTriangle_0(a,this.v1,this.v2,this.v3)&&this.result.add_11rb$(a)}},pS.prototype.isPointInTriangle_0=function(t,e,n,i){var o=this.pointEdgeSign_0(t,e,n),r=this.pointEdgeSign_0(t,n,i),s=this.pointEdgeSign_0(t,i,e);return!((o<0||r<0||s<0)&&(o>0||r>0||s>0))},pS.prototype.pointEdgeSign_0=function(t,e,n){return(t.x-n.x)*(e.y-n.y)-(e.x-n.x)*(t.y-n.y)},pS.$metadata$={kind:$,simpleName:"VertsInTriTraverser",interfaces:[ZS]},Object.defineProperty(uS.prototype,"edge",{configurable:!0,get:function(){return null==this.edge_ses85y$_0?_t("edge"):this.edge_ses85y$_0},set:function(t){this.edge_ses85y$_0=t}}),uS.prototype.setup_vktcv1$=function(t){this.edge=t,this.result.clear();var e=this.min,n=t.pt0.x,i=t.pt1.x,o=R.min(n,i),r=t.pt0.y,s=t.pt1.y;e.set_dleff0$(o,R.min(r,s));var a=this.max,l=t.pt0.x,p=t.pt1.x,u=R.max(l,p),c=t.pt0.y,_=t.pt1.y;return a.set_dleff0$(u,R.max(c,_)),this},uS.prototype.traverseChildren_4w85ke$=function(t,e){var n;n=e.children;for(var i=0;i!==n.size;++i){var o=e.children.get_za3lpa$(i),r=o.bounds;this.min.x<=r.max.x&&this.max.x>=r.min.x&&this.min.y<=r.max.y&&this.max.y>=r.min.y&&this.traverseNode_4w85ke$(t,o)}},uS.prototype.traverseLeaf_4w85ke$=function(t,e){var n,i,o,r;i=(n=e.nodeRange).first,o=n.last,r=n.step;for(var s=i;s<=o;s+=r){var a=e.items.get_za3lpa$(s),l=a.pt0.x,p=a.pt1.x,u=R.min(l,p),c=a.pt0.y,_=a.pt1.y,h=R.min(c,_),d=a.pt0.x,f=a.pt1.x,m=R.max(d,f),y=a.pt0.y,$=a.pt1.y,b=R.max(y,$);this.min.x<=m&&this.max.x>=u&&this.min.y<=b&&this.max.y>=h&&this.isEdgeIntersect_0(this.edge.pt0,this.edge.pt1,a.pt0,a.pt1)&&this.result.add_11rb$(a)}},uS.prototype.isEdgeIntersect_0=function(t,e,n,i){var o,r=(t.x-e.x)*(n.y-i.y)-(t.y-e.y)*(n.x-i.x);if(o=Ij.FUZZY_EQ_F,!(R.abs(r)<=o)){var s=t.x*e.y-t.y*e.x,a=n.x*i.y-n.y*i.x,l=(s*(n.x-i.x)-a*(t.x-e.x))/r,p=(s*(n.y-i.y)-a*(t.y-e.y))/r,u=l-t.x,c=p-t.y,_=e.x-t.x,h=e.y-t.y,d=l-n.x,f=p-n.y,m=i.x-n.x,y=i.y-n.y;return u*u+c*c<_*_+h*h&&d*d+f*f<m*m+y*y&&u*_+c*h>0&&d*m+f*y>0}return!1},uS.$metadata$={kind:$,simpleName:"EdgeIntersectTraverser",interfaces:[ZS]},nS.$metadata$={kind:b,simpleName:"PolyUtil",interfaces:[]};var cS=null;function _S(){return null===cS&&new nS,cS}function hS(){}function dS(){this.shapes_h2hckg$_0=E()}function fS(){}function mS(t){fS.call(this),this.isClosed=t,this.positions_4d3v1q$_0=E(),this.normals=E(),this.texCoords=E(),this.color=null,this.prevIndices_0=E(),this.vertIndices_0=E()}function yS(){}function $S(t,e,n,i){void 0===n&&(n=2048),void 0===i&&(i=t);var o,r=i,s=new ua,l=n;s.name="SimpleShadowMap",s.setSize_vux9f0$(l,l),s.setDepthTexture_6taknv$(!0),s.clearColorTexture(),ds.call(this,r,new pa(s)),this.scene=t,this.lightIndex=e,this.lightViewProjMat=new xi,this.sceneCam=this.scene.camera,this.clipNear=1,this.clipFar=100,this.shaderDepthOffset=-.005,this.shadowBounds=null,this.nearSceneCamPlane_0=new nd,this.farSceneCamPlane_0=new nd,this.shadowCamBounds_0=new v$,this.tmpVec_0=Mo(),this.isUpdateDrawNode=!1,this.scene.addOffscreenPass_m1c2kf$(this),this.drawQueue.meshFilter=bS,this.onBeforeCollectDrawCommands.add_11rb$((o=this,function(t){if(o.lightIndex<o.scene.lighting.lights.size){var e=o.scene.lighting.lights.get_za3lpa$(o.lightIndex);o.setupCamera_0(e),o.camera.updateCamera_fd1mc0$(t,o.viewport),t.depthBiasMatrix.mul_u47j3u$(o.camera.viewProj,o.lightViewProjMat)}return a}))}function bS(t){return t.isCastingShadow}function gS(t,e,n,i,o,r){void 0===n&&(n=100),void 0===i&&(i=3),void 0===o&&(o=2048),void 0===r&&(r=t),this.lightIndex=e,this.maxRange=n,this.numCascades=i;var s,l=I(this.numCascades);s=l.length-1|0;for(var p=0;p<=s;p++){var u=R.pow(p,2),c=this.numCascades,_=u/R.pow(c,2),h=p+1|0,d=R.pow(h,2),f=this.numCascades,m=d/R.pow(f,2);l[p]=new vS(_,m)}this.mapRanges=l;var y,$,b=I(this.numCascades);y=b.length-1|0;for(var g=0;g<=y;g++){var v=new $S(t,this.lightIndex,o,r);v.setDefaultDepthOffset_6taknv$(!0),b[g]=v}if(this.cascades=b,this.viewSpaceRanges=new Float32Array(this.numCascades),this.numCascades>8)throw _i("Too many shadow cascades: "+this.numCascades+" (maximum is 8)");this.cascades[0].onBeforeCollectDrawCommands.add_11rb$(($=this,function(t){var e;e=$.numCascades;for(var n=0;n<e;n++){var i=$.mapRanges[n].near*$.maxRange,o=$.mapRanges[n].far*$.maxRange,r=2*R.sqrt(o);$.cascades[n].clipNear=i,$.cascades[n].clipFar=o+r,$.viewSpaceRanges[n]=-o}return a}))}function vS(t,e){this.near=t,this.far=e}function xS(t,n,i){void 0===i&&(i=20),WS.call(this,n),this.root_7kvd7y$_0=null;for(var o,r=t.size,s=Yt("get",function(t,e){return t.get_za3lpa$(e)}.bind(null,t)),a=z(r),l=0;l<r;l++)a.add_11rb$(s(l));this.items_hou3ok$_0=a,this.cmpX_7cl6f2$_0=(o=n,function(t,n){return e.compareTo(o.getMinX_trkh7z$(t),o.getMinX_trkh7z$(n))}),this.cmpY_7cl6fx$_0=function(t){return function(n,i){return e.compareTo(t.getMinY_trkh7z$(n),t.getMinY_trkh7z$(i))}}(n),this.cmpZ_7cl6gs$_0=function(t){return function(n,i){return e.compareTo(t.getMinZ_trkh7z$(n),t.getMinZ_trkh7z$(i))}}(n),this.root_7kvd7y$_0=new wS(this,A(t),0,i)}function wS(t,e,n,i){var o,r,s,a;this.$outer=t,GS.call(this,this.$outer,n),this.nodeRange_cforgo$_0=e,this.children_ay15fy$_0=E(),this.size_ugdyxc$_0=0;var l=Mo();this.size_ugdyxc$_0=this.nodeRange.last-this.nodeRange.first+1|0;var p=this.bounds;this.$outer;var u=p.isBatchUpdate;p.isBatchUpdate=!0;var c,_,h,d,f=this.$outer;_=(c=this.nodeRange).first,h=c.last,d=c.step;for(var m=_;m<=h;m+=d){var y=this.items.get_za3lpa$(m);p.add_czzhiu$(f.itemAdapter.getMin_hm1yd1$(y,l)),p.add_czzhiu$(f.itemAdapter.getMax_hm1yd1$(y,l))}if(p.isBatchUpdate=u,(this.nodeRange.last-this.nodeRange.first|0)>i){var $=this.$outer.cmpX_7cl6f2$_0;this.bounds.size.y>this.bounds.size.x&&this.bounds.size.y>this.bounds.size.z?$=this.$outer.cmpY_7cl6fx$_0:this.bounds.size.z>this.bounds.size.x&&this.bounds.size.z>this.bounds.size.y&&($=this.$outer.cmpZ_7cl6gs$_0);var b=this.nodeRange.first+((this.nodeRange.last-this.nodeRange.first|0)/2|0)|0;Ki(this.$outer.items_hou3ok$_0,this.nodeRange,b,$),this.children.add_11rb$(new wS(this.$outer,new Ut(this.nodeRange.first,b),n+1|0,i)),this.children.add_11rb$(new wS(this.$outer,new Ut(b+1|0,this.nodeRange.last),n+1|0,i))}else{r=(o=this.nodeRange).first,s=o.last,a=o.step;for(var g=r;g<=s;g+=a)this.$outer.itemAdapter.setNode_kvimhn$(this.items.get_za3lpa$(g),this)}}function zS(t,e){return void 0===e&&(e=10),new xS(t,MS(),e)}function CS(t,e){return void 0===e&&(e=10),new xS(t,TS(),e)}function SS(){}function kS(){LS=this}hS.$metadata$={kind:Z,simpleName:"ShapeContainer",interfaces:[]},Object.defineProperty(dS.prototype,"shapes",{configurable:!0,get:function(){return this.shapes_h2hckg$_0}}),dS.prototype.sample_l28n3f$=function(t,e,n){var i;for(i=this.shapes.iterator();i.hasNext();)i.next().sample_l28n3f$(t,e,n)},dS.prototype.fillTop_84rojv$=function(t){var e;for(e=this.shapes.iterator();e.hasNext();)e.next().fillTop_84rojv$(t)},dS.prototype.fillBottom_84rojv$=function(t){var e;for(e=this.shapes.iterator();e.hasNext();)e.next().fillBottom_84rojv$(t)},dS.$metadata$={kind:$,simpleName:"Profile",interfaces:[hS]},fS.$metadata$={kind:$,simpleName:"Shape",interfaces:[]},Object.defineProperty(mS.prototype,"positions",{configurable:!0,get:function(){return this.positions_4d3v1q$_0}}),Object.defineProperty(mS.prototype,"sampledVertIndices",{configurable:!0,get:function(){return this.vertIndices_0}}),Object.defineProperty(mS.prototype,"nVerts",{configurable:!0,get:function(){return this.positions.size}}),mS.prototype.getNormal_za3lpa$=function(t){return t<this.normals.size?this.normals.get_za3lpa$(t):Po().ZERO},mS.prototype.getTexCoord_za3lpa$=function(t){return t<this.texCoords.size?this.texCoords.get_za3lpa$(t):lo().ZERO},mS.prototype.xy_dleff0$=function(t,e){var n=this.positions,i=new Eo(t,e,0);n.add_11rb$(i)},mS.prototype.xyArc_kgmd6f$=function(t,e,n,i,o,r){void 0===r&&(r=!1);for(var s=i/o,a=new uo(t-n.x,e-n.y),l=0;l<=o;l++){if(this.xy_dleff0$(n.x+a.x,n.y+a.y),r){var p=this.normals,u=new Eo(a.x,a.y,0).norm();p.add_11rb$(u)}a.rotate_mx4ult$(s)}},mS.prototype.xz_dleff0$=function(t,e){var n=this.positions,i=new Eo(t,0,e);n.add_11rb$(i)},mS.prototype.xzArc_kgmd6f$=function(t,e,n,i,o,r){void 0===r&&(r=!1);for(var s=i/o,a=new uo(t-n.x,e-n.y),l=0;l<=o;l++){if(this.xz_dleff0$(n.x+a.x,n.y+a.y),r){var p=this.normals,u=new Eo(a.x,0,a.y).norm();p.add_11rb$(u)}a.rotate_mx4ult$(s)}},mS.prototype.uv_dleff0$=function(t,e){var n=this.texCoords,i=new uo(t,e);n.add_11rb$(i)},mS.prototype.normal_y2kzbl$=function(t,e,n){var i=this.normals,o=new Eo(t,e,n);i.add_11rb$(o)},mS.prototype.setTexCoordsX_mx4ult$=function(t){var e;for(e=this.texCoords.iterator();e.hasNext();)e.next().x=t},mS.prototype.setTexCoordsY_mx4ult$=function(t){var e;for(e=this.texCoords.iterator();e.hasNext();)e.next().y=t},mS.prototype.sample_l28n3f$=function(t,e,n){var i,o,r;this.prevIndices_0.clear(),this.prevIndices_0.addAll_brywnq$(this.vertIndices_0),this.vertIndices_0.clear(),null!=(i=this.color)&&(t.color=i);var s=0;for(o=this.positions.iterator();o.hasNext();){var a=o.next(),l=et((s=(r=s)+1|0,r)),p=this.vertIndices_0,u=t.vertex_n440gp$(a,this.getNormal_za3lpa$(l),this.getTexCoord_za3lpa$(l));p.add_11rb$(u)}e&&this.connect_xe2xvh$(t,this.prevIndices_0,n)},mS.prototype.connect_xe2xvh$=function(t,e,n){var i;if(!e.isEmpty()){i=e.size;for(var o=1;o<i;o++)n?(t.geometry.addTriIndices_qt1dr2$(e.get_za3lpa$(o-1|0),this.vertIndices_0.get_za3lpa$(o),e.get_za3lpa$(o)),t.geometry.addTriIndices_qt1dr2$(e.get_za3lpa$(o-1|0),this.vertIndices_0.get_za3lpa$(o-1|0),this.vertIndices_0.get_za3lpa$(o))):(t.geometry.addTriIndices_qt1dr2$(e.get_za3lpa$(o-1|0),e.get_za3lpa$(o),this.vertIndices_0.get_za3lpa$(o)),t.geometry.addTriIndices_qt1dr2$(e.get_za3lpa$(o-1|0),this.vertIndices_0.get_za3lpa$(o),this.vertIndices_0.get_za3lpa$(o-1|0)));var r=this.isClosed;r&&(r=!this.prevIndices_0.isEmpty()),r&&(n?(t.geometry.addTriIndices_qt1dr2$(q(e),F(this.vertIndices_0),F(e)),t.geometry.addTriIndices_qt1dr2$(q(e),q(this.vertIndices_0),F(this.vertIndices_0))):(t.geometry.addTriIndices_qt1dr2$(q(e),F(e),F(this.vertIndices_0)),t.geometry.addTriIndices_qt1dr2$(q(e),F(this.vertIndices_0),q(this.vertIndices_0))))}},mS.prototype.fillTop_84rojv$=function(t){var e,n=_S().fillPolygon_3v8xej$(this.positions);for(e=qe(J(n.indices),3).iterator();e.hasNext();){var i=e.next(),o=n.indices[i],r=n.indices[i+1|0],s=n.indices[i+2|0];t.geometry.addTriIndices_qt1dr2$(this.vertIndices_0.get_za3lpa$(o),this.vertIndices_0.get_za3lpa$(r),this.vertIndices_0.get_za3lpa$(s))}},mS.prototype.fillBottom_84rojv$=function(t){var e,n=_S().fillPolygon_3v8xej$(this.positions);for(e=qe(J(n.indices),3).iterator();e.hasNext();){var i=e.next(),o=n.indices[i],r=n.indices[i+1|0],s=n.indices[i+2|0];t.geometry.addTriIndices_qt1dr2$(this.vertIndices_0.get_za3lpa$(o),this.vertIndices_0.get_za3lpa$(s),this.vertIndices_0.get_za3lpa$(r))}},mS.$metadata$={kind:$,simpleName:"SimpleShape",interfaces:[fS]},yS.$metadata$={kind:Z,simpleName:"ShadowMap",interfaces:[]},Object.defineProperty($S.prototype,"isShadowMapEnabled",{configurable:!0,get:function(){return this.isEnabled},set:function(t){this.isEnabled=t}}),$S.prototype.setDefaultDepthOffset_6taknv$=function(t){this.shaderDepthOffset=t?-.001:-.005},$S.prototype.dispose_aemszp$=function(t){this.scene.removeOffscreenPass_m1c2kf$(this),ds.prototype.dispose_aemszp$.call(this,t)},$S.prototype.setupSampler_wl9pml$=function(t){null!=t&&(t.texture=this.depthTexture)},$S.prototype.setupCamera_0=function(t){switch(t.type.name){case"DIRECTIONAL":this.setupDirectionalLightCamera_0(t);break;case"SPOT":this.setupSpotLightCamera_0(t);break;case"POINT":throw new He}},$S.prototype.setupSpotLightCamera_0=function(t){var n=this.camera;e.isType(n,td)||((n=new td).projCorrectionMode=Jh(),this.camera=n),n.position.set_czzhiu$(t.position),n.lookAt.set_czzhiu$(t.position).add_czzhiu$(t.direction),n.fovY=t.spotAngle,n.clipNear=this.clipNear,n.clipFar=this.clipFar},$S.prototype.setupDirectionalLightCamera_0=function(t){var n=this.camera;if(!e.isType(n,Qh)){var i=new Qh;i.isKeepAspectRatio=!1,(n=i).projCorrectionMode=Jh(),this.camera=n}n.position.set_czzhiu$(Po().ZERO),n.lookAt.set_czzhiu$(t.direction);var o=t.direction.times_czzhiu$(Po().Y_AXIS);R.abs(o)>.99?n.up.set_czzhiu$(Po().NEG_Z_AXIS):n.up.set_czzhiu$(Po().Y_AXIS);var r=this.shadowBounds;null!=r?(this.shadowCamBounds_0.clear(),this.shadowCamBounds_0.add_czzhiu$(n.view.transform_w1lst9$(this.tmpVec_0.set_y2kzbl$(r.min.x,r.min.y,r.min.z),1)),this.shadowCamBounds_0.add_czzhiu$(n.view.transform_w1lst9$(this.tmpVec_0.set_y2kzbl$(r.min.x,r.min.y,r.max.z),1)),this.shadowCamBounds_0.add_czzhiu$(n.view.transform_w1lst9$(this.tmpVec_0.set_y2kzbl$(r.min.x,r.max.y,r.min.z),1)),this.shadowCamBounds_0.add_czzhiu$(n.view.transform_w1lst9$(this.tmpVec_0.set_y2kzbl$(r.min.x,r.max.y,r.max.z),1)),this.shadowCamBounds_0.add_czzhiu$(n.view.transform_w1lst9$(this.tmpVec_0.set_y2kzbl$(r.max.x,r.min.y,r.min.z),1)),this.shadowCamBounds_0.add_czzhiu$(n.view.transform_w1lst9$(this.tmpVec_0.set_y2kzbl$(r.max.x,r.min.y,r.max.z),1)),this.shadowCamBounds_0.add_czzhiu$(n.view.transform_w1lst9$(this.tmpVec_0.set_y2kzbl$(r.max.x,r.max.y,r.min.z),1)),this.shadowCamBounds_0.add_czzhiu$(n.view.transform_w1lst9$(this.tmpVec_0.set_y2kzbl$(r.max.x,r.max.y,r.max.z),1))):(this.sceneCam.computeFrustumPlane_jwr40o$(this.clipNear,this.nearSceneCamPlane_0),this.sceneCam.computeFrustumPlane_jwr40o$(this.clipFar,this.farSceneCamPlane_0),this.transform_0(n.view,this.nearSceneCamPlane_0),this.transform_0(n.view,this.farSceneCamPlane_0),this.setPlanes_0(this.shadowCamBounds_0,this.nearSceneCamPlane_0,this.farSceneCamPlane_0)),n.left=this.shadowCamBounds_0.min.x,n.right=this.shadowCamBounds_0.max.x,n.bottom=this.shadowCamBounds_0.min.y,n.top=this.shadowCamBounds_0.max.y,n.near=-this.shadowCamBounds_0.max.z-20,n.far=-this.shadowCamBounds_0.min.z},$S.prototype.transform_0=function(t,e){t.transform_w1lst9$(e.upperLeft),t.transform_w1lst9$(e.upperRight),t.transform_w1lst9$(e.lowerLeft),t.transform_w1lst9$(e.lowerRight)},$S.prototype.setPlanes_0=function(t,e,n){var i=t.isBatchUpdate;t.isBatchUpdate=!0,t.clear(),t.add_czzhiu$(e.upperLeft),t.add_czzhiu$(e.upperRight),t.add_czzhiu$(e.lowerLeft),t.add_czzhiu$(e.lowerRight),t.add_czzhiu$(n.upperLeft),t.add_czzhiu$(n.upperRight),t.add_czzhiu$(n.lowerLeft),t.add_czzhiu$(n.lowerRight),t.isBatchUpdate=i},$S.$metadata$={kind:$,simpleName:"SimpleShadowMap",interfaces:[yS,ds]},Object.defineProperty(gS.prototype,"drawNode",{configurable:!0,get:function(){return this.cascades[0].drawNode},set:function(t){var e,n=this.cascades;for(e=0;e!==n.length;++e)n[e].drawNode=t}}),Object.defineProperty(gS.prototype,"isShadowMapEnabled",{configurable:!0,get:function(){return this.cascades[0].isEnabled},set:function(t){var e,n=this.cascades;for(e=0;e!==n.length;++e)n[e].isEnabled=t}}),gS.prototype.setMapRanges_8cqhcw$=function(t){var e,n=0,i=this.mapRanges.length;e=R.min(t.length,i);for(var o=0;o<e;o++)this.mapRanges[o].near=n,this.mapRanges[o].far=t[o],n=t[o]},gS.prototype.setupSampler_wl9pml$=function(t){if(null!=t){var e,n,i=this.cascades,o=0;for(e=0;e!==i.length;++e){var r=i[e];t.textures[(n=o,o=n+1|0,n)]=r.depthTexture}}},vS.prototype.toString=function(){return"["+this.near+".."+this.far+"]"},vS.$metadata$={kind:$,simpleName:"MapRange",interfaces:[]},gS.$metadata$={kind:$,simpleName:"CascadedShadowMap",interfaces:[yS]},Object.defineProperty(xS.prototype,"root",{configurable:!0,get:function(){return this.root_7kvd7y$_0}}),Object.defineProperty(xS.prototype,"size",{configurable:!0,get:function(){return this.items_hou3ok$_0.size}}),xS.prototype.contains_11rb$=function(t){return this.root.contains_uargzz$(t)},xS.prototype.containsAll_brywnq$=function(t){var e;for(e=t.iterator();e.hasNext();){var n=e.next();if(!this.contains_11rb$(n))return!1}return!0},xS.prototype.isEmpty=function(){return this.items_hou3ok$_0.isEmpty()},xS.prototype.iterator=function(){return this.items_hou3ok$_0.iterator()},Object.defineProperty(wS.prototype,"nodeRange",{get:function(){return this.nodeRange_cforgo$_0}}),Object.defineProperty(wS.prototype,"children",{configurable:!0,get:function(){return this.children_ay15fy$_0}}),Object.defineProperty(wS.prototype,"size",{configurable:!0,get:function(){return this.size_ugdyxc$_0}}),Object.defineProperty(wS.prototype,"items",{configurable:!0,get:function(){return this.$outer.items_hou3ok$_0}}),wS.prototype.contains_uargzz$=function(t){var e,n,i,o;if(this.isLeaf){n=(e=this.nodeRange).first,i=e.last,o=e.step;for(var r=n;r<=i;r+=o)if(Dt(this.items.get_za3lpa$(r),t))return!0;return!1}return this.children.get_za3lpa$(0).bounds.contains_y2kzbl$(this.$outer.itemAdapter.getMinX_trkh7z$(t),this.$outer.itemAdapter.getMinY_trkh7z$(t),this.$outer.itemAdapter.getMinZ_trkh7z$(t))?this.children.get_za3lpa$(0).contains_uargzz$(t):!!this.children.get_za3lpa$(1).bounds.contains_y2kzbl$(this.$outer.itemAdapter.getMinX_trkh7z$(t),this.$outer.itemAdapter.getMinY_trkh7z$(t),this.$outer.itemAdapter.getMinZ_trkh7z$(t))&&this.children.get_za3lpa$(1).contains_uargzz$(t)},wS.$metadata$={kind:$,simpleName:"KdNode",interfaces:[GS]},xS.$metadata$={kind:$,simpleName:"KdTree",interfaces:[WS]},SS.prototype.getCenterX_trkh7z$=function(t){return.5*(this.getMinX_trkh7z$(t)+this.getMaxX_trkh7z$(t))},SS.prototype.getCenterY_trkh7z$=function(t){return.5*(this.getMinY_trkh7z$(t)+this.getMaxY_trkh7z$(t))},SS.prototype.getCenterZ_trkh7z$=function(t){return.5*(this.getMinZ_trkh7z$(t)+this.getMaxZ_trkh7z$(t))},SS.prototype.getSzX_trkh7z$=function(t){return this.getMaxX_trkh7z$(t)-this.getMinX_trkh7z$(t)},SS.prototype.getSzY_trkh7z$=function(t){return this.getMaxY_trkh7z$(t)-this.getMinY_trkh7z$(t)},SS.prototype.getSzZ_trkh7z$=function(t){return this.getMaxZ_trkh7z$(t)-this.getMinZ_trkh7z$(t)},SS.prototype.getMin_hm1yd1$=function(t,e){return e.set_y2kzbl$(this.getMinX_trkh7z$(t),this.getMinY_trkh7z$(t),this.getMinZ_trkh7z$(t))},SS.prototype.getMax_hm1yd1$=function(t,e){return e.set_y2kzbl$(this.getMaxX_trkh7z$(t),this.getMaxY_trkh7z$(t),this.getMaxZ_trkh7z$(t))},SS.prototype.getCenter_hm1yd1$=function(t,e){return e.set_y2kzbl$(this.getCenterX_trkh7z$(t),this.getCenterY_trkh7z$(t),this.getCenterZ_trkh7z$(t))},SS.prototype.setNode_kvimhn$=function(t,e){},SS.$metadata$={kind:Z,simpleName:"ItemAdapter",interfaces:[]},kS.prototype.getMinX_trkh7z$=function(t){return t.x},kS.prototype.getMinY_trkh7z$=function(t){return t.y},kS.prototype.getMinZ_trkh7z$=function(t){return t.z},kS.prototype.getMaxX_trkh7z$=function(t){return t.x},kS.prototype.getMaxY_trkh7z$=function(t){return t.y},kS.prototype.getMaxZ_trkh7z$=function(t){return t.z},kS.prototype.getCenterX_trkh7z$=function(t){return t.x},kS.prototype.getCenterY_trkh7z$=function(t){return t.y},kS.prototype.getCenterZ_trkh7z$=function(t){return t.z},kS.prototype.getSzX_trkh7z$=function(t){return 0},kS.prototype.getSzY_trkh7z$=function(t){return 0},kS.prototype.getSzZ_trkh7z$=function(t){return 0},kS.prototype.getMin_hm1yd1$=function(t,e){return e.set_czzhiu$(t)},kS.prototype.getCenter_hm1yd1$=function(t,e){return e.set_czzhiu$(t)},kS.prototype.getMax_hm1yd1$=function(t,e){return e.set_czzhiu$(t)},kS.$metadata$={kind:b,simpleName:"Vec3fAdapter",interfaces:[SS]};var LS=null;function jS(){return null===LS&&new kS,LS}function NS(){PS=this}NS.prototype.getMinX_trkh7z$=function(t){return t.minX},NS.prototype.getMinY_trkh7z$=function(t){return t.minY},NS.prototype.getMinZ_trkh7z$=function(t){return t.minZ},NS.prototype.getMaxX_trkh7z$=function(t){return t.maxX},NS.prototype.getMaxY_trkh7z$=function(t){return t.maxY},NS.prototype.getMaxZ_trkh7z$=function(t){return t.maxZ},NS.prototype.getMin_hm1yd1$=function(t,e){return e.set_y2kzbl$(t.minX,t.minY,t.minZ)},NS.prototype.getMax_hm1yd1$=function(t,e){return e.set_y2kzbl$(t.maxX,t.maxY,t.maxZ)},NS.$metadata$={kind:b,simpleName:"EdgeAdapter",interfaces:[SS]};var PS=null;function TS(){return null===PS&&new NS,PS}function OS(){ES=this}OS.prototype.getMinX_trkh7z$=function(t){return t.minX},OS.prototype.getMinY_trkh7z$=function(t){return t.minY},OS.prototype.getMinZ_trkh7z$=function(t){return t.minZ},OS.prototype.getMaxX_trkh7z$=function(t){return t.maxX},OS.prototype.getMaxY_trkh7z$=function(t){return t.maxY},OS.prototype.getMaxZ_trkh7z$=function(t){return t.maxZ},OS.prototype.getMin_hm1yd1$=function(t,e){return e.set_y2kzbl$(t.minX,t.minY,t.minZ)},OS.prototype.getMax_hm1yd1$=function(t,e){return e.set_y2kzbl$(t.maxX,t.maxY,t.maxZ)},OS.$metadata$={kind:b,simpleName:"TriangleAdapter",interfaces:[SS]};var ES=null;function MS(){return null===ES&&new OS,ES}function RS(t,e){DS(),this.pt0=t,this.pt1=e,this.e=null,this.length=0,this.minX=0,this.minY=0,this.minZ=0,this.maxX=0,this.maxY=0,this.maxZ=0,this.tmpVec_j9agx3$_0=Mo(),this.tmpResult_bszuwa$_0=Mo(),this.e=this.pt1.subtract_2gj7b4$(this.pt0,Mo()).norm(),this.length=this.pt0.distance_czzhiu$(this.pt1);var n=this.pt0.x,i=this.pt1.x;this.minX=R.min(n,i);var o=this.pt0.y,r=this.pt1.y;this.minY=R.min(o,r);var s=this.pt0.z,a=this.pt1.z;this.minZ=R.min(s,a);var l=this.pt0.x,p=this.pt1.x;this.maxX=R.max(l,p);var u=this.pt0.y,c=this.pt1.y;this.maxY=R.max(u,c);var _=this.pt0.z,h=this.pt1.z;this.maxZ=R.max(_,h)}function IS(){AS=this}RS.prototype.rayDistanceSqr_nvyeur$=function(t){return t.sqrDistanceToPoint_czzhiu$(this.nearestPointOnEdge_lplggz$(t,this.tmpResult_bszuwa$_0))},RS.prototype.nearestPointOnEdge_lplggz$=function(t,e){var n,i=this.e.times_czzhiu$(t.direction),o=1-i*i;if(n=Ij.FUZZY_EQ_F,R.abs(o)<=n)return e.set_czzhiu$(this.pt0.sqrDistance_czzhiu$(t.origin)<this.pt1.sqrDistance_czzhiu$(t.origin)?this.pt0:this.pt1);t.origin.subtract_2gj7b4$(this.pt0,this.tmpVec_j9agx3$_0);var r,s=(this.tmpVec_j9agx3$_0.times_czzhiu$(this.e)-this.tmpVec_j9agx3$_0.times_czzhiu$(t.direction)*i)/o;if(s>0){var a=this.e,l=this.length;r=a.scale_749b8l$(R.min(s,l),e).add_czzhiu$(this.pt0)}else r=e.set_czzhiu$(this.pt0);return r},IS.prototype.getEdges_r7nl2o$=function(t){var e;if(t.primitiveType!==eC())throw G("Supplied meshData must have primitiveType GL_LINES");var n=E();e=t.numIndices;for(var i=0;i<e;i+=2){var o=t.indices.get_za3lpa$(i),r=t.indices.get_za3lpa$(i+1|0),s=t.vertexIt;s.index=o;var a=Oo(s),l=t.vertexIt;l.index=r;var p=new RS(a,Oo(l));n.add_11rb$(p)}return n},IS.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var AS=null;function DS(){return null===AS&&new IS,AS}function BS(t,e,n){US(),this.pt0=t,this.pt1=e,this.pt2=n,this.e1=null,this.e2=null,this.minX=0,this.minY=0,this.minZ=0,this.maxX=0,this.maxY=0,this.maxZ=0,this.tmpS_4hszl1$_0=Mo(),this.tmpP_4hszig$_0=Mo(),this.tmpQ_4hszjb$_0=Mo(),this.e1=this.pt1.subtract_2gj7b4$(this.pt0,Mo()),this.e2=this.pt2.subtract_2gj7b4$(this.pt0,Mo());var i=this.pt0.x,o=this.pt1.x,r=this.pt2.x;this.minX=R.min(i,o,r);var s=this.pt0.y,a=this.pt1.y,l=this.pt2.y;this.minY=R.min(s,a,l);var p=this.pt0.z,u=this.pt1.z,c=this.pt2.z;this.minZ=R.min(p,u,c);var _=this.pt0.x,h=this.pt1.x,d=this.pt2.x;this.maxX=R.max(_,h,d);var f=this.pt0.y,m=this.pt1.y,y=this.pt2.y;this.maxY=R.max(f,m,y);var $=this.pt0.z,b=this.pt1.z,g=this.pt2.z;this.maxZ=R.max($,b,g)}function FS(){qS=this}RS.$metadata$={kind:$,simpleName:"Edge",interfaces:[]},BS.prototype.hitDistance_nvyeur$=function(t){t.origin.subtract_2gj7b4$(this.pt0,this.tmpS_4hszl1$_0),t.direction.cross_2gj7b4$(this.e2,this.tmpP_4hszig$_0),this.tmpS_4hszl1$_0.cross_2gj7b4$(this.e1,this.tmpQ_4hszjb$_0);var e=1/this.tmpP_4hszig$_0.times_czzhiu$(this.e1),n=e*this.tmpQ_4hszjb$_0.times_czzhiu$(this.e2),i=e*this.tmpP_4hszig$_0.times_czzhiu$(this.tmpS_4hszl1$_0),o=e*this.tmpQ_4hszjb$_0.times_czzhiu$(t.direction);return i>=0&&o>=0&&i+o<=1&&n>=0?n:st.MAX_VALUE},FS.prototype.getTriangles_r7nl2o$=function(t){var e,n=E();e=t.numIndices;for(var i=0;i<e;i+=3){var o=VS(t,i);n.add_11rb$(o)}return n},FS.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var qS=null;function US(){return null===qS&&new FS,qS}function VS(t,e,n){n=n||Object.create(BS.prototype);var i=Mo();t.vertexIt.index=t.indices.get_za3lpa$(e),i.set_czzhiu$(t.vertexIt.position);var o=Mo();t.vertexIt.index=t.indices.get_za3lpa$(e+1|0),o.set_czzhiu$(t.vertexIt.position);var r=Mo();if(t.vertexIt.index=t.indices.get_za3lpa$(e+2|0),r.set_czzhiu$(t.vertexIt.position),BS.call(n,i,o,r),t.primitiveType!==iC())throw G("Supplied geometry data must have primitiveType TRIANGLES");return n}function WS(t){this.itemAdapter=t}function GS(t,e){this.$outer=t,this.depth=e,this.bounds=new v$,this.traversalOrder=0}BS.$metadata$={kind:$,simpleName:"Triangle",interfaces:[]},WS.prototype.drawNodeBounds_nl2my4$=function(t){this.root.drawNodeBounds_nl2my4$(t)},Object.defineProperty(GS.prototype,"isLeaf",{configurable:!0,get:function(){return this.children.isEmpty()}}),GS.prototype.drawNodeBounds_nl2my4$=function(t){var e,n=W$().JET_MD.getColor_y2kzbl$(this.depth%6.7/6.7);t.addBoundingBox_j1pmtk$(this.bounds,n),e=this.children;for(var i=0;i!==e.size;++i)this.children.get_za3lpa$(i).drawNodeBounds_nl2my4$(t)},GS.$metadata$={kind:$,simpleName:"Node",interfaces:[]},WS.$metadata$={kind:$,simpleName:"SpatialTree",interfaces:[Xe]};var HS=Y((function(){var t=e.kotlin.comparisons.compareValues_s00gnj$;return function(e){return function(n,i){var o=e;return t(o(n),o(i))}}}));function XS(){}function KS(){}function YS(){}function ZS(){}function JS(){ZS.call(this),this.center=Mo(),this.pointDistance=new QS}function QS(){}function tk(){JS.call(this),this.result=E(),this.radius_z1vvhm$_0=1,this.radiusSqr=1}function ek(){var t;ZS.call(this),this.ray=new io,this.nearest_75fjy0$_0=null,this.distance_vfh9yx$_0=0,this.distanceSqr_1nwg87$_0=st.MAX_VALUE,this.rayDistance=new nk,this.childLists_3dbot1$_0=new ak((t=this,function(e){return t.rayDistance.nodeSqrDistanceToRay_m0emyn$(e,t.ray)}))}function nk(){}function ik(){ek.call(this),this.rayDistance=new ok}function ok(){}function rk(){ek.call(this),this.hitPoint=Mo(),this.rayDistance=new sk}function sk(){}function ak(t){this.childDist=t,this.childListRecycler=new tS(pk),this.childComparator=new bt(HS(uk))}function lk(t,e,n){this.$outer=t,this.dist=e,this.node=n}function pk(){return E()}function uk(t){return t.dist}function ck(){hk=this}function _k(t,e){return Ro(t).add_czzhiu$(e).scale_mx4ult$(.5)}XS.prototype.nodeSqrDistanceToPoint_fpn9fm$=function(t,e){return t.bounds.pointDistanceSqr_czzhiu$(e)},XS.prototype.itemSqrDistanceToPoint_xpaqv3$=function(t,e,n){var i=t.itemAdapter.getCenterX_trkh7z$(e)-n.x,o=t.itemAdapter.getCenterY_trkh7z$(e)-n.y,r=t.itemAdapter.getCenterZ_trkh7z$(e)-n.z;return i*i+o*o+r*r},XS.$metadata$={kind:Z,simpleName:"PointDistance",interfaces:[]},YS.prototype.nodeSqrDistanceToRay_m0emyn$=function(t,e){return t.bounds.hitDistanceSqr_nvyeur$(e)},YS.prototype.itemSqrDistanceToRay_bo5c3m$=function(t,e,n){return n.sqrDistanceToPoint_y2kzbl$(t.itemAdapter.getCenterX_trkh7z$(e),t.itemAdapter.getCenterY_trkh7z$(e),t.itemAdapter.getCenterZ_trkh7z$(e))},YS.$metadata$={kind:Z,simpleName:"RayDistance",interfaces:[]},ZS.prototype.traverse_7efza$=function(t){this.traverseNode_4w85ke$(t,t.root)},ZS.prototype.traverseNode_4w85ke$=function(t,e){e.isLeaf?this.traverseLeaf_4w85ke$(t,e):this.traverseChildren_4w85ke$(t,e)},ZS.$metadata$={kind:$,simpleName:"SpatialTreeTraverser",interfaces:[]},JS.prototype.setup_czzhiu$=function(t){this.center.set_czzhiu$(t)},QS.$metadata$={kind:$,interfaces:[XS]},JS.$metadata$={kind:$,simpleName:"CenterPointTraverser",interfaces:[ZS]},Object.defineProperty(tk.prototype,"radius",{configurable:!0,get:function(){return this.radius_z1vvhm$_0},set:function(t){this.radius_z1vvhm$_0=t}}),tk.prototype.setup_2qa7tb$=function(t,e){return JS.prototype.setup_czzhiu$.call(this,t),this.radius=e,this.radiusSqr=e*e,this},tk.prototype.traverse_7efza$=function(t){this.result.clear(),JS.prototype.traverse_7efza$.call(this,t)},tk.prototype.traverseChildren_4w85ke$=function(t,e){var n;n=e.children;for(var i=0;i!==n.size;++i){var o=e.children.get_za3lpa$(i);this.pointDistance.nodeSqrDistanceToPoint_fpn9fm$(o,this.center)<this.radiusSqr&&this.traverseNode_4w85ke$(t,o)}},tk.prototype.traverseLeaf_4w85ke$=function(t,e){var n,i,o,r;i=(n=e.nodeRange).first,o=n.last,r=n.step;for(var s=i;s<=o;s+=r){var a=e.items.get_za3lpa$(s);this.pointDistance.itemSqrDistanceToPoint_xpaqv3$(t,a,this.center)<this.radiusSqr&&this.result.add_11rb$(a)}},tk.$metadata$={kind:$,simpleName:"InRadiusTraverser",interfaces:[JS]},Object.defineProperty(ek.prototype,"nearest",{configurable:!0,get:function(){return this.nearest_75fjy0$_0},set:function(t){this.nearest_75fjy0$_0=t}}),Object.defineProperty(ek.prototype,"distance",{configurable:!0,get:function(){return this.distance_vfh9yx$_0},set:function(t){this.distance_vfh9yx$_0=t}}),Object.defineProperty(ek.prototype,"distanceSqr",{configurable:!0,get:function(){return this.distanceSqr_1nwg87$_0},set:function(t){this.distanceSqr_1nwg87$_0=t}}),ek.prototype.setup_nvyeur$=function(t){return this.ray.set_nvyeur$(t),this.nearest=null,this.distanceSqr=st.MAX_VALUE,this},ek.prototype.traverse_7efza$=function(t){var e;if(ZS.prototype.traverse_7efza$.call(this,t),this.distanceSqr!==st.MAX_VALUE){var n=this.distanceSqr;e=R.sqrt(n)}else e=st.MAX_VALUE;this.distance=e},ek.prototype.traverseChildren_4w85ke$=function(t,e){var n,i,o,r=this.childLists_3dbot1$_0,s=e.children.size,a=r.childListRecycler,l=a.get();if(l.size!==s)if(l.size<s){n=s-l.size|0;for(var p=1;p<=n;p++){var u=new lk(r,0,null);l.add_11rb$(u)}}else for(;l.size>s;)l.removeAt_za3lpa$(wt(l));i=e.children;for(var c=0;c!==i.size;++c)l.get_za3lpa$(c).setChildNode_wy56ps$(e.children.get_za3lpa$(c));this.childLists_3dbot1$_0.sortByDistance_pjnhek$(l),o=e.children;for(var _=0;_!==o.size;++_){var h=l.get_za3lpa$(_);if(!(h.dist<this.distanceSqr))break;this.traverseNode_4w85ke$(t,w(h.node))}a.recycle_trkh7z$(l)},ek.prototype.traverseLeaf_4w85ke$=function(t,e){var n,i,o,r;i=(n=e.nodeRange).first,o=n.last,r=n.step;for(var s=i;s<=o;s+=r){var a=e.items.get_za3lpa$(s),l=this.rayDistance.itemSqrDistanceToRay_bo5c3m$(t,a,this.ray);l<this.distanceSqr&&(this.nearest=a,this.distanceSqr=l)}},nk.$metadata$={kind:$,interfaces:[YS]},ek.$metadata$={kind:$,simpleName:"NearestToRayTraverser",interfaces:[ZS]},ok.prototype.itemSqrDistanceToRay_bo5c3m$=function(t,e,n){return e.rayDistanceSqr_nvyeur$(n)},ok.$metadata$={kind:$,interfaces:[YS]},ik.$metadata$={kind:$,simpleName:"NearestEdgeToRayTraverser",interfaces:[ek]},Object.defineProperty(rk.prototype,"isHit",{configurable:!0,get:function(){return null!=this.nearest}}),rk.prototype.setup_nvyeur$=function(t){return this.hitPoint.set_czzhiu$(Po().ZERO),ek.prototype.setup_nvyeur$.call(this,t),this},rk.prototype.traverse_7efza$=function(t){ek.prototype.traverse_7efza$.call(this,t),this.isHit&&this.hitPoint.set_czzhiu$(this.ray.direction).scale_mx4ult$(this.distance).add_czzhiu$(this.ray.origin)},sk.prototype.itemSqrDistanceToRay_bo5c3m$=function(t,e,n){var i=e.hitDistance_nvyeur$(n);return i<st.MAX_VALUE?i*i:st.MAX_VALUE},sk.$metadata$={kind:$,interfaces:[YS]},rk.$metadata$={kind:$,simpleName:"TriangleHitTraverser",interfaces:[ek]},ak.prototype.use_swptr5$=K("kool-kool-core.de.fabmax.kool.util.spatial.ChildNodesWithDistance.use_swptr5$",Y((function(){var n=t.de.fabmax.kool.util.spatial.ChildNodesWithDistance.Child,i=e.kotlin.collections.get_lastIndex_55thoc$;return function(t,e){var o,r=this.childListRecycler,s=r.get();if(s.size!==t)if(s.size<t){o=t-s.size|0;for(var a=1;a<=o;a++){var l=new n(this,0,null);s.add_11rb$(l)}}else for(;s.size>t;)s.removeAt_za3lpa$(i(s));e(s),r.recycle_trkh7z$(s)}}))),ak.prototype.sortByDistance_pjnhek$=function(t){$t(t,this.childComparator)},lk.prototype.setChildNode_wy56ps$=function(t){this.node=t,this.dist=this.$outer.childDist(t)},lk.$metadata$={kind:$,simpleName:"Child",interfaces:[]},ak.$metadata$={kind:$,simpleName:"ChildNodesWithDistance",interfaces:[]},ck.prototype.subdivideTris_yreh0k$=function(t,e,n){var i,o,r,s,a,l,p,u,c,_,h,d,f;void 0===n&&(n=_k);var m,y,$,b,g=new Int32Array(4*e.size|0),v=C(),x=(m=v,y=t,$=n,function(t,e){var n,i=1048576*R.min(t,e)+R.max(t,e),o=m,r=o.get_11rb$(i);if(null==r){var s=y,a=$,l=s.size,p=a(s.get_za3lpa$(t),s.get_za3lpa$(e));s.add_11rb$(p);var u=l;o.put_xwzc9p$(i,u),n=u}else n=r;return n}),w=0;for(i=qe(A(e),3).iterator();i.hasNext();){var z=i.next(),S=e.get_za3lpa$(z),k=e.get_za3lpa$(z+1|0),L=e.get_za3lpa$(z+2|0),j=x(S,k),N=x(k,L),P=x(L,S);g[(o=w,w=o+1|0,o)]=S,g[(r=w,w=r+1|0,r)]=j,g[(s=w,w=s+1|0,s)]=P,g[(a=w,w=a+1|0,a)]=k,g[(l=w,w=l+1|0,l)]=N,g[(p=w,w=p+1|0,p)]=j,g[(u=w,w=u+1|0,u)]=L,g[(c=w,w=c+1|0,c)]=P,g[(_=w,w=_+1|0,_)]=N,g[(h=w,w=h+1|0,h)]=j,g[(d=w,w=d+1|0,d)]=N,g[(f=w,w=f+1|0,f)]=P}for(e.clear(),b=0;b!==g.length;++b){var T=g[b];e.add_11rb$(T)}},ck.$metadata$={kind:b,simpleName:"Subdivide",interfaces:[]};var hk=null;function dk(){return null===hk&&new ck,hk}function fk(){$k(),this.currentGesture_nrwzky$_0=new bk,this.activePointers_ajelte$_0=E(),this.tmpVec1_vwccvm$_0=co(),this.tmpVec2_vwccwh$_0=co(),this.startPositions=C(),this.screenDpi=96}function mk(){yk=this,this.INVALID=0,this.INDETERMINATE=-1,this.PINCH=1,this.TWO_FINGER_DRAG=2}Object.defineProperty(fk.prototype,"currentGesture",{configurable:!0,get:function(){return this.currentGesture_nrwzky$_0},set:function(t){this.currentGesture_nrwzky$_0=t}}),fk.prototype.evaluate_19cf9$=function(t,e){if(this.screenDpi=e.screenDpi,t.getActivePointers_j71cmr$(this.activePointers_ajelte$_0),this.activePointers_ajelte$_0.size>1)switch(this.currentGesture.type){case 0:this.onGestureInit_mcn869$(this.activePointers_ajelte$_0);break;case-1:this.onDetermineGesture_mcn869$(this.activePointers_ajelte$_0);break;case 1:case 2:this.handleGesture_mcn869$(this.activePointers_ajelte$_0)}else this.currentGesture.type=0,this.startPositions.clear()},fk.prototype.onGestureInit_mcn869$=function(t){var e;for(e=t.iterator();e.hasNext();){var n=e.next(),i=this.startPositions,o=n.id,r=new ro(n.x,n.y);i.put_xwzc9p$(o,r)}this.currentGesture.type=-1},fk.prototype.onDetermineGesture_mcn869$=function(t){var e;Ke(this.startPositions.keys,(e=t,function(t){var n,i=e;t:do{var o;for(o=i.iterator();o.hasNext();){var r=o.next();if(r.id===t){n=r;break t}}n=null}while(0);return null==n}));var n,i,o=E();for(n=t.iterator();n.hasNext();){var r=n.next();this.startPositions.containsKey_11rb$(r.id)||o.add_11rb$(r)}for(i=o.iterator();i.hasNext();){var s=i.next(),a=this.startPositions,l=s.id,p=new ro(s.x,s.y);a.put_xwzc9p$(l,p)}this.isPinch_mcn869$(t)?this.currentGesture.type=1:this.isTwoFingerDrag_mcn869$(t)&&(this.currentGesture.type=2)},fk.prototype.isPinch_mcn869$=function(t){return 2===t.size&&(this.tmpVec1_vwccvm$_0.set_dleff0$(t.get_za3lpa$(0).x,t.get_za3lpa$(0).y).subtract_czzhjp$(w(this.startPositions.get_11rb$(t.get_za3lpa$(0).id))),this.tmpVec2_vwccwh$_0.set_dleff0$(t.get_za3lpa$(1).x,t.get_za3lpa$(1).y).subtract_czzhjp$(w(this.startPositions.get_11rb$(t.get_za3lpa$(1).id))),this.tmpVec1_vwccvm$_0.scale_mx4ult$(96/this.screenDpi),this.tmpVec2_vwccwh$_0.scale_mx4ult$(96/this.screenDpi),this.tmpVec1_vwccvm$_0.length()>5&&this.tmpVec2_vwccwh$_0.length()>5&&this.tmpVec1_vwccvm$_0.times_czzhjp$(this.tmpVec2_vwccwh$_0)<0)&&(this.tmpVec1_vwccvm$_0.set_czzhjp$(w(this.startPositions.get_11rb$(t.get_za3lpa$(0).id))),this.tmpVec2_vwccwh$_0.set_czzhjp$(w(this.startPositions.get_11rb$(t.get_za3lpa$(1).id))),this.currentGesture.init_4s1jvi$(1,this.tmpVec1_vwccvm$_0,this.tmpVec2_vwccwh$_0,this.screenDpi),this.handleGesture_mcn869$(t),!0)},fk.prototype.isTwoFingerDrag_mcn869$=function(t){return 2===t.size&&(this.tmpVec1_vwccvm$_0.set_dleff0$(t.get_za3lpa$(0).x,t.get_za3lpa$(0).y).subtract_czzhjp$(w(this.startPositions.get_11rb$(t.get_za3lpa$(0).id))),this.tmpVec2_vwccwh$_0.set_dleff0$(t.get_za3lpa$(1).x,t.get_za3lpa$(1).y).subtract_czzhjp$(w(this.startPositions.get_11rb$(t.get_za3lpa$(1).id))),this.tmpVec1_vwccvm$_0.scale_mx4ult$(96/this.screenDpi),this.tmpVec2_vwccwh$_0.scale_mx4ult$(96/this.screenDpi),this.tmpVec1_vwccvm$_0.length()>5&&this.tmpVec2_vwccwh$_0.length()>5&&this.tmpVec1_vwccvm$_0.times_czzhjp$(this.tmpVec2_vwccwh$_0)>0)&&(this.tmpVec1_vwccvm$_0.set_czzhjp$(w(this.startPositions.get_11rb$(t.get_za3lpa$(0).id))),this.tmpVec2_vwccwh$_0.set_czzhjp$(w(this.startPositions.get_11rb$(t.get_za3lpa$(1).id))),this.currentGesture.init_4s1jvi$(2,this.tmpVec1_vwccvm$_0,this.tmpVec2_vwccwh$_0,this.screenDpi),this.handleGesture_mcn869$(t),!0)},fk.prototype.handleGesture_mcn869$=function(t){2===t.size?(this.tmpVec1_vwccvm$_0.set_dleff0$(t.get_za3lpa$(0).x,t.get_za3lpa$(0).y),this.tmpVec2_vwccwh$_0.set_dleff0$(t.get_za3lpa$(1).x,t.get_za3lpa$(1).y),this.currentGesture.update_enjys2$(this.tmpVec1_vwccvm$_0,this.tmpVec2_vwccwh$_0,this.screenDpi),t.get_za3lpa$(0).consume_za3lpa$(),t.get_za3lpa$(1).consume_za3lpa$()):this.currentGesture.type=0},mk.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var yk=null;function $k(){return null===yk&&new mk,yk}function bk(){this.centerStart=co(),this.centerCurrent=co(),this.centerShift=co(),this.dCenter=co(),this.pinchAmountStart=0,this.pinchAmountCurrent=0,this.dPinchAmount=0,this.type=0,this.numUpdates=0}function gk(){zk(),this.cmp_ta02bd$_0=Ck,this.root_g0oxgl$_0=null,this.size_g153xi$_0=0}function vk(t,e,n,i){this.$outer=t,this.parent=i,this.key_qa5ejk$_0=e,this.value_owqnua$_0=n,this.left=null,this.right=null,this.color=zk().BLACK_0}function xk(){wk=this,this.BLACK_0=!1,this.RED_0=!0}Object.defineProperty(bk.prototype,"pinchAmountRel",{configurable:!0,get:function(){return(this.pinchAmountCurrent-this.pinchAmountStart)/this.pinchAmountStart+1}}),bk.prototype.init_4s1jvi$=function(t,e,n,i){this.type=t,this.centerStart.set_czzhjp$(e).add_czzhjp$(n).scale_mx4ult$(.5),this.centerCurrent.set_czzhjp$(this.centerStart),this.centerShift.set_czzhjp$(lo().ZERO),this.dCenter.set_czzhjp$(lo().ZERO),this.pinchAmountStart=96*e.distance_czzhjp$(n)/i,this.pinchAmountCurrent=this.pinchAmountStart,this.dPinchAmount=0,this.numUpdates=0},bk.prototype.update_enjys2$=function(t,e,n){this.dCenter.set_czzhjp$(t).add_czzhjp$(e).scale_mx4ult$(.5).subtract_czzhjp$(this.centerCurrent),this.centerCurrent.set_czzhjp$(t).add_czzhjp$(e).scale_mx4ult$(.5),this.centerShift.set_czzhjp$(this.centerCurrent).subtract_czzhjp$(this.centerStart);var i=96*t.distance_czzhjp$(e)/n;this.dPinchAmount=i-this.pinchAmountCurrent,this.pinchAmountCurrent=i,this.numUpdates=this.numUpdates+1|0},bk.$metadata$={kind:$,simpleName:"Gesture",interfaces:[]},fk.$metadata$={kind:$,simpleName:"TouchGestureEvaluator",interfaces:[]},Object.defineProperty(gk.prototype,"size",{configurable:!0,get:function(){return this.size_g153xi$_0},set:function(t){this.size_g153xi$_0=t}}),gk.prototype.clear=function(){this.root_g0oxgl$_0=null,this.size=0},gk.prototype.isEmpty=function(){return 0===this.size},gk.prototype.firstEntry=function(){var t=this.root_g0oxgl$_0;if(null!=t)for(;null!=(null!=t?t.left:null);)t=w(t.left);if(null==t)throw dt();return t},gk.prototype.firstValue=function(){return this.firstEntry().value},gk.prototype.firstKey=function(){return this.firstEntry().key},gk.prototype.lastEntry=function(){var t=this.root_g0oxgl$_0;if(null!=t)for(;null!=(null!=t?t.right:null);)t=w(t.right);if(null==t)throw dt();return t},gk.prototype.lastValue=function(){return this.lastEntry().value},gk.prototype.lastKey=function(){return this.lastEntry().key},gk.prototype.ceilingEntry_trkh7z$=function(t){for(var e=this.root_g0oxgl$_0;null!=e;){var n=this.cmp_ta02bd$_0(t,e.key);if(n<0){if(null==e.left)return e;e=e.left}else{if(!(n>0))return e;if(null==e.right){for(var i=e.parent,o=e;null!=i&&o===i.right;)o=i,i=i.parent;return i}e=e.right}}return null},gk.prototype.ceilingKey_trkh7z$=function(t){var e;return null!=(e=this.ceilingEntry_trkh7z$(t))?e.key:null},gk.prototype.ceilingValue_trkh7z$=function(t){var e;return null!=(e=this.ceilingEntry_trkh7z$(t))?e.value:null},gk.prototype.floorEntry_trkh7z$=function(t){for(var e=this.root_g0oxgl$_0;null!=e;){var n=this.cmp_ta02bd$_0(t,e.key);if(n>0){if(null==e.right)return e;e=e.right}else{if(!(n<0))return e;if(null==e.left){for(var i=e.parent,o=e;null!=i&&o===i.left;)o=i,i=i.parent;return i}e=e.left}}return null},gk.prototype.floorKey_trkh7z$=function(t){var e;return null!=(e=this.floorEntry_trkh7z$(t))?e.key:null},gk.prototype.floorValue_trkh7z$=function(t){var e;return null!=(e=this.floorEntry_trkh7z$(t))?e.value:null},gk.prototype.higherEntry_trkh7z$=function(t){for(var e=this.root_g0oxgl$_0;null!=e;)if(this.cmp_ta02bd$_0(t,e.key)<0){if(null==e.left)return e;e=e.left}else{if(null==e.right){for(var n=e.parent,i=e;null!=n&&i===n.right;)i=n,n=n.parent;return n}e=e.right}return null},gk.prototype.higherKey_trkh7z$=function(t){var e;return null!=(e=this.higherEntry_trkh7z$(t))?e.key:null},gk.prototype.higherValue_trkh7z$=function(t){var e;return null!=(e=this.higherEntry_trkh7z$(t))?e.value:null},gk.prototype.lowerEntry_trkh7z$=function(t){for(var e=this.root_g0oxgl$_0;null!=e;)if(this.cmp_ta02bd$_0(t,e.key)>0){if(null==e.right)return e;e=e.right}else{if(null==e.left){for(var n=e.parent,i=e;null!=n&&i===n.left;)i=n,n=n.parent;return n}e=e.left}return null},gk.prototype.lowerKey_trkh7z$=function(t){var e;return null!=(e=this.lowerEntry_trkh7z$(t))?e.key:null},gk.prototype.lowerValue_trkh7z$=function(t){var e;return null!=(e=this.lowerEntry_trkh7z$(t))?e.value:null},gk.prototype.put_xwzc9p$=function(t,e){var n;if(null==this.root_g0oxgl$_0)this.root_g0oxgl$_0=new vk(this,t,e,null);else{var i,o=this.root_g0oxgl$_0;do{if(i=w(o),this.cmp_ta02bd$_0(t,o.key)<0)n=o.left;else{if(!(this.cmp_ta02bd$_0(t,o.key)>0))return o.setValue_11rc$(e);n=o.right}o=n}while(null!=o);var r=new vk(this,t,e,i);this.cmp_ta02bd$_0(t,i.key)<0?i.left=r:i.right=r,this.fixAfterInsertion_9avj2i$_0(r)}return this.size=this.size+1|0,null},gk.prototype.remove_11rb$=function(t){var e,n;if(null!=(e=this.getEntry_iowdmk$_0(t))){var i=e.value;this.deleteEntry_xb9s9j$_0(e),n=i}else n=null;return n},gk.prototype.get_11rb$=function(t){var e;return null!=(e=this.getEntry_iowdmk$_0(t))?e.value:null},Object.defineProperty(gk.prototype,"entries",{configurable:!0,get:function(){var t,n=ht();if(!this.isEmpty())for(var i=null==(t=this.firstEntry())||e.isType(t,vk)?t:_();null!=i;){var o=i;n.add_11rb$(o),i=this.successor_78gl9k$_0(i)}return n}}),Object.defineProperty(gk.prototype,"keys",{configurable:!0,get:function(){var t,n=ht();if(!this.isEmpty())for(var i=null==(t=this.firstEntry())||e.isType(t,vk)?t:_();null!=i;){var o=i.key;n.add_11rb$(o),i=this.successor_78gl9k$_0(i)}return n}}),Object.defineProperty(gk.prototype,"values",{configurable:!0,get:function(){var t,n=ht();if(!this.isEmpty())for(var i=null==(t=this.firstEntry())||e.isType(t,vk)?t:_();null!=i;){var o=i.value;n.add_11rb$(o),i=this.successor_78gl9k$_0(i)}return n}}),gk.prototype.containsKey_11rb$=function(t){return null!=this.getEntry_iowdmk$_0(t)},gk.prototype.containsValue_11rc$=function(t){return this.values.contains_11rb$(t)},gk.prototype.putAll_a2k3zr$=function(t){var e;for(e=t.entries.iterator();e.hasNext();){var n=e.next();this.put_xwzc9p$(n.key,n.value)}},gk.prototype.getEntry_iowdmk$_0=function(t){for(var e,n=this.root_g0oxgl$_0;null!=n;){if(this.cmp_ta02bd$_0(t,n.key)<0)e=n.left;else{if(!(this.cmp_ta02bd$_0(t,n.key)>0))return n;e=n.right}n=e}return null},gk.prototype.deleteEntry_xb9s9j$_0=function(t){var e=t;if(this.size=this.size-1|0,null!=e.left&&null!=e.right){var n=w(this.successor_78gl9k$_0(e));e.key=n.key,e.value=n.value,e=n}var i=null!=e.left?e.left:e.right;null!=i?(i.parent=e.parent,null==e.parent?this.root_g0oxgl$_0=i:e===w(e.parent).left?w(e.parent).left=i:w(e.parent).right=i,e.left=null,e.right=null,e.parent=null,e.color===zk().BLACK_0&&this.fixAfterDeletion_6ssue5$_0(i)):null==e.parent?this.root_g0oxgl$_0=null:(e.color===zk().BLACK_0&&this.fixAfterDeletion_6ssue5$_0(e),null!=e.parent&&(e===w(e.parent).left?w(e.parent).left=null:e===w(e.parent).right&&(w(e.parent).right=null),e.parent=null))},gk.prototype.fixAfterInsertion_9avj2i$_0=function(t){var e,n,i,o,r,s,a,l,p,u,c,_,h,d,f,m,y,$,b,g,v,x,w,z,C,S=t;for(null!=S&&(S.color=zk().RED_0);null!=S&&!Dt(S,this.root_g0oxgl$_0)&&this.color_3jivvv$_0(S.parent)===zk().RED_0;)if(S.parent===(null!=(n=null!=(e=S.parent)?e.parent:null)?n.left:null)){var k=null!=(o=null!=(i=S.parent)?i.parent:null)?o.right:null;this.color_3jivvv$_0(k)===zk().RED_0?(null!=(r=S.parent)&&(r.color=zk().BLACK_0),null!=k&&(k.color=zk().BLACK_0),null!=(a=null!=(s=S.parent)?s.parent:null)&&(a.color=zk().RED_0),S=null!=(l=S.parent)?l.parent:null):(S===(null!=(p=S.parent)?p.right:null)&&(S=S.parent,this.rotateLeft_xtlw1j$_0(S)),null!=(u=null!=S?S.parent:null)&&(u.color=zk().BLACK_0),null!=(_=null!=(c=null!=S?S.parent:null)?c.parent:null)&&(_.color=zk().RED_0),this.rotateRight_ltp9a$_0(null!=(h=null!=S?S.parent:null)?h.parent:null))}else{var L=null!=(f=null!=(d=S.parent)?d.parent:null)?f.left:null;this.color_3jivvv$_0(L)===zk().RED_0?(null!=(m=S.parent)&&(m.color=zk().BLACK_0),null!=L&&(L.color=zk().BLACK_0),null!=($=null!=(y=S.parent)?y.parent:null)&&($.color=zk().RED_0),S=null!=(b=S.parent)?b.parent:null):(S===(null!=(g=S.parent)?g.left:null)&&(S=S.parent,this.rotateRight_ltp9a$_0(S)),null!=(v=null!=S?S.parent:null)&&(v.color=zk().BLACK_0),null!=(w=null!=(x=null!=S?S.parent:null)?x.parent:null)&&(w.color=zk().RED_0),this.rotateLeft_xtlw1j$_0(null!=(z=null!=S?S.parent:null)?z.parent:null))}null!=(C=this.root_g0oxgl$_0)&&(C.color=zk().BLACK_0)},gk.prototype.fixAfterDeletion_6ssue5$_0=function(t){for(var e,n,i,o,r,s,a,l,p,u,c,_,h,d,f,m=t;!Dt(m,this.root_g0oxgl$_0)&&m.color===zk().BLACK_0;)if(Dt(m,null!=(e=m.parent)?e.left:null)){var y=null!=(n=m.parent)?n.right:null;this.color_3jivvv$_0(y)===zk().RED_0&&(null!=y&&(y.color=zk().BLACK_0),null!=(i=m.parent)&&(i.color=zk().RED_0),this.rotateLeft_xtlw1j$_0(m.parent),y=null!=(o=m.parent)?o.right:null),this.color_3jivvv$_0(null!=y?y.left:null)===zk().BLACK_0&&this.color_3jivvv$_0(null!=y?y.right:null)===zk().BLACK_0?(null!=y&&(y.color=zk().RED_0),m=w(m.parent)):(this.color_3jivvv$_0(null!=y?y.right:null)===zk().BLACK_0&&(null!=(r=null!=y?y.left:null)&&(r.color=zk().BLACK_0),null!=y&&(y.color=zk().RED_0),this.rotateRight_ltp9a$_0(y),y=null!=(s=m.parent)?s.right:null),null!=y&&(y.color=this.color_3jivvv$_0(m.parent)),null!=(a=m.parent)&&(a.color=zk().BLACK_0),null!=(l=null!=y?y.right:null)&&(l.color=zk().BLACK_0),this.rotateLeft_xtlw1j$_0(m.parent),m=w(this.root_g0oxgl$_0))}else{var $=null!=(p=m.parent)?p.left:null;this.color_3jivvv$_0($)===zk().RED_0&&(null!=$&&($.color=zk().BLACK_0),null!=(u=null!=$?$.parent:null)&&(u.color=zk().RED_0),this.rotateRight_ltp9a$_0(m.parent),$=null!=(c=m.parent)?c.left:null),this.color_3jivvv$_0(null!=$?$.right:null)===zk().BLACK_0&&this.color_3jivvv$_0(null!=$?$.left:null)===zk().BLACK_0?(null!=$&&($.color=zk().RED_0),m=w(m.parent)):(this.color_3jivvv$_0(null!=$?$.left:null)===zk().BLACK_0&&(null!=(_=null!=$?$.right:null)&&(_.color=zk().BLACK_0),null!=$&&($.color=zk().RED_0),this.rotateLeft_xtlw1j$_0($),$=null!=(h=m.parent)?h.left:null),null!=$&&($.color=this.color_3jivvv$_0(m.parent)),null!=(d=m.parent)&&(d.color=zk().BLACK_0),null!=(f=null!=$?$.left:null)&&(f.color=zk().BLACK_0),this.rotateRight_ltp9a$_0(m.parent),m=w(this.root_g0oxgl$_0))}m.color=zk().BLACK_0},gk.prototype.rotateLeft_xtlw1j$_0=function(t){var e,n,i;if(null!=t){var o,r=t.right;t.right=null!=r?r.left:null,null!=(null!=r?r.left:null)&&null!=(e=r.left)&&(e.parent=t),null!=r&&(r.parent=t.parent),null==t.parent?this.root_g0oxgl$_0=r:(null!=(o=t.parent)?o.left:null)===t?null!=(n=t.parent)&&(n.left=r):null!=(i=t.parent)&&(i.right=r),null!=r&&(r.left=t),t.parent=r}},gk.prototype.rotateRight_ltp9a$_0=function(t){var e,n,i;if(null!=t){var o,r=t.left;t.left=null!=r?r.right:null,null!=(null!=r?r.right:null)&&null!=(e=r.right)&&(e.parent=t),null!=r&&(r.parent=t.parent),null==t.parent?this.root_g0oxgl$_0=r:(null!=(o=t.parent)?o.right:null)===t?null!=(n=t.parent)&&(n.right=r):null!=(i=t.parent)&&(i.left=r),null!=r&&(r.right=t),t.parent=r}},gk.prototype.color_3jivvv$_0=function(t){var e;return null!=(e=null!=t?t.color:null)?e:zk().BLACK_0},gk.prototype.successor_78gl9k$_0=function(t){var e;if(null==t)e=null;else if(null!=t.right){for(var n=w(t.right);null!=n.left;)n=w(n.left);e=n}else{for(var i=t.parent,o=t;null!=i&&Dt(o,i.right);)o=i,i=i.parent;e=i}return e},gk.prototype.predecessor_3j2kg5$_0=function(t){var e;if(null==t)e=null;else if(null!=t.left){for(var n=w(t.left);null!=n.right;)n=w(n.right);e=n}else{for(var i=t.parent,o=t;null!=i&&Dt(o,i.left);)o=i,i=i.parent;e=i}return e},Object.defineProperty(vk.prototype,"key",{configurable:!0,get:function(){return this.key_qa5ejk$_0},set:function(t){this.key_qa5ejk$_0=t}}),Object.defineProperty(vk.prototype,"value",{configurable:!0,get:function(){return this.value_owqnua$_0},set:function(t){this.value_owqnua$_0=t}}),vk.prototype.setValue_11rc$=function(t){var e=this.value;return this.value=t,e},vk.$metadata$={kind:$,simpleName:"MapEntry",interfaces:[Ye]},xk.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var wk=null;function zk(){return null===wk&&new xk,wk}function Ck(t,n){var i;return e.compareTo(e.isComparable(i=t)?i:_(),n)}function Sk(t,n){var i,o,r,s,a,l,p,u;Mo(this),this.data=t,this.offsetF_0=e.imul(n,this.data.vertexSizeF),this.offsetI_0=e.imul(n,this.data.vertexSizeI),this.index_qsqbze$_0=n,this.position=null,this.normal=null,this.tangent=null,this.color=null,this.texCoord=null,this.joints=null,this.weights=null,this.attributeViews_0=null;var c=C();for(this.attributeViews_0=c,i=this.data.attributeByteOffsets.entries.iterator();i.hasNext();){var _=i.next();switch(_.key.type.name){case"FLOAT":var h=_.key,d=new kk(this,_.value/4|0);c.put_xwzc9p$(h,d);break;case"VEC_2F":var f=_.key,m=new Lk(this,_.value/4|0);c.put_xwzc9p$(f,m);break;case"VEC_3F":var y=_.key,$=new jk(this,_.value/4|0);c.put_xwzc9p$(y,$);break;case"VEC_4F":var b=_.key,g=new Nk(this,_.value/4|0);c.put_xwzc9p$(b,g);break;case"INT":var v=_.key,x=new Tk(this,_.value/4|0);c.put_xwzc9p$(v,x);break;case"VEC_2I":var w=_.key,z=new Ok(this,_.value/4|0);c.put_xwzc9p$(w,z);break;case"VEC_3I":var S=_.key,k=new Ek(this,_.value/4|0);c.put_xwzc9p$(S,k);break;case"VEC_4I":var L=_.key,j=new Mk(this,_.value/4|0);c.put_xwzc9p$(L,j);break;default:throw G(_.key.type.toString()+" is not a valid vertex attribute")}}this.position=null!=(o=this.getVec3fAttribute_nm2vx5$(hs().POSITIONS))?o:new jk(this,-1),this.normal=null!=(r=this.getVec3fAttribute_nm2vx5$(hs().NORMALS))?r:new jk(this,-1),this.tangent=null!=(s=this.getVec4fAttribute_nm2vx5$(hs().TANGENTS))?s:new Nk(this,-1),this.texCoord=null!=(a=this.getVec2fAttribute_nm2vx5$(hs().TEXTURE_COORDS))?a:new Lk(this,-1),this.color=null!=(l=this.getColorAttribute_nm2vx5$(hs().COLORS))?l:new Pk(this,new Nk(this,-1)),this.joints=null!=(p=this.getVec4iAttribute_nm2vx5$(hs().JOINTS))?p:new Mk(this,-1),this.weights=null!=(u=this.getVec4fAttribute_nm2vx5$(hs().WEIGHTS))?u:new Nk(this,-1)}function kk(t,e){this.$outer=t,this.attribOffset_0=e}function Lk(t,e){this.$outer=t,co(this),this.attribOffset_0=e}function jk(t,e){this.$outer=t,Mo(this),this.attribOffset=e}function Nk(t,e){this.$outer=t,or(this),this.attribOffset=e}function Pk(t,e){this.$outer=t,M$(this),this.vecView=e}function Tk(t,e){this.$outer=t,this.attribOffset_0=e}function Ok(t,e){this.$outer=t,ko(this),this.attribOffset_0=e}function Ek(t,e){this.$outer=t,Yo(this),this.attribOffset_0=e}function Mk(t,e){this.$outer=t,jr(this),this.attribOffset_0=e}function Rk(t,e,n,i){this.x=t,this.ySigned=e,this.width=n,this.heightSigned=i}function Ik(t){return qk().createContext_s8od96$(t)}function Ak(){var t;return"number"==typeof(t=performance.now())?t:_()}function Dk(t,n){var i=n<0?0:n>12?12:n,o=t<0?"-":"",r=R.abs(t);if(0===i)return o+Ze(r).toString();var s=Ze(R.pow(10,i)),a=Ze(r%1*s.toNumber());Dt(a,s)&&(a=L,r+=1);for(var l=a.toString();l.length<i;)l="0"+l;return o+e.Long.fromNumber(r).toString()+"."+l}function Bk(){var t,n;Fk=this,this.dpi=0,this.ctx=null;var i=document.getElementById("dpiMeasure");if(null==i){var o=Hj.Log,r=vC.WARN,s=e.getKClassFromExpression(this).simpleName;r.level>=o.level.level&&o.printer(r,s,"dpiMeasure element not found, falling back to 96 dpi");var a=Hj.Log,l=vC.WARN,p=e.getKClassFromExpression(this).simpleName;l.level>=a.level.level&&a.printer(l,p,"Add this hidden div to your html:");var u=Hj.Log,c=vC.WARN,h=e.getKClassFromExpression(this).simpleName;c.level>=u.level.level&&u.printer(c,h,'<div id="dpiMeasure" style="height: 1in; width: 1in; left: 100%; position: fixed; top: 100%;"></div>'),n=96}else n=(e.isType(t=i,HTMLDivElement)?t:_()).offsetWidth;this.dpi=n}gk.$metadata$={kind:$,simpleName:"TreeMap",interfaces:[Xt]},Object.defineProperty(Sk.prototype,"index",{configurable:!0,get:function(){return this.index_qsqbze$_0},set:function(t){this.index_qsqbze$_0=t,this.offsetF_0=e.imul(t,this.data.vertexSizeF),this.offsetI_0=e.imul(t,this.data.vertexSizeI)}}),Sk.prototype.get_za3lpa$=function(t){return this.position.get_za3lpa$(t)},Sk.prototype.set_24o109$=function(t,e){this.position.set_24o109$(t,e)},Sk.prototype.set_fs4kvg$=function(t){var n,i,o,r,s,a,l,p,u;for(n=this.attributeViews_0.keys.iterator();n.hasNext();){var c=n.next(),h=t.attributeViews_0.get_11rb$(c);null!=h&&(e.isType(h,kk)?(e.isType(i=this.attributeViews_0.get_11rb$(c),kk)?i:_()).f=h.f:e.isType(h,Lk)?(e.isType(o=this.attributeViews_0.get_11rb$(c),Lk)?o:_()).set_czzhjp$(h):e.isType(h,jk)?(e.isType(r=this.attributeViews_0.get_11rb$(c),jk)?r:_()).set_czzhiu$(h):e.isType(h,Nk)?(e.isType(s=this.attributeViews_0.get_11rb$(c),Nk)?s:_()).set_czzhhz$(h):e.isType(h,Tk)?(e.isType(a=this.attributeViews_0.get_11rb$(c),Tk)?a:_()).i=h.i:e.isType(h,Ok)?(e.isType(l=this.attributeViews_0.get_11rb$(c),Ok)?l:_()).set_czzhjm$(h):e.isType(h,Ek)?(e.isType(p=this.attributeViews_0.get_11rb$(c),Ek)?p:_()).set_czzhir$(h):e.isType(h,Mk)&&(e.isType(u=this.attributeViews_0.get_11rb$(c),Mk)?u:_()).set_czzhhw$(h))}},Sk.prototype.getFloatAttribute_nm2vx5$=function(t){var n;return null==(n=this.attributeViews_0.get_11rb$(t))||e.isType(n,kk)?n:_()},Sk.prototype.getVec2fAttribute_nm2vx5$=function(t){var n;return null==(n=this.attributeViews_0.get_11rb$(t))||e.isType(n,uo)?n:_()},Sk.prototype.getVec3fAttribute_nm2vx5$=function(t){var n;return null==(n=this.attributeViews_0.get_11rb$(t))||e.isType(n,Eo)?n:_()},Sk.prototype.getVec4fAttribute_nm2vx5$=function(t){var n;return null==(n=this.attributeViews_0.get_11rb$(t))||e.isType(n,ir)?n:_()},Sk.prototype.getColorAttribute_nm2vx5$=function(t){var n,i;return null!=(n=this.attributeViews_0.get_11rb$(t))?new Pk(this,e.isType(i=n,Nk)?i:_()):null},Sk.prototype.getIntAttribute_nm2vx5$=function(t){var n;return null==(n=this.attributeViews_0.get_11rb$(t))||e.isType(n,Tk)?n:_()},Sk.prototype.getVec2iAttribute_nm2vx5$=function(t){var n;return null==(n=this.attributeViews_0.get_11rb$(t))||e.isType(n,Ok)?n:_()},Sk.prototype.getVec3iAttribute_nm2vx5$=function(t){var n;return null==(n=this.attributeViews_0.get_11rb$(t))||e.isType(n,Ek)?n:_()},Sk.prototype.getVec4iAttribute_nm2vx5$=function(t){var n;return null==(n=this.attributeViews_0.get_11rb$(t))||e.isType(n,Mk)?n:_()},Object.defineProperty(kk.prototype,"f",{configurable:!0,get:function(){return this.attribOffset_0<0?0:this.$outer.data.dataF.get_za3lpa$(this.$outer.offsetF_0+this.attribOffset_0|0)},set:function(t){this.attribOffset_0>=0&&this.$outer.data.dataF.set_24o109$(this.$outer.offsetF_0+this.attribOffset_0|0,t)}}),kk.$metadata$={kind:$,simpleName:"FloatView",interfaces:[]},Lk.prototype.get_za3lpa$=function(t){return this.attribOffset_0>=0&&0<=t&&t<=1?this.$outer.data.dataF.get_za3lpa$(this.$outer.offsetF_0+this.attribOffset_0+t|0):0},Lk.prototype.set_24o109$=function(t,e){this.attribOffset_0>=0&&0<=t&&t<=1&&this.$outer.data.dataF.set_24o109$(this.$outer.offsetF_0+this.attribOffset_0+t|0,e)},Lk.$metadata$={kind:$,simpleName:"Vec2fView",interfaces:[uo]},jk.prototype.get_za3lpa$=function(t){return this.attribOffset>=0&&0<=t&&t<=2?this.$outer.data.dataF.get_za3lpa$(this.$outer.offsetF_0+this.attribOffset+t|0):0},jk.prototype.set_24o109$=function(t,e){this.attribOffset>=0&&0<=t&&t<=2&&this.$outer.data.dataF.set_24o109$(this.$outer.offsetF_0+this.attribOffset+t|0,e)},jk.$metadata$={kind:$,simpleName:"Vec3fView",interfaces:[Eo]},Nk.prototype.get_za3lpa$=function(t){return this.attribOffset>=0&&0<=t&&t<=3?this.$outer.data.dataF.get_za3lpa$(this.$outer.offsetF_0+this.attribOffset+t|0):0},Nk.prototype.set_24o109$=function(t,e){this.attribOffset>=0&&0<=t&&t<=3&&this.$outer.data.dataF.set_24o109$(this.$outer.offsetF_0+this.attribOffset+t|0,e)},Nk.$metadata$={kind:$,simpleName:"Vec4fView",interfaces:[ir]},Pk.prototype.get_za3lpa$=function(t){return this.vecView.get_za3lpa$(t)},Pk.prototype.set_24o109$=function(t,e){this.vecView.set_24o109$(t,e)},Pk.$metadata$={kind:$,simpleName:"ColorWrapView",interfaces:[E$]},Object.defineProperty(Tk.prototype,"i",{configurable:!0,get:function(){return this.attribOffset_0<0?0:this.$outer.data.dataI.get_za3lpa$(this.$outer.offsetI_0+this.attribOffset_0|0)},set:function(t){this.attribOffset_0>=0&&this.$outer.data.dataI.set_vux9f0$(this.$outer.offsetI_0+this.attribOffset_0|0,t)}}),Tk.$metadata$={kind:$,simpleName:"IntView",interfaces:[]},Ok.prototype.get_za3lpa$=function(t){return this.attribOffset_0>=0&&0<=t&&t<=1?this.$outer.data.dataI.get_za3lpa$(this.$outer.offsetI_0+this.attribOffset_0+t|0):0},Ok.prototype.set_vux9f0$=function(t,e){this.attribOffset_0>=0&&0<=t&&t<=1&&this.$outer.data.dataI.set_vux9f0$(this.$outer.offsetI_0+this.attribOffset_0+t|0,e)},Ok.$metadata$={kind:$,simpleName:"Vec2iView",interfaces:[So]},Ek.prototype.get_za3lpa$=function(t){return this.attribOffset_0>=0&&0<=t&&t<=2?this.$outer.data.dataI.get_za3lpa$(this.$outer.offsetI_0+this.attribOffset_0+t|0):0},Ek.prototype.set_vux9f0$=function(t,e){this.attribOffset_0>=0&&0<=t&&t<=2&&this.$outer.data.dataI.set_vux9f0$(this.$outer.offsetI_0+this.attribOffset_0+t|0,e)},Ek.$metadata$={kind:$,simpleName:"Vec3iView",interfaces:[Ko]},Mk.prototype.get_za3lpa$=function(t){return this.attribOffset_0>=0&&0<=t&&t<=3?this.$outer.data.dataI.get_za3lpa$(this.$outer.offsetI_0+this.attribOffset_0+t|0):0},Mk.prototype.set_vux9f0$=function(t,e){this.attribOffset_0>=0&&0<=t&&t<=3&&this.$outer.data.dataI.set_vux9f0$(this.$outer.offsetI_0+this.attribOffset_0+t|0,e)},Mk.$metadata$={kind:$,simpleName:"Vec4iView",interfaces:[Lr]},Sk.$metadata$={kind:$,simpleName:"VertexView",interfaces:[Eo]},Object.defineProperty(Rk.prototype,"y",{configurable:!0,get:function(){return this.heightSigned<0?this.ySigned+this.heightSigned|0:this.ySigned}}),Object.defineProperty(Rk.prototype,"height",{configurable:!0,get:function(){return it(this.heightSigned)}}),Object.defineProperty(Rk.prototype,"aspectRatio",{configurable:!0,get:function(){return this.width/this.height}}),Rk.prototype.isInViewport_dleff0$=function(t,e){return t>=this.x&&t<(this.x+this.width|0)&&e>=e&&e<e+this.height},Rk.prototype.set_tjonv8$=function(t,e,n,i){this.x=t,this.width=n,this.ySigned=e,this.heightSigned=i},Rk.$metadata$={kind:$,simpleName:"Viewport",interfaces:[]},Object.defineProperty(Bk.prototype,"gl",{configurable:!0,get:function(){var t,e;if(null==(e=null!=(t=this.ctx)?t.gl_8be2vx$:null))throw _i("Platform.createContext() not called");return e}}),Bk.prototype.createContext_s8od96$=function(t){if(null!=this.ctx)throw _i("Context was already created (multi-context is currently not supported in js");return this.ctx=new yL(t),w(this.ctx)},Bk.$metadata$={kind:b,simpleName:"JsImpl",interfaces:[]};var Fk=null;function qk(){return null===Fk&&new Bk,Fk}function Uk(t){var e;this.offscreenPass=t,this.fbos_0=E(),this.rbos_0=E(),this.drawMipLevels_0=this.offscreenPass.config.drawMipLevels,e=this.drawMipLevels_0?this.offscreenPass.config.mipLevels:1,this.renderMipLevels_0=e,this.isCreated_0=!1;var n,i=I(this.offscreenPass.config.nColorAttachments);n=i.length-1|0;for(var o=0;o<=n;o++)i[o]=null;this.colorTexs_0=i,this.depthTex_0=null}function Vk(t){Hk(),this.offscreenPass=t,this.fbos_0=E(),this.rbos_0=E(),this.isCreated_0=!1,this.colorTex_0=null}function Wk(){Gk=this;var t,e=I(6);t=e.length-1|0;for(var n=0;n<=t;n++){var i;t:do{switch(n){case 0:i=Ca();break t;case 1:i=za();break t;case 2:i=Sa();break t;case 3:i=ka();break t;case 4:i=xa();break t;case 5:i=wa();break t;default:throw Je()}}while(0);e[n]=i}this.VIEWS_0=e}Uk.prototype.draw_44a5h0$=function(t){var e,n,i;if(this.isCreated_0||this.create_0(t),this.isCreated_0){e=this.renderMipLevels_0;for(var o=0;o<e;o++)null!=(n=this.offscreenPass.onSetupMipLevel)&&n(o,t),this.offscreenPass.applyMipViewport_za3lpa$(o),t.gl_8be2vx$.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,this.fbos_0.get_za3lpa$(o)),t.queueRenderer_8be2vx$.renderQueue_e0goaf$(this.offscreenPass.drawQueue);if(!this.drawMipLevels_0){i=this.colorTexs_0;for(var r=0;r!==i.length;++r)t.gl_8be2vx$.bindTexture(WebGLRenderingContext.TEXTURE_2D,this.colorTexs_0[r]),t.gl_8be2vx$.generateMipmap(WebGLRenderingContext.TEXTURE_2D)}this.copyToTextures_0(t),t.gl_8be2vx$.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null)}},Uk.prototype.copyToTextures_0=function(t){var n,i,o;n=this.renderMipLevels_0;for(var r=0;r<n;r++){t.gl_8be2vx$.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,this.fbos_0.get_za3lpa$(r)),t.gl_8be2vx$.readBuffer(WebGLRenderingContext.COLOR_ATTACHMENT0),i=this.offscreenPass.copyTargetsColor;for(var s=0;s!==i.size;++s){var a,l,p,u,c,h,d=this.offscreenPass.copyTargetsColor.get_za3lpa$(s),f=null!=(l=null!=(a=d.loadedTexture)?a.width:null)?l:0,m=null!=(u=null!=(p=d.loadedTexture)?p.height:null)?u:0;f===this.offscreenPass.width&&m===this.offscreenPass.height||(null!=(c=d.loadedTexture)&&c.dispose(),this.createCopyTexColor_0(d,t),f=w(d.loadedTexture).width,m=w(d.loadedTexture).height),f>>=r,m>>=r;var y=e.isType(h=d.loadedTexture,IL)?h:_();t.gl_8be2vx$.bindTexture(WebGLRenderingContext.TEXTURE_2D,y.texture),t.gl_8be2vx$.copyTexSubImage2D(WebGLRenderingContext.TEXTURE_2D,r,0,0,0,0,f,m)}}if(!this.drawMipLevels_0){o=this.offscreenPass.copyTargetsColor;for(var $=0;$!==o.size;++$){var b,g=this.offscreenPass.copyTargetsColor.get_za3lpa$($),v=e.isType(b=g.loadedTexture,IL)?b:_();t.gl_8be2vx$.bindTexture(WebGLRenderingContext.TEXTURE_2D,v.texture),t.gl_8be2vx$.generateMipmap(WebGLRenderingContext.TEXTURE_2D)}}},Uk.prototype.dispose_aemszp$=function(t){var n,i,o,r,s;for(e.isType(t,yL)||_(),o=this.fbos_0.iterator();o.hasNext();){var a=o.next();t.gl_8be2vx$.deleteFramebuffer(a)}for(r=this.rbos_0.iterator();r.hasNext();){var l=r.next();t.gl_8be2vx$.deleteRenderbuffer(l)}for(this.fbos_0.clear(),this.rbos_0.clear(),s=this.offscreenPass.colorTextures.iterator();s.hasNext();){var p=s.next();p.loadingState===w_()&&p.dispose()}null!=(n=this.offscreenPass.depthTexture)&&n.loadingState===w_()&&n.dispose(),i=this.colorTexs_0;for(var u=0;u!==i.length;++u)this.colorTexs_0[u]=null;this.depthTex_0=null,this.isCreated_0=!1},Uk.prototype.applySize_w70mbp$=function(t,n,i){var o;this.dispose_aemszp$(i),this.create_0(e.isType(o=i,yL)?o:_())},Uk.prototype.create_0=function(t){var e,n=t.gl_8be2vx$;this.offscreenPass.config.colorRenderTarget===fa()&&this.createColorTexs_0(t),this.offscreenPass.config.depthRenderTarget===fa()&&this.createDepthTex_0(t),e=this.offscreenPass.config.mipLevels;for(var i=0;i<e;i++){var o=this.offscreenPass.getMipWidth_za3lpa$(i),r=this.offscreenPass.getMipHeight_za3lpa$(i),s=n.createFramebuffer();if(n.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,s),this.offscreenPass.config.colorRenderTarget===fa()){var a,l,p=this.colorTexs_0,u=0;for(a=0;a!==p.length;++a){var c=p[a],_=(u=(l=u)+1|0,l);n.framebufferTexture2D(WebGLRenderingContext.FRAMEBUFFER,WebGLRenderingContext.COLOR_ATTACHMENT0+_|0,WebGLRenderingContext.TEXTURE_2D,c,i)}var h,d=new Int32Array(this.colorTexs_0.length);h=d.length-1|0;for(var f=0;f<=h;f++)d[f]=WebGLRenderingContext.COLOR_ATTACHMENT0+f|0;var m=d;n.drawBuffers(m)}else{var y=n.createRenderbuffer();n.bindRenderbuffer(WebGLRenderingContext.RENDERBUFFER,y),n.renderbufferStorage(WebGLRenderingContext.RENDERBUFFER,CL(u_()),o,r),n.framebufferRenderbuffer(WebGLRenderingContext.FRAMEBUFFER,WebGLRenderingContext.COLOR_ATTACHMENT0,WebGLRenderingContext.RENDERBUFFER,y),this.rbos_0.add_11rb$(y)}if(this.offscreenPass.config.depthRenderTarget===fa())n.framebufferTexture2D(WebGLRenderingContext.FRAMEBUFFER,WebGLRenderingContext.DEPTH_ATTACHMENT,WebGLRenderingContext.TEXTURE_2D,this.depthTex_0,i);else{var $=n.createRenderbuffer();n.bindRenderbuffer(WebGLRenderingContext.RENDERBUFFER,$),n.renderbufferStorage(WebGLRenderingContext.RENDERBUFFER,WebGL2RenderingContext.DEPTH_COMPONENT24,o,r),n.framebufferRenderbuffer(WebGLRenderingContext.FRAMEBUFFER,WebGLRenderingContext.DEPTH_ATTACHMENT,WebGLRenderingContext.RENDERBUFFER,$),this.rbos_0.add_11rb$($)}this.fbos_0.add_11rb$(s)}this.isCreated_0=!0},Uk.prototype.createColorTexs_0=function(t){var n;n=this.offscreenPass.colorTextures;for(var i=0;i!==n.size;++i){var o,r=this.offscreenPass.config.colorAttachments.get_za3lpa$(i);if(null!=r.providedTexture)this.colorTexs_0[i]=(e.isType(o=r.providedTexture.loadedTexture,IL)?o:_()).texture;else{var s=r.colorFormat,a=CL(s),l=this.offscreenPass.width,p=this.offscreenPass.height,u=this.offscreenPass.config.mipLevels,c=k_().estimatedTexSize_4qozqa$(l,p,1,u,LL(s)),h=new IL(t,WebGLRenderingContext.TEXTURE_2D,t.gl_8be2vx$.createTexture(),c);h.setSize_qt1dr2$(l,p,1),h.applySamplerProps_xetyfc$(this.offscreenPass.colorTextures.get_za3lpa$(i).props),t.gl_8be2vx$.texStorage2D(WebGLRenderingContext.TEXTURE_2D,u,a,l,p),this.colorTexs_0[i]=h.texture,this.offscreenPass.colorTextures.get_za3lpa$(i).loadedTexture=h,this.offscreenPass.colorTextures.get_za3lpa$(i).loadingState=w_()}}},Uk.prototype.createDepthTex_0=function(t){var n,i=w(this.offscreenPass.config.depthAttachment);if(null!=i.providedTexture)this.depthTex_0=(e.isType(n=i.providedTexture.loadedTexture,IL)?n:_()).texture;else{var o=WebGL2RenderingContext.DEPTH_COMPONENT24,r=this.offscreenPass.width,s=this.offscreenPass.height,a=this.offscreenPass.config.mipLevels,l=this.offscreenPass.config.depthAttachment,p=k_().estimatedTexSize_4qozqa$(r,s,1,a,4),u=new IL(t,WebGLRenderingContext.TEXTURE_2D,t.gl_8be2vx$.createTexture(),p);u.setSize_qt1dr2$(r,s,1),u.applySamplerProps_xetyfc$(w(this.offscreenPass.depthTexture).props),l.depthCompareOp!==$l()&&(t.gl_8be2vx$.texParameteri(WebGLRenderingContext.TEXTURE_2D,WebGL2RenderingContext.TEXTURE_COMPARE_MODE,WebGL2RenderingContext.COMPARE_REF_TO_TEXTURE),t.gl_8be2vx$.texParameteri(WebGLRenderingContext.TEXTURE_2D,WebGL2RenderingContext.TEXTURE_COMPARE_FUNC,jL(l.depthCompareOp))),t.gl_8be2vx$.texStorage2D(WebGLRenderingContext.TEXTURE_2D,a,o,r,s),this.depthTex_0=u.texture,this.offscreenPass.depthTexture.loadedTexture=u,this.offscreenPass.depthTexture.loadingState=w_()}},Uk.prototype.createCopyTexColor_0=function(t,e){var n=CL(t.props.format),i=this.offscreenPass.width,o=this.offscreenPass.height,r=this.offscreenPass.config.mipLevels,s=k_().estimatedTexSize_4qozqa$(i,o,1,r,LL(t.props.format)),a=new IL(e,WebGLRenderingContext.TEXTURE_2D,e.gl_8be2vx$.createTexture(),s);a.setSize_qt1dr2$(i,o,1),a.applySamplerProps_xetyfc$(t.props),e.gl_8be2vx$.texStorage2D(WebGLRenderingContext.TEXTURE_2D,r,n,i,o),t.loadedTexture=a,t.loadingState=w_()},Uk.$metadata$={kind:$,simpleName:"OffscreenPass2dImpl",interfaces:[]},Vk.prototype.draw_44a5h0$=function(t){var e,n;this.isCreated_0||this.create_0(t),e=this.offscreenPass.config.mipLevels;for(var i=0;i<e;i++){null!=(n=this.offscreenPass.onSetupMipLevel)&&n(i,t),this.offscreenPass.applyMipViewport_za3lpa$(i),t.gl_8be2vx$.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,this.fbos_0.get_za3lpa$(i));for(var o=0;o<6;o++){var r=Hk().VIEWS_0[o],s=this.offscreenPass.drawQueues[r.index];t.gl_8be2vx$.framebufferTexture2D(WebGLRenderingContext.FRAMEBUFFER,WebGLRenderingContext.COLOR_ATTACHMENT0,WebGLRenderingContext.TEXTURE_CUBE_MAP_POSITIVE_X+o|0,this.colorTex_0,i),t.queueRenderer_8be2vx$.renderQueue_e0goaf$(s),this.copyToTextures_0(o,i,t)}}t.gl_8be2vx$.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null)},Vk.prototype.copyToTextures_0=function(t,n,i){var o;i.gl_8be2vx$.readBuffer(WebGLRenderingContext.COLOR_ATTACHMENT0),o=this.offscreenPass.copyTargetsColor;for(var r=0;r!==o.size;++r){var s,a,l,p,u,c,h=this.offscreenPass.copyTargetsColor.get_za3lpa$(r),d=null!=(a=null!=(s=h.loadedTexture)?s.width:null)?a:0,f=null!=(p=null!=(l=h.loadedTexture)?l.height:null)?p:0;d===this.offscreenPass.width&&f===this.offscreenPass.height||(null!=(u=h.loadedTexture)&&u.dispose(),this.createCopyTexColor_0(h,i),d=w(h.loadedTexture).width,f=w(h.loadedTexture).height),d>>=n,f>>=n;var m=e.isType(c=h.loadedTexture,IL)?c:_();i.gl_8be2vx$.bindTexture(WebGLRenderingContext.TEXTURE_CUBE_MAP,m.texture),i.gl_8be2vx$.copyTexSubImage2D(WebGLRenderingContext.TEXTURE_CUBE_MAP_POSITIVE_X+t|0,n,0,0,0,0,d,f)}},Vk.prototype.dispose_aemszp$=function(t){var n,i,o,r;for(e.isType(t,yL)||_(),i=this.fbos_0.iterator();i.hasNext();){var s=i.next();t.gl_8be2vx$.deleteFramebuffer(s)}for(o=this.rbos_0.iterator();o.hasNext();){var a=o.next();t.gl_8be2vx$.deleteRenderbuffer(a)}for(this.fbos_0.clear(),this.rbos_0.clear(),r=this.offscreenPass.colorTextures.iterator();r.hasNext();){var l=r.next();l.loadingState===w_()&&l.dispose()}null!=(n=this.offscreenPass.depthTexture)&&n.loadingState===w_()&&n.dispose(),this.colorTex_0=null,this.isCreated_0=!1},Vk.prototype.applySize_w70mbp$=function(t,n,i){var o;this.dispose_aemszp$(i),this.create_0(e.isType(o=i,yL)?o:_())},Vk.prototype.create_0=function(t){var e,n=t.gl_8be2vx$;this.createColorTex_0(t),e=this.offscreenPass.config.mipLevels;for(var i=0;i<e;i++){var o=n.createFramebuffer(),r=n.createRenderbuffer(),s=this.offscreenPass.getMipWidth_za3lpa$(i),a=this.offscreenPass.getMipHeight_za3lpa$(i);n.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,o),n.bindRenderbuffer(WebGLRenderingContext.RENDERBUFFER,r),n.renderbufferStorage(WebGLRenderingContext.RENDERBUFFER,WebGL2RenderingContext.DEPTH_COMPONENT24,s,a),n.framebufferRenderbuffer(WebGLRenderingContext.FRAMEBUFFER,WebGLRenderingContext.DEPTH_ATTACHMENT,WebGLRenderingContext.RENDERBUFFER,r),this.fbos_0.add_11rb$(o),this.rbos_0.add_11rb$(r)}this.isCreated_0=!0},Vk.prototype.createColorTex_0=function(t){var e=this.offscreenPass.config.colorAttachments.get_za3lpa$(0).colorFormat,n=CL(e),i=this.offscreenPass.width,o=this.offscreenPass.height,r=this.offscreenPass.config.mipLevels,s=k_().estimatedTexSize_4qozqa$(i,o,6,r,LL(e)),a=new IL(t,WebGLRenderingContext.TEXTURE_CUBE_MAP,t.gl_8be2vx$.createTexture(),s);a.setSize_qt1dr2$(i,o,1),a.applySamplerProps_xetyfc$(w(this.offscreenPass.colorTexture).props),t.gl_8be2vx$.texStorage2D(WebGLRenderingContext.TEXTURE_CUBE_MAP,r,n,i,o),this.colorTex_0=a.texture,w(this.offscreenPass.colorTexture).loadedTexture=a,w(this.offscreenPass.colorTexture).loadingState=w_()},Vk.prototype.createCopyTexColor_0=function(t,e){var n=CL(t.props.format),i=this.offscreenPass.width,o=this.offscreenPass.height,r=this.offscreenPass.config.mipLevels,s=k_().estimatedTexSize_4qozqa$(i,o,6,r,LL(t.props.format)),a=new IL(e,WebGLRenderingContext.TEXTURE_CUBE_MAP,e.gl_8be2vx$.createTexture(),s);a.setSize_qt1dr2$(i,o,1),a.applySamplerProps_xetyfc$(t.props),e.gl_8be2vx$.texStorage2D(WebGLRenderingContext.TEXTURE_CUBE_MAP,r,n,i,o),t.loadedTexture=a,t.loadingState=w_()},Wk.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var Gk=null;function Hk(){return null===Gk&&new Wk,Gk}function Xk(t){switch(this.nSlots=0,this.attribSize=0,t.type.name){case"FLOAT":this.nSlots=1,this.attribSize=1;break;case"VEC_2F":this.nSlots=1,this.attribSize=2;break;case"VEC_3F":this.nSlots=1,this.attribSize=3;break;case"VEC_4F":this.nSlots=1,this.attribSize=4;break;case"MAT_2F":this.nSlots=2,this.attribSize=2;break;case"MAT_3F":this.nSlots=3,this.attribSize=3;break;case"MAT_4F":this.nSlots=4,this.attribSize=4;break;case"INT":this.nSlots=1,this.attribSize=1;break;case"VEC_2I":this.nSlots=1,this.attribSize=2;break;case"VEC_3I":this.nSlots=1,this.attribSize=3;break;case"VEC_4I":this.nSlots=1,this.attribSize=4;break;default:e.noWhenBranchMatched()}}function Kk(t,n){this.vertexSrc=t,this.fragmentSrc=n;var i=at(this.vertexSrc),o=new St(new St(e.Long.fromInt(i)).data.shiftLeft(32)),r=at(this.fragmentSrc),s=new St(e.Long.fromInt(r));this.longHash=new St(o.data.add(s.data))}function Yk(t,n){var i,o;this.maxWidth=t,this.maxHeight=n,this.canvas_0=e.isType(i=document.createElement("canvas"),HTMLCanvasElement)?i:_(),this.canvasCtx_0=null,this.charMaps_0=C(),this.canvas_0.width=this.maxWidth,this.canvas_0.height=this.maxHeight,this.canvasCtx_0=e.isType(o=this.canvas_0.getContext("2d"),CanvasRenderingContext2D)?o:_()}function Zk(t,e){if(nh.call(this),this.data_a0fx42$_0=t,!t.complete)throw xt("Image must be complete");this.width=t.width,this.height=t.height,this.depth=1,null!=e&&(this.format=e)}function Jk(t,n,i,o){var r,s;if(nh.call(this),this.data_e6041x$_0=null,!t.complete)throw xt("Image must be complete");this.width=t.width/n|0,this.height=t.height/i|0,this.depth=e.imul(n,i),null!=o&&(this.format=o);var a=e.isType(r=document.createElement("canvas"),HTMLCanvasElement)?r:_();a.width=this.width,a.height=this.height;var l,p=e.isType(s=a.getContext("2d"),CanvasRenderingContext2D)?s:_(),u=I(this.depth);l=u.length-1|0;for(var c=0;c<=l;c++){var h=c%n,d=c/i|0,f=this.width,m=this.height;p.drawImage(t,h*f,d*m,f,m,0,0,f,m),u[c]=p.getImageData(0,0,f,m)}this.data_e6041x$_0=u}function Qk(t,e){mL(),on.call(this,t),this.ctx=e,this.pako_0=n(16),this.fontGenerator_0=new Yk(2048,2048)}function tL(t,e,n){p.call(this,n),this.exceptionState_0=1,this.$this=t,this.local$rawRef=e}function eL(t,e,n){p.call(this,n),this.exceptionState_0=1,this.$this=t,this.local$textureRef=e}function nL(t,e){return function(n){return t.complete_11rb$(e)}}function iL(t,e){return function(n,i,o,r,s){return u(t.url,"data:")?e.completeExceptionally_tcv7n7$(_i("Failed loading tex from data URL")):e.completeExceptionally_tcv7n7$(_i("Failed loading tex from "+t.url))}}function oL(t,e,n){p.call(this,n),this.exceptionState_0=1,this.$this=t,this.local$tmp$=void 0,this.local$ref=e}function rL(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$loader=t,this.local$this$JsAssetManager=e,this.local$$receiver=n}function sL(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$assetPath=t,this.local$it=n}function aL(t){return function(e,n,i,o){var r=new sL(t,e,n,this,i);return o?r:r.doResume(null)}}function lL(t,e,n,i){p.call(this,i),this.exceptionState_0=1,this.$this=t,this.local$tex=void 0,this.local$assetPath=e,this.local$props=n}function pL(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$texData=t}function uL(t,e,n,i,o,r,s,a,l,u){p.call(this,u),this.$controller=l,this.exceptionState_0=1,this.local$closure$ft=t,this.local$closure$bk=e,this.local$closure$lt=n,this.local$closure$rt=i,this.local$closure$up=o,this.local$closure$dn=r,this.local$it=a}function cL(t,e,n,i,o,r){return function(s,a,l,p){var u=new uL(t,e,n,i,o,r,s,a,this,l);return p?u:u.doResume(null)}}function _L(t,e,n,i,o,r,s,a,l){p.call(this,l),this.exceptionState_0=1,this.$this=t,this.local$tex=void 0,this.local$ft=e,this.local$bk=n,this.local$lt=i,this.local$rt=o,this.local$up=r,this.local$dn=s,this.local$props=a}function hL(t,e,n,i,o){p.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$closure$texData=t}function dL(){fL=this,this.MAX_GENERATED_TEX_WIDTH_0=2048,this.MAX_GENERATED_TEX_HEIGHT_0=2048}Vk.$metadata$={kind:$,simpleName:"OffscreenPassCubeImpl",interfaces:[]},Xk.$metadata$={kind:$,simpleName:"PlatformAttributeProps",interfaces:[]},Kk.$metadata$={kind:$,simpleName:"ShaderCode",interfaces:[]},Yk.prototype.getCharMap_ttufcy$=function(t){var e,n=this.charMaps_0,i=n.get_11rb$(t);if(null==i){var o=this.generateCharMap_0(t);n.put_xwzc9p$(t,o),e=o}else e=i;return e},Yk.prototype.generateCharMap_0=function(t){var n;this.canvasCtx_0.clearRect(0,0,this.maxWidth,this.maxHeight);var i="lighter ";0!=(1&t.style)&&(i="bold "),0!=(2&t.style)&&(i+="italic ");var o=C(),r=this.makeMap_0(t,i,o),s=this.canvasCtx_0.getImageData(0,0,this.maxWidth,r),a=Nj(e.imul(this.maxWidth,r));n=a.capacity;for(var l=0;l<n;l++)a.put_s8j3t7$(s.data[3+(4*l|0)|0]);return new hg(new ah(a,this.maxWidth,r,u_()),o,t)},Yk.prototype.makeMap_0=function(t,e,n){var i,o;this.canvasCtx_0.font=e+t.sizePts+"px "+t.family,this.canvasCtx_0.fillStyle="#ffffff";var r=lt(1.1*t.sizePts),s=lt(.5*t.sizePts),a=lt(1.6*t.sizePts);this.canvasCtx_0.beginPath(),this.canvasCtx_0.moveTo(.5,0),this.canvasCtx_0.lineTo(.5,1),this.canvasCtx_0.stroke();var l=1,p=r;for(i=Ue(t.chars);i.hasNext();){var u=O(i.next());106===u&&(l+=.1*t.sizePts);var c=String.fromCharCode(u),_=lt(this.canvasCtx_0.measureText(c).width),h=lt(_+6);if(l+h>this.maxWidth&&(l=0,(p+=a+10)+s>this.maxHeight))break;var d=_,f=a,m=new _g;m.width=d,m.height=f,m.xOffset=0,m.yBaseline=r,m.advance=m.width,m.uvMin.set_dleff0$(l+3,p-r),m.uvMax.set_dleff0$(l+3+d,p-r+f);var y=N(u);n.put_xwzc9p$(y,m),this.canvasCtx_0.fillText(c,l+3,p),l+=h}var $=this.maxWidth,b=this.nextPow2_0(p+s);for(o=n.values.iterator();o.hasNext();){var g=o.next();g.uvMin.x=g.uvMin.x/$,g.uvMin.y=g.uvMin.y/b,g.uvMax.x=g.uvMax.x/$,g.uvMax.y=g.uvMax.y/b}return b},Yk.prototype.nextPow2_0=function(t){for(var e=16;e<t&&e<this.maxHeight;)e<<=1;return e},Yk.$metadata$={kind:$,simpleName:"FontMapGenerator",interfaces:[]},Object.defineProperty(Zk.prototype,"data",{configurable:!0,get:function(){return this.data_a0fx42$_0}}),Zk.$metadata$={kind:$,simpleName:"ImageTextureData",interfaces:[nh]},Object.defineProperty(Jk.prototype,"data",{configurable:!0,get:function(){return this.data_e6041x$_0}}),Jk.$metadata$={kind:$,simpleName:"ImageAtlasTextureData",interfaces:[nh]},tL.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},tL.prototype=Object.create(p.prototype),tL.prototype.constructor=tL,tL.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.$this.loadRaw_0(this.local$rawRef.url,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return new Cn(this.local$rawRef,this.result_0);default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qk.prototype.loadRaw_ye9lq$=function(t,e,n){var i=new tL(this,t,e);return n?i:i.doResume(null)},eL.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},eL.prototype=Object.create(p.prototype),eL.prototype.constructor=eL,eL.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.$this.loadImage_0(this.local$textureRef,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return new Sn(this.local$textureRef,this.result_0);default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qk.prototype.loadTexture_q13quj$=function(t,e,n){var i=new eL(this,t,e);return n?i:i.doResume(null)},Qk.prototype.loadRaw_0=function(t,n){var i,o,r=y(this.job),s=new XMLHttpRequest;return s.responseType="arraybuffer",s.onload=(i=s,o=r,function(t){var n,r=new Uint8Array(e.isType(n=i.response,ArrayBuffer)?n:_());return o.complete_11rb$(new zj(r))}),s.onerror=function(t,n,i){return function(o){t.complete_11rb$(null);var r=i,s=Hj.Log,l=vC.ERROR,p=e.getKClassFromExpression(r).simpleName;return l.level>=s.level.level&&s.printer(l,p,"Failed loading resource "+n+": "+o),a}}(r,t,this),s.open("GET",t),s.send(),r.await(n)},oL.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},oL.prototype=Object.create(p.prototype),oL.prototype.constructor=oL,oL.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t=y(),e=new Image;if(e.onload=nL(t,e),e.onerror=iL(this.local$ref,t),e.crossOrigin="",e.src=this.local$ref.url,this.local$ref.isAtlas){if(this.state_0=3,this.result_0=t.await(this),this.result_0===l)return l;continue}if(this.state_0=2,this.result_0=t.await(this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:this.local$tmp$=new Zk(this.result_0,this.local$ref.fmt),this.state_0=4;continue;case 3:this.local$tmp$=new Jk(this.result_0,this.local$ref.tilesX,this.local$ref.tilesY,this.local$ref.fmt),this.state_0=4;continue;case 4:return this.local$tmp$;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qk.prototype.loadImage_0=function(t,e,n){var i=new oL(this,t,e);return n?i:i.doResume(null)},rL.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},rL.prototype=Object.create(p.prototype),rL.prototype.constructor=rL,rL.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$closure$loader(this.local$$receiver,this.local$this$JsAssetManager,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qk.prototype.loadTextureAsync_72pzmk$=function(t){return Qe(this,void 0,void 0,(e=t,n=this,function(t,i,o){var r=new rL(e,n,t,this,i);return o?r:r.doResume(null)}));var e,n},Qk.prototype.createCharMap_ttufcy$=function(t){return this.fontGenerator_0.getCharMap_ttufcy$(t)},Qk.prototype.inflate_ay2i3f$=function(t){var n,i,o=(e.isType(n=t,zj)?n:_()).buffer;return new zj(e.isType(i=this.pako_0.inflate(o),Uint8Array)?i:_())},Qk.prototype.createTextureData_asds6l$=function(t,n,i){for(var o,r,s,a=(e.isType(o=t,zj)?o:_()).buffer,l=[],p=0;p<a.length;p+=32768)l.push(String.fromCharCode.apply(null,a.subarray(p,p+32768)));s=l.join("");var u=new wn("data:"+n+";base64,"+("string"==typeof(r=window.btoa(s))?r:_()),!0,null,!1);return this.loadImage_0(u,i)},sL.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},sL.prototype=Object.create(p.prototype),sL.prototype.constructor=sL,sL.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$closure$assetPath,void 0,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},lL.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},lL.prototype=Object.create(p.prototype),lL.prototype.constructor=lL,lL.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.local$tex=new j_(this.local$props,this.$this.assetPathToName_61zpoe$(this.local$assetPath),aL(this.local$assetPath)),this.state_0=2,this.result_0=this.$this.loadTextureData_9n4zzi$(this.local$assetPath,this.local$props.format,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:var t=this.result_0;return this.local$tex.loadedTexture=vj().loadTexture2d_hlfduu$(this.$this.ctx,this.local$props,t),this.local$tex.loadingState=w_(),this.local$tex;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qk.prototype.loadAndPrepareTexture_va0f2y$$default=function(t,e,n,i){var o=new lL(this,t,e,n);return i?o:o.doResume(null)},pL.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},pL.prototype=Object.create(p.prototype),pL.prototype.constructor=pL,pL.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:return this.local$closure$texData;case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qk.prototype.loadAndPrepareTexture_siesr9$$default=function(t,e,n){var i,o=new j_(e,n,(i=t,function(t,e,n,o){var r=new pL(i,t,e,this,n);return o?r:r.doResume(null)}));return o.loadedTexture=vj().loadTexture2d_hlfduu$(this.ctx,e,t),o.loadingState=w_(),o},uL.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},uL.prototype=Object.create(p.prototype),uL.prototype.constructor=uL,uL.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadCubeMapTextureData_r3y0ew$(this.local$closure$ft,this.local$closure$bk,this.local$closure$lt,this.local$closure$rt,this.local$closure$up,this.local$closure$dn,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},_L.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},_L.prototype=Object.create(p.prototype),_L.prototype.constructor=_L,_L.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t=this.$this.cubeMapAssetPathToName_r3y0ew$(this.local$ft,this.local$bk,this.local$lt,this.local$rt,this.local$up,this.local$dn);if(this.local$tex=new O_(this.local$props,t,cL(this.local$ft,this.local$bk,this.local$lt,this.local$rt,this.local$up,this.local$dn)),this.state_0=2,this.result_0=this.$this.loadCubeMapTextureData_r3y0ew$(this.local$ft,this.local$bk,this.local$lt,this.local$rt,this.local$up,this.local$dn,this),this.result_0===l)return l;continue;case 1:throw this.exception_0;case 2:var e=this.result_0;return this.local$tex.loadedTexture=vj().loadTextureCube_deh7i3$(this.$this.ctx,this.local$props,e),this.local$tex.loadingState=w_(),this.local$tex;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qk.prototype.loadAndPrepareCubeMap_oecnw4$$default=function(t,e,n,i,o,r,s,a,l){var p=new _L(this,t,e,n,i,o,r,s,a);return l?p:p.doResume(null)},hL.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[p]},hL.prototype=Object.create(p.prototype),hL.prototype.constructor=hL,hL.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:return this.local$closure$texData;case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Qk.prototype.loadAndPrepareCubeMap_q9pwzk$$default=function(t,e,n){var i,o=new O_(e,n,(i=t,function(t,e,n,o){var r=new hL(i,t,e,this,n);return o?r:r.doResume(null)}));return o.loadedTexture=vj().loadTextureCube_deh7i3$(this.ctx,e,t),o.loadingState=w_(),o},dL.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var fL=null;function mL(){return null===fL&&new dL,fL}function yL(t){var n,i,o,r,s;vL(),si.call(this),this.props=t,this.assetMgr_z54vt4$_0=new Qk(this.props.assetsBaseDir,this),this.shaderGenerator_d0v5kq$_0=new fj,this.queueRenderer_8be2vx$=new hj(this),this.afterRenderActions_8be2vx$=E(),this.windowWidth_7sdnb6$_0=0,this.windowHeight_xsf9ux$_0=0,this.canvas_0=null,this.gl_8be2vx$=null,this.sysInfo_0=E(),this.animationMillis_0=0,this.glCapabilities=new xL,this.canvas_0=e.isType(n=document.getElementById(this.props.canvasName),HTMLCanvasElement)?n:_();var l=this.canvas_0.getContext("webgl2");if(null==l&&(l=this.canvas_0.getContext("experimental-webgl2")),null==l)throw alert("Unable to initialize WebGL2 context. Your browser may not support it."),_i("WebGL2 context required");this.gl_8be2vx$=e.isType(i=l,WebGL2RenderingContext)?i:_(),this.sysInfo_0.add_11rb$("WebGL 2.0"),this.glCapabilities.maxTexUnits=this.gl_8be2vx$.getParameter(WebGLRenderingContext.MAX_TEXTURE_IMAGE_UNITS),this.glCapabilities.hasFloatTextures=null!=this.gl_8be2vx$.getExtension("EXT_color_buffer_float");var p,u=null!=(r=null!=(o=this.gl_8be2vx$.getExtension("EXT_texture_filter_anisotropic"))?o:this.gl_8be2vx$.getExtension("MOZ_EXT_texture_filter_anisotropic"))?r:this.gl_8be2vx$.getExtension("WEBKIT_EXT_texture_filter_anisotropic");null!=u&&(this.glCapabilities.maxAnisotropy="number"==typeof(s=this.gl_8be2vx$.getParameter(u.MAX_TEXTURE_MAX_ANISOTROPY_EXT))?s:_(),this.glCapabilities.glTextureMaxAnisotropyExt=u.TEXTURE_MAX_ANISOTROPY_EXT),this.screenDpi=qk().dpi,this.windowWidth=this.canvas_0.clientWidth,this.windowHeight=this.canvas_0.clientHeight,this.canvas_0.oncontextmenu=Yt("preventDefault",(function(t){return t.preventDefault(),a})),this.canvas_0.onmousemove=(p=this,function(t){var e=p.canvas_0.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;return p.inputMgr.handleMouseMove_dleff0$(n,i),a}),this.canvas_0.onmousedown=function(t){return function(e){return t.inputMgr.handleMouseButtonStates_za3lpa$(e.buttons),a}}(this),this.canvas_0.onmouseup=function(t){return function(e){return t.inputMgr.handleMouseButtonStates_za3lpa$(e.buttons),a}}(this),this.canvas_0.onmouseleave=function(t){return function(e){return t.inputMgr.handleMouseExit(),a}}(this),this.canvas_0.onwheel=function(t){return function(e){var n=-e.deltaY/3;return 0===e.deltaMode&&(n/=30),t.inputMgr.handleMouseScroll_mx4ult$(n),e.preventDefault(),a}}(this),this.canvas_0.addEventListener("touchstart",function(t){return function(n){var i,o;n.preventDefault();var r=(e.isType(i=n,TouchEvent)?i:_()).changedTouches;o=r.length;for(var s=0;s<o;s++){var l=r.item(s);t.inputMgr.handleTouchStart_nhq4am$(l.identifier,wL(l),zL(l))}return a}}(this),!1),this.canvas_0.addEventListener("touchend",function(t){return function(n){var i,o;n.preventDefault();var r=(e.isType(i=n,TouchEvent)?i:_()).changedTouches;o=r.length;for(var s=0;s<o;s++){var l=r.item(s);t.inputMgr.handleTouchEnd_za3lpa$(l.identifier)}return a}}(this),!1),this.canvas_0.addEventListener("touchcancel",function(t){return function(n){var i,o;n.preventDefault();var r=(e.isType(i=n,TouchEvent)?i:_()).changedTouches;o=r.length;for(var s=0;s<o;s++){var l=r.item(s);t.inputMgr.handleTouchCancel_za3lpa$(l.identifier)}return a}}(this),!1),this.canvas_0.addEventListener("touchmove",function(t){return function(n){var i,o;n.preventDefault();var r=(e.isType(i=n,TouchEvent)?i:_()).changedTouches;o=r.length;for(var s=0;s<o;s++){var l=r.item(s);t.inputMgr.handleTouchMove_nhq4am$(l.identifier,wL(l),zL(l))}return a}}(this),!1),document.onkeydown=function(t){return function(e){return t.handleKeyDown_0(e),a}}(this),document.onkeyup=function(t){return function(e){return t.handleKeyUp_0(e),a}}(this)}function $L(){this.canvasName="glCanvas",this.excludedKeyCodes=At(["F5"]),this.assetsBaseDir="./assets"}function bL(){gL=this,this.KEY_CODE_MAP=Nt([mt("ControlLeft",-1),mt("ControlRight",-2),mt("ShiftLeft",-3),mt("ShiftRight",-4),mt("AltLeft",-5),mt("AltRight",-6),mt("MetaLeft",-7),mt("MetaRight",-8),mt("Escape",-9),mt("ContextMenu",-10),mt("Enter",-11),mt("NumpadEnter",-12),mt("NumpadDivide",-13),mt("NumpadMultiply",-14),mt("NumpadAdd",-15),mt("NumpadSubtract",-16),mt("Backspace",-17),mt("Tab",-18),mt("Delete",-19),mt("Insert",-20),mt("Home",-21),mt("End",-22),mt("PageUp",-23),mt("PageDown",-24),mt("ArrowLeft",-25),mt("ArrowRight",-26),mt("ArrowUp",-27),mt("ArrowDown",-28),mt("F1",-29),mt("F2",-30),mt("F3",-31),mt("F4",-32),mt("F5",-33),mt("F6",-34),mt("F7",-35),mt("F8",-36),mt("F9",-37),mt("F10",-38),mt("F11",-39),mt("F12",-40),mt("Space",32)])}Qk.$metadata$={kind:$,simpleName:"JsAssetManager",interfaces:[on]},Object.defineProperty(yL.prototype,"assetMgr",{configurable:!0,get:function(){return this.assetMgr_z54vt4$_0}}),Object.defineProperty(yL.prototype,"shaderGenerator",{configurable:!0,get:function(){return this.shaderGenerator_d0v5kq$_0}}),Object.defineProperty(yL.prototype,"windowWidth",{configurable:!0,get:function(){return this.windowWidth_7sdnb6$_0},set:function(t){this.windowWidth_7sdnb6$_0=t}}),Object.defineProperty(yL.prototype,"windowHeight",{configurable:!0,get:function(){return this.windowHeight_xsf9ux$_0},set:function(t){this.windowHeight_xsf9ux$_0=t}}),yL.prototype.handleKeyDown_0=function(t){var e=this.translateKeyCode_0(t.code);if(0!==e){var n=0;t.altKey&&(n|=4),t.ctrlKey&&(n|=2),t.shiftKey&&(n|=1),t.metaKey&&(n|=8);var i=2;t.repeat&&(i|=4),this.inputMgr.keyEvent_qt1dr2$(e,n,i)}1===t.key.length&&this.inputMgr.charTyped_s8itvh$(t.key.charCodeAt(0)),this.props.excludedKeyCodes.contains_11rb$(t.code)||t.preventDefault()},yL.prototype.handleKeyUp_0=function(t){var e=this.translateKeyCode_0(t.code);if(0!==e){var n=0;t.altKey&&(n|=4),t.ctrlKey&&(n|=2),t.shiftKey&&(n|=1),t.metaKey&&(n|=8),this.inputMgr.keyEvent_qt1dr2$(e,n,1)}this.props.excludedKeyCodes.contains_11rb$(t.code)||t.preventDefault()},yL.prototype.translateKeyCode_0=function(t){var e;return 4===t.length&&u(t,"Key")?0|t.charCodeAt(3):null!=(e=vL().KEY_CODE_MAP.get_11rb$(t))?e:0},yL.prototype.renderFrame_0=function(t){var e,n=(t-this.animationMillis_0)/1e3;this.animationMillis_0=t,this.windowWidth=this.canvas_0.clientWidth,this.windowHeight=this.canvas_0.clientHeight,this.windowWidth===this.canvas_0.width&&this.windowHeight===this.canvas_0.height||(this.canvas_0.width=this.windowWidth,this.canvas_0.height=this.windowHeight),this.render_14dthe$(n),this.draw_0(),this.gl_8be2vx$.finish(),window.requestAnimationFrame((e=this,function(t){return e.renderFrame_0(t),a}))},yL.prototype.draw_0=function(){var t,e;this.disposablePipelines_8be2vx$.isEmpty()||(this.queueRenderer_8be2vx$.disposePipelines_z4np8a$(this.disposablePipelines_8be2vx$),this.disposablePipelines_8be2vx$.clear()),this.engineStats.resetPerFrameCounts(),t=this.backgroundPasses;for(var n=0;n!==t.size;++n)this.backgroundPasses.get_za3lpa$(n).isEnabled&&(this.drawOffscreen_0(this.backgroundPasses.get_za3lpa$(n)),this.backgroundPasses.get_za3lpa$(n).afterDraw_aemszp$(this));e=this.scenes;for(var i=0;i!==e.size;++i){var o,r=this.scenes.get_za3lpa$(i);if(r.isVisible){o=r.offscreenPasses;for(var s=0;s!==o.size;++s)r.offscreenPasses.get_za3lpa$(s).isEnabled&&(this.drawOffscreen_0(r.offscreenPasses.get_za3lpa$(s)),r.offscreenPasses.get_za3lpa$(s).afterDraw_aemszp$(this));this.queueRenderer_8be2vx$.renderQueue_e0goaf$(r.mainRenderPass.drawQueue),r.mainRenderPass.afterDraw_aemszp$(this)}}if(!this.afterRenderActions_8be2vx$.isEmpty()){var a;for(a=this.afterRenderActions_8be2vx$.iterator();a.hasNext();)a.next()();this.afterRenderActions_8be2vx$.clear()}},yL.prototype.drawOffscreen_0=function(t){if(e.isType(t,ya))t.impl_8be2vx$.draw_44a5h0$(this);else{if(!e.isType(t,$a))throw G("Offscreen pass type not implemented: "+t);t.impl_8be2vx$.draw_44a5h0$(this)}},yL.prototype.openUrl_61zpoe$=function(t){window.open(t)},yL.prototype.run=function(){var t;window.requestAnimationFrame((t=this,function(e){return t.renderFrame_0(e),a}))},yL.prototype.destroy=function(){},yL.prototype.getSysInfos=function(){return this.sysInfo_0},yL.prototype.getWindowViewport_ahq5yh$=function(t){t.set_tjonv8$(0,0,this.windowWidth,this.windowHeight)},$L.$metadata$={kind:$,simpleName:"InitProps",interfaces:[]},bL.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var gL=null;function vL(){return null===gL&&new bL,gL}function xL(){this.maxTexUnits_pg826n$_0=16,this.hasFloatTextures_jm9wjj$_0=!1,this.maxAnisotropy_q24ucr$_0=1,this.glTextureMaxAnisotropyExt_a0zvh2$_0=0}function wL(t){var n,i,o,r;return t.clientX-(null!=(r=null!=(o=null!=(i=e.isType(n=t.target,HTMLCanvasElement)?n:null)?i.clientLeft:null)?o:null)?r:0)}function zL(t){var n,i,o,r;return t.clientY-(null!=(r=null!=(o=null!=(i=e.isType(n=t.target,HTMLCanvasElement)?n:null)?i.clientTop:null)?o:null)?r:0)}function CL(t){switch(t.name){case"R":return WebGL2RenderingContext.R8;case"RG":return WebGL2RenderingContext.RG8;case"RGB":return WebGL2RenderingContext.RGB8;case"RGBA":return WebGL2RenderingContext.RGBA8;case"R_F16":return WebGL2RenderingContext.R16F;case"RG_F16":return WebGL2RenderingContext.RG16F;case"RGB_F16":return WebGL2RenderingContext.RGB16F;case"RGBA_F16":return WebGL2RenderingContext.RGBA16F;default:return e.noWhenBranchMatched()}}function SL(t){switch(t.name){case"R":case"RG":case"RGB":case"RGBA":return WebGLRenderingContext.UNSIGNED_BYTE;case"R_F16":case"RG_F16":case"RGB_F16":case"RGBA_F16":return WebGLRenderingContext.FLOAT;default:return e.noWhenBranchMatched()}}function kL(t){switch(t.name){case"R":return WebGL2RenderingContext.RED;case"RG":return WebGL2RenderingContext.RG;case"RGB":return WebGLRenderingContext.RGB;case"RGBA":return WebGLRenderingContext.RGBA;case"R_F16":return WebGL2RenderingContext.RED;case"RG_F16":return WebGL2RenderingContext.RG;case"RGB_F16":return WebGLRenderingContext.RGB;case"RGBA_F16":return WebGLRenderingContext.RGBA;default:return e.noWhenBranchMatched()}}function LL(t){switch(t.name){case"R":return 1;case"RG":return 2;case"RGB":return 3;case"RGBA":return 4;case"R_F16":return 2;case"RG_F16":return 4;case"RGB_F16":return 6;case"RGBA_F16":return 8;default:return e.noWhenBranchMatched()}}function jL(t){switch(t.name){case"DISABLED":return 0;case"ALWAYS":return WebGLRenderingContext.ALWAYS;case"NEVER":return WebGLRenderingContext.NEVER;case"LESS":return WebGLRenderingContext.LESS;case"LESS_EQUAL":return WebGLRenderingContext.LEQUAL;case"GREATER":return WebGLRenderingContext.GREATER;case"GREATER_EQUAL":return WebGLRenderingContext.GEQUAL;case"EQUAL":return WebGLRenderingContext.EQUAL;case"NOT_EQUAL":return WebGLRenderingContext.NOTEQUAL;default:return e.noWhenBranchMatched()}}function NL(t,e){var n;OL(),this.target=t,this.bufferId=(n=OL().nextBufferId_0,OL().nextBufferId_0=n.inc(),n),this.buffer=e.gl_8be2vx$.createBuffer()}function PL(){TL=this,this.nextBufferId_0=Tt}yL.$metadata$={kind:$,simpleName:"JsContext",interfaces:[si]},Object.defineProperty(xL.prototype,"maxTexUnits",{configurable:!0,get:function(){return this.maxTexUnits_pg826n$_0},set:function(t){this.maxTexUnits_pg826n$_0=t}}),Object.defineProperty(xL.prototype,"hasFloatTextures",{configurable:!0,get:function(){return this.hasFloatTextures_jm9wjj$_0},set:function(t){this.hasFloatTextures_jm9wjj$_0=t}}),Object.defineProperty(xL.prototype,"maxAnisotropy",{configurable:!0,get:function(){return this.maxAnisotropy_q24ucr$_0},set:function(t){this.maxAnisotropy_q24ucr$_0=t}}),Object.defineProperty(xL.prototype,"glTextureMaxAnisotropyExt",{configurable:!0,get:function(){return this.glTextureMaxAnisotropyExt_a0zvh2$_0},set:function(t){this.glTextureMaxAnisotropyExt_a0zvh2$_0=t}}),xL.$metadata$={kind:$,simpleName:"GlCapabilities",interfaces:[]},NL.prototype.delete_44a5h0$=function(t){t.engineStats.bufferDeleted_s8cxhz$(this.bufferId),t.gl_8be2vx$.deleteBuffer(this.buffer)},NL.prototype.bind_44a5h0$=function(t){t.gl_8be2vx$.bindBuffer(this.target,this.buffer)},NL.prototype.setData_phhdsy$=function(t,n,i){var o,r=t.limit,s=t.position;t.flip(),this.bind_44a5h0$(i),i.engineStats.bufferDeleted_s8cxhz$(this.bufferId),i.gl_8be2vx$.bufferData(this.target,(e.isType(o=t,Lj)?o:_()).buffer,n),i.engineStats.bufferAllocated_yhmem3$(this.bufferId,4*t.capacity|0),t.limit=r,t.position=s},NL.prototype.setData_1p7ty3$=function(t,n,i){var o,r=t.limit,s=t.position;t.flip(),this.bind_44a5h0$(i),i.engineStats.bufferDeleted_s8cxhz$(this.bufferId),i.gl_8be2vx$.bufferData(this.target,(e.isType(o=t,zj)?o:_()).buffer,n),i.engineStats.bufferAllocated_yhmem3$(this.bufferId,t.capacity),t.limit=r,t.position=s},NL.prototype.setData_8qu3as$=function(t,n,i){var o,r=t.limit,s=t.position;t.flip(),this.bind_44a5h0$(i),i.engineStats.bufferDeleted_s8cxhz$(this.bufferId),i.gl_8be2vx$.bufferData(this.target,(e.isType(o=t,Sj)?o:_()).buffer,n),i.engineStats.bufferAllocated_yhmem3$(this.bufferId,2*t.capacity|0),t.limit=r,t.position=s},NL.prototype.setData_ysni9y$=function(t,n,i){var o,r=t.limit,s=t.position;t.flip(),this.bind_44a5h0$(i),i.engineStats.bufferDeleted_s8cxhz$(this.bufferId),i.gl_8be2vx$.bufferData(this.target,(e.isType(o=t,kj)?o:_()).buffer,n),i.engineStats.bufferAllocated_yhmem3$(this.bufferId,4*t.capacity|0),t.limit=r,t.position=s},NL.prototype.unbind_44a5h0$=function(t){t.gl_8be2vx$.bindBuffer(this.target,null)},PL.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var TL=null;function OL(){return null===TL&&new PL,TL}function EL(t,n,i){var o,r,s;for(this.prog=t,this.ctx=i,this.pipelineId_0=n.pipelineHash.data,this.attributes_0=C(),this.instanceAttributes_0=C(),this.uniformLocations_0=C(),this.instances_0=C(),o=n.layout.vertices.bindings.iterator();o.hasNext();){var a,l=o.next();for(a=l.vertexAttributes.iterator();a.hasNext();){var p=a.next();switch(l.inputRate.name){case"VERTEX":var u=this.attributes_0,c=p.attribute.name;u.put_xwzc9p$(c,p);break;case"INSTANCE":var _=this.instanceAttributes_0,h=p.attribute.name;_.put_xwzc9p$(h,p)}}}for(r=n.layout.descriptorSets.iterator();r.hasNext();){var d;for(d=r.next().descriptors.iterator();d.hasNext();){var f,m=d.next();if(e.isType(m,Ks))for(f=m.uniforms.iterator();f.hasNext();){var y=f.next(),$=this.uniformLocations_0,b=y.name,g=qt(this.ctx.gl_8be2vx$.getUniformLocation(this.prog,y.name));$.put_xwzc9p$(b,g)}else if(e.isType(m,Fs)){var v=this.uniformLocations_0,x=m.name,w=this.getUniformLocations_0(m.name,m.arraySize);v.put_xwzc9p$(x,w)}else if(e.isType(m,Us)){var z=this.uniformLocations_0,S=m.name,k=this.getUniformLocations_0(m.name,m.arraySize);z.put_xwzc9p$(S,k)}else if(e.isType(m,Ws)){var L=this.uniformLocations_0,j=m.name,N=this.getUniformLocations_0(m.name,m.arraySize);L.put_xwzc9p$(j,N)}else{if(!e.isType(m,Hs))throw xt("Descriptor type not implemented: "+m);var P=this.uniformLocations_0,T=m.name,O=this.getUniformLocations_0(m.name,m.arraySize);P.put_xwzc9p$(T,O)}}}for(s=n.layout.pushConstantRanges.iterator();s.hasNext();){var E;for(E=s.next().pushConstants.iterator();E.hasNext();){var M=E.next(),R=this.uniformLocations_0,I=M.name,A=qt(this.ctx.gl_8be2vx$.getUniformLocation(this.prog,M.name));R.put_xwzc9p$(I,A)}}}function ML(t,n,i){var o,r;for(this.$outer=t,this.mesh=n,this.pipeline=i,this.pushConstants_0=E(),this.ubos_0=E(),this.textures1d_0=E(),this.textures2d_0=E(),this.textures3d_0=E(),this.texturesCube_0=E(),this.mappings_0=E(),this.attributeBinders_0=E(),this.instanceAttribBinders_0=E(),this.dataBufferF_0=null,this.dataBufferI_0=null,this.indexBuffer_0=null,this.instanceBuffer_0=null,this.buffersSet_0=!1,this.nextTexUnit_0=WebGLRenderingContext.TEXTURE0,this.numIndices=0,this.indexType=0,this.primitiveType=0,o=this.pipeline.layout.descriptorSets.iterator();o.hasNext();){var s;for(s=o.next().descriptors.iterator();s.hasNext();){var a=s.next();if(e.isType(a,Ks))this.mapUbo_0(a);else if(e.isType(a,Fs))this.mapTexture1d_0(a);else if(e.isType(a,Us))this.mapTexture2d_0(a);else if(e.isType(a,Ws))this.mapTexture3d_0(a);else{if(!e.isType(a,Hs))throw new He("An operation is not implemented: "+a.toString());this.mapTextureCube_0(a)}}}for(r=this.pipeline.layout.pushConstantRanges.iterator();r.hasNext();){var l=r.next();this.mapPushConstants_0(l)}this.$outer.ctx.engineStats.pipelineInstanceCreated_s8cxhz$(this.$outer.pipelineId_0)}function RL(t,e){this.vbo=t,this.loc=e}function IL(t,e,n,i){var o;BL(),this.ctx=t,this.target=e,this.texture=n,this.texId=(o=BL().nextTexId_0,BL().nextTexId_0=o.inc(),o),this.isDestroyed_hoph69$_0=!1,this.width_8gbh1k$_0=0,this.height_d6ao4v$_0=0,this.depth_hi5t2d$_0=0,this.ctx.engineStats.textureAllocated_yhmem3$(this.texId,i)}function AL(){DL=this,this.nextTexId_0=Tt}NL.$metadata$={kind:$,simpleName:"BufferResource",interfaces:[]},EL.prototype.getUniformLocations_0=function(t,e){var n=E();if(e>1)for(var i=0;i<e;i++){var o=this.ctx.gl_8be2vx$.getUniformLocation(this.prog,t+"["+i+"]");n.add_11rb$(o)}else{var r=this.ctx.gl_8be2vx$.getUniformLocation(this.prog,t);n.add_11rb$(r)}return n},EL.prototype.use=function(){var t,e;for(this.ctx.gl_8be2vx$.useProgram(this.prog),t=this.attributes_0.values.iterator();t.hasNext();){var n,i=t.next();n=i.attribute.props.nSlots;for(var o=0;o<n;o++){var r=i.location+o|0;this.ctx.gl_8be2vx$.enableVertexAttribArray(r),this.ctx.gl_8be2vx$.vertexAttribDivisor(r,0)}}for(e=this.instanceAttributes_0.values.iterator();e.hasNext();){var s,a=e.next();s=a.attribute.props.nSlots;for(var l=0;l<s;l++){var p=a.location+l|0;this.ctx.gl_8be2vx$.enableVertexAttribArray(p),this.ctx.gl_8be2vx$.vertexAttribDivisor(p,1)}}},EL.prototype.unUse=function(){var t,e;for(t=this.attributes_0.values.iterator();t.hasNext();){var n,i=t.next();n=i.attribute.props.nSlots;for(var o=0;o<n;o++)this.ctx.gl_8be2vx$.disableVertexAttribArray(i.location+o|0)}for(e=this.instanceAttributes_0.values.iterator();e.hasNext();){var r,s=e.next();r=s.attribute.props.nSlots;for(var a=0;a<r;a++)this.ctx.gl_8be2vx$.disableVertexAttribArray(s.location+a|0)}},EL.prototype.bindInstance_ye1q9v$=function(t){var e,n=w(t.pipeline),i=this.instances_0,o=n.pipelineInstanceId,r=i.get_11rb$(o);if(null==r){var s=new ML(this,t.mesh,n);i.put_xwzc9p$(o,s),e=s}else e=r;var a=e;return a.bindInstance_ye1q9v$(t)?a:null},EL.prototype.destroyInstance_lfrgcb$=function(t){var e;null!=(e=this.instances_0.remove_11rb$(t.pipelineInstanceId))&&(e.destroyInstance(),this.ctx.engineStats.pipelineInstanceDestroyed_s8cxhz$(this.pipelineId_0))},EL.prototype.isEmpty=function(){return this.instances_0.isEmpty()},EL.prototype.destroy=function(){this.ctx.engineStats.pipelineDestroyed_s8cxhz$(this.pipelineId_0),this.ctx.gl_8be2vx$.deleteProgram(this.prog)},ML.prototype.mapPushConstants_0=function(t){this.pushConstants_0.add_11rb$(t);var e,n=t.pushConstants;for(this.$outer,e=n.iterator();e.hasNext();){var i,o,r=e.next(),s=this.$outer;i=this.mappings_0;var a=VL().mappedUniform_lwhlub$(r,null!=(o=s.uniformLocations_0.get_11rb$(r.name))?o.get_za3lpa$(0):null);i.add_11rb$(a)}},ML.prototype.mapUbo_0=function(t){this.ubos_0.add_11rb$(t);var e,n=t.uniforms;for(this.$outer,e=n.iterator();e.hasNext();){var i,o,r=e.next(),s=this.$outer;i=this.mappings_0;var a=VL().mappedUniform_lwhlub$(r,null!=(o=s.uniformLocations_0.get_11rb$(r.name))?o.get_za3lpa$(0):null);i.add_11rb$(a)}},ML.prototype.mapTexture1d_0=function(t){var e;if(this.textures1d_0.add_11rb$(t),null!=(e=this.$outer.uniformLocations_0.get_11rb$(t.name))){var n=this.mappings_0,i=new pj(t,this.nextTexUnit_0,e);n.add_11rb$(i),this.nextTexUnit_0=this.nextTexUnit_0+e.size|0}},ML.prototype.mapTexture2d_0=function(t){var e;if(this.textures2d_0.add_11rb$(t),null!=(e=this.$outer.uniformLocations_0.get_11rb$(t.name))){var n=this.mappings_0,i=new uj(t,this.nextTexUnit_0,e);n.add_11rb$(i),this.nextTexUnit_0=this.nextTexUnit_0+e.size|0}},ML.prototype.mapTexture3d_0=function(t){var e;if(this.textures3d_0.add_11rb$(t),null!=(e=this.$outer.uniformLocations_0.get_11rb$(t.name))){var n=this.mappings_0,i=new cj(t,this.nextTexUnit_0,e);n.add_11rb$(i),this.nextTexUnit_0=this.nextTexUnit_0+e.size|0}},ML.prototype.mapTextureCube_0=function(t){var e;if(this.texturesCube_0.add_11rb$(t),null!=(e=this.$outer.uniformLocations_0.get_11rb$(t.name))){var n=this.mappings_0,i=new _j(t,this.nextTexUnit_0,e);n.add_11rb$(i),this.nextTexUnit_0=this.nextTexUnit_0+e.size|0}},ML.prototype.bindInstance_ye1q9v$=function(t){var e,n,i,o,r,s,a,l;e=this.pushConstants_0;for(var p=0;p!==e.size;++p){var u;null!=(u=this.pushConstants_0.get_za3lpa$(p).onUpdate)&&u(this.pushConstants_0.get_za3lpa$(p),t)}n=this.ubos_0;for(var c=0;c!==n.size;++c){var _;null!=(_=this.ubos_0.get_za3lpa$(c).onUpdate)&&_(this.ubos_0.get_za3lpa$(c),t)}i=this.textures1d_0;for(var h=0;h!==i.size;++h){var d;null!=(d=this.textures1d_0.get_za3lpa$(h).onUpdate)&&d(this.textures1d_0.get_za3lpa$(h),t)}o=this.textures2d_0;for(var f=0;f!==o.size;++f){var m;null!=(m=this.textures2d_0.get_za3lpa$(f).onUpdate)&&m(this.textures2d_0.get_za3lpa$(f),t)}r=this.textures3d_0;for(var y=0;y!==r.size;++y){var $;null!=($=this.textures3d_0.get_za3lpa$(y).onUpdate)&&$(this.textures3d_0.get_za3lpa$(y),t)}s=this.texturesCube_0;for(var b=0;b!==s.size;++b){var g;null!=(g=this.texturesCube_0.get_za3lpa$(b).onUpdate)&&g(this.texturesCube_0.get_za3lpa$(b),t)}var v=!0;a=this.mappings_0;for(var x=0;x!==a.size;++x)v=v&&this.mappings_0.get_za3lpa$(x).setUniform_44a5h0$(this.$outer.ctx);if(this.checkBuffers_0(),v){null!=(l=this.indexBuffer_0)&&l.bind_44a5h0$(this.$outer.ctx);var w,z=this.attributeBinders_0;for(this.$outer,w=z.iterator();w.hasNext();){var C=w.next();C.vbo.bindAttribute_9sni52$(C.loc,this.$outer.ctx)}var S,k=this.instanceAttribBinders_0;for(this.$outer,S=k.iterator();S.hasNext();){var L=S.next();L.vbo.bindAttribute_9sni52$(L.loc,this.$outer.ctx)}}return v},ML.prototype.destroyInstance=function(){var t,e,n,i;null!=(t=this.dataBufferF_0)&&t.delete_44a5h0$(this.$outer.ctx),null!=(e=this.dataBufferI_0)&&e.delete_44a5h0$(this.$outer.ctx),null!=(n=this.indexBuffer_0)&&n.delete_44a5h0$(this.$outer.ctx),null!=(i=this.instanceBuffer_0)&&i.delete_44a5h0$(this.$outer.ctx),this.dataBufferF_0=null,this.dataBufferI_0=null,this.indexBuffer_0=null,this.instanceBuffer_0=null,this.pushConstants_0.clear(),this.ubos_0.clear(),this.textures1d_0.clear(),this.textures2d_0.clear(),this.textures3d_0.clear(),this.texturesCube_0.clear(),this.mappings_0.clear(),this.attributeBinders_0.clear(),this.instanceAttribBinders_0.clear()},ML.prototype.checkBuffers_0=function(){var t,e,n,i,o,r,s,l=this.mesh.geometry;null==this.indexBuffer_0&&(this.indexBuffer_0=new NL(WebGLRenderingContext.ELEMENT_ARRAY_BUFFER,this.$outer.ctx));var p=!1;if(null==this.dataBufferF_0)for(this.dataBufferF_0=new NL(WebGLRenderingContext.ARRAY_BUFFER,this.$outer.ctx),t=l.vertexAttributes.iterator();t.hasNext();){var u=t.next();if(u.type.isInt)p=!0;else{var c=l.byteStrideF,_=w(l.attributeByteOffsets.get_11rb$(u))/4|0;zt(this.instanceAttribBinders_0,this.$outer.makeAttribBinders_0(this.$outer.attributes_0,u,w(this.dataBufferF_0),c,_))}}if(p&&null==this.dataBufferI_0)for(this.dataBufferI_0=new NL(WebGLRenderingContext.ARRAY_BUFFER,this.$outer.ctx),e=l.vertexAttributes.iterator();e.hasNext();){var h=e.next();if(h.type.isInt&&null!=(n=this.$outer.attributes_0.get_11rb$(h.name))){var d=new xj(w(this.dataBufferI_0),h.type.byteSize/4|0,l.byteStrideI,w(l.attributeByteOffsets.get_11rb$(h))/4|0,WebGLRenderingContext.INT),f=this.attributeBinders_0,m=new RL(d,n.location);f.add_11rb$(m)}}var y,$,b=this.mesh.instances;if(null!=b){var g=this.instanceBuffer_0;if(null==g)for(g=new NL(WebGLRenderingContext.ARRAY_BUFFER,this.$outer.ctx),this.instanceBuffer_0=g,i=b.instanceAttributes.iterator();i.hasNext();){var v=i.next(),x=b.strideBytesF,z=w(b.attributeOffsets.get_11rb$(v))/4|0;zt(this.instanceAttribBinders_0,this.$outer.makeAttribBinders_0(this.$outer.instanceAttributes_0,v,w(this.instanceBuffer_0),x,z))}b.hasChanged&&(g.setData_phhdsy$(b.dataF,this.$outer.glUsage_0(b.usage),this.$outer.ctx),this.$outer.ctx.afterRenderActions_8be2vx$.add_11rb$((y=b,function(){return y.hasChanged=!1,a})))}if(!l.isBatchUpdate&&(l.hasChanged||!this.buffersSet_0)){var C=this.$outer.glUsage_0(l.usage);this.indexType=WebGLRenderingContext.UNSIGNED_INT,null!=(o=this.indexBuffer_0)&&o.setData_ysni9y$(l.indices,C,this.$outer.ctx),this.primitiveType=this.$outer.glElemType_0(this.pipeline.layout.vertices.primitiveType),this.numIndices=l.numIndices,null!=(r=this.dataBufferF_0)&&r.setData_phhdsy$(l.dataF,C,this.$outer.ctx),null!=(s=this.dataBufferI_0)&&s.setData_ysni9y$(l.dataI,C,this.$outer.ctx),this.$outer.ctx.afterRenderActions_8be2vx$.add_11rb$(($=l,function(){return $.hasChanged=!1,a})),this.buffersSet_0=!0}},ML.$metadata$={kind:$,simpleName:"ShaderInstance",interfaces:[]},EL.prototype.makeAttribBinders_0=function(t,n,i,o,r){var s,a=E();if(null!=(s=t.get_11rb$(n.name))){var l;l=n.props.nSlots;for(var p=0;p<l;p++){var u=r+e.imul(n.props.attribSize,p)|0,c=new RL(new xj(i,n.props.attribSize,o,u,WebGLRenderingContext.FLOAT),s.location+p|0);a.add_11rb$(c)}}return a},EL.prototype.glElemType_0=function(t){var n;switch(t.name){case"LINES":n=WebGLRenderingContext.LINES;break;case"POINTS":n=WebGLRenderingContext.POINTS;break;case"TRIANGLES":n=WebGLRenderingContext.TRIANGLES;break;default:n=e.noWhenBranchMatched()}return n},EL.prototype.glUsage_0=function(t){var n;switch(t.name){case"DYNAMIC":n=WebGLRenderingContext.DYNAMIC_DRAW;break;case"STATIC":n=WebGLRenderingContext.STATIC_DRAW;break;default:n=e.noWhenBranchMatched()}return n},RL.$metadata$={kind:$,simpleName:"AttributeOnLocation",interfaces:[]},RL.prototype.component1=function(){return this.vbo},RL.prototype.component2=function(){return this.loc},RL.prototype.copy_oubs2w$=function(t,e){return new RL(void 0===t?this.vbo:t,void 0===e?this.loc:e)},RL.prototype.toString=function(){return"AttributeOnLocation(vbo="+e.toString(this.vbo)+", loc="+e.toString(this.loc)+")"},RL.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.vbo)|0)+e.hashCode(this.loc)|0},RL.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.vbo,t.vbo)&&e.equals(this.loc,t.loc)},EL.$metadata$={kind:$,simpleName:"CompiledShader",interfaces:[]},Object.defineProperty(IL.prototype,"isDestroyed",{configurable:!0,get:function(){return this.isDestroyed_hoph69$_0},set:function(t){this.isDestroyed_hoph69$_0=t}}),Object.defineProperty(IL.prototype,"width",{configurable:!0,get:function(){return this.width_8gbh1k$_0},set:function(t){this.width_8gbh1k$_0=t}}),Object.defineProperty(IL.prototype,"height",{configurable:!0,get:function(){return this.height_d6ao4v$_0},set:function(t){this.height_d6ao4v$_0=t}}),Object.defineProperty(IL.prototype,"depth",{configurable:!0,get:function(){return this.depth_hi5t2d$_0},set:function(t){this.depth_hi5t2d$_0=t}}),IL.prototype.setSize_qt1dr2$=function(t,e,n){this.width=t,this.height=e,this.depth=n},IL.prototype.applySamplerProps_xetyfc$=function(t){var n=this.ctx.gl_8be2vx$;n.bindTexture(this.target,this.texture),n.texParameteri(this.target,WebGLRenderingContext.TEXTURE_MIN_FILTER,this.glMinFilterMethod_0(t.minFilter,t.mipMapping)),n.texParameteri(this.target,WebGLRenderingContext.TEXTURE_MAG_FILTER,this.glMagFilterMethod_0(t.magFilter)),n.texParameteri(this.target,WebGLRenderingContext.TEXTURE_WRAP_S,this.glAddressMode_0(t.addressModeU)),n.texParameteri(this.target,WebGLRenderingContext.TEXTURE_WRAP_T,this.glAddressMode_0(t.addressModeV)),this.target===WebGL2RenderingContext.TEXTURE_3D&&n.texParameteri(this.target,WebGL2RenderingContext.TEXTURE_WRAP_R,this.glAddressMode_0(t.addressModeW));var i=t.maxAnisotropy,o=this.ctx.glCapabilities.maxAnisotropy,r=R.min(i,o);if(r>1&&n.texParameteri(this.target,this.ctx.glCapabilities.glTextureMaxAnisotropyExt,r),r>1&&(t.minFilter===K_()||t.magFilter===K_())){var s=Hj.Log,a=vC.WARN,l=e.getKClassFromExpression(this).simpleName;a.level>=s.level.level&&s.printer(a,l,"Texture filtering is NEAREST but anisotropy is "+r+" (> 1)")}},IL.prototype.dispose=function(){this.isDestroyed=!0,this.ctx.gl_8be2vx$.deleteTexture(this.texture),this.ctx.engineStats.textureDeleted_s8cxhz$(this.texId)},IL.prototype.glMinFilterMethod_0=function(t,n){var i;switch(t.name){case"NEAREST":i=n?WebGLRenderingContext.NEAREST_MIPMAP_NEAREST:WebGLRenderingContext.NEAREST;break;case"LINEAR":i=n?WebGLRenderingContext.LINEAR_MIPMAP_LINEAR:WebGLRenderingContext.LINEAR;break;default:i=e.noWhenBranchMatched()}return i},IL.prototype.glMagFilterMethod_0=function(t){var n;switch(t.name){case"NEAREST":n=WebGLRenderingContext.NEAREST;break;case"LINEAR":n=WebGLRenderingContext.LINEAR;break;default:n=e.noWhenBranchMatched()}return n},IL.prototype.glAddressMode_0=function(t){var n;switch(t.name){case"CLAMP_TO_EDGE":n=WebGLRenderingContext.CLAMP_TO_EDGE;break;case"MIRRORED_REPEAT":n=WebGLRenderingContext.MIRRORED_REPEAT;break;case"REPEAT":n=WebGLRenderingContext.REPEAT;break;default:n=e.noWhenBranchMatched()}return n},AL.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var DL=null;function BL(){return null===DL&&new AL,DL}function FL(){VL()}function qL(){UL=this}IL.$metadata$={kind:$,simpleName:"LoadedTextureWebGl",interfaces:[aa]},qL.prototype.mappedUniform_lwhlub$=function(t,n){var i;if(e.isType(t,bh))i=new WL(t,n);else if(e.isType(t,vh))i=new GL(t,n);else if(e.isType(t,xh))i=new HL(t,n);else if(e.isType(t,wh))i=new XL(t,n);else if(e.isType(t,Ch))i=new KL(t,n);else if(e.isType(t,Sh))i=new YL(t,n);else if(e.isType(t,kh))i=new ZL(t,n);else if(e.isType(t,Lh))i=new JL(t,n);else if(e.isType(t,zh))i=new QL(t,n);else if(e.isType(t,jh))i=new tj(t,n);else if(e.isType(t,Nh))i=new ej(t,n);else if(e.isType(t,Ph))i=new nj(t,n);else{if(!e.isType(t,Th))throw new He("An operation is not implemented: Uniform type mapping not implemented");i=new ij(t,n)}return i},qL.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var UL=null;function VL(){return null===UL&&new qL,UL}function WL(t,e){this.uniform=t,this.location=e}function GL(t,e){this.uniform=t,this.location=e}function HL(t,e){this.uniform=t,this.location=e}function XL(t,e){this.uniform=t,this.location=e}function KL(t,e){this.uniform=t,this.location=e,this.buffer_0=new Float32Array(this.uniform.length)}function YL(t,e){this.uniform=t,this.location=e,this.buffer_0=new Float32Array(2*this.uniform.length|0)}function ZL(t,e){this.uniform=t,this.location=e,this.buffer_0=new Float32Array(3*this.uniform.length|0)}function JL(t,e){this.uniform=t,this.location=e,this.buffer_0=new Float32Array(4*this.uniform.length|0)}function QL(t,e){this.uniform=t,this.location=e}function tj(t,e){this.uniform=t,this.location=e,this.buf_0=new Float32Array(9)}function ej(t,e){this.uniform=t,this.location=e,this.buf_0=new Float32Array(16)}function nj(t,e){this.uniform=t,this.location=e,this.buf_0=new Float32Array(16*this.uniform.length|0)}function ij(t,e){this.uniform=t,this.location=e}function oj(t,e){lj(),this.texUnit=t,this.target=e}function rj(){aj=this,this.loadedTextures_0=C()}function sj(t){return t.isDestroyed}FL.$metadata$={kind:Z,simpleName:"MappedUniform",interfaces:[]},WL.prototype.setUniform_44a5h0$=function(t){return t.gl_8be2vx$.uniform1f(this.location,this.uniform.value),!0},WL.$metadata$={kind:$,simpleName:"MappedUniform1f",interfaces:[FL]},GL.prototype.setUniform_44a5h0$=function(t){return t.gl_8be2vx$.uniform2f(this.location,this.uniform.value.x,this.uniform.value.y),!0},GL.$metadata$={kind:$,simpleName:"MappedUniform2f",interfaces:[FL]},HL.prototype.setUniform_44a5h0$=function(t){return t.gl_8be2vx$.uniform3f(this.location,this.uniform.value.x,this.uniform.value.y,this.uniform.value.z),!0},HL.$metadata$={kind:$,simpleName:"MappedUniform3f",interfaces:[FL]},XL.prototype.setUniform_44a5h0$=function(t){return t.gl_8be2vx$.uniform4f(this.location,this.uniform.value.x,this.uniform.value.y,this.uniform.value.z,this.uniform.value.w),!0},XL.$metadata$={kind:$,simpleName:"MappedUniform4f",interfaces:[FL]},KL.prototype.setUniform_44a5h0$=function(t){var e;e=this.uniform.length;for(var n=0;n<e;n++)this.buffer_0[n]=this.uniform.value[n];return t.gl_8be2vx$.uniform1fv(this.location,this.buffer_0),!0},KL.$metadata$={kind:$,simpleName:"MappedUniform1fv",interfaces:[FL]},YL.prototype.setUniform_44a5h0$=function(t){var e,n,i,o=0;e=this.uniform.length;for(var r=0;r<e;r++)this.buffer_0[(n=o,o=n+1|0,n)]=this.uniform.value[r].x,this.buffer_0[(i=o,o=i+1|0,i)]=this.uniform.value[r].y;return t.gl_8be2vx$.uniform2fv(this.location,this.buffer_0),!0},YL.$metadata$={kind:$,simpleName:"MappedUniform2fv",interfaces:[FL]},ZL.prototype.setUniform_44a5h0$=function(t){var e,n,i,o,r=0;e=this.uniform.length;for(var s=0;s<e;s++)this.buffer_0[(n=r,r=n+1|0,n)]=this.uniform.value[s].x,this.buffer_0[(i=r,r=i+1|0,i)]=this.uniform.value[s].y,this.buffer_0[(o=r,r=o+1|0,o)]=this.uniform.value[s].z;return t.gl_8be2vx$.uniform3fv(this.location,this.buffer_0),!0},ZL.$metadata$={kind:$,simpleName:"MappedUniform3fv",interfaces:[FL]},JL.prototype.setUniform_44a5h0$=function(t){var e,n,i,o,r,s=0;e=this.uniform.length;for(var a=0;a<e;a++)this.buffer_0[(n=s,s=n+1|0,n)]=this.uniform.value[a].x,this.buffer_0[(i=s,s=i+1|0,i)]=this.uniform.value[a].y,this.buffer_0[(o=s,s=o+1|0,o)]=this.uniform.value[a].z,this.buffer_0[(r=s,s=r+1|0,r)]=this.uniform.value[a].w;return t.gl_8be2vx$.uniform4fv(this.location,this.buffer_0),!0},JL.$metadata$={kind:$,simpleName:"MappedUniform4fv",interfaces:[FL]},QL.prototype.setUniform_44a5h0$=function(t){return t.gl_8be2vx$.uniform4f(this.location,this.uniform.value.x,this.uniform.value.y,this.uniform.value.z,this.uniform.value.w),!0},QL.$metadata$={kind:$,simpleName:"MappedUniformColor",interfaces:[FL]},tj.prototype.setUniform_44a5h0$=function(t){for(var e=0;e<=8;e++)this.buf_0[e]=this.uniform.value.matrix[e];return t.gl_8be2vx$.uniformMatrix3fv(this.location,!1,this.buf_0),!0},tj.$metadata$={kind:$,simpleName:"MappedUniformMat3f",interfaces:[FL]},ej.prototype.setUniform_44a5h0$=function(t){for(var e=0;e<=15;e++)this.buf_0[e]=this.uniform.value.matrix[e];return t.gl_8be2vx$.uniformMatrix4fv(this.location,!1,this.buf_0),!0},ej.$metadata$={kind:$,simpleName:"MappedUniformMat4f",interfaces:[FL]},nj.prototype.setUniform_44a5h0$=function(t){var e,n,i=0;e=this.uniform.length;for(var o=0;o<e;o++)for(var r=0;r<16;r++)this.buf_0[(n=i,i=n+1|0,n)]=this.uniform.value[o].matrix[r];return t.gl_8be2vx$.uniformMatrix4fv(this.location,!1,this.buf_0),!0},nj.$metadata$={kind:$,simpleName:"MappedUniformMat4fv",interfaces:[FL]},ij.prototype.setUniform_44a5h0$=function(t){return t.gl_8be2vx$.uniform1i(this.location,this.uniform.value),!0},ij.$metadata$={kind:$,simpleName:"MappedUniform1i",interfaces:[FL]},oj.prototype.checkLoadingState_1iftbi$=function(t,n,i){var o,r,s,l,p,u,c=t.gl_8be2vx$;if(n.loadingState===v_()&&null!=(o=n.loader)){n.loadingState=x_();var h=t.assetMgr.loadTextureAsync_72pzmk$(o);h.invokeOnCompletion_f05bi3$((s=n,l=this,p=h,u=t,function(t){if(Mt("tex loaded: "+s),null!=t){var n=l,i=Hj.Log,o=vC.ERROR,r=e.getKClassFromExpression(n).simpleName;o.level>=i.level.level&&i.printer(o,r,"Texture loading failed: "+Lt(t)),s.loadingState=z_()}else s.loadedTexture=lj().getLoadedTex_0(p.getCompleted(),s,u),s.loadingState=w_();return a}))}if(n.loadingState===w_()){var d=e.isType(r=n.loadedTexture,IL)?r:_();return c.activeTexture(this.texUnit+i|0),c.bindTexture(this.target,d.texture),!0}return!1},rj.prototype.getLoadedTex_0=function(t,n,i){Ke(this.loadedTextures_0.values,sj);var o,r=this.loadedTextures_0,s=r.get_11rb$(t);if(null==s){var a,l;if(e.isType(n,L_))l=vj().loadTexture1d_hlfduu$(i,n.props,t);else if(e.isType(n,j_))l=vj().loadTexture2d_hlfduu$(i,n.props,t);else if(e.isType(n,T_))l=vj().loadTexture3d_hlfduu$(i,n.props,t);else{if(!e.isType(n,O_))throw G("Unsupported texture type");l=vj().loadTextureCube_deh7i3$(i,n.props,e.isType(a=t,yh)?a:_())}var p=l;r.put_xwzc9p$(t,p),o=p}else o=s;return o},rj.$metadata$={kind:b,simpleName:"Companion",interfaces:[]};var aj=null;function lj(){return null===aj&&new rj,aj}function pj(t,e,n){oj.call(this,e,WebGLRenderingContext.TEXTURE_2D),this.sampler1d_0=t,this.locations=n}function uj(t,e,n){oj.call(this,e,WebGLRenderingContext.TEXTURE_2D),this.sampler2d_0=t,this.locations=n}function cj(t,e,n){oj.call(this,e,WebGL2RenderingContext.TEXTURE_3D),this.sampler3d_0=t,this.locations=n}function _j(t,e,n){oj.call(this,e,WebGLRenderingContext.TEXTURE_CUBE_MAP),this.samplerCube_0=t,this.locations=n}function hj(t){this.ctx=t,this.glAttribs_0=new dj(this),this.shaderMgr_0=new $j(this.ctx),this.colorBuffer_0=new Float32Array(4)}function dj(t){this.$outer=t,this.actIsWriteDepth=!0,this.depthTest=null,this.cullMethod=null,this.lineWidth=0}function fj(){Kp.call(this)}function mj(t){return"// "+t+"\n"}function yj(){this.functions=C(),this.mainCode=E()}function $j(t){this.ctx=t,this.shaders=C(),this.currentShader=null}function bj(){gj=this}oj.$metadata$={kind:$,simpleName:"MappedUniformTex",interfaces:[FL]},pj.prototype.setUniform_44a5h0$=function(t){var e,n=this.texUnit,i=!0;e=this.sampler1d_0.arraySize;for(var o=0;o<e;o++){var r=this.sampler1d_0.textures[o];null!=r&&this.checkLoadingState_1iftbi$(t,r,o)?qk().gl.uniform1i(this.locations.get_za3lpa$(o),this.texUnit-WebGLRenderingContext.TEXTURE0+o|0):i=!1,n=n+1|0}return i},pj.$metadata$={kind:$,simpleName:"MappedUniformTex1d",interfaces:[oj]},uj.prototype.setUniform_44a5h0$=function(t){var e,n=this.texUnit,i=!0;e=this.sampler2d_0.arraySize;for(var o=0;o<e;o++){var r=this.sampler2d_0.textures[o];null!=r&&this.checkLoadingState_1iftbi$(t,r,o)?t.gl_8be2vx$.uniform1i(this.locations.get_za3lpa$(o),this.texUnit-WebGLRenderingContext.TEXTURE0+o|0):i=!1,n=n+1|0}return i},uj.$metadata$={kind:$,simpleName:"MappedUniformTex2d",interfaces:[oj]},cj.prototype.setUniform_44a5h0$=function(t){var e,n=this.texUnit,i=!0;e=this.sampler3d_0.arraySize;for(var o=0;o<e;o++){var r=this.sampler3d_0.textures[o];null!=r&&this.checkLoadingState_1iftbi$(t,r,o)?t.gl_8be2vx$.uniform1i(this.locations.get_za3lpa$(o),this.texUnit-WebGLRenderingContext.TEXTURE0+o|0):i=!1,n=n+1|0}return i},cj.$metadata$={kind:$,simpleName:"MappedUniformTex3d",interfaces:[oj]},_j.prototype.setUniform_44a5h0$=function(t){var e,n=this.texUnit,i=!0;e=this.samplerCube_0.arraySize;for(var o=0;o<e;o++){var r=this.samplerCube_0.textures[o];null!=r&&this.checkLoadingState_1iftbi$(t,r,o)?t.gl_8be2vx$.uniform1i(this.locations.get_za3lpa$(o),this.texUnit-WebGLRenderingContext.TEXTURE0+o|0):i=!1,n=n+1|0}return i},_j.$metadata$={kind:$,simpleName:"MappedUniformTexCube",interfaces:[oj]},Object.defineProperty(hj.prototype,"gl_0",{configurable:!0,get:function(){return this.ctx.gl_8be2vx$}}),hj.prototype.disposePipelines_z4np8a$=function(t){var e;for(e=t.iterator();e.hasNext();){var n=e.next();this.shaderMgr_0.deleteShader_lfrgcb$(n)}},hj.prototype.renderQueue_e0goaf$=function(t){var n,i,o,r,s,a,l=t.renderPass;if(this.ctx.gl_8be2vx$.viewport(l.viewport.x,l.viewport.y,l.viewport.width,l.viewport.height),e.isType(l,ya)){o=l.config.nColorAttachments;for(var p=0;p<o;p++)null!=(s=null!=(r=l.clearColors[p])?r:l.clearColor)&&(this.colorBuffer_0[0]=s.r,this.colorBuffer_0[1]=s.g,this.colorBuffer_0[2]=s.b,this.colorBuffer_0[3]=s.a,this.ctx.gl_8be2vx$.clearBufferfv(WebGL2RenderingContext.COLOR,p,this.colorBuffer_0));l.clearDepth&&this.ctx.gl_8be2vx$.clear(WebGLRenderingContext.DEPTH_BUFFER_BIT)}else{null!=(a=l.clearColor)&&this.ctx.gl_8be2vx$.clearColor(a.r,a.g,a.b,a.a);var u=this.clearMask_0(l);0!==u&&this.ctx.gl_8be2vx$.clear(u)}for(n=t.commands.iterator();n.hasNext();){var c,_=n.next();if(null!=(i=_.pipeline)&&(this.glAttribs_0.setupPipelineAttribs_lfrgcb$(i),_.mesh.geometry.numIndices>0&&null!=(c=this.shaderMgr_0.setupShader_ye1q9v$(_))&&0!==c.indexType)){var h=_.mesh.instances;null==h?(this.gl_0.drawElements(c.primitiveType,c.numIndices,c.indexType,0),this.ctx.engineStats.addPrimitiveCount_za3lpa$(_.mesh.geometry.numPrimitives)):h.numInstances>0&&(this.gl_0.drawElementsInstanced(c.primitiveType,c.numIndices,c.indexType,0,h.numInstances),this.ctx.engineStats.addPrimitiveCount_za3lpa$(e.imul(_.mesh.geometry.numPrimitives,h.numInstances))),this.ctx.engineStats.addDrawCommandCount_za3lpa$(1)}}},dj.prototype.setupPipelineAttribs_lfrgcb$=function(t){this.setBlendMode_0(t.blendMode),this.setDepthTest_0(t.depthCompareOp),this.setWriteDepth_0(t.isWriteDepth),this.setCullMethod_0(t.cullMethod),this.lineWidth!==t.lineWidth&&(this.lineWidth=t.lineWidth,this.$outer.gl_0.lineWidth(t.lineWidth))},dj.prototype.setCullMethod_0=function(t){if(!Dt(this.cullMethod,t))switch(this.cullMethod=t,t.name){case"DEFAULT":case"CULL_BACK_FACES":this.$outer.gl_0.enable(WebGLRenderingContext.CULL_FACE),this.$outer.gl_0.cullFace(WebGLRenderingContext.BACK);break;case"CULL_FRONT_FACES":this.$outer.gl_0.enable(WebGLRenderingContext.CULL_FACE),this.$outer.gl_0.cullFace(WebGLRenderingContext.FRONT);break;case"NO_CULLING":this.$outer.gl_0.disable(WebGLRenderingContext.CULL_FACE)}},dj.prototype.setWriteDepth_0=function(t){this.actIsWriteDepth!==t&&(this.actIsWriteDepth=t,this.$outer.gl_0.depthMask(t))},dj.prototype.setDepthTest_0=function(t){Dt(this.depthTest,t)||(this.depthTest=t,t===$l()?this.$outer.gl_0.disable(WebGLRenderingContext.DEPTH_TEST):(this.$outer.gl_0.enable(WebGLRenderingContext.DEPTH_TEST),this.$outer.gl_0.depthFunc(jL(t))))},dj.prototype.setBlendMode_0=function(t){switch(t.name){case"DISABLED":this.$outer.gl_0.disable(WebGLRenderingContext.BLEND);break;case"BLEND_ADDITIVE":this.$outer.gl_0.blendFunc(WebGLRenderingContext.ONE,WebGLRenderingContext.ONE),this.$outer.gl_0.enable(WebGLRenderingContext.BLEND);break;case"BLEND_MULTIPLY_ALPHA":this.$outer.gl_0.blendFunc(WebGLRenderingContext.SRC_ALPHA,WebGLRenderingContext.ONE_MINUS_SRC_ALPHA),this.$outer.gl_0.enable(WebGLRenderingContext.BLEND);break;case"BLEND_PREMULTIPLIED_ALPHA":this.$outer.gl_0.blendFunc(WebGLRenderingContext.ONE,WebGLRenderingContext.ONE_MINUS_SRC_ALPHA),this.$outer.gl_0.enable(WebGLRenderingContext.BLEND)}},dj.$metadata$={kind:$,simpleName:"GlAttribs",interfaces:[]},hj.prototype.clearMask_0=function(t){var e=0;return t.clearDepth&&(e=WebGLRenderingContext.DEPTH_BUFFER_BIT),null!=t.clearColor&&(e|=WebGLRenderingContext.COLOR_BUFFER_BIT),e},hj.$metadata$={kind:$,simpleName:"QueueRendererWebGl",interfaces:[]},fj.prototype.generateShader_lvmec3$=function(t,e,n){var i=this.generateCode_0(t,e);return new Kk(i.component1(),i.component2())},fj.prototype.generateCode_0=function(t,e){var n=this.generateVertexShaderCode_0(t,e),i=this.generateFragmentShaderCode_0(t,e);return t.dumpCode&&(Mt("Vertex shader:\n"+n),Mt("Fragment shader:\n"+i)),mt(n,i)},fj.prototype.generateVertexShaderCode_0=function(t,e){var n=new yj;return t.vertexStageGraph.generateCode_626509$(n),ye("\n            #version 300 es\n            "+this.infoStr_0(t)+"\n            \n            // descriptor layout / uniforms "+this.generateDescriptorBindings_0(e,lc())+"\n            // vertex attributes "+this.generateAttributeBindings_0(e)+"\n            // outputs "+this.generateStageOutputs_0(t.vertexStageGraph)+"\n            // functions\n            "+n.generateFunctions()+"\n            \n            void main() {\n                "+n.generateMain()+"\n                gl_Position = "+t.vertexStageGraph.positionOutput.variable.ref4f_61zpoe$()+";\n            }\n        ")},fj.prototype.generateFragmentShaderCode_0=function(t,e){var n=new yj;return t.fragmentStageGraph.generateCode_626509$(n),ye("\n            #version 300 es\n            precision highp float;\n            precision highp sampler2DShadow;\n            precision highp sampler3D;\n            "+this.infoStr_0(t)+"\n\n            // descriptor layout / uniforms "+this.generateDescriptorBindings_0(e,_c())+"\n            // inputs "+this.generateStageInputs_0(t.fragmentStageGraph)+"\n            // functions\n            "+n.generateFunctions()+"\n            \n            void main() {\n                "+n.generateMain()+"\n            }\n        ")},fj.prototype.infoStr_0=function(t){return Et(tn(t.modelInfo),void 0,void 0,void 0,void 0,void 0,mj)},fj.prototype.generateDescriptorBindings_0=function(t,n){var i,o=new en("\n");for(i=t.descriptorSets.iterator();i.hasNext();){var r;for(r=i.next().descriptors.iterator();r.hasNext();){var s=r.next();if(s.stages.contains_11rb$(n))if(e.isType(s,Ks))o.append_pdl1vj$(this.generateUniformBuffer_0(s));else if(e.isType(s,Fs))o.append_pdl1vj$(this.generateTextureSampler1d_0(s));else if(e.isType(s,Us))o.append_pdl1vj$(this.generateTextureSampler2d_0(s));else if(e.isType(s,Ws))o.append_pdl1vj$(this.generateTextureSampler3d_0(s));else{if(!e.isType(s,Hs))throw new He("An operation is not implemented: Descriptor type not implemented: "+s);o.append_pdl1vj$(this.generateTextureSamplerCube_0(s))}}}var a,l,p=t.pushConstantRanges,u=E();for(a=p.iterator();a.hasNext();){var c=a.next();c.stages.contains_11rb$(n)&&u.add_11rb$(c)}if(!u.isEmpty())for(l=t.pushConstantRanges.iterator();l.hasNext();){var _;for(_=l.next().pushConstants.iterator();_.hasNext();){var h=_.next();this.appendln_0(o,"uniform "+this.declare_0(h)+";")}}return o.toString()},fj.prototype.generateUniformBuffer_0=function(t){var e,n=Ot();for(e=t.uniforms.iterator();e.hasNext();){var i=e.next();this.appendln_0(n,"uniform "+this.declare_0(i)+";")}return n.toString()},fj.prototype.generateTextureSampler1d_0=function(t){var e=t.arraySize>1?"["+t.arraySize+"]":"";return"uniform sampler2D "+t.name+e+";\n"},fj.prototype.generateTextureSampler2d_0=function(t){var e=t.isDepthSampler?"sampler2DShadow":"sampler2D",n=t.arraySize>1?"["+t.arraySize+"]":"";return"uniform "+e+" "+t.name+n+";\n"},fj.prototype.generateTextureSampler3d_0=function(t){var e=t.arraySize>1?"["+t.arraySize+"]":"";return"uniform sampler3D "+t.name+e+";\n"},fj.prototype.generateTextureSamplerCube_0=function(t){var e=t.isDepthSampler?"samplerCubeShadow":"samplerCube",n=t.arraySize>1?"["+t.arraySize+"]":"";return"uniform "+e+" "+t.name+n+";\n"},fj.prototype.generateAttributeBindings_0=function(t){var e,n=new en("\n");for(e=t.vertices.bindings.iterator();e.hasNext();){var i;for(i=e.next().vertexAttributes.iterator();i.hasNext();){var o=i.next();this.appendln_0(n,"layout(location="+o.location+") in "+o.type.glslType+" "+o.name+";")}}return n.toString()},fj.prototype.generateStageInputs_0=function(t){var e,n=new en("\n");for(e=t.inputs.iterator();e.hasNext();){var i=e.next(),o=i.isFlat?"flat":"";this.appendln_0(n,o+" in "+i.variable.glslType()+" "+i.variable.name+";")}return n.toString()},fj.prototype.generateStageOutputs_0=function(t){var e,n=new en("\n");for(e=t.outputs.iterator();e.hasNext();){var i=e.next(),o=i.isFlat?"flat":"";this.appendln_0(n,o+" out "+i.variable.glslType()+" "+i.variable.name+";")}return n.toString()},fj.prototype.appendln_0=function(t,e){return t.append_pdl1vj$(e+"\n")},fj.prototype.declare_0=function(t){var n;if(e.isType(t,bh))n="float "+t.name;else if(e.isType(t,vh))n="vec2 "+t.name;else if(e.isType(t,xh))n="vec3 "+t.name;else if(e.isType(t,wh))n="vec4 "+t.name;else if(e.isType(t,zh))n="vec4 "+t.name;else if(e.isType(t,Ch))n="float "+t.name+"["+t.length+"]";else if(e.isType(t,Sh))n="vec2 "+t.name+"["+t.length+"]";else if(e.isType(t,kh))n="vec3 "+t.name+"["+t.length+"]";else if(e.isType(t,Lh))n="vec4 "+t.name+"["+t.length+"]";else if(e.isType(t,jh))n="mat3 "+t.name;else if(e.isType(t,Nh))n="mat4 "+t.name;else if(e.isType(t,Ph))n="mat4 "+t.name+"["+t.length+"]";else{if(!e.isType(t,Th))throw new He("An operation is not implemented: Uniform type name not implemented: "+t);n="int "+t.name}return n},yj.prototype.appendFunction_puj7f4$=function(t,e){this.functions.put_xwzc9p$(t,e)},yj.prototype.appendMain_61zpoe$=function(t){this.mainCode.add_11rb$(t)},yj.prototype.sampleTexture1d_buzeal$$default=function(t,e,n){return this.sampleTexture_0(t,"vec2("+e+", 0.0)",n)},yj.prototype.sampleTexture2d_buzeal$$default=function(t,e,n){return this.sampleTexture_0(t,e,n)},yj.prototype.sampleTexture2dDepth_puj7f4$=function(t,e){return"textureProj("+t+", "+e+")"},yj.prototype.sampleTexture3d_buzeal$$default=function(t,e,n){return this.sampleTexture_0(t,e,n)},yj.prototype.sampleTextureCube_buzeal$$default=function(t,e,n){return this.sampleTexture_0(t,e,n)},yj.prototype.generateFunctions=function(){return Et(this.functions.values,"\n")},yj.prototype.generateMain=function(){return Et(this.mainCode,"\n")},yj.prototype.sampleTexture_0=function(t,e,n){return null==n?"texture("+t+", "+e+")":"textureLod("+t+", "+e+", "+Lt(n)+")"},yj.$metadata$={kind:$,simpleName:"CodeGen",interfaces:[Dl]},fj.$metadata$={kind:$,simpleName:"ShaderGeneratorImplWebGl",interfaces:[Kp]},Object.defineProperty($j.prototype,"gl_0",{configurable:!0,get:function(){return this.ctx.gl_8be2vx$}}),$j.prototype.setupShader_ye1q9v$=function(t){var e,n,i=w(t.pipeline),o=this.shaders,r=o.get_11rb$(i);if(null==r){var s=new EL(this.compileShader_0(i.shaderCode),i,this.ctx);o.put_xwzc9p$(i,s),n=s}else n=r;var a=n;return a!==this.currentShader&&(null!=(e=this.currentShader)&&e.unUse(),this.currentShader=a,a.use()),a.bindInstance_ye1q9v$(t)},$j.prototype.deleteShader_lfrgcb$=function(t){var e=this.shaders.get_11rb$(t);null!=e&&(e.destroyInstance_lfrgcb$(t),e.isEmpty()&&(Dt(e,this.currentShader)&&(e.unUse(),this.currentShader=null),e.destroy(),this.shaders.remove_11rb$(t)))},$j.prototype.compileShader_0=function(t){var n=this.gl_0.createShader(WebGLRenderingContext.VERTEX_SHADER);this.gl_0.shaderSource(n,t.vertexSrc),this.gl_0.compileShader(n);var i=this.gl_0.getShaderParameter(n,WebGLRenderingContext.COMPILE_STATUS);if(!Dt(i,!0)){var o=this.gl_0.getShaderInfoLog(n),r=Hj.Log,s=vC.ERROR,a=e.getKClassFromExpression(this).simpleName;s.level>=r.level.level&&r.printer(s,a,"Vertex shader compilation failed:\n"+Lt(o));var l=Hj.Log,p=vC.ERROR,u=e.getKClassFromExpression(this).simpleName;throw p.level>=l.level.level&&l.printer(p,u,"Shader source: \n"+this.formatShaderSrc_0(t.vertexSrc)),_i("Vertex shader compilation failed: "+Lt(o))}var c=this.gl_0.createShader(WebGLRenderingContext.FRAGMENT_SHADER);this.gl_0.shaderSource(c,t.fragmentSrc),this.gl_0.compileShader(c);var _=this.gl_0.getShaderParameter(c,WebGLRenderingContext.COMPILE_STATUS);if(!Dt(_,!0)){var h=this.gl_0.getShaderInfoLog(c),d=Hj.Log,f=vC.ERROR,m=e.getKClassFromExpression(this).simpleName;f.level>=d.level.level&&d.printer(f,m,"Fragment shader compilation failed:\n"+Lt(h));var y=Hj.Log,$=vC.ERROR,b=e.getKClassFromExpression(this).simpleName;throw $.level>=y.level.level&&y.printer($,b,"Shader source: \n"+this.formatShaderSrc_0(t.fragmentSrc)),_i("Fragment shader compilation failed: "+Lt(h))}var g=this.gl_0.createProgram();if(this.gl_0.attachShader(g,n),this.gl_0.attachShader(g,c),this.gl_0.linkProgram(g),this.gl_0.deleteShader(n),this.gl_0.deleteShader(c),!Dt(this.gl_0.getProgramParameter(g,WebGLRenderingContext.LINK_STATUS),!0)){var v=this.gl_0.getProgramInfoLog(g),x=Hj.Log,w=vC.ERROR,z=e.getKClassFromExpression(this).simpleName;w.level>=x.level.level&&x.printer(w,z,"Shader linkage failed:\n"+Lt(v));var C=Hj.Log,S=vC.ERROR,k=e.getKClassFromExpression(this).simpleName;S.level>=C.level.level&&C.printer(S,k,"Vertex shader source: \n"+this.formatShaderSrc_0(t.vertexSrc));var L=Hj.Log,j=vC.ERROR,N=e.getKClassFromExpression(this).simpleName;throw j.level>=L.level.level&&L.printer(j,N,"Fragment shader source: \n"+this.formatShaderSrc_0(t.fragmentSrc)),_i("Shader linkage failed: "+Lt(v))}return g},$j.prototype.formatShaderSrc_0=function(t){var e,n,i=Ot(),o=0;for(e=tn(t).iterator();e.hasNext();){var r=e.next();i.append_pdl1vj$((et((n=o,o=n+1|0,n))+1|0).toString()+" "+r+"\n")}return i.toString()},$j.$metadata$={kind:$,simpleName:"ShaderManager",interfaces:[]},bj.prototype.loadTexture1d_hlfduu$=function(t,e,n){var i=new IL(t,WebGLRenderingContext.TEXTURE_2D,qk().gl.createTexture(),this.estimateTexSize_0(n));return i.setSize_qt1dr2$(n.width,1,1),i.applySamplerProps_xetyfc$(e),this.texImage2d_0(qk().gl,WebGLRenderingContext.TEXTURE_2D,n),e.mipMapping&&qk().gl.generateMipmap(WebGLRenderingContext.TEXTURE_2D),i},bj.prototype.loadTexture2d_hlfduu$=function(t,e,n){var i=t.gl_8be2vx$,o=new IL(t,WebGLRenderingContext.TEXTURE_2D,i.createTexture(),this.estimateTexSize_0(n));return o.setSize_qt1dr2$(n.width,n.height,1),o.applySamplerProps_xetyfc$(e),this.texImage2d_0(i,WebGLRenderingContext.TEXTURE_2D,n),e.mipMapping&&i.generateMipmap(WebGLRenderingContext.TEXTURE_2D),o},bj.prototype.loadTexture3d_hlfduu$=function(t,n,i){var o,r,s=new IL(t,WebGL2RenderingContext.TEXTURE_3D,qk().gl.createTexture(),this.estimateTexSize_0(i));if(s.setSize_qt1dr2$(i.width,i.height,i.depth),s.applySamplerProps_xetyfc$(n),e.isType(i,mh))qk().gl.texImage3D(WebGL2RenderingContext.TEXTURE_3D,0,CL(i.format),i.width,i.height,i.depth,0,kL(i.format),SL(i.format),(e.isType(o=i.data,zj)?o:_()).buffer);else if(e.isType(i,Jk)){qk().gl.texStorage3D(WebGL2RenderingContext.TEXTURE_3D,1,CL(i.format),i.width,i.height,i.depth),r=i.depth;for(var a=0;a<r;a++)qk().gl.texSubImage3D(WebGL2RenderingContext.TEXTURE_3D,0,0,0,a,i.width,i.height,1,kL(i.format),SL(i.format),i.data[a])}return n.mipMapping&&qk().gl.generateMipmap(WebGL2RenderingContext.TEXTURE_3D),s},bj.prototype.loadTextureCube_deh7i3$=function(t,e,n){var i=t.gl_8be2vx$,o=new IL(t,WebGLRenderingContext.TEXTURE_CUBE_MAP,i.createTexture(),this.estimateTexSize_0(n));return o.setSize_qt1dr2$(n.width,n.height,1),o.applySamplerProps_xetyfc$(e),this.texImage2d_0(i,WebGLRenderingContext.TEXTURE_CUBE_MAP_POSITIVE_X,n.right),this.texImage2d_0(i,WebGLRenderingContext.TEXTURE_CUBE_MAP_NEGATIVE_X,n.left),this.texImage2d_0(i,WebGLRenderingContext.TEXTURE_CUBE_MAP_POSITIVE_Y,n.up),this.texImage2d_0(i,WebGLRenderingContext.TEXTURE_CUBE_MAP_NEGATIVE_Y,n.down),this.texImage2d_0(i,WebGLRenderingContext.TEXTURE_CUBE_MAP_POSITIVE_Z,n.back),this.texImage2d_0(i,WebGLRenderingContext.TEXTURE_CUBE_MAP_NEGATIVE_Z,n.front),e.mipMapping&&i.generateMipmap(WebGLRenderingContext.TEXTURE_CUBE_MAP),o},bj.prototype.estimateTexSize_0=function(t){var n=e.isType(t,yh)?6:1,i=t.width,o=t.height,r=R.max(i,o),s=R.log2(r),a=U(R.floor(s))+1|0;return k_().estimatedTexSize_4qozqa$(t.width,t.height,n,a,LL(t.format))},bj.prototype.texImage2d_0=function(t,n,i){var o,r;if(t.pixelStorei(WebGLRenderingContext.UNPACK_COLORSPACE_CONVERSION_WEBGL,WebGLRenderingContext.NONE),e.isType(i,ih))t.texImage2D(n,0,CL(i.format),i.width,1,0,kL(i.format),SL(i.format),(e.isType(o=i.data,zj)?o:_()).buffer);else if(e.isType(i,ah))t.texImage2D(n,0,CL(i.format),i.width,i.height,0,kL(i.format),SL(i.format),(e.isType(r=i.data,zj)?r:_()).buffer);else{if(!e.isType(i,Zk))throw G("Invalid TextureData type for texImage2d: "+i);t.texImage2D(n,0,WebGLRenderingContext.RGBA,WebGLRenderingContext.RGBA,WebGLRenderingContext.UNSIGNED_BYTE,i.data)}},bj.$metadata$={kind:b,simpleName:"TextureLoader",interfaces:[]};var gj=null;function vj(){return null===gj&&new bj,gj}function xj(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=WebGLRenderingContext.FLOAT),this.vbo=t,this.elemSize=e,this.strideBytes=n,this.offset=i,this.type=o}function wj(t,e){this.capacity_tfbtga$_0=t,this.buffer=e(),this.limit_wr5sjr$_0=this.capacity,this.position_xkur2v$_0=0}function zj(t){var e;wj.call(this,t.length,(e=t,function(){return e}))}function Cj(t,e){return e=e||Object.create(zj.prototype),zj.call(e,new Uint8Array(t)),e}function Sj(t){var e;wj.call(this,t,(e=t,function(){return new Uint16Array(e)}))}function kj(t){var e;wj.call(this,t,(e=t,function(){return new Uint32Array(e)}))}function Lj(t){var e;wj.call(this,t,(e=t,function(){return new Float32Array(e)}))}function jj(t){var e;wj.call(this,t,(e=t,function(){return new DataView(new ArrayBuffer(e))}))}function Nj(t){return Cj(t)}function Pj(t){return new kj(t)}function Tj(t){return new Lj(t)}function Oj(t){return new jj(t)}xj.prototype.bindAttribute_9sni52$=function(t,e){this.vbo.bind_44a5h0$(e),this.type===WebGLRenderingContext.INT||this.type===WebGLRenderingContext.UNSIGNED_INT?e.gl_8be2vx$.vertexAttribIPointer(t,this.elemSize,this.type,this.strideBytes,4*this.offset|0):e.gl_8be2vx$.vertexAttribPointer(t,this.elemSize,this.type,!1,this.strideBytes,4*this.offset|0)},xj.$metadata$={kind:$,simpleName:"VboBinder",interfaces:[]},Object.defineProperty(wj.prototype,"capacity",{get:function(){return this.capacity_tfbtga$_0}}),Object.defineProperty(wj.prototype,"limit",{configurable:!0,get:function(){return this.limit_wr5sjr$_0},set:function(t){if(t<0||t>this.capacity)throw _i("Limit is out of bounds: "+t+" (capacity: "+this.capacity+")");this.limit_wr5sjr$_0=t,this.position>t&&(this.position=t)}}),Object.defineProperty(wj.prototype,"position",{configurable:!0,get:function(){return this.position_xkur2v$_0},set:function(t){this.position_xkur2v$_0=t}}),Object.defineProperty(wj.prototype,"remaining",{configurable:!0,get:function(){return this.limit-this.position|0}}),wj.prototype.flip=function(){this.limit=this.position,this.position=0},wj.prototype.clear=function(){this.limit=this.capacity,this.position=0},wj.$metadata$={kind:$,simpleName:"GenericBuffer",interfaces:[x$]},zj.prototype.get_za3lpa$=function(t){return this.buffer[t]},zj.prototype.set_6t1wet$=function(t,e){this.buffer[t]=e},zj.prototype.put_mj6st8$=function(t,e,n){var i,o;i=e+n|0;for(var r=e;r<i;r++)this.buffer[(o=this.position,this.position=o+1|0,o)]=t[r];return this},zj.prototype.put_s8j3t7$=function(t){var e;return this.buffer[(e=this.position,this.position=e+1|0,e)]=t,this},zj.prototype.put_ay2i3f$=function(t){var e,n;e=t.position,n=t.limit;for(var i=e;i<n;i++)this.put_s8j3t7$(t.get_za3lpa$(i));return this},zj.$metadata$={kind:$,simpleName:"Uint8BufferImpl",interfaces:[wj,w$]},Sj.prototype.get_za3lpa$=function(t){return this.buffer[t]},Sj.prototype.set_2bqt6h$=function(t,e){this.buffer[t]=e},Sj.prototype.put_359eei$=function(t,e,n){var i,o;i=e+n-1|0;for(var r=e;r<=i;r++)this.buffer[(o=this.position,this.position=o+1|0,o)]=t[r];return this},Sj.prototype.put_mq22fl$=function(t){var e;return this.buffer[(e=this.position,this.position=e+1|0,e)]=t,this},Sj.prototype.put_8k344i$=function(t){var e,n;e=t.position,n=t.limit;for(var i=e;i<n;i++)this.put_mq22fl$(t.get_za3lpa$(i));return this},Sj.$metadata$={kind:$,simpleName:"Uint16BufferImpl",interfaces:[wj,z$]},kj.prototype.get_za3lpa$=function(t){return this.buffer[t]},kj.prototype.set_vux9f0$=function(t,e){this.buffer[t]=e},kj.prototype.put_nd5v6f$=function(t,e,n){var i,o;i=e+n-1|0;for(var r=e;r<=i;r++)this.buffer[(o=this.position,this.position=o+1|0,o)]=t[r];return this},kj.prototype.put_za3lpa$=function(t){var e;return this.buffer[(e=this.position,this.position=e+1|0,e)]=t,this},kj.prototype.put_7hqxcs$=function(t){var e,n;e=t.position,n=t.limit;for(var i=e;i<n;i++)this.put_za3lpa$(t.get_za3lpa$(i));return this},kj.$metadata$={kind:$,simpleName:"Uint32BufferImpl",interfaces:[wj,C$]},Lj.prototype.get_za3lpa$=function(t){return this.buffer[t]},Lj.prototype.set_24o109$=function(t,e){this.buffer[t]=e},Lj.prototype.put_kgymra$=function(t,e,n){var i,o;i=e+n|0;for(var r=e;r<i;r++)this.buffer[(o=this.position,this.position=o+1|0,o)]=t[r];return this},Lj.prototype.put_mx4ult$=function(t){var e;return this.buffer[(e=this.position,this.position=e+1|0,e)]=t,this},Lj.prototype.put_he122g$=function(t){var e,n;e=t.position,n=t.limit;for(var i=e;i<n;i++)this.put_mx4ult$(t.get_za3lpa$(i));return this},Lj.$metadata$={kind:$,simpleName:"Float32BufferImpl",interfaces:[wj,S$]},jj.prototype.putUint8_s8j3t7$=function(t){var e;return this.buffer.setUint8((e=this.position,this.position=e+1|0,e),t),this},jj.prototype.putUint8_mj6st8$=function(t,e,n){var i,o;i=e+n|0;for(var r=e;r<i;r++)this.buffer.setUint8((o=this.position,this.position=o+1|0,o),t[r]);return this},jj.prototype.putUint8_ay2i3f$=function(t){var e,n,i;e=t.position,n=t.limit;for(var o=e;o<n;o++)this.buffer.setUint8((i=this.position,this.position=i+1|0,i),t.get_za3lpa$(o));return this},jj.prototype.putUint16_mq22fl$=function(t){return this.buffer.setUint16(this.position,t),this.position=this.position+2|0,this},jj.prototype.putUint16_359eei$=function(t,e,n){var i;i=e+n|0;for(var o=e;o<i;o++)this.buffer.setUint16(this.position,t[o]),this.position=this.position+2|0;return this},jj.prototype.putUint16_8k344i$=function(t){var e,n;e=t.position,n=t.limit;for(var i=e;i<n;i++)this.buffer.setUint16(this.position,t.get_za3lpa$(i)),this.position=this.position+2|0;return this},jj.prototype.putUint32_za3lpa$=function(t){return this.buffer.setUint32(this.position,t),this.position=this.position+4|0,this},jj.prototype.putUint32_nd5v6f$=function(t,e,n){var i;i=e+n|0;for(var o=e;o<i;o++)this.buffer.setUint32(this.position,t[o]),this.position=this.position+4|0;return this},jj.prototype.putUint32_7hqxcs$=function(t){var e,n;e=t.position,n=t.limit;for(var i=e;i<n;i++)this.buffer.setUint32(this.position,t.get_za3lpa$(i)),this.position=this.position+4|0;return this},jj.prototype.putFloat32_mx4ult$=function(t){return this.buffer.setFloat32(this.position,t),this.position=this.position+4|0,this},jj.prototype.putFloat32_kgymra$=function(t,e,n){var i;i=e+n|0;for(var o=e;o<i;o++)this.buffer.setFloat32(this.position,t[o]),this.position=this.position+4|0;return this},jj.prototype.putFloat32_he122g$=function(t){var e,n;e=t.position,n=t.limit;for(var i=e;i<n;i++)this.buffer.setFloat32(this.position,t.get_za3lpa$(i)),this.position=this.position+4|0;return this},jj.$metadata$={kind:$,simpleName:"MixedBufferImpl",interfaces:[wj,k$]},on.AwaitedAsset=_n,Object.defineProperty(on,"Companion",{get:fn}),s["kotlinx-coroutines-core"]=i;var Ej=t.de||(t.de={}),Mj=Ej.fabmax||(Ej.fabmax={}),Rj=Mj.kool||(Mj.kool={});Rj.AssetManager=on,Rj.AssetRef=vn,Rj.RawAssetRef=xn,Rj.TextureAssetRef=wn,Rj.LoadedAsset=zn,Rj.LoadedRawAsset=Cn,Rj.LoadedTextureAsset=Sn,Rj.EngineStats=kn,Ln.Pointer=Pn,Object.defineProperty(On,"STARTED",{get:In}),Object.defineProperty(On,"ACTIVE",{get:Bn}),Object.defineProperty(On,"ENDED_BEFORE_STARTED",{get:Un}),Object.defineProperty(On,"ENDED_BEFORE_ACTIVE",{get:Gn}),Object.defineProperty(On,"ENDED",{get:Kn}),Object.defineProperty(On,"INVALID",{get:Jn}),Tn.UpdateState=On,Ln.BufferedPointerInput=Tn,Ln.KeyEventListener=Qn,Ln.KeyEvent=ei,Ln.PointerState=ni,Object.defineProperty(Ln,"Companion",{get:ri}),Rj.InputManager=Ln,Object.defineProperty(si,"Companion",{get:ui}),Rj.KoolContext=si,Rj.KoolException_init_61zpoe$=_i,Rj.KoolException=ci;var Ij=Rj.math||(Rj.math={});Ij.BSpline=hi,Ij.BSplineVec2f=di,Object.defineProperty($i,"Companion",{get:vi}),Ij.Mat3f=$i,Object.defineProperty(xi,"Companion",{get:Ci}),Ij.Mat4d=xi,Object.defineProperty(Si,"Companion",{get:ji}),Ij.Mat4dStack=Si,Object.defineProperty(Ni,"Companion",{get:Oi}),Ij.Mat4f=Ni,Object.defineProperty(Ei,"Companion",{get:Ui}),Ij.Mat4fStack=Ei,Object.defineProperty(Ij,"DEG_2_RAD",{get:function(){return Ri}}),Object.defineProperty(Ij,"RAD_2_DEG",{get:function(){return Ii}}),Object.defineProperty(Ij,"FUZZY_EQ_F",{get:function(){return Ai}}),Object.defineProperty(Ij,"FUZZY_EQ_D",{get:function(){return Di}}),Ij.getNumMipLevels_vux9f0$=Vi,Ij.smoothStep_y2kzbl$=function(t,e,n){var i,o=(n-t)/(e-t);return(i=o<0?0:o>1?1:o)*i*(3-2*i)},Ij.triArea_n440fu$=Wi,Ij.triAspectRatio_n440fu$=Gi,Ij.partition_iuu93u$=Ki,Ij.partition_6k0an1$=Yi,Ij.Plane=Zi,Ij.distanceToRay_f1pxpf$=Ji,Ij.sqrDistanceToRay_f1pxpf$=Qi,Ij.sqrDistancePointToRay_dthv57$=to,Ij.PointDistribution=eo,Object.defineProperty(Ij,"defaultRandomInstance",{get:function(){return Fi}}),Ij.randomI=function(){return Fi.randomI()},Ij.randomF_dleff0$=function(t,e){return Fi.randomF_dleff0$(t,e)},Ij.Random=no,Ij.Ray=io,Ij.RayTest=oo,Object.defineProperty(ro,"Companion",{get:lo}),Ij.Vec2f_init_mx4ult$=po,Ij.Vec2f=ro,Ij.MutableVec2f_init=co,Ij.MutableVec2f_init_czzhjp$=_o,Ij.MutableVec2f=uo,Object.defineProperty(ho,"Companion",{get:yo}),Ij.Vec2d_init_14dthe$=$o,Ij.Vec2d=ho,Ij.MutableVec2d_init=go,Ij.MutableVec2d=bo,Object.defineProperty(vo,"Companion",{get:zo}),Ij.Vec2i_init_za3lpa$=Co,Ij.Vec2i=vo,Ij.MutableVec2i_init=ko,Ij.MutableVec2i=So,Object.defineProperty(Lo,"Companion",{get:Po}),Ij.Vec3f_init_mx4ult$=To,Ij.Vec3f_init_czzhiu$=Oo,Ij.Vec3f=Lo,Ij.MutableVec3f_init=Mo,Ij.MutableVec3f_init_czzhiu$=Ro,Ij.MutableVec3f=Eo,Object.defineProperty(Io,"Companion",{get:Bo}),Ij.Vec3d_init_14dthe$=Fo,Ij.Vec3d=Io,Ij.MutableVec3d_init=Uo,Ij.MutableVec3d_init_czzhiw$=function(t,e){return e=e||Object.create(qo.prototype),qo.call(e,t.x,t.y,t.z),e},Ij.MutableVec3d=qo,Object.defineProperty(Vo,"Companion",{get:Ho}),Ij.Vec3i_init_za3lpa$=Xo,Ij.Vec3i=Vo,Ij.MutableVec3i_init=Yo,Ij.MutableVec3i=Ko,Object.defineProperty(Zo,"Companion",{get:tr}),Ij.Vec4f_init_mx4ult$=er,Ij.Vec4f_init_2qa7tb$=nr,Ij.Vec4f=Zo,Ij.MutableVec4f_init=or,Ij.MutableVec4f=ir,Object.defineProperty(rr,"Companion",{get:lr}),Ij.Vec4d_init_14dthe$=pr,Ij.Vec4d=rr,Ij.MutableVec4d_init=cr,Ij.MutableVec4d=ur,Object.defineProperty(_r,"Companion",{get:Sr}),Ij.Vec4i_init_za3lpa$=kr,Ij.Vec4i=_r,Ij.MutableVec4i_init=jr,Ij.MutableVec4i=Lr,Ij.scale_2qa7tb$=function(t,e){return t.scale_749b8l$(e,Mo())},Ij.cross_4lfkt4$=Nr;var Aj=Rj.modules||(Rj.modules={});Pr.EdgeHandler=Tr,Pr.HalfEdgeVertex=Er,Pr.HalfEdge=Mr;var Dj=Aj.mesh||(Aj.mesh={});Dj.HalfEdgeMesh=Pr,Dj.ListEdgeHandler=Rr,Dj.OcTreeEdgeHandler=Dr;var Bj=Dj.simplification||(Dj.simplification={});Bj.CollapseStrategy=Fr,Bj.defaultCollapseStrategy=Ur,Bj.ErrorQuadric=Vr,Bj.simplify_hem9$=function(t,e,n){void 0===n&&(n=vt());var i=new Wr(e);zt(i.excludedEdges,n),i.simplifyMesh_mnbsaa$(t)},Bj.MeshSimplifier=Wr,Bj.TermCriterion=Kr,Bj.terminateOnFaceCountRel_14dthe$=function(t){return new Yr(t)},Object.defineProperty(Zr,"FLOAT",{get:Qr}),Object.defineProperty(Zr,"VEC_2F",{get:ts}),Object.defineProperty(Zr,"VEC_3F",{get:es}),Object.defineProperty(Zr,"VEC_4F",{get:ns}),Object.defineProperty(Zr,"INT",{get:is}),Object.defineProperty(Zr,"VEC_2I",{get:os}),Object.defineProperty(Zr,"VEC_3I",{get:rs}),Object.defineProperty(Zr,"VEC_4I",{get:ss}),Object.defineProperty(Zr,"MAT_2F",{get:as}),Object.defineProperty(Zr,"MAT_3F",{get:ls}),Object.defineProperty(Zr,"MAT_4F",{get:ps});var Fj=Rj.pipeline||(Rj.pipeline={});Fj.GlslType=Zr,Object.defineProperty(us,"Companion",{get:hs}),Fj.Attribute=us,Object.defineProperty(ds,"Companion",{get:ys}),Fj.DepthMapPass=ds,Object.defineProperty($s,"Companion",{get:Ms}),Fj.NormalLinearDepthMapPass_init_br7tm5$=Rs,Fj.NormalLinearDepthMapPass=$s,Is.Builder=As,Fj.DescriptorSetLayout=Is,Ds.Builder=Bs,Fj.Descriptor=Ds,Fs.Builder=qs,Fj.TextureSampler1d=Fs,Us.Builder=Vs,Fj.TextureSampler2d=Us,Ws.Builder=Gs,Fj.TextureSampler3d=Ws,Hs.Builder=Xs,Fj.TextureSamplerCube=Hs,Ks.Builder=Ys,Fj.UniformBuffer=Ks,Object.defineProperty(Zs,"SAMPLER_1D",{get:Qs}),Object.defineProperty(Zs,"SAMPLER_2D",{get:ta}),Object.defineProperty(Zs,"SAMPLER_3D",{get:ea}),Object.defineProperty(Zs,"SAMPLER_CUBE",{get:na}),Object.defineProperty(Zs,"UNIFORM_BUFFER",{get:ia}),Fj.DescriptorType=Zs;var qj=Fj.drawqueue||(Fj.drawqueue={});qj.DrawCommand=oa,qj.DrawQueue=ra,Fj.LoadedTexture=aa,Fj.OffscreenRenderPass=la,la.Config=pa,la.ConfigBuilder=ua,la.TextureAttachmentConfig=ca,la.TextureAttachmentConfigBuilder=_a,Object.defineProperty(ha,"TEXTURE",{get:fa}),Object.defineProperty(ha,"RENDER_BUFFER",{get:ma}),la.RenderTarget=ha,Fj.OffscreenRenderPass2d=ya,Object.defineProperty(ga,"FRONT",{get:xa}),Object.defineProperty(ga,"BACK",{get:wa}),Object.defineProperty(ga,"LEFT",{get:za}),Object.defineProperty(ga,"RIGHT",{get:Ca}),Object.defineProperty(ga,"UP",{get:Sa}),Object.defineProperty(ga,"DOWN",{get:ka}),$a.ViewDirection=ga,Fj.OffscreenRenderPassCube=$a,ja.Layout=Na,ja.Builder=Pa,Object.defineProperty(ja,"Companion",{get:pl}),Fj.Pipeline=ja,Object.defineProperty(ul,"DISABLED",{get:_l}),Object.defineProperty(ul,"BLEND_ADDITIVE",{get:hl}),Object.defineProperty(ul,"BLEND_MULTIPLY_ALPHA",{get:dl}),Object.defineProperty(ul,"BLEND_PREMULTIPLIED_ALPHA",{get:fl}),Fj.BlendMode=ul,Object.defineProperty(ml,"DISABLED",{get:$l}),Object.defineProperty(ml,"ALWAYS",{get:bl}),Object.defineProperty(ml,"NEVER",{get:gl}),Object.defineProperty(ml,"LESS",{get:vl}),Object.defineProperty(ml,"LESS_EQUAL",{get:xl}),Object.defineProperty(ml,"GREATER",{get:wl}),Object.defineProperty(ml,"GREATER_EQUAL",{get:zl}),Object.defineProperty(ml,"EQUAL",{get:Cl}),Object.defineProperty(ml,"NOT_EQUAL",{get:Sl}),Fj.DepthCompareOp=ml,Object.defineProperty(kl,"DEFAULT",{get:jl}),Object.defineProperty(kl,"CULL_BACK_FACES",{get:Nl}),Object.defineProperty(kl,"CULL_FRONT_FACES",{get:Pl}),Object.defineProperty(kl,"NO_CULLING",{get:Tl}),Fj.CullMethod=kl,Ol.Builder=El,Fj.PushConstantRange=Ol,Ml.UpdateEvent=Rl,Fj.RenderPass=Ml,Fj.ScreenRenderPass=Il,Fj.Shader=Al,Object.defineProperty(Bl,"Y_UP",{get:ql}),Object.defineProperty(Bl,"Y_DOWN",{get:Ul}),Dl.ClipSpaceOrientation=Bl;var Uj=Fj.shadermodel||(Fj.shadermodel={});Uj.CodeGenerator=Dl,Uj.ColorAlphaNode=Vl,Uj.PremultiplyColorNode=Wl,Uj.GammaNode=Gl,Uj.HdrToLdrNode=Hl,Uj.FragmentColorOutNode=Xl,Uj.FragmentDepthOutNode=Kl,Uj.DiscardAlphaNode=Yl,Uj.MultiLightNode=Zl,Uj.SingleLightUniformDataNode=Ql,Uj.SingleLightNode=ep,Uj.SinglePointLightNode=np,Uj.SingleSpotLightNode=ip,Uj.UnlitMaterialNode=op,Uj.PhongMaterialNode=rp,Uj.PbrMaterialNode=sp,Uj.PbrLightNode=ap,Uj.MathOpNode=lp,Uj.AddNode=pp,Uj.SubtractNode=up,Uj.DivideNode=cp,Uj.MultiplyNode=_p,Uj.MixNode=hp,Uj.VecFromColorNode=dp,Uj.DistanceNode=fp,Uj.NormalizeNode=mp,Uj.ViewDirNode=yp,Uj.ReflectNode=$p,Uj.RefractNode=bp,Uj.ModelVar=gp,Uj.ModelVar1f=vp,Uj.ModelVar2f=xp,Uj.ModelVar3f=wp,Uj.ModelVar4f=zp,Uj.ModelVar3fv=Cp,Uj.ModelVar1i=Sp,Uj.ModelVar2i=kp,Uj.ModelVar3i=Lp,Uj.ModelVar4i=jp,Uj.ModelVarMat4f=Np,Uj.ModelVar1fConst=Pp,Uj.ModelVar2fConst=Tp,Uj.ModelVar3fConst=Op,Uj.ModelVar4fConst=Ep,Uj.ModelVar1iConst=Mp,Uj.ModelVar2iConst=Rp,Uj.ModelVar3iConst=Ip,Uj.ModelVar4iConst=Ap,Uj.Texture1dSamplerNode=Dp,Uj.Texture2dSamplerNode=Bp,Uj.Texture3dSamplerNode=Fp,Uj.TextureCubeSamplerNode=qp,Uj.EquiRectSamplerNode=Up,Uj.NoiseTextureSamplerNode=Vp,Uj.AoMapSampleNode=Wp,Uj.NormalMapNode=Gp,Uj.DisplacementMapNode=Hp,Uj.RefractionSamplerNode=Xp,Uj.ShaderGenerator=Kp,Uj.ShaderInterfaceIoVar=Yp,Uj.ShaderGraph=Zp,Uj.VertexShaderGraph=Jp,Uj.FragmentShaderGraph=Qp,Fj.ShaderStage=sc,tu.StageBuilder=eu,tu.VertexStageBuilder=nu,tu.FragmentStageBuilder=iu,Uj.ShaderModel=tu,Uj.ShaderNode=ou,Uj.ShaderNodeIoVar=ru,Uj.ShadowMapNode=su,Uj.SimpleShadowMapNode=au,Uj.SimpleShadowMapTransformNode=lu,Uj.SimpleShadowMapFragmentNode=uu,Uj.CascadedShadowMapNode=cu,Uj.CascadedShadowMapTransformNode=hu,Uj.CascadedShadowMapFragmentNode=fu,Uj.Vec3TransformNode=yu,Uj.Vec4TransformNode=$u,Uj.SkinTransformNode=bu,vu.StageCopy=wu,Uj.UniformBufferPremultipliedMvp=vu,zu.StageCopy=Su,Uj.UniformBufferMvp=zu,Uj.Texture1dNode=ku,Uj.Texture2dNode=ju,Uj.Texture3dNode=Pu,Uj.TextureCubeNode=Ou,Uj.MorphWeightsNode=Mu,Uj.PushConstantNode=Ru,Uj.PushConstantNode1f=Iu,Uj.PushConstantNode2f=Au,Uj.PushConstantNode3f=Du,Uj.PushConstantNode4f=Bu,Uj.PushConstantNodeColor=Fu,Uj.PushConstantNode1i=qu,Uj.PushConstantNode2i=Uu,Uj.PushConstantNode3i=Vu,Uj.PushConstantNode4i=Wu,Uj.FlipBacksideNormalNode=Gu,Uj.SplitNode=Hu,Uj.CombineNode=Xu,Uj.Combine31Node=Ku,Uj.AttributeNode=Yu,Uj.InstanceAttributeNode=Zu,Ju.InputNode=Qu,Ju.OutputNode=tc,Uj.StageInterfaceNode=Ju,Uj.ScreenCoordNode=ec,Uj.FullScreenQuadTexPosNode=nc,Uj.GetMorphWeightNode=ic,Uj.NamedVariableNode=oc,Uj.PointSizeNode=rc,Object.defineProperty(sc,"VERTEX_SHADER",{get:lc}),Object.defineProperty(sc,"TESSELEATION_CTRL",{get:pc}),Object.defineProperty(sc,"TESSELATION_EVAL",{get:uc}),Object.defineProperty(sc,"GEOMETRY_SHADER",{get:cc}),Object.defineProperty(sc,"FRAGMENT_SHADER",{get:_c}),Object.defineProperty(sc,"ALL",{get:hc}),Object.defineProperty(dc,"CUBE_MAP_ALBEDO",{get:mc}),Object.defineProperty(dc,"STATIC_ALBEDO",{get:yc}),Object.defineProperty(dc,"TEXTURE_ALBEDO",{get:$c}),Object.defineProperty(dc,"VERTEX_ALBEDO",{get:bc});var Vj=Fj.shading||(Fj.shading={});Vj.Albedo=dc,Vj.AlphaMode=gc,Vj.AlphaModeBlend=vc,Vj.AlphaModeOpaque=xc,Vj.AlphaModeMask=wc,zc.StaticColor=Cc,zc.VertexColor=Sc,zc.TextureColor=kc,zc.CubeMapColor=Lc,Object.defineProperty(zc,"Companion",{get:Pc}),Vj.ModeledShader=zc,Vj.PbrMaterialConfig=Tc,Vj.pbrShader_skmpm9$=Oc,Object.defineProperty(Ec,"Companion",{get:Ic}),Vj.PbrShader=Ec,Object.defineProperty(Ac,"Companion",{get:Fc}),Ac.PhongConfig=qc,Vj.PhongShader=Ac,Object.defineProperty(Uc,"Companion",{get:o_}),Vj.UnlitShader=Uc,Vj.UnlitMaterialConfig=r_,Fj.Std140Layout=s_,Object.defineProperty(l_,"R",{get:u_}),Object.defineProperty(l_,"RG",{get:c_}),Object.defineProperty(l_,"RGB",{get:__}),Object.defineProperty(l_,"RGBA",{get:h_}),Object.defineProperty(l_,"R_F16",{get:d_}),Object.defineProperty(l_,"RG_F16",{get:f_}),Object.defineProperty(l_,"RGB_F16",{get:m_}),Object.defineProperty(l_,"RGBA_F16",{get:y_}),Fj.TexFormat=l_,Object.defineProperty(b_,"NOT_LOADED",{get:v_}),Object.defineProperty(b_,"LOADING",{get:x_}),Object.defineProperty(b_,"LOADED",{get:w_}),Object.defineProperty(b_,"LOADING_FAILED",{get:z_}),$_.LoadingState=b_,Object.defineProperty($_,"Companion",{get:k_}),Fj.Texture=$_,Fj.Texture1d=L_,Fj.Texture2d_init_wabggl$=N_,Fj.Texture2d=j_,Fj.Texture3d=T_,Fj.TextureCube=O_,Object.defineProperty(E_,"Companion",{get:q_}),Fj.SingleColorTexture=E_,Fj.GradientTexture=V_,Fj.TextureProps=G_,Object.defineProperty(H_,"NEAREST",{get:K_}),Object.defineProperty(H_,"LINEAR",{get:Y_}),Fj.FilterMethod=H_,Object.defineProperty(Z_,"CLAMP_TO_EDGE",{get:Q_}),Object.defineProperty(Z_,"MIRRORED_REPEAT",{get:th}),Object.defineProperty(Z_,"REPEAT",{get:eh}),Fj.AddressMode=Z_,Fj.TextureData=nh,Object.defineProperty(ih,"Companion",{get:sh}),Fj.TextureData1d=ih,Object.defineProperty(ah,"Companion",{get:fh}),Fj.TextureData2d=ah,Fj.TextureData3d=mh,Fj.TextureDataCube=yh,Fj.Uniform=$h,Fj.Uniform1f_init_1isgrl$=gh,Fj.Uniform1f=bh,Fj.Uniform2f=vh,Fj.Uniform3f=xh,Fj.Uniform4f=wh,Fj.UniformColor=zh,Fj.Uniform1fv=Ch,Fj.Uniform2fv=Sh,Fj.Uniform3fv=kh,Fj.Uniform4fv=Lh,Fj.UniformMat3f=jh,Fj.UniformMat4f=Nh,Fj.UniformMat4fv=Ph,Fj.Uniform1i_init_19mbxw$=Oh,Fj.Uniform1i=Th,Fj.Uniform2i=Eh,Fj.Uniform3i=Mh,Fj.Uniform4i=Rh,Ih.Binding=Ah,Ih.VertexAttribute=Dh,Ih.Builder=Bh,Fj.VertexLayout=Ih,Object.defineProperty(Fh,"VERTEX",{get:Uh}),Object.defineProperty(Fh,"INSTANCE",{get:Vh}),Fj.InputRate=Fh,Rj.toString_lcymw2$=Wh,Object.defineProperty(Xh,"NONE",{get:Yh}),Object.defineProperty(Xh,"ONSCREEN",{get:Zh}),Object.defineProperty(Xh,"OFFSCREEN",{get:Jh}),Gh.ProjCorrectionMode=Xh;var Wj=Rj.scene||(Rj.scene={});Wj.Camera=Gh,Wj.OrthographicCamera=Qh,td.Proxy=ed,Wj.PerspectiveCamera=td,Wj.FrustumPlane=nd,Wj.group_2ylazs$=function(t,e){void 0===t&&(t=null);var n=new ad(t);return e(n),n},Wj.Group=ad,Wj.Lighting=ld,Object.defineProperty(ud,"DIRECTIONAL",{get:_d}),Object.defineProperty(ud,"POINT",{get:hd}),Object.defineProperty(ud,"SPOT",{get:dd}),pd.Type=ud,Wj.Light=pd,Wj.wireframeMesh_hjnvxh$=function(t,e){void 0===e&&(e=null);var n=new fd;return n.addWireframe_hjnvxh$(t,e),n},Wj.LineMesh=fd,Wj.colorMesh_gp9ews$=md,Wj.textureMesh_pyaqjj$=yd,Object.defineProperty($d,"Companion",{get:vd}),Wj.Mesh=$d,Object.defineProperty(xd,"Companion",{get:jd}),Wj.MeshRayTest=xd,Wj.Model=Nd,Object.defineProperty(Pd,"Companion",{get:Dd}),Wj.Node=Pd,Wj.orbitInputTransform_uj7ww7$=Bd,Wj.defaultCamTransform_v4keia$=function(t){var e,n=Bd(t,void 0,(e=t,function(t){return t.setMouseRotation_dleff0$(20,-30),t.unaryPlus_uv0sim$(e.camera),a}));return t.unaryPlus_uv0sim$(n),n},Object.defineProperty(qd,"NONE",{get:Vd}),Object.defineProperty(qd,"ROTATE",{get:Wd}),Object.defineProperty(qd,"PAN",{get:Gd}),Fd.DragMethod=qd,Object.defineProperty(Hd,"ZOOM_CENTER",{get:Kd}),Object.defineProperty(Hd,"ZOOM_TRANSLATE",{get:Yd}),Fd.ZoomMethod=Hd,Wj.OrbitInputTransform=Fd,Wj.PanBase=Zd,Wj.CameraOrthogonalPan=Jd,Wj.FixedPlanePan=Qd,Wj.yPlanePan=function(){return new Qd(Po().Y_AXIS)},Wj.pointMesh_zhxjay$=function(t,e){void 0===t&&(t=null);var n=new tf(void 0,t);return e(n),n},Object.defineProperty(tf,"Companion",{get:of}),Wj.PointMesh=tf,rf.DragHandler=sf,Wj.Scene=rf,Object.defineProperty(cf,"Companion",{get:df}),af.prototype.SkyboxCubeShader=cf,Object.defineProperty(mf,"Companion",{get:bf}),af.prototype.SkyboxSphereShader=mf,af.prototype.SkyboxPosNode=vf,Object.defineProperty(Wj,"Skybox",{get:function(){return null===jf&&new af,jf}}),Wj.Tags=Nf;var Gj=Wj.ui||(Wj.ui={});Gj.Button=Pf,Gj.ButtonUi=Tf,Gj.ComponentUi=Of,Gj.BlankComponentUi=Ef,Gj.SimpleComponentUi=Mf,Gj.BlurredComponentUi=Rf,Gj.DrawerMenu=If,Gj.Label=Df,Gj.LabelUi=Bf,Gj.LayoutSpec=Ff,Object.defineProperty(qf,"UN",{get:Vf}),Object.defineProperty(qf,"DP",{get:Wf}),Object.defineProperty(qf,"MM",{get:Gf}),Object.defineProperty(qf,"PC",{get:Hf}),Gj.SizeUnit=qf,Gj.zero=Xf,Gj.full=Kf,Gj.uns_8ca0d4$=Yf,Gj.dps_8ca0d4$=Zf,Gj.pcs_8ca0d4$=Jf,Gj.pc_dleff0$=Qf,Gj.dp_dleff0$=tm,Gj.mm_dleff0$=em,Gj.dp_wl4j30$=nm,Gj.pcR_dleff0$=im,Gj.dpR_dleff0$=om,Gj.mmR_dleff0$=rm,Gj.SizeSpec=sm,Gj.Margin=lm,Gj.Gravity=pm,Object.defineProperty(um,"START",{get:_m}),Object.defineProperty(um,"CENTER",{get:hm}),Object.defineProperty(um,"END",{get:dm}),Gj.Alignment=um,Gj.ScrollHandler=fm,Gj.ScrollHandlerUi=mm,Gj.Slider=ym,Gj.SliderUi=$m,Gj.TextField=bm,Gj.TextFieldUi=gm,Object.defineProperty(vm,"Companion",{get:zm}),Gj.EditableText=vm,Gj.ToggleButton=Cm,Gj.ToggleButtonUi=Sm,Gj.UiComponent=km,Gj.UiContainer=Pm,Gj.embeddedUi_4gy91$=Om,Gj.uiScene_2d22y4$=Em,Gj.UiRoot=Mm,Object.defineProperty(Rm,"Companion",{get:Dm}),Gj.UiShader=Rm,Object.defineProperty(Bm,"Companion",{get:Hm}),Gj.UiTheme=Bm,Gj.standardFont_mt8j6u$=Km,Gj.titleFont_mt8j6u$=Ym,Gj.theme_vvurn$=Zm,Gj.ThemeBuilder=Jm,Gj.ThemeOrCustomProp=Qm;var Hj=Rj.util||(Rj.util={}),Xj=Hj.animation||(Hj.animation={});Xj.Animation=ty,Xj.AnimationChannel=ey,Xj.TranslationAnimationChannel=ny,Xj.RotationAnimationChannel=iy,Xj.ScaleAnimationChannel=oy,Xj.WeightAnimationChannel=ry,Xj.AnimationNode=sy,Xj.AnimatedTransformGroup=ay,Xj.MorphAnimatedMesh=ly,Object.defineProperty(uy,"LINEAR",{get:dy}),Object.defineProperty(uy,"STEP",{get:yy}),Object.defineProperty(uy,"CUBICSPLINE",{get:gy}),py.Interpolation=uy,Xj.AnimationKey=py,Xj.RotationKey=vy,Xj.CubicRotationKey=xy,Xj.TranslationKey=wy,Xj.CubicTranslationKey=zy,Xj.ScaleKey=Cy,Xj.CubicScaleKey=Sy,Xj.WeightKey=ky,Xj.CubicWeightKey=Ly,Object.defineProperty(jy,"Companion",{get:Ty}),Xj.Animator=jy,Xj.LinearAnimator=Oy,Xj.CosAnimator=Ey,Xj.InterpolatedValue=My,Xj.InterpolatedFloat=Ry,Xj.SpringDamperFloat=Iy,Xj.SpringDamperDouble=Ay,Dy.SkinNode=By,Xj.Skin=Dy,Object.defineProperty(Fy,"Companion",{get:Ky});var Kj=Hj.ao||(Hj.ao={});Kj.AmbientOcclusionPass=Fy,Object.defineProperty(Zy,"Companion",{get:t$}),Kj.AoSetup=Zy,Kj.AoDenoisePass=e$,a$.ForwardAoPipeline=l$,a$.DeferredAoPipeline=p$,Object.defineProperty(a$,"Companion",{get:_$}),Kj.AoPipeline=a$;var Yj=Hj.atmosphere||(Hj.atmosphere={});Yj.RaySphereIntersectionNode=h$,Yj.AtmosphereNode=d$,Object.defineProperty(f$,"Companion",{get:$$}),Yj.OpticalDepthLutPass=f$,Hj.BoundingBox_init_4lfkt4$=function(t,e,n){return n=n||Object.create(v$.prototype),v$.call(n),n.set_4lfkt4$(t,e),n},Hj.BoundingBox=v$,Hj.Buffer=x$,Hj.Uint8Buffer=w$,Hj.Uint16Buffer=z$,Hj.Uint32Buffer=C$,Hj.Float32Buffer=S$,Hj.MixedBuffer=k$,Hj.copy_2p1efm$=L$,Hj.copy_cgavii$=j$,Object.defineProperty(N$,"Companion",{get:O$}),Hj.Color=N$,Hj.MutableColor_init=M$,Hj.MutableColor_init_d7aj7k$=R$,Hj.MutableColor=E$,Object.defineProperty(A$,"Companion",{get:W$}),Hj.ColorGradient_init_5tenyj$=H$,Hj.ColorGradient=A$,Hj.DataStream=X$,Object.defineProperty(Y$,"UPPER_LEFT",{get:J$}),Object.defineProperty(Y$,"UPPER_RIGHT",{get:Q$}),Object.defineProperty(Y$,"LOWER_LEFT",{get:tb}),Object.defineProperty(Y$,"LOWER_RIGHT",{get:eb}),K$.Position=Y$,Hj.DebugOverlay=K$,Object.defineProperty(sb,"Companion",{get:pb}),sb.Config=ub;var Zj=Hj.deferred||(Hj.deferred={});Zj.DeferredLightShader=sb,Object.defineProperty(cb,"Companion",{get:db}),Zj.DeferredMrtPass=cb,Object.defineProperty(mb,"Companion",{get:bb}),Zj.DeferredOutputShader=mb,Object.defineProperty(gb,"Companion",{get:wb}),gb.MrtMultiplexNode=zb,gb.MrtDeMultiplexNode=Cb,Zj.DeferredPbrShader=gb,Zj.DeferredPipeline=Sb,Zj.DeferredPipelineConfig=kb,Lb.PointLight=jb,Zj.DeferredPointLights=Lb,Zj.DiscardClearNode=Pb,Zj.DeferredCameraNode=Tb,Eb.SpotLight=Mb,Zj.DeferredSpotLights=Eb,Zj.PbrLightingPass=Rb,Object.defineProperty(Db,"Companion",{get:qb}),Db.DeferredPbrConfig=Ub,Zj.PbrSceneShader=Db,Zj.ReflectionDenoisePass=Vb,Object.defineProperty(Xb,"Companion",{get:tg}),Zj.ReflectionPass=Xb,Zj.ScreenSpaceRayTraceNode=ng,Hj.Disposable=ig,Hj.uiFont_a4r08d$=og,Hj.FontProps=rg,Object.defineProperty(sg,"Companion",{get:pg}),Hj.Font_init_8tzsp9$=cg,Hj.Font=sg,Hj.CharMetrics=_g,Hj.CharMap=hg,Object.defineProperty(dg,"Companion",{get:yg}),Object.defineProperty($g,"Companion",{get:vg}),Object.defineProperty($g,"$serializer",{get:zg}),dg.Sparse_init_c4f9z2$=Cg,dg.Sparse=$g,Object.defineProperty(Sg,"Companion",{get:jg}),Object.defineProperty(Sg,"$serializer",{get:Tg}),dg.SparseIndices_init_ei4ty7$=Og,dg.SparseIndices=Sg,Object.defineProperty(Eg,"Companion",{get:Ig}),Object.defineProperty(Eg,"$serializer",{get:Bg}),dg.SparseValues_init_tup0k7$=Fg,dg.SparseValues=Eg,Object.defineProperty(dg,"$serializer",{get:Vg});var Jj=Hj.gltf||(Hj.gltf={});Jj.GltfAccessor_init_xcc4mb$=Wg,Jj.GltfAccessor=dg,Jj.DataStreamAccessor=Gg,Jj.IntAccessor=Hg,Jj.FloatAccessor=Xg,Jj.Vec2fAccessor=Kg,Jj.Vec3fAccessor=Yg,Jj.Vec4fAccessor=Zg,Jj.Vec4iAccessor=Jg,Jj.Mat4fAccessor=Qg,Object.defineProperty(ev,"Companion",{get:ov}),Object.defineProperty(ev,"$serializer",{get:av}),tv.Channel_init_izej1q$=lv,tv.Channel=ev,Object.defineProperty(pv,"Companion",{get:_v}),Object.defineProperty(pv,"$serializer",{get:fv}),tv.Target_init_woby6u$=mv,tv.Target=pv,Object.defineProperty(yv,"Companion",{get:gv}),Object.defineProperty(yv,"$serializer",{get:wv}),tv.Sampler_init_vbg14u$=zv,tv.Sampler=yv,Object.defineProperty(tv,"Companion",{get:kv}),Object.defineProperty(tv,"$serializer",{get:Nv}),Jj.GltfAnimation_init_u8627j$=Pv,Jj.GltfAnimation=tv,Object.defineProperty(Tv,"Companion",{get:Mv}),Object.defineProperty(Tv,"$serializer",{get:Av}),Jj.GltfAsset_init_6zcyl3$=Dv,Jj.GltfAsset=Tv,Jj.loadGltfFile_7e2ead$=Fv,Jj.loadGltfModel_aln4ac$=function(t,e,n,i,o,r){var s=new qv(t,e,n,i,o);return r?s:s.doResume(null)},Object.defineProperty(Xv,"Companion",{get:Zv}),Object.defineProperty(Xv,"$serializer",{get:tx}),Jj.GltfBuffer_init_7vc2qp$=ex,Jj.GltfBuffer=Xv,Object.defineProperty(nx,"Companion",{get:rx}),Object.defineProperty(nx,"$serializer",{get:lx}),Jj.GltfBufferView_init_m5zzca$=px,Jj.GltfBufferView=nx,ux.ModelGenerateConfig=cx,ux.ModelMaterialConfig=_x,s["kotlinx-serialization-kotlinx-serialization-core-jsLegacy"]=o,Object.defineProperty(ux,"Companion",{get:$x}),Object.defineProperty(ux,"$serializer",{get:vx}),Jj.GltfFile_init_iuf0kj$=xx,Jj.GltfFile=ux,Object.defineProperty(wx,"Companion",{get:Sx}),Object.defineProperty(wx,"$serializer",{get:jx}),Jj.GltfImage_init_kfyxti$=Nx,Jj.GltfImage=wx,Object.defineProperty(Tx,"Companion",{get:Mx}),Object.defineProperty(Tx,"$serializer",{get:Ax}),Px.PbrMetallicRoughness_init_t9ohaw$=Dx,Px.PbrMetallicRoughness=Tx,Object.defineProperty(Px,"Companion",{get:qx}),Object.defineProperty(Px,"$serializer",{get:Wx}),Jj.GltfMaterial_init_6sdafb$=Gx,Jj.GltfMaterial=Px,Object.defineProperty(Xx,"Companion",{get:Zx}),Object.defineProperty(Xx,"$serializer",{get:tw}),Hx.Primitive_init_g6eddi$=ew,Hx.Primitive=Xx,Object.defineProperty(Hx,"Companion",{get:ow}),Object.defineProperty(Hx,"$serializer",{get:aw}),Jj.GltfMesh_init_bdgbz6$=lw,Jj.GltfMesh=Hx,Object.defineProperty(pw,"Companion",{get:_w}),Object.defineProperty(pw,"$serializer",{get:fw}),Jj.GltfNode_init_fw4yk9$=mw,Jj.GltfNode=pw,Object.defineProperty(yw,"Companion",{get:gw}),Object.defineProperty(yw,"$serializer",{get:ww}),Jj.GltfScene_init_ldvoza$=zw,Jj.GltfScene=yw,Object.defineProperty(Cw,"Companion",{get:Lw}),Object.defineProperty(Cw,"$serializer",{get:Pw}),Jj.GltfSkin_init_t9evm2$=Tw,Jj.GltfSkin=Cw,Object.defineProperty(Ow,"Companion",{get:Iw}),Object.defineProperty(Ow,"$serializer",{get:Bw}),Jj.GltfTexture_init_k7m1pc$=Fw,Jj.GltfTexture=Ow,Object.defineProperty(qw,"Companion",{get:Ww}),Object.defineProperty(qw,"$serializer",{get:Xw}),Jj.GltfTextureInfo_init_vneh73$=Kw,Jj.GltfTextureInfo=qw;var Qj=Hj.ibl||(Hj.ibl={});Qj.BrdfLutPass=Yw,Object.defineProperty(Qj,"EnvironmentHelper",{get:function(){return null===nz&&new Qw,nz}}),Qj.EnvironmentMaps=iz,Qj.GradientCubeGenerator=oz,Qj.EnvCubeSamplerNode=lz,Qj.EnvEquiRectSamplerNode=pz,Qj.RgbeDecoderNode=uz,Object.defineProperty(cz,"Companion",{get:fz}),Qj.IrradianceMapPass=cz,Object.defineProperty(bz,"Companion",{get:wz}),Qj.ReflectionMapPass=bz,Qj.RgbeDecoder=kz,Object.defineProperty(Nz,"Companion",{get:Oz}),Qj.SkyCubePass=Nz,Qj.SkyCubeIblSystem=qz,Object.defineProperty(Uz,"Companion",{get:Zz}),Hj.IndexedVertexList_init_5jr6ei$=Jz,Hj.IndexedVertexList=Uz,Object.defineProperty(Qz,"LINES",{get:eC}),Object.defineProperty(Qz,"POINTS",{get:nC}),Object.defineProperty(Qz,"TRIANGLES",{get:iC}),Hj.PrimitiveType=Qz,Object.defineProperty(oC,"DYNAMIC",{get:sC}),Object.defineProperty(oC,"STATIC",{get:aC}),Hj.Usage=oC,fC.Instance=bC,Hj.InstancedLodController=fC,gC.prototype.Level=vC,Object.defineProperty(vC,"TRACE",{get:wC}),Object.defineProperty(vC,"DEBUG",{get:zC}),Object.defineProperty(vC,"INFO",{get:CC}),Object.defineProperty(vC,"WARN",{get:SC}),Object.defineProperty(vC,"ERROR",{get:kC}),Object.defineProperty(vC,"OFF",{get:LC}),Object.defineProperty(Hj,"Log",{get:function(){return null===NC&&new gC,NC}}),Hj.MeshBuilder=PC,Hj.CircleProps=EC,Object.defineProperty(MC,"Companion",{get:DC}),Hj.GridProps=MC,Hj.SphereProps=BC,Hj.RectProps=FC,Hj.CubeProps=qC,Hj.CylinderProps=UC,Hj.TextProps=VC,Object.defineProperty(WC,"Companion",{get:XC}),Hj.MeshInstanceList=WC,Object.defineProperty(KC,"Companion",{get:JC}),Hj.ObjectRecycler_init_9ce4rd$=QC,Hj.ObjectRecycler=KC,Hj.ObjectPool=tS,Hj.PerfTimer=eS,Rj.now=Ak,Rj.toString_j6vyb1$=Dk,nS.prototype.TriangulatedPolygon=iS,Object.defineProperty(Hj,"PolyUtil",{get:_S}),Hj.ShapeContainer=hS,Hj.Profile=dS,Hj.Shape=fS,Hj.SimpleShape=mS,Hj.ShadowMap=yS,Hj.SimpleShadowMap=$S,gS.MapRange=vS,Hj.CascadedShadowMap=gS,xS.KdNode=wS;var tN=Hj.spatial||(Hj.spatial={});tN.KdTree=xS,tN.pointKdTree_ffk80x$=function(t,e){return void 0===e&&(e=20),new xS(t,jS(),e)},tN.triangleKdTree_uvzo00$=zS,tN.edgeKdTree_jn4zy3$=CS,tN.ItemAdapter=SS,Object.defineProperty(tN,"Vec3fAdapter",{get:jS}),Object.defineProperty(tN,"EdgeAdapter",{get:TS}),Object.defineProperty(tN,"TriangleAdapter",{get:MS}),Object.defineProperty(RS,"Companion",{get:DS}),tN.Edge=RS,Object.defineProperty(BS,"Companion",{get:US}),tN.Triangle_init_olctmm$=VS,tN.Triangle=BS,WS.Node=GS,tN.SpatialTree=WS,tN.PointDistance=XS,tN.BoundingSphereDistance=KS,tN.RayDistance=YS,tN.SpatialTreeTraverser=ZS,tN.CenterPointTraverser=JS,tN.InRadiusTraverser=tk,tN.NearestToRayTraverser=ek,tN.NearestEdgeToRayTraverser=ik,tN.TriangleHitTraverser=rk,ak.Child=lk,tN.ChildNodesWithDistance=ak,Object.defineProperty(Hj,"Subdivide",{get:dk}),Object.defineProperty(fk,"Companion",{get:$k}),fk.Gesture=bk,Hj.TouchGestureEvaluator=fk,Object.defineProperty(gk,"Companion",{get:zk}),Hj.TreeMap=gk,Sk.FloatView=kk,Sk.IntView=Tk,Sk.Vec2iView=Ok,Sk.Vec3iView=Ek,Sk.Vec4iView=Mk,Hj.VertexView=Sk,Hj.Viewport=Rk,Rj.createDefaultContext=function(){return Ik(new $L)},Rj.createContext_s8od96$=Ik,Object.defineProperty(Rj,"JsImpl",{get:qk}),Fj.OffscreenPass2dImpl=Uk,Object.defineProperty(Vk,"Companion",{get:Hk}),Fj.OffscreenPassCubeImpl=Vk,Fj.PlatformAttributeProps=Xk,Fj.ShaderCode=Kk;var eN=Rj.platform||(Rj.platform={});eN.FontMapGenerator=Yk,eN.ImageTextureData=Zk,eN.ImageAtlasTextureData=Jk,Object.defineProperty(Qk,"Companion",{get:mL}),eN.JsAssetManager=Qk,yL.InitProps=$L,Object.defineProperty(yL,"Companion",{get:vL}),eN.JsContext=yL,eN.GlCapabilities=xL,eN.get_elementX_wgrwqm$=wL,eN.get_elementY_wgrwqm$=zL,eN.get_glInternalFormat_my8d90$=CL,eN.get_glType_my8d90$=SL,eN.get_glFormat_my8d90$=kL,eN.get_pxSize_my8d90$=LL,eN.get_glOp_jstu7d$=jL,Object.defineProperty(NL,"Companion",{get:OL});var nN=eN.webgl||(eN.webgl={});return nN.BufferResource=NL,EL.ShaderInstance=ML,nN.CompiledShader=EL,Object.defineProperty(IL,"Companion",{get:BL}),nN.LoadedTextureWebGl=IL,Object.defineProperty(FL,"Companion",{get:VL}),nN.MappedUniform=FL,nN.MappedUniform1f=WL,nN.MappedUniform2f=GL,nN.MappedUniform3f=HL,nN.MappedUniform4f=XL,nN.MappedUniform1fv=KL,nN.MappedUniform2fv=YL,nN.MappedUniform3fv=ZL,nN.MappedUniform4fv=JL,nN.MappedUniformColor=QL,nN.MappedUniformMat3f=tj,nN.MappedUniformMat4f=ej,nN.MappedUniformMat4fv=nj,nN.MappedUniform1i=ij,Object.defineProperty(oj,"Companion",{get:lj}),nN.MappedUniformTex=oj,nN.MappedUniformTex1d=pj,nN.MappedUniformTex2d=uj,nN.MappedUniformTex3d=cj,nN.MappedUniformTexCube=_j,nN.QueueRendererWebGl=hj,nN.ShaderGeneratorImplWebGl=fj,nN.ShaderManager=$j,Object.defineProperty(nN,"TextureLoader",{get:vj}),nN.VboBinder=xj,Hj.GenericBuffer=wj,Hj.Uint8BufferImpl_init_za3lpa$=Cj,Hj.Uint8BufferImpl=zj,Hj.Uint16BufferImpl=Sj,Hj.Uint32BufferImpl=kj,Hj.Float32BufferImpl=Lj,Hj.MixedBufferImpl=jj,Hj.createUint8Buffer_za3lpa$=Nj,Hj.createUint32Buffer_za3lpa$=Pj,Hj.createFloat32Buffer_za3lpa$=Tj,Hj.createMixedBuffer_za3lpa$=Oj,Rr.prototype.distinctTriangleEdges=Tr.prototype.distinctTriangleEdges,Br.prototype.getMin_hm1yd1$=SS.prototype.getMin_hm1yd1$,Br.prototype.getMax_hm1yd1$=SS.prototype.getMax_hm1yd1$,Br.prototype.getCenter_hm1yd1$=SS.prototype.getCenter_hm1yd1$,Dr.prototype.distinctTriangleEdges=Tr.prototype.distinctTriangleEdges,Kr.prototype.init_nbf0q6$,Kr.prototype.init_nbf0q6$,zd.prototype.onMeshDataChanged_f1jspk$=xd.prototype.onMeshDataChanged_f1jspk$,Ef.prototype.updateComponentAlpha=Of.prototype.updateComponentAlpha,Ef.prototype.createUi_aemszp$=Of.prototype.createUi_aemszp$,Ef.prototype.updateUi_aemszp$=Of.prototype.updateUi_aemszp$,Ef.prototype.onRender_aemszp$=Of.prototype.onRender_aemszp$,Ef.prototype.dispose_aemszp$=Of.prototype.dispose_aemszp$,ay.prototype.setWeights_q3cr5i$=sy.prototype.setWeights_q3cr5i$,ly.prototype.initTransform=sy.prototype.initTransform,ly.prototype.setTranslation_czzhiw$=sy.prototype.setTranslation_czzhiw$,ly.prototype.setRotation_czzhi1$=sy.prototype.setRotation_czzhi1$,ly.prototype.setScale_czzhiw$=sy.prototype.setScale_czzhiw$,xg.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Ng.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Ag.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,qg.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,rv.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,hv.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,vv.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Lv.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Rv.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Jv.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,sx.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,bx.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,kx.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Rx.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Ux.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Jx.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,rw.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,hw.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,vw.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,jw.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Aw.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,Gw.prototype.typeParametersSerializers=Ce.prototype.typeParametersSerializers,kS.prototype.setNode_kvimhn$=SS.prototype.setNode_kvimhn$,NS.prototype.getCenterX_trkh7z$=SS.prototype.getCenterX_trkh7z$,NS.prototype.getCenterY_trkh7z$=SS.prototype.getCenterY_trkh7z$,NS.prototype.getCenterZ_trkh7z$=SS.prototype.getCenterZ_trkh7z$,NS.prototype.getSzX_trkh7z$=SS.prototype.getSzX_trkh7z$,NS.prototype.getSzY_trkh7z$=SS.prototype.getSzY_trkh7z$,NS.prototype.getSzZ_trkh7z$=SS.prototype.getSzZ_trkh7z$,NS.prototype.getCenter_hm1yd1$=SS.prototype.getCenter_hm1yd1$,NS.prototype.setNode_kvimhn$=SS.prototype.setNode_kvimhn$,OS.prototype.getCenterX_trkh7z$=SS.prototype.getCenterX_trkh7z$,OS.prototype.getCenterY_trkh7z$=SS.prototype.getCenterY_trkh7z$,OS.prototype.getCenterZ_trkh7z$=SS.prototype.getCenterZ_trkh7z$,OS.prototype.getSzX_trkh7z$=SS.prototype.getSzX_trkh7z$,OS.prototype.getSzY_trkh7z$=SS.prototype.getSzY_trkh7z$,OS.prototype.getSzZ_trkh7z$=SS.prototype.getSzZ_trkh7z$,OS.prototype.getCenter_hm1yd1$=SS.prototype.getCenter_hm1yd1$,OS.prototype.setNode_kvimhn$=SS.prototype.setNode_kvimhn$,KS.prototype.nodeSqrDistanceToPoint_fpn9fm$=XS.prototype.nodeSqrDistanceToPoint_fpn9fm$,QS.prototype.nodeSqrDistanceToPoint_fpn9fm$=XS.prototype.nodeSqrDistanceToPoint_fpn9fm$,QS.prototype.itemSqrDistanceToPoint_xpaqv3$=XS.prototype.itemSqrDistanceToPoint_xpaqv3$,nk.prototype.nodeSqrDistanceToRay_m0emyn$=YS.prototype.nodeSqrDistanceToRay_m0emyn$,nk.prototype.itemSqrDistanceToRay_bo5c3m$=YS.prototype.itemSqrDistanceToRay_bo5c3m$,ok.prototype.nodeSqrDistanceToRay_m0emyn$=YS.prototype.nodeSqrDistanceToRay_m0emyn$,sk.prototype.nodeSqrDistanceToRay_m0emyn$=YS.prototype.nodeSqrDistanceToRay_m0emyn$,yj.prototype.sampleTexture1d_buzeal$=Dl.prototype.sampleTexture1d_buzeal$,yj.prototype.sampleTexture2d_buzeal$=Dl.prototype.sampleTexture2d_buzeal$,yj.prototype.sampleTexture3d_buzeal$=Dl.prototype.sampleTexture3d_buzeal$,yj.prototype.sampleTextureCube_buzeal$=Dl.prototype.sampleTextureCube_buzeal$,wj.prototype.removeAt_za3lpa$=x$.prototype.removeAt_za3lpa$,zj.prototype.put_fqrh44$=w$.prototype.put_fqrh44$,zj.prototype.plusAssign_s8j3t7$=w$.prototype.plusAssign_s8j3t7$,zj.prototype.toArray=w$.prototype.toArray,zj.prototype.removeAt_za3lpa$=w$.prototype.removeAt_za3lpa$,Sj.prototype.put_gmedm2$=z$.prototype.put_gmedm2$,Sj.prototype.plusAssign_mq22fl$=z$.prototype.plusAssign_mq22fl$,Sj.prototype.removeAt_za3lpa$=z$.prototype.removeAt_za3lpa$,kj.prototype.put_q5rwfd$=C$.prototype.put_q5rwfd$,kj.prototype.plusAssign_za3lpa$=C$.prototype.plusAssign_za3lpa$,kj.prototype.removeAt_za3lpa$=C$.prototype.removeAt_za3lpa$,Lj.prototype.put_q3cr5i$=S$.prototype.put_q3cr5i$,Lj.prototype.plusAssign_mx4ult$=S$.prototype.plusAssign_mx4ult$,Lj.prototype.removeAt_za3lpa$=S$.prototype.removeAt_za3lpa$,jj.prototype.putUint8_fqrh44$=k$.prototype.putUint8_fqrh44$,jj.prototype.putUint16_gmedm2$=k$.prototype.putUint16_gmedm2$,jj.prototype.putUint32_q5rwfd$=k$.prototype.putUint32_q5rwfd$,jj.prototype.putFloat32_q3cr5i$=k$.prototype.putFloat32_q3cr5i$,jj.prototype.putInt8_s8j3t7$=k$.prototype.putInt8_s8j3t7$,jj.prototype.putInt8_fqrh44$=k$.prototype.putInt8_fqrh44$,jj.prototype.putInt8_mj6st8$=k$.prototype.putInt8_mj6st8$,jj.prototype.putInt8_ay2i3f$=k$.prototype.putInt8_ay2i3f$,jj.prototype.putInt16_mq22fl$=k$.prototype.putInt16_mq22fl$,jj.prototype.putInt16_gmedm2$=k$.prototype.putInt16_gmedm2$,jj.prototype.putInt16_359eei$=k$.prototype.putInt16_359eei$,jj.prototype.putInt16_8k344i$=k$.prototype.putInt16_8k344i$,jj.prototype.putInt32_za3lpa$=k$.prototype.putInt32_za3lpa$,jj.prototype.putInt32_q5rwfd$=k$.prototype.putInt32_q5rwfd$,jj.prototype.putInt32_nd5v6f$=k$.prototype.putInt32_nd5v6f$,jj.prototype.putInt32_7hqxcs$=k$.prototype.putInt32_7hqxcs$,jj.prototype.removeAt_za3lpa$=k$.prototype.removeAt_za3lpa$,Ri=V.PI/180,Ii=180/V.PI,Ai=1e-5,Di=1e-10,Bi=.70710677,Fi=new no(U(Ak())),t})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){var i,o,r;o=[e,n(1)],void 0===(r="function"==typeof(i=function(t,e){"use strict";var n=e.getKClass,i=e.Kind.CLASS,o=e.kotlin.Annotation,r=e.throwCCE,s=e.Kind.INTERFACE,a=(e.kotlin.js.internal.StringCompanionObject,e.toString),l=e.kotlin.Unit,p=e.kotlin.IllegalArgumentException_init_pdl1vj$,u=e.kotlin.collections.zip_r9t3v7$,c=e.kotlin.collections.toMap_6hr0sd$,_=e.kotlin.collections.Grouping,h=e.kotlin.collections.LinkedHashMap_init_q3lmfv$,d=e.kotlin.IllegalStateException_init_pdl1vj$,f=e.kotlin.collections.mapCapacity_za3lpa$,m=e.kotlin.collections.LinkedHashMap_init_bwtc7$,y=e.kotlin.collections.Map,$=(e.defineInlineFunction,e.wrapFunction,e.kotlin.IllegalArgumentException),b=e.getCallableRef,g=e.kotlin.collections.List,v=e.equals,x=e.kotlin.collections.MutableList,w=e.kotlin.collections.ArrayList,z=e.kotlin.collections.HashSet,C=e.kotlin.collections.Set,S=e.kotlin.collections.MutableSet,k=e.kotlin.collections.LinkedHashSet,L=e.kotlin.collections.HashMap,j=e.kotlin.collections.MutableMap,N=e.kotlin.collections.LinkedHashMap,P=e.kotlin.collections.Map.Entry,T=e.kotlin.Pair,O=e.kotlin.Triple,E=e.kotlin.reflect.KClass,M=e.kotlin.collections.collectionSizeOrDefault_ba2ldo$,R=e.kotlin.collections.ArrayList_init_ww73n8$,I=e.kotlin.collections.copyToArray,A=(e.kotlin.text.toLong_pdl1vz$,e.Kind.OBJECT),D=e.kotlin.collections.emptyList_287e2$,B=e.hashCode,F=e.kotlin.collections.Iterator,q=e.kotlin.collections.Iterable,U=e.kotlin.collections.toList_us0mfu$,V=e.kotlin.collections.ArrayList_init_287e2$,W=e.kotlin.collections.HashSet_init_287e2$,G=e.arrayEquals,H=e.kotlin.ranges.until_dqglrj$,X=e.kotlin.collections.joinToString_fmv235$,K=e.kotlin.collections.toBooleanArray_xmyvgf$,Y=e.kotlin.collections.withIndex_us0mfu$,Z=e.kotlin.to_ujzrz7$,J=e.kotlin.lazy_klfg04$,Q=e.kotlin.text.isBlank_gw00vp$,tt=e.ensureNotNull,et=e.toBoxedChar,nt=Object,it=e.kotlin.text.toIntOrNull_pdl1vz$,ot=e.kotlin.collections.getValue_t9ocha$,rt=e.kotlin.collections.asList_us0mfu$,st=e.kotlin.collections.ArrayList_init_mqih57$,at=e.kotlin.collections.LinkedHashSet_init_mqih57$,lt=e.kotlin.collections.HashSet_init_mqih57$,pt=e.kotlin.collections.LinkedHashMap_init_73mtqc$,ut=e.kotlin.collections.HashMap_init_q3lmfv$,ct=e.kotlin.collections.HashMap_init_73mtqc$,_t=e.kotlin.collections.LinkedHashSet_init_287e2$,ht=(e.kotlin.collections.indexOf_mjy6jw$,e.arrayToString,e.kotlin.collections.get_indices_m7z4lg$),dt=Array,ft=(e.toByte,e.kotlin.ranges.CharRange,e.kotlin.text.StringBuilder_init_za3lpa$,e.kotlin.collections.HashSet_init_ww73n8$),mt=e.arrayHashCode,yt=(e.kotlin.js.internal.ByteCompanionObject,e.kotlin.ranges.coerceAtLeast_dqglrj$),$t=e.kotlin.collections.copyOf_mrm5p$,bt=(e.kotlin.js.internal.ShortCompanionObject,e.kotlin.collections.copyOf_m2jy6x$),gt=(e.kotlin.js.internal.IntCompanionObject,e.kotlin.collections.copyOf_c03ot6$),vt=(e.kotlin.js.internal.LongCompanionObject,e.kotlin.collections.copyOf_3aefkx$),xt=(e.kotlin.js.internal.FloatCompanionObject,e.kotlin.collections.copyOf_rblqex$),wt=(e.kotlin.js.internal.DoubleCompanionObject,e.kotlin.collections.copyOf_xgrzbe$),zt=e.unboxChar,Ct=(e.kotlin.js.internal.CharCompanionObject,e.kotlin.collections.copyOf_gtcw5h$),St=(e.kotlin.js.internal.BooleanCompanionObject,e.kotlin.collections.copyOf_1qu12l$),kt=e.kotlin.reflect.js.internal.PrimitiveClasses.stringClass,Lt=e.BoxedChar,jt=e.kotlin.reflect.js.internal.PrimitiveClasses.charArrayClass,Nt=e.kotlin.reflect.js.internal.PrimitiveClasses.doubleClass,Pt=e.kotlin.reflect.js.internal.PrimitiveClasses.doubleArrayClass,Tt=e.kotlin.reflect.js.internal.PrimitiveClasses.floatClass,Ot=e.kotlin.reflect.js.internal.PrimitiveClasses.floatArrayClass,Et=e.Long,Mt=e.kotlin.reflect.js.internal.PrimitiveClasses.longArrayClass,Rt=e.kotlin.reflect.js.internal.PrimitiveClasses.intClass,It=e.kotlin.reflect.js.internal.PrimitiveClasses.intArrayClass,At=e.kotlin.reflect.js.internal.PrimitiveClasses.shortClass,Dt=e.kotlin.reflect.js.internal.PrimitiveClasses.shortArrayClass,Bt=e.kotlin.reflect.js.internal.PrimitiveClasses.byteClass,Ft=e.kotlin.reflect.js.internal.PrimitiveClasses.byteArrayClass,qt=e.kotlin.reflect.js.internal.PrimitiveClasses.booleanClass,Ut=e.kotlin.reflect.js.internal.PrimitiveClasses.booleanArrayClass,Vt=e.kotlin,Wt=e.kotlin.collections.mapOf_qfcya0$,Gt=e.kotlin.text.capitalize_pdl1vz$,Ht=e.kotlin.text.equals_igcy3c$,Xt=e.kotlin.text.trimIndent_pdl1vz$,Kt=e.kotlin.collections.last_2p1efm$,Yt=e.kotlin.collections.lastOrNull_2p1efm$,Zt=e.kotlin.collections.get_lastIndex_55thoc$,Jt=e.kotlin.collections.emptyMap_q3lmfv$,Qt=e.kotlin.IndexOutOfBoundsException,te=e.kotlin.collections.get_indices_l1lu5t$,ee=e.kotlin.js.get_js_1yb8b7$,ne=e.kotlin.reflect.js.internal.PrimitiveClasses.arrayClass,ie=e.findAssociatedObject_yjf3nl$;function oe(){}function re(){}function se(){}function ae(t,e,n){var i;return null!=(i=t.findPolymorphicSerializerOrNull_ca6uye$(e,n))?i:bi(n,t.baseClass)}function le(t,n,i){var o;return null!=(o=t.findPolymorphicSerializerOrNull_kjsxpj$(n,i))?o:gi(e.getKClassFromExpression(i),t.baseClass)}function pe(t,e){this.this$groupingBy=t,this.closure$keySelector=e}function ue(t,e,n,i){var o,r;if($i.call(this),this.baseClass_a0a98o$_0=e,this.descriptor_gganzq$_0=Je(t,Jn(),[],(o=this,r=i,function(t){t.element_vxrguq$("type",Ue().descriptor);var e=Je("kotlinx.serialization.Sealed<"+a(o.baseClass.simpleName)+">",an(),[],function(t){return function(e){var n,i=t;for(n=0;n!==i.length;++n){var o=i[n].descriptor;e.element_vxrguq$(o.serialName,o)}return l}}(r));return t.element_vxrguq$("value",e),l})),this.class2Serializer_0=null,this.serialName2Serializer_0=null,n.length!==i.length)throw p("All subclasses of sealed class "+a(this.baseClass.simpleName)+" should be marked @Serializable");this.class2Serializer_0=c(u(n,i));var s,_=new pe(this.class2Serializer_0.entries,ce),y=h();for(s=_.sourceIterator();s.hasNext();){var $=s.next(),b=_.keyOf_11rb$($),g=y.get_11rb$(b),v=y.put_xwzc9p$;if(null==g&&y.containsKey_11rb$(b),null!=g)throw d(("Multiple sealed subclasses of '"+this.baseClass+"' have the same serial name '"+b+"': '"+g.key+"', '"+$.key+"'").toString());v.call(y,b,$)}var x,w=m(f(y.size));for(x=y.entries.iterator();x.hasNext();){var z=x.next();w.put_xwzc9p$(z.key,z.value.value)}this.serialName2Serializer_0=w}function ce(t){return t.value.descriptor.serialName}function _e(){}function he(){}function de(){this.name="SerializationException"}function fe(t,e){return e=e||Object.create(de.prototype),p(t,e),de.call(e),e}function me(t){fe("Field '"+t+"' is required, but it was missing",this),this.name="MissingFieldException"}function ye(t){fe("An unknown field for index "+t,this),this.name="UnknownFieldException"}function $e(t,n){var i,o,s,a,l,p,u=Gi(n),c=n.isMarkedNullable,_=be(t,n);return null!=_?e.isType(a=ve(_,c),oe)?a:r():(l=null!=(o=null!=(i=t.getContextual_lmshww$(u))?ve(i,c):null)?e.isType(p=o,oe)?p:r():null,null!=(s=l)?s:Nr(Gi(n)))}function be(t,i){var o,s,l,u=Gi(i),c=i.arguments,_=R(M(c,10));for(l=c.iterator();l.hasNext();){var h,d=l.next(),f=_.add_11rb$,m=d.type;if(null==m)throw p(("Star projections in type arguments are not allowed, but had "+i).toString());h=m,f.call(_,h)}var $,A=_;return null!=(s=A.isEmpty()?null!=(o=ge(u))?o:t.getContextual_lmshww$(u):function(t,i,o){var s,l,u,c=b("serializer",function(t,e){return $e(t,e)}.bind(null,t)),_=R(M(i,10));for(u=i.iterator();u.hasNext();){var h=u.next();_.add_11rb$(c(h))}var d=_;if(v(o,n(g))||v(o,n(x))||v(o,n(w)))l=new Ri(d.get_za3lpa$(0));else if(v(o,n(z)))l=new Ai(d.get_za3lpa$(0));else if(v(o,n(C))||v(o,n(S))||v(o,n(k)))l=new Ii(d.get_za3lpa$(0));else if(v(o,n(L)))l=new Bi(d.get_za3lpa$(0),d.get_za3lpa$(1));else if(v(o,n(y))||v(o,n(j))||v(o,n(N)))l=new Di(d.get_za3lpa$(0),d.get_za3lpa$(1));else if(v(o,n(P)))l=ze(d.get_za3lpa$(0),d.get_za3lpa$(1));else if(v(o,n(T)))l=we(d.get_za3lpa$(0),d.get_za3lpa$(1));else if(v(o,n(O)))l=Ce(d.get_za3lpa$(0),d.get_za3lpa$(1),d.get_za3lpa$(2));else{var f;if(Tr(o))return e.isType(f=Ve(e.isType(s=i.get_za3lpa$(0).classifier,E)?s:r(),d.get_za3lpa$(0)),oe)?f:r();var m=Pr(o,I(d).slice());if(null==m){var $="Can't find a method to construct serializer for type "+a(o.simpleName)+". Make sure this class is marked as @Serializable or provide serializer explicitly.";throw p($.toString())}l=m}return l}(t,A,u))?e.isType($=s,oe)?$:r():null}function ge(t){var e;return null!=(e=kr(t))?e:Oo(t)}function ve(t,n){var i;return n?xe(t):e.isType(i=t,oe)?i:r()}function xe(t){var n;return t.descriptor.isNullable?e.isType(n=t,oe)?n:r():new Fi(t)}function we(t,e){return new br(t,e)}function ze(t,e){return new yr(t,e)}function Ce(t,e,n){return new gr(t,e,n)}function Se(t){return sr()}function ke(){return zo()}function Le(t){return qo()}function je(){return Qi()}function Ne(t){return Wo()}function Pe(){return io()}function Te(t){return Xo()}function Oe(){return ao()}function Ee(t){return Zo()}function Me(){return co()}function Re(t){return tr()}function Ie(){return mo()}function Ae(t){return ir()}function De(){return go()}function Be(t){return Do()}function Fe(){return jo()}function qe(t){return Ro()}function Ue(t){return cr()}function Ve(t,e){return new Mi(t,e)}function We(t){this.closure$iterator=t}function Ge(){}function He(t){this.this$elementDescriptors=t,this.elementsLeft_0=t.elementsCount}function Xe(t){return new We((e=t,function(){return new He(e)}));var e}function Ke(t){return l}function Ye(t,e,n){if(void 0===n&&(n=Ke),Q(t))throw p("Blank serial names are prohibited".toString());var i=new Qe(t);return n(i),new tn(t,Dn(),i.elementNames_8be2vx$.size,U(e),i)}function Ze(t){return l}function Je(t,e,n,i){if(void 0===i&&(i=Ze),Q(t))throw p("Blank serial names are prohibited".toString());if(v(e,Dn()))throw p("For StructureKind.CLASS please use 'buildClassSerialDescriptor' instead".toString());var o=new Qe(t);return i(o),new tn(t,e,o.elementNames_8be2vx$.size,U(n),o)}function Qe(t){this.serialName=t,this.isNullable=!1,this.annotations=D(),this.elementNames_8be2vx$=V(),this.uniqueNames_0=W(),this.elementDescriptors_8be2vx$=V(),this.elementAnnotations_8be2vx$=V(),this.elementOptionality_8be2vx$=V()}function tn(t,e,n,i,o){this.serialName_btmdyn$_0=t,this.kind_589tly$_0=e,this.elementsCount_wewqc2$_0=n,this.annotations_efqcf6$_0=o.annotations,this.elementNames_0=I(o.elementNames_8be2vx$),this.elementDescriptors_0=Wi(o.elementDescriptors_8be2vx$),this.elementAnnotations_0=I(o.elementAnnotations_8be2vx$),this.elementOptionality_0=K(o.elementOptionality_8be2vx$);var r,s,a=Y(this.elementNames_0),l=R(M(a,10));for(r=a.iterator();r.hasNext();){var p=r.next();l.add_11rb$(Z(p.value,p.index))}this.name2Index_0=c(l),this.typeParametersDescriptors_0=Wi(i),this._hashCode_6e2cwc$_0=J((s=this,function(){return Xi(s,s.typeParametersDescriptors_0)}))}function en(){}function nn(){on=this,en.call(this)}ue.prototype=Object.create($i.prototype),ue.prototype.constructor=ue,de.prototype=Object.create($.prototype),de.prototype.constructor=de,me.prototype=Object.create(de.prototype),me.prototype.constructor=me,ye.prototype=Object.create(de.prototype),ye.prototype.constructor=ye,nn.prototype=Object.create(en.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(en.prototype),rn.prototype.constructor=rn,ln.prototype=Object.create(en.prototype),ln.prototype.constructor=ln,pn.prototype=Object.create(ln.prototype),pn.prototype.constructor=pn,_n.prototype=Object.create(ln.prototype),_n.prototype.constructor=_n,fn.prototype=Object.create(ln.prototype),fn.prototype.constructor=fn,$n.prototype=Object.create(ln.prototype),$n.prototype.constructor=$n,vn.prototype=Object.create(ln.prototype),vn.prototype.constructor=vn,zn.prototype=Object.create(ln.prototype),zn.prototype.constructor=zn,kn.prototype=Object.create(ln.prototype),kn.prototype.constructor=kn,Nn.prototype=Object.create(ln.prototype),Nn.prototype.constructor=Nn,On.prototype=Object.create(ln.prototype),On.prototype.constructor=On,Rn.prototype=Object.create(en.prototype),Rn.prototype.constructor=Rn,In.prototype=Object.create(Rn.prototype),In.prototype.constructor=In,Bn.prototype=Object.create(Rn.prototype),Bn.prototype.constructor=Bn,Un.prototype=Object.create(Rn.prototype),Un.prototype.constructor=Un,Gn.prototype=Object.create(Rn.prototype),Gn.prototype.constructor=Gn,Kn.prototype=Object.create(en.prototype),Kn.prototype.constructor=Kn,Yn.prototype=Object.create(Kn.prototype),Yn.prototype.constructor=Yn,Qn.prototype=Object.create(Kn.prototype),Qn.prototype.constructor=Qn,wi.prototype=Object.create(vi.prototype),wi.prototype.constructor=wi,zi.prototype=Object.create(vi.prototype),zi.prototype.constructor=zi,Ci.prototype=Object.create(vi.prototype),Ci.prototype.constructor=Ci,Si.prototype=Object.create(vi.prototype),Si.prototype.constructor=Si,ki.prototype=Object.create(vi.prototype),ki.prototype.constructor=ki,Li.prototype=Object.create(xi.prototype),Li.prototype.constructor=Li,ji.prototype=Object.create(xi.prototype),ji.prototype.constructor=ji,Pi.prototype=Object.create(Ni.prototype),Pi.prototype.constructor=Pi,Ti.prototype=Object.create(Ni.prototype),Ti.prototype.constructor=Ti,Ei.prototype=Object.create(Pi.prototype),Ei.prototype.constructor=Ei,Mi.prototype=Object.create(Pi.prototype),Mi.prototype.constructor=Mi,Ri.prototype=Object.create(Pi.prototype),Ri.prototype.constructor=Ri,Ii.prototype=Object.create(Pi.prototype),Ii.prototype.constructor=Ii,Ai.prototype=Object.create(Pi.prototype),Ai.prototype.constructor=Ai,Di.prototype=Object.create(Ti.prototype),Di.prototype.constructor=Di,Bi.prototype=Object.create(Ti.prototype),Bi.prototype.constructor=Bi,Zi.prototype=Object.create(Ei.prototype),Zi.prototype.constructor=Zi,to.prototype=Object.create(Oi.prototype),to.prototype.constructor=to,eo.prototype=Object.create(Ei.prototype),eo.prototype.constructor=eo,oo.prototype=Object.create(Oi.prototype),oo.prototype.constructor=oo,ro.prototype=Object.create(Ei.prototype),ro.prototype.constructor=ro,lo.prototype=Object.create(Oi.prototype),lo.prototype.constructor=lo,po.prototype=Object.create(Ei.prototype),po.prototype.constructor=po,_o.prototype=Object.create(Oi.prototype),_o.prototype.constructor=_o,ho.prototype=Object.create(Ei.prototype),ho.prototype.constructor=ho,yo.prototype=Object.create(Oi.prototype),yo.prototype.constructor=yo,$o.prototype=Object.create(Ei.prototype),$o.prototype.constructor=$o,vo.prototype=Object.create(Oi.prototype),vo.prototype.constructor=vo,xo.prototype=Object.create(Ei.prototype),xo.prototype.constructor=xo,Co.prototype=Object.create(Oi.prototype),Co.prototype.constructor=Co,So.prototype=Object.create(Ei.prototype),So.prototype.constructor=So,No.prototype=Object.create(Oi.prototype),No.prototype.constructor=No,hr.prototype=Object.create(_r.prototype),hr.prototype.constructor=hr,fr.prototype=Object.create(dr.prototype),fr.prototype.constructor=fr,yr.prototype=Object.create(mr.prototype),yr.prototype.constructor=yr,br.prototype=Object.create(mr.prototype),br.prototype.constructor=br,xr.prototype=Object.create(vr.prototype),xr.prototype.constructor=xr,oe.$metadata$={kind:s,simpleName:"KSerializer",interfaces:[se,re]},re.$metadata$={kind:s,simpleName:"SerializationStrategy",interfaces:[]},se.$metadata$={kind:s,simpleName:"DeserializationStrategy",interfaces:[]},pe.prototype.sourceIterator=function(){return this.this$groupingBy.iterator()},pe.prototype.keyOf_11rb$=function(t){return this.closure$keySelector(t)},pe.$metadata$={kind:i,interfaces:[_]},Object.defineProperty(ue.prototype,"baseClass",{get:function(){return this.baseClass_a0a98o$_0}}),Object.defineProperty(ue.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_gganzq$_0}}),ue.prototype.findPolymorphicSerializerOrNull_ca6uye$=function(t,n){var i,o,s=this.serialName2Serializer_0;return null!=(i=(e.isType(o=s,y)?o:r()).get_11rb$(n))?i:$i.prototype.findPolymorphicSerializerOrNull_ca6uye$.call(this,t,n)},ue.prototype.findPolymorphicSerializerOrNull_kjsxpj$=function(t,n){var i,o,s;return null!=(o=null!=(i=this.class2Serializer_0.get_11rb$(e.getKClassFromExpression(n)))?i:$i.prototype.findPolymorphicSerializerOrNull_kjsxpj$.call(this,t,n))?e.isType(s=o,re)?s:r():null},ue.$metadata$={kind:i,simpleName:"SealedClassSerializer",interfaces:[$i]},_e.$metadata$={kind:s,simpleName:"SerialFormat",interfaces:[]},he.$metadata$={kind:s,simpleName:"StringFormat",interfaces:[_e]},de.$metadata$={kind:i,simpleName:"SerializationException",interfaces:[$]},me.$metadata$={kind:i,simpleName:"MissingFieldException",interfaces:[de]},ye.$metadata$={kind:i,simpleName:"UnknownFieldException",interfaces:[de]},We.prototype.iterator=function(){return this.closure$iterator()},We.$metadata$={kind:i,interfaces:[q]},Object.defineProperty(Ge.prototype,"isNullable",{configurable:!0,get:function(){return!1}}),Object.defineProperty(Ge.prototype,"annotations",{configurable:!0,get:function(){return D()}}),Ge.$metadata$={kind:s,simpleName:"SerialDescriptor",interfaces:[]},He.prototype.hasNext=function(){return this.elementsLeft_0>0},He.prototype.next=function(){var t,e,n;return n=this.this$elementDescriptors.elementsCount,t=this.elementsLeft_0,this.elementsLeft_0=t-1|0,e=t,this.this$elementDescriptors.getElementDescriptor_za3lpa$(n-e|0)},He.$metadata$={kind:i,interfaces:[F]},Qe.prototype.element_vxrguq$=function(t,e,n,i){if(void 0===n&&(n=D()),void 0===i&&(i=!1),!this.uniqueNames_0.add_11rb$(t))throw p(("Element with name '"+t+"' is already registered").toString());this.elementNames_8be2vx$.add_11rb$(t),this.elementDescriptors_8be2vx$.add_11rb$(e),this.elementAnnotations_8be2vx$.add_11rb$(n),this.elementOptionality_8be2vx$.add_11rb$(i)},Qe.$metadata$={kind:i,simpleName:"ClassSerialDescriptorBuilder",interfaces:[]},Object.defineProperty(tn.prototype,"serialName",{get:function(){return this.serialName_btmdyn$_0}}),Object.defineProperty(tn.prototype,"kind",{get:function(){return this.kind_589tly$_0}}),Object.defineProperty(tn.prototype,"elementsCount",{get:function(){return this.elementsCount_wewqc2$_0}}),Object.defineProperty(tn.prototype,"annotations",{configurable:!0,get:function(){return this.annotations_efqcf6$_0}}),Object.defineProperty(tn.prototype,"_hashCode_0",{configurable:!0,get:function(){return this._hashCode_6e2cwc$_0.value}}),tn.prototype.getElementName_za3lpa$=function(t){return Cr(this.elementNames_0,t)},tn.prototype.getElementIndex_61zpoe$=function(t){var e;return null!=(e=this.name2Index_0.get_11rb$(t))?e:-3},tn.prototype.getElementAnnotations_za3lpa$=function(t){return Cr(this.elementAnnotations_0,t)},tn.prototype.getElementDescriptor_za3lpa$=function(t){return Cr(this.elementDescriptors_0,t)},tn.prototype.isElementOptional_za3lpa$=function(t){return Sr(this.elementOptionality_0,t)},tn.prototype.equals=function(t){var n;t:do{var i;if(this===t){n=!0;break t}if(!e.isType(t,tn)){n=!1;break t}if(!v(this.serialName,t.serialName)){n=!1;break t}if(!G(this.typeParametersDescriptors_0,t.typeParametersDescriptors_0)){n=!1;break t}if(this.elementsCount!==t.elementsCount){n=!1;break t}i=this.elementsCount;for(var o=0;o<i;o++){if(!v(this.getElementDescriptor_za3lpa$(o).serialName,t.getElementDescriptor_za3lpa$(o).serialName)){n=!1;break t}if(!v(this.getElementDescriptor_za3lpa$(o).kind,t.getElementDescriptor_za3lpa$(o).kind)){n=!1;break t}}n=!0}while(0);return n},tn.prototype.hashCode=function(){return this._hashCode_0},tn.prototype.toString=function(){return X(H(0,this.elementsCount),", ",this.serialName+"(",")",void 0,void 0,(t=this,function(e){return t.getElementName_za3lpa$(e)+": "+t.getElementDescriptor_za3lpa$(e).serialName}));var t},tn.$metadata$={kind:i,simpleName:"SerialDescriptorImpl",interfaces:[Ge]},nn.$metadata$={kind:A,simpleName:"ENUM",interfaces:[en]};var on=null;function rn(){sn=this,en.call(this)}rn.$metadata$={kind:A,simpleName:"CONTEXTUAL",interfaces:[en]};var sn=null;function an(){return null===sn&&new rn,sn}function ln(){en.call(this)}function pn(){un=this,ln.call(this)}en.prototype.toString=function(){return tt(e.getKClassFromExpression(this).simpleName)},en.prototype.hashCode=function(){return B(this.toString())},en.$metadata$={kind:i,simpleName:"SerialKind",interfaces:[]},pn.$metadata$={kind:A,simpleName:"BOOLEAN",interfaces:[ln]};var un=null;function cn(){return null===un&&new pn,un}function _n(){hn=this,ln.call(this)}_n.$metadata$={kind:A,simpleName:"BYTE",interfaces:[ln]};var hn=null;function dn(){return null===hn&&new _n,hn}function fn(){mn=this,ln.call(this)}fn.$metadata$={kind:A,simpleName:"CHAR",interfaces:[ln]};var mn=null;function yn(){return null===mn&&new fn,mn}function $n(){bn=this,ln.call(this)}$n.$metadata$={kind:A,simpleName:"SHORT",interfaces:[ln]};var bn=null;function gn(){return null===bn&&new $n,bn}function vn(){xn=this,ln.call(this)}vn.$metadata$={kind:A,simpleName:"INT",interfaces:[ln]};var xn=null;function wn(){return null===xn&&new vn,xn}function zn(){Cn=this,ln.call(this)}zn.$metadata$={kind:A,simpleName:"LONG",interfaces:[ln]};var Cn=null;function Sn(){return null===Cn&&new zn,Cn}function kn(){Ln=this,ln.call(this)}kn.$metadata$={kind:A,simpleName:"FLOAT",interfaces:[ln]};var Ln=null;function jn(){return null===Ln&&new kn,Ln}function Nn(){Pn=this,ln.call(this)}Nn.$metadata$={kind:A,simpleName:"DOUBLE",interfaces:[ln]};var Pn=null;function Tn(){return null===Pn&&new Nn,Pn}function On(){En=this,ln.call(this)}On.$metadata$={kind:A,simpleName:"STRING",interfaces:[ln]};var En=null;function Mn(){return null===En&&new On,En}function Rn(){en.call(this)}function In(){An=this,Rn.call(this)}ln.$metadata$={kind:i,simpleName:"PrimitiveKind",interfaces:[en]},In.$metadata$={kind:A,simpleName:"CLASS",interfaces:[Rn]};var An=null;function Dn(){return null===An&&new In,An}function Bn(){Fn=this,Rn.call(this)}Bn.$metadata$={kind:A,simpleName:"LIST",interfaces:[Rn]};var Fn=null;function qn(){return null===Fn&&new Bn,Fn}function Un(){Vn=this,Rn.call(this)}Un.$metadata$={kind:A,simpleName:"MAP",interfaces:[Rn]};var Vn=null;function Wn(){return null===Vn&&new Un,Vn}function Gn(){Hn=this,Rn.call(this)}Gn.$metadata$={kind:A,simpleName:"OBJECT",interfaces:[Rn]};var Hn=null;function Xn(){return null===Hn&&new Gn,Hn}function Kn(){en.call(this)}function Yn(){Zn=this,Kn.call(this)}Rn.$metadata$={kind:i,simpleName:"StructureKind",interfaces:[en]},Yn.$metadata$={kind:A,simpleName:"SEALED",interfaces:[Kn]};var Zn=null;function Jn(){return null===Zn&&new Yn,Zn}function Qn(){ti=this,Kn.call(this)}Qn.$metadata$={kind:A,simpleName:"OPEN",interfaces:[Kn]};var ti=null;function ei(){}function ni(){}function ii(){}function oi(){fi()}function ri(){di=this,this.DECODE_DONE=-1,this.UNKNOWN_NAME=-3}Kn.$metadata$={kind:i,simpleName:"PolymorphicKind",interfaces:[en]},ei.prototype.decodeValue=function(){throw fe(e.getKClassFromExpression(this).toString()+" can't retrieve untyped values")},ei.prototype.decodeNotNullMark=function(){return!0},ei.prototype.decodeNull=function(){return null},ei.prototype.decodeBoolean=function(){var t;return"boolean"==typeof(t=this.decodeValue())?t:r()},ei.prototype.decodeByte=function(){var t;return"number"==typeof(t=this.decodeValue())?t:r()},ei.prototype.decodeShort=function(){var t;return"number"==typeof(t=this.decodeValue())?t:r()},ei.prototype.decodeInt=function(){var t;return"number"==typeof(t=this.decodeValue())?t:r()},ei.prototype.decodeLong=function(){var t;return e.isType(t=this.decodeValue(),e.Long)?t:r()},ei.prototype.decodeFloat=function(){var t;return"number"==typeof(t=this.decodeValue())?t:r()},ei.prototype.decodeDouble=function(){var t;return"number"==typeof(t=this.decodeValue())?t:r()},ei.prototype.decodeChar=function(){var t;return e.isChar(t=this.decodeValue())?t:r()},ei.prototype.decodeString=function(){var t;return"string"==typeof(t=this.decodeValue())?t:r()},ei.prototype.decodeEnum_24f42q$=function(t){var e;return"number"==typeof(e=this.decodeValue())?e:r()},ei.prototype.decodeSerializableValue_19c8k5$$default=function(t,e){return this.decodeSerializableValue_w63s0f$(t)},ei.prototype.decodeSerializableValue_19c8k5$=function(t,e,n){return void 0===e&&(e=null),n?n(t,e):this.decodeSerializableValue_19c8k5$$default(t,e)},ei.prototype.beginStructure_24f42q$=function(t){return this},ei.prototype.endStructure_24f42q$=function(t){},ei.prototype.decodeBooleanElement_szpzho$=function(t,e){return this.decodeBoolean()},ei.prototype.decodeByteElement_szpzho$=function(t,e){return this.decodeByte()},ei.prototype.decodeShortElement_szpzho$=function(t,e){return this.decodeShort()},ei.prototype.decodeIntElement_szpzho$=function(t,e){return this.decodeInt()},ei.prototype.decodeLongElement_szpzho$=function(t,e){return this.decodeLong()},ei.prototype.decodeFloatElement_szpzho$=function(t,e){return this.decodeFloat()},ei.prototype.decodeDoubleElement_szpzho$=function(t,e){return this.decodeDouble()},ei.prototype.decodeCharElement_szpzho$=function(t,e){return this.decodeChar()},ei.prototype.decodeStringElement_szpzho$=function(t,e){return this.decodeString()},ei.prototype.decodeSerializableElement_12e8id$$default=function(t,e,n,i){return this.decodeSerializableValue_19c8k5$(n,i)},ei.prototype.decodeNullableSerializableElement_8viuyw$$default=function(t,e,n,i){return n.descriptor.isNullable||this.decodeNotNullMark()?this.decodeSerializableValue_19c8k5$(n,i):this.decodeNull()},ei.$metadata$={kind:i,simpleName:"AbstractDecoder",interfaces:[oi,ii]},ni.prototype.beginStructure_24f42q$=function(t){return this},ni.prototype.endStructure_24f42q$=function(t){},ni.prototype.encodeElement_szpzho$=function(t,e){return!0},ni.prototype.encodeValue_za3rmp$=function(t){throw fe("Non-serializable "+e.getKClassFromExpression(t)+" is not supported by "+e.getKClassFromExpression(this)+" encoder")},ni.prototype.encodeNull=function(){throw fe("'null' is not supported by default")},ni.prototype.encodeBoolean_6taknv$=function(t){this.encodeValue_za3rmp$(t)},ni.prototype.encodeByte_s8j3t7$=function(t){this.encodeValue_za3rmp$(t)},ni.prototype.encodeShort_mq22fl$=function(t){this.encodeValue_za3rmp$(t)},ni.prototype.encodeInt_za3lpa$=function(t){this.encodeValue_za3rmp$(t)},ni.prototype.encodeLong_s8cxhz$=function(t){this.encodeValue_za3rmp$(t)},ni.prototype.encodeFloat_mx4ult$=function(t){this.encodeValue_za3rmp$(t)},ni.prototype.encodeDouble_14dthe$=function(t){this.encodeValue_za3rmp$(t)},ni.prototype.encodeChar_s8itvh$=function(t){this.encodeValue_za3rmp$(et(t))},ni.prototype.encodeString_61zpoe$=function(t){this.encodeValue_za3rmp$(t)},ni.prototype.encodeEnum_szpzho$=function(t,e){this.encodeValue_za3rmp$(e)},ni.prototype.encodeBooleanElement_qh7jdn$=function(t,e,n){this.encodeElement_szpzho$(t,e)&&this.encodeBoolean_6taknv$(n)},ni.prototype.encodeByteElement_j0u8y3$=function(t,e,n){this.encodeElement_szpzho$(t,e)&&this.encodeByte_s8j3t7$(n)},ni.prototype.encodeShortElement_l83pjl$=function(t,e,n){this.encodeElement_szpzho$(t,e)&&this.encodeShort_mq22fl$(n)},ni.prototype.encodeIntElement_ptg7oe$=function(t,e,n){this.encodeElement_szpzho$(t,e)&&this.encodeInt_za3lpa$(n)},ni.prototype.encodeLongElement_j0o2mv$=function(t,e,n){this.encodeElement_szpzho$(t,e)&&this.encodeLong_s8cxhz$(n)},ni.prototype.encodeFloatElement_lf6hpt$=function(t,e,n){this.encodeElement_szpzho$(t,e)&&this.encodeFloat_mx4ult$(n)},ni.prototype.encodeDoubleElement_powrwi$=function(t,e,n){this.encodeElement_szpzho$(t,e)&&this.encodeDouble_14dthe$(n)},ni.prototype.encodeCharElement_j0tz0d$=function(t,e,n){this.encodeElement_szpzho$(t,e)&&this.encodeChar_s8itvh$(n)},ni.prototype.encodeStringElement_iij8qq$=function(t,e,n){this.encodeElement_szpzho$(t,e)&&this.encodeString_61zpoe$(n)},ni.prototype.encodeSerializableElement_r4qlx7$=function(t,e,n,i){this.encodeElement_szpzho$(t,e)&&this.encodeSerializableValue_tf03ej$(n,i)},ni.prototype.encodeNullableSerializableElement_qw92s8$=function(t,e,n,i){this.encodeElement_szpzho$(t,e)&&this.encodeNullableSerializableValue_f4686g$(n,i)},ni.$metadata$={kind:i,simpleName:"AbstractEncoder",interfaces:[yi,mi]},ii.prototype.decodeSerializableValue_w63s0f$=function(t){return t.deserialize_bq71mq$(this)},ii.prototype.decodeNullableSerializableValue_aae3ea$=function(t){return t.descriptor.isNullable||this.decodeNotNullMark()?this.decodeSerializableValue_w63s0f$(t):this.decodeNull()},ii.$metadata$={kind:s,simpleName:"Decoder",interfaces:[]},ri.$metadata$={kind:A,simpleName:"Companion",interfaces:[]};var si,ai,li,pi,ui,ci,_i,hi,di=null;function fi(){return null===di&&new ri,di}function mi(){}function yi(){}function $i(){}function bi(t,e){var n="in the scope of '"+a(e.simpleName)+"'";throw fe(null==t?"Class discriminator was missing and no default polymorphic serializers were registered "+n:"Class '"+a(t)+"' is not registered for polymorphic serialization "+n+".\nMark the base class as 'sealed' or register the serializer explicitly.")}function gi(t,e){var n;return bi(null!=(n=t.simpleName)?n:t.toString(),e)}function vi(t){this.elementDescriptor=t,this.elementsCount_axr0xc$_0=1}function xi(t,e,n){this.serialName_ra35nx$_0=t,this.keyDescriptor=e,this.valueDescriptor=n,this.elementsCount_qp2ocq$_0=2}function wi(t){vi.call(this,t),this.serialName_reprdi$_0=t.serialName+"Array"}function zi(t){vi.call(this,t)}function Ci(t){vi.call(this,t)}function Si(t){vi.call(this,t)}function ki(t){vi.call(this,t)}function Li(t,e){xi.call(this,ui,t,e)}function ji(t,e){xi.call(this,ci,t,e)}function Ni(){}function Pi(t){Ni.call(this),this.elementSerializer_0=t}function Ti(t,e){Ni.call(this),this.keySerializer=t,this.valueSerializer=e}function Oi(){}function Ei(t){Pi.call(this,t),this.descriptor_o3qkn1$_0=new wi(t.descriptor)}function Mi(t,e){Pi.call(this,e),this.kClass_0=t,this.descriptor_8482jr$_0=new zi(e.descriptor)}function Ri(t){Pi.call(this,t),this.descriptor_7uwoa2$_0=new Ci(t.descriptor)}function Ii(t){Pi.call(this,t),this.descriptor_vnfc7m$_0=new Si(t.descriptor)}function Ai(t){Pi.call(this,t),this.descriptor_yqpz47$_0=new ki(t.descriptor)}function Di(t,e){Ti.call(this,t,e),this.descriptor_pixp0o$_0=new Li(t.descriptor,e.descriptor)}function Bi(t,e){Ti.call(this,t,e),this.descriptor_kvyydd$_0=new ji(t.descriptor,e.descriptor)}function Fi(t){this.serializer_0=t,this.descriptor_kbvl2k$_0=new qi(this.serializer_0.descriptor)}function qi(t){this.original_8be2vx$=t,this.serialName_szvoqg$_0=this.original_8be2vx$.serialName+"?"}function Ui(t,e){this.objectInstance_0=e,this.descriptor_uhy216$_0=Je(t,Xn(),[])}function Vi(t){var n;if(e.isType(t,Hi))return t.namesSet_8be2vx$;var i=ft(t.elementsCount);n=t.elementsCount;for(var o=0;o<n;o++){var r=t.getElementName_za3lpa$(o);i.add_11rb$(r)}return i}function Wi(t){var e,n;return null!=(n=null!=(e=null==t||t.isEmpty()?null:t)?I(e):null)?n:_i}function Gi(t){var n,i,o=t.classifier;if(!e.isType(o,E))throw d(("Only KClass supported as classifier, got "+a(o)).toString());return n=o,e.isType(i=n,E)?i:r()}function Hi(t,n,i){void 0===n&&(n=null),this.serialName_igazkg$_0=t,this.generatedSerializer_0=n,this.elementsCount_qx3iur$_0=i,this.added_0=-1;var o,r,s=dt(this.elementsCount);o=s.length-1|0;for(var a=0;a<=o;a++)s[a]="[UNINITIALIZED]";this.names_0=s,this.propertiesAnnotations_0=e.newArray(this.elementsCount,null),this.classAnnotations_0=null,this.elementsOptionality_0=e.booleanArray(this.elementsCount),this.indices_73aj4y$_0=J((r=this,function(){return r.buildIndices_0()})),this.childSerializers_am32qy$_0=J(function(t){return function(){var e,n;return null!=(n=null!=(e=t.generatedSerializer_0)?e.childSerializers():null)?n:[]}}(this)),this.typeParameterDescriptors_ggwkl6$_0=J(function(t){return function(){var e,n,i;if(null!=(n=null!=(e=t.generatedSerializer_0)?e.typeParametersSerializers():null)){var o,r=R(n.length);for(o=0;o!==n.length;++o){var s=n[o];r.add_11rb$(s.descriptor)}i=r}else i=null;return Wi(i)}}(this)),this._hashCode_61j445$_0=J(function(t){return function(){return Xi(t,t.typeParameterDescriptors_0)}}(this))}function Xi(t,e){var n=B(t.serialName);n=(31*n|0)+mt(e)|0;var i,o=Xe(t),r=1;for(i=o.iterator();i.hasNext();){var s,a=31*r|0,l=i.next().serialName;r=a+(null!=(s=null!=l?B(l):null)?s:0)|0}var p,u=r,c=1;for(p=o.iterator();p.hasNext();){var _,h=31*c|0,d=p.next().kind;c=h+(null!=(_=null!=d?B(d):null)?_:0)|0}return n=(31*(n=(31*n|0)+u|0)|0)+c|0}function Ki(){}function Yi(){}function Zi(){Ji=this,Ei.call(this,Le())}oi.prototype.decodeSequentially=function(){return!1},oi.prototype.decodeCollectionSize_24f42q$=function(t){return-1},oi.prototype.decodeSerializableElement_12e8id$=function(t,e,n,i,o){return void 0===i&&(i=null),o?o(t,e,n,i):this.decodeSerializableElement_12e8id$$default(t,e,n,i)},oi.prototype.decodeNullableSerializableElement_8viuyw$=function(t,e,n,i,o){return void 0===i&&(i=null),o?o(t,e,n,i):this.decodeNullableSerializableElement_8viuyw$$default(t,e,n,i)},oi.prototype.decodeSerializableElement_186mnl$=function(t,e,n){return this.decodeSerializableElement_12e8id$(t,e,n,null)},oi.prototype.decodeNullableSerializableElement_pzkbua$=function(t,e,n){return this.decodeNullableSerializableElement_8viuyw$(t,e,n,null)},oi.$metadata$={kind:s,simpleName:"CompositeDecoder",interfaces:[]},mi.prototype.encodeNotNullMark=function(){},mi.prototype.beginCollection_szpzho$=function(t,e){return this.beginStructure_24f42q$(t)},mi.prototype.encodeSerializableValue_tf03ej$=function(t,e){t.serialize_55azsf$(this,e)},mi.prototype.encodeNullableSerializableValue_f4686g$=function(t,n){var i;if(t.descriptor.isNullable)return this.encodeSerializableValue_tf03ej$(e.isType(i=t,re)?i:r(),n);null==n?this.encodeNull():(this.encodeNotNullMark(),this.encodeSerializableValue_tf03ej$(t,n))},mi.$metadata$={kind:s,simpleName:"Encoder",interfaces:[]},yi.prototype.shouldEncodeElementDefault_szpzho$=function(t,e){return!0},yi.$metadata$={kind:s,simpleName:"CompositeEncoder",interfaces:[]},$i.prototype.serialize_55azsf$=function(t,n){var i=le(this,t,n),o=this.descriptor,s=t.beginStructure_24f42q$(o);try{var a;s.encodeStringElement_iij8qq$(this.descriptor,0,i.descriptor.serialName),s.encodeSerializableElement_r4qlx7$(this.descriptor,1,e.isType(a=i,re)?a:r(),n)}finally{s.endStructure_24f42q$(o)}},$i.prototype.deserialize_bq71mq$=function(t){var n,i=this.descriptor,o=t.beginStructure_24f42q$(i);try{var s,l,u={v:null},c=null;if(o.decodeSequentially())return this.decodeSequentially_j3xsyv$_0(o);t:for(;;){var _=o.decodeElementIndex_24f42q$(this.descriptor);switch(_){case-1:break t;case 0:u.v=o.decodeStringElement_szpzho$(this.descriptor,_);break;case 1:var h,d=u.v;if(null==d)throw p("Cannot read polymorphic value before its type token".toString());h=d,u.v=h;var f=ae(this,o,u.v);c=o.decodeSerializableElement_12e8id$(this.descriptor,_,f);break;default:throw fe("Invalid index in polymorphic deserialization of "+(null!=(s=u.v)?s:"unknown class")+"\n Expected 0, 1 or DECODE_DONE(-1), but found "+_)}}var m,y=c;if(null==y){var $="Polymorphic value has not been read for class "+a(u.v);throw p($.toString())}m=y,n=e.isType(l=m,nt)?l:r()}finally{o.endStructure_24f42q$(i)}return n},$i.prototype.decodeSequentially_j3xsyv$_0=function(t){var e=t.decodeStringElement_szpzho$(this.descriptor,0),n=ae(this,t,e);return t.decodeSerializableElement_12e8id$(this.descriptor,1,n)},$i.prototype.findPolymorphicSerializerOrNull_ca6uye$=function(t,e){return t.serializersModule.getPolymorphic_l2fy3k$(this.baseClass,e)},$i.prototype.findPolymorphicSerializerOrNull_kjsxpj$=function(t,e){return t.serializersModule.getPolymorphic_joiicr$(this.baseClass,e)},$i.$metadata$={kind:i,simpleName:"AbstractPolymorphicSerializer",interfaces:[oe]},Object.defineProperty(vi.prototype,"kind",{configurable:!0,get:function(){return qn()}}),Object.defineProperty(vi.prototype,"elementsCount",{configurable:!0,get:function(){return this.elementsCount_axr0xc$_0}}),vi.prototype.getElementName_za3lpa$=function(t){return t.toString()},vi.prototype.getElementIndex_61zpoe$=function(t){var e;if(null==(e=it(t)))throw p(t+" is not a valid list index");return e},vi.prototype.isElementOptional_za3lpa$=function(t){if(!(t>=0)){var e="Illegal index "+t+", "+this.serialName+" expects only non-negative indices";throw p(e.toString())}return!1},vi.prototype.getElementAnnotations_za3lpa$=function(t){if(!(t>=0)){var e="Illegal index "+t+", "+this.serialName+" expects only non-negative indices";throw p(e.toString())}return D()},vi.prototype.getElementDescriptor_za3lpa$=function(t){if(!(t>=0)){var e="Illegal index "+t+", "+this.serialName+" expects only non-negative indices";throw p(e.toString())}return this.elementDescriptor},vi.prototype.equals=function(t){return this===t||!!e.isType(t,vi)&&!(!v(this.elementDescriptor,t.elementDescriptor)||!v(this.serialName,t.serialName))},vi.prototype.hashCode=function(){return(31*B(this.elementDescriptor)|0)+B(this.serialName)|0},vi.prototype.toString=function(){return this.serialName+"("+this.elementDescriptor+")"},vi.$metadata$={kind:i,simpleName:"ListLikeDescriptor",interfaces:[Ge]},Object.defineProperty(xi.prototype,"serialName",{get:function(){return this.serialName_ra35nx$_0}}),Object.defineProperty(xi.prototype,"kind",{configurable:!0,get:function(){return Wn()}}),Object.defineProperty(xi.prototype,"elementsCount",{configurable:!0,get:function(){return this.elementsCount_qp2ocq$_0}}),xi.prototype.getElementName_za3lpa$=function(t){return t.toString()},xi.prototype.getElementIndex_61zpoe$=function(t){var e;if(null==(e=it(t)))throw p(t+" is not a valid map index");return e},xi.prototype.isElementOptional_za3lpa$=function(t){if(!(t>=0)){var e="Illegal index "+t+", "+this.serialName+" expects only non-negative indices";throw p(e.toString())}return!1},xi.prototype.getElementAnnotations_za3lpa$=function(t){if(!(t>=0)){var e="Illegal index "+t+", "+this.serialName+" expects only non-negative indices";throw p(e.toString())}return D()},xi.prototype.getElementDescriptor_za3lpa$=function(t){var e;if(!(t>=0)){var n="Illegal index "+t+", "+this.serialName+" expects only non-negative indices";throw p(n.toString())}switch(t%2){case 0:e=this.keyDescriptor;break;case 1:e=this.valueDescriptor;break;default:throw d("Unreached".toString())}return e},xi.prototype.equals=function(t){return this===t||!!e.isType(t,xi)&&!!v(this.serialName,t.serialName)&&!!v(this.keyDescriptor,t.keyDescriptor)&&!!v(this.valueDescriptor,t.valueDescriptor)},xi.prototype.hashCode=function(){var t=B(this.serialName);return t=(31*(t=(31*t|0)+B(this.keyDescriptor)|0)|0)+B(this.valueDescriptor)|0},xi.prototype.toString=function(){return this.serialName+"("+this.keyDescriptor+", "+this.valueDescriptor+")"},xi.$metadata$={kind:i,simpleName:"MapLikeDescriptor",interfaces:[Ge]},Object.defineProperty(wi.prototype,"serialName",{configurable:!0,get:function(){return this.serialName_reprdi$_0}}),wi.$metadata$={kind:i,simpleName:"PrimitiveArrayDescriptor",interfaces:[vi]},Object.defineProperty(zi.prototype,"serialName",{configurable:!0,get:function(){return si}}),zi.$metadata$={kind:i,simpleName:"ArrayClassDesc",interfaces:[vi]},Object.defineProperty(Ci.prototype,"serialName",{configurable:!0,get:function(){return ai}}),Ci.$metadata$={kind:i,simpleName:"ArrayListClassDesc",interfaces:[vi]},Object.defineProperty(Si.prototype,"serialName",{configurable:!0,get:function(){return li}}),Si.$metadata$={kind:i,simpleName:"LinkedHashSetClassDesc",interfaces:[vi]},Object.defineProperty(ki.prototype,"serialName",{configurable:!0,get:function(){return pi}}),ki.$metadata$={kind:i,simpleName:"HashSetClassDesc",interfaces:[vi]},Li.$metadata$={kind:i,simpleName:"LinkedHashMapClassDesc",interfaces:[xi]},ji.$metadata$={kind:i,simpleName:"HashMapClassDesc",interfaces:[xi]},Ni.prototype.merge_h7kg3q$=function(t,e){var n,i=null!=(n=null!=e?this.toBuilder_wikn$(e):null)?n:this.builder(),o=this.builderSize_wili$(i),r=t.beginStructure_24f42q$(this.descriptor);if(r.decodeSequentially())this.readAll_8oyp34$(r,i,o,this.readSize_bl0yv7$_0(r,i));else for(;;){var s=r.decodeElementIndex_24f42q$(this.descriptor);if(-1===s)break;this.readElement_8pvye7$(r,o+s|0,i)}return r.endStructure_24f42q$(this.descriptor),this.toResult_wili$(i)},Ni.prototype.deserialize_bq71mq$=function(t){return this.merge_h7kg3q$(t,null)},Ni.prototype.readSize_bl0yv7$_0=function(t,e){var n=t.decodeCollectionSize_24f42q$(this.descriptor);return this.checkCapacity_rk7bw8$(e,n),n},Ni.prototype.readElement_8pvye7$=function(t,e,n,i,o){void 0===i&&(i=!0),o?o(t,e,n,i):this.readElement_8pvye7$$default(t,e,n,i)},Ni.$metadata$={kind:i,simpleName:"AbstractCollectionSerializer",interfaces:[oe]},Pi.prototype.serialize_55azsf$=function(t,e){for(var n=this.collectionSize_wikn$(e),i=t.beginCollection_szpzho$(this.descriptor,n),o=this.collectionIterator_wikn$(e),r=0;r<n;r++)i.encodeSerializableElement_r4qlx7$(this.descriptor,r,this.elementSerializer_0,o.next());i.endStructure_24f42q$(this.descriptor)},Pi.prototype.readAll_8oyp34$=function(t,e,n,i){if(!(i>=0))throw p("Size must be known in advance when using READ_ALL".toString());for(var o=0;o<i;o++)this.readElement_8pvye7$(t,n+o|0,e,!1)},Pi.prototype.readElement_8pvye7$$default=function(t,e,n,i){this.insert_p422l$(n,e,t.decodeSerializableElement_12e8id$(this.descriptor,e,this.elementSerializer_0))},Pi.$metadata$={kind:i,simpleName:"ListLikeSerializer",interfaces:[Ni]},Ti.prototype.readAll_8oyp34$=function(t,e,n,i){var o;if(!(i>=0))throw p("Size must be known in advance when using READ_ALL".toString());o=2*i|0;for(var r=0;r<o;r+=2)this.readElement_8pvye7$(t,n+r|0,e,!1)},Ti.prototype.readElement_8pvye7$$default=function(t,n,i,o){var r,s=t.decodeSerializableElement_12e8id$(this.descriptor,n,this.keySerializer);if(o){var a=t.decodeElementIndex_24f42q$(this.descriptor);if(a!==(n+1|0))throw p(("Value must follow key in a map, index for key: "+n+", returned index for value: "+a).toString());r=a}else r=n+1|0;var l=r,u=i.containsKey_11rb$(s)&&!e.isType(this.valueSerializer.descriptor.kind,ln)?t.decodeSerializableElement_12e8id$(this.descriptor,l,this.valueSerializer,ot(i,s)):t.decodeSerializableElement_12e8id$(this.descriptor,l,this.valueSerializer);i.put_xwzc9p$(s,u)},Ti.prototype.serialize_55azsf$=function(t,e){for(var n=this.collectionSize_wikn$(e),i=t.beginCollection_szpzho$(this.descriptor,n),o=this.collectionIterator_wikn$(e),r={v:0};o.hasNext();){var s,a,l=o.next(),p=l.key,u=l.value;i.encodeSerializableElement_r4qlx7$(this.descriptor,(s=r.v,r.v=s+1|0,s),this.keySerializer,p),i.encodeSerializableElement_r4qlx7$(this.descriptor,(a=r.v,r.v=a+1|0,a),this.valueSerializer,u)}i.endStructure_24f42q$(this.descriptor)},Ti.$metadata$={kind:i,simpleName:"MapLikeSerializer",interfaces:[Ni]},Oi.prototype.ensureCapacity_za3lpa$=function(t,e){void 0===t&&(t=this.position+1|0),e?e(t):this.ensureCapacity_za3lpa$$default(t)},Oi.$metadata$={kind:i,simpleName:"PrimitiveArrayBuilder",interfaces:[]},Object.defineProperty(Ei.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_o3qkn1$_0}}),Ei.prototype.builderSize_wili$=function(t){return t.position},Ei.prototype.toResult_wili$=function(t){return t.build()},Ei.prototype.checkCapacity_rk7bw8$=function(t,e){t.ensureCapacity_za3lpa$(e)},Ei.prototype.collectionIterator_wikn$=function(t){throw d("This method lead to boxing and must not be used, use writeContents instead".toString())},Ei.prototype.insert_p422l$=function(t,e,n){throw d("This method lead to boxing and must not be used, use Builder.append instead".toString())},Ei.prototype.builder=function(){return this.toBuilder_wikn$(this.empty())},Ei.prototype.serialize_55azsf$=function(t,e){var n=this.collectionSize_wikn$(e),i=t.beginCollection_szpzho$(this.descriptor,n);this.writeContent_q3xt5$(i,e,n),i.endStructure_24f42q$(this.descriptor)},Ei.prototype.deserialize_bq71mq$=function(t){return this.merge_h7kg3q$(t,null)},Ei.$metadata$={kind:i,simpleName:"PrimitiveArraySerializer",interfaces:[Pi]},Object.defineProperty(Mi.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_8482jr$_0}}),Mi.prototype.collectionSize_wikn$=function(t){return t.length},Mi.prototype.collectionIterator_wikn$=function(t){return e.arrayIterator(t)},Mi.prototype.builder=function(){return V()},Mi.prototype.builderSize_wili$=function(t){return t.size},Mi.prototype.toResult_wili$=function(t){return Lr(t,this.kClass_0)},Mi.prototype.toBuilder_wikn$=function(t){return st(rt(t))},Mi.prototype.checkCapacity_rk7bw8$=function(t,e){t.ensureCapacity_za3lpa$(e)},Mi.prototype.insert_p422l$=function(t,e,n){t.add_wxm5ur$(e,n)},Mi.$metadata$={kind:i,simpleName:"ReferenceArraySerializer",interfaces:[Pi]},Object.defineProperty(Ri.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_7uwoa2$_0}}),Ri.prototype.collectionSize_wikn$=function(t){return t.size},Ri.prototype.collectionIterator_wikn$=function(t){return t.iterator()},Ri.prototype.builder=function(){return V()},Ri.prototype.builderSize_wili$=function(t){return t.size},Ri.prototype.toResult_wili$=function(t){return t},Ri.prototype.toBuilder_wikn$=function(t){var n,i;return null!=(i=e.isType(n=t,w)?n:null)?i:st(t)},Ri.prototype.checkCapacity_rk7bw8$=function(t,e){t.ensureCapacity_za3lpa$(e)},Ri.prototype.insert_p422l$=function(t,e,n){t.add_wxm5ur$(e,n)},Ri.$metadata$={kind:i,simpleName:"ArrayListSerializer",interfaces:[Pi]},Object.defineProperty(Ii.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_vnfc7m$_0}}),Ii.prototype.collectionSize_wikn$=function(t){return t.size},Ii.prototype.collectionIterator_wikn$=function(t){return t.iterator()},Ii.prototype.builder=function(){return _t()},Ii.prototype.builderSize_wili$=function(t){return t.size},Ii.prototype.toResult_wili$=function(t){return t},Ii.prototype.toBuilder_wikn$=function(t){var n,i;return null!=(i=e.isType(n=t,k)?n:null)?i:at(t)},Ii.prototype.checkCapacity_rk7bw8$=function(t,e){},Ii.prototype.insert_p422l$=function(t,e,n){t.add_11rb$(n)},Ii.$metadata$={kind:i,simpleName:"LinkedHashSetSerializer",interfaces:[Pi]},Object.defineProperty(Ai.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_yqpz47$_0}}),Ai.prototype.collectionSize_wikn$=function(t){return t.size},Ai.prototype.collectionIterator_wikn$=function(t){return t.iterator()},Ai.prototype.builder=function(){return W()},Ai.prototype.builderSize_wili$=function(t){return t.size},Ai.prototype.toResult_wili$=function(t){return t},Ai.prototype.toBuilder_wikn$=function(t){var n,i;return null!=(i=e.isType(n=t,z)?n:null)?i:lt(t)},Ai.prototype.checkCapacity_rk7bw8$=function(t,e){},Ai.prototype.insert_p422l$=function(t,e,n){t.add_11rb$(n)},Ai.$metadata$={kind:i,simpleName:"HashSetSerializer",interfaces:[Pi]},Object.defineProperty(Di.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_pixp0o$_0}}),Di.prototype.collectionSize_wikn$=function(t){return t.size},Di.prototype.collectionIterator_wikn$=function(t){return t.entries.iterator()},Di.prototype.builder=function(){return h()},Di.prototype.builderSize_wili$=function(t){return t.size},Di.prototype.toResult_wili$=function(t){return t},Di.prototype.toBuilder_wikn$=function(t){var n,i;return null!=(i=e.isType(n=t,N)?n:null)?i:pt(t)},Di.prototype.checkCapacity_rk7bw8$=function(t,e){},Di.prototype.insertKeyValuePair_fbr58l$=function(t,e,n,i){t.put_xwzc9p$(n,i)},Di.$metadata$={kind:i,simpleName:"LinkedHashMapSerializer",interfaces:[Ti]},Object.defineProperty(Bi.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_kvyydd$_0}}),Bi.prototype.collectionSize_wikn$=function(t){return t.size},Bi.prototype.collectionIterator_wikn$=function(t){return t.entries.iterator()},Bi.prototype.builder=function(){return ut()},Bi.prototype.builderSize_wili$=function(t){return t.size},Bi.prototype.toResult_wili$=function(t){return t},Bi.prototype.toBuilder_wikn$=function(t){var n,i;return null!=(i=e.isType(n=t,L)?n:null)?i:ct(t)},Bi.prototype.checkCapacity_rk7bw8$=function(t,e){},Bi.prototype.insertKeyValuePair_fbr58l$=function(t,e,n,i){t.put_xwzc9p$(n,i)},Bi.$metadata$={kind:i,simpleName:"HashMapSerializer",interfaces:[Ti]},Object.defineProperty(Fi.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_kbvl2k$_0}}),Fi.prototype.serialize_55azsf$=function(t,e){null!=e?(t.encodeNotNullMark(),t.encodeSerializableValue_tf03ej$(this.serializer_0,e)):t.encodeNull()},Fi.prototype.deserialize_bq71mq$=function(t){return t.decodeNotNullMark()?t.decodeSerializableValue_w63s0f$(this.serializer_0):t.decodeNull()},Fi.prototype.equals=function(t){var n;return this===t||!(null==t||null==(n=e.getKClassFromExpression(this))||!n.equals(e.getKClassFromExpression(t)))&&(e.isType(t,Fi)||r(),!!v(this.serializer_0,t.serializer_0))},Fi.prototype.hashCode=function(){return B(this.serializer_0)},Fi.$metadata$={kind:i,simpleName:"NullableSerializer",interfaces:[oe]},Object.defineProperty(qi.prototype,"serialName",{configurable:!0,get:function(){return this.serialName_szvoqg$_0}}),Object.defineProperty(qi.prototype,"isNullable",{configurable:!0,get:function(){return!0}}),qi.prototype.equals=function(t){return this===t||!!e.isType(t,qi)&&!!v(this.original_8be2vx$,t.original_8be2vx$)},qi.prototype.toString=function(){return this.original_8be2vx$.toString()+"?"},qi.prototype.hashCode=function(){return 31*B(this.original_8be2vx$)|0},Object.defineProperty(qi.prototype,"annotations",{get:function(){return this.original_8be2vx$.annotations}}),Object.defineProperty(qi.prototype,"elementsCount",{get:function(){return this.original_8be2vx$.elementsCount}}),Object.defineProperty(qi.prototype,"kind",{get:function(){return this.original_8be2vx$.kind}}),qi.prototype.getElementAnnotations_za3lpa$=function(t){return this.original_8be2vx$.getElementAnnotations_za3lpa$(t)},qi.prototype.getElementDescriptor_za3lpa$=function(t){return this.original_8be2vx$.getElementDescriptor_za3lpa$(t)},qi.prototype.getElementIndex_61zpoe$=function(t){return this.original_8be2vx$.getElementIndex_61zpoe$(t)},qi.prototype.getElementName_za3lpa$=function(t){return this.original_8be2vx$.getElementName_za3lpa$(t)},qi.prototype.isElementOptional_za3lpa$=function(t){return this.original_8be2vx$.isElementOptional_za3lpa$(t)},qi.$metadata$={kind:i,simpleName:"SerialDescriptorForNullable",interfaces:[Ge]},Object.defineProperty(Ui.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_uhy216$_0}}),Ui.prototype.serialize_55azsf$=function(t,e){t.beginStructure_24f42q$(this.descriptor).endStructure_24f42q$(this.descriptor)},Ui.prototype.deserialize_bq71mq$=function(t){return t.beginStructure_24f42q$(this.descriptor).endStructure_24f42q$(this.descriptor),this.objectInstance_0},Ui.$metadata$={kind:i,simpleName:"ObjectSerializer",interfaces:[oe]},Object.defineProperty(Hi.prototype,"serialName",{get:function(){return this.serialName_igazkg$_0}}),Object.defineProperty(Hi.prototype,"elementsCount",{get:function(){return this.elementsCount_qx3iur$_0}}),Object.defineProperty(Hi.prototype,"kind",{configurable:!0,get:function(){return Dn()}}),Object.defineProperty(Hi.prototype,"annotations",{configurable:!0,get:function(){var t;return null!=(t=this.classAnnotations_0)?t:D()}}),Object.defineProperty(Hi.prototype,"namesSet_8be2vx$",{configurable:!0,get:function(){return this.indices_0.keys}}),Object.defineProperty(Hi.prototype,"indices_0",{configurable:!0,get:function(){return this.indices_73aj4y$_0.value}}),Object.defineProperty(Hi.prototype,"childSerializers_0",{configurable:!0,get:function(){return this.childSerializers_am32qy$_0.value}}),Object.defineProperty(Hi.prototype,"typeParameterDescriptors_0",{configurable:!0,get:function(){return this.typeParameterDescriptors_ggwkl6$_0.value}}),Object.defineProperty(Hi.prototype,"_hashCode_0",{configurable:!0,get:function(){return this._hashCode_61j445$_0.value}}),Hi.prototype.addElement_ivxn3r$=function(t,e){void 0===e&&(e=!1),this.names_0[(this.added_0=this.added_0+1|0,this.added_0)]=t,this.elementsOptionality_0[this.added_0]=e,this.propertiesAnnotations_0[this.added_0]=null},Hi.prototype.pushAnnotation_yj921w$=function(t){var e,n=this.propertiesAnnotations_0[this.added_0];if(null==n){var i=R(1);this.propertiesAnnotations_0[this.added_0]=i,e=i}else e=n;e.add_11rb$(t)},Hi.prototype.pushClassAnnotation_yj921w$=function(t){null==this.classAnnotations_0&&(this.classAnnotations_0=R(1)),tt(this.classAnnotations_0).add_11rb$(t)},Hi.prototype.getElementDescriptor_za3lpa$=function(t){return Cr(this.childSerializers_0,t).descriptor},Hi.prototype.isElementOptional_za3lpa$=function(t){return Sr(this.elementsOptionality_0,t)},Hi.prototype.getElementAnnotations_za3lpa$=function(t){var e;return null!=(e=Cr(this.propertiesAnnotations_0,t))?e:D()},Hi.prototype.getElementName_za3lpa$=function(t){return Cr(this.names_0,t)},Hi.prototype.getElementIndex_61zpoe$=function(t){var e;return null!=(e=this.indices_0.get_11rb$(t))?e:-3},Hi.prototype.buildIndices_0=function(){var t,e=ut();t=this.names_0;for(var n=0;n!==t.length;++n){var i=this.names_0[n];e.put_xwzc9p$(i,n)}return e},Hi.prototype.equals=function(t){var n;t:do{var i;if(this===t){n=!0;break t}if(!e.isType(t,Hi)){n=!1;break t}if(!v(this.serialName,t.serialName)){n=!1;break t}if(!G(this.typeParameterDescriptors_0,t.typeParameterDescriptors_0)){n=!1;break t}if(this.elementsCount!==t.elementsCount){n=!1;break t}i=this.elementsCount;for(var o=0;o<i;o++){if(!v(this.getElementDescriptor_za3lpa$(o).serialName,t.getElementDescriptor_za3lpa$(o).serialName)){n=!1;break t}if(!v(this.getElementDescriptor_za3lpa$(o).kind,t.getElementDescriptor_za3lpa$(o).kind)){n=!1;break t}}n=!0}while(0);return n},Hi.prototype.hashCode=function(){return this._hashCode_0},Hi.prototype.toString=function(){return X(this.indices_0.entries,", ",this.serialName+"(",")",void 0,void 0,(t=this,function(e){return e.key+": "+t.getElementDescriptor_za3lpa$(e.value).serialName}));var t},Hi.$metadata$={kind:i,simpleName:"PluginGeneratedSerialDescriptor",interfaces:[Ge]},Ki.prototype.typeParametersSerializers=function(){return hi},Ki.$metadata$={kind:s,simpleName:"GeneratedSerializer",interfaces:[oe]},Yi.$metadata$={kind:s,simpleName:"SerializerFactory",interfaces:[]},Zi.prototype.collectionSize_wikn$=function(t){return t.length},Zi.prototype.toBuilder_wikn$=function(t){return new to(t)},Zi.prototype.empty=function(){return new Int8Array(0)},Zi.prototype.readElement_8pvye7$$default=function(t,e,n,i){n.append_8e99oo$(t.decodeByteElement_szpzho$(this.descriptor,e))},Zi.prototype.writeContent_q3xt5$=function(t,e,n){for(var i=0;i<n;i++)t.encodeByteElement_j0u8y3$(this.descriptor,i,e[i])},Zi.$metadata$={kind:A,simpleName:"ByteArraySerializer",interfaces:[Ei,oe]};var Ji=null;function Qi(){return null===Ji&&new Zi,Ji}function to(t){Oi.call(this),this.buffer_0=t,this.position_8vrcnd$_0=t.length,this.ensureCapacity_za3lpa$(10)}function eo(){no=this,Ei.call(this,Ne())}Object.defineProperty(to.prototype,"position",{configurable:!0,get:function(){return this.position_8vrcnd$_0},set:function(t){this.position_8vrcnd$_0=t}}),to.prototype.ensureCapacity_za3lpa$$default=function(t){this.buffer_0.length<t&&(this.buffer_0=$t(this.buffer_0,yt(t,2*this.buffer_0.length|0)))},to.prototype.append_8e99oo$=function(t){var e;this.ensureCapacity_za3lpa$(),this.buffer_0[(e=this.position,this.position=e+1|0,e)]=t},to.prototype.build=function(){return $t(this.buffer_0,this.position)},to.$metadata$={kind:i,simpleName:"ByteArrayBuilder",interfaces:[Oi]},eo.prototype.collectionSize_wikn$=function(t){return t.length},eo.prototype.toBuilder_wikn$=function(t){return new oo(t)},eo.prototype.empty=function(){return new Int16Array(0)},eo.prototype.readElement_8pvye7$$default=function(t,e,n,i){n.append_o3ifnw$(t.decodeShortElement_szpzho$(this.descriptor,e))},eo.prototype.writeContent_q3xt5$=function(t,e,n){for(var i=0;i<n;i++)t.encodeShortElement_l83pjl$(this.descriptor,i,e[i])},eo.$metadata$={kind:A,simpleName:"ShortArraySerializer",interfaces:[Ei,oe]};var no=null;function io(){return null===no&&new eo,no}function oo(t){Oi.call(this),this.buffer_0=t,this.position_aswgsb$_0=t.length,this.ensureCapacity_za3lpa$(10)}function ro(){so=this,Ei.call(this,Te())}Object.defineProperty(oo.prototype,"position",{configurable:!0,get:function(){return this.position_aswgsb$_0},set:function(t){this.position_aswgsb$_0=t}}),oo.prototype.ensureCapacity_za3lpa$$default=function(t){this.buffer_0.length<t&&(this.buffer_0=bt(this.buffer_0,yt(t,2*this.buffer_0.length|0)))},oo.prototype.append_o3ifnw$=function(t){var e;this.ensureCapacity_za3lpa$(),this.buffer_0[(e=this.position,this.position=e+1|0,e)]=t},oo.prototype.build=function(){return bt(this.buffer_0,this.position)},oo.$metadata$={kind:i,simpleName:"ShortArrayBuilder",interfaces:[Oi]},ro.prototype.collectionSize_wikn$=function(t){return t.length},ro.prototype.toBuilder_wikn$=function(t){return new lo(t)},ro.prototype.empty=function(){return new Int32Array(0)},ro.prototype.readElement_8pvye7$$default=function(t,e,n,i){n.append_kcn2v3$(t.decodeIntElement_szpzho$(this.descriptor,e))},ro.prototype.writeContent_q3xt5$=function(t,e,n){for(var i=0;i<n;i++)t.encodeIntElement_ptg7oe$(this.descriptor,i,e[i])},ro.$metadata$={kind:A,simpleName:"IntArraySerializer",interfaces:[Ei,oe]};var so=null;function ao(){return null===so&&new ro,so}function lo(t){Oi.call(this),this.buffer_0=t,this.position_9owhjc$_0=t.length,this.ensureCapacity_za3lpa$(10)}function po(){uo=this,Ei.call(this,Ee())}Object.defineProperty(lo.prototype,"position",{configurable:!0,get:function(){return this.position_9owhjc$_0},set:function(t){this.position_9owhjc$_0=t}}),lo.prototype.ensureCapacity_za3lpa$$default=function(t){this.buffer_0.length<t&&(this.buffer_0=gt(this.buffer_0,yt(t,2*this.buffer_0.length|0)))},lo.prototype.append_kcn2v3$=function(t){var e;this.ensureCapacity_za3lpa$(),this.buffer_0[(e=this.position,this.position=e+1|0,e)]=t},lo.prototype.build=function(){return gt(this.buffer_0,this.position)},lo.$metadata$={kind:i,simpleName:"IntArrayBuilder",interfaces:[Oi]},po.prototype.collectionSize_wikn$=function(t){return t.length},po.prototype.toBuilder_wikn$=function(t){return new _o(t)},po.prototype.empty=function(){return e.longArray(0)},po.prototype.readElement_8pvye7$$default=function(t,e,n,i){n.append_8e33dg$(t.decodeLongElement_szpzho$(this.descriptor,e))},po.prototype.writeContent_q3xt5$=function(t,e,n){for(var i=0;i<n;i++)t.encodeLongElement_j0o2mv$(this.descriptor,i,e[i])},po.$metadata$={kind:A,simpleName:"LongArraySerializer",interfaces:[Ei,oe]};var uo=null;function co(){return null===uo&&new po,uo}function _o(t){Oi.call(this),this.buffer_0=t,this.position_kthxoj$_0=t.length,this.ensureCapacity_za3lpa$(10)}function ho(){fo=this,Ei.call(this,Re())}Object.defineProperty(_o.prototype,"position",{configurable:!0,get:function(){return this.position_kthxoj$_0},set:function(t){this.position_kthxoj$_0=t}}),_o.prototype.ensureCapacity_za3lpa$$default=function(t){this.buffer_0.length<t&&(this.buffer_0=vt(this.buffer_0,yt(t,2*this.buffer_0.length|0)))},_o.prototype.append_8e33dg$=function(t){var e;this.ensureCapacity_za3lpa$(),this.buffer_0[(e=this.position,this.position=e+1|0,e)]=t},_o.prototype.build=function(){return vt(this.buffer_0,this.position)},_o.$metadata$={kind:i,simpleName:"LongArrayBuilder",interfaces:[Oi]},ho.prototype.collectionSize_wikn$=function(t){return t.length},ho.prototype.toBuilder_wikn$=function(t){return new yo(t)},ho.prototype.empty=function(){return new Float32Array(0)},ho.prototype.readElement_8pvye7$$default=function(t,e,n,i){n.append_nwfnho$(t.decodeFloatElement_szpzho$(this.descriptor,e))},ho.prototype.writeContent_q3xt5$=function(t,e,n){for(var i=0;i<n;i++)t.encodeFloatElement_lf6hpt$(this.descriptor,i,e[i])},ho.$metadata$={kind:A,simpleName:"FloatArraySerializer",interfaces:[Ei,oe]};var fo=null;function mo(){return null===fo&&new ho,fo}function yo(t){Oi.call(this),this.buffer_0=t,this.position_gfqw9x$_0=t.length,this.ensureCapacity_za3lpa$(10)}function $o(){bo=this,Ei.call(this,Ae())}Object.defineProperty(yo.prototype,"position",{configurable:!0,get:function(){return this.position_gfqw9x$_0},set:function(t){this.position_gfqw9x$_0=t}}),yo.prototype.ensureCapacity_za3lpa$$default=function(t){this.buffer_0.length<t&&(this.buffer_0=xt(this.buffer_0,yt(t,2*this.buffer_0.length|0)))},yo.prototype.append_nwfnho$=function(t){var e;this.ensureCapacity_za3lpa$(),this.buffer_0[(e=this.position,this.position=e+1|0,e)]=t},yo.prototype.build=function(){return xt(this.buffer_0,this.position)},yo.$metadata$={kind:i,simpleName:"FloatArrayBuilder",interfaces:[Oi]},$o.prototype.collectionSize_wikn$=function(t){return t.length},$o.prototype.toBuilder_wikn$=function(t){return new vo(t)},$o.prototype.empty=function(){return new Float64Array(0)},$o.prototype.readElement_8pvye7$$default=function(t,e,n,i){n.append_tq0o01$(t.decodeDoubleElement_szpzho$(this.descriptor,e))},$o.prototype.writeContent_q3xt5$=function(t,e,n){for(var i=0;i<n;i++)t.encodeDoubleElement_powrwi$(this.descriptor,i,e[i])},$o.$metadata$={kind:A,simpleName:"DoubleArraySerializer",interfaces:[Ei,oe]};var bo=null;function go(){return null===bo&&new $o,bo}function vo(t){Oi.call(this),this.buffer_0=t,this.position_qka0uq$_0=t.length,this.ensureCapacity_za3lpa$(10)}function xo(){wo=this,Ei.call(this,Se())}Object.defineProperty(vo.prototype,"position",{configurable:!0,get:function(){return this.position_qka0uq$_0},set:function(t){this.position_qka0uq$_0=t}}),vo.prototype.ensureCapacity_za3lpa$$default=function(t){this.buffer_0.length<t&&(this.buffer_0=wt(this.buffer_0,yt(t,2*this.buffer_0.length|0)))},vo.prototype.append_tq0o01$=function(t){var e;this.ensureCapacity_za3lpa$(),this.buffer_0[(e=this.position,this.position=e+1|0,e)]=t},vo.prototype.build=function(){return wt(this.buffer_0,this.position)},vo.$metadata$={kind:i,simpleName:"DoubleArrayBuilder",interfaces:[Oi]},xo.prototype.collectionSize_wikn$=function(t){return t.length},xo.prototype.toBuilder_wikn$=function(t){return new Co(t)},xo.prototype.empty=function(){return e.charArray(0)},xo.prototype.readElement_8pvye7$$default=function(t,e,n,i){n.append_8e8zqy$(zt(t.decodeCharElement_szpzho$(this.descriptor,e)))},xo.prototype.writeContent_q3xt5$=function(t,e,n){for(var i=0;i<n;i++)t.encodeCharElement_j0tz0d$(this.descriptor,i,e[i])},xo.$metadata$={kind:A,simpleName:"CharArraySerializer",interfaces:[Ei,oe]};var wo=null;function zo(){return null===wo&&new xo,wo}function Co(t){Oi.call(this),this.buffer_0=t,this.position_tpcwbb$_0=t.length,this.ensureCapacity_za3lpa$(10)}function So(){Lo=this,Ei.call(this,Be())}Object.defineProperty(Co.prototype,"position",{configurable:!0,get:function(){return this.position_tpcwbb$_0},set:function(t){this.position_tpcwbb$_0=t}}),Co.prototype.ensureCapacity_za3lpa$$default=function(t){this.buffer_0.length<t&&(this.buffer_0=Ct(this.buffer_0,yt(t,2*this.buffer_0.length|0)))},Co.prototype.append_8e8zqy$=function(t){var e;this.ensureCapacity_za3lpa$(),this.buffer_0[(e=this.position,this.position=e+1|0,e)]=t},Co.prototype.build=function(){return Ct(this.buffer_0,this.position)},Co.$metadata$={kind:i,simpleName:"CharArrayBuilder",interfaces:[Oi]},So.prototype.collectionSize_wikn$=function(t){return t.length},So.prototype.toBuilder_wikn$=function(t){return new No(t)},So.prototype.empty=function(){return e.booleanArray(0)},So.prototype.readElement_8pvye7$$default=function(t,e,n,i){n.append_vft4zs$(t.decodeBooleanElement_szpzho$(this.descriptor,e))},So.prototype.writeContent_q3xt5$=function(t,e,n){for(var i=0;i<n;i++)t.encodeBooleanElement_qh7jdn$(this.descriptor,i,e[i])},So.$metadata$={kind:A,simpleName:"BooleanArraySerializer",interfaces:[Ei,oe]};var ko,Lo=null;function jo(){return null===Lo&&new So,Lo}function No(t){Oi.call(this),this.buffer_0=t,this.position_fkn8lr$_0=t.length,this.ensureCapacity_za3lpa$(10)}function Po(t,e){this.serialName_h9gugr$_0=t,this.kind_rqp61y$_0=e}function To(t,e){return function(t){var e,n=ko.keys;for(e=n.iterator();e.hasNext();){var i=e.next(),o=Gt(tt(i.simpleName));if(Ht(t,"kotlin."+o,!0)||Ht(t,o,!0))throw p(Xt("\n                The name of serial descriptor should uniquely identify associated serializer.\n                For serial name "+t+" there already exist "+Gt(o)+"Serializer.\n                Please refer to SerialDescriptor documentation for additional information.\n            "))}}(t),new Po(t,e)}function Oo(t){var n;return null==(n=ko.get_11rb$(t))||e.isType(n,oe)?n:r()}function Eo(){Mo=this,this.$delegate_t0wm8i$_0=new Ui("kotlin.Unit",l)}Object.defineProperty(No.prototype,"position",{configurable:!0,get:function(){return this.position_fkn8lr$_0},set:function(t){this.position_fkn8lr$_0=t}}),No.prototype.ensureCapacity_za3lpa$$default=function(t){this.buffer_0.length<t&&(this.buffer_0=St(this.buffer_0,yt(t,2*this.buffer_0.length|0)))},No.prototype.append_vft4zs$=function(t){var e;this.ensureCapacity_za3lpa$(),this.buffer_0[(e=this.position,this.position=e+1|0,e)]=t},No.prototype.build=function(){return St(this.buffer_0,this.position)},No.$metadata$={kind:i,simpleName:"BooleanArrayBuilder",interfaces:[Oi]},Object.defineProperty(Po.prototype,"serialName",{get:function(){return this.serialName_h9gugr$_0}}),Object.defineProperty(Po.prototype,"kind",{get:function(){return this.kind_rqp61y$_0}}),Object.defineProperty(Po.prototype,"elementsCount",{configurable:!0,get:function(){return 0}}),Po.prototype.getElementName_za3lpa$=function(t){return this.error_0()},Po.prototype.getElementIndex_61zpoe$=function(t){return this.error_0()},Po.prototype.isElementOptional_za3lpa$=function(t){return this.error_0()},Po.prototype.getElementDescriptor_za3lpa$=function(t){return this.error_0()},Po.prototype.getElementAnnotations_za3lpa$=function(t){return this.error_0()},Po.prototype.toString=function(){return"PrimitiveDescriptor("+this.serialName+")"},Po.prototype.error_0=function(){throw d("Primitive descriptor does not have elements")},Po.$metadata$={kind:i,simpleName:"PrimitiveSerialDescriptor",interfaces:[Ge]},Object.defineProperty(Eo.prototype,"descriptor",{get:function(){return this.$delegate_t0wm8i$_0.descriptor}}),Eo.prototype.deserialize_bq71mq$=function(t){return this.$delegate_t0wm8i$_0.deserialize_bq71mq$(t)},Eo.prototype.serialize_55azsf$=function(t,e){return this.$delegate_t0wm8i$_0.serialize_55azsf$(t,e)},Eo.$metadata$={kind:A,simpleName:"UnitSerializer",interfaces:[oe]};var Mo=null;function Ro(){return null===Mo&&new Eo,Mo}function Io(){Ao=this,this.descriptor_vdtvaz$_0=new Po("kotlin.Boolean",cn())}Object.defineProperty(Io.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_vdtvaz$_0}}),Io.prototype.serialize_55azsf$=function(t,e){t.encodeBoolean_6taknv$(e)},Io.prototype.deserialize_bq71mq$=function(t){return t.decodeBoolean()},Io.$metadata$={kind:A,simpleName:"BooleanSerializer",interfaces:[oe]};var Ao=null;function Do(){return null===Ao&&new Io,Ao}function Bo(){Fo=this,this.descriptor_f6vlf1$_0=new Po("kotlin.Byte",dn())}Object.defineProperty(Bo.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_f6vlf1$_0}}),Bo.prototype.serialize_55azsf$=function(t,e){t.encodeByte_s8j3t7$(e)},Bo.prototype.deserialize_bq71mq$=function(t){return t.decodeByte()},Bo.$metadata$={kind:A,simpleName:"ByteSerializer",interfaces:[oe]};var Fo=null;function qo(){return null===Fo&&new Bo,Fo}function Uo(){Vo=this,this.descriptor_yvjeup$_0=new Po("kotlin.Short",gn())}Object.defineProperty(Uo.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_yvjeup$_0}}),Uo.prototype.serialize_55azsf$=function(t,e){t.encodeShort_mq22fl$(e)},Uo.prototype.deserialize_bq71mq$=function(t){return t.decodeShort()},Uo.$metadata$={kind:A,simpleName:"ShortSerializer",interfaces:[oe]};var Vo=null;function Wo(){return null===Vo&&new Uo,Vo}function Go(){Ho=this,this.descriptor_xrjflq$_0=new Po("kotlin.Int",wn())}Object.defineProperty(Go.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_xrjflq$_0}}),Go.prototype.serialize_55azsf$=function(t,e){t.encodeInt_za3lpa$(e)},Go.prototype.deserialize_bq71mq$=function(t){return t.decodeInt()},Go.$metadata$={kind:A,simpleName:"IntSerializer",interfaces:[oe]};var Ho=null;function Xo(){return null===Ho&&new Go,Ho}function Ko(){Yo=this,this.descriptor_q4z687$_0=new Po("kotlin.Long",Sn())}Object.defineProperty(Ko.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_q4z687$_0}}),Ko.prototype.serialize_55azsf$=function(t,e){t.encodeLong_s8cxhz$(e)},Ko.prototype.deserialize_bq71mq$=function(t){return t.decodeLong()},Ko.$metadata$={kind:A,simpleName:"LongSerializer",interfaces:[oe]};var Yo=null;function Zo(){return null===Yo&&new Ko,Yo}function Jo(){Qo=this,this.descriptor_7mw1sh$_0=new Po("kotlin.Float",jn())}Object.defineProperty(Jo.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_7mw1sh$_0}}),Jo.prototype.serialize_55azsf$=function(t,e){t.encodeFloat_mx4ult$(e)},Jo.prototype.deserialize_bq71mq$=function(t){return t.decodeFloat()},Jo.$metadata$={kind:A,simpleName:"FloatSerializer",interfaces:[oe]};var Qo=null;function tr(){return null===Qo&&new Jo,Qo}function er(){nr=this,this.descriptor_2hn2sc$_0=new Po("kotlin.Double",Tn())}Object.defineProperty(er.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_2hn2sc$_0}}),er.prototype.serialize_55azsf$=function(t,e){t.encodeDouble_14dthe$(e)},er.prototype.deserialize_bq71mq$=function(t){return t.decodeDouble()},er.$metadata$={kind:A,simpleName:"DoubleSerializer",interfaces:[oe]};var nr=null;function ir(){return null===nr&&new er,nr}function or(){rr=this,this.descriptor_5mpy8x$_0=new Po("kotlin.Char",yn())}Object.defineProperty(or.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_5mpy8x$_0}}),or.prototype.serialize_55azsf$=function(t,e){t.encodeChar_s8itvh$(e)},or.prototype.deserialize_bq71mq$=function(t){return t.decodeChar()},or.$metadata$={kind:A,simpleName:"CharSerializer",interfaces:[oe]};var rr=null;function sr(){return null===rr&&new or,rr}function ar(){ur=this,this.descriptor_sum718$_0=new Po("kotlin.String",Mn())}Object.defineProperty(ar.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_sum718$_0}}),ar.prototype.serialize_55azsf$=function(t,e){t.encodeString_61zpoe$(e)},ar.prototype.deserialize_bq71mq$=function(t){return t.decodeString()},ar.$metadata$={kind:A,simpleName:"StringSerializer",interfaces:[oe]};var lr,pr,ur=null;function cr(){return null===ur&&new ar,ur}function _r(){this.tagStack_cfsfm$_0=V()}function hr(){_r.call(this)}function dr(){this.tagStack_h2rpra$_0=V(),this.flag_kguhq4$_0=!1}function fr(){dr.call(this)}function mr(t,e){this.keySerializer_0=t,this.valueSerializer_0=e}function yr(t,e){var n,i;mr.call(this,t,e),this.descriptor_cnmk75$_0=Je("kotlin.collections.Map.Entry",Wn(),[],(n=t,i=e,function(t){return t.element_vxrguq$("key",n.descriptor),t.element_vxrguq$("value",i.descriptor),l}))}function $r(t,e){this.key_7uv6mv$_0=t,this.value_gjenjd$_0=e}function br(t,e){var n,i;mr.call(this,t,e),this.descriptor_utc4rp$_0=Ye("kotlin.Pair",[],(n=t,i=e,function(t){return t.element_vxrguq$("first",n.descriptor),t.element_vxrguq$("second",i.descriptor),l}))}function gr(t,e,n){var i;this.aSerializer_0=t,this.bSerializer_0=e,this.cSerializer_0=n,this.descriptor_73a6vr$_0=Ye("kotlin.Triple",[],(i=this,function(t){return t.element_vxrguq$("first",i.aSerializer_0.descriptor),t.element_vxrguq$("second",i.bSerializer_0.descriptor),t.element_vxrguq$("third",i.cSerializer_0.descriptor),l}))}function vr(){}function xr(t,e,n,i){vr.call(this),this.class2Serializer_0=t,this.polyBase2Serializers=e,this.polyBase2NamedSerializers_0=n,this.polyBase2DefaultProvider_0=i}function wr(){}function zr(t){this.serializer=t}function Cr(t,e){if(!ht(t).contains_mef7kx$(e))throw new Qt("Index "+e+" out of bounds "+ht(t));return t[e]}function Sr(t,e){if(!te(t).contains_mef7kx$(e))throw new Qt("Index "+e+" out of bounds "+te(t));return t[e]}function kr(t){var n,i,o;return null!=(o=Pr(t,[]))?o:e.isType(i=null!=(n=ee(t).Companion)?n.serializer():null,oe)?i:null}function Lr(t,e){return I(t)}function jr(t,e){return e.isInstance_s8jyv4$(t)}function Nr(t){throw fe("Serializer for class '"+a(t.simpleName)+"' is not found.\nMark the class as @Serializable or provide the serializer explicitly.\nOn Kotlin/JS explicitly declared serializer should be used for interfaces and enums without @Serializable annotation")}function Pr(t,i){var o,s,a;try{var l=ie(t,n(zr));a=e.isType(l,oe)?e.isType(o=l,oe)?o:r():e.isType(l,Yi)?e.isType(s=l.serializer_lu48y9$(i.slice()),oe)?s:r():null}catch(t){a=null}return a}function Tr(t){return null!=t?t.equals(ne):null}Object.defineProperty(_r.prototype,"serializersModule",{configurable:!0,get:function(){return pr}}),_r.prototype.encodeTaggedValue_dpg7wc$=function(t,n){throw fe("Non-serializable "+e.getKClassFromExpression(n)+" is not supported by "+e.getKClassFromExpression(this)+" encoder")},_r.prototype.encodeTaggedNull_11rb$=function(t){throw fe("null is not supported")},_r.prototype.encodeTaggedInt_dpg1yx$=function(t,e){this.encodeTaggedValue_dpg7wc$(t,e)},_r.prototype.encodeTaggedByte_19qe40$=function(t,e){this.encodeTaggedValue_dpg7wc$(t,e)},_r.prototype.encodeTaggedShort_veccj0$=function(t,e){this.encodeTaggedValue_dpg7wc$(t,e)},_r.prototype.encodeTaggedLong_19wkf8$=function(t,e){this.encodeTaggedValue_dpg7wc$(t,e)},_r.prototype.encodeTaggedFloat_vlf4p8$=function(t,e){this.encodeTaggedValue_dpg7wc$(t,e)},_r.prototype.encodeTaggedDouble_e37ph5$=function(t,e){this.encodeTaggedValue_dpg7wc$(t,e)},_r.prototype.encodeTaggedBoolean_iuyhfk$=function(t,e){this.encodeTaggedValue_dpg7wc$(t,e)},_r.prototype.encodeTaggedChar_19qo1q$=function(t,e){this.encodeTaggedValue_dpg7wc$(t,et(e))},_r.prototype.encodeTaggedString_l9l8mx$=function(t,e){this.encodeTaggedValue_dpg7wc$(t,e)},_r.prototype.encodeTaggedEnum_4xdzqf$=function(t,e,n){this.encodeTaggedValue_dpg7wc$(t,n)},_r.prototype.encodeElement_qp90hq$_0=function(t,e){var n=this.getTag_av9bu7$(t,e);return this.pushTag_11rb$(n),!0},_r.prototype.encodeNotNullMark=function(){},_r.prototype.encodeNull=function(){this.encodeTaggedNull_11rb$(this.popTag())},_r.prototype.encodeBoolean_6taknv$=function(t){this.encodeTaggedBoolean_iuyhfk$(this.popTag(),t)},_r.prototype.encodeByte_s8j3t7$=function(t){this.encodeTaggedByte_19qe40$(this.popTag(),t)},_r.prototype.encodeShort_mq22fl$=function(t){this.encodeTaggedShort_veccj0$(this.popTag(),t)},_r.prototype.encodeInt_za3lpa$=function(t){this.encodeTaggedInt_dpg1yx$(this.popTag(),t)},_r.prototype.encodeLong_s8cxhz$=function(t){this.encodeTaggedLong_19wkf8$(this.popTag(),t)},_r.prototype.encodeFloat_mx4ult$=function(t){this.encodeTaggedFloat_vlf4p8$(this.popTag(),t)},_r.prototype.encodeDouble_14dthe$=function(t){this.encodeTaggedDouble_e37ph5$(this.popTag(),t)},_r.prototype.encodeChar_s8itvh$=function(t){this.encodeTaggedChar_19qo1q$(this.popTag(),t)},_r.prototype.encodeString_61zpoe$=function(t){this.encodeTaggedString_l9l8mx$(this.popTag(),t)},_r.prototype.encodeEnum_szpzho$=function(t,e){this.encodeTaggedEnum_4xdzqf$(this.popTag(),t,e)},_r.prototype.beginStructure_24f42q$=function(t){return this},_r.prototype.endStructure_24f42q$=function(t){this.tagStack_cfsfm$_0.isEmpty()||this.popTag(),this.endEncode_24f42q$(t)},_r.prototype.endEncode_24f42q$=function(t){},_r.prototype.encodeBooleanElement_qh7jdn$=function(t,e,n){this.encodeTaggedBoolean_iuyhfk$(this.getTag_av9bu7$(t,e),n)},_r.prototype.encodeByteElement_j0u8y3$=function(t,e,n){this.encodeTaggedByte_19qe40$(this.getTag_av9bu7$(t,e),n)},_r.prototype.encodeShortElement_l83pjl$=function(t,e,n){this.encodeTaggedShort_veccj0$(this.getTag_av9bu7$(t,e),n)},_r.prototype.encodeIntElement_ptg7oe$=function(t,e,n){this.encodeTaggedInt_dpg1yx$(this.getTag_av9bu7$(t,e),n)},_r.prototype.encodeLongElement_j0o2mv$=function(t,e,n){this.encodeTaggedLong_19wkf8$(this.getTag_av9bu7$(t,e),n)},_r.prototype.encodeFloatElement_lf6hpt$=function(t,e,n){this.encodeTaggedFloat_vlf4p8$(this.getTag_av9bu7$(t,e),n)},_r.prototype.encodeDoubleElement_powrwi$=function(t,e,n){this.encodeTaggedDouble_e37ph5$(this.getTag_av9bu7$(t,e),n)},_r.prototype.encodeCharElement_j0tz0d$=function(t,e,n){this.encodeTaggedChar_19qo1q$(this.getTag_av9bu7$(t,e),n)},_r.prototype.encodeStringElement_iij8qq$=function(t,e,n){this.encodeTaggedString_l9l8mx$(this.getTag_av9bu7$(t,e),n)},_r.prototype.encodeSerializableElement_r4qlx7$=function(t,e,n,i){this.encodeElement_qp90hq$_0(t,e)&&this.encodeSerializableValue_tf03ej$(n,i)},_r.prototype.encodeNullableSerializableElement_qw92s8$=function(t,e,n,i){this.encodeElement_qp90hq$_0(t,e)&&this.encodeNullableSerializableValue_f4686g$(n,i)},Object.defineProperty(_r.prototype,"currentTag",{configurable:!0,get:function(){return Kt(this.tagStack_cfsfm$_0)}}),Object.defineProperty(_r.prototype,"currentTagOrNull",{configurable:!0,get:function(){return Yt(this.tagStack_cfsfm$_0)}}),_r.prototype.pushTag_11rb$=function(t){this.tagStack_cfsfm$_0.add_11rb$(t)},_r.prototype.popTag=function(){if(this.tagStack_cfsfm$_0.isEmpty())throw fe("No tag in stack for requested element");return this.tagStack_cfsfm$_0.removeAt_za3lpa$(Zt(this.tagStack_cfsfm$_0))},_r.$metadata$={kind:i,simpleName:"TaggedEncoder",interfaces:[yi,mi]},hr.prototype.getTag_av9bu7$=function(t,e){return this.nested_61zpoe$(this.elementName_szpzho$(t,e))},hr.prototype.nested_61zpoe$=function(t){var e;return this.composeName_puj7f4$(null!=(e=this.currentTagOrNull)?e:"",t)},hr.prototype.elementName_szpzho$=function(t,e){return t.getElementName_za3lpa$(e)},hr.prototype.composeName_puj7f4$=function(t,e){return 0===t.length?e:t+"."+e},hr.$metadata$={kind:i,simpleName:"NamedValueEncoder",interfaces:[_r]},Object.defineProperty(dr.prototype,"serializersModule",{configurable:!0,get:function(){return pr}}),dr.prototype.decodeTaggedValue_11rb$=function(t){throw fe(e.getKClassFromExpression(this).toString()+" can't retrieve untyped values")},dr.prototype.decodeTaggedNotNullMark_11rb$=function(t){return!0},dr.prototype.decodeTaggedNull_11rb$=function(t){return null},dr.prototype.decodeTaggedBoolean_11rb$=function(t){var e;return"boolean"==typeof(e=this.decodeTaggedValue_11rb$(t))?e:r()},dr.prototype.decodeTaggedByte_11rb$=function(t){var e;return"number"==typeof(e=this.decodeTaggedValue_11rb$(t))?e:r()},dr.prototype.decodeTaggedShort_11rb$=function(t){var e;return"number"==typeof(e=this.decodeTaggedValue_11rb$(t))?e:r()},dr.prototype.decodeTaggedInt_11rb$=function(t){var e;return"number"==typeof(e=this.decodeTaggedValue_11rb$(t))?e:r()},dr.prototype.decodeTaggedLong_11rb$=function(t){var n;return e.isType(n=this.decodeTaggedValue_11rb$(t),e.Long)?n:r()},dr.prototype.decodeTaggedFloat_11rb$=function(t){var e;return"number"==typeof(e=this.decodeTaggedValue_11rb$(t))?e:r()},dr.prototype.decodeTaggedDouble_11rb$=function(t){var e;return"number"==typeof(e=this.decodeTaggedValue_11rb$(t))?e:r()},dr.prototype.decodeTaggedChar_11rb$=function(t){var n;return e.isChar(n=this.decodeTaggedValue_11rb$(t))?n:r()},dr.prototype.decodeTaggedString_11rb$=function(t){var e;return"string"==typeof(e=this.decodeTaggedValue_11rb$(t))?e:r()},dr.prototype.decodeTaggedEnum_gaombr$=function(t,e){var n;return"number"==typeof(n=this.decodeTaggedValue_11rb$(t))?n:r()},dr.prototype.decodeSerializableValue_19c8k5$=function(t,e){return this.decodeSerializableValue_w63s0f$(t)},dr.prototype.decodeNotNullMark=function(){var t;if(null==(t=this.currentTagOrNull))return!1;var e=t;return this.decodeTaggedNotNullMark_11rb$(e)},dr.prototype.decodeNull=function(){return null},dr.prototype.decodeBoolean=function(){return this.decodeTaggedBoolean_11rb$(this.popTag())},dr.prototype.decodeByte=function(){return this.decodeTaggedByte_11rb$(this.popTag())},dr.prototype.decodeShort=function(){return this.decodeTaggedShort_11rb$(this.popTag())},dr.prototype.decodeInt=function(){return this.decodeTaggedInt_11rb$(this.popTag())},dr.prototype.decodeLong=function(){return this.decodeTaggedLong_11rb$(this.popTag())},dr.prototype.decodeFloat=function(){return this.decodeTaggedFloat_11rb$(this.popTag())},dr.prototype.decodeDouble=function(){return this.decodeTaggedDouble_11rb$(this.popTag())},dr.prototype.decodeChar=function(){return this.decodeTaggedChar_11rb$(this.popTag())},dr.prototype.decodeString=function(){return this.decodeTaggedString_11rb$(this.popTag())},dr.prototype.decodeEnum_24f42q$=function(t){return this.decodeTaggedEnum_gaombr$(this.popTag(),t)},dr.prototype.beginStructure_24f42q$=function(t){return this},dr.prototype.endStructure_24f42q$=function(t){},dr.prototype.decodeBooleanElement_szpzho$=function(t,e){return this.decodeTaggedBoolean_11rb$(this.getTag_av9bu7$(t,e))},dr.prototype.decodeByteElement_szpzho$=function(t,e){return this.decodeTaggedByte_11rb$(this.getTag_av9bu7$(t,e))},dr.prototype.decodeShortElement_szpzho$=function(t,e){return this.decodeTaggedShort_11rb$(this.getTag_av9bu7$(t,e))},dr.prototype.decodeIntElement_szpzho$=function(t,e){return this.decodeTaggedInt_11rb$(this.getTag_av9bu7$(t,e))},dr.prototype.decodeLongElement_szpzho$=function(t,e){return this.decodeTaggedLong_11rb$(this.getTag_av9bu7$(t,e))},dr.prototype.decodeFloatElement_szpzho$=function(t,e){return this.decodeTaggedFloat_11rb$(this.getTag_av9bu7$(t,e))},dr.prototype.decodeDoubleElement_szpzho$=function(t,e){return this.decodeTaggedDouble_11rb$(this.getTag_av9bu7$(t,e))},dr.prototype.decodeCharElement_szpzho$=function(t,e){return this.decodeTaggedChar_11rb$(this.getTag_av9bu7$(t,e))},dr.prototype.decodeStringElement_szpzho$=function(t,e){return this.decodeTaggedString_11rb$(this.getTag_av9bu7$(t,e))},dr.prototype.decodeSerializableElement_12e8id$$default=function(t,e,n,i){return this.tagBlock_lngyui$_0(this.getTag_av9bu7$(t,e),(o=n,r=i,s=this,function(){return s.decodeSerializableValue_19c8k5$(o,r)}));var o,r,s},dr.prototype.decodeNullableSerializableElement_8viuyw$$default=function(t,e,n,i){return this.tagBlock_lngyui$_0(this.getTag_av9bu7$(t,e),(o=this,r=n,s=i,function(){return o.decodeNotNullMark()?o.decodeSerializableValue_19c8k5$(r,s):o.decodeNull()}));var o,r,s},dr.prototype.tagBlock_lngyui$_0=function(t,e){this.pushTag_11rb$(t);var n=e();return this.flag_kguhq4$_0||this.popTag(),this.flag_kguhq4$_0=!1,n},Object.defineProperty(dr.prototype,"currentTag",{configurable:!0,get:function(){return Kt(this.tagStack_h2rpra$_0)}}),Object.defineProperty(dr.prototype,"currentTagOrNull",{configurable:!0,get:function(){return Yt(this.tagStack_h2rpra$_0)}}),dr.prototype.pushTag_11rb$=function(t){this.tagStack_h2rpra$_0.add_11rb$(t)},dr.prototype.copyTagsTo_lgvuxj$=function(t){t.tagStack_h2rpra$_0.addAll_brywnq$(this.tagStack_h2rpra$_0)},dr.prototype.popTag=function(){var t=this.tagStack_h2rpra$_0.removeAt_za3lpa$(Zt(this.tagStack_h2rpra$_0));return this.flag_kguhq4$_0=!0,t},dr.$metadata$={kind:i,simpleName:"TaggedDecoder",interfaces:[oi,ii]},fr.prototype.getTag_av9bu7$=function(t,e){return this.nested_61zpoe$(this.elementName_szpzho$(t,e))},fr.prototype.nested_61zpoe$=function(t){var e;return this.composeName_puj7f4$(null!=(e=this.currentTagOrNull)?e:"",t)},fr.prototype.elementName_szpzho$=function(t,e){return t.getElementName_za3lpa$(e)},fr.prototype.composeName_puj7f4$=function(t,e){return 0===t.length?e:t+"."+e},fr.$metadata$={kind:i,simpleName:"NamedValueDecoder",interfaces:[dr]},mr.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeSerializableElement_r4qlx7$(this.descriptor,0,this.keySerializer_0,this.get_key_wili$(e)),n.encodeSerializableElement_r4qlx7$(this.descriptor,1,this.valueSerializer_0,this.get_value_wili$(e)),n.endStructure_24f42q$(this.descriptor)},mr.prototype.deserialize_bq71mq$=function(t){var n,i,o=t.beginStructure_24f42q$(this.descriptor);if(o.decodeSequentially()){var s=o.decodeSerializableElement_12e8id$(this.descriptor,0,this.keySerializer_0),a=o.decodeSerializableElement_12e8id$(this.descriptor,1,this.valueSerializer_0);return this.toResult_xwzc9p$(s,a)}var l=lr,p=lr;t:for(;;){var u=o.decodeElementIndex_24f42q$(this.descriptor);switch(u){case-1:break t;case 0:l=o.decodeSerializableElement_12e8id$(this.descriptor,0,this.keySerializer_0);break;case 1:p=o.decodeSerializableElement_12e8id$(this.descriptor,1,this.valueSerializer_0);break;default:throw fe("Invalid index: "+u)}}if(o.endStructure_24f42q$(this.descriptor),l===lr)throw fe("Element 'key' is missing");if(p===lr)throw fe("Element 'value' is missing");return this.toResult_xwzc9p$(null==(n=l)||e.isType(n,nt)?n:r(),null==(i=p)||e.isType(i,nt)?i:r())},mr.$metadata$={kind:i,simpleName:"KeyValueSerializer",interfaces:[oe]},Object.defineProperty($r.prototype,"key",{get:function(){return this.key_7uv6mv$_0}}),Object.defineProperty($r.prototype,"value",{get:function(){return this.value_gjenjd$_0}}),$r.$metadata$={kind:i,simpleName:"MapEntry",interfaces:[P]},$r.prototype.component1=function(){return this.key},$r.prototype.component2=function(){return this.value},$r.prototype.copy_xwzc9p$=function(t,e){return new $r(void 0===t?this.key:t,void 0===e?this.value:e)},$r.prototype.toString=function(){return"MapEntry(key="+e.toString(this.key)+", value="+e.toString(this.value)+")"},$r.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.key)|0)+e.hashCode(this.value)|0},$r.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.key,t.key)&&e.equals(this.value,t.value)},Object.defineProperty(yr.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_cnmk75$_0}}),yr.prototype.get_key_wili$=function(t){return t.key},yr.prototype.get_value_wili$=function(t){return t.value},yr.prototype.toResult_xwzc9p$=function(t,e){return new $r(t,e)},yr.$metadata$={kind:i,simpleName:"MapEntrySerializer",interfaces:[mr]},Object.defineProperty(br.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_utc4rp$_0}}),br.prototype.get_key_wili$=function(t){return t.first},br.prototype.get_value_wili$=function(t){return t.second},br.prototype.toResult_xwzc9p$=function(t,e){return Z(t,e)},br.$metadata$={kind:i,simpleName:"PairSerializer",interfaces:[mr]},Object.defineProperty(gr.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_73a6vr$_0}}),gr.prototype.serialize_55azsf$=function(t,e){var n=t.beginStructure_24f42q$(this.descriptor);n.encodeSerializableElement_r4qlx7$(this.descriptor,0,this.aSerializer_0,e.first),n.encodeSerializableElement_r4qlx7$(this.descriptor,1,this.bSerializer_0,e.second),n.encodeSerializableElement_r4qlx7$(this.descriptor,2,this.cSerializer_0,e.third),n.endStructure_24f42q$(this.descriptor)},gr.prototype.deserialize_bq71mq$=function(t){var e=t.beginStructure_24f42q$(this.descriptor);return e.decodeSequentially()?this.decodeSequentially_0(e):this.decodeStructure_0(e)},gr.prototype.decodeSequentially_0=function(t){var e=t.decodeSerializableElement_12e8id$(this.descriptor,0,this.aSerializer_0),n=t.decodeSerializableElement_12e8id$(this.descriptor,1,this.bSerializer_0),i=t.decodeSerializableElement_12e8id$(this.descriptor,2,this.cSerializer_0);return t.endStructure_24f42q$(this.descriptor),new O(e,n,i)},gr.prototype.decodeStructure_0=function(t){var n,i,o,s=lr,a=lr,l=lr;t:for(;;){var p=t.decodeElementIndex_24f42q$(this.descriptor);switch(p){case-1:break t;case 0:s=t.decodeSerializableElement_12e8id$(this.descriptor,0,this.aSerializer_0);break;case 1:a=t.decodeSerializableElement_12e8id$(this.descriptor,1,this.bSerializer_0);break;case 2:l=t.decodeSerializableElement_12e8id$(this.descriptor,2,this.cSerializer_0);break;default:throw fe("Unexpected index "+p)}}if(t.endStructure_24f42q$(this.descriptor),s===lr)throw fe("Element 'first' is missing");if(a===lr)throw fe("Element 'second' is missing");if(l===lr)throw fe("Element 'third' is missing");return new O(null==(n=s)||e.isType(n,nt)?n:r(),null==(i=a)||e.isType(i,nt)?i:r(),null==(o=l)||e.isType(o,nt)?o:r())},gr.$metadata$={kind:i,simpleName:"TripleSerializer",interfaces:[oe]},vr.$metadata$={kind:i,simpleName:"SerializersModule",interfaces:[]},xr.prototype.getPolymorphic_joiicr$=function(t,n){var i,o;return jr(n,t)&&e.isType(o=null!=(i=this.polyBase2Serializers.get_11rb$(t))?i.get_11rb$(e.getKClassFromExpression(n)):null,re)?o:null},xr.prototype.getPolymorphic_l2fy3k$=function(t,n){var i,o,s,a,l,p;l=null!=(i=this.polyBase2NamedSerializers_0.get_11rb$(t))?(e.isType(p=i,y)?p:r()).get_11rb$(n):null;var u=e.isType(o=l,oe)?o:null;return null!=u?u:null!=(a="function"==typeof(s=this.polyBase2DefaultProvider_0.get_11rb$(t))?s:null)?a(n):null},xr.prototype.getContextual_lmshww$=function(t){var n;return e.isType(n=this.class2Serializer_0.get_11rb$(t),oe)?n:null},xr.prototype.dumpTo_ukvgvw$=function(t){var n,i,o;for(n=this.class2Serializer_0.entries.iterator();n.hasNext();){var s,a,l=n.next(),p=l.key,u=l.value;t.contextual_cfhkba$(e.isType(s=p,E)?s:r(),e.isType(a=u,oe)?a:r())}for(i=this.polyBase2Serializers.entries.iterator();i.hasNext();){var c,_=i.next(),h=_.key;for(c=_.value.entries.iterator();c.hasNext();){var d,f,m,y=c.next(),$=y.key,b=y.value;t.polymorphic_kfyidi$(e.isType(d=h,E)?d:r(),e.isType(f=$,E)?f:r(),e.isType(m=b,oe)?m:r())}}for(o=this.polyBase2DefaultProvider_0.entries.iterator();o.hasNext();){var g,v,x=o.next(),w=x.key,z=x.value;t.polymorphicDefault_yd5wsm$(e.isType(g=w,E)?g:r(),"function"==typeof(v=z)?v:r())}},xr.$metadata$={kind:i,simpleName:"SerialModuleImpl",interfaces:[vr]},wr.$metadata$={kind:s,simpleName:"SerializersModuleCollector",interfaces:[]},zr.$metadata$={kind:i,simpleName:"SerializableWith",interfaces:[o]};var Or=t.kotlinx||(t.kotlinx={}),Er=Or.serialization||(Or.serialization={});Er.KSerializer=oe,Er.SerializationStrategy=re,Er.DeserializationStrategy=se,Er.findPolymorphicSerializer_uce5au$=ae,Er.findPolymorphicSerializer_dz33bw$=le,Er.SealedClassSerializer=ue,Er.SerialFormat=_e,Er.StringFormat=he,Er.SerializationException_init_pdl1vj$=fe,Er.SerializationException=de,Er.MissingFieldException=me,Er.UnknownFieldException=ye,Er.serializer_saj79j$=function(t){var e;return ve(null!=(e=be(pr,t))?e:Nr(Gi(t)),t.isMarkedNullable)};var Mr=Er.internal||(Er.internal={});Er.serializer_ca95z9$=$e,Er.serializerOrNull_1yb8b7$=ge;var Rr=Er.builtins||(Er.builtins={});Rr.get_nullable_2418p6$=xe,Rr.PairSerializer_2yqygg$=we,Rr.MapEntrySerializer_2yqygg$=ze,Rr.TripleSerializer_jww85o$=Ce,Rr.serializer_n24eoe$=Se,Rr.CharArraySerializer=ke,Rr.serializer_k5zfx8$=Le,Rr.ByteArraySerializer=je,Rr.serializer_qetqea$=Ne,Rr.ShortArraySerializer=Pe,Rr.serializer_qn7glr$=Te,Rr.IntArraySerializer=Oe,Rr.serializer_vbrujs$=Ee,Rr.LongArraySerializer=Me,Rr.serializer_y9phqa$=Re,Rr.FloatArraySerializer=Ie,Rr.serializer_6a53gt$=Ae,Rr.DoubleArraySerializer=De,Rr.serializer_jtjczu$=Be,Rr.BooleanArraySerializer=Fe,Rr.serializer_mours2$=qe,Rr.serializer_6eet4j$=Ue,Rr.ArraySerializer_8tn5u0$=Ve,Rr.ListSerializer_swdriu$=function(t){return new Ri(t)},Rr.MapSerializer_2yqygg$=function(t,e){return new Di(t,e)};var Ir=Er.descriptors||(Er.descriptors={});Ir.SerialDescriptor=Ge,Ir.get_elementDescriptors_583jlf$=Xe,Ir.buildClassSerialDescriptor_dowfwv$=Ye,Ir.PrimitiveSerialDescriptor_xytc2a$=function(t,e){if(Q(t))throw p("Blank serial names are prohibited".toString());return To(t,e)},Ir.buildSerialDescriptor_2yu4m$=Je,Ir.ClassSerialDescriptorBuilder=Qe,Ir.SerialDescriptorImpl=tn,Object.defineProperty(en,"ENUM",{get:function(){return null===on&&new nn,on}}),Object.defineProperty(en,"CONTEXTUAL",{get:an}),Ir.SerialKind=en,Object.defineProperty(ln,"BOOLEAN",{get:cn}),Object.defineProperty(ln,"BYTE",{get:dn}),Object.defineProperty(ln,"CHAR",{get:yn}),Object.defineProperty(ln,"SHORT",{get:gn}),Object.defineProperty(ln,"INT",{get:wn}),Object.defineProperty(ln,"LONG",{get:Sn}),Object.defineProperty(ln,"FLOAT",{get:jn}),Object.defineProperty(ln,"DOUBLE",{get:Tn}),Object.defineProperty(ln,"STRING",{get:Mn}),Ir.PrimitiveKind=ln,Object.defineProperty(Rn,"CLASS",{get:Dn}),Object.defineProperty(Rn,"LIST",{get:qn}),Object.defineProperty(Rn,"MAP",{get:Wn}),Object.defineProperty(Rn,"OBJECT",{get:Xn}),Ir.StructureKind=Rn,Object.defineProperty(Kn,"SEALED",{get:Jn}),Object.defineProperty(Kn,"OPEN",{get:function(){return null===ti&&new Qn,ti}}),Ir.PolymorphicKind=Kn;var Ar=Er.encoding||(Er.encoding={});Ar.AbstractDecoder=ei,Ar.AbstractEncoder=ni,Ar.Decoder=ii,Object.defineProperty(oi,"Companion",{get:fi}),Ar.CompositeDecoder=oi,Ar.Encoder=mi,Ar.CompositeEncoder=yi,Mr.AbstractPolymorphicSerializer=$i,Mr.throwSubtypeNotRegistered_it6qj1$=bi,Mr.throwSubtypeNotRegistered_zgnrn5$=gi,Mr.ListLikeDescriptor=vi,Mr.MapLikeDescriptor=xi,Mr.PrimitiveArrayDescriptor=wi,Mr.ArrayClassDesc=zi,Mr.ArrayListClassDesc=Ci,Mr.LinkedHashSetClassDesc=Si,Mr.HashSetClassDesc=ki,Mr.LinkedHashMapClassDesc=Li,Mr.HashMapClassDesc=ji,Mr.AbstractCollectionSerializer=Ni,Mr.ListLikeSerializer=Pi,Mr.MapLikeSerializer=Ti,Mr.PrimitiveArrayBuilder=Oi,Mr.PrimitiveArraySerializer=Ei,Mr.ReferenceArraySerializer=Mi,Mr.ArrayListSerializer=Ri,Mr.LinkedHashSetSerializer=Ii,Mr.HashSetSerializer=Ai,Mr.LinkedHashMapSerializer=Di,Mr.HashMapSerializer=Bi,Mr.jsonCachedSerialNames_583jlf$=function(t){return Vi(t)},Mr.NullableSerializer=Fi,Mr.SerialDescriptorForNullable=qi,Mr.ObjectSerializer=Ui,Mr.cachedSerialNames_tie8r4$=Vi,Mr.compactArray_b0lhx2$=Wi,Mr.kclass_7v1px$=Gi,Mr.PluginGeneratedSerialDescriptor=Hi,Mr.hashCodeImpl_y01f7g$=Xi,Mr.GeneratedSerializer=Ki,Mr.SerializerFactory=Yi,Object.defineProperty(Mr,"ByteArraySerializer",{get:Qi}),Mr.ByteArrayBuilder=to,Object.defineProperty(Mr,"ShortArraySerializer",{get:io}),Mr.ShortArrayBuilder=oo,Object.defineProperty(Mr,"IntArraySerializer",{get:ao}),Mr.IntArrayBuilder=lo,Object.defineProperty(Mr,"LongArraySerializer",{get:co}),Mr.LongArrayBuilder=_o,Object.defineProperty(Mr,"FloatArraySerializer",{get:mo}),Mr.FloatArrayBuilder=yo,Object.defineProperty(Mr,"DoubleArraySerializer",{get:go}),Mr.DoubleArrayBuilder=vo,Object.defineProperty(Mr,"CharArraySerializer",{get:zo}),Mr.CharArrayBuilder=Co,Object.defineProperty(Mr,"BooleanArraySerializer",{get:jo}),Mr.BooleanArrayBuilder=No,Mr.PrimitiveSerialDescriptor=Po,Mr.PrimitiveDescriptorSafe_2z23zl$=To,Mr.builtinSerializerOrNull_beh9s$=Oo,Object.defineProperty(Mr,"UnitSerializer",{get:Ro}),Object.defineProperty(Mr,"BooleanSerializer",{get:Do}),Object.defineProperty(Mr,"ByteSerializer",{get:qo}),Object.defineProperty(Mr,"ShortSerializer",{get:Wo}),Object.defineProperty(Mr,"IntSerializer",{get:Xo}),Object.defineProperty(Mr,"LongSerializer",{get:Zo}),Object.defineProperty(Mr,"FloatSerializer",{get:tr}),Object.defineProperty(Mr,"DoubleSerializer",{get:ir}),Object.defineProperty(Mr,"CharSerializer",{get:sr}),Object.defineProperty(Mr,"StringSerializer",{get:cr}),Mr.TaggedEncoder=_r,Mr.NamedValueEncoder=hr,Mr.TaggedDecoder=dr,Mr.NamedValueDecoder=fr,Mr.KeyValueSerializer=mr,Mr.MapEntrySerializer=yr,Mr.PairSerializer=br,Mr.TripleSerializer=gr;var Dr=Er.modules||(Er.modules={});return Dr.SerializersModule=vr,Object.defineProperty(Dr,"EmptySerializersModule",{get:function(){return pr}}),Dr.SerialModuleImpl=xr,Dr.SerializersModuleCollector=wr,Er.SerializableWith=zr,Mr.getChecked_4bqw6o$=Cr,Mr.getChecked_3zu3yo$=Sr,Mr.compiledSerializerImpl_beh9s$=kr,Mr.toNativeArrayImpl_wfz7v1$=Lr,Mr.isInstanceOf_ofcvxk$=jr,Mr.platformSpecificSerializerNotRegistered_lu5d9p$=Nr,Mr.constructSerializerForGivenTypeArgs_f7nown$=Pr,Mr.isReferenceArray_79m3vz$=Tr,Object.defineProperty(tn.prototype,"isNullable",Object.getOwnPropertyDescriptor(Ge.prototype,"isNullable")),ei.prototype.decodeSerializableValue_w63s0f$=ii.prototype.decodeSerializableValue_w63s0f$,ei.prototype.decodeSerializableElement_186mnl$=oi.prototype.decodeSerializableElement_186mnl$,ei.prototype.decodeNullableSerializableElement_pzkbua$=oi.prototype.decodeNullableSerializableElement_pzkbua$,ei.prototype.decodeNullableSerializableValue_aae3ea$=ii.prototype.decodeNullableSerializableValue_aae3ea$,ei.prototype.decodeSequentially=oi.prototype.decodeSequentially,ei.prototype.decodeCollectionSize_24f42q$=oi.prototype.decodeCollectionSize_24f42q$,ei.prototype.decodeSerializableElement_12e8id$=oi.prototype.decodeSerializableElement_12e8id$,ei.prototype.decodeNullableSerializableElement_8viuyw$=oi.prototype.decodeNullableSerializableElement_8viuyw$,ni.prototype.encodeNotNullMark=mi.prototype.encodeNotNullMark,ni.prototype.beginCollection_szpzho$=mi.prototype.beginCollection_szpzho$,ni.prototype.encodeSerializableValue_tf03ej$=mi.prototype.encodeSerializableValue_tf03ej$,ni.prototype.encodeNullableSerializableValue_f4686g$=mi.prototype.encodeNullableSerializableValue_f4686g$,ni.prototype.shouldEncodeElementDefault_szpzho$=yi.prototype.shouldEncodeElementDefault_szpzho$,Object.defineProperty(vi.prototype,"isNullable",Object.getOwnPropertyDescriptor(Ge.prototype,"isNullable")),Object.defineProperty(vi.prototype,"annotations",Object.getOwnPropertyDescriptor(Ge.prototype,"annotations")),Object.defineProperty(xi.prototype,"isNullable",Object.getOwnPropertyDescriptor(Ge.prototype,"isNullable")),Object.defineProperty(xi.prototype,"annotations",Object.getOwnPropertyDescriptor(Ge.prototype,"annotations")),Object.defineProperty(Hi.prototype,"isNullable",Object.getOwnPropertyDescriptor(Ge.prototype,"isNullable")),Object.defineProperty(Po.prototype,"isNullable",Object.getOwnPropertyDescriptor(Ge.prototype,"isNullable")),Object.defineProperty(Po.prototype,"annotations",Object.getOwnPropertyDescriptor(Ge.prototype,"annotations")),_r.prototype.beginCollection_szpzho$=mi.prototype.beginCollection_szpzho$,_r.prototype.encodeSerializableValue_tf03ej$=mi.prototype.encodeSerializableValue_tf03ej$,_r.prototype.encodeNullableSerializableValue_f4686g$=mi.prototype.encodeNullableSerializableValue_f4686g$,_r.prototype.shouldEncodeElementDefault_szpzho$=yi.prototype.shouldEncodeElementDefault_szpzho$,dr.prototype.decodeSerializableValue_w63s0f$=ii.prototype.decodeSerializableValue_w63s0f$,dr.prototype.decodeSerializableElement_186mnl$=oi.prototype.decodeSerializableElement_186mnl$,dr.prototype.decodeNullableSerializableElement_pzkbua$=oi.prototype.decodeNullableSerializableElement_pzkbua$,dr.prototype.decodeNullableSerializableValue_aae3ea$=ii.prototype.decodeNullableSerializableValue_aae3ea$,dr.prototype.decodeSequentially=oi.prototype.decodeSequentially,dr.prototype.decodeCollectionSize_24f42q$=oi.prototype.decodeCollectionSize_24f42q$,dr.prototype.decodeSerializableElement_12e8id$=oi.prototype.decodeSerializableElement_12e8id$,dr.prototype.decodeNullableSerializableElement_8viuyw$=oi.prototype.decodeNullableSerializableElement_8viuyw$,si="kotlin.Array",ai="kotlin.collections.ArrayList",li="kotlin.collections.LinkedHashSet",pi="kotlin.collections.HashSet",ui="kotlin.collections.LinkedHashMap",ci="kotlin.collections.HashMap",_i=[],hi=[],ko=Wt([Z(kt,Ue()),Z(n(Lt),Se()),Z(jt,ke()),Z(Nt,Ae()),Z(Pt,De()),Z(Tt,Re()),Z(Ot,Ie()),Z(n(Et),Ee()),Z(Mt,Me()),Z(Rt,Te()),Z(It,Oe()),Z(At,Ne()),Z(Dt,Pe()),Z(Bt,Le()),Z(Ft,je()),Z(qt,Be()),Z(Ut,Fe()),Z(n(Object.getPrototypeOf(Vt.Unit).constructor),qe())]),lr=new nt,pr=new xr(Jt(),Jt(),Jt(),Jt()),t})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{r=r+(o=o+e[i++]|0)|0}while(--s);o%=65521,r%=65521}return o|r<<16|0}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,o){var r=i,s=o+n;t^=-1;for(var a=o;a<s;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}},function(t,e,n){"use strict";var i=n(0),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&r||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n}s[254]=s[254]=1,e.string2buf=function(t){var e,n,o,r,s,a=t.length,l=0;for(r=0;r<a;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),s=0,r=0;s<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,o=e.length;n<o;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,o,r,a=e||t.length,p=new Array(2*a);for(i=0,n=0;n<a;)if((o=t[n++])<128)p[i++]=o;else if((r=s[o])>4)p[i++]=65533,n+=r-1;else{for(o&=2===r?31:3===r?15:7;r>1&&n<a;)o=o<<6|63&t[n++],r--;r>1?p[i++]=65533:o<65536?p[i++]=o:(o-=65536,p[i++]=55296|o>>10&1023,p[i++]=56320|1023&o)}return l(p,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var o=t[i];"."===o?t.splice(i,1):".."===o?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",o=!1,r=arguments.length-1;r>=-1&&!o;r--){var s=r>=0?arguments[r]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,o="/"===s.charAt(0))}return(o?"/":"")+(e=n(i(e.split("/"),(function(t){return!!t})),!o).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),s="/"===o(t,-1);return(t=n(i(t.split("/"),(function(t){return!!t})),!r).join("/"))||r||(t="."),t&&s&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=i(t.split("/")),r=i(n.split("/")),s=Math.min(o.length,r.length),a=s,l=0;l<s;l++)if(o[l]!==r[l]){a=l;break}var p=[];for(l=a;l<o.length;l++)p.push("..");return(p=p.concat(r.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,o=!0,r=t.length-1;r>=1;--r)if(47===(e=t.charCodeAt(r))){if(!o){i=r;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,i=-1,o=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!o){n=e+1;break}}else-1===i&&(o=!1,i=e+1);return-1===i?"":t.slice(n,i)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,i=-1,o=!0,r=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===i&&(o=!1,i=s+1),46===a?-1===e?e=s:1!==r&&(r=1):-1!==e&&(r=-1);else if(!o){n=s+1;break}}return-1===e||-1===i||0===r||1===r&&e===i-1&&e===n+1?"":t.slice(e,i)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(2))},function(t,e,n){t.exports=n(14)},function(t,e,n){var i,o,r;o=[e,n(1),n(5),n(3),n(25)],void 0===(r="function"==typeof(i=function(t,e,n,i,o){"use strict";var r=t.$$importsForInline$$||(t.$$importsForInline$$={}),s=e.throwUPAE,a=e.kotlin.Unit,l=n.de.fabmax.kool.scene.orbitInputTransform_uj7ww7$,p=n.de.fabmax.kool.util.SimpleShadowMap,u=n.de.fabmax.kool.util.ao.AoPipeline,c=n.de.fabmax.kool.util.ibl,_=n.de.fabmax.kool.util.gltf.GltfFile.ModelGenerateConfig,h=n.de.fabmax.kool.util.gltf.loadGltfModel_aln4ac$,d=e.ensureNotNull,f=e.kotlin.collections.first_7wnvza$,m=e.kotlin.math.abs_za3lpa$,y=n.de.fabmax.kool.util.Color,$=n.de.fabmax.kool.math.Vec3f,b=n.de.fabmax.kool.pipeline.shading.Albedo,g=n.de.fabmax.kool.pipeline.shading.pbrShader_skmpm9$,v=n.de.fabmax.kool.scene.colorMesh_gp9ews$,x=n.de.fabmax.kool.scene.textureMesh_pyaqjj$,w=n.de.fabmax.kool.scene,z=e.kotlin.coroutines.intrinsics.COROUTINE_SUSPENDED,C=e.kotlin.coroutines.CoroutineImpl,S=n.de.fabmax.kool.math.scale_2qa7tb$,k=n.de.fabmax.kool.pipeline.shading.ModeledShader.TextureColor,L=n.de.fabmax.kool.pipeline.shadermodel.ShaderModel,j=n.de.fabmax.kool.pipeline.shadermodel.ShaderNode,N=n.de.fabmax.kool.pipeline.shadermodel.ModelVar4f,P=n.de.fabmax.kool.pipeline.shadermodel.ShaderNodeIoVar,T=e.Kind.CLASS,O=e.Kind.OBJECT,E=e.kotlin.collections.ArrayList_init_287e2$,M=Math,R=n.de.fabmax.kool.math,I=e.kotlin.collections.addAll_ipc267$,A=n.de.fabmax.kool.util.RectProps,D=n.de.fabmax.kool.scene.Scene,B=e.kotlin.math.roundToInt_yrwdxr$,F=e.kotlin.math.log_lu1900$,q=n.de.fabmax.kool.pipeline.shadermodel.ShaderModel.VertexStageBuilder,U=n.de.fabmax.kool.pipeline.shadermodel.ShaderModel.FragmentStageBuilder,V=e.Long.fromInt(500),W=i.kotlinx.coroutines.delay_s8cxhz$,G=n.de.fabmax.kool.pipeline.TexFormat,H=n.de.fabmax.kool.pipeline.AddressMode,X=n.de.fabmax.kool.pipeline.TextureProps,K=e.Long.fromInt(100),Y=n.de.fabmax.kool.util.atmosphere.OpticalDepthLutPass,Z=n.de.fabmax.kool.util.deferred.DeferredPipelineConfig,J=n.de.fabmax.kool.util.deferred.DeferredPipeline,Q=n.de.fabmax.kool.scene.Group,tt=n.de.fabmax.kool.scene.PerspectiveCamera,et=e.throwCCE,nt=n.de.fabmax.kool.util.deferred.PbrSceneShader,it=n.de.fabmax.kool.util.deferred.PbrSceneShader.DeferredPbrConfig,ot=n.de.fabmax.kool.pipeline.shadermodel.MultiLightNode,rt=n.de.fabmax.kool.pipeline.shadermodel.PbrMaterialNode,st=e.kotlin.to_ujzrz7$,at=n.de.fabmax.kool.util.ColorGradient,lt=n.de.fabmax.kool.pipeline.GradientTexture,pt=n.de.fabmax.kool.pipeline.shadermodel.Texture1dNode,ut=n.de.fabmax.kool.pipeline.shadermodel.ModelVar3f,ct=n.de.fabmax.kool.math.MutableVec3f_init_czzhiu$,_t=n.de.fabmax.kool.scene.ui.zero,ht=n.de.fabmax.kool.scene.ui.pcs_8ca0d4$,dt=n.de.fabmax.kool.scene.ui.full,ft=n.de.fabmax.kool.scene.ui.Alignment,mt=n.de.fabmax.kool.scene.ui.Gravity,yt=n.de.fabmax.kool.toString_lcymw2$,$t=e.numberToInt,bt=n.de.fabmax.kool.math.MutableVec3f,gt=n.de.fabmax.kool.scene.Light,vt=e.kotlin.collections.LinkedHashMap_init_q3lmfv$,xt=n.de.fabmax.kool.util.SphereProps,wt=n.de.fabmax.kool.pipeline.shading.UnlitMaterialConfig,zt=n.de.fabmax.kool.pipeline.shading.UnlitShader,Ct=n.de.fabmax.kool.pipeline.ShaderStage,St=e.kotlin.collections.firstOrNull_2p1efm$,kt=(e.wrapFunction,e.equals),Lt=n.de.fabmax.kool.util.atmosphere.RaySphereIntersectionNode,jt=n.de.fabmax.kool.util.atmosphere.AtmosphereNode,Nt=n.de.fabmax.kool.pipeline.UniformMat4f,Pt=n.de.fabmax.kool.math.Vec2f,Tt=n.de.fabmax.kool.pipeline.shadermodel.ModelVar2fConst,Ot=n.de.fabmax.kool.pipeline.shadermodel.ModelVar3fConst,Et=n.de.fabmax.kool.pipeline.shading.ModeledShader,Mt=n.de.fabmax.kool.pipeline.DepthCompareOp,Rt=n.de.fabmax.kool.pipeline.shadermodel.Texture2dNode,It=n.de.fabmax.kool.math.Mat4d,At=n.de.fabmax.kool.math.Vec3d,Dt=n.de.fabmax.kool.math.MutableVec3d_init_czzhiw$,Bt=n.de.fabmax.kool.scene.Scene.DragHandler,Ft=n.de.fabmax.kool.pipeline.shading.PbrMaterialConfig,qt=n.de.fabmax.kool.util.deferred.DeferredPbrShader,Ut=n.de.fabmax.kool.pipeline.shadermodel.UniformBufferMvp,Vt=n.de.fabmax.kool.pipeline.shadermodel.NamedVariableNode,Wt=n.de.fabmax.kool.util.deferred.DeferredPbrShader.MrtMultiplexNode,Gt=n.de.fabmax.kool.pipeline.shadermodel.StageInterfaceNode.OutputNode,Ht=n.de.fabmax.kool.pipeline.shadermodel.PushConstantNode3f,Xt=e.kotlin.math,Kt=n.de.fabmax.kool.pipeline.shadermodel.ModelVar1iConst,Yt=n.de.fabmax.kool.pipeline.shadermodel.ModelVar1fConst,Zt=n.de.fabmax.kool.math.Vec4f,Jt=n.de.fabmax.kool.pipeline.shadermodel.ModelVar4fConst,Qt=n.de.fabmax.kool.pipeline.shadermodel.ModelVarMat4f,te=n.de.fabmax.kool.pipeline.shadermodel.ModelVar2f,ee=n.de.fabmax.kool.pipeline.shadermodel.ModelVar1f,ne=n.de.fabmax.kool.pipeline.shadermodel.ModelVar1i,ie=n.de.fabmax.kool.pipeline.Uniform4f,oe=n.de.fabmax.kool.pipeline.UniformColor,re=n.de.fabmax.kool.math.Random,se=n.de.fabmax.kool.util.ColorGradient_init_5tenyj$,ae=n.de.fabmax.kool.math.MutableVec4f_init,le=n.de.fabmax.kool.scene.PointMesh,pe=n.de.fabmax.kool.scene.pointMesh_zhxjay$,ue=n.de.fabmax.kool.math.smoothStep_y2kzbl$,ce=n.de.fabmax.kool.scene.group_2ylazs$,_e=n.de.fabmax.kool.pipeline.OffscreenRenderPass2d,he=n.de.fabmax.kool.pipeline.shading.AlphaModeBlend,de=n.de.fabmax.kool.scene.Skybox.SkyboxPosNode,fe=n.de.fabmax.kool.pipeline.shadermodel.UnlitMaterialNode,me=n.de.fabmax.kool.pipeline.CullMethod,ye=n.de.fabmax.kool.pipeline.shadermodel.PushConstantNode1f,$e=n.de.fabmax.kool.pipeline.Attribute,be=n.de.fabmax.kool.util.IndexedVertexList_init_5jr6ei$,ge=n.de.fabmax.kool.scene.Mesh,ve=n.de.fabmax.kool.pipeline.FilterMethod,xe=n.de.fabmax.kool.scene.PerspectiveCamera.Proxy,we=n.de.fabmax.kool.pipeline.OffscreenRenderPass.ConfigBuilder,ze=n.de.fabmax.kool.pipeline.OffscreenRenderPass.Config,Ce=n.de.fabmax.kool.math.Mat4f,Se=n.de.fabmax.kool.pipeline.GlslType,ke=n.de.fabmax.kool.util.MeshInstanceList,Le=e.kotlin.collections.listOf_i5x0yv$,je=n.de.fabmax.kool.util.IndexedVertexList,Ne=n.de.fabmax.kool.util.MutableColor_init_d7aj7k$,Pe=e.kotlin.IllegalStateException_init_pdl1vj$,Te=n.de.fabmax.kool.scene.ui.uiScene_2d22y4$,Oe=n.de.fabmax.kool.scene.ui.dps_8ca0d4$,Ee=e.toString,Me=n.de.fabmax.kool.util.Font,Re=n.de.fabmax.kool.util.FontProps,Ie=n.de.fabmax.kool.util.uiFont_a4r08d$,Ae=n.de.fabmax.kool.scene.ui.UiTheme,De=n.de.fabmax.kool.scene.ui.BlankComponentUi,Be=n.de.fabmax.kool.scene.ui.theme_vvurn$,Fe=n.de.fabmax.kool.scene.ui.SimpleComponentUi,qe=n.de.fabmax.kool.scene.wireframeMesh_hjnvxh$,Ue=n.de.fabmax.kool.util.MutableColor_init,Ve=n.de.fabmax.kool.util.MeshBuilder,We=e.kotlin.collections.get_indices_gzk92b$,Ge=e.kotlin.collections.get_lastIndex_55thoc$,He=e.kotlin.ranges.until_dqglrj$,Xe=e.kotlin.collections.first_2p1efm$,Ke=n.de.fabmax.kool.math.MutableVec3f_init,Ye=e.kotlin.collections.listOf_mh5how$,Ze=n.de.fabmax.kool.util.CubeProps,Je=n.de.fabmax.kool.util.deferred.DeferredPointLights.PointLight,Qe=e.kotlin.collections.checkIndexOverflow_za3lpa$,tn=n.de.fabmax.kool.createDefaultContext,en=e.kotlin.text.endsWith_7epoxm$,nn=n.de.fabmax.kool.scene.ui.BlurredComponentUi,on=e.getCallableRef,rn=e.defineInlineFunction,sn=n.de.fabmax.kool.util.DebugOverlay.Position,an=n.de.fabmax.kool.util.DebugOverlay,ln=e.kotlin.collections.mutableMapOf_qfcya0$,pn=o.de.fabmax.kool.physics,un=e.kotlin.collections.List,cn=e.kotlin.collections.Map,_n=(n.de.fabmax.kool.pipeline.shading.ModeledShader.VertexColor,n.de.fabmax.kool.scene.ui.dp_wl4j30$,n.de.fabmax.kool.scene.ui.uns_8ca0d4$,n.de.fabmax.kool.scene.ui.embeddedUi_4gy91$,n.de.fabmax.kool.pipeline.shading.PbrShader),hn=n.de.fabmax.kool.math.MutableVec2f,dn=n.de.fabmax.kool.util.gltf.loadGltfFile_7e2ead$,fn=n.de.fabmax.kool.util.gltf.GltfFile.ModelMaterialConfig,mn=n.de.fabmax.kool.math.MutableVec3d_init,yn=n.de.fabmax.kool.scene.defaultCamTransform_v4keia$,$n=n.de.fabmax.kool.util.GridProps,bn=n.de.fabmax.kool.scene.OrbitInputTransform.ZoomMethod,gn=n.de.fabmax.kool.math.Vec3f_init_mx4ult$,vn=n.de.fabmax.kool.math.randomF_dleff0$,xn=n.de.fabmax.kool.pipeline.shading.PhongShader,wn=n.de.fabmax.kool.pipeline.shading.PhongShader.PhongConfig,zn=n.de.fabmax.kool.pipeline.shadermodel.PhongMaterialNode,Cn=n.de.fabmax.kool.util.InstancedLodController.Instance,Sn=n.de.fabmax.kool.util.InstancedLodController,kn=e.kotlin.collections.mutableListOf_i5x0yv$,Ln=n.de.fabmax.kool.scene.LineMesh,jn=n.de.fabmax.kool.pipeline.shading.ModeledShader.StaticColor,Nn=n.de.fabmax.kool.pipeline.SingleColorTexture,Pn=n.de.fabmax.kool.util.CylinderProps,Tn=n.de.fabmax.kool.scene.Skybox.SkyboxCubeShader,On=Array,En=n.de.fabmax.kool.pipeline.Texture2d,Mn=n.de.fabmax.kool.scene.yPlanePan,Rn=n.de.fabmax.kool.util.BoundingBox_init_4lfkt4$,In=n.de.fabmax.kool.util.CascadedShadowMap,An=o.de.fabmax.kool.physics.PhysicsWorld,Dn=e.kotlin.collections.toList_us0mfu$,Bn=o.de.fabmax.kool.physics.RigidBody,Fn=n.de.fabmax.kool.math.Mat3f,qn=e.kotlin.collections.last_2p1efm$,Un=n.de.fabmax.kool.math.MutableVec2f_init_czzhjp$,Vn=o.de.fabmax.kool.physics.shapes.BoxShape,Wn=n.de.fabmax.kool.util.createUint8Buffer_za3lpa$,Gn=e.toByte,Hn=n.de.fabmax.kool.pipeline.TextureData2d,Xn=o.de.fabmax.kool.physics.shapes.CapsuleShape,Kn=o.de.fabmax.kool.physics.shapes.ConvexHullShape,Yn=o.de.fabmax.kool.physics.shapes.CylinderShape,Zn=o.de.fabmax.kool.physics.shapes.MultiShape,Jn=o.de.fabmax.kool.physics.shapes.SphereShape,Qn=e.kotlin.IllegalStateException_init,ti=n.de.fabmax.kool.math.Vec3f_init_czzhiu$,ei=n.de.fabmax.kool.util,ni=e.kotlin.collections.get_indices_tmsbgo$,ii=e.kotlin.ranges.step_xsgg7u$,oi=e.kotlin.Enum,ri=e.throwISE,si=n.de.fabmax.kool.util.Log.Level,ai=n.de.fabmax.kool.util.SimpleShape,li=n.de.fabmax.kool.util.Profile,pi=o.de.fabmax.kool.physics.shapes.PlaneShape,ui=e.kotlin.IllegalArgumentException_init_pdl1vj$,ci=e.kotlin.collections.mutableSetOf_i5x0yv$,_i=o.de.fabmax.kool.physics.constraints.RevoluteConstraint,hi=o.de.fabmax.kool.physics.rigidBodyProperties_q2g6s9$,di=e.kotlin.collections.reversed_7wnvza$,fi=n.de.fabmax.kool.pipeline.shadermodel.RefractionSamplerNode,mi=n.de.fabmax.kool.math.randomI,yi=n.de.fabmax.kool.util.PerfTimer,$i=n.de.fabmax.kool.modules.mesh.ListEdgeHandler,bi=n.de.fabmax.kool.modules.mesh.HalfEdgeMesh,gi=n.de.fabmax.kool.modules.mesh.simplification.terminateOnFaceCountRel_14dthe$,vi=n.de.fabmax.kool.modules.mesh.simplification.simplify_hem9$,xi=n.de.fabmax.kool.toString_j6vyb1$,wi=e.kotlin.text.lastIndexOf_8eortd$,zi=e.kotlin.text.lastIndexOf_l5u8uk$,Ci=e.kotlin.text.substring_fc3b62$,Si=n.de.fabmax.kool.util.ibl.SkyCubeIblSystem,ki=n.de.fabmax.kool.pipeline.shading.AlphaModeMask,Li=n.de.fabmax.kool.now,ji=n.de.fabmax.kool.util.spatial.pointKdTree_ffk80x$,Ni=e.kotlin.js.internal.FloatCompanionObject,Pi=n.de.fabmax.kool.util.spatial.InRadiusTraverser,Ti=n.de.fabmax.kool.math.PointDistribution,Oi=n.de.fabmax.kool.math.MutableVec2f_init,Ei=n.de.fabmax.kool.math.BSplineVec2f,Mi=e.kotlin.collections.emptyList_287e2$,Ri=e.kotlin.text.split_ip8yn$;function Ii(){Ki(),ys.call(this,"Ambient Occlusion"),this.autoRotate_0=!0,this.spotLight_0=!0,this.aoPipeline_953qvj$_0=this.aoPipeline_953qvj$_0,this.shadows_0=E()}function Ai(t,e,n){return function(i){i.setMouseRotation_dleff0$(0,-20),i.unaryPlus_uv0sim$(t.camera),i.zoom=8;var o=i.onUpdate,r=function(t,e,n){return function(i,o){return t.autoRotate_0&&(n.verticalRotation+=3*e.deltaT),a}}(e,n,i);return o.add_11rb$(r),a}}function Di(t,e,n){return function(i){i.generate_v2sixm$(function(t){return function(e){for(var n=-3;n<=3;n++)for(var i=-3;i<=3;i++){var o=M.atan2(i,n)*R.RAD_2_DEG,r=m(n),s=m(i),l=M.max(r,s)/5;e.color=y.Companion.fromHsv_7b5o5w$(o,l,.75,1).toLinear(),e.transform.push();var p=t;e.translate_y2kzbl$(n,0,i),e.scale_y2kzbl$(.25,.25,.25),e.rotate_ad55pp$(-37.5,$.Companion.Y_AXIS),e.geometry_ejqx55$(p.geometry),e.transform.pop()}return a}}(t));var o=g(function(t,e){return function(n){return n.albedoSource=b.VERTEX_ALBEDO,I(n.shadowMaps,t.shadows_0),n.roughness=.1,n.useScreenSpaceAmbientOcclusion_9cjgzv$(t.aoPipeline_0.aoMap),n.useImageBasedLighting_po417x$(e),a}}(e,n));return i.shader=o,a}}function Bi(t,e,n){return function(i){return i.useAlbedoMap_ivxn3r$(Jr().pbrBasePath+"/brown_planks_03/brown_planks_03_diff_2k.jpg"),i.useOcclusionMap_9sobi5$(Jr().pbrBasePath+"/brown_planks_03/brown_planks_03_AO_2k.jpg"),i.useNormalMap_9sobi5$(Jr().pbrBasePath+"/brown_planks_03/brown_planks_03_Nor_2k.jpg"),i.useRoughnessMap_ivxn3r$(Jr().pbrBasePath+"/brown_planks_03/brown_planks_03_rough_2k.jpg"),i.useScreenSpaceAmbientOcclusion_9cjgzv$(t.aoPipeline_0.aoMap),i.useImageBasedLighting_po417x$(e),I(i.shadowMaps,t.shadows_0),n.onDispose.add_11rb$(function(t){return function(e,n){var i,o,r,s;return null!=(i=t.albedoMap)&&i.dispose(),null!=(o=t.occlusionMap)&&o.dispose(),null!=(r=t.normalMap)&&r.dispose(),null!=(s=t.roughnessMap)&&s.dispose(),a}}(i)),a}}function Fi(t,e){return function(n){n.isCastingShadow=!1,n.generate_v2sixm$(function(t){return function(e){e.transform.push();var n=t;e.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS);var i=new A;i.size.set_dleff0$(12,12),i.origin.set_y2kzbl$(i.size.x,i.size.y,0).scale_mx4ult$(-.5),n.setUvs_0(i,.06,0,.1955*i.size.x,.1955*i.size.y),e.rect_e5k3t5$(i),e.transform.pop(),e.transform.push();var o=t;e.translate_y2kzbl$(0,-.25,0),e.rotate_ad55pp$(90,$.Companion.X_AXIS);var r=new A;r.size.set_dleff0$(12,12),r.origin.set_y2kzbl$(r.size.x,r.size.y,0).scale_mx4ult$(-.5),o.setUvs_0(r,.06,0,.1955*r.size.x,.1955*r.size.y),e.rect_e5k3t5$(r),e.transform.pop(),e.transform.push();var s=t;e.translate_y2kzbl$(-6,-.125,0),e.rotate_ad55pp$(90,$.Companion.NEG_Y_AXIS),e.rotate_ad55pp$(90,$.Companion.Z_AXIS);var l=new A;l.size.set_dleff0$(.25,12),l.origin.set_y2kzbl$(l.size.x,l.size.y,0).scale_mx4ult$(-.5),s.setUvs_0(l,.06-.1955*l.size.x,0,.1955*l.size.x,.1955*l.size.y),e.rect_e5k3t5$(l),e.transform.pop(),e.transform.push();var p=t;e.translate_y2kzbl$(6,-.125,0),e.rotate_ad55pp$(90,$.Companion.Y_AXIS),e.rotate_ad55pp$(-90,$.Companion.Z_AXIS);var u=new A;u.size.set_dleff0$(.25,12),u.origin.set_y2kzbl$(u.size.x,u.size.y,0).scale_mx4ult$(-.5),p.setUvs_0(u,2.406,0,.1955*u.size.x,.1955*u.size.y),e.rect_e5k3t5$(u),e.transform.pop(),e.transform.push();var c=t;e.translate_y2kzbl$(0,-.125,6);var _=new A;_.size.set_dleff0$(12,.25),_.origin.set_y2kzbl$(_.size.x,_.size.y,0).scale_mx4ult$(-.5),c.setUvs_0(_,.06,2.346,.1955*_.size.x,.1955*_.size.y),e.rect_e5k3t5$(_),e.transform.pop(),e.transform.push();var h=t;e.translate_y2kzbl$(0,-.125,-6),e.rotate_ad55pp$(180,$.Companion.X_AXIS);var d=new A;return d.size.set_dleff0$(12,.25),d.origin.set_y2kzbl$(d.size.x,d.size.y,0).scale_mx4ult$(-.5),h.setUvs_0(d,.06,-.048875,.1955*d.size.x,.1955*d.size.y),e.rect_e5k3t5$(d),e.transform.pop(),a}}(t));var i=g(Bi(t,e,n));return n.shader=i,a}}function qi(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$=t,this.local$this$AoDemo=e,this.local$envMaps=void 0,this.local$$receiver=n}function Ui(t){var e=new $(6,10,-6);return t.setSpot_nve3wz$(e,S(e,-1).norm(),40),t.setColor_y83vuj$(y.Companion.WHITE.mix_y83vuj$(y.Companion.MD_AMBER,.2).toLinear(),500),a}function Vi(t,e){return function(n){return n.toggleButton_8v9fdr$("Enabled",t.aoPipeline_0.isEnabled,function(t){return function(e){return t.aoPipeline_0.isEnabled=e.isEnabled,a}}(t)),n.toggleButton_8v9fdr$("Show AO Map",e.isVisible,function(t){return function(e){return t.isVisible=e.isEnabled,a}}(e)),n.sliderWithValue_xbu91d$("Radius:",t.aoPipeline_0.radius,.1,3,2,void 0,function(t){return function(e){return t.aoPipeline_0.radius=e.value,a}}(t)),n.sliderWithValue_xbu91d$("Power:",F(t.aoPipeline_0.power,10),F(.2,10),F(5,10),2,void 0,function(t){return function(e){var n=t.aoPipeline_0,i=e.value;return n.power=M.pow(10,i),a}}(t)),n.sliderWithValue_xbu91d$("Strength:",t.aoPipeline_0.strength,0,5,2,void 0,function(t){return function(e){return t.aoPipeline_0.strength=e.value,a}}(t)),n.sliderWithValue_xbu91d$("AO Samples:",t.aoPipeline_0.kernelSz,4,128,0,void 0,function(t){return function(e){return t.aoPipeline_0.kernelSz=B(e.value),a}}(t)),n.sliderWithValue_xbu91d$("Map Size:",t.aoPipeline_0.mapSize,.1,1,1,void 0,function(t){return function(e){return t.aoPipeline_0.mapSize=B(10*e.value)/10,a}}(t)),a}}function Wi(t){return function(e){return e.toggleButton_8v9fdr$("Auto Rotate",t.autoRotate_0,function(t){return function(e){return t.autoRotate_0=e.isEnabled,a}}(t)),e.toggleButton_8v9fdr$("Spot Light",t.spotLight_0,function(t){return function(e){return t.spotLight_0=e.isEnabled,t.updateLighting_0(),a}}(t)),a}}function Gi(){Xi=this}function Hi(t,e){j.call(this,"red2gray",e),this.inRed=t,this.outGray=new P(new N("outGray"),this)}Hi.prototype=Object.create(j.prototype),Hi.prototype.constructor=Hi,Ii.prototype=Object.create(ys.prototype),Ii.prototype.constructor=Ii,eo.prototype=Object.create(j.prototype),eo.prototype.constructor=eo,Yi.prototype=Object.create(ys.prototype),Yi.prototype.constructor=Yi,bo.prototype=Object.create(j.prototype),bo.prototype.constructor=bo,vo.prototype=Object.create(j.prototype),vo.prototype.constructor=vo,fo.prototype=Object.create(Et.prototype),fo.prototype.constructor=fo,zo.prototype=Object.create(Q.prototype),zo.prototype.constructor=zo,jo.prototype=Object.create(j.prototype),jo.prototype.constructor=jo,Co.prototype=Object.create(qt.prototype),Co.prototype.constructor=Co,No.prototype=Object.create(j.prototype),No.prototype.constructor=No,Po.prototype=Object.create(j.prototype),Po.prototype.constructor=Po,To.prototype=Object.create(j.prototype),To.prototype.constructor=To,Oo.prototype=Object.create(j.prototype),Oo.prototype.constructor=Oo,Uo.prototype=Object.create(zt.prototype),Uo.prototype.constructor=Uo,Xo.prototype=Object.create(ge.prototype),Xo.prototype.constructor=Xo,Eo.prototype=Object.create(_e.prototype),Eo.prototype.constructor=Eo,Zo.prototype=Object.create(ge.prototype),Zo.prototype.constructor=Zo,br.prototype=Object.create(Q.prototype),br.prototype.constructor=br,Rr.prototype=Object.create(Et.prototype),Rr.prototype.constructor=Rr,zr.prototype=Object.create(ys.prototype),zr.prototype.constructor=zr,$s.prototype=Object.create(ys.prototype),$s.prototype.constructor=$s,Ts.prototype=Object.create(ys.prototype),Ts.prototype.constructor=Ts,Os.prototype=Object.create(ys.prototype),Os.prototype.constructor=Os,Ys.prototype=Object.create(Cn.prototype),Ys.prototype.constructor=Ys,Ws.prototype=Object.create(ys.prototype),Ws.prototype.constructor=Ws,ca.prototype=Object.create(Q.prototype),ca.prototype.constructor=ca,ea.prototype=Object.create(ys.prototype),ea.prototype.constructor=ea,ya.prototype=Object.create(Ea.prototype),ya.prototype.constructor=ya,va.prototype=Object.create(ys.prototype),va.prototype.constructor=va,Va.prototype=Object.create(Ea.prototype),Va.prototype.constructor=Va,dp.prototype=Object.create(Ea.prototype),dp.prototype.constructor=dp,Mp.prototype=Object.create(oi.prototype),Mp.prototype.constructor=Mp,Ip.prototype=Object.create(Mp.prototype),Ip.prototype.constructor=Ip,Bp.prototype=Object.create(Mp.prototype),Bp.prototype.constructor=Bp,Up.prototype=Object.create(Mp.prototype),Up.prototype.constructor=Up,Gp.prototype=Object.create(Mp.prototype),Gp.prototype.constructor=Gp,Kp.prototype=Object.create(Mp.prototype),Kp.prototype.constructor=Kp,Jp.prototype=Object.create(Mp.prototype),Jp.prototype.constructor=Jp,eu.prototype=Object.create(Mp.prototype),eu.prototype.constructor=eu,wp.prototype=Object.create(ys.prototype),wp.prototype.constructor=wp,mu.prototype=Object.create(Q.prototype),mu.prototype.constructor=mu,ru.prototype=Object.create(ys.prototype),ru.prototype.constructor=ru,Su.prototype=Object.create(Q.prototype),Su.prototype.constructor=Su,Ou.prototype=Object.create(ys.prototype),Ou.prototype.constructor=Ou,Du.prototype=Object.create(Q.prototype),Du.prototype.constructor=Du,Fu.prototype=Object.create(ge.prototype),Fu.prototype.constructor=Fu,qu.prototype=Object.create(ge.prototype),qu.prototype.constructor=qu,Uu.prototype=Object.create(ys.prototype),Uu.prototype.constructor=Uu,ac.prototype=Object.create(j.prototype),ac.prototype.constructor=ac,tc.prototype=Object.create(ys.prototype),tc.prototype.constructor=tc,hc.prototype=Object.create(bt.prototype),hc.prototype.constructor=hc,dc.prototype=Object.create(bt.prototype),dc.prototype.constructor=dc,fc.prototype=Object.create(Ti.prototype),fc.prototype.constructor=fc,Object.defineProperty(Ii.prototype,"aoPipeline_0",{configurable:!0,get:function(){return null==this.aoPipeline_953qvj$_0?s("aoPipeline"):this.aoPipeline_953qvj$_0},set:function(t){this.aoPipeline_953qvj$_0=t}}),Ii.prototype.lateInit_aemszp$=function(t){this.updateLighting_0()},qi.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},qi.prototype=Object.create(C.prototype),qi.prototype.constructor=qi,qi.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=c.EnvironmentHelper.hdriEnvironment_cj1d96$(this.local$this$,Jr().envMapBasePath+"/mossy_forest_1k.rgbe.png",this.local$$receiver,void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:this.local$envMaps=this.result_0;var t=new _(!0,!1);if(this.state_0=3,this.result_0=h(this.local$$receiver,Jr().modelBasePath+"/teapot.gltf.gz",t,void 0,this),this.result_0===z)return z;continue;case 3:var e=d(this.result_0),n=f(e.meshes.values);return this.local$this$.unaryPlus_uv0sim$(v("teapots",Di(n,this.local$this$AoDemo,this.local$envMaps))),this.local$this$.unaryPlus_uv0sim$(x("ground",!0,Fi(this.local$this$AoDemo,this.local$envMaps))),this.local$this$.plusAssign_f1kmr1$(w.Skybox.cube_o7q6nm$(this.local$envMaps.reflectionMap,1)),a;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Ii.prototype.setupMainScene_aemszp$=function(t){var e,n,i=new D(null);return i.unaryPlus_uv0sim$(l(i,void 0,Ai(i,this,t))),this.shadows_0.add_11rb$(new p(i,0,2048)),this.aoPipeline_0=u.Companion.createForward_ushge7$(i),t.assetMgr.launch_eln4bt$((e=i,n=this,function(t,i,o){var r=new qi(e,n,t,this,i);return o?r:r.doResume(null)})),i},Ii.prototype.setUvs_0=function(t,e,n,i,o){t.texCoordUpperLeft.set_dleff0$(e,n),t.texCoordUpperRight.set_dleff0$(e+i,n),t.texCoordLowerLeft.set_dleff0$(e,n+o),t.texCoordLowerRight.set_dleff0$(e+i,n+o)},Ii.prototype.updateLighting_0=function(){var t;for(this.spotLight_0?this.mainScene.lighting.singleLight_q9zcvo$(Ui):this.mainScene.lighting.lights.clear(),t=this.shadows_0.iterator();t.hasNext();)t.next().isShadowMapEnabled=this.spotLight_0},Ii.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,function(t){var n=t.image_vf5tfk$(void 0,new k(e.aoPipeline_0.aoMap,void 0,Ki().aoMapColorModel()));n.isVisible=!1;var i=n;return t.section_yfmn31$("Ambient Occlusion",Vi(e,i)),t.section_yfmn31$("Scene",Wi(e)),a}));var e},Gi.prototype.aoMapColorModel=function(){var t=new L("aoMap"),e={v:null},n=new q(t);e.v=n.stageInterfaceNode_iikjwn$("ifTexCoords",n.attrTexCoords().output),n.positionOutput=n.simpleVertexPositionNode().outVec4;var i=new U(t),o=i.texture2dSamplerNode_fzevit$(i.texture2dNode_61zpoe$("colorTex"),e.v.output),r=i.addNode_u9w9by$(new Hi(o.outColor,i.stage)).outGray;return i.colorOutput_a3v4si$(r),t},Hi.prototype.setup_llmhyc$=function(t){j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inRed)},Hi.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outGray.declare()+" = vec4("+this.inRed.ref1f_61zpoe$()+", "+this.inRed.ref1f_61zpoe$()+", "+this.inRed.ref1f_61zpoe$()+", 1.0);")},Hi.$metadata$={kind:T,simpleName:"Red2GrayNode",interfaces:[j]},Gi.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var Xi=null;function Ki(){return null===Xi&&new Gi,Xi}function Yi(){ho(),ys.call(this,"Atmosphere"),this.sunColor=y.Companion.WHITE;var t=new gt;t.setDirectional_czzhiu$($.Companion.NEG_Z_AXIS),t.setColor_y83vuj$(this.sunColor,5),this.sun=t,this.sunIntensity_0=1,this.time=.5,this.moonTime=0,this.animateTime_0=!0,this.timeSlider_0=null,this.textures=vt(),this.textures1d=vt(),this.deferredPipeline_enh35m$_0=this.deferredPipeline_enh35m$_0,this.atmoShader=new fo,this.earthGroup=new Q("earth"),this.opticalDepthLutPass_1meau0$_0=this.opticalDepthLutPass_1meau0$_0,this.shadows_0=E(),this.camTransform_0=new zo(ho().earthRadius),this.menuContainer_3y52kp$_0=this.menuContainer_3y52kp$_0,this.loadingLabel_8f6fxf$_0=this.loadingLabel_8f6fxf$_0,this.loadingComplete_0=!1,this.sceneSetupComplete_0=!1}function Zi(t,e,n,i){C.call(this,i),this.$controller=n,this.exceptionState_0=1,this.local$this$AtmosphereDemo=t,this.local$$receiver=e}function Ji(t,e,n,i,o,r){C.call(this,r),this.exceptionState_0=1,this.$this=t,this.local$$receiver=e,this.local$key=n,this.local$path=i,this.local$props=o}function Qi(t){var e=(new xt).icoDefaults();return e.steps=5,e.radius=1*ho().earthRadius,t.icoSphere_mojs8w$(e),a}function to(t){t.isFrustumChecked=!1,t.generate_v2sixm$(Qi);var e=new wt;return t.shader=new zt(e),a}function eo(t,e){j.call(this,"earthLightColor",e),this.lightColorGradient=t,this.inWorldPos_widqn3$_0=this.inWorldPos_widqn3$_0,this.inFragToLight_2axofe$_0=this.inFragToLight_2axofe$_0,this.inRadiance_2axs4i$_0=this.inRadiance_2axs4i$_0,this.outRadiance=new P(new ut(this.name+"_outRadiance"),this)}function no(t){var e=new A;return e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function io(t){return t.layoutSpec.setOrigin_4ujscr$(_t(),_t(),_t()),t.layoutSpec.setSize_4ujscr$(ht(100),ht(100),dt()),t.textAlignment=new mt(ft.CENTER,ft.CENTER),a}function oo(t){return function(e){return t.colorSlider_0(e,"R:",y.Companion.RED,t.atmoShader.scatteringCoeffs.x,0,2,function(t){return function(e){return t.updateScatteringCoeffs_0(e.value),a}}(t)),t.colorSlider_0(e,"G:",y.Companion.GREEN,t.atmoShader.scatteringCoeffs.y,0,2,function(t){return function(e){return t.updateScatteringCoeffs_0(void 0,e.value),a}}(t)),t.colorSlider_0(e,"B:",y.Companion.BLUE,t.atmoShader.scatteringCoeffs.z,0,2,function(t){return function(e){return t.updateScatteringCoeffs_0(void 0,void 0,e.value),a}}(t)),e.gap_mx4ult$(8),e.sliderWithValueSmall_jjtbof$("Pow:",t.atmoShader.scatteringCoeffPow,1,20,2,void 0,10,void 0,function(t){return function(e){return t.atmoShader.scatteringCoeffPow=e.value,a}}(t)),e.sliderWithValueSmall_jjtbof$("Str:",t.atmoShader.scatteringCoeffStrength,.01,5,2,void 0,10,void 0,function(t){return function(e){return t.atmoShader.scatteringCoeffStrength=e.value,a}}(t)),a}}function ro(t){return function(e){return t.colorSlider_0(e,"R:",y.Companion.RED,t.atmoShader.rayleighColor.r,0,4,function(t){return function(e){return t.updateRayleighColor_0(e.value),a}}(t)),t.colorSlider_0(e,"G:",y.Companion.GREEN,t.atmoShader.rayleighColor.g,0,4,function(t){return function(e){return t.updateRayleighColor_0(void 0,e.value),a}}(t)),t.colorSlider_0(e,"B:",y.Companion.BLUE,t.atmoShader.rayleighColor.b,0,4,function(t){return function(e){return t.updateRayleighColor_0(void 0,void 0,e.value),a}}(t)),e.gap_mx4ult$(8),e.sliderWithValueSmall_jjtbof$("Str:",t.atmoShader.rayleighColor.a,0,2,void 0,void 0,10,void 0,function(t){return function(e){return t.updateRayleighColor_0(void 0,void 0,void 0,e.value),a}}(t)),a}}function so(t){return function(e){return e.sliderWithValueSmall_jjtbof$("Str:",t.atmoShader.mieColor.a,0,2,void 0,void 0,10,void 0,function(t){return function(e){return t.updateMieColor_0(void 0,void 0,void 0,e.value),a}}(t)),e.sliderWithValueSmall_jjtbof$("g:",t.atmoShader.mieG,.5,.999,3,void 0,10,void 0,function(t){return function(e){return t.atmoShader.mieG=e.value,a}}(t)),a}}function ao(t){return yt(t,0)+" km"}function lo(t){return function(e){var n=ao;return e.sliderWithValueSmall_jjtbof$("Thickness:",(t.atmoShader.atmosphereRadius-ho().earthRadius)*ho().kmPerUnit,10,1e3,void 0,n,24,void 0,function(t){return function(e){return t.updateAtmosphereThickness_0(e.value),a}}(t)),e.sliderWithValueSmall_jjtbof$("Falloff:",t.opticalDepthLutPass_0.densityFalloff,0,15,2,void 0,24,void 0,function(t){return function(e){return t.opticalDepthLutPass_0.densityFalloff=e.value,a}}(t)),a}}function po(t){var e=24*t,n=$t(e),i=$t(e%1*60),o=i<10?"0":"";return n.toString()+":"+o+i}function uo(t){return function(e){e.sliderWithValueSmall_jjtbof$("Sun:",t.atmoShader.sunColor.a,.1,5,2,void 0,24,void 0,function(t){return function(e){return t.sunIntensity_0=e.value,t.updateSun_0(),a}}(t));var n=po;t.timeSlider_0=e.sliderWithValueSmall_jjtbof$("Time:",t.time,0,1,void 0,n,24,void 0,function(t){return function(e){return t.time=e.value,t.updateSun_0(),a}}(t)),e.toggleButton_8v9fdr$("Animate Time",t.animateTime_0,function(t){return function(e){return t.animateTime_0=e.isEnabled,a}}(t));var i=e.textWithValue_puj7f4$("Camera Height:",""),o=t;return i.onUpdate.add_11rb$(function(t,e){return function(n,i){var o=t.cameraHeight*ho().kmPerUnit;return e.text=yt(o,1)+" km",a}}(o,i)),a}}function co(){_o=this,this.kmPerUnit=100,this.earthRadius=6e3/this.kmPerUnit,this.earthAxisTilt=15,this.moonRadius=1750/this.kmPerUnit,this.moonDistScale=.25,this.moonDist=384400/this.kmPerUnit*this.moonDistScale,this.moonInclination=5.145;var t=this.moonDist/this.moonDistScale;this.keplerC=M.pow(t,3)/M.pow(27.32,2);var e=this.moonDist;this.moonT=M.pow(e,3)/this.keplerC,this.waterColorLow=y.Companion.fromHex_61zpoe$("0D1F56").toLinear(),this.waterColorHigh=y.Companion.fromHex_61zpoe$("020514").toLinear(),this.texMilkyway="Milkyway",this.texSun="Sun",this.texSunBg="Sun Background",this.texMoon="Moon"}Ii.$metadata$={kind:T,simpleName:"AoDemo",interfaces:[ys]},Object.defineProperty(Yi.prototype,"deferredPipeline",{configurable:!0,get:function(){return null==this.deferredPipeline_enh35m$_0?s("deferredPipeline"):this.deferredPipeline_enh35m$_0},set:function(t){this.deferredPipeline_enh35m$_0=t}}),Object.defineProperty(Yi.prototype,"opticalDepthLutPass_0",{configurable:!0,get:function(){return null==this.opticalDepthLutPass_1meau0$_0?s("opticalDepthLutPass"):this.opticalDepthLutPass_1meau0$_0},set:function(t){this.opticalDepthLutPass_1meau0$_0=t}}),Object.defineProperty(Yi.prototype,"menuContainer_0",{configurable:!0,get:function(){return null==this.menuContainer_3y52kp$_0?s("menuContainer"):this.menuContainer_3y52kp$_0},set:function(t){this.menuContainer_3y52kp$_0=t}}),Object.defineProperty(Yi.prototype,"loadingLabel_0",{configurable:!0,get:function(){return null==this.loadingLabel_8f6fxf$_0?s("loadingLabel"):this.loadingLabel_8f6fxf$_0},set:function(t){this.loadingLabel_8f6fxf$_0=t}}),Object.defineProperty(Yi.prototype,"cameraHeight",{configurable:!0,get:function(){return this.mainScene.camera.globalPos.distance_czzhiu$($.Companion.ZERO)-ho().earthRadius}}),Zi.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Zi.prototype=Object.create(C.prototype),Zi.prototype.constructor=Zi,Zi.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=W(V,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:if(this.state_0=3,this.result_0=this.local$this$AtmosphereDemo.loadTex_0(this.local$$receiver,ho().texMilkyway,Jr().awsBaseUrl+"/solarsystem/stars_bg.jpg",void 0,this),this.result_0===z)return z;continue;case 3:if(this.state_0=4,this.result_0=this.local$this$AtmosphereDemo.loadTex_0(this.local$$receiver,ho().texSun,Jr().awsBaseUrl+"/solarsystem/sun.png",void 0,this),this.result_0===z)return z;continue;case 4:if(this.state_0=5,this.result_0=this.local$this$AtmosphereDemo.loadTex_0(this.local$$receiver,ho().texSunBg,Jr().awsBaseUrl+"/solarsystem/sun_bg.png",void 0,this),this.result_0===z)return z;continue;case 5:if(this.state_0=6,this.result_0=this.local$this$AtmosphereDemo.loadTex_0(this.local$$receiver,ho().texMoon,Jr().awsBaseUrl+"/solarsystem/moon.jpg",void 0,this),this.result_0===z)return z;continue;case 6:if(this.state_0=7,this.result_0=this.local$this$AtmosphereDemo.loadTex_0(this.local$$receiver,Lo().texEarthDay,Jr().awsBaseUrl+"/solarsystem/earth_day.jpg",void 0,this),this.result_0===z)return z;continue;case 7:if(this.state_0=8,this.result_0=this.local$this$AtmosphereDemo.loadTex_0(this.local$$receiver,Lo().texEarthNight,Jr().awsBaseUrl+"/solarsystem/earth_night.jpg",void 0,this),this.result_0===z)return z;continue;case 8:if(this.state_0=9,this.result_0=this.local$this$AtmosphereDemo.loadTex_0(this.local$$receiver,Lo().texEarthNrm,Jr().awsBaseUrl+"/solarsystem/earth_nrm.jpg",void 0,this),this.result_0===z)return z;continue;case 9:if(this.state_0=10,this.result_0=this.local$this$AtmosphereDemo.loadTex_0(this.local$$receiver,Lo().texOceanNrm,Jr().awsBaseUrl+"/solarsystem/oceanNrm.jpg",void 0,this),this.result_0===z)return z;continue;case 10:var t=new X(G.R,H.CLAMP_TO_EDGE,H.CLAMP_TO_EDGE,H.CLAMP_TO_EDGE);if(this.state_0=11,this.result_0=this.local$this$AtmosphereDemo.loadTex_0(this.local$$receiver,Lo().texEarthHeight,Jr().awsBaseUrl+"/solarsystem/earth_height_8k.png",t,this),this.result_0===z)return z;continue;case 11:if(this.local$this$AtmosphereDemo.loadingLabel_0.text="Initializing Scene...",this.state_0=12,this.result_0=W(K,this),this.result_0===z)return z;continue;case 12:return this.local$this$AtmosphereDemo.loadingComplete_0=!0,a;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Yi.prototype.lateInit_aemszp$=function(t){var e,n=this.camTransform_0;this.mainScene.registerDragHandler_y44tw7$(n),n.unaryPlus_uv0sim$(this.mainScene.camera),t.assetMgr.launch_eln4bt$((e=this,function(t,n,i){var o=new Zi(e,t,this,n);return i?o:o.doResume(null)}))},Ji.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Ji.prototype=Object.create(C.prototype),Ji.prototype.constructor=Ji,Ji.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(void 0===this.local$props&&(this.local$props=new X),this.$this.loadingLabel_0.text='Loading texture "'+this.local$key+'"...',this.state_0=2,this.result_0=this.local$$receiver.loadAndPrepareTexture_va0f2y$(this.local$path,this.local$props,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:var t=this.$this.textures,e=this.result_0;return void t.put_xwzc9p$(this.local$key,e);default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Yi.prototype.loadTex_0=function(t,e,n,i,o,r){var s=new Ji(this,t,e,n,i,o);return r?s:s.doResume(null)},Yi.prototype.setupMainScene_aemszp$=function(t){var n=new D(null);this.opticalDepthLutPass_0=new Y,n.addOffscreenPass_m1c2kf$(this.opticalDepthLutPass_0),n.lighting.lights.clear();var i=n.lighting.lights,o=this.sun;i.add_11rb$(o);var r=this.shadows_0,s=new p(n,0);r.add_11rb$(s);var l=new Z;l.isWithEmissive=!0,l.isWithAmbientOcclusion=!1,l.isWithScreenSpaceReflections=!1,l.maxGlobalLights=1,l.shadowMaps=this.shadows_0,l.pbrSceneShader=this.makeDeferredPbrShader_0(l);var u=l;this.deferredPipeline=new J(n,u),this.deferredPipeline.pbrPass.sceneShader.ambient=new y(.05,.05,.05).toLinear();var c=this.atmoShader;c.opticalDepthLut=this.opticalDepthLutPass_0.colorTexture,c.sceneColor=this.deferredPipeline.pbrPass.colorTexture,c.scenePos=this.deferredPipeline.mrtPass.positionAo,c.surfaceRadius=ho().earthRadius,c.atmosphereRadius=6500/ho().kmPerUnit,c.scatteringCoeffs=new $(.75,1.1,1.35),c.rayleighColor=new y(.5,.5,1,1),c.mieColor=new y(1,.35,.35,.5),c.mieG=.8,c.scatteringCoeffStrength=1;var _=new Q;_.isFrustumChecked=!1,_.unaryPlus_uv0sim$(v("shadowEarth",to));var h,d,f,m=_;for(this.earthGroup.plusAssign_f1kmr1$(m),h=this.shadows_0.iterator();h.hasNext();){var b=h.next();b.drawNode=m,b.shadowBounds=this.earthGroup.bounds}return n.onUpdate.add_11rb$((d=this,f=m,function(t,n){var i,o;if(d.loadingComplete_0){d.sceneSetupComplete_0||(d.sceneSetupComplete_0=!0,d.finalizeSceneSetup_0(d.deferredPipeline),d.earthGroup.minusAssign_f1kmr1$(f));var r=e.isType(i=d.mainScene.camera,tt)?i:et(),s=r.globalPos.length()-ho().earthRadius;r.position.set_czzhiu$($.Companion.ZERO),r.lookAt.set_czzhiu$($.Companion.NEG_Z_AXIS);var l,p=.5*s;if(l=p<.003?.003:p>5?5:p,r.clipNear=l,r.clipFar=1e3*r.clipNear,d.animateTime_0){var u=n.deltaT/120;null!=(o=d.timeSlider_0)&&(o.value=(d.time+u)%1),d.moonTime=d.moonTime+u/ho().moonT}}return a})),n.onDispose.add_11rb$(function(t){return function(e,n){var i,o;for(i=t.textures.values.iterator();i.hasNext();)i.next().dispose();for(o=t.textures1d.values.iterator();o.hasNext();)o.next().dispose();return a}}(this)),n},Yi.prototype.makeDeferredPbrShader_0=function(t){var n=new it;n.isWithEmissive=t.isWithEmissive,n.isScrSpcAmbientOcclusion=t.isWithAmbientOcclusion,n.isScrSpcReflections=t.isWithScreenSpaceReflections,n.maxLights=t.maxGlobalLights,I(n.shadowMaps,this.shadows_0),n.useImageBasedLighting_po417x$(t.environmentMaps);var i,o,r=n,s=nt.Companion.defaultDeferredPbrModel_ijjr66$(r),l=new U(s);t:do{var p;for(i=Ct.ALL,p=s.stages.values.iterator();p.hasNext();){var u=p.next();if(0!=(u.stage.mask&i.mask)){var c,_=u.nodes,h=E();for(c=_.iterator();c.hasNext();){var f=c.next();e.isType(f,ot)&&h.add_11rb$(f)}var m=St(h);if(null!=m){o=m;break t}}}o=null}while(0);var $,b,g=d(o);t:do{var v;for($=Ct.ALL,v=s.stages.values.iterator();v.hasNext();){var x=v.next();if(0!=(x.stage.mask&$.mask)){var w,z=x.nodes,C=E();for(w=z.iterator();w.hasNext();){var S=w.next();e.isType(S,rt)&&C.add_11rb$(S)}var k=St(C);if(null!=k){b=k;break t}}}b=null}while(0);var L=d(b),j=l.texture1dNode_61zpoe$("tLightGradient"),N=l.addNode_u9w9by$(new eo(j,l.stage));N.inWorldPos=L.inFragPos,N.inFragToLight=g.outFragToLightDirection,N.inRadiance=g.outRadiance,L.inRadiance=N.outRadiance;var P=s,T=90*R.DEG_2_RAD,O=st(M.cos(T),y.Companion.MD_ORANGE.mix_y83vuj$(y.Companion.WHITE,.6).toLinear()),A=85*R.DEG_2_RAD,D=st(M.cos(A),y.Companion.MD_AMBER.mix_y83vuj$(y.Companion.WHITE,.6).toLinear()),B=80*R.DEG_2_RAD,F=st(M.cos(B),y.Companion.WHITE.toLinear()),q=0*R.DEG_2_RAD,V=new lt(new at([O,D,F,st(M.cos(q),y.Companion.WHITE.toLinear())])),W=this.textures1d,G=Lo().texLightGradient;W.put_xwzc9p$(G,V);var H,X,K=new nt(r,P);return K.onPipelineCreated.add_11rb$((H=V,X=P,function(t,n,i){var o,r,s,l,p=X;t:do{var u;for(s=Ct.ALL,u=p.stages.values.iterator();u.hasNext();){var c=u.next();if(0!=(c.stage.mask&s.mask)){var _,h,d=c.nodes;e:do{var f;for(f=d.iterator();f.hasNext();){var m=f.next();if(kt(m.name,"tLightGradient")&&e.isType(m,pt)){h=m;break e}}h=null}while(0);var y=null==(_=h)||e.isType(_,pt)?_:et();if(null!=y){l=y;break t}}}l=null}while(0);return null!=(r=null!=(o=l)?o.sampler:null)&&(r.texture=H),a})),K},Object.defineProperty(eo.prototype,"inWorldPos",{configurable:!0,get:function(){return null==this.inWorldPos_widqn3$_0?s("inWorldPos"):this.inWorldPos_widqn3$_0},set:function(t){this.inWorldPos_widqn3$_0=t}}),Object.defineProperty(eo.prototype,"inFragToLight",{configurable:!0,get:function(){return null==this.inFragToLight_2axofe$_0?s("inFragToLight"):this.inFragToLight_2axofe$_0},set:function(t){this.inFragToLight_2axofe$_0=t}}),Object.defineProperty(eo.prototype,"inRadiance",{configurable:!0,get:function(){return null==this.inRadiance_2axs4i$_0?s("inRadiance"):this.inRadiance_2axs4i$_0},set:function(t){this.inRadiance_2axs4i$_0=t}}),eo.prototype.setup_llmhyc$=function(t){j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inWorldPos,this.inFragToLight,this.inRadiance])},eo.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                float "+this.name+"_l = clamp(dot(normalize("+this.inWorldPos.ref3f_61zpoe$()+"), "+this.inFragToLight.ref3f_61zpoe$()+"), 0.0, 1.0);\n                "+this.outRadiance.declare()+" = "+this.inRadiance.ref3f_61zpoe$()+" * "+t.sampleTexture1d_buzeal$(this.lightColorGradient.name,this.name+"_l")+".rgb;\n            ")},eo.$metadata$={kind:T,simpleName:"EarthLightColorNode",interfaces:[j]},Yi.prototype.finalizeSceneSetup_0=function(t){this.menuContainer_0.isVisible=!0,this.loadingLabel_0.isVisible=!1;var e,n=new Eo(this);this.atmoShader.skyColor=n.colorTexture,this.setupContent_0(t.contentGroup),this.mainScene.unaryPlus_uv0sim$(x(void 0,void 0,(e=this,function(t){return t.isFrustumChecked=!1,t.generate_v2sixm$(no),t.shader=e.atmoShader,a}))),this.updateSun_0()},Yi.prototype.setupContent_0=function(t){var e=this.earthGroup;e.isFrustumChecked=!1,e.unaryPlus_uv0sim$(this.camTransform_0);var n,i,o,r=new Zo,s=new Co(this.textures);s.heightMap=this.textures.get_11rb$(Lo().texEarthHeight),s.oceanNrmTex=this.textures.get_11rb$(Lo().texOceanNrm),r.shader=s,r.onUpdate.add_11rb$((n=this,i=r,o=s,function(t,e){var r,s,l,p,u,c;i.updateTiles_czzhiu$(n.mainScene.camera.globalPos);var _=n.cameraHeight*ho().kmPerUnit/100,h=_<0?0:_>1?1:_;null!=(s=null!=(r=o.uWaterColor)?r.value:null)&&s.set_czzhhz$(ho().waterColorLow.mix_y83vuj$(ho().waterColorHigh,h)),null!=(p=null!=(l=o.uNormalShift)?l.value:null)&&p.set_7b5o5w$(.0051*e.time,.0037*e.time,-.0071*e.time,-.0039*e.time);var d=ct(n.sun.direction).scale_mx4ult$(-1);return null!=(c=null!=(u=o.uDirToSun)?u.value:null)&&(c.set_czzhiu$(d),t.toLocalCoords_w1lst9$(c,0)),n.atmoShader.dirToSun=d,a}));var l=r;e.unaryPlus_uv0sim$(l),e.onUpdate.add_11rb$(function(t,e){return function(n,i){return t.setIdentity(),t.rotate_ad55pp$(ho().earthAxisTilt,$.Companion.NEG_X_AXIS),t.rotate_ad55pp$(360*e.time,$.Companion.Y_AXIS),a}}(e,this)),t.unaryPlus_uv0sim$(e)},Yi.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,function(t){var n=t.uiRoot,i=e;return i.loadingLabel_0=n.label_tokfmu$("Loading...",io),n.unaryPlus_uv0sim$(i.loadingLabel_0),e.menuContainer_0=t.menuContainer,t.menuContainer.isVisible=!1,t.menuWidth=380,t.section_yfmn31$("Scattering",oo(e)),t.section_yfmn31$("Rayleigh",ro(e)),t.section_yfmn31$("Mie",so(e)),t.section_yfmn31$("Atmosphere",lo(e)),t.section_yfmn31$("View",uo(e)),a}));var e},Yi.prototype.updateSun_0=function(){var t=new bt(0,0,-1);this.atmoShader.dirToSun=t,this.atmoShader.sunColor=this.sunColor.withAlpha_mx4ult$(this.sunIntensity_0);var e=this.mainScene.lighting.lights.get_za3lpa$(0);e.setDirectional_czzhiu$(ct(t).scale_mx4ult$(-1)),e.setColor_y83vuj$(this.sunColor,5*this.sunIntensity_0)},Yi.prototype.updateRayleighColor_0=function(t,e,n,i){void 0===t&&(t=this.atmoShader.rayleighColor.r),void 0===e&&(e=this.atmoShader.rayleighColor.g),void 0===n&&(n=this.atmoShader.rayleighColor.b),void 0===i&&(i=this.atmoShader.rayleighColor.a),this.atmoShader.rayleighColor=new y(t,e,n,i)},Yi.prototype.updateMieColor_0=function(t,e,n,i){void 0===t&&(t=this.atmoShader.mieColor.r),void 0===e&&(e=this.atmoShader.mieColor.g),void 0===n&&(n=this.atmoShader.mieColor.b),void 0===i&&(i=this.atmoShader.mieColor.a),this.atmoShader.mieColor=new y(t,e,n,i)},Yi.prototype.updateScatteringCoeffs_0=function(t,e,n){void 0===t&&(t=this.atmoShader.scatteringCoeffs.x),void 0===e&&(e=this.atmoShader.scatteringCoeffs.y),void 0===n&&(n=this.atmoShader.scatteringCoeffs.z),this.atmoShader.scatteringCoeffs=new $(t,e,n)},Yi.prototype.updateAtmosphereThickness_0=function(t){var e=ho().earthRadius+t/ho().kmPerUnit;this.atmoShader.atmosphereRadius=e,this.opticalDepthLutPass_0.atmosphereRadius=e},Yi.prototype.colorSlider_0=function(t,e,n,i,o,r,s){var a=t.sliderWithValueSmall_jjtbof$(e,i,o,r,void 0,void 0,10,void 0,s);return a.knobColor.setCustom_11rb$(n),a.trackColorHighlighted.setCustom_11rb$(n.mix_y83vuj$(y.Companion.BLACK,.5)),a},co.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var _o=null;function ho(){return null===_o&&new co,_o}function fo(){var t;$o(),Et.call(this,$o().atmosphereModel_0()),this.opticalDepthLutNode_0=null,this.sceneColorNode_0=null,this.scenePosNode_0=null,this.skyColorNode_0=null,this.atmosphereNode_0=null,this.opticalDepthLut_p8nvlg$_0=null,this.sceneColor_bwjq5t$_0=null,this.scenePos_th0mjk$_0=null,this.skyColor_mqtgu2$_0=null,this.dirToSun_auak70$_0=new $(0,0,1),this.sunColor_wzy3ch$_0=y.Companion.WHITE,this.scatteringCoeffPow_atsxc5$_0=4.5,this.scatteringCoeffStrength_31rdhy$_0=1,this.scatteringCoeffs_4w0w4q$_0=new $(.5,.8,1),this.rayleighColor_1rrtao$_0=new y(.75,.75,.75,1),this.mieColor_ii078u$_0=new y(1,.9,.8,.3),this.mieG_ochup6$_0=.99,this.planetCenter_3pilph$_0=$.Companion.ZERO,this.surfaceRadius_rmfofh$_0=600,this.atmosphereRadius_w8w0fo$_0=609,this.onPipelineSetup.add_11rb$(wo),this.onPipelineCreated.add_11rb$((t=this,function(n,i,o){var r,s,l,p,u,c,_,h,d,f,m,y=t,$=t.model;t:do{var b;for(f=Ct.ALL,b=$.stages.values.iterator();b.hasNext();){var g=b.next();if(0!=(g.stage.mask&f.mask)){var v,x,w=g.nodes;e:do{var z;for(z=w.iterator();z.hasNext();){var C=z.next();if(kt(C.name,"tOpticalDepthLut")&&e.isType(C,Rt)){x=C;break e}}x=null}while(0);var S=null==(v=x)||e.isType(v,Rt)?v:et();if(null!=S){m=S;break t}}}m=null}while(0);y.opticalDepthLutNode_0=m,null!=(s=null!=(r=t.opticalDepthLutNode_0)?r.sampler:null)&&(s.texture=t.opticalDepthLut);var k,L,j=t,N=t.model;t:do{var P;for(k=Ct.ALL,P=N.stages.values.iterator();P.hasNext();){var T=P.next();if(0!=(T.stage.mask&k.mask)){var O,M,R=T.nodes;e:do{var I;for(I=R.iterator();I.hasNext();){var A=I.next();if(kt(A.name,"tSceneColor")&&e.isType(A,Rt)){M=A;break e}}M=null}while(0);var D=null==(O=M)||e.isType(O,Rt)?O:et();if(null!=D){L=D;break t}}}L=null}while(0);j.sceneColorNode_0=L,null!=(p=null!=(l=t.sceneColorNode_0)?l.sampler:null)&&(p.texture=t.sceneColor);var B,F,q=t,U=t.model;t:do{var V;for(B=Ct.ALL,V=U.stages.values.iterator();V.hasNext();){var W=V.next();if(0!=(W.stage.mask&B.mask)){var G,H,X=W.nodes;e:do{var K;for(K=X.iterator();K.hasNext();){var Y=K.next();if(kt(Y.name,"tScenePos")&&e.isType(Y,Rt)){H=Y;break e}}H=null}while(0);var Z=null==(G=H)||e.isType(G,Rt)?G:et();if(null!=Z){F=Z;break t}}}F=null}while(0);q.scenePosNode_0=F,null!=(c=null!=(u=t.scenePosNode_0)?u.sampler:null)&&(c.texture=t.scenePos);var J,Q,tt=t,nt=t.model;t:do{var it;for(J=Ct.ALL,it=nt.stages.values.iterator();it.hasNext();){var ot=it.next();if(0!=(ot.stage.mask&J.mask)){var rt,st,at=ot.nodes;e:do{var lt;for(lt=at.iterator();lt.hasNext();){var pt=lt.next();if(kt(pt.name,"tSkyColor")&&e.isType(pt,Rt)){st=pt;break e}}st=null}while(0);var ut=null==(rt=st)||e.isType(rt,Rt)?rt:et();if(null!=ut){Q=ut;break t}}}Q=null}while(0);tt.skyColorNode_0=Q,null!=(h=null!=(_=t.skyColorNode_0)?_.sampler:null)&&(h.texture=t.skyColor);var ct,_t,ht=t,dt=t.model;t:do{var ft;for(ct=Ct.ALL,ft=dt.stages.values.iterator();ft.hasNext();){var mt=ft.next();if(0!=(mt.stage.mask&ct.mask)){var yt,$t=mt.nodes,bt=E();for(yt=$t.iterator();yt.hasNext();){var gt=yt.next();e.isType(gt,jt)&&bt.add_11rb$(gt)}var vt=St(bt);if(null!=vt){_t=vt;break t}}}_t=null}while(0);if(ht.atmosphereNode_0=_t,null!=(d=t.atmosphereNode_0)){var xt=t;d.uDirToSun.value.set_czzhiu$(xt.dirToSun),d.uPlanetCenter.value.set_czzhiu$(xt.planetCenter),d.uSurfaceRadius.value=xt.surfaceRadius,d.uAtmosphereRadius.value=xt.atmosphereRadius,d.uRayleighColor.value.set_czzhhz$(xt.rayleighColor),d.uMieColor.value.set_czzhhz$(xt.mieColor),d.uMieG.value=xt.mieG,d.uSunColor.value.set_czzhhz$(xt.sunColor),xt.updateScatteringCoeffs_0()}return a}))}function mo(){yo=this}Yi.$metadata$={kind:T,simpleName:"AtmosphereDemo",interfaces:[ys]},Object.defineProperty(fo.prototype,"opticalDepthLut",{configurable:!0,get:function(){return this.opticalDepthLut_p8nvlg$_0},set:function(t){var e,n;this.opticalDepthLut_p8nvlg$_0=t,null!=(n=null!=(e=this.opticalDepthLutNode_0)?e.sampler:null)&&(n.texture=t)}}),Object.defineProperty(fo.prototype,"sceneColor",{configurable:!0,get:function(){return this.sceneColor_bwjq5t$_0},set:function(t){var e,n;this.sceneColor_bwjq5t$_0=t,null!=(n=null!=(e=this.sceneColorNode_0)?e.sampler:null)&&(n.texture=t)}}),Object.defineProperty(fo.prototype,"scenePos",{configurable:!0,get:function(){return this.scenePos_th0mjk$_0},set:function(t){var e,n;this.scenePos_th0mjk$_0=t,null!=(n=null!=(e=this.scenePosNode_0)?e.sampler:null)&&(n.texture=t)}}),Object.defineProperty(fo.prototype,"skyColor",{configurable:!0,get:function(){return this.skyColor_mqtgu2$_0},set:function(t){var e,n;this.skyColor_mqtgu2$_0=t,null!=(n=null!=(e=this.skyColorNode_0)?e.sampler:null)&&(n.texture=t)}}),Object.defineProperty(fo.prototype,"dirToSun",{configurable:!0,get:function(){return this.dirToSun_auak70$_0},set:function(t){var e,n,i;this.dirToSun_auak70$_0=t,null!=(i=null!=(n=null!=(e=this.atmosphereNode_0)?e.uDirToSun:null)?n.value:null)&&i.set_czzhiu$(t)}}),Object.defineProperty(fo.prototype,"sunColor",{configurable:!0,get:function(){return this.sunColor_wzy3ch$_0},set:function(t){var e,n,i;this.sunColor_wzy3ch$_0=t,null!=(i=null!=(n=null!=(e=this.atmosphereNode_0)?e.uSunColor:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(fo.prototype,"scatteringCoeffPow",{configurable:!0,get:function(){return this.scatteringCoeffPow_atsxc5$_0},set:function(t){this.scatteringCoeffPow_atsxc5$_0=t,this.updateScatteringCoeffs_0()}}),Object.defineProperty(fo.prototype,"scatteringCoeffStrength",{configurable:!0,get:function(){return this.scatteringCoeffStrength_31rdhy$_0},set:function(t){this.scatteringCoeffStrength_31rdhy$_0=t,this.updateScatteringCoeffs_0()}}),Object.defineProperty(fo.prototype,"scatteringCoeffs",{configurable:!0,get:function(){return this.scatteringCoeffs_4w0w4q$_0},set:function(t){this.scatteringCoeffs_4w0w4q$_0=t,this.updateScatteringCoeffs_0()}}),Object.defineProperty(fo.prototype,"rayleighColor",{configurable:!0,get:function(){return this.rayleighColor_1rrtao$_0},set:function(t){var e,n,i;this.rayleighColor_1rrtao$_0=t,null!=(i=null!=(n=null!=(e=this.atmosphereNode_0)?e.uRayleighColor:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(fo.prototype,"mieColor",{configurable:!0,get:function(){return this.mieColor_ii078u$_0},set:function(t){var e,n,i;this.mieColor_ii078u$_0=t,null!=(i=null!=(n=null!=(e=this.atmosphereNode_0)?e.uMieColor:null)?n.value:null)&&i.set_czzhhz$(t)}}),Object.defineProperty(fo.prototype,"mieG",{configurable:!0,get:function(){return this.mieG_ochup6$_0},set:function(t){var e,n;this.mieG_ochup6$_0=t,null!=(n=null!=(e=this.atmosphereNode_0)?e.uMieG:null)&&(n.value=t)}}),Object.defineProperty(fo.prototype,"planetCenter",{configurable:!0,get:function(){return this.planetCenter_3pilph$_0},set:function(t){var e,n,i;this.planetCenter_3pilph$_0=t,null!=(i=null!=(n=null!=(e=this.atmosphereNode_0)?e.uPlanetCenter:null)?n.value:null)&&i.set_czzhiu$(t)}}),Object.defineProperty(fo.prototype,"surfaceRadius",{configurable:!0,get:function(){return this.surfaceRadius_rmfofh$_0},set:function(t){var e,n;this.surfaceRadius_rmfofh$_0=t,null!=(n=null!=(e=this.atmosphereNode_0)?e.uSurfaceRadius:null)&&(n.value=t)}}),Object.defineProperty(fo.prototype,"atmosphereRadius",{configurable:!0,get:function(){return this.atmosphereRadius_w8w0fo$_0},set:function(t){var e,n;this.atmosphereRadius_w8w0fo$_0=t,null!=(n=null!=(e=this.atmosphereNode_0)?e.uAtmosphereRadius:null)&&(n.value=t)}}),fo.prototype.updateScatteringCoeffs_0=function(){var t,e,n;if(null!=(n=null!=(e=null!=(t=this.atmosphereNode_0)?t.uScatteringCoeffs:null)?e.value:null)){var i=this.scatteringCoeffs.x,o=this.scatteringCoeffPow;n.x=M.pow(i,o)*this.scatteringCoeffStrength;var r=this.scatteringCoeffs.y,s=this.scatteringCoeffPow;n.y=M.pow(r,s)*this.scatteringCoeffStrength;var a=this.scatteringCoeffs.z,l=this.scatteringCoeffPow;n.z=M.pow(a,l)*this.scatteringCoeffStrength}},mo.prototype.atmosphereModel_0=function(){var t=new L,e={v:null},n={v:null},i={v:null},o=new q(t);e.v=o.mvpNode();var r=o.attrTexCoords().output,s=o.addNode_u9w9by$(new bo(o.stage));s.inScreenPos=r;var a=s;i.v=o.stageInterfaceNode_iikjwn$("ifViewDir",a.outViewDir),n.v=o.stageInterfaceNode_iikjwn$("ifTexCoords",r),o.positionOutput=o.fullScreenQuadPositionNode_r20yfm$(r).outQuadPos;var l=new U(t);l.addNode_u9w9by$(new Lt(l.stage));var p=e.v.addToStage_llmhyc$(l.stage),u=l.texture2dNode_61zpoe$("tOpticalDepthLut"),c=l.texture2dSamplerNode_fzevit$(l.texture2dNode_61zpoe$("tSceneColor"),n.v.output).outColor,_=l.texture2dSamplerNode_fzevit$(l.texture2dNode_61zpoe$("tSkyColor"),n.v.output).outColor,h=l.texture2dSamplerNode_fzevit$(l.texture2dNode_61zpoe$("tScenePos"),n.v.output).outColor,d=l.addNode_u9w9by$(new vo(l.stage));d.inViewPos=h;var f=d,m=l.addNode_u9w9by$(new jt(u,l.stage));m.inSceneColor=c,m.inSceneDepth=l.splitNode_500t7j$(h,"z").output,m.inScenePos=f.outWorldPos,m.inSkyColor=_,m.inViewDepth=l.splitNode_500t7j$(h,"z").output,m.inCamPos=p.outCamPos,m.inLookDir=i.v.output;var y=m;return l.colorOutput_a3v4si$(l.hdrToLdrNode_r20yfm$(y.outColor).outColor),t},mo.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var yo=null;function $o(){return null===yo&&new mo,yo}function bo(t){j.call(this,"xyToViewDir",t),this.uInvViewProjMat_0=new Nt("uInvViewProjMat"),this.inScreenPos=new P(new Tt(Pt.Companion.ZERO)),this.outViewDir=new P(new ut(this.name+"_outWorldPos"),this)}function go(t){return function(e){return e.unaryPlus_wq3w46$(function(t){return function(){return t.uInvViewProjMat_0}}(t)),e.onUpdate=function(t){return function(e,n){return t.uInvViewProjMat_0.value.set_d4zu6l$(n.renderPass.camera.invViewProj),a}}(t),a}}function vo(t){j.call(this,"view2worldPos",t),this.uInvViewMat_0=new Nt("uInvViewMat"),this.inViewPos=new P(new Ot($.Companion.ZERO)),this.outWorldPos=new P(new N(this.name+"_outWorldPos"),this)}function xo(t){return function(e){return e.unaryPlus_wq3w46$(function(t){return function(){return t.uInvViewMat_0}}(t)),e.onUpdate=function(t){return function(e,n){return t.uInvViewMat_0.value.set_d4zu6l$(n.renderPass.camera.invView),a}}(t),a}}function wo(t,e,n){return t.depthTest=Mt.DISABLED,a}function zo(t){var e;Q.call(this),this.earthRadius=t,this.planetRotX=0,this.planetRotY=0,this.lookRotX=0,this.lookRotY=0,this.camRotX=0,this.zoom=2,this.minZoom=.001,this.maxZoom=15,this.planetRot_0=new It,this.lookRot_0=new It,this.camRot_0=new It,this.planetRot_0.rotate_5820x2$(13,At.Companion.Y_AXIS),this.planetRot_0.rotate_5820x2$(40,At.Companion.NEG_X_AXIS),this.onUpdate.add_11rb$((e=this,function(t,n){var i=e.invTransform.transform_j7uy7i$(Dt(At.Companion.X_AXIS),0),o=e.invTransform.transform_j7uy7i$(Dt(At.Companion.Y_AXIS),0);return e.lookRot_0.setIdentity(),e.lookRot_0.rotate_5820x2$(e.lookRotY,At.Companion.Z_AXIS),e.lookRot_0.rotate_5820x2$(e.lookRotX,At.Companion.X_AXIS),e.camRot_0.setIdentity(),e.camRot_0.rotate_5820x2$(e.camRotX,At.Companion.X_AXIS),e.lookRot_0.transform_j7uy7i$(i,0),e.lookRot_0.transform_j7uy7i$(o,0),e.planetRot_0.rotate_5820x2$(e.planetRotX,i),e.planetRot_0.rotate_5820x2$(e.planetRotY,o),e.setIdentity(),e.mul_d4zu6l$(e.planetRot_0),e.translate_y2kzbl$(0,0,e.earthRadius),e.mul_d4zu6l$(e.lookRot_0),e.translate_y2kzbl$(0,0,e.earthRadius*e.zoom),e.mul_d4zu6l$(e.camRot_0),a}))}function Co(t,n){var i;Lo(),void 0===n&&(n=Lo().shaderConfig_ol1b85$(t)),qt.call(this,n,Lo().model_2ufela$(n)),this.tHeightMap_0=null,this.heightMap_etfhgu$_0=null,this.tOcean_0=null,this.oceanNrmTex_42rp2f$_0=null,this.uDirToSun=null,this.uNormalShift=null,this.uWaterColor=null,this.onPipelineCreated.add_11rb$((i=this,function(t,n,o){var r,s,l,p,u,c,_,h,d=i,f=i.model;t:do{var m;for(_=Ct.ALL,m=f.stages.values.iterator();m.hasNext();){var y=m.next();if(0!=(y.stage.mask&_.mask)){var $,b,g=y.nodes;e:do{var v;for(v=g.iterator();v.hasNext();){var x=v.next();if(kt(x.name,"uDirToSun")&&e.isType(x,Ht)){b=x;break e}}b=null}while(0);var w=null==($=b)||e.isType($,Ht)?$:et();if(null!=w){h=w;break t}}}h=null}while(0);d.uDirToSun=null!=(r=h)?r.uniform:null;var z,C,S=i.model;t:do{var k;for(z=Ct.ALL,k=S.stages.values.iterator();k.hasNext();){var L=k.next();if(0!=(L.stage.mask&z.mask)){var j,N=L.nodes,P=E();for(j=N.iterator();j.hasNext();){var T=j.next();e.isType(T,Oo)&&P.add_11rb$(T)}var O=St(P);if(null!=O){C=O;break t}}}C=null}while(0);if(null!=(s=C)){var M=i;M.uNormalShift=s.uNormalShift,M.uWaterColor=s.uWaterColor}var R,I,A=i,D=i.model;t:do{var B;for(R=Ct.ALL,B=D.stages.values.iterator();B.hasNext();){var F=B.next();if(0!=(F.stage.mask&R.mask)){var q,U,V=F.nodes;e:do{var W;for(W=V.iterator();W.hasNext();){var G=W.next();if(kt(G.name,"tOceanNrm1")&&e.isType(G,Rt)){U=G;break e}}U=null}while(0);var H=null==(q=U)||e.isType(q,Rt)?q:et();if(null!=H){I=H;break t}}}I=null}while(0);A.tOcean_0=null!=(l=I)?l.sampler:null,null!=(p=i.tOcean_0)&&(p.texture=i.oceanNrmTex);var X,K,Y=i,Z=i.model;t:do{var J;for(X=Ct.ALL,J=Z.stages.values.iterator();J.hasNext();){var Q=J.next();if(0!=(Q.stage.mask&X.mask)){var tt,nt,it=Q.nodes;e:do{var ot;for(ot=it.iterator();ot.hasNext();){var rt=ot.next();if(kt(rt.name,"tHeightMap")&&e.isType(rt,Rt)){nt=rt;break e}}nt=null}while(0);var st=null==(tt=nt)||e.isType(tt,Rt)?tt:et();if(null!=st){K=st;break t}}}K=null}while(0);return Y.tHeightMap_0=null!=(u=K)?u.sampler:null,null!=(c=i.tHeightMap_0)&&(c.texture=i.heightMap),a}))}function So(){ko=this,this.texEarthDay="Earth by Day",this.texEarthNight="Earth by Night",this.texEarthNrm="Earth Normal Map",this.texEarthHeight="Earth Height Map",this.texOceanNrm="Ocean Normal Map",this.texLightGradient="Light Gradient"}bo.prototype.setup_llmhyc$=function(t){j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inScreenPos),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],go(this))},bo.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n                vec4 "+this.name+"_near = "+this.uInvViewProjMat_0+" * vec4("+this.inScreenPos.ref2f_61zpoe$()+" * 2.0 - 1.0, 0.0, 1.0);\n                vec4 "+this.name+"_far = "+this.uInvViewProjMat_0+" * vec4("+this.inScreenPos.ref2f_61zpoe$()+" * 2.0 - 1.0, 1.0, 1.0);\n                "+this.outViewDir.declare()+" = ("+this.name+"_far.xyz / "+this.name+"_far.w) - ("+this.name+"_near.xyz / "+this.name+"_near.w);\n            ")},bo.$metadata$={kind:T,simpleName:"XyToViewDirNode",interfaces:[j]},vo.prototype.setup_llmhyc$=function(t){j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inViewPos),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],xo(this))},vo.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$(this.outWorldPos.declare()+" = "+this.uInvViewMat_0+" * vec4("+this.inViewPos.ref3f_61zpoe$()+", 1.0);")},vo.$metadata$={kind:T,simpleName:"ViewToWorldPosNode",interfaces:[j]},fo.$metadata$={kind:T,simpleName:"AtmosphericScatteringShader",interfaces:[Et]},zo.prototype.handleDrag_urvnay$=function(t,e,n){if(!t.isEmpty()){var i=t.get_za3lpa$(0);if(!i.isConsumed_za3lpa$()&&i.isInViewport_hrtwbc$(e.mainRenderPass.viewport,n)){var o=this.zoom,r=M.min(o,10);if(i.isLeftButtonDown)this.planetRotX=-i.deltaY/15*M.pow(r,.6),this.planetRotY=-i.deltaX/15*M.pow(r,.6);else if(i.isRightButtonDown)this.lookRotX-=i.deltaY/10,this.lookRotY-=i.deltaX/10;else if(i.isMiddleButtonDown){var s,a=this.camRotX-i.deltaY/10;s=a<0?0:a>180?180:a,this.camRotX=s,this.lookRotY-=i.deltaX/10}var l,p=this.zoom*(1-i.deltaScroll/10),u=this.minZoom,c=this.maxZoom;l=p<u?u:p>c?c:p,this.zoom=l,i.consume_za3lpa$()}}},zo.$metadata$={kind:T,simpleName:"EarthCamTransform",interfaces:[Bt,Q]},Object.defineProperty(Co.prototype,"heightMap",{configurable:!0,get:function(){return this.heightMap_etfhgu$_0},set:function(t){var e;this.heightMap_etfhgu$_0=t,null!=(e=this.tHeightMap_0)&&(e.texture=t)}}),Object.defineProperty(Co.prototype,"oceanNrmTex",{configurable:!0,get:function(){return this.oceanNrmTex_42rp2f$_0},set:function(t){var e;this.oceanNrmTex_42rp2f$_0=t,null!=(e=this.tOcean_0)&&(e.texture=t)}}),So.prototype.shaderConfig_ol1b85$=function(t){var e=new Ft;return e.useAlbedoMap_vzjalu$(t.get_11rb$(this.texEarthDay)),e.useEmissiveMap_vzjalu$(t.get_11rb$(this.texEarthNight)),e.useNormalMap_w253oa$(t.get_11rb$(this.texEarthNrm)),e.isInstanced=!0,e},So.prototype.model_2ufela$=function(t){var n,i,o,r,s,a,l=qt.Companion.defaultMrtPbrModel_2ufela$(t),p={v:null},u={v:null},c={v:null},_=new q(l);t:do{var h;for(s=Ct.ALL,h=l.stages.values.iterator();h.hasNext();){var f=h.next();if(0!=(f.stage.mask&s.mask)){var m,y=f.nodes,$=E();for(m=y.iterator();m.hasNext();){var b=m.next();e.isType(b,Ut)&&$.add_11rb$(b)}var g=St($);if(null!=g){a=g;break t}}}a=null}while(0);var v,x,w=d(a),z=_.multiplyNode_ze33is$(w.outViewMat,w.outModelMat).output;t:do{var C;for(v=Ct.ALL,C=l.stages.values.iterator();C.hasNext();){var S=C.next();if(0!=(S.stage.mask&v.mask)){var k,L,j=S.nodes;e:do{var N;for(N=j.iterator();N.hasNext();){var P=N.next();if(kt(P.name,"modelViewMat")&&e.isType(P,Vt)){L=P;break e}}L=null}while(0);var T=null==(k=L)||e.isType(k,Vt)?k:et();if(null!=T){x=T;break t}}}x=null}while(0);var O=d(x).output,M=_.pushConstantNode3f_61zpoe$("uDirToSun").output,R=_.vec3TransformNode_vid4wo$(M,z,0).outVec3;p.v=_.stageInterfaceNode_iikjwn$("ifSunDirViewSpace",R);var I=_.instanceAttrModelMat().output,A=_.addNode_u9w9by$(new Po(_.stage));A.inModelMat=I,A.inTileName=_.instanceAttributeNode_nm2vx5$(rr().ATTRIB_TILE_NAME).output,A.inXyPos=_.attrTexCoords().output;var D=A,B=_.texture2dNode_61zpoe$("tHeightMap"),F=_.addNode_u9w9by$(new No(B,_.stage));F.inTileName=_.instanceAttributeNode_nm2vx5$(rr().ATTRIB_TILE_NAME).output,F.inEdgeFlag=_.attributeNode_nm2vx5$(rr().ATTRIB_EDGE_FLAG).output,F.inEdgeMask=_.instanceAttributeNode_nm2vx5$(rr().ATTRIB_EDGE_MASK).output,F.inRawTexCoord=_.attrTexCoords().output,F.inModelMat=I,F.inPosition=D.outPos,F.inNormal=D.outNrm,F.inTangent=D.outTan,F.inTexCoord=D.outTex,F.inStrength=_.constFloat_mx4ult$(.005),F.inNrmStrength=_.constFloat_mx4ult$(3);var V,W,G,H,X,K,Y,Z,J=F;t:do{var Q;for(V=Ct.ALL,Q=l.stages.values.iterator();Q.hasNext();){var tt=Q.next();if(0!=(tt.stage.mask&V.mask)){var nt,it,ot=tt.nodes;e:do{var rt;for(rt=ot.iterator();rt.hasNext();){var st=rt.next();if(kt(st.name,"texCoordInput")&&e.isType(st,Vt)){it=st;break e}}it=null}while(0);var at=null==(nt=it)||e.isType(nt,Vt)?nt:et();if(null!=at){W=at;break t}}}W=null}while(0);null!=(n=W)&&(n.input=D.outTex);t:do{var lt;for(G=Ct.ALL,lt=l.stages.values.iterator();lt.hasNext();){var pt=lt.next();if(0!=(pt.stage.mask&G.mask)){var ut,ct,_t=pt.nodes;e:do{var ht;for(ht=_t.iterator();ht.hasNext();){var dt=ht.next();if(kt(dt.name,"localTangentInput")&&e.isType(dt,Vt)){ct=dt;break e}}ct=null}while(0);var ft=null==(ut=ct)||e.isType(ut,Vt)?ut:et();if(null!=ft){H=ft;break t}}}H=null}while(0);null!=(i=H)&&(i.input=D.outTan);t:do{var mt;for(X=Ct.ALL,mt=l.stages.values.iterator();mt.hasNext();){var yt=mt.next();if(0!=(yt.stage.mask&X.mask)){var $t,bt,gt=yt.nodes;e:do{var vt;for(vt=gt.iterator();vt.hasNext();){var xt=vt.next();if(kt(xt.name,"localPosDisplaced")&&e.isType(xt,Vt)){bt=xt;break e}}bt=null}while(0);var wt=null==($t=bt)||e.isType($t,Vt)?$t:et();if(null!=wt){K=wt;break t}}}K=null}while(0);null!=(o=K)&&(o.input=J.outPosition);t:do{var zt;for(Y=Ct.ALL,zt=l.stages.values.iterator();zt.hasNext();){var Lt=zt.next();if(0!=(Lt.stage.mask&Y.mask)){var jt,Nt,Pt=Lt.nodes;e:do{var Tt;for(Tt=Pt.iterator();Tt.hasNext();){var Ot=Tt.next();if(kt(Ot.name,"localNormalInput")&&e.isType(Ot,Vt)){Nt=Ot;break e}}Nt=null}while(0);var Et=null==(jt=Nt)||e.isType(jt,Vt)?jt:et();if(null!=Et){Z=Et;break t}}}Z=null}while(0);null!=(r=Z)&&(r.input=J.outNormal),c.v=_.stageInterfaceNode_iikjwn$("ifNormalLocalNoBump",D.outNrm),u.v=_.stageInterfaceNode_iikjwn$("ifNormalNoBumpViewSpace",_.vec3TransformNode_vid4wo$(D.outNrm,O,0).outVec3);var Mt,Rt,It=new U(l);t:do{var At;for(Mt=Ct.ALL,At=l.stages.values.iterator();At.hasNext();){var Dt=At.next();if(0!=(Dt.stage.mask&Mt.mask)){var Bt,Ft=Dt.nodes,Ht=E();for(Bt=Ft.iterator();Bt.hasNext();){var Xt=Bt.next();e.isType(Xt,Wt)&&Ht.add_11rb$(Xt)}var Kt=St(Ht);if(null!=Kt){Rt=Kt;break t}}}Rt=null}while(0);var Yt,Zt,Jt=d(Rt);t:do{var Qt;for(Yt=Ct.ALL,Qt=l.stages.values.iterator();Qt.hasNext();){var te=Qt.next();if(0!=(te.stage.mask&Yt.mask)){var ee,ne,ie=te.nodes;e:do{var oe;for(oe=ie.iterator();oe.hasNext();){var re=oe.next();if(kt(re.name,"ifTangents")&&e.isType(re,Gt)){ne=re;break e}}ne=null}while(0);var se=null==(ee=ne)||e.isType(ee,Gt)?ee:et();if(null!=se){Zt=se;break t}}}Zt=null}while(0);var ae=d(Zt),le=Jt.inAlbedo,pe=It.addNode_u9w9by$(new To(le,It.stage));Jt.inRoughness=pe.outRoughness;var ue=It.addNode_u9w9by$(new Oo(It.stage));ue.inOceanTex1=It.texture2dNode_61zpoe$("tOceanNrm1"),ue.inAlbedo=le,ue.inIsOcean=pe.outIsOcean,ue.inNormal=c.v.output,ue.inBumpNormal=Jt.inViewNormal,ue.inTangent=ae.output,Jt.inViewNormal=ue.outBumpNormal;var ce=ue,_e=It.addNode_u9w9by$(new jo(It.stage));return _e.inNormal=It.normalizeNode_r20yfm$(u.v.output).output,_e.inSunDir=It.normalizeNode_r20yfm$(p.v.output).output,_e.inAlbedo=ce.outColor,_e.inEmissive=Jt.inEmissive,Jt.inAlbedo=_e.outAlbedo,Jt.inEmissive=_e.outEmissive,l},So.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var ko=null;function Lo(){return null===ko&&new So,ko}function jo(t){j.call(this,"earthDayNightMix",t),this.inNormal_8wrcbj$_0=this.inNormal_8wrcbj$_0,this.inSunDir_3sjfkp$_0=this.inSunDir_3sjfkp$_0,this.inAlbedo_bpcifj$_0=this.inAlbedo_bpcifj$_0,this.inEmissive_rf58nj$_0=this.inEmissive_rf58nj$_0,this.outAlbedo=new P(new N(this.name+"_outAlbedo"),this),this.outEmissive=new P(new N(this.name+"_outEmissive"),this)}function No(t,e){j.call(this,"heightMap",e),this.heightMap=t,this.inEdgeFlag=new P(new Kt(0)),this.inEdgeMask=new P(new Yt(0)),this.inSampleStep=new P(new Yt(1/40)),this.inTileName=new P(new Jt(Zt.Companion.ZERO)),this.inRawTexCoord=new P(new Tt(Pt.Companion.NEG_X_AXIS)),this.inModelMat=new P(new Qt("_")),this.inTexCoord=new P(new Tt(Pt.Companion.NEG_X_AXIS)),this.inNormal=new P(new Ot($.Companion.Y_AXIS)),this.inTangent=new P(new Ot($.Companion.X_AXIS)),this.inPosition=new P(new Ot($.Companion.ZERO)),this.inStrength=new P(new Yt(.01)),this.inNrmStrength=new P(new Yt(5)),this.outPosition=new P(new ut(this.name+"_outPos"),this),this.outNormal=new P(new ut(this.name+"_outNrm"),this)}function Po(t){j.call(this,"spherePos",t),this.inModelMat_w1xlm7$_0=this.inModelMat_w1xlm7$_0,this.inTileName_k27s37$_0=this.inTileName_k27s37$_0,this.inXyPos_4u55yz$_0=this.inXyPos_4u55yz$_0,this.outPos=new P(new ut("outSpherePos"),this),this.outNrm=new P(new ut("outSphereNrm"),this),this.outTan=new P(new N("outSphereTangent"),this),this.outTex=new P(new te("outSphereTexCoord"),this);var e=new Nt("uUnprojMat");e.value.setPerspective_7b5o5w$(90,1,1,10).invert_mx4ult$(),this.uUnprojMat=e}function To(t,e){j.call(this,"earthRoughness",e),this.inAlbedo=t,this.outRoughness=new P(new ee("earth_outRoughness"),this),this.outIsOcean=new P(new ne("earth_outIsOcean"),this)}function Oo(t){j.call(this,"earthOcean",t),this.inOceanTex1_im4351$_0=this.inOceanTex1_im4351$_0,this.inAlbedo_by8fn6$_0=this.inAlbedo_by8fn6$_0,this.inIsOcean_ouocah$_0=this.inIsOcean_ouocah$_0,this.inNormal_wkcae8$_0=this.inNormal_wkcae8$_0,this.inBumpNormal_23nj62$_0=this.inBumpNormal_23nj62$_0,this.inTangent_lew4co$_0=this.inTangent_lew4co$_0,this.outColor=new P(new N("ocean_outColor"),this),this.outBumpNormal=new P(new ut("ocean_outBump"),this),this.uNormalShift=new ie("uNormalShift"),this.uWaterColor=new oe("uWaterColor")}function Eo(t){var n,i,o=new Q,r=new we;r.name="SkyPass",r.setDynamicSize(),r.addColorTexture_1yho43$(Yo),r.clearDepthTexture(),_e.call(this,o,new ze(r)),this.atmosphereDemo=t,this.content=e.isType(n=this.drawNode,Q)?n:et();var s,l,p,u=this.atmosphereDemo.mainScene,c=new xe(e.isType(i=u.camera,tt)?i:et());this.camera=c,this.onBeforeCollectDrawCommands.add_11rb$((s=c,l=u,function(t){return s.sync_hrtwbc$(l.mainRenderPass.viewport,t),s.clipNear=5,s.clipFar=5e3,a})),this.lighting=u.lighting,u.addOffscreenPass_m1c2kf$(this),u.onRenderScene.add_11rb$((p=this,function(t,e){var n=t.mainRenderPass.viewport.width,i=t.mainRenderPass.viewport.height;return n>0&&i>0&&(n!==p.width||i!==p.height)&&p.resize_w70mbp$(n,i,e),a}));var _=this.content;_.isFrustumChecked=!1,this.setupSky_0(_)}function Mo(t){return t.texCoord.x=1-t.texCoord.x,a}function Ro(t){t.vertexModFun=Mo;var e=(new xt).uvDefaults();return e.steps=10,t.uvSphere_mojs8w$(e),a}function Io(t){for(var e=new re(56498561),n=se([y.Companion.WHITE,y.Companion.MD_BLUE.mix_y83vuj$(y.Companion.WHITE,.5),y.Companion.MD_PINK.mix_y83vuj$(y.Companion.WHITE,.5),y.Companion.MD_YELLOW.mix_y83vuj$(y.Companion.WHITE,.5)]),i=0;i<=3e4;i++){var o,r,s,l=t.geometry;l.checkBufferSizes_za3lpa$(),o=l.vertexSizeF;for(var p=1;p<=o;p++)l.dataF.plusAssign_mx4ult$(0);r=l.vertexSizeI;for(var u=1;u<=r;u++)l.dataI.plusAssign_za3lpa$(0);l.vertexIt.index=(s=l.numVertices,l.numVertices=s+1|0,s);var c,_=l.vertexIt;_.color.set_czzhhz$(t.color);for(var h=1,f=1;h*h+f*f>1;)h=e.randomF_dleff0$(-1,1),f=e.randomF_dleff0$(-1,1);_.position.set_y2kzbl$(1.5*h,e.randomF_dleff0$(-1,1),1.5*f),_.position.x=_.position.x-.25,_.position.norm();var m=e.randomF_dleff0$(.1,1);_.color.set_czzhhz$(n.getColor_y2kzbl$(e.randomF()).scale_749b7q$(m,ae())),d(_.getFloatAttribute_nm2vx5$(le.Companion.ATTRIB_POINT_SIZE)).f=1+.75*M.pow(m,3),t.transform.transform_w1lst9$(_.position),t.hasNormals&&0!==_.normal.sqrLength()&&(t.transform.transform_w1lst9$(_.normal,0),_.normal.norm()),null!=(c=t.vertexModFun)&&c(_),l.bounds.add_czzhiu$(l.vertexIt.position),l.hasChanged=!0,l.numVertices,t.geometry.addIndex_za3lpa$(i)}return a}function Ao(t){var e=new A;return e.size.set_dleff0$(3,3),e.origin.set_y2kzbl$(e.size.x,e.size.y,0).scale_mx4ult$(-.5),e.origin.z=-10,t.rect_e5k3t5$(e),a}function Do(t){var e=new A;return e.size.set_dleff0$(1,1),e.origin.set_y2kzbl$(e.size.x,e.size.y,0).scale_mx4ult$(-.5),e.origin.z=-10,t.rect_e5k3t5$(e),a}function Bo(t,e,n,i,o,r){return function(s){s.isFrustumChecked=!1,s.unaryPlus_uv0sim$(t),s.rotate_ad55pp$(-60,$.Companion.X_AXIS);var l=s.onUpdate,p=function(t,e,n,i){return function(o,r){var s,l,p=t.atmosphereDemo.atmoShader.atmosphereRadius-t.atmosphereDemo.atmoShader.surfaceRadius,u=t.atmosphereDemo.cameraHeight/p,c=1.25*((u<.2?.2:u>1?1:u)-.2),_=ct(t.atmosphereDemo.mainScene.camera.globalPos).norm(),h=1-(1-c)*(1-ue(.1,.3,_.times_czzhiu$(t.atmosphereDemo.sun.direction))),f=new y(h,h,h,1);if(d(e.v).color=f,d(n.v).color=f,d(i.v).color=f.withAlpha_mx4ult$(.75),null!=(l=null!=(s=e.v)?s.uPtSizeMod:null)){var m=t.width/1920;l.value=M.max(.6,m)}return a}}(e,n,i,o);return l.add_11rb$(p),s.unaryPlus_uv0sim$(r),a}}function Fo(t){return function(e){e.isFrustumChecked=!1,e.unaryPlus_uv0sim$(new Xo(t));var n=e.onUpdate,i=function(t,e){return function(n,i){return t.setIdentity(),t.rotate_ad55pp$(ho().moonInclination,$.Companion.X_AXIS),t.rotate_ad55pp$(360*e.atmosphereDemo.moonTime,$.Companion.Y_AXIS),t.translate_y2kzbl$(0,0,ho().moonDist),a}}(e,t);return n.add_11rb$(i),a}}function qo(t,e,n){return t.cullMethod=me.NO_CULLING,t.depthTest=Mt.DISABLED,a}function Uo(){var t;Go(),zt.call(this,Go().cfg_0,Go().model_0),this.uPtSizeMod=null,this.onPipelineSetup.add_11rb$(Ho),this.onPipelineCreated.add_11rb$((t=this,function(n,i,o){var r,s,l,p=t,u=t.model;t:do{var c;for(s=Ct.ALL,c=u.stages.values.iterator();c.hasNext();){var _=c.next();if(0!=(_.stage.mask&s.mask)){var h,d,f=_.nodes;e:do{var m;for(m=f.iterator();m.hasNext();){var y=m.next();if(kt(y.name,"uPtSizeMod")&&e.isType(y,ye)){d=y;break e}}d=null}while(0);var $=null==(h=d)||e.isType(h,ye)?h:et();if(null!=$){l=$;break t}}}l=null}while(0);return p.uPtSizeMod=null!=(r=l)?r.uniform:null,a}))}function Vo(){Wo=this,this.cfg_0=new wt;var t,n,i=zt.Companion.defaultUnlitModel_ws3dmo$(this.cfg_0),o=new q(i);t:do{var r;for(t=Ct.ALL,r=i.stages.values.iterator();r.hasNext();){var s=r.next();if(0!=(s.stage.mask&t.mask)){var a,l=s.nodes,p=E();for(a=l.iterator();a.hasNext();){var u=a.next();e.isType(u,Ut)&&p.add_11rb$(u)}var c=St(p);if(null!=c){n=c;break t}}}n=null}while(0);var _=d(n),h=o.pushConstantNode1f_61zpoe$("uPtSizeMod").output;o.pointSize_r20yfm$(o.multiplyNode_ze33is$(o.attributeNode_nm2vx5$(le.Companion.ATTRIB_POINT_SIZE).output,h).output),o.positionOutput=o.addNode_u9w9by$(new de(_,o.attrPositions().output,o.stage)).outPosition;var f,m,y=new U(i);t:do{var $;for(f=Ct.ALL,$=i.stages.values.iterator();$.hasNext();){var b=$.next();if(0!=(b.stage.mask&f.mask)){var g,v=b.nodes,x=E();for(g=v.iterator();g.hasNext();){var w=g.next();e.isType(w,fe)&&x.add_11rb$(w)}var z=St(x);if(null!=z){m=z;break t}}}m=null}while(0);var C=d(m),S=y.pushConstantNodeColor_61zpoe$("uColor").output,k=y.multiplyNode_ze33is$(C.outColor,S).output;y.colorOutput_a3v4si$(y.gammaNode_ze33is$(k).outColor),this.model_0=i}Object.defineProperty(jo.prototype,"inNormal",{configurable:!0,get:function(){return null==this.inNormal_8wrcbj$_0?s("inNormal"):this.inNormal_8wrcbj$_0},set:function(t){this.inNormal_8wrcbj$_0=t}}),Object.defineProperty(jo.prototype,"inSunDir",{configurable:!0,get:function(){return null==this.inSunDir_3sjfkp$_0?s("inSunDir"):this.inSunDir_3sjfkp$_0},set:function(t){this.inSunDir_3sjfkp$_0=t}}),Object.defineProperty(jo.prototype,"inAlbedo",{configurable:!0,get:function(){return null==this.inAlbedo_bpcifj$_0?s("inAlbedo"):this.inAlbedo_bpcifj$_0},set:function(t){this.inAlbedo_bpcifj$_0=t}}),Object.defineProperty(jo.prototype,"inEmissive",{configurable:!0,get:function(){return null==this.inEmissive_rf58nj$_0?s("inEmissive"):this.inEmissive_rf58nj$_0},set:function(t){this.inEmissive_rf58nj$_0=t}}),jo.prototype.setup_llmhyc$=function(t){j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inNormal,this.inSunDir,this.inAlbedo,this.inEmissive])},jo.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n            float "+this.name+"_mix = (clamp(dot("+this.inNormal+", "+this.inSunDir+"), -0.05, 0.05) + 0.05) * 10.0;\n            "+this.outAlbedo.declare()+" = "+this.inAlbedo+" * "+this.name+"_mix;\n            "+this.outEmissive.declare()+" = "+this.inEmissive+" * (1.0 - "+this.name+"_mix) * 0.6;\n        ")},jo.$metadata$={kind:T,simpleName:"EarthDayNightMixNode",interfaces:[j]},Co.$metadata$={kind:T,simpleName:"EarthShader",interfaces:[qt]},No.prototype.setup_llmhyc$=function(t){j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inEdgeFlag,this.inEdgeMask,this.inSampleStep,this.inTileName,this.inRawTexCoord,this.inModelMat]),this.dependsOn_8ak6wm$([this.inTexCoord,this.inNormal,this.inTangent,this.inPosition,this.inStrength])},No.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("calcBumpedNormal","\n            vec3 calcBumpedNormal(vec3 n, vec4 t, vec3 bumpN, float strength) {\n                vec3 normal = normalize(n);\n                vec3 tangent = normalize(t.xyz);\n                tangent = normalize(tangent - dot(tangent, normal) * normal);\n                vec3 bitangent = cross(normal, tangent) * t.w;\n                mat3 tbn = mat3(tangent, bitangent, normal);\n                return normalize(mix(normal, tbn * bumpN, strength));\n            }\n        "),t.appendFunction_puj7f4$("sampleEdgeHeight","\n            float sampleEdgeHeight(mat4 modelMat, vec3 tileName, vec2 baseUv, vec2 sampleDir) {\n                vec3 p1 = uv2localPos(tileName, baseUv - sampleDir);\n                vec3 p2 = uv2localPos(tileName, baseUv + sampleDir);\n\n                vec4 worldPos1 = modelMat * vec4(p1, 1.0);\n                vec4 worldPos2 = modelMat * vec4(p2, 1.0);\n\n                vec2 worldUv1 = vec2(atan(worldPos1.x, worldPos1.z) / "+Xt.PI+" * 0.5 + 0.5, acos(worldPos1.y) / "+Xt.PI+");\n                vec2 worldUv2 = vec2(atan(worldPos2.x, worldPos2.z) / "+Xt.PI+" * 0.5 + 0.5, acos(worldPos2.y) / "+Xt.PI+");\n\n                float h1 = "+t.sampleTexture2d_buzeal$(this.heightMap.name,"worldUv1")+".x;\n                float h2 = "+t.sampleTexture2d_buzeal$(this.heightMap.name,"worldUv2")+".x;\n                return (h1 + h2) * 0.5;\n            }\n        "),t.appendMain_61zpoe$("\n            vec2 "+this.name+"_uv = "+this.inTexCoord.ref2f_61zpoe$()+";\n            float "+this.name+"_hCt = "+t.sampleTexture2d_buzeal$(this.heightMap.name,this.name+"_uv")+".x;\n            float "+this.name+"_hLt = "+t.sampleTexture2d_buzeal$(this.heightMap.name,this.name+"_uv - vec2(1.0 / 8192.0, 0.0)")+".x;\n            float "+this.name+"_hRt = "+t.sampleTexture2d_buzeal$(this.heightMap.name,this.name+"_uv + vec2(1.0 / 8192.0, 0.0)")+".x;\n            float "+this.name+"_hUp = "+t.sampleTexture2d_buzeal$(this.heightMap.name,this.name+"_uv - vec2(0.0, 1.0 / 8192.0)")+".x;\n            float "+this.name+"_hDn = "+t.sampleTexture2d_buzeal$(this.heightMap.name,this.name+"_uv + vec2(0.0, 1.0 / 8192.0)")+".x;\n            \n            float "+this.name+"_dx = ("+this.name+"_hCt - "+this.name+"_hRt) + ("+this.name+"_hLt - "+this.name+"_hCt);\n            float "+this.name+"_dy = ("+this.name+"_hUp - "+this.name+"_hCt) + ("+this.name+"_hCt - "+this.name+"_hDn);\n            \n            vec3 "+this.name+"_bumpNrm = normalize(vec3("+this.name+"_dx * "+this.inNrmStrength.ref1f_61zpoe$()+", "+this.name+"_dy * "+this.inNrmStrength.ref1f_61zpoe$()+", 1.0));\n            vec3 "+this.name+"_bumpTan = "+this.inTangent.ref3f_61zpoe$()+";\n            vec3 "+this.name+"_localNrm = calcBumpedNormal("+this.inNormal.ref3f_61zpoe$()+", vec4("+this.name+"_bumpTan, 1.0), "+this.name+"_bumpNrm, 1.0);\n            "+this.outNormal.declare()+" = "+this.name+"_localNrm;\n            \n            float "+this.name+"_disp = 0.0;\n            int "+this.name+"_edge = "+this.inEdgeFlag.ref1i_61zpoe$()+" & int("+this.inEdgeMask.ref1f_61zpoe$()+");\n            if ("+this.name+"_edge == 0) {\n                "+this.name+"_disp = "+this.name+"_hCt * "+this.inStrength.ref1f_61zpoe$()+";\n            } else if ("+this.name+"_edge >= 4) {\n                // upper / lower edge\n                "+this.name+"_disp = sampleEdgeHeight("+this.inModelMat+", "+this.inTileName.ref3f_61zpoe$()+", "+this.inRawTexCoord.ref2f_61zpoe$()+", vec2("+this.inSampleStep.ref1f_61zpoe$()+", 0.0)) * "+this.inStrength.ref1f_61zpoe$()+";\n            } else if ("+this.name+"_edge >= 1) {\n                // left / right edge\n                "+this.name+"_disp = sampleEdgeHeight("+this.inModelMat+", "+this.inTileName.ref3f_61zpoe$()+", "+this.inRawTexCoord.ref2f_61zpoe$()+", vec2(0.0, "+this.inSampleStep.ref1f_61zpoe$()+")) * "+this.inStrength.ref1f_61zpoe$()+";\n            }\n            \n            "+this.outPosition.declare()+" = "+this.inPosition.ref3f_61zpoe$()+" * (1.0 + "+this.name+"_disp);\n        ")},No.$metadata$={kind:T,simpleName:"HeightMapNode",interfaces:[j]},Object.defineProperty(Po.prototype,"inModelMat",{configurable:!0,get:function(){return null==this.inModelMat_w1xlm7$_0?s("inModelMat"):this.inModelMat_w1xlm7$_0},set:function(t){this.inModelMat_w1xlm7$_0=t}}),Object.defineProperty(Po.prototype,"inTileName",{configurable:!0,get:function(){return null==this.inTileName_k27s37$_0?s("inTileName"):this.inTileName_k27s37$_0},set:function(t){this.inTileName_k27s37$_0=t}}),Object.defineProperty(Po.prototype,"inXyPos",{configurable:!0,get:function(){return null==this.inXyPos_4u55yz$_0?s("inXyPos"):this.inXyPos_4u55yz$_0},set:function(t){this.inXyPos_4u55yz$_0=t}}),Po.prototype.setup_llmhyc$=function(t){var e;j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inModelMat,this.inTileName,this.inXyPos]),t.descriptorSet.uniformBuffer_2ydyu8$(this.name,[t.stage],(e=this,function(t){return t.unaryPlus_wq3w46$(function(t){return function(){return t.uUnprojMat}}(e)),a}))},Po.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("uv2localPos","\n            vec3 uv2localPos(vec3 tileName, vec2 uv) {\n                float tileScale = 1.0 / tileName.z;\n                vec2 tilePos = tileName.xy;\n                tilePos.x = tileName.z - 1.0 - tilePos.x;\n                vec2 projCoord = tilePos * tileScale + uv * tileScale;\n                projCoord = projCoord * 2.0 - 1.0;\n\n                vec4 unproj = uUnprojMat * vec4(projCoord, 1.0, 1.0);\n                return normalize(unproj.xyz / unproj.w * -1.0);\n            }\n        "),t.appendMain_61zpoe$("\n            vec2 "+this.name+"_uv = "+this.inXyPos.ref2f_61zpoe$()+";\n            "+this.name+"_uv.x = (1.0 - "+this.inTileName+".w) + "+this.name+"_uv.x * "+this.inTileName+".w;\n            \n            "+this.outNrm.declare()+" = uv2localPos("+this.inTileName.ref3f_61zpoe$()+", "+this.name+"_uv);\n            "+this.outPos.declare()+" = "+this.outNrm+" * 60.0;\n            \n            vec3 "+this.name+"_worldNrm = ("+this.inModelMat+" * vec4("+this.outNrm+", 0.0)).xyz;\n            vec3 "+this.name+"_worldTan = normalize(cross(vec3(0.0, 1.0, 0.0), "+this.name+"_worldNrm));\n            "+this.outTan.declare()+" = vec4(transpose(mat3("+this.inModelMat+")) * "+this.name+"_worldTan, 1.0);\n            "+this.outTex.declare()+" = vec2(atan("+this.name+"_worldNrm.x, "+this.name+"_worldNrm.z) / "+Xt.PI+" * 0.5 + 0.5, acos("+this.name+"_worldNrm.y) / "+Xt.PI+");\n        ")},Po.$metadata$={kind:T,simpleName:"SpherePosNode",interfaces:[j]},To.prototype.setup_llmhyc$=function(t){j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_7qvs0d$(this.inAlbedo)},To.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n            float "+this.name+"_relBlue = min("+this.inAlbedo+".b - "+this.inAlbedo+".r, "+this.inAlbedo+".b - "+this.inAlbedo+".g) / "+this.inAlbedo+".b;\n            float "+this.name+"_brightness = dot("+this.inAlbedo+".rgb, vec3(0.333));\n            \n            "+this.outRoughness.declare()+" = 1.0 - (0.3 + "+this.name+"_brightness * 0.4);\n            bool "+this.outIsOcean+" = "+this.name+"_relBlue > 0.2 || "+this.name+"_brightness < 0.002;\n            if ("+this.outIsOcean+") {\n                "+this.outRoughness+" = 0.22;\n            }\n        ")},To.$metadata$={kind:T,simpleName:"EarthRoughnessNode",interfaces:[j]},Object.defineProperty(Oo.prototype,"inOceanTex1",{configurable:!0,get:function(){return null==this.inOceanTex1_im4351$_0?s("inOceanTex1"):this.inOceanTex1_im4351$_0},set:function(t){this.inOceanTex1_im4351$_0=t}}),Object.defineProperty(Oo.prototype,"inAlbedo",{configurable:!0,get:function(){return null==this.inAlbedo_by8fn6$_0?s("inAlbedo"):this.inAlbedo_by8fn6$_0},set:function(t){this.inAlbedo_by8fn6$_0=t}}),Object.defineProperty(Oo.prototype,"inIsOcean",{configurable:!0,get:function(){return null==this.inIsOcean_ouocah$_0?s("inIsOcean"):this.inIsOcean_ouocah$_0},set:function(t){this.inIsOcean_ouocah$_0=t}}),Object.defineProperty(Oo.prototype,"inNormal",{configurable:!0,get:function(){return null==this.inNormal_wkcae8$_0?s("inNormal"):this.inNormal_wkcae8$_0},set:function(t){this.inNormal_wkcae8$_0=t}}),Object.defineProperty(Oo.prototype,"inBumpNormal",{configurable:!0,get:function(){return null==this.inBumpNormal_23nj62$_0?s("inBumpNormal"):this.inBumpNormal_23nj62$_0},set:function(t){this.inBumpNormal_23nj62$_0=t}}),Object.defineProperty(Oo.prototype,"inTangent",{configurable:!0,get:function(){return null==this.inTangent_lew4co$_0?s("inTangent"):this.inTangent_lew4co$_0},set:function(t){this.inTangent_lew4co$_0=t}}),Oo.prototype.setup_llmhyc$=function(t){j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inAlbedo,this.inIsOcean,this.inNormal,this.inBumpNormal,this.inTangent]);var e,n=t.pushConstants;n.unaryPlus_wq3w46$((e=this,function(){return e.uNormalShift})),n.unaryPlus_wq3w46$(function(t){return function(){return t.uWaterColor}}(this))},Oo.prototype.generateCode_626509$=function(t){t.appendFunction_puj7f4$("cubeUv","\n                vec2 cubeUv(vec3 normal) {\n                    vec3 absN = abs(normal);\n                    float maxAxis = 1.0;\n                    vec2 uvc = vec2(1.0, 1.0);\n                    \n                    if (absN.x > absN.y && absN.x > absN.z) {\n                        maxAxis = absN.x;\n                        uvc = vec2(-normal.z * sign(normal.x), -normal.y);\n                    } else if (absN.y > absN.x && absN.y > absN.z) {\n                        maxAxis = absN.y;\n                        uvc = vec2(normal.x, normal.z * sign(normal.y));\n                    } else {\n                        maxAxis = absN.z;\n                        uvc = vec2(normal.x * sign(normal.z), -normal.y);\n                    }\n                    return 0.5 * (uvc / maxAxis + 1.0);\n                }\n            "),t.appendMain_61zpoe$("\n                "+this.outColor.declare()+" = "+this.inAlbedo.ref4f_61zpoe$()+";\n                "+this.outBumpNormal.declare()+" = "+this.inBumpNormal.ref3f_61zpoe$()+";\n                if ("+this.inIsOcean+") {\n                    vec2 oceanUvBase = cubeUv(normalize("+this.inNormal.ref3f_61zpoe$()+"));\n                    float s = 800.0;\n                    vec2 oceanUv1 = oceanUvBase * vec2(1.0 * s, 1.5 * s) + "+this.uNormalShift+".xy;\n                    vec2 oceanUv2 = oceanUvBase * vec2(1.69751 * s, 1.27841 * s) + "+this.uNormalShift+".zw;\n                    vec2 oceanUvStrength = oceanUvBase;\n                    \n                    vec3 oceanNrm1 = "+t.sampleTexture2d_buzeal$(this.inOceanTex1.name,"oceanUv1")+".rgb * 2.0 - 1.0;\n                    vec3 oceanNrm2 = "+t.sampleTexture2d_buzeal$(this.inOceanTex1.name,"oceanUv2")+".rgb * 2.0 - 1.0;\n                    vec3 oceanNrm = oceanNrm1 + oceanNrm2;\n                    float nrmStrength = smoothstep(0.3, 0.6, "+t.sampleTexture2d_buzeal$(this.inOceanTex1.name,"oceanUvStrength")+".r) * 0.7 + 0.3;\n                    oceanNrm.xy *= nrmStrength;\n                    \n                    "+this.outColor+" = "+this.uWaterColor+";\n                    "+this.outBumpNormal+" = calcBumpedNormal("+this.inBumpNormal.ref3f_61zpoe$()+", "+this.inTangent.ref4f_61zpoe$()+", normalize(oceanNrm), 0.4);\n                }\n            ")},Oo.$metadata$={kind:T,simpleName:"EarthOceanNode",interfaces:[j]},Eo.prototype.setupSky_0=function(t){var e,n,i,o,r=this.atmosphereDemo.textures,s={v:null},l={v:null},p={v:null},u=x(void 0,void 0,(e=r,n=this,i=s,function(t){return t.isFrustumChecked=!1,t.generate_v2sixm$(Ro),i.v=n.skyboxShader_0(e.get_11rb$(ho().texMilkyway)),t.shader=i.v,a})),c=pe(void 0,(o=l,function(t){return t.isFrustumChecked=!1,t.generate_v2sixm$(Io),o.v=new Uo,t.shader=o.v,a})),_=x(void 0,void 0,function(t,e,n){return function(i){return i.isFrustumChecked=!1,i.generate_v2sixm$(Ao),n.v=e.skyboxShader_0(t.get_11rb$(ho().texSunBg)),i.shader=n.v,a}}(r,this,p)),h=x(void 0,void 0,function(t,e){return function(n){return n.isFrustumChecked=!1,n.generate_v2sixm$(Do),n.shader=e.skyboxShader_0(t.get_11rb$(ho().texSun)),a}}(r,this));t.unaryPlus_uv0sim$(ce(void 0,Bo(u,this,l,s,p,c))),t.unaryPlus_uv0sim$(_),t.unaryPlus_uv0sim$(h),t.unaryPlus_uv0sim$(ce("moonGroup",Fo(this)))},Eo.prototype.dispose_aemszp$=function(t){this.drawNode.dispose_aemszp$(t),_e.prototype.dispose_aemszp$.call(this,t)},Eo.prototype.skyboxShader_0=function(t){var n=new wt;n.alphaMode=new he,n.useColorMap_vzjalu$(t,!0),n.color=y.Companion.WHITE;var i,o,r=n,s=zt.Companion.defaultUnlitModel_ws3dmo$(r),a=new q(s);t:do{var l;for(i=Ct.ALL,l=s.stages.values.iterator();l.hasNext();){var p=l.next();if(0!=(p.stage.mask&i.mask)){var u,c=p.nodes,_=E();for(u=c.iterator();u.hasNext();){var h=u.next();e.isType(h,Ut)&&_.add_11rb$(h)}var f=St(_);if(null!=f){o=f;break t}}}o=null}while(0);var m=d(o);a.positionOutput=a.addNode_u9w9by$(new de(m,a.attrPositions().output,a.stage)).outPosition;var $,b,g=new U(s);t:do{var v;for($=Ct.ALL,v=s.stages.values.iterator();v.hasNext();){var x=v.next();if(0!=(x.stage.mask&$.mask)){var w,z=x.nodes,C=E();for(w=z.iterator();w.hasNext();){var S=w.next();e.isType(S,fe)&&C.add_11rb$(S)}var k=St(C);if(null!=k){b=k;break t}}}b=null}while(0);var L=d(b);g.colorOutput_a3v4si$(g.gammaNode_ze33is$(L.outColor).outColor);var j=new zt(r,s);return j.onPipelineSetup.add_11rb$(qo),j},Vo.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var Wo=null;function Go(){return null===Wo&&new Vo,Wo}function Ho(t,e,n){return t.depthTest=Mt.DISABLED,a}function Xo(t){this.$outer=t,ge.call(this,be([$e.Companion.POSITIONS,$e.Companion.NORMALS,$e.Companion.TEXTURE_COORDS]),"moon"),this.isFrustumChecked=!1,this.generate_v2sixm$(Ko);var e,n=g((e=this.$outer,function(t){return t.useAlbedoMap_vzjalu$(e.atmosphereDemo.textures.get_11rb$(ho().texMoon)),t.roughness=.7,t.isHdrOutput=!0,a}));n.ambient=new y(.05,.05,.05).toLinear(),this.shader=n}function Ko(t){t.rotate_ad55pp$(180,$.Companion.Y_AXIS);var e=(new xt).icoDefaults();return e.steps=4,e.radius=ho().moonRadius,t.icoSphere_mojs8w$(e),a}function Yo(t){return t.colorFormat=G.RGBA_F16,t.minFilter=ve.NEAREST,t.magFilter=ve.NEAREST,a}function Zo(){var t;rr(),ge.call(this,new je(Le([$e.Companion.POSITIONS,$e.Companion.NORMALS,$e.Companion.TANGENTS,$e.Companion.TEXTURE_COORDS,rr().ATTRIB_EDGE_FLAG]))),this.tiles_0=null,this.zoomColors_0=Le([Ne(y.Companion.MD_PURPLE).mix_y83vuj$(y.Companion.WHITE,.6).toLinear(),Ne(y.Companion.MD_RED).mix_y83vuj$(y.Companion.WHITE,.6).toLinear(),Ne(y.Companion.MD_AMBER).mix_y83vuj$(y.Companion.WHITE,.6).toLinear(),Ne(y.Companion.MD_LIGHT_GREEN).mix_y83vuj$(y.Companion.WHITE,.6).toLinear(),Ne(y.Companion.MD_BLUE).mix_y83vuj$(y.Companion.WHITE,.6).toLinear(),Ne(y.Companion.MD_DEEP_PURPLE).mix_y83vuj$(y.Companion.WHITE,.6).toLinear(),Ne(y.Companion.MD_PINK).mix_y83vuj$(y.Companion.WHITE,.6).toLinear()]),this.front_0=new nr(this,Ne(y.Companion.MD_RED)),this.back_0=new nr(this,Ne(y.Companion.MD_GREEN)),this.right_0=new nr(this,Ne(y.Companion.MD_BLUE)),this.left_0=new nr(this,Ne(y.Companion.MD_YELLOW)),this.top_0=new nr(this,Ne(y.Companion.MD_CYAN)),this.bottom_0=new nr(this,Ne(y.Companion.MD_PURPLE)),this.faces_0=Le([this.front_0,this.back_0,this.left_0,this.right_0,this.top_0,this.bottom_0]),this.centerFace_0=null,this.centerTileName_0=ae(),this.oldCenterTileName_0=ae(),this.tmpTileName_0=ae(),this.isFrustumChecked=!1,this.front_0.up=this.top_0,this.front_0.right=this.right_0,this.front_0.down=this.bottom_0,this.front_0.left=this.left_0,this.right_0.up=this.top_0,this.right_0.right=this.back_0,this.right_0.down=this.bottom_0,this.right_0.left=this.front_0,this.back_0.up=this.top_0,this.back_0.right=this.left_0,this.back_0.down=this.bottom_0,this.back_0.left=this.right_0,this.left_0.up=this.top_0,this.left_0.right=this.front_0,this.left_0.down=this.bottom_0,this.left_0.left=this.back_0,this.top_0.up=this.back_0,this.top_0.right=this.right_0,this.top_0.down=this.front_0,this.top_0.left=this.left_0,this.bottom_0.up=this.front_0,this.bottom_0.right=this.right_0,this.bottom_0.down=this.back_0,this.bottom_0.left=this.left_0,this.generate_v2sixm$((t=this,function(e){return t.tileGrid_0(e,40),a})),this.tiles_0=new ke(rr().INSTANCE_ATTRIBUTES_0),this.instances=this.tiles_0}function Jo(t,e,n,i){er(),this.left=t,this.right=e,this.top=n,this.bottom=i}function Qo(){tr=this,this.NO_EDGE=new Jo(2147483647,2147483647,2147483647,2147483647)}Uo.$metadata$={kind:T,simpleName:"StarShader",interfaces:[zt]},Xo.$metadata$={kind:T,simpleName:"Moon",interfaces:[ge]},Eo.$metadata$={kind:T,simpleName:"SkyPass",interfaces:[_e]},Zo.prototype.tileGrid_0=function(t,e){for(var n=e+1|0,i=0;i<=e;i++)for(var o=0;o<=e;o++){var r,s,a,l=t.geometry;l.checkBufferSizes_za3lpa$(),r=l.vertexSizeF;for(var p=1;p<=r;p++)l.dataF.plusAssign_mx4ult$(0);s=l.vertexSizeI;for(var u=1;u<=s;u++)l.dataI.plusAssign_za3lpa$(0);l.vertexIt.index=(a=l.numVertices,l.numVertices=a+1|0,a);var c,_,h=l.vertexIt;h.color.set_czzhhz$(t.color),h.texCoord.set_dleff0$(o/e,i/e),_=0===o&&i%2==1?2:o===e&&i%2==1?1:0===i&&o%2==1?4:i===e&&o%2==1?8:0,d(h.getIntAttribute_nm2vx5$(rr().ATTRIB_EDGE_FLAG)).i=_,t.transform.transform_w1lst9$(h.position),t.hasNormals&&0!==h.normal.sqrLength()&&(t.transform.transform_w1lst9$(h.normal,0),h.normal.norm()),null!=(c=t.vertexModFun)&&c(h),l.bounds.add_czzhiu$(l.vertexIt.position),l.hasChanged=!0;var f=l.numVertices-1|0;o>0&&i>0&&(o%2==i%2?(t.geometry.addTriIndices_qt1dr2$(f-n-1|0,f,f-1|0),t.geometry.addTriIndices_qt1dr2$(f-n|0,f,f-n-1|0)):(t.geometry.addTriIndices_qt1dr2$(f-n|0,f,f-1|0),t.geometry.addTriIndices_qt1dr2$(f-n|0,f-1|0,f-n-1|0)))}},Zo.prototype.updateTiles_czzhiu$=function(t){var e,n,i,o=this.toLocalCoords_w1lst9$(ct(t),1),r=o.length();if(0!==r){var s=ct(o).scale_mx4ult$(1/r),a=this.cubeFaceUv_0(s),l=a.component1(),p=a.component2(),u=$t(64*l.x),c=$t(64*l.y);if(this.encodeTileName_0(u,c,6,this.centerTileName_0),null==(e=this.centerTileName_0)||!e.equals(this.oldCenterTileName_0)){this.oldCenterTileName_0.set_czzhhz$(this.centerTileName_0),p!==this.centerFace_0&&(this.centerFace_0=p,this.applyRotations_0()),this.tiles_0.clear(),n=this.faces_0;for(var _=0;_!==n.size;++_)this.faces_0.get_za3lpa$(_).tileCnt=0;p.addTile_75mr7i$(u,c,6,er().NO_EDGE),p.buildGrid_4qozqa$(u,c,1,1,6),i=this.faces_0;for(var h=0;h!==i.size;++h)0===this.faces_0.get_za3lpa$(h).tileCnt&&this.faces_0.get_za3lpa$(h).addTile_75mr7i$(0,0,0,er().NO_EDGE)}}},Zo.prototype.applyRotations_0=function(){this.front_0.mat.setIdentity(),this.back_0.mat.setIdentity(),this.left_0.mat.setIdentity(),this.right_0.mat.setIdentity(),this.top_0.mat.setIdentity(),this.bottom_0.mat.setIdentity(),this.centerFace_0===this.right_0?(this.top_0.mat.rotate_ad55pp$(90,$.Companion.Y_AXIS),this.bottom_0.mat.rotate_ad55pp$(90,$.Companion.Y_AXIS)):this.centerFace_0===this.left_0?(this.top_0.mat.rotate_ad55pp$(-90,$.Companion.Y_AXIS),this.bottom_0.mat.rotate_ad55pp$(-90,$.Companion.Y_AXIS)):this.centerFace_0===this.back_0?(this.top_0.mat.rotate_ad55pp$(180,$.Companion.Y_AXIS),this.bottom_0.mat.rotate_ad55pp$(180,$.Companion.Y_AXIS)):this.centerFace_0===this.top_0?(this.right_0.mat.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS),this.back_0.mat.rotate_ad55pp$(180,$.Companion.Z_AXIS),this.left_0.mat.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS)):this.centerFace_0===this.bottom_0&&(this.right_0.mat.rotate_ad55pp$(90,$.Companion.X_AXIS),this.back_0.mat.rotate_ad55pp$(180,$.Companion.Z_AXIS),this.left_0.mat.rotate_ad55pp$(90,$.Companion.X_AXIS)),this.right_0.mat.rotate_ad55pp$(90,$.Companion.Y_AXIS),this.back_0.mat.rotate_ad55pp$(180,$.Companion.Y_AXIS),this.left_0.mat.rotate_ad55pp$(270,$.Companion.Y_AXIS),this.top_0.mat.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS),this.bottom_0.mat.rotate_ad55pp$(-90,$.Companion.NEG_X_AXIS)},Jo.prototype.getEdgeMask_vux9f0$=function(t,e){var n=0;return t===this.left&&(n|=1),t===this.right&&(n|=2),e===this.top&&(n|=4),e===this.bottom&&(n|=8),n},Qo.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var tr=null;function er(){return null===tr&&new Qo,tr}function nr(t,e){this.$outer=t,this.faceColor=e,this.up=null,this.right=null,this.down=null,this.left=null,this.mat=new Ce,this.tileCnt=0}function ir(){or=this,this.TILE_GRID_SIZE=40,this.EDGE_LEFT=1,this.EDGE_RIGHT=2,this.EDGE_TOP=4,this.EDGE_BOTTOM=8,this.ATTRIB_EDGE_FLAG=new $e("aEdgeFlag",Se.INT),this.ATTRIB_EDGE_MASK=new $e("aEdgeMask",Se.FLOAT),this.ATTRIB_TILE_NAME=new $e("aTileName",Se.VEC_4F),this.INSTANCE_ATTRIBUTES_0=Le([ke.Companion.MODEL_MAT,this.ATTRIB_TILE_NAME,this.ATTRIB_EDGE_MASK,$e.Companion.COLORS])}Jo.$metadata$={kind:T,simpleName:"ZoomLevelEdge",interfaces:[]},nr.prototype.buildGrid_4qozqa$=function(t,e,n,i,o){var r=t-1|0,s=t+n|0,a=e-1|0,l=e+i|0,p=r%2!=0?r-1|0:r,u=s%2==0?s+1|0:s,c=a%2!=0?a-1|0:a,_=l%2==0?l+1|0:l,h=new Jo(p,u,c,_);this.addTileRow_gdy3kc$(r,s,a,o,h),this.addTileRow_gdy3kc$(r,s,l,o,h),this.addTileCol_gdy3kc$(a,l,r,o,h),this.addTileCol_gdy3kc$(a,l,s,o,h),r!==p&&this.addTileCol_gdy3kc$(a,l,p,o,h),s!==u&&this.addTileCol_gdy3kc$(a,l,u,o,h),a!==c&&this.addTileRow_gdy3kc$(p,u,c,o,h),l!==_&&this.addTileRow_gdy3kc$(p,u,_,o,h),o>1&&this.buildGrid_4qozqa$(p/2|0,c/2|0,(u-p+1|0)/2|0,(_-c+1|0)/2|0,o-1|0)},nr.prototype.addTileRow_gdy3kc$=function(t,e,n,i,o){for(var r=t;r<=e;r++)this.addTile_75mr7i$(r,n,i,o)},nr.prototype.addTileCol_gdy3kc$=function(t,e,n,i,o){for(var r=t;r<=e;r++)this.addTile_75mr7i$(n,r,i,o)},nr.prototype.addTile_75mr7i$=function(t,e,n,i,o,r){var s,a,l,p;void 0===o&&(o=0),void 0===r&&(r=0);var u=i.getEdgeMask_vux9f0$(t,e),c=t+o|0,_=e+r|0,h=1<<n;if(0<=c&&c<h&&0<=_&&_<h){this.tileCnt=this.tileCnt+1|0;var d=this.$outer.tiles_0;this.$outer,d.checkBufferSize_za3lpa$();var f=d.dataF.position,m=this.$outer,y=d.dataF;y.put_q3cr5i$(this.mat.matrix),y.put_q3cr5i$(m.encodeTileName_0(c,_,n,m.tmpTileName_0).array),y.put_mx4ult$(u),y.put_q3cr5i$(m.zoomColors_0.get_za3lpa$(n).array);var $=d.dataF.position-f|0;if($!==d.instanceSizeF)throw Pe("Expected data to grow by "+d.instanceSizeF+" elements, instead it grew by "+$);d.numInstances=d.numInstances+1|0,d.hasChanged=!0}else(0|-h)<=t&&t<0&&0<=e&&e<h?null!=(s=this.left)&&s.addTile_75mr7i$(t,e,n,i,h):h<=t&&t<(2*h|0)&&0<=e&&e<h?null!=(a=this.right)&&a.addTile_75mr7i$(t,e,n,i,0|-h):0<=t&&t<h&&(0|-h)<=e&&e<0?null!=(l=this.up)&&l.addTile_75mr7i$(t,e,n,i,void 0,h):0<=t&&t<h&&h<=e&&e<(2*h|0)&&null!=(p=this.down)&&p.addTile_75mr7i$(t,e,n,i,void 0,0|-h)},nr.$metadata$={kind:T,simpleName:"Face",interfaces:[]},Zo.prototype.encodeTileName_0=function(t,e,n,i){var o=1<<n,r=t===((o/2|0)-1|0)?.99999:1;return i.set_7b5o5w$(t,e,o,r)},Zo.prototype.cubeFaceUv_0=function(t){var e,n,i,o,r=t.x,s=M.abs(r),a=t.y,l=M.abs(a),p=t.z,u=M.abs(p);if(s>l&&s>u){e=s;var c=-t.z,_=t.x;n=c*M.sign(_),i=-t.y,o=t.x>0?this.right_0:this.left_0}else if(l>s&&l>u){e=l,n=t.x;var h=t.z,d=t.y;i=h*M.sign(d),o=t.y>0?this.top_0:this.bottom_0}else{e=u;var f=t.x,m=t.z;n=f*M.sign(m),i=-t.y,o=t.z>0?this.front_0:this.back_0}return st(new Pt(.5*(n/e+1),.5*(i/e+1)),o)},ir.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var or=null;function rr(){return null===or&&new ir,or}function sr(t,e){return Te(void 0,void 0,void 0,(n=t,i=e,function(t,e){var o=new ar(e,t,n);return i(o),o.finish(),a}));var n,i}function ar(t,e,n){this.uiScene=t,this.uiRoot=e,this.menuWidth=300,this.menuHeight=0,this.menuContainer=null,this.menuY=-40,this.smallFontProps_0=new Re(Me.Companion.SYSTEM_FONT,14),this.smallFont=null;var i=this.uiRoot;this.smallFont=Ie(this.smallFontProps_0.family,this.smallFontProps_0.sizePts,i.uiDpi,n,this.smallFontProps_0.style,this.smallFontProps_0.chars),i.theme=Be(Ae.Companion.DARK,yr),this.menuContainer=i.container_t34sov$("menu",$r),i.unaryPlus_uv0sim$(this.menuContainer)}function lr(t,e){return function(n){n.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.menuY),_t()),n.layoutSpec.setSize_4ujscr$(ht(100),Oe(30),dt()),n.textAlignment=new mt(ft.START,ft.CENTER);var i=n.onClick,o=function(t){return function(e,n,i,o){return t(e),a}}(e);return i.add_11rb$(o),a}}function pr(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(ht(15),Oe(t.menuY),_t()),i.layoutSpec.setSize_4ujscr$(ht(70),Oe(35),dt()),i.text=Ee(e.current);var o=i.onClick,r=function(t,e){return function(n,i,o,r){var s=t.current;return n.text=Ee(t.next()),e(t.current,s),a}}(e,n);return o.add_11rb$(r),a}}function ur(t,e,n,i){return function(o){o.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.menuY),_t()),o.layoutSpec.setSize_4ujscr$(ht(20),Oe(35),dt()),o.text="<";var r=o.onClick,s=function(t,e,n){return function(i,o,r,s){var l=t.current;return e.text=Ee(t.prev()),n(t.current,l),a}}(e,n,i);return r.add_11rb$(s),a}}function cr(t,e,n,i){return function(o){o.layoutSpec.setOrigin_4ujscr$(ht(80),Oe(t.menuY),_t()),o.layoutSpec.setSize_4ujscr$(ht(20),Oe(35),dt()),o.text=">";var r=o.onClick,s=function(t,e,n){return function(i,o,r,s){var l=t.current;return e.text=Ee(t.next()),n(t.current,l),a}}(e,n,i);return r.add_11rb$(s),a}}function _r(t,e){return function(n){n.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.menuY),_t()),n.layoutSpec.setSize_4ujscr$(ht(100),Oe(35),dt());var i=n.onValueChanged,o=function(t){return function(e,n){return t(e),a}}(e);return i.add_11rb$(o),a}}function hr(t,e,n,i){return function(o){o.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.menuY),_t()),o.layoutSpec.setSize_4ujscr$(ht(100),Oe(35),dt());var r=o.onValueChanged,s=function(t,e,n){return function(i,o){return e.text=t(i.value),n(i),a}}(e,n,i);return r.add_11rb$(s),a}}function dr(t,e,n,i,o,r){return function(s){s.layoutSpec.setOrigin_4ujscr$(ht(t),Oe(e.menuY),_t()),s.layoutSpec.setSize_4ujscr$(ht(100-t-n),Oe(35),dt());var l=s.onValueChanged,p=function(t,e,n){return function(i,o){return e.text=t(i.value),n(i),a}}(i,o,r);return l.add_11rb$(p),a}}function fr(t){return new De}function mr(t){return new De}function yr(t){return t.componentUi_mloaa0$(fr),t.containerUi_2t3ptw$(mr),a}function $r(t){return t.ui.setCustom_11rb$(new Fe(t)),a}function br(t,e){var n,i,o;xr(),Q.call(this),this.relativeX=.05,this.relativeY=.05,this.relativeWidth=.33,this.aspectRatio=xr().ASPECT_RATIO_VIEWPORT,this.unaryPlus_uv0sim$(x("image",void 0,(n=e,i=t,function(t){return t.generate_v2sixm$(wr),t.shader=null!=n?n:new k(i),a}))),this.onUpdate.add_11rb$((o=this,function(t,e){var n=o.aspectRatio!==xr().ASPECT_RATIO_VIEWPORT?o.aspectRatio:e.viewport.aspectRatio,i=e.viewport.width*o.relativeWidth,r=i/n;o.setIdentity();var s=e.viewport.width*o.relativeX,l=e.viewport.height*o.relativeY;return o.translate_y2kzbl$(s,l,0),o.scale_y2kzbl$(i,r,1),a}))}function gr(){vr=this,this.ASPECT_RATIO_VIEWPORT=0}Zo.$metadata$={kind:T,simpleName:"SphereGridSystem",interfaces:[ge]},ar.prototype.button_9zrh0o$=function(t,e){var n={v:null};return n.v=this.uiRoot.button_9zrh0o$(t,lr(this,e)),this.menuContainer.plusAssign_f1kmr1$(n.v),this.menuY-=35,n.v},ar.prototype.cycler_4ni5b8$=function(t,e,n){var i,o=this.uiRoot,r=this.menuContainer;null!=t&&(r.unaryPlus_uv0sim$(o.label_tokfmu$(t,(i=this,function(t){return t.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(i.menuY),_t()),t.layoutSpec.setSize_4ujscr$(ht(100),Oe(35),dt()),a}))),this.menuY-=35);var s=o.button_9zrh0o$("cycler-main",pr(this,e,n));r.unaryPlus_uv0sim$(s),r.unaryPlus_uv0sim$(o.button_9zrh0o$("cycle-left",ur(this,e,s,n))),r.unaryPlus_uv0sim$(o.button_9zrh0o$("cycle-right",cr(this,e,s,n))),this.menuY-=35},ar.prototype.gap_mx4ult$=function(t){this.menuY-=t},ar.prototype.image_vf5tfk$=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n={v:null},i=this.uiRoot;return n.v=new br(t,e),i.unaryPlus_uv0sim$(n.v),n.v},ar.prototype.section_yfmn31$=function(t,e){this.title_61zpoe$(t),e(this)},ar.prototype.slider_d5clx2$=function(t,e,n,i){var o={v:null},r=this.uiRoot,s=this.menuContainer;return o.v=r.slider_91a1dk$("radiusSlider",e,n,t,_r(this,i)),s.unaryPlus_uv0sim$(o.v),this.menuY-=35,o.v},ar.prototype.sliderWithValue_xbu91d$=function(t,e,n,i,o,r,s){var l;void 0===o&&(o=2),void 0===r&&(l=o,r=function(t){return yt(t,l)});var p,u={v:null},c=this.uiRoot,_=this.menuContainer;_.unaryPlus_uv0sim$(c.label_tokfmu$(t,(p=this,function(t){return t.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(p.menuY),_t()),t.layoutSpec.setSize_4ujscr$(ht(75),Oe(35),dt()),a})));var h=c.label_tokfmu$(r(e),function(t){return function(e){return e.layoutSpec.setOrigin_4ujscr$(ht(75),Oe(t.menuY),_t()),e.layoutSpec.setSize_4ujscr$(ht(25),Oe(35),dt()),e.textAlignment=new mt(ft.END,ft.CENTER),a}}(this));return _.unaryPlus_uv0sim$(h),this.menuY-=35,u.v=c.slider_91a1dk$("slider",n,i,e,hr(this,r,h,s)),_.unaryPlus_uv0sim$(u.v),this.menuY-=35,u.v},ar.prototype.sliderWithValueSmall_jjtbof$=function(t,e,n,i,o,r,s,l,p){var u;void 0===o&&(o=2),void 0===r&&(u=o,r=function(t){return yt(t,u)}),void 0===s&&(s=15),void 0===l&&(l=15);var c,_,h={v:null},d=this.uiRoot,f=this.menuContainer;f.unaryPlus_uv0sim$(d.label_tokfmu$(t,(c=this,_=s,function(t){return t.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(c.menuY),_t()),t.layoutSpec.setSize_4ujscr$(ht(_),Oe(35),dt()),a})));var m=d.label_tokfmu$(r(e),function(t,e){return function(n){return n.layoutSpec.setOrigin_4ujscr$(ht(100-t),Oe(e.menuY),_t()),n.layoutSpec.setSize_4ujscr$(ht(t),Oe(35),dt()),n.textAlignment=new mt(ft.END,ft.CENTER),a}}(l,this));return f.unaryPlus_uv0sim$(m),h.v=d.slider_91a1dk$("slider",n,i,e,dr(s,this,l,r,m,p)),f.unaryPlus_uv0sim$(h.v),this.menuY-=35,h.v},ar.prototype.text_61zpoe$=function(t){var e,n={v:null};return n.v=this.uiRoot.label_tokfmu$(t,(e=this,function(t){return t.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(e.menuY),_t()),t.layoutSpec.setSize_4ujscr$(ht(100),Oe(30),dt()),a})),this.menuContainer.plusAssign_f1kmr1$(n.v),this.menuY-=35,n.v},ar.prototype.textWithValue_puj7f4$=function(t,e){var n,i={v:null},o=this.uiRoot;return this.menuContainer.plusAssign_f1kmr1$(o.label_tokfmu$(t,(n=this,function(t){return t.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(n.menuY),_t()),t.layoutSpec.setSize_4ujscr$(ht(50),Oe(30),dt()),a}))),i.v=o.label_tokfmu$(e,function(t){return function(e){return e.layoutSpec.setOrigin_4ujscr$(ht(50),Oe(t.menuY),_t()),e.layoutSpec.setSize_4ujscr$(ht(50),Oe(30),dt()),e.textAlignment=new mt(ft.END,ft.CENTER),a}}(this)),this.menuContainer.plusAssign_f1kmr1$(i.v),this.menuY-=35,i.v},ar.prototype.title_61zpoe$=function(t){var e,n,i={v:null},o=this.uiRoot;return i.v=o.label_tokfmu$(t.toUpperCase(),(e=this,n=o,function(t){return t.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(e.menuY),_t()),t.layoutSpec.setSize_4ujscr$(ht(100),Oe(30),dt()),t.font.setCustom_11rb$(e.smallFont),t.textColor.setCustom_11rb$(n.theme.accentColor),t.textAlignment=new mt(ft.CENTER,ft.CENTER),a})),this.menuContainer.plusAssign_f1kmr1$(i.v),this.menuY-=35,i.v},ar.prototype.toggleButton_8v9fdr$=function(t,e,n){var i,o,r,s={v:null};return s.v=this.uiRoot.toggleButton_6j87po$(t,(i=this,o=e,r=n,function(t){t.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(i.menuY),_t()),t.layoutSpec.setSize_4ujscr$(ht(100),Oe(30),dt()),t.isEnabled=o;var e=t.onStateChange,n=r;return e.add_11rb$(n),a})),this.menuContainer.plusAssign_f1kmr1$(s.v),this.menuY-=35,s.v},ar.prototype.finish=function(){var t=this.menuContainer;0===this.menuHeight&&(this.menuHeight=-this.menuY-20),t.layoutSpec.setOrigin_4ujscr$(Oe(-this.menuWidth-120),Oe(-this.menuHeight-120),_t()),t.layoutSpec.setSize_4ujscr$(Oe(this.menuWidth),Oe(this.menuHeight),dt())},ar.$metadata$={kind:T,simpleName:"ControlUiBuilder",interfaces:[]},gr.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var vr=null;function xr(){return null===vr&&new gr,vr}function wr(t){var e=new A;return e.size.set_dleff0$(1,1),e.mirrorTexCoordsY(),t.rect_e5k3t5$(e),a}function zr(){qr(),ys.call(this,"Deferred Shading"),this.deferredPipeline_4e1hwv$_0=this.deferredPipeline_4e1hwv$_0,this.objects_v6o6kw$_0=this.objects_v6o6kw$_0,this.objectShader_kt711w$_0=this.objectShader_kt711w$_0,this.lightPositionMesh_cedig8$_0=this.lightPositionMesh_cedig8$_0,this.lightVolumeMesh_k6bbw9$_0=this.lightVolumeMesh_k6bbw9$_0,this.autoRotate_0=!0,this.rand_0=new re(1337),this.lightCount_0=2e3,this.lights_0=E();var t=new fs(Le([new Mr("Colorful",Le([y.Companion.MD_RED,y.Companion.MD_PINK,y.Companion.MD_PURPLE,y.Companion.MD_DEEP_PURPLE,y.Companion.MD_INDIGO,y.Companion.MD_BLUE,y.Companion.MD_LIGHT_BLUE,y.Companion.MD_CYAN,y.Companion.MD_TEAL,y.Companion.MD_GREEN,y.Companion.MD_LIGHT_GREEN,y.Companion.MD_LIME,y.Companion.MD_YELLOW,y.Companion.MD_AMBER,y.Companion.MD_ORANGE,y.Companion.MD_DEEP_ORANGE])),new Mr("Hot-Cold",Le([y.Companion.MD_PINK,y.Companion.MD_CYAN])),new Mr("Summer",Le([y.Companion.MD_ORANGE,y.Companion.MD_BLUE,y.Companion.MD_GREEN])),new Mr("White",Ye(y.Companion.WHITE))]));t.index=1,this.colorMap_0=t}function Cr(t,e){return function(n){n.setMouseRotation_dleff0$(0,-40),n.unaryPlus_uv0sim$(t.camera),n.zoom=28,n.maxZoom=50,n.translation.set_yvo9jy$(0,-11,0);var i=n.onUpdate,o=function(t,e){return function(n,i){return t.autoRotate_0&&(e.verticalRotation+=3*i.deltaT),a}}(e,n);return i.add_11rb$(o),a}}function Sr(t){t.color=y.Companion.RED;var e=(new xt).icoDefaults();return e.steps=1,e.radius=.05,e.center.set_czzhiu$($.Companion.ZERO),t.icoSphere_mojs8w$(e),a}function kr(t){return function(e){e.generate_v2sixm$(function(t){return function(e){for(var n=E(),i=0;i<=10;i++){var o=new Ve(be([$e.Companion.POSITIONS,$e.Companion.NORMALS,$e.Companion.COLORS])),r=o.geometry;n.add_11rb$(r);var s=t,l=(new xt).icoDefaults();l.steps=3,l.radius=s.rand_0.randomF_dleff0$(.3,.4),l.center.set_y2kzbl$(0,.1+l.radius,0),o.icoSphere_mojs8w$(l)}for(var p=-19;p<=19;p++)for(var u=-19;u<=19;u++){e.color=y.Companion.WHITE,e.transform.push();var c=t;if(e.translate_y2kzbl$(p,0,u),(p+100|0)%2==(u+100|0)%2){var _=new Ze;_.size.set_y2kzbl$(c.rand_0.randomF_dleff0$(.6,.8),c.rand_0.randomF_dleff0$(.6,.95),c.rand_0.randomF_dleff0$(.6,.8)),_.origin.set_y2kzbl$(-_.size.x/2,.1,-_.size.z/2),e.cube_lhbb6w$(_)}else e.geometry_ejqx55$(n.get_za3lpa$(c.rand_0.randomI_n8acyv$(We(n))));e.transform.pop()}return a}}(t));var n=new Ft;n.roughness=.15;var i=n;return t.objectShader_0=new qt(i),e.shader=t.objectShader_0,a}}function Lr(t){t.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS),t.color=y.Companion.WHITE;var e=new A;return e.size.set_dleff0$(40,40),e.origin.set_y2kzbl$(e.size.x,e.size.y,0).scale_mx4ult$(-.5),e.generateTexCoords_mx4ult$(30),t.rect_e5k3t5$(e),a}function jr(t){t.generate_v2sixm$(Lr);var e=new Ft;e.useAlbedoMap_ivxn3r$(Jr().pbrBasePath+"/futuristic-panels1/futuristic-panels1-albedo1.jpg"),e.useNormalMap_9sobi5$(Jr().pbrBasePath+"/futuristic-panels1/futuristic-panels1-normal.jpg"),e.useRoughnessMap_ivxn3r$(Jr().pbrBasePath+"/futuristic-panels1/futuristic-panels1-roughness.jpg"),e.useMetallicMap_ivxn3r$(Jr().pbrBasePath+"/futuristic-panels1/futuristic-panels1-metallic.jpg"),e.useOcclusionMap_9sobi5$(Jr().pbrBasePath+"/futuristic-panels1/futuristic-panels1-ao.jpg");var n,i=new qt(e);return t.shader=i,t.onDispose.add_11rb$((n=i,function(t,e){var i,o,r,s,l,p;return null!=(i=n.albedoMap)&&i.dispose(),null!=(o=n.occlusionMap)&&o.dispose(),null!=(r=n.normalMap)&&r.dispose(),null!=(s=n.metallicMap)&&s.dispose(),null!=(l=n.roughnessMap)&&l.dispose(),null!=(p=n.displacementMap)&&p.dispose(),a})),a}function Nr(t){return function(e){return e.sliderWithValue_xbu91d$("Light Count:",t.lightCount_0,1,5e3,0,void 0,function(t){return function(e){return t.lightCount_0=$t(e.value),t.updateLights_0(),a}}(t)),e.toggleButton_8v9fdr$("Light Positions",t.lightPositionMesh_0.isVisible,function(t){return function(e){return t.lightPositionMesh_0.isVisible=e.isEnabled,a}}(t)),e.toggleButton_8v9fdr$("Light Volumes",t.lightVolumeMesh_0.isVisible,function(t){return function(e){return t.lightVolumeMesh_0.isVisible=e.isEnabled,a}}(t)),e.cycler_4ni5b8$("Color Map:",t.colorMap_0,function(t){return function(e,n){return t.updateLightColors_0(),a}}(t)),a}}function Pr(t,e){return function(n){return n.toggleButton_8v9fdr$("Show Maps",Xe(t).isVisible,function(t){return function(e){var n;for(n=t.iterator();n.hasNext();)n.next().isVisible=e.isEnabled;return a}}(t)),n.toggleButton_8v9fdr$("Ambient Occlusion",e.deferredPipeline_0.isAoEnabled,function(t){return function(e){return t.deferredPipeline_0.isAoEnabled=e.isEnabled,a}}(e)),a}}function Tr(t){return function(e){return e.toggleButton_8v9fdr$("Auto Rotate",t.autoRotate_0,function(t){return function(e){return t.autoRotate_0=e.isEnabled,a}}(t)),e.toggleButton_8v9fdr$("Show Objects",t.objects_0.isVisible,function(t){return function(e){return t.objects_0.isVisible=e.isEnabled,t.updateLights_0(!0),a}}(t)),e.sliderWithValue_xbu91d$("Object Roughness:",t.objectShader_0.roughness,0,1,2,void 0,function(t){return function(e){return t.objectShader_0.roughness=e.value,a}}(t)),a}}function Or(t,e,n,i,o){this.$outer=t,this.startConst=e,this.startIt=n,this.travelDir=i,this.rows=o}function Er(t){this.light=t,this.startPos=Ke(),this.dir=Ke(),this.speed=1.5,this.travelPos=0,this.travelDist=10,this.startColor=y.Companion.WHITE,this.desiredColor=y.Companion.WHITE,this.colorMix=0}function Mr(t,e){this.name=t,this.colors=e}function Rr(t){Dr(),Et.call(this,Dr().shaderModel()),this.mrtPass=t}function Ir(){Ar=this}br.$metadata$={kind:T,simpleName:"UiImage",interfaces:[Q]},Object.defineProperty(zr.prototype,"deferredPipeline_0",{configurable:!0,get:function(){return null==this.deferredPipeline_4e1hwv$_0?s("deferredPipeline"):this.deferredPipeline_4e1hwv$_0},set:function(t){this.deferredPipeline_4e1hwv$_0=t}}),Object.defineProperty(zr.prototype,"objects_0",{configurable:!0,get:function(){return null==this.objects_v6o6kw$_0?s("objects"):this.objects_v6o6kw$_0},set:function(t){this.objects_v6o6kw$_0=t}}),Object.defineProperty(zr.prototype,"objectShader_0",{configurable:!0,get:function(){return null==this.objectShader_kt711w$_0?s("objectShader"):this.objectShader_kt711w$_0},set:function(t){this.objectShader_kt711w$_0=t}}),Object.defineProperty(zr.prototype,"lightPositionMesh_0",{configurable:!0,get:function(){return null==this.lightPositionMesh_cedig8$_0?s("lightPositionMesh"):this.lightPositionMesh_cedig8$_0},set:function(t){this.lightPositionMesh_cedig8$_0=t}}),Object.defineProperty(zr.prototype,"lightVolumeMesh_0",{configurable:!0,get:function(){return null==this.lightVolumeMesh_k6bbw9$_0?s("lightVolumeMesh"):this.lightVolumeMesh_k6bbw9$_0},set:function(t){this.lightVolumeMesh_k6bbw9$_0=t}}),zr.prototype.lateInit_aemszp$=function(t){this.updateLights_0()},zr.prototype.setupMainScene_aemszp$=function(t){var e=new D(null);e.unaryPlus_uv0sim$(l(e,void 0,Cr(e,this))),e.lighting.lights.clear();var n=new Z;n.maxGlobalLights=0,n.isWithEmissive=!1,n.isWithAmbientOcclusion=!0,n.isWithScreenSpaceReflections=!1,n.isWithImageBasedLighting=!1;var i,o=n;return this.deferredPipeline_0=new J(e,o),this.makeContent_0(this.deferredPipeline_0.contentGroup),e.unaryPlus_uv0sim$(this.deferredPipeline_0.renderOutput),this.makeLightOverlays_0(e),e.onUpdate.add_11rb$((i=this,function(t,e){var n;for(n=i.lights_0.iterator();n.hasNext();)n.next().animate_mx4ult$(e.deltaT);return a})),e},zr.prototype.makeLightOverlays_0=function(t){var e;this.lightPositionMesh_0=v(void 0,(e=this,function(t){return t.isFrustumChecked=!1,t.isVisible=!0,t.generate_v2sixm$(Sr),t.shader=new Et(e.instancedLightIndicatorModel_0()),a})),t.unaryPlus_uv0sim$(this.lightPositionMesh_0);var n=qe(this.deferredPipeline_0.pbrPass.dynamicPointLights.mesh.geometry);n.isFrustumChecked=!1,n.isVisible=!1,n.shader=new Et(this.instancedLightIndicatorModel_0()),this.lightVolumeMesh_0=n,t.unaryPlus_uv0sim$(this.lightVolumeMesh_0);var i=new ke(Le([ke.Companion.MODEL_MAT,$e.Companion.COLORS]),5e3),o=new ke(Le([ke.Companion.MODEL_MAT,$e.Companion.COLORS]),5e3);this.lightPositionMesh_0.instances=i,this.lightVolumeMesh_0.instances=o;var r=new Ce;t.onUpdate.add_11rb$(function(t,e,n,i){return function(o,r){if(t.lightPositionMesh_0.isVisible||t.lightVolumeMesh_0.isVisible){e.clear(),n.clear();var s,l=Ue();for(s=t.deferredPipeline_0.pbrPass.dynamicPointLights.lightInstances.iterator();s.hasNext();){var p=s.next(),u=i,c=t,_=e,h=n;if(u.setIdentity(),u.translate_czzhiu$(p.position),p.color.toSrgb_b0h0gw$(l),c.lightPositionMesh_0.isVisible){_.checkBufferSize_za3lpa$();var d=_.dataF.position,f=_.dataF;f.put_q3cr5i$(u.matrix),f.put_q3cr5i$(l.array);var m=_.dataF.position-d|0;if(m!==_.instanceSizeF)throw Pe("Expected data to grow by "+_.instanceSizeF+" elements, instead it grew by "+m);_.numInstances=_.numInstances+1|0,_.hasChanged=!0}if(c.lightVolumeMesh_0.isVisible){var y=p.intensity,$=M.sqrt(y);u.scale_y2kzbl$($,$,$),h.checkBufferSize_za3lpa$();var b=h.dataF.position,g=h.dataF;g.put_q3cr5i$(u.matrix),g.put_q3cr5i$(l.array);var v=h.dataF.position-b|0;if(v!==h.instanceSizeF)throw Pe("Expected data to grow by "+h.instanceSizeF+" elements, instead it grew by "+v);h.numInstances=h.numInstances+1|0,h.hasChanged=!0}}}return a}}(this,i,o,r))},zr.prototype.makeContent_0=function(t){this.objects_0=v(void 0,kr(this)),t.unaryPlus_uv0sim$(this.objects_0),t.unaryPlus_uv0sim$(x(void 0,!0,jr))},zr.prototype.updateLights_0=function(t){void 0===t&&(t=!1);var e=this.objects_0.isVisible?.7:0,n=Le([new Or(this,new $(-19.5,.45,-20.5),new $(1,0,0),new $(0,0,1),40),new Or(this,new $(-20.5,.45,-19.5),new $(0,0,1),new $(1,0,0),40),new Or(this,new $(-19,.45+e,20.5),new $(1,0,0),new $(0,0,-1),39),new Or(this,new $(20.5,.45+e,-19),new $(0,0,1),new $(-1,0,0),39)]);if(t)this.lights_0.clear(),this.deferredPipeline_0.pbrPass.dynamicPointLights.lightInstances.clear();else for(;this.lights_0.size>this.lightCount_0;)this.lights_0.removeAt_za3lpa$(Ge(this.lights_0)),this.deferredPipeline_0.pbrPass.dynamicPointLights.lightInstances.removeAt_za3lpa$(Ge(this.deferredPipeline_0.pbrPass.dynamicPointLights.lightInstances));for(;this.lights_0.size<this.lightCount_0;){var i=n.get_za3lpa$(this.rand_0.randomI_n8acyv$(We(n))),o=this.rand_0.randomI_n8acyv$(He(0,i.rows)),r=this.deferredPipeline_0.pbrPass.dynamicPointLights,s=new Je;s.intensity=1,r.addPointLight_at6cwi$(s);var a=new Er(s);a.startColor=this.colorMap_0.current.getColor_za3lpa$(this.lights_0.size).toLinear(),a.desiredColor=a.startColor,a.colorMix=1;var l=a;this.lights_0.add_11rb$(l),i.setupLight_u83zut$(l,o,41,this.rand_0.randomF())}this.updateLightColors_0()},zr.prototype.updateLightColors_0=function(){var t,e,n=0;for(t=this.lights_0.iterator();t.hasNext();){var i=t.next(),o=Qe((n=(e=n)+1|0,e));i.startColor=i.desiredColor,i.desiredColor=this.colorMap_0.current.getColor_za3lpa$(o).toLinear(),i.colorMix=0}},zr.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,function(t){var n=E(),i=t.image_vf5tfk$(void 0,e.gBufferShader_0(e.deferredPipeline_0.mrtPass.albedoMetal,0,1));e.setupImage_0(i,.025,.025),n.add_11rb$(i);var o=t.image_vf5tfk$(void 0,e.gBufferShader_0(e.deferredPipeline_0.mrtPass.normalRoughness,1,.5));e.setupImage_0(o,.025,.35),n.add_11rb$(o);var r,s=t.image_vf5tfk$(void 0,e.gBufferShader_0(e.deferredPipeline_0.mrtPass.positionAo,10,.05));e.setupImage_0(s,.025,.675),n.add_11rb$(s);var l=t.image_vf5tfk$(void 0,new k(null!=(r=e.deferredPipeline_0.aoPipeline)?r.aoMap:null,void 0,Ki().aoMapColorModel()));e.setupImage_0(l,.35,.35),n.add_11rb$(l);var p=t.image_vf5tfk$(void 0,new Rr(e.deferredPipeline_0.mrtPass));return e.setupImage_0(p,.35,.675),n.add_11rb$(p),t.section_yfmn31$("Dynamic Lights",Nr(e)),t.section_yfmn31$("Deferred Shading",Pr(n,e)),t.section_yfmn31$("Scene",Tr(e)),a}));var e},zr.prototype.setupImage_0=function(t,e,n){t.isVisible=!1,t.relativeWidth=.3,t.relativeX=e,t.relativeY=n},Or.prototype.setupLight_u83zut$=function(t,e,n,i){t.startPos.set_czzhiu$(this.startIt).scale_mx4ult$(e).add_czzhiu$(this.startConst),t.dir.set_czzhiu$(this.travelDir),t.travelDist=n,t.travelPos=i*n,t.speed=.25*this.$outer.rand_0.randomF_dleff0$(1,3)},Or.$metadata$={kind:T,simpleName:"LightGroup",interfaces:[]},Er.prototype.animate_mx4ult$=function(t){this.travelPos+=t*this.speed,this.travelPos>this.travelDist&&(this.travelPos-=this.travelDist),this.light.position.set_czzhiu$(this.dir).scale_mx4ult$(this.travelPos).add_czzhiu$(this.startPos),this.colorMix<1&&(this.colorMix+=2*t,this.colorMix>1&&(this.colorMix=1),this.startColor.mix_jpxij3$(this.desiredColor,this.colorMix,this.light.color))},Er.$metadata$={kind:T,simpleName:"AnimatedLight",interfaces:[]},Mr.prototype.getColor_za3lpa$=function(t){return this.colors.get_za3lpa$(t%this.colors.size)},Mr.prototype.toString=function(){return this.name},Mr.$metadata$={kind:T,simpleName:"ColorMap",interfaces:[]},zr.prototype.instancedLightIndicatorModel_0=function(){var t=new L("instancedLightIndicators"),e={v:null},n=new q(t);e.v=n.stageInterfaceNode_iikjwn$("ifColors",n.instanceAttributeNode_nm2vx5$($e.Companion.COLORS).output);var i=n.premultipliedMvpNode().outMvpMat,o=n.multiplyNode_ze33is$(i,n.instanceAttrModelMat().output).output;n.positionOutput=n.vec4TransformNode_9krp9t$(n.attrPositions().output,o).outVec4;var r=new U(t);return r.colorOutput_a3v4si$(r.unlitMaterialNode_r20yfm$(e.v.output).outColor),t},zr.prototype.gBufferShader_0=function(t,e,n){return new k(t,void 0,this.rgbMapColorModel_0(e,n))},zr.prototype.rgbMapColorModel_0=function(t,e){var n=new L("rgbMap"),i={v:null},o=new q(n);i.v=o.stageInterfaceNode_iikjwn$("ifTexCoords",o.attrTexCoords().output),o.positionOutput=o.simpleVertexPositionNode().outVec4;var r=new U(n),s=r.texture2dSamplerNode_fzevit$(r.texture2dNode_61zpoe$("colorTex"),i.v.output),a=r.splitNode_500t7j$(s.outColor,"rgb").output,l=r.multiplyNode_tuikh5$(r.addNode_ze33is$(a,new P(new Yt(t))).output,e);return r.colorOutput_a3v4si$(l.output,void 0,new P(new Yt(1))),n},Rr.prototype.onPipelineCreated_vp7qhs$=function(t,n,i){var o,r,s=this.model;t:do{var a;for(o=Ct.ALL,a=s.stages.values.iterator();a.hasNext();){var l=a.next();if(0!=(l.stage.mask&o.mask)){var p,u,c=l.nodes;e:do{var _;for(_=c.iterator();_.hasNext();){var h=_.next();if(kt(h.name,"positionAo")&&e.isType(h,Rt)){u=h;break e}}u=null}while(0);var f=null==(p=u)||e.isType(p,Rt)?p:et();if(null!=f){r=f;break t}}}r=null}while(0);d(r).sampler.texture=this.mrtPass.positionAo;var m,y,$=this.model;t:do{var b;for(m=Ct.ALL,b=$.stages.values.iterator();b.hasNext();){var g=b.next();if(0!=(g.stage.mask&m.mask)){var v,x,w=g.nodes;e:do{var z;for(z=w.iterator();z.hasNext();){var C=z.next();if(kt(C.name,"normalRough")&&e.isType(C,Rt)){x=C;break e}}x=null}while(0);var S=null==(v=x)||e.isType(v,Rt)?v:et();if(null!=S){y=S;break t}}}y=null}while(0);d(y).sampler.texture=this.mrtPass.normalRoughness;var k,L,j=this.model;t:do{var N;for(k=Ct.ALL,N=j.stages.values.iterator();N.hasNext();){var P=N.next();if(0!=(P.stage.mask&k.mask)){var T,O,E=P.nodes;e:do{var M;for(M=E.iterator();M.hasNext();){var R=M.next();if(kt(R.name,"albedoMetal")&&e.isType(R,Rt)){O=R;break e}}O=null}while(0);var I=null==(T=O)||e.isType(T,Rt)?T:et();if(null!=I){L=I;break t}}}L=null}while(0);d(L).sampler.texture=this.mrtPass.albedoMetal,Et.prototype.onPipelineCreated_vp7qhs$.call(this,t,n,i)},Ir.prototype.shaderModel=function(){var t=new L,e={v:null},n=new q(t);e.v=n.stageInterfaceNode_iikjwn$("ifTexCoords",n.attrTexCoords().output),n.positionOutput=n.simpleVertexPositionNode().outVec4;var i=new U(t),o=i.texture2dSamplerNode_fzevit$(i.texture2dNode_61zpoe$("positionAo"),e.v.output),r=i.texture2dSamplerNode_fzevit$(i.texture2dNode_61zpoe$("normalRough"),e.v.output),s=i.texture2dSamplerNode_fzevit$(i.texture2dNode_61zpoe$("albedoMetal"),e.v.output),a=i.splitNode_500t7j$(o.outColor,"a").output,l=i.splitNode_500t7j$(r.outColor,"a").output,p=i.splitNode_500t7j$(s.outColor,"a").output,u=i.combineNode_m7a9qd$(Se.VEC_3F);u.inX=a,u.inY=l,u.inZ=p;var c=u;return i.colorOutput_a3v4si$(c.output,void 0,new P(new Yt(1))),t},Ir.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var Ar=null;function Dr(){return null===Ar&&new Ir,Ar}function Br(){Fr=this,this.MAX_LIGHTS=5e3}Rr.$metadata$={kind:T,simpleName:"MetalRoughAoTex",interfaces:[Et]},Br.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var Fr=null;function qr(){return null===Fr&&new Br,Fr}function Ur(t,e,n){void 0===t&&(t=null),void 0===e&&(e=tn()),void 0===n&&(n=null);var i,o,r=null!=(o="string"==typeof(i=Jr().demoProps.get_11rb$("assetsBaseDir"))?i:null)?o:"";r.length>0&&(e.assetMgr.assetsBaseDir=r);var s=t;if(null!=s&&(s=s.toLowerCase(),en(s,"demo"))){var a=s,l=s.length-4|0;s=a.substring(0,l)}new Vr(e,s,n)}function Vr(t,n,i){var o,r;if(Jr(),void 0===n&&(n=null),this.dbgOverlay_0=new an(t,sn.LOWER_RIGHT),this.newScenes_0=E(),this.currentScenes_0=E(),this.defaultScene_0=new ds("glTF Models",void 0,Qr),this.demos_0=ln([st("phys-constraints",new ds("Physics - Constraints",void 0,ts)),st("physics",new ds("Physics - Collision",void 0,es)),st("atmosphere",new ds("Atmospheric Scattering",void 0,ns)),st("procedural",new ds("Procedural Geometry",void 0,is)),st("gltf",new ds("glTF Models",void 0,os)),st("deferred",new ds("Deferred Shading",void 0,rs)),st("ao",new ds("Ambient Occlusion",void 0,ss)),st("ssr",new ds("Reflections",void 0,as)),st("pbr",new ds("PBR Materials",void 0,ls)),st("tree",new ds("Procedural Tree",void 0,ps)),st("instance",new ds("Instanced Drawing",void 0,us)),st("simplification",new ds("Simplification",void 0,cs)),st("helloworld",new ds("Hello World",!0,_s)),st("hellogltf",new ds("Hello glTF",!0,hs))]),null!=i)for(r=i.iterator();r.hasNext();){var s=r.next(),l=this.demos_0,p=s.label.toLowerCase();l.put_xwzc9p$(p,s)}pn.Physics.loadPhysics();var u,c,_=this.dbgOverlay_0.ui,h=Jr();_.isVisible=null==(c="boolean"==typeof(u=h.demoProps.get_11rb$("dbgOverlay.isVisible"))?u:null)||c;var d=t.scenes,f=this.dbgOverlay_0.ui;d.add_11rb$(f);var m=t.scenes,y=this.demoOverlay_0(t);m.add_11rb$(y);var $=t.onRender,b=on("onRender",function(t,e){return t.onRender_0(e),a}.bind(null,this));$.add_11rb$(b);var g,v=this.demos_0,x=n,w=(null!=(o=(e.isType(g=v,cn)?g:et()).get_11rb$(x))?o:this.defaultScene_0).sceneLoader(t);I(this.newScenes_0,w.setupScenes_aemszp$(t)),t.run()}function Wr(t){return new De}function Gr(t){return t.componentUi_mloaa0$(Wr),t.containerUi_2t3ptw$(on("BlurredComponentUi",(function(t){return new nn(t)}))),a}function Hr(t,e,n,i,o){return function(r){r.layoutSpec.setOrigin_4ujscr$(_t(),Oe(t.v,!0),_t()),r.layoutSpec.setSize_4ujscr$(ht(100,!0),Oe(30,!0),dt()),r.textAlignment=new mt(ft.START,ft.CENTER),t.v-=35;var s=r.onClick,l=function(t,e,n,i){return function(o,r,s,l){var p=t.sceneLoader(e);return I(n.newScenes_0,p.setupScenes_aemszp$(e)),i.isOpen=!1,a}}(e,n,i,o);return s.add_11rb$(l),a}}function Xr(t){return function(e){e.layoutSpec.setOrigin_4ujscr$(_t(),Oe(10,!0),_t()),e.layoutSpec.setSize_4ujscr$(ht(100,!0),Oe(30,!0),dt()),e.text="Debug Info",e.isEnabled=t.dbgOverlay_0.ui.isVisible;var n=e.onStateChange,i=function(t){return function(e){return t.dbgOverlay_0.ui.isVisible=e.isEnabled,a}}(t);return n.add_11rb$(i),a}}function Kr(t,e,n){return function(i){return i.unaryPlus_uv0sim$(n.container_t34sov$("demos",function(t,e,n,i){return function(o){o.ui.setCustom_11rb$(new De),o.layoutSpec.setOrigin_4ujscr$(_t(),Oe(45,!0),_t()),o.layoutSpec.setSize_4ujscr$(dt(),ht(100,!0).minus_m986jv$(Oe(110,!0)),dt());var r,s,l={v:-30},p=t.demos_0.values,u=E();for(r=p.iterator();r.hasNext();){var c=r.next();c.isHidden||u.add_11rb$(c)}for(s=u.iterator();s.hasNext();){var _=s.next(),h=e,d=t,f=n;o.unaryPlus_uv0sim$(i.button_9zrh0o$(_.label,Hr(l,_,h,d,f)))}return a}}(t,e,i,n))),i.unaryPlus_uv0sim$(n.toggleButton_6j87po$("showDbg",Xr(t))),a}}function Yr(){Zr=this,this.demoProps=vt()}zr.$metadata$={kind:T,simpleName:"DeferredDemo",interfaces:[ys]},Vr.prototype.onRender_0=function(t){if(!this.newScenes_0.isEmpty()){var e,n,i;for(e=this.currentScenes_0.iterator();e.hasNext();){var o=e.next();t.scenes.remove_11rb$(o),o.dispose_aemszp$(t)}this.currentScenes_0.clear();var r=0;for(n=this.newScenes_0.iterator();n.hasNext();){var s=n.next();t.scenes.add_wxm5ur$(Qe((r=(i=r)+1|0,i)),s),this.currentScenes_0.add_11rb$(s)}this.newScenes_0.clear()}},Vr.prototype.demoOverlay_0=function(t){return Te(t.screenDpi,"demo-overlay",void 0,(e=this,n=t,function(t,i){return t.theme=Be(Ae.Companion.DARK,Gr),t.content.ui.setCustom_11rb$(new De),t.unaryPlus_63m4fk$(t.drawerMenu_enmky4$("menu","Demos",void 0,Kr(e,n,t))),a}));var e,n},Object.defineProperty(Yr.prototype,"awsBaseUrl",{configurable:!0,get:function(){var t,e;return null!=(e="string"==typeof(t=this.demoProps.get_11rb$("awsBaseUrl"))?t:null)?e:"https://fabmax-kool-pbr.s3.eu-central-1.amazonaws.com"}}),Object.defineProperty(Yr.prototype,"envMapBasePath",{configurable:!0,get:function(){var t,e,n=this.awsBaseUrl+"/hdri";return null!=(e="string"==typeof(t=this.demoProps.get_11rb$("pbrDemo.envMaps"))?t:null)?e:n}}),Object.defineProperty(Yr.prototype,"pbrBasePath",{configurable:!0,get:function(){var t,e,n=this.awsBaseUrl+"/materials";return null!=(e="string"==typeof(t=this.demoProps.get_11rb$("pbrDemo.materials"))?t:null)?e:n}}),Object.defineProperty(Yr.prototype,"modelBasePath",{configurable:!0,get:function(){var t,e,n=this.awsBaseUrl+"/models";return null!=(e="string"==typeof(t=this.demoProps.get_11rb$("pbrDemo.models"))?t:null)?e:n}}),Yr.prototype.setProperty_bm4g0d$=function(t,e){this.demoProps.put_xwzc9p$(t,e)},Yr.prototype.getProperty_umlfku$=rn("kool-kool-demo.de.fabmax.kool.demo.Demo.Companion.getProperty_umlfku$",(function(t,e,n,i){var o,r;return null!=(r=e(o=this.demoProps.get_11rb$(n))?o:null)?r:i})),Yr.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var Zr=null;function Jr(){return null===Zr&&new Yr,Zr}function Qr(t){return new $s}function ts(t){return new ru}function es(t){return new wp}function ns(t){return new Yi}function is(t){return new Ou}function os(t){return new $s}function rs(t){return new zr}function ss(t){return new Ii}function as(t){return new ea}function ls(t){return new va}function ps(t){return new tc}function us(t){return new Ws}function cs(t){return new Uu}function _s(t){return new Ts}function hs(t){return new Os}function ds(t,e,n){void 0===e&&(e=!1),this.label=t,this.isHidden=e,this.sceneLoader=n}function fs(t){this.$delegate_ubybqq$_0=t,this.index=0}function ms(t,e){return e=e||Object.create(fs.prototype),fs.call(e,Le(t.slice())),e}function ys(t){this.name=t,this.scenes=E(),this.mainScene_w78jla$_0=this.mainScene_w78jla$_0,this.menuScene=null}function $s(){ys.call(this,"glTF Models"),this.foxAnimator_0=new Ps(this);var t,e=new ks(this,"Flight Helmet",Jr().modelBasePath+"/flight_helmet/FlightHelmet.gltf",4,$.Companion.ZERO,!1,new At(0,1.25,0),!1,3.5),n=new ks(this,"Polly",Jr().modelBasePath+"/project_polly_jpg.glb",3,$.Companion.ZERO,!1,new At(0,1.25,0),!1,3.5),i=new ks(this,"Coffee Cart",Jr().modelBasePath+"/CoffeeCart_01.glb",2,new $(0,-.01,0),!1,new At(0,1.75,0),!1,3.5),o=new ks(this,"Camera",Jr().modelBasePath+"/camera.glb",20,$.Companion.ZERO,!0,new At(0,.5,0),!1,5),r=new ks(this,"Fox",Jr().modelBasePath+"/fox.glb",.01,$.Companion.ZERO,!1,new At(0,1.25,0),!0,3.5);r.animate=(t=this,function(e,n,i){return t.foxAnimator_0.animate_t7fsfh$(e,i),a}),this.models_0=ms([e,n,i,o,r,new ks(this,"Animated Box",Jr().modelBasePath+"/BoxAnimated.gltf",1,new $(0,.5,0),!1,new At(0,1.5,0),!1,5),new ks(this,"Morph Cube",Jr().modelBasePath+"/AnimatedMorphCube.glb",1,new $(0,1,0),!1,new At(0,1,0),!1,3.5),new ks(this,"Alpha Mode Test",Jr().modelBasePath+"/AlphaBlendModeTest.glb",.5,new $(0,.06,0),!1,new At(0,.75,0),!1,3.5)]),this.orbitTransform_w8joii$_0=this.orbitTransform_w8joii$_0,this.camTranslationTarget_0=null,this.trackModel_0=!1,this.envMaps_wlbbl4$_0=this.envMaps_wlbbl4$_0,this.shadowsForward_0=E(),this.aoPipelineForward_0=null,this.contentGroupForward_0=new Q,this.deferredPipeline_kn30ex$_0=this.deferredPipeline_kn30ex$_0,this.contentGroupDeferred_0=new Q,this.animationSpeed_0=.5,this.animationTime_0=0,this.autoRotate_0=!0,this.useDeferredPipeline_0=!0,this.isAo_ct9a5s$_0=!0}function bs(t,e,n,i,o,r){C.call(this,r),this.$controller=o,this.exceptionState_0=1,this.local$this$=t,this.local$this$GltfDemo=e,this.local$closure$ctx=n,this.local$$receiver=i}function gs(t,e,n,i){C.call(this,i),this.exceptionState_0=1,this.$this=t,this.local$$receiver=e,this.local$ctx=n}function vs(t,e,n,i){C.call(this,i),this.exceptionState_0=1,this.$this=t,this.local$$receiver=e,this.local$ctx=n}function xs(t,e){return function(n){n.setMouseRotation_dleff0$(0,-30),n.unaryPlus_uv0sim$(t.camera),n.zoom=e.models_0.current.zoom,n.translation.set_czzhiw$(e.models_0.current.lookAt);var i=n.onUpdate,o=function(t,e){return function(n,i){var o,r={v:t.camTranslationTarget_0};if(t.trackModel_0){var s=t.models_0.current.forwardModel;if(null!=s){var l=s.globalCenter;r.v=new At(l.x,l.y,l.z)}}else t.autoRotate_0&&(e.verticalRotation-=3*i.deltaT);if(null!=(o=r.v)){var p=e,u=t,c=Dt(p.translation).scale_14dthe$(.9).add_czzhiw$(Dt(o).scale_14dthe$(.1));p.translation.set_czzhiw$(c),c.distance_czzhiw$(o)<.01&&(u.camTranslationTarget_0=null)}return a}}(e,n);return i.add_11rb$(o),a}}function ws(t,e,n){return function(i,o){return t.autoRotate_0&&(e.setIdentity(),e.rotate_5820x2$(3*n.time,At.Companion.Y_AXIS)),a}}function zs(t,e){return function(n){var i;n.generate_v2sixm$(function(t){return function(e){return t.roundCylinder_0(e,4.1,.2),a}}(t));var o,r,s=new Ft,l=t;e||(I(s.shadowMaps,l.shadowsForward_0),s.useScreenSpaceAmbientOcclusion_9cjgzv$(null!=(o=l.aoPipelineForward_0)?o.aoMap:null),s.useImageBasedLighting_po417x$(l.envMaps_0)),s.useAlbedoMap_ivxn3r$(Jr().pbrBasePath+"/Fabric030/Fabric030_1K_Color2.jpg"),s.useNormalMap_9sobi5$(Jr().pbrBasePath+"/Fabric030/Fabric030_1K_Normal.jpg"),s.useOcclusionMap_9sobi5$(Jr().pbrBasePath+"/Fabric030/Fabric030_1K_AmbientOcclusion.jpg"),s.useRoughnessMap_ivxn3r$(Jr().pbrBasePath+"/Fabric030/Fabric030_1K_Roughness.jpg"),n.onDispose.add_11rb$((r=s,function(t,e){var n,i,o,s;return null!=(n=r.albedoMap)&&n.dispose(),null!=(i=r.normalMap)&&i.dispose(),null!=(o=r.roughnessMap)&&o.dispose(),null!=(s=r.occlusionMap)&&s.dispose(),a}));var p=s;return i=e?new qt(p):new _n(p),n.shader=i,a}}function Cs(t,e,n,i,o){C.call(this,o),this.exceptionState_0=1,this.$this=t,this.local$tmp$=void 0,this.local$$receiver=e,this.local$isDeferredShading=n,this.local$ctx=i}function Ss(t,e){return function(n){return n.cycler_4ni5b8$("Model:",t.models_0,function(t,e){return function(n,i){return e.cycleModel_0(i,n,t),a}}(e,t)),n.sliderWithValue_xbu91d$("Animation Speed:",t.animationSpeed_0,0,1,2,void 0,function(t){return function(e){return t.animationSpeed_0=e.value,a}}(t)),n.toggleButton_8v9fdr$("Deferred Shading",t.useDeferredPipeline_0,function(t){return function(e){return t.useDeferredPipeline_0=e.isEnabled,t.setupPipelines_0(),a}}(t)),n.toggleButton_8v9fdr$("Ambient Occlusion",t.isAo_0,function(t){return function(e){return t.isAo_0=e.isEnabled,t.setupPipelines_0(),a}}(t)),n.toggleButton_8v9fdr$("Screen Space Reflections",!0,function(t){return function(e){return t.deferredPipeline_0.isSsrEnabled=e.isEnabled,t.setupPipelines_0(),a}}(t)),n.sliderWithValue_xbu91d$("SSR Map Size:",.7,.1,1,1,void 0,function(t){return function(e){return t.deferredPipeline_0.reflectionMapSize=B(10*e.value)/10,a}}(t)),n.toggleButton_8v9fdr$("Auto Rotate",t.autoRotate_0,function(t){return function(e){return t.autoRotate_0=e.isEnabled,a}}(t)),a}}function ks(t,e,n,i,o,r,s,a,l){this.$outer=t,this.name=e,this.assetPath=n,this.scale=i,this.translation=o,this.generateNormals=r,this.lookAt=s,this.trackModel=a,this.zoom=l,this.forwardModel=null,this.deferredModel=null,this.isVisible=!1,this.animate=Ns}function Ls(t,e,n,i){return function(o,r){return o.isVisible=t.isVisible,t.animate(i,e.animationTime_0,n),a}}function js(t,e,n,i){C.call(this,i),this.exceptionState_0=1,this.$this=t,this.local$model=void 0,this.local$isDeferredShading=e,this.local$ctx=n}function Ns(t,e,n){return t.applyAnimation_14dthe$(e),a}function Ps(t){this.$outer=t,this.angle=0,this.radius=3,this.position=mn()}function Ts(){ys.call(this,"Hello World")}function Os(){ys.call(this,"Hello glTF")}function Es(t){var e=new Ze;return e.colored_6taknv$(),e.centered(),t.cube_lhbb6w$(e),a}function Ms(t){return t.albedoSource=b.VERTEX_ALBEDO,t.metallic=0,t.roughness=.25,a}function Rs(t){return t.generate_v2sixm$(Es),t.shader=g(Ms),a}function Is(t){return t.setDirectional_czzhiu$(new $(-1,-1,-1)),t.setColor_y83vuj$(y.Companion.WHITE,5),a}function As(){var t=new D(null);return yn(t),t.unaryPlus_uv0sim$(v(void 0,Rs)),t.lighting.singleLight_q9zcvo$(Is),t}function Ds(t){return t.setSpot_nve3wz$(new $(5,6.25,7.5),new $(-1,-1.25,-1.5),45),t.setColor_y83vuj$(y.Companion.WHITE,300),a}function Bs(t){var e=new $n;return t.grid_gtbnl3$(e),a}function Fs(t,e){return function(n){return n.generate_v2sixm$(Bs),n.shader=g(function(t,e){return function(n){return n.useStaticAlbedo_d7aj7k$(y.Companion.WHITE),n.useScreenSpaceAmbientOcclusion_9cjgzv$(t.aoMap),I(n.shadowMaps,e),a}}(t,e)),a}}function qs(t){return function(e,n){return t.applyAnimation_14dthe$(n.time),a}}function Us(t,e,n,i,o,r){C.call(this,r),this.$controller=o,this.exceptionState_0=1,this.local$closure$shadows=t,this.local$closure$aoPipeline=e,this.local$this$=n,this.local$$receiver=i}function Vs(t){var e=new D(null);yn(e),e.lighting.singleLight_q9zcvo$(Ds);var n,i,o,r=Ye(new p(e,0)),s=u.Companion.createForward_ushge7$(e);return e.unaryPlus_uv0sim$(v(void 0,Fs(s,r))),t.assetMgr.launch_eln4bt$((n=r,i=s,o=e,function(t,e,r){var s=new Us(n,i,o,t,this,e);return r?s:s.doResume(null)})),e}function Ws(){ys.call(this,"Instanced Drawing"),this.nBunnies_0=10,this.isLodColors_0=!1,this.isAutoRotate_0=!0,this.modelCenter_0=Ke(),this.modelRadius_0=1,this.lodController_0=new Sn,this.lods_0=kn([new Ks(8,10,Ne(y.Companion.MD_PURPLE)),new Ks(32,20,Ne(y.Companion.MD_RED)),new Ks(128,30,Ne(y.Companion.MD_AMBER)),new Ks(500,40,Ne(y.Companion.MD_LIME)),new Ks(2e3,50,Ne(y.Companion.MD_GREEN)),new Ks(1e4,1e3,Ne(y.Companion.MD_BLUE))])}function Gs(t,n){return function(i){var o=t.camera;e.isType(o,tt)||et(),o.clipNear=1,o.clipFar=500,i.unaryPlus_uv0sim$(o),i.minZoom=1,i.maxZoom=250,i.zoomMethod=bn.ZOOM_CENTER,i.zoom=40,i.setMouseRotation_dleff0$(30,-40);var r=i.onUpdate,s=function(t,e){return function(n,i){return t.isAutoRotate_0&&(e.verticalRotation+=3*i.deltaT),a}}(n,i);return r.add_11rb$(s),a}}function Hs(t){return t.setDirectional_czzhiu$(gn(-1)),t.setColor_y83vuj$(y.Companion.WHITE,5),a}function Xs(t,e,n,i){C.call(this,i),this.$controller=n,this.exceptionState_0=1,this.local$this$InstanceDemo=t,this.local$$receiver=e}function Ks(t,e,n){this.maxInsts=t,this.maxDist=e,this.color=n,this.mesh=null}function Ys(t,e,n){this.$outer=t,Cn.call(this),this.position=e,this.rotSpeed=120*n.length(),this.rotAxis=n.norm_5s4mqq$(Ke()),this.color=Ue()}function Zs(t){var n=B(t);return e.imul(e.imul(n,n),n).toString()}function Js(t){return function(e){var n=Zs;return e.sliderWithValue_xbu91d$("Bunnies:",t.nBunnies_0,5,20,void 0,n,function(t){return function(e){var n=B(e.value);return n!==t.nBunnies_0&&(t.nBunnies_0=n,t.setupInstances_0(t.lodController_0)),a}}(t)),e.toggleButton_8v9fdr$("Color by LOD",t.isLodColors_0,function(t){return function(e){return t.isLodColors_0=e.isEnabled,a}}(t)),e.toggleButton_8v9fdr$("Auto Rotate",t.isAutoRotate_0,function(t){return function(e){return t.isAutoRotate_0=e.isEnabled,a}}(t)),a}}function Qs(t,n,i){return function(o,r){var s,l,p,u=t.lodController_0.getInstanceCount_za3lpa$(n),c=e.imul(u,null!=(p=null!=(l=null!=(s=t.lods_0.get_za3lpa$(n).mesh)?s.geometry:null)?l.numPrimitives:null)?p:0);return i.text=u.toString()+" insts / "+c+" tris",a}}function ta(t){return function(e){return e.section_yfmn31$("Scene",Js(t)),e.section_yfmn31$("Info",function(t){return function(e){var n;n=t.lods_0;for(var i=0;i!==n.size;++i){var o=e.textWithValue_puj7f4$("LOD "+i+":",""),r=t;o.onUpdate.add_11rb$(Qs(r,i,o))}return a}}(t)),a}}function ea(){ma(),ys.call(this,"Reflections"),this.deferredPipeline_v7oinh$_0=this.deferredPipeline_v7oinh$_0,this.lights_0=Le([new ca(this,y.Companion.MD_CYAN),new ca(this,y.Companion.MD_RED),new ca(this,y.Companion.MD_AMBER),new ca(this,y.Companion.MD_GREEN)]),this.noSsrMap_0=new Nn(new y(0,0,0,0)),this.lightCount_0=4,this.lightPower_0=500,this.lightSaturation_0=.4,this.lightRandomness_0=.3,this.isScrSpcReflections_0=!0,this.autoRotate_0=!0,this.showLightIndicators_0=!0;var t=new fs(ma().matColors_0);t.index=1,this.colorCycler_0=t,this.roughness_0=.1,this.metallic_0=0,this.bunnyMesh_0=null,this.groundMesh_0=null,this.modelShader_0=null}function na(t,e){return function(n){n.unaryPlus_uv0sim$(t.camera),n.zoomMethod=bn.ZOOM_CENTER,n.zoom=17,n.maxZoom=50,n.translation.set_yvo9jy$(0,2,0),n.setMouseRotation_dleff0$(0,-5);var i=n.onUpdate,o=function(t,e){return function(n,i){return t.autoRotate_0&&(e.verticalRotation+=3*i.deltaT),a}}(e,n);return i.add_11rb$(o),a}}function ia(t,e,n){return function(i,o){return t.dispose(),e.dispose(),n.dispose(),a}}function oa(t){var e=new A;return t.rotate_ad55pp$(-90,$.Companion.X_AXIS),e.size.set_dleff0$(100,100),e.origin.set_y2kzbl$(-e.size.x/2,-e.size.y/2,0),e.generateTexCoords_mx4ult$(4),t.rect_e5k3t5$(e),a}function ra(t,e,n,i){return function(o){o.generate_v2sixm$(oa),o.isCastingShadow=!1,t.groundMesh_0=o;var r=new Ft,s=e,l=n,p=i;return r.useAlbedoMap_vzjalu$(s),r.useNormalMap_w253oa$(l),r.useRoughnessMap_vzjalu$(p),o.shader=new qt(r),a}}function sa(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$=t,this.local$this$MultiLightDemo=e,this.local$floorAlbedo=void 0,this.local$floorNormal=void 0,this.local$$receiver=n}function aa(t){return function(e){var n=ms([1,2,3,4]);return n.index=3,e.cycler_4ni5b8$("Lights:",n,function(t){return function(e,n){return t.lightCount_0=e,t.updateLighting_0(),a}}(t)),e.sliderWithValue_xbu91d$("Strength:",t.lightPower_0,0,1e3,0,void 0,function(t){return function(e){return t.lightPower_0=e.value,t.updateLighting_0(),a}}(t)),e.sliderWithValue_xbu91d$("Saturation:",t.lightSaturation_0,0,1,void 0,void 0,function(t){return function(e){return t.lightSaturation_0=e.value,t.updateLighting_0(),a}}(t)),a}}function la(t,e){return function(n){return n.toggleButton_8v9fdr$("Enabled",t.deferredPipeline_0.isSsrEnabled,function(t){return function(e){return t.deferredPipeline_0.isSsrEnabled=e.isEnabled,a}}(t)),n.toggleButton_8v9fdr$("Show SSR Map",e.isVisible,function(t){return function(e){return t.isVisible=e.isEnabled,a}}(e)),n.sliderWithValue_xbu91d$("Map Size:",t.deferredPipeline_0.reflectionMapSize,.1,1,1,void 0,function(t){return function(e){return t.deferredPipeline_0.reflectionMapSize=B(10*e.value)/10,a}}(t)),a}}function pa(t){return function(e){return e.cycler_4ni5b8$("Color:",t.colorCycler_0,function(t){return function(e,n){var i;return null!=(i=t.modelShader_0)&&(i.albedo=e.linColor),a}}(t)),e.sliderWithValue_xbu91d$("Roughness:",t.roughness_0,0,1,void 0,void 0,function(t){return function(e){var n;return t.roughness_0=e.value,null!=(n=t.modelShader_0)&&(n.roughness=e.value),a}}(t)),e.sliderWithValue_xbu91d$("Metallic:",t.metallic_0,0,1,void 0,void 0,function(t){return function(e){var n;return t.metallic_0=e.value,null!=(n=t.modelShader_0)&&(n.metallic=e.value),a}}(t)),a}}function ua(t){return function(e){return e.toggleButton_8v9fdr$("Auto Rotate",t.autoRotate_0,function(t){return function(e){return t.autoRotate_0=e.isEnabled,a}}(t)),e.toggleButton_8v9fdr$("Light Indicators",t.showLightIndicators_0,function(t){return function(e){return t.showLightIndicators_0=e.isEnabled,t.updateLighting_0(),a}}(t)),a}}function ca(t,e){this.$outer=t,Q.call(this),this.color=e,this.light=new gt;var n=new Ln;n.isCastingShadow=!1,this.spotAngleMesh_0=n,this.isEnabled_0=!0,this.animPos_0=0,this.lightMeshShader_0=new jn,this.meshPos_0=Ke(),this.anglePos_0=0,this.rotOff_0=vn(0,3),this.light.setSpot_nve3wz$($.Companion.ZERO,$.Companion.X_AXIS,50);var i,o=v(void 0,(i=this,function(t){return t.isCastingShadow=!1,t.generate_v2sixm$(_a),t.shader=i.lightMeshShader_0,a}));this.unaryPlus_uv0sim$(o),this.unaryPlus_uv0sim$(this.spotAngleMesh_0);var r=this.onUpdate,s=function(t,e){return function(n,i){t.autoRotate_0&&(e.animPos_0+=i.deltaT);var o=e.animPos_0/15+e.rotOff_0,r=M.cos(o)*t.lightRandomness_0;return e.light.spotAngle=60-20*r,e.updateSpotAngleMesh_0(),e.setIdentity(),e.rotate_ad55pp$(-10*e.animPos_0,$.Companion.Y_AXIS),e.translate_czzhiu$(e.meshPos_0),e.rotate_ad55pp$(e.anglePos_0,$.Companion.Y_AXIS),e.rotate_ad55pp$(30+20*r,$.Companion.Z_AXIS),e.transform.transform_w1lst9$(e.light.position.set_czzhiu$($.Companion.ZERO),1),e.transform.transform_w1lst9$(e.light.direction.set_czzhiu$($.Companion.NEG_X_AXIS),0),a}}(this.$outer,this);r.add_11rb$(s)}function _a(t){var e=(new xt).uvDefaults();e.radius=.1,t.uvSphere_mojs8w$(e),t.rotate_ad55pp$(90,$.Companion.Z_AXIS);var n=new Pn;n.bottomRadius=.015,n.topRadius=.015,n.height=.85,n.steps=4,t.cylinder_tnt2h$(n),t.translate_y2kzbl$(0,.85,0);var i=new Pn;return i.bottomRadius=.1,i.topRadius=.0025,i.height=.15,t.cylinder_tnt2h$(i),a}function ha(t,e){this.name=t,this.linColor=e}function da(){fa=this,this.matColors_0=Le([new ha("White",y.Companion.WHITE.toLinear()),new ha("Red",y.Companion.MD_RED.toLinear()),new ha("Pink",y.Companion.MD_PINK.toLinear()),new ha("Purple",y.Companion.MD_PURPLE.toLinear()),new ha("Deep Purple",y.Companion.MD_DEEP_PURPLE.toLinear()),new ha("Indigo",y.Companion.MD_INDIGO.toLinear()),new ha("Blue",y.Companion.MD_BLUE.toLinear()),new ha("Cyan",y.Companion.MD_CYAN.toLinear()),new ha("Teal",y.Companion.MD_TEAL.toLinear()),new ha("Green",y.Companion.MD_GREEN.toLinear()),new ha("Light Green",y.Companion.MD_LIGHT_GREEN.toLinear()),new ha("Lime",y.Companion.MD_LIME.toLinear()),new ha("Yellow",y.Companion.MD_YELLOW.toLinear()),new ha("Amber",y.Companion.MD_AMBER.toLinear()),new ha("Orange",y.Companion.MD_ORANGE.toLinear()),new ha("Deep Orange",y.Companion.MD_DEEP_ORANGE.toLinear()),new ha("Brown",y.Companion.MD_BROWN.toLinear()),new ha("Grey",y.Companion.MD_GREY.toLinear()),new ha("Blue Grey",y.Companion.MD_BLUE_GREY.toLinear()),new ha("Almost Black",new y(.1,.1,.1).toLinear())])}Vr.$metadata$={kind:T,simpleName:"Demo",interfaces:[]},ds.$metadata$={kind:T,simpleName:"DemoEntry",interfaces:[]},Object.defineProperty(fs.prototype,"current",{configurable:!0,get:function(){return this.get_za3lpa$(this.index)}}),fs.prototype.next=function(){return this.index=(this.index+1|0)%this.size,this.current},fs.prototype.prev=function(){return this.index=(this.index+this.size-1+this.size|0)%this.size,this.current},Object.defineProperty(fs.prototype,"size",{get:function(){return this.$delegate_ubybqq$_0.size}}),fs.prototype.contains_11rb$=function(t){return this.$delegate_ubybqq$_0.contains_11rb$(t)},fs.prototype.containsAll_brywnq$=function(t){return this.$delegate_ubybqq$_0.containsAll_brywnq$(t)},fs.prototype.get_za3lpa$=function(t){return this.$delegate_ubybqq$_0.get_za3lpa$(t)},fs.prototype.indexOf_11rb$=function(t){return this.$delegate_ubybqq$_0.indexOf_11rb$(t)},fs.prototype.isEmpty=function(){return this.$delegate_ubybqq$_0.isEmpty()},fs.prototype.iterator=function(){return this.$delegate_ubybqq$_0.iterator()},fs.prototype.lastIndexOf_11rb$=function(t){return this.$delegate_ubybqq$_0.lastIndexOf_11rb$(t)},fs.prototype.listIterator=function(){return this.$delegate_ubybqq$_0.listIterator()},fs.prototype.listIterator_za3lpa$=function(t){return this.$delegate_ubybqq$_0.listIterator_za3lpa$(t)},fs.prototype.subList_vux9f0$=function(t,e){return this.$delegate_ubybqq$_0.subList_vux9f0$(t,e)},fs.$metadata$={kind:T,simpleName:"Cycler",interfaces:[un]},Object.defineProperty(ys.prototype,"mainScene",{configurable:!0,get:function(){return null==this.mainScene_w78jla$_0?s("mainScene"):this.mainScene_w78jla$_0},set:function(t){this.mainScene_w78jla$_0=t}}),ys.prototype.setupScenes_aemszp$=function(t){var e;this.mainScene=this.setupMainScene_aemszp$(t);var n=this.scenes,i=this.mainScene;return n.add_11rb$(i),this.menuScene=this.setupMenu_aemszp$(t),null!=(e=this.menuScene)&&this.scenes.add_11rb$(e),this.lateInit_aemszp$(t),this.scenes},ys.prototype.setupMenu_aemszp$=function(t){return null},ys.prototype.lateInit_aemszp$=function(t){},ys.$metadata$={kind:T,simpleName:"DemoScene",interfaces:[]},Object.defineProperty($s.prototype,"orbitTransform_0",{configurable:!0,get:function(){return null==this.orbitTransform_w8joii$_0?s("orbitTransform"):this.orbitTransform_w8joii$_0},set:function(t){this.orbitTransform_w8joii$_0=t}}),Object.defineProperty($s.prototype,"envMaps_0",{configurable:!0,get:function(){return null==this.envMaps_wlbbl4$_0?s("envMaps"):this.envMaps_wlbbl4$_0},set:function(t){this.envMaps_wlbbl4$_0=t}}),Object.defineProperty($s.prototype,"deferredPipeline_0",{configurable:!0,get:function(){return null==this.deferredPipeline_kn30ex$_0?s("deferredPipeline"):this.deferredPipeline_kn30ex$_0},set:function(t){this.deferredPipeline_kn30ex$_0=t}}),Object.defineProperty($s.prototype,"isAo_0",{configurable:!0,get:function(){return this.isAo_ct9a5s$_0},set:function(t){this.isAo_ct9a5s$_0=t,this.deferredPipeline_0.isAoEnabled=t}}),$s.prototype.lateInit_aemszp$=function(t){this.models_0.current.isVisible=!0,this.trackModel_0=this.models_0.current.trackModel},bs.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},bs.prototype=Object.create(C.prototype),bs.prototype.constructor=bs,bs.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=c.EnvironmentHelper.hdriEnvironment_cj1d96$(this.local$this$,Jr().envMapBasePath+"/shanghai_bund_1k.rgbe.png",this.local$$receiver,void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:if(this.local$this$GltfDemo.envMaps_0=this.result_0,this.local$this$.unaryPlus_uv0sim$(w.Skybox.cube_o7q6nm$(this.local$this$GltfDemo.envMaps_0.reflectionMap,1)),this.state_0=3,this.result_0=this.local$this$GltfDemo.makeDeferredContent_0(this.local$this$,this.local$closure$ctx,this),this.result_0===z)return z;continue;case 3:if(this.state_0=4,this.result_0=this.local$this$GltfDemo.makeForwardContent_0(this.local$this$,this.local$closure$ctx,this),this.result_0===z)return z;continue;case 4:return this.local$this$GltfDemo.setupPipelines_0(),a;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},$s.prototype.setupMainScene_aemszp$=function(t){var e,n,i,o,r,s=new D("gltfDemo");return this.setupLighting_0(s),this.setupCamera_0(s),t.assetMgr.launch_eln4bt$((e=s,n=this,i=t,function(t,o,r){var s=new bs(e,n,i,t,this,o);return r?s:s.doResume(null)})),s.onUpdate.add_11rb$((o=t,r=this,function(t,e){return r.animationTime_0+=o.deltaT*r.animationSpeed_0,r.foxAnimator_0.updatePosition_aemszp$(o),a})),s},$s.prototype.setupPipelines_0=function(){var t,e,n=this.useDeferredPipeline_0,i=!n;for(this.contentGroupForward_0.isVisible=i,e=this.shadowsForward_0.iterator();e.hasNext();)e.next().isShadowMapEnabled=i;null!=(t=this.aoPipelineForward_0)&&(t.isEnabled=i&&this.isAo_0),this.contentGroupDeferred_0.isVisible=n,this.deferredPipeline_0.isEnabled=n,this.deferredPipeline_0.isAoEnabled=this.isAo_0},gs.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},gs.prototype=Object.create(C.prototype),gs.prototype.constructor=gs,gs.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t=u.Companion.createForward_ushge7$(this.local$$receiver);if(t.radius=.2,this.$this.aoPipelineForward_0=t,I(this.$this.shadowsForward_0,Le([new p(this.local$$receiver,0,2048,this.$this.contentGroupForward_0),new p(this.local$$receiver,1,2048,this.$this.contentGroupForward_0)])),this.state_0=2,this.result_0=this.$this.setupContentGroup_0(this.$this.contentGroupForward_0,!1,this.local$ctx,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return void this.local$$receiver.unaryPlus_uv0sim$(this.$this.contentGroupForward_0);default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},$s.prototype.makeForwardContent_0=function(t,e,n,i){var o=new gs(this,t,e,n);return i?o:o.doResume(null)},vs.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},vs.prototype=Object.create(C.prototype),vs.prototype.constructor=vs,vs.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t,e=new Z;e.isWithAmbientOcclusion=!0,e.isWithScreenSpaceReflections=!0,e.isWithEmissive=!0,e.baseReflectionStep=.02,e.maxGlobalLights=2,e.useImageBasedLighting_po417x$(this.$this.envMaps_0);var n=e;if(this.$this.deferredPipeline_0=new J(this.local$$receiver,n),null!=(t=this.$this.deferredPipeline_0.aoPipeline)&&(t.radius=.2),this.state_0=2,this.result_0=this.$this.setupContentGroup_0(this.$this.deferredPipeline_0.contentGroup,!0,this.local$ctx,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:var i=this.$this.contentGroupDeferred_0;return i.isFrustumChecked=!1,i.unaryPlus_uv0sim$(this.$this.deferredPipeline_0.renderOutput),void this.local$$receiver.unaryPlus_uv0sim$(i);default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},$s.prototype.makeDeferredContent_0=function(t,e,n,i){var o=new vs(this,t,e,n);return i?o:o.doResume(null)},$s.prototype.setupCamera_0=function(t){this.orbitTransform_0=l(t,void 0,xs(t,this)),t.unaryPlus_uv0sim$(this.orbitTransform_0)},$s.prototype.setupLighting_0=function(t){t.lighting.lights.clear();var e=t.lighting.lights,n=new gt,i=new $(7,8,8),o=$.Companion.ZERO;n.setSpot_nve3wz$(i,o.subtract_2gj7b4$(i,Ke()).norm(),25),n.setColor_y83vuj$(y.Companion.WHITE.mix_y83vuj$(y.Companion.MD_AMBER,.3).toLinear(),500),e.add_11rb$(n);var r=t.lighting.lights,s=new gt,a=new $(-7,8,8),l=$.Companion.ZERO;s.setSpot_nve3wz$(a,l.subtract_2gj7b4$(a,Ke()).norm(),25),s.setColor_y83vuj$(y.Companion.WHITE.mix_y83vuj$(y.Companion.MD_AMBER,.3).toLinear(),500),r.add_11rb$(s)},Cs.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Cs.prototype=Object.create(C.prototype),Cs.prototype.constructor=Cs,Cs.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:this.local$$receiver.rotate_5820x2$(-60,At.Companion.Y_AXIS),this.local$$receiver.onUpdate.add_11rb$(ws(this.$this,this.local$$receiver,this.local$ctx)),this.local$$receiver.unaryPlus_uv0sim$(x(void 0,!0,zs(this.$this,this.local$isDeferredShading))),this.local$tmp$=this.$this.models_0.iterator(),this.state_0=2;continue;case 1:throw this.exception_0;case 2:if(!this.local$tmp$.hasNext()){this.state_0=4;continue}var t,e=this.local$tmp$.next();if(this.state_0=3,this.result_0=e.load_ggm1l6$(this.local$isDeferredShading,this.local$ctx,this),this.result_0===z)return z;continue;case 3:null!=(t=this.result_0)&&this.local$$receiver.unaryPlus_uv0sim$(t),this.state_0=2;continue;case 4:return;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},$s.prototype.setupContentGroup_0=function(t,e,n,i,o){var r=new Cs(this,t,e,n,i);return o?r:r.doResume(null)},$s.prototype.cycleModel_0=function(t,e,n){var i,o;t.isVisible=!1,n.runDelayed_hd6vpk$(1,(i=t,o=n,function(t){var e,n;return null!=(e=i.forwardModel)&&e.dispose_aemszp$(o),null!=(n=i.deferredModel)&&n.dispose_aemszp$(o),a})),e.isVisible=!0,this.orbitTransform_0.zoom=e.zoom,this.camTranslationTarget_0=e.lookAt,this.trackModel_0=e.trackModel},$s.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,n=t,function(t){return t.section_yfmn31$("glTF models",Ss(e,n)),a}));var e,n},$s.prototype.roundCylinder_0=function(t,n,i){for(var o=i/2,r=E(),s=0;s<=20;s++){var a=Xt.PI/20*s,l=M.sin(a)*o+n,p=M.cos(a)*o-o,u=new $(l,p,0);r.add_11rb$(u)}for(var c={v:0},_=0;_<=100;_++){var h,d,f=Xt.PI/100*_*2,m=0;for(h=r.iterator();h.hasNext();){var y=h.next(),b=Qe((m=(d=m)+1|0,d)),g=new hn(n+b/r.size*Xt.PI*o,0);g.scale_mx4ult$(.3),g.rotate_mx4ult$(f*R.RAD_2_DEG);var v=y.rotate_vqa64j$(f*R.RAD_2_DEG,$.Companion.Y_AXIS,Ke()),x=t.vertex_n440gp$(v,$.Companion.ZERO,g);_>0&&b>0&&(t.geometry.addTriIndices_qt1dr2$(x-1|0,x-r.size-1|0,x-r.size|0),t.geometry.addTriIndices_qt1dr2$(x,x-1|0,x-r.size|0)),0===_&&0===b&&(c.v=x)}}for(var w=c.v+r.size-1|0,z=2;z<=100;z++)t.geometry.addTriIndices_qt1dr2$(c.v,c.v+e.imul(z-1|0,r.size)|0,c.v+e.imul(z,r.size)|0),t.geometry.addTriIndices_qt1dr2$(w,w+e.imul(z,r.size)|0,w+e.imul(z-1|0,r.size)|0);t.geometry.generateNormals()},ks.prototype.toString=function(){return this.name},js.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},js.prototype=Object.create(C.prototype),js.prototype.constructor=js,js.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t;if(this.local$model={v:null},this.state_0=2,this.result_0=dn(this.local$ctx.assetMgr,this.$this.assetPath,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:if(null!=(t=this.result_0)){this.$this.$outer;var e,n,i=this.$this.$outer,o=new fn(this.local$isDeferredShading?i.deferredPipeline_0.shadowMaps:i.shadowsForward_0,this.local$isDeferredShading?null!=(e=i.deferredPipeline_0.aoPipeline)?e.aoMap:null:null!=(n=i.aoPipelineForward_0)?n.aoMap:null,i.envMaps_0,this.local$isDeferredShading),r=new _(this.$this.generateNormals,void 0,o,!0,!0,!0,!0,void 0,!0),s=t.makeModel_m0hq3v$(r);s.translate_czzhiu$(this.$this.translation),s.scale_mx4ult$(this.$this.scale),s.enableAnimation_za3lpa$(0),s.onUpdate.add_11rb$(Ls(this.$this,i,this.local$ctx,s)),this.local$model.v=s}return this.local$isDeferredShading?this.$this.deferredModel=this.local$model.v:this.$this.forwardModel=this.local$model.v,this.local$model.v;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ks.prototype.load_ggm1l6$=function(t,e,n,i){var o=new js(this,t,e,n);return i?o:o.doResume(null)},ks.$metadata$={kind:T,simpleName:"GltfModel",interfaces:[]},Ps.prototype.updatePosition_aemszp$=function(t){var e=2*this.$outer.animationSpeed_0;this.angle+=e*t.deltaT/this.radius},Ps.prototype.animate_t7fsfh$=function(t,e){if(this.$outer.animationSpeed_0<.5){var n=2*this.$outer.animationSpeed_0,i=1-n;t.setAnimationWeight_24o109$(0,i),t.setAnimationWeight_24o109$(1,n),t.setAnimationWeight_24o109$(2,0)}else{var o=2*(this.$outer.animationSpeed_0-.5),r=1-o;t.setAnimationWeight_24o109$(0,0),t.setAnimationWeight_24o109$(1,r),t.setAnimationWeight_24o109$(2,o)}t.applyAnimation_14dthe$(e.time),t.setIdentity(),this.position.set_yvo9jy$(this.radius,0,0).rotate_5820x2$(this.angle*R.RAD_2_DEG,At.Companion.Y_AXIS),t.translate_czzhiw$(this.position),t.rotate_5820x2$(this.angle*R.RAD_2_DEG+180,At.Companion.Y_AXIS),t.scale_14dthe$(.01)},Ps.$metadata$={kind:T,simpleName:"FoxAnimator",interfaces:[]},$s.$metadata$={kind:T,simpleName:"GltfDemo",interfaces:[ys]},Ts.prototype.setupMainScene_aemszp$=function(t){return As()},Ts.$metadata$={kind:T,simpleName:"HelloWorldDemo",interfaces:[ys]},Os.prototype.setupMainScene_aemszp$=function(t){return Vs(t)},Os.$metadata$={kind:T,simpleName:"HelloGltfDemo",interfaces:[ys]},Us.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Us.prototype=Object.create(C.prototype),Us.prototype.constructor=Us,Us.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t,e=new fn(this.local$closure$shadows,this.local$closure$aoPipeline.aoMap),n=new _(void 0,void 0,e);if(this.state_0=2,this.result_0=h(this.local$$receiver,Jr().modelBasePath+"/BoxAnimated.gltf",n,void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:var i;return null!=(t=this.result_0)?(this.local$this$.unaryPlus_uv0sim$(t),t.translate_y2kzbl$(0,.5,0),t.animations.isEmpty()||(t.enableAnimation_za3lpa$(0),t.onUpdate.add_11rb$(qs(t))),i=a):i=null,i;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Xs.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Xs.prototype=Object.create(C.prototype),Xs.prototype.constructor=Xs,Xs.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t;if(this.state_0=2,this.result_0=dn(this.local$$receiver,Jr().modelBasePath+"/bunny.gltf.gz",this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:var e;return null!=(t=this.result_0)?(this.local$this$InstanceDemo.addLods_0(t),e=a):e=null,e;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Ws.prototype.setupMainScene_aemszp$=function(t){var e,n=new D(null);return n.unaryPlus_uv0sim$(l(n,void 0,Gs(n,this))),n.lighting.singleLight_q9zcvo$(Hs),n.unaryPlus_uv0sim$(this.lodController_0),t.assetMgr.launch_eln4bt$((e=this,function(t,n,i){var o=new Xs(e,t,this,n);return i?o:o.doResume(null)})),n},Ws.prototype.addLods_0=function(t){var e;e=t.scenes;for(var n=0;n!==e.size;++n){var i,o=new _(!0,!1),r=f(t.makeModel_m0hq3v$(o,n).meshes.values),s=r.geometry;i=s.numVertices;for(var a=0;a<i;a++)s.vertexIt.index=a,s.vertexIt.position.scale_mx4ult$(.3).add_czzhiu$(new $(0,-1,0));r.geometry.rebuildBounds(),0===n&&(this.modelCenter_0.set_czzhiu$(r.geometry.bounds.center),this.modelRadius_0=r.geometry.bounds.max.distance_czzhiu$(r.geometry.bounds.center)),r.shader=this.instanceColorPbrShader_0(),r.isFrustumChecked=!1,this.lods_0.get_za3lpa$(n).mesh=r,r.instances=new ke(Le([ke.Companion.MODEL_MAT,$e.Companion.COLORS]),this.lods_0.get_za3lpa$(n).maxInsts),this.lodController_0.addLod_od45r7$(r,this.lods_0.get_za3lpa$(n).maxDist)}this.setupInstances_0(this.lodController_0)},Ws.prototype.setupInstances_0=function(t){var e,n,i,o=Le([y.Companion.WHITE.toLinear(),y.Companion.MD_RED.toLinear(),y.Companion.MD_PINK.toLinear(),y.Companion.MD_PURPLE.toLinear(),y.Companion.MD_DEEP_PURPLE.toLinear(),y.Companion.MD_INDIGO.toLinear(),y.Companion.MD_BLUE.toLinear(),y.Companion.MD_CYAN.toLinear(),y.Companion.MD_TEAL.toLinear(),y.Companion.MD_GREEN.toLinear(),y.Companion.MD_LIGHT_GREEN.toLinear(),y.Companion.MD_LIME.toLinear(),y.Companion.MD_YELLOW.toLinear(),y.Companion.MD_AMBER.toLinear(),y.Companion.MD_ORANGE.toLinear(),y.Companion.MD_DEEP_ORANGE.toLinear(),y.Companion.MD_BROWN.toLinear(),y.Companion.MD_GREY.toLinear(),y.Companion.MD_BLUE_GREY.toLinear()]);t.instances.clear();var r=new re(17),s=.5*(this.nBunnies_0-1|0);e=this.nBunnies_0;for(var a=0;a<e;a++){n=this.nBunnies_0;for(var l=0;l<n;l++){i=this.nBunnies_0;for(var p=0;p<i;p++){var u=new bt(5*(a-s)+vn(-2,2),5*(l-s)+vn(-2,2),5*(p-s)+vn(-2,2)),c=new bt(vn(-1,1),vn(-1,1),vn(-1,1)),_=t.instances,h=new Ys(this,u,c);h.color.set_czzhhz$(o.get_za3lpa$(r.randomI_n8acyv$(We(o))).toLinear()),h.center.set_czzhiu$(this.modelCenter_0),h.radius=this.modelRadius_0,_.add_11rb$(h)}}}},Ws.prototype.instanceColorPbrShader_0=function(){var t=new Ft;t.albedoSource=b.STATIC_ALBEDO,t.isInstanced=!0,t.roughness=.5;var n,i,o=t,r=_n.Companion.defaultPbrModel_2ufela$(o),s={v:null},a=new q(r);s.v=a.stageInterfaceNode_iikjwn$("ifInstColor",a.instanceAttributeNode_nm2vx5$($e.Companion.COLORS).output),new U(r);t:do{var l;for(n=Ct.ALL,l=r.stages.values.iterator();l.hasNext();){var p=l.next();if(0!=(p.stage.mask&n.mask)){var u,c=p.nodes,_=E();for(u=c.iterator();u.hasNext();){var h=u.next();e.isType(h,rt)&&_.add_11rb$(h)}var f=St(_);if(null!=f){i=f;break t}}}i=null}while(0);return d(i).inAlbedo=s.v.output,new _n(o,r)},Ws.prototype.instanceColorPhongShader_0=function(){var t=new wn;t.albedoSource=b.STATIC_ALBEDO,t.isInstanced=!0;var n,i,o=t,r=xn.Companion.defaultPhongModel_m663ta$(o),s={v:null},a=new q(r);s.v=a.stageInterfaceNode_iikjwn$("ifInstColor",a.instanceAttributeNode_nm2vx5$($e.Companion.COLORS).output),new U(r);t:do{var l;for(n=Ct.ALL,l=r.stages.values.iterator();l.hasNext();){var p=l.next();if(0!=(p.stage.mask&n.mask)){var u,c=p.nodes,_=E();for(u=c.iterator();u.hasNext();){var h=u.next();e.isType(h,zn)&&_.add_11rb$(h)}var f=St(_);if(null!=f){i=f;break t}}}i=null}while(0);return d(i).inAlbedo=s.v.output,new xn(o,r)},Ks.$metadata$={kind:T,simpleName:"Lod",interfaces:[]},Ys.prototype.update_l2cg23$=function(t,e,n){this.instanceModelMat.setIdentity().translate_czzhiu$(this.position).rotate_ad55pp$(n.time*this.rotSpeed,this.rotAxis),Cn.prototype.update_l2cg23$.call(this,t,e,n)},Ys.prototype.addInstanceData_bgc5cs$=function(t,e,n){this.$outer,e.checkBufferSize_za3lpa$();var i=e.dataF.position,o=this.$outer,r=e.dataF;r.put_q3cr5i$(this.instanceModelMat.matrix),o.isLodColors_0?r.put_q3cr5i$(o.lods_0.get_za3lpa$(t).color.array):r.put_q3cr5i$(this.color.array);var s=e.dataF.position-i|0;if(s!==e.instanceSizeF)throw Pe("Expected data to grow by "+e.instanceSizeF+" elements, instead it grew by "+s);e.numInstances=e.numInstances+1|0,e.hasChanged=!0},Ys.$metadata$={kind:T,simpleName:"BunnyInstance",interfaces:[Cn]},Ws.prototype.setupMenu_aemszp$=function(t){return sr(t,ta(this))},Ws.$metadata$={kind:T,simpleName:"InstanceDemo",interfaces:[ys]},Object.defineProperty(ea.prototype,"deferredPipeline_0",{configurable:!0,get:function(){return null==this.deferredPipeline_v7oinh$_0?s("deferredPipeline"):this.deferredPipeline_v7oinh$_0},set:function(t){this.deferredPipeline_v7oinh$_0=t}}),ea.prototype.lateInit_aemszp$=function(t){this.updateLighting_0()},sa.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},sa.prototype=Object.create(C.prototype),sa.prototype.constructor=sa,sa.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t;if(this.state_0=2,this.result_0=this.local$$receiver.loadAndPrepareTexture_va0f2y$(Jr().pbrBasePath+"/woodfloor/WoodFlooringMahoganyAfricanSanded001_COL_2K.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:if(this.local$floorAlbedo=this.result_0,this.state_0=3,this.result_0=this.local$$receiver.loadAndPrepareTexture_va0f2y$(Jr().pbrBasePath+"/woodfloor/WoodFlooringMahoganyAfricanSanded001_NRM_2K.jpg",void 0,this),this.result_0===z)return z;continue;case 3:if(this.local$floorNormal=this.result_0,this.state_0=4,this.result_0=this.local$$receiver.loadAndPrepareTexture_va0f2y$(Jr().pbrBasePath+"/woodfloor/WoodFlooringMahoganyAfricanSanded001_REFL_2K.jpg",void 0,this),this.result_0===z)return z;continue;case 4:var e=this.result_0;if(this.local$this$.onDispose.add_11rb$(ia(this.local$floorAlbedo,this.local$floorNormal,e)),this.local$this$.unaryPlus_uv0sim$(x(void 0,!0,ra(this.local$this$MultiLightDemo,this.local$floorAlbedo,this.local$floorNormal,e))),this.state_0=5,this.result_0=dn(this.local$$receiver,Jr().modelBasePath+"/bunny.gltf.gz",this),this.result_0===z)return z;continue;case 5:var n;if(null!=(t=this.result_0)){var i=this.local$this$MultiLightDemo,o=this.local$this$,r=new _(!0,!1),s=t.makeModel_m0hq3v$(r);i.bunnyMesh_0=f(s.meshes.values),o.unaryPlus_uv0sim$(s);var l=new Ft;l.useStaticAlbedo_d7aj7k$(i.colorCycler_0.current.linColor),l.roughness=i.roughness_0,i.modelShader_0=new qt(l),d(i.bunnyMesh_0).shader=i.modelShader_0,n=a}else n=null;return n;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ea.prototype.setupMainScene_aemszp$=function(t){var e,n=new D(null);for(n.unaryPlus_uv0sim$(l(n,void 0,na(n,this))),n.lighting.lights.clear(),e=this.lights_0.iterator();e.hasNext();){var i=e.next();n.lighting.lights.add_11rb$(i.light),n.unaryPlus_uv0sim$(i)}var o=n,r=c.EnvironmentHelper.singleColorEnvironment_6zt5da$(o,new y(.15,.15,.15)),s=new Z;s.isWithEmissive=!1,s.isWithAmbientOcclusion=!1,s.isWithScreenSpaceReflections=!0,s.useImageBasedLighting_po417x$(r);var p,u=s;this.deferredPipeline_0=new J(o,u),o.plusAssign_f1kmr1$(this.deferredPipeline_0.renderOutput),o.plusAssign_f1kmr1$(w.Skybox.cube_o7q6nm$(r.reflectionMap,1)),o.onDispose.add_11rb$((p=this,function(t,e){return p.noSsrMap_0.dispose(),a}));var _,h,d=this.deferredPipeline_0.contentGroup;return t.assetMgr.launch_eln4bt$((_=d,h=this,function(t,e,n){var i=new sa(_,h,t,this,e);return n?i:i.doResume(null)})),o},ea.prototype.updateLighting_0=function(){var t,e,n,i=0;for(e=this.lights_0.iterator();e.hasNext();){var o=e.next(),r=Qe((i=(n=i)+1|0,n));r<this.deferredPipeline_0.shadowMaps.size&&(this.deferredPipeline_0.shadowMaps.get_za3lpa$(r).isShadowMapEnabled=!1),o.disable_kc3nav$(this.mainScene.lighting)}var s,a=0,l=360/this.lightCount_0,p=this.lightCount_0,u=this.lights_0.size;t=M.min(p,u);for(var c=0;c<t;c++)this.lights_0.get_za3lpa$(c).setup_mx4ult$(a),this.lights_0.get_za3lpa$(c).enable_kc3nav$(this.mainScene.lighting),a+=l,c<this.deferredPipeline_0.shadowMaps.size&&(this.deferredPipeline_0.shadowMaps.get_za3lpa$(c).isShadowMapEnabled=!0);for(s=this.lights_0.iterator();s.hasNext();)s.next().updateVisibility()},ea.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,function(t){var n,i=t.image_vf5tfk$(null!=(n=e.deferredPipeline_0.reflectionDenoisePass)?n.colorTexture:null);return t.section_yfmn31$("Lights",aa(e)),t.section_yfmn31$("Screen Space Reflections",la(e,i)),t.section_yfmn31$("Material",pa(e)),t.section_yfmn31$("Scene",ua(e)),a}));var e},ca.prototype.updateSpotAngleMesh_0=function(){var t=this.light.spotAngle*R.DEG_2_RAD/2,e=1*M.tan(t),n=this.lightMeshShader_0.color;this.spotAngleMesh_0.clear();for(var i=0;i<40;i++){var o=i/40*2*Xt.PI,r=(i+1|0)/40*2*Xt.PI;this.spotAngleMesh_0.addLine_b8opkg$(new $(-1,M.cos(o)*e,M.sin(o)*e),n,new $(-1,M.cos(r)*e,M.sin(r)*e),n)}var s=45*R.DEG_2_RAD,a=M.cos(s)*e;this.spotAngleMesh_0.addLine_b8opkg$($.Companion.ZERO,n,new $(-1,a,a),n),this.spotAngleMesh_0.addLine_b8opkg$($.Companion.ZERO,n,new $(-1,a,-a),n),this.spotAngleMesh_0.addLine_b8opkg$($.Companion.ZERO,n,new $(-1,-a,-a),n),this.spotAngleMesh_0.addLine_b8opkg$($.Companion.ZERO,n,new $(-1,-a,a),n)},ca.prototype.setup_mx4ult$=function(t){var e=t*R.DEG_2_RAD,n=10*M.cos(e),i=t*R.DEG_2_RAD,o=10*M.sin(i);this.meshPos_0.set_y2kzbl$(n,9,-o),this.anglePos_0=t;var r=y.Companion.WHITE.mix_jpxij3$(this.color,this.$outer.lightSaturation_0,Ue());this.light.setColor_y83vuj$(r.toLinear(),this.$outer.lightPower_0),this.lightMeshShader_0.color=r,this.updateSpotAngleMesh_0()},ca.prototype.enable_kc3nav$=function(t){this.isEnabled_0=!0;var e=t.lights;e.contains_11rb$(this.light)||e.add_11rb$(this.light),this.updateVisibility()},ca.prototype.disable_kc3nav$=function(t){this.isEnabled_0=!1,t.lights.remove_11rb$(this.light),this.updateVisibility()},ca.prototype.updateVisibility=function(){this.isVisible=this.isEnabled_0&&this.$outer.showLightIndicators_0},ca.$metadata$={kind:T,simpleName:"LightMesh",interfaces:[Q]},ha.prototype.toString=function(){return this.name},ha.$metadata$={kind:T,simpleName:"MatColor",interfaces:[]},ha.prototype.component1=function(){return this.name},ha.prototype.component2=function(){return this.linColor},ha.prototype.copy_guvy9a$=function(t,e){return new ha(void 0===t?this.name:t,void 0===e?this.linColor:e)},ha.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.name)|0)+e.hashCode(this.linColor)|0},ha.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.name,t.name)&&e.equals(this.linColor,t.linColor)},da.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var fa=null;function ma(){return null===fa&&new da,fa}function ya(t){Ea.call(this,"Color Grid"),this.sphereProto=t,this.shaders_0=E(),this.iblContent_0=null,this.nonIblContent_0=null}function $a(t,e){return function(n){n.layoutSpec.setOrigin_4ujscr$(ht(15),Oe(t.v),_t()),n.layoutSpec.setSize_4ujscr$(ht(85),Oe(35),dt()),n.value=10;var i=n.onValueChanged,o=function(t){return function(e,n){var i;for(i=t.shaders_0.iterator();i.hasNext();)i.next().roughness=e.value/100;return a}}(e);return i.add_11rb$(o),a}}function ba(t,e){return function(n){n.layoutSpec.setOrigin_4ujscr$(ht(15),Oe(t.v),_t()),n.layoutSpec.setSize_4ujscr$(ht(85),Oe(35),dt()),n.value=0;var i=n.onValueChanged,o=function(t){return function(e,n){var i;for(i=t.shaders_0.iterator();i.hasNext();)i.next().metallic=e.value/100;return a}}(e);return i.add_11rb$(o),a}}function ga(t,e,n,i){return function(o){o.isVisible=!1,o.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t-100),_t()),o.layoutSpec.setSize_4ujscr$(ht(100),Oe(100),dt());var r,s={v:-30};return o.unaryPlus_uv0sim$(n.label_tokfmu$("mat-lbl",function(t,e,n){return function(i){return i.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.v),_t()),i.layoutSpec.setSize_4ujscr$(ht(100),Oe(30),dt()),i.font.setCustom_11rb$(e),i.text="Material",i.textColor.setCustom_11rb$(n.theme.accentColor),i.textAlignment=new mt(ft.CENTER,ft.CENTER),a}}(s,e,n))),s.v-=35,o.unaryPlus_uv0sim$(n.label_tokfmu$("mat-roughness-lbl",(r=s,function(t){return t.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(r.v),_t()),t.layoutSpec.setSize_4ujscr$(ht(10),Oe(35),dt()),t.text="R:",a}))),o.unaryPlus_uv0sim$(n.slider_87iqh3$("mat-roughness-slider",$a(s,i))),s.v-=35,o.unaryPlus_uv0sim$(n.label_tokfmu$("mat-metallic-lbl",function(t){return function(e){return e.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.v),_t()),e.layoutSpec.setSize_4ujscr$(ht(10),Oe(35),dt()),e.text="M:",a}}(s))),o.unaryPlus_uv0sim$(n.slider_87iqh3$("mat-metallic-slider",ba(s,i))),a}}function va(){Ua(),ys.call(this,"PBR Materials"),this.skybox_56jct1$_0=this.skybox_56jct1$_0,this.envMaps_chisr5$_0=this.envMaps_chisr5$_0,this.lightCycler_0=new fs(Ua().lightSetups_0),this.hdriCycler_0=new fs(Ua().hdriTextures_0);var t,e=On(Ua().hdriTextures_0.size);t=e.length-1|0;for(var n=0;n<=t;n++)e[n]=null;this.loadedHdris_0=e,this.sphereProto_0=new Ma,this.pbrContentCycler_0=new fs(Le([new Va(this.sphereProto_0),new ya(this.sphereProto_0),new dp(this.sphereProto_0)])),this.autoRotate_4vo62z$_0=!0}function xa(t){return t.isPressed}function wa(t){return t.isPressed}function za(t,e,n){return function(i){i.unaryPlus_uv0sim$(t.camera);var o=i.onUpdate,r=function(t,e,n){return function(i,o){return t.autoRotate_0&&(n.verticalRotation+=2*e.deltaT),a}}(e,n,i);return o.add_11rb$(r),i.zoomMethod=bn.ZOOM_CENTER,i.zoom=20,a}}function Ca(t,e){return function(n){return n.cycler_4ni5b8$(null,t.hdriCycler_0,function(t,e){return function(n,i){return t.updateHdri_0(t.hdriCycler_0.index,e),a}}(t,e)),a}}function Sa(t){return function(e){return e.toggleButton_8v9fdr$("IBL Enabled",!0,function(t){return function(e){var n;for(n=t.pbrContentCycler_0.iterator();n.hasNext();)n.next().setUseImageBasedLighting_6taknv$(e.isEnabled);return a}}(t)),a}}function ka(t){return function(e){return e.cycler_4ni5b8$(null,t.lightCycler_0,function(t){return function(e,n){return e.setup(t.mainScene),a}}(t)),a}}function La(t,e){return e.hide(),t.show(),a}function ja(t){return function(e){var n;for(e.cycler_4ni5b8$(null,t.pbrContentCycler_0,La),e.toggleButton_8v9fdr$("Auto Rotate",t.autoRotate_0,function(t){return function(e){return t.autoRotate_0=e.isEnabled,a}}(t)),e.menuY+=25,n=t.pbrContentCycler_0.iterator();n.hasNext();)n.next().createMenu_7fm8wr$(e.menuContainer,e.smallFont,e.menuY);return t.pbrContentCycler_0.current.show(),a}}function Na(t,n){return function(i){var o,r,s,l=t.envMaps_0;for(n.runDelayed_hd6vpk$(1,(r=l,function(t){return r.dispose(),a})),t.envMaps_0=c.EnvironmentHelper.hdriEnvironment_6k7uq0$(t.mainScene,i,!1),(e.isType(o=t.skybox_0.shader,Tn)?o:et()).environmentMap=t.envMaps_0.reflectionMap,s=t.pbrContentCycler_0.iterator();s.hasNext();)s.next().updateEnvironmentMap_wwmv4k$(t.envMaps_0);return a}}function Pa(t,e,n,i,o,r){C.call(this,r),this.$controller=o,this.exceptionState_0=1,this.local$closure$idx=t,this.local$this$PbrDemo=e,this.local$closure$recv=n,this.local$$receiver=i}function Ta(t,e){this.hdriPath=t,this.name=e}function Oa(t,e){this.name=t,this.setup=e}function Ea(t){this.name=t,this.content=null,this.ui=null,this.autoRotate=!0}function Ma(){this.detailSphere=be([$e.Companion.POSITIONS,$e.Companion.TEXTURE_COORDS,$e.Companion.NORMALS,$e.Companion.TANGENTS]),this.simpleSphere=be([$e.Companion.POSITIONS,$e.Companion.NORMALS]);var t=new Ve(this.detailSphere);t.vertexModFun=Ra;var e=(new xt).uvDefaults();e.steps=700,e.radius=7,t.uvSphere_mojs8w$(e),this.detailSphere.generateTangents_mx4ult$();var n=new Ve(this.simpleSphere),i=(new xt).uvDefaults();i.steps=100,i.radius=1,n.uvSphere_mojs8w$(i)}function Ra(t){return t.texCoord.x=4*t.texCoord.x,t.texCoord.y=2*t.texCoord.y,a}function Ia(){var t;qa=this,this.hdriTexProps_0=new X(void 0,void 0,void 0,void 0,ve.NEAREST,ve.NEAREST,!1,1),this.hdriTextures_0=Le([new Ta(Jr().envMapBasePath+"/syferfontein_0d_clear_1k.rgbe.png","South Africa"),new Ta(Jr().envMapBasePath+"/circus_arena_1k.rgbe.png","Circus"),new Ta(Jr().envMapBasePath+"/newport_loft.rgbe.png","Loft"),new Ta(Jr().envMapBasePath+"/shanghai_bund_1k.rgbe.png","Shanghai"),new Ta(Jr().envMapBasePath+"/mossy_forest_1k.rgbe.png","Mossy Forest")]),this.lightStrength_0=250,this.lightExtent_0=10,this.lightSetups_0=Le([new Oa("Off",Aa),new Oa("Front x1",(t=this,function(e){var n=(new gt).setPoint_czzhiu$(new $(0,0,1.5*t.lightExtent_0)).setColor_y83vuj$(y.Companion.WHITE,2*t.lightStrength_0);return e.lighting.lights.clear(),e.lighting.lights.add_11rb$(n),a})),new Oa("Front x4",Da(this)),new Oa("Top x1",Ba(this)),new Oa("Top x4",Fa(this))])}function Aa(t){return t.lighting.lights.clear(),a}function Da(t){return function(e){var n=(new gt).setPoint_czzhiu$(new $(t.lightExtent_0,t.lightExtent_0,t.lightExtent_0)).setColor_y83vuj$(y.Companion.WHITE,t.lightStrength_0),i=(new gt).setPoint_czzhiu$(new $(-t.lightExtent_0,-t.lightExtent_0,t.lightExtent_0)).setColor_y83vuj$(y.Companion.WHITE,t.lightStrength_0),o=(new gt).setPoint_czzhiu$(new $(-t.lightExtent_0,t.lightExtent_0,t.lightExtent_0)).setColor_y83vuj$(y.Companion.WHITE,t.lightStrength_0),r=(new gt).setPoint_czzhiu$(new $(t.lightExtent_0,-t.lightExtent_0,t.lightExtent_0)).setColor_y83vuj$(y.Companion.WHITE,t.lightStrength_0);return e.lighting.lights.clear(),e.lighting.lights.add_11rb$(n),e.lighting.lights.add_11rb$(i),e.lighting.lights.add_11rb$(o),e.lighting.lights.add_11rb$(r),a}}function Ba(t){return function(e){var n=(new gt).setPoint_czzhiu$(new $(0,1.5*t.lightExtent_0,0)).setColor_y83vuj$(y.Companion.WHITE,2*t.lightStrength_0);return e.lighting.lights.clear(),e.lighting.lights.add_11rb$(n),a}}function Fa(t){return function(e){var n=(new gt).setPoint_czzhiu$(new $(t.lightExtent_0,t.lightExtent_0,t.lightExtent_0)).setColor_y83vuj$(y.Companion.WHITE,t.lightStrength_0),i=(new gt).setPoint_czzhiu$(new $(-t.lightExtent_0,t.lightExtent_0,-t.lightExtent_0)).setColor_y83vuj$(y.Companion.WHITE,t.lightStrength_0),o=(new gt).setPoint_czzhiu$(new $(-t.lightExtent_0,t.lightExtent_0,t.lightExtent_0)).setColor_y83vuj$(y.Companion.WHITE,t.lightStrength_0),r=(new gt).setPoint_czzhiu$(new $(t.lightExtent_0,t.lightExtent_0,-t.lightExtent_0)).setColor_y83vuj$(y.Companion.WHITE,t.lightStrength_0);return e.lighting.lights.clear(),e.lighting.lights.add_11rb$(n),e.lighting.lights.add_11rb$(i),e.lighting.lights.add_11rb$(o),e.lighting.lights.add_11rb$(r),a}}ea.$metadata$={kind:T,simpleName:"MultiLightDemo",interfaces:[ys]},ya.prototype.createMenu_7fm8wr$=function(t,e,n){var i=t.root;this.ui=i.container_t34sov$("pbr-color-container",ga(n,e,i,this)),t.plusAssign_f1kmr1$(d(this.ui))},ya.prototype.setUseImageBasedLighting_6taknv$=function(t){var e,n;null!=(e=this.iblContent_0)&&(e.isVisible=t),null!=(n=this.nonIblContent_0)&&(n.isVisible=!t)},ya.prototype.createContent_wo93gw$=function(t,e,n){var i,o;return this.content=ce(void 0,(i=e,o=this,function(t){t.isVisible=!1,t.isFrustumChecked=!1;var e=o.makeSpheres_0(!0,i),n=o.makeSpheres_0(!1,i);n.isVisible=!1;var r=n;return t.unaryPlus_uv0sim$(e),t.unaryPlus_uv0sim$(r),o.iblContent_0=e,o.nonIblContent_0=r,a})),d(this.content)},ya.prototype.updateEnvironmentMap_wwmv4k$=function(t){var n;if(null!=(n=this.iblContent_0)){var i,o=e.isType(i=n.shader,_n)?i:et();o.irradianceMap=t.irradianceMap,o.reflectionMap=t.reflectionMap,o.brdfLut=t.brdfLut}},ya.prototype.makeSpheres_0=function(t,n){var i=E();I(i,y.Companion.MD_COLORS),i.remove_11rb$(y.Companion.MD_LIGHT_BLUE),i.remove_11rb$(y.Companion.MD_GREY),i.remove_11rb$(y.Companion.MD_BLUE_GREY);var o=y.Companion.WHITE;i.add_11rb$(o);var r=y.Companion.MD_GREY;i.add_11rb$(r);var s=y.Companion.MD_BLUE_GREY;i.add_11rb$(s);var a=new y(.1,.1,.1);i.add_11rb$(a);var l=new ge(new je(Le([$e.Companion.POSITIONS,$e.Companion.NORMALS])),null);l.isFrustumChecked=!1,l.geometry.addGeometry_r7nl2o$(this.sphereProto.simpleSphere);var p=this.instancedPbrShader_0(t,n);this.shaders_0.add_11rb$(p),l.shader=p;for(var u=new ke(Le([ke.Companion.MODEL_MAT,$e.Companion.COLORS]),e.imul(4,5)),c=new Ce,_=0;_<4;_++)for(var h=0;h<5;h++){c.setIdentity(),c.translate_y2kzbl$(4.5*(-2+h),4.5*(1.5-_),0),c.scale_mx4ult$(1.5),u.checkBufferSize_za3lpa$();var d=u.dataF.position,f=u.dataF;f.put_q3cr5i$(c.matrix),f.put_q3cr5i$(i.get_za3lpa$((e.imul(_,5)+h|0)%i.size).toLinear().array);var m=u.dataF.position-d|0;if(m!==u.instanceSizeF)throw Pe("Expected data to grow by "+u.instanceSizeF+" elements, instead it grew by "+m);u.numInstances=u.numInstances+1|0,u.hasChanged=!0}return l.instances=u,l},ya.prototype.instancedPbrShader_0=function(t,n){var i=new Ft;i.albedoSource=b.STATIC_ALBEDO,i.roughness=.1,i.metallic=0,i.isInstanced=!0,t&&i.useImageBasedLighting_po417x$(n);var o,r,s=i,a=_n.Companion.defaultPbrModel_2ufela$(s),l={v:null},p=new q(a);l.v=p.stageInterfaceNode_iikjwn$("ifInstColors",p.instanceAttributeNode_nm2vx5$($e.Companion.COLORS).output),new U(a);t:do{var u;for(o=Ct.ALL,u=a.stages.values.iterator();u.hasNext();){var c=u.next();if(0!=(c.stage.mask&o.mask)){var _,h,f=c.nodes;e:do{var m;for(m=f.iterator();m.hasNext();){var y=m.next();if(kt(y.name,"pbrMaterial")&&e.isType(y,rt)){h=y;break e}}h=null}while(0);var $=null==(_=h)||e.isType(_,rt)?_:et();if(null!=$){r=$;break t}}}r=null}while(0);return d(r).inAlbedo=l.v.output,new _n(s,a)},ya.$metadata$={kind:T,simpleName:"ColorGridContent",interfaces:[Ea]},Object.defineProperty(va.prototype,"skybox_0",{configurable:!0,get:function(){return null==this.skybox_56jct1$_0?s("skybox"):this.skybox_56jct1$_0},set:function(t){this.skybox_56jct1$_0=t}}),Object.defineProperty(va.prototype,"envMaps_0",{configurable:!0,get:function(){return null==this.envMaps_chisr5$_0?s("envMaps"):this.envMaps_chisr5$_0},set:function(t){this.envMaps_chisr5$_0=t}}),Object.defineProperty(va.prototype,"autoRotate_0",{configurable:!0,get:function(){return this.autoRotate_4vo62z$_0},set:function(t){var e;for(this.autoRotate_4vo62z$_0=t,e=this.pbrContentCycler_0.iterator();e.hasNext();)e.next().autoRotate=t}}),va.prototype.lateInit_aemszp$=function(t){var e,n,i=t.inputMgr.registerKeyListener_aviy8w$(-25,"Next environment map",xa,(e=this,n=t,function(t){return e.hdriCycler_0.next(),e.updateHdri_0(e.hdriCycler_0.index,n),a})),o=t.inputMgr.registerKeyListener_aviy8w$(-26,"Prev environment map",wa,function(t,e){return function(n){return t.hdriCycler_0.prev(),t.updateHdri_0(t.hdriCycler_0.index,e),a}}(this,t));this.mainScene.onDispose.add_11rb$(function(t,e,n,i){return function(o,r){t.inputMgr.removeKeyListener_abhb69$(e),t.inputMgr.removeKeyListener_abhb69$(n);var s,l=i.loadedHdris_0;for(s=0;s!==l.length;++s){var p=l[s];null!=p&&p.dispose()}return i.envMaps_0.dispose(),a}}(t,i,o,this))},va.prototype.setupMainScene_aemszp$=function(t){var e,n,i,o=new D(null);return this.lightCycler_0.current.setup(o),o.unaryPlus_uv0sim$(l(o,void 0,za(o,this,t))),this.loadHdri_0(this.hdriCycler_0.index,t,(e=o,n=this,i=t,function(t){var o;for(n.envMaps_0=c.EnvironmentHelper.hdriEnvironment_6k7uq0$(e,t,!1),n.skybox_0=w.Skybox.cube_o7q6nm$(n.envMaps_0.reflectionMap,1),e.plusAssign_f1kmr1$(n.skybox_0),o=n.pbrContentCycler_0.iterator();o.hasNext();){var r=o.next(),s=e;s.unaryPlus_uv0sim$(r.createContent_wo93gw$(s,n.envMaps_0,i))}return n.pbrContentCycler_0.current.show(),a})),o},va.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,n=t,function(t){return t.menuHeight=440,t.section_yfmn31$("Environment",Ca(e,n)),t.section_yfmn31$("Image Based Lighting",Sa(e)),t.section_yfmn31$("Discrete Lighting",ka(e)),t.section_yfmn31$("Scene Content",ja(e)),a}));var e,n},va.prototype.updateHdri_0=function(t,e){this.loadHdri_0(t,e,Na(this,e))},Pa.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Pa.prototype=Object.create(C.prototype),Pa.prototype.constructor=Pa,Pa.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$$receiver.loadAndPrepareTexture_va0f2y$(Ua().hdriTextures_0.get_za3lpa$(this.local$closure$idx).hdriPath,Ua().hdriTexProps_0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:var t=this.result_0;return this.local$this$PbrDemo.loadedHdris_0[this.local$closure$idx]=t,this.local$closure$recv(t);default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},va.prototype.loadHdri_0=function(t,e,n){var i,o,r,s=this.loadedHdris_0[t];null==s?e.assetMgr.launch_eln4bt$((i=t,o=this,r=n,function(t,e,n){var s=new Pa(i,o,r,t,this,e);return n?s:s.doResume(null)})):n(s)},Ta.prototype.toString=function(){return this.name},Ta.$metadata$={kind:T,simpleName:"Hdri",interfaces:[]},Oa.prototype.toString=function(){return this.name},Oa.$metadata$={kind:T,simpleName:"LightSetup",interfaces:[]},Ea.prototype.show=function(){var t,e;null!=(t=this.content)&&(t.isVisible=!0),null!=(e=this.ui)&&(e.isVisible=!0)},Ea.prototype.hide=function(){var t,e;null!=(t=this.content)&&(t.isVisible=!1),null!=(e=this.ui)&&(e.isVisible=!1)},Ea.prototype.toString=function(){return this.name},Ea.$metadata$={kind:T,simpleName:"PbrContent",interfaces:[]},Ma.$metadata$={kind:T,simpleName:"SphereProto",interfaces:[]},Ia.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var qa=null;function Ua(){return null===qa&&new Ia,qa}function Va(t){hp(),Ea.call(this,"PBR Material"),this.sphereProto=t;var e=new fs(hp().materials_0);e.index=3,this.matCycler=e,this.shaders_0=E(),this.iblContent_0=null,this.nonIblContent_0=null}function Wa(t,e){return function(n){n.layoutSpec.setOrigin_4ujscr$(ht(15),Oe(t.v),_t()),n.layoutSpec.setSize_4ujscr$(ht(70),Oe(35),dt()),n.text=e.currentMat.name;var i=n.onClick,o=function(t){return function(e,n,i,o){return e.text=t.nextMaterial_0().name,a}}(e);return i.add_11rb$(o),a}}function Ga(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.v),_t()),i.layoutSpec.setSize_4ujscr$(ht(20),Oe(35),dt()),i.text="<";var o=i.onClick,r=function(t,e){return function(n,i,o,r){return e.text=t.prevMaterial_0().name,a}}(e,n);return o.add_11rb$(r),a}}function Ha(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(ht(80),Oe(t.v),_t()),i.layoutSpec.setSize_4ujscr$(ht(20),Oe(35),dt()),i.text=">";var o=i.onClick,r=function(t,e){return function(n,i,o,r){return e.text=t.nextMaterial_0().name,a}}(e,n);return o.add_11rb$(r),a}}function Xa(t,e,n,i){return function(o){o.isVisible=!1,o.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t-60),_t()),o.layoutSpec.setSize_4ujscr$(ht(100),Oe(60),dt());var r={v:-30};o.unaryPlus_uv0sim$(n.label_tokfmu$("mat-lbl",function(t,e,n){return function(i){return i.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.v),_t()),i.layoutSpec.setSize_4ujscr$(ht(100),Oe(30),dt()),i.font.setCustom_11rb$(e),i.text="Material",i.textColor.setCustom_11rb$(n.theme.accentColor),i.textAlignment=new mt(ft.CENTER,ft.CENTER),a}}(r,e,n))),r.v-=30;var s=n.button_9zrh0o$("selected-mat",Wa(r,i));return o.unaryPlus_uv0sim$(s),o.unaryPlus_uv0sim$(n.button_9zrh0o$("mat-left",Ga(r,i,s))),o.unaryPlus_uv0sim$(n.button_9zrh0o$("mat-right",Ha(r,i,s))),a}}function Ka(t,e,n,i){return function(o){o.isVisible=!1;var r=n.makeSphere_0(!0,t,e),s=n.makeSphere_0(!1,t,e);s.isVisible=!1;var l=s;o.unaryPlus_uv0sim$(r),o.unaryPlus_uv0sim$(l),n.iblContent_0=r,n.nonIblContent_0=l;var p=o.onUpdate,u=function(t,e,n){return function(i,o){return t.autoRotate&&n.rotate_ad55pp$(-2*e.deltaT,$.Companion.Y_AXIS),a}}(n,i,o);return p.add_11rb$(u),a}}function Ya(t,e,n,i){return function(o){o.geometry.addGeometry_r7nl2o$(t.sphereProto.detailSphere);var r=g(function(t,e){return function(n){return n.albedoSource=b.TEXTURE_ALBEDO,n.isNormalMapped=!0,n.isRoughnessMapped=!0,n.isMetallicMapped=!0,n.isOcclusionMapped=!0,n.isDisplacementMapped=!0,n.displacementStrength=.25,t&&n.useImageBasedLighting_po417x$(e),a}}(e,n));o.shader=r,t.shaders_0.add_11rb$(r),t.updatePbrMaterial_0();var s=i.onDispose,l=function(t){return function(e,n){var i;for(i=t.matCycler.iterator();i.hasNext();)i.next().disposeMaps();return a}}(t);return s.add_11rb$(l),a}}function Za(t,e,n,i,o,r,s){this.name=t,this.albedo=e,this.normal=n,this.roughness=i,this.metallic=o,this.ao=r,this.displacement=s}function Ja(){var t;_p=this,this.defaultMetallicTex_0=new Nn(y.Companion.BLACK),this.defaultAoTex_0=new Nn(y.Companion.WHITE),this.defaultDispTex_0=new Nn(y.Companion.BLACK),this.assetPath_0=Jr().pbrBasePath,this.materials_0=kn([new Za("Bamboo",new En(void 0,void 0,(t=this,function(e,n,i,o){var r=new Qa(t,e,n,this,i);return o?r:r.doResume(null)})),new En(void 0,void 0,el(this)),new En(void 0,void 0,il(this)),null,new En(void 0,void 0,rl(this)),null),new Za("Castle Brick",new En(void 0,void 0,al(this)),new En(void 0,void 0,pl(this)),new En(void 0,void 0,cl(this)),null,new En(void 0,void 0,hl(this)),new En(void 0,void 0,fl(this))),new Za("Granite",new En(void 0,void 0,yl(this)),new En(void 0,void 0,bl(this)),new En(void 0,void 0,vl(this)),null,null,null),new Za("Weave Steel",new En(void 0,void 0,wl(this)),new En(void 0,void 0,Cl(this)),new En(void 0,void 0,kl(this)),new En(void 0,void 0,jl(this)),new En(void 0,void 0,Pl(this)),new En(void 0,void 0,Ol(this))),new Za("Scuffed Plastic",new En(void 0,void 0,Ml(this)),new En(void 0,void 0,Il(this)),new En(void 0,void 0,Dl(this)),null,new En(void 0,void 0,Fl(this)),null),new Za("Snow Covered Path",new En(void 0,void 0,Ul(this)),new En(void 0,void 0,Wl(this)),new En(void 0,void 0,Hl(this)),null,new En(void 0,void 0,Kl(this)),new En(void 0,void 0,Zl(this))),new Za("Marble",new En(void 0,void 0,Ql(this)),new En(void 0,void 0,ep(this)),new En(void 0,void 0,ip(this)),null,null,null),new Za("Onyx Tiles",new En(void 0,void 0,rp(this)),new En(void 0,void 0,ap(this)),new En(void 0,void 0,pp(this)),null,null,new En(void 0,void 0,cp(this)))])}function Qa(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function tl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function el(t){return function(e,n,i,o){var r=new tl(t,e,n,this,i);return o?r:r.doResume(null)}}function nl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function il(t){return function(e,n,i,o){var r=new nl(t,e,n,this,i);return o?r:r.doResume(null)}}function ol(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function rl(t){return function(e,n,i,o){var r=new ol(t,e,n,this,i);return o?r:r.doResume(null)}}function sl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function al(t){return function(e,n,i,o){var r=new sl(t,e,n,this,i);return o?r:r.doResume(null)}}function ll(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function pl(t){return function(e,n,i,o){var r=new ll(t,e,n,this,i);return o?r:r.doResume(null)}}function ul(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function cl(t){return function(e,n,i,o){var r=new ul(t,e,n,this,i);return o?r:r.doResume(null)}}function _l(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function hl(t){return function(e,n,i,o){var r=new _l(t,e,n,this,i);return o?r:r.doResume(null)}}function dl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function fl(t){return function(e,n,i,o){var r=new dl(t,e,n,this,i);return o?r:r.doResume(null)}}function ml(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function yl(t){return function(e,n,i,o){var r=new ml(t,e,n,this,i);return o?r:r.doResume(null)}}function $l(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function bl(t){return function(e,n,i,o){var r=new $l(t,e,n,this,i);return o?r:r.doResume(null)}}function gl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function vl(t){return function(e,n,i,o){var r=new gl(t,e,n,this,i);return o?r:r.doResume(null)}}function xl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function wl(t){return function(e,n,i,o){var r=new xl(t,e,n,this,i);return o?r:r.doResume(null)}}function zl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Cl(t){return function(e,n,i,o){var r=new zl(t,e,n,this,i);return o?r:r.doResume(null)}}function Sl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function kl(t){return function(e,n,i,o){var r=new Sl(t,e,n,this,i);return o?r:r.doResume(null)}}function Ll(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function jl(t){return function(e,n,i,o){var r=new Ll(t,e,n,this,i);return o?r:r.doResume(null)}}function Nl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Pl(t){return function(e,n,i,o){var r=new Nl(t,e,n,this,i);return o?r:r.doResume(null)}}function Tl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Ol(t){return function(e,n,i,o){var r=new Tl(t,e,n,this,i);return o?r:r.doResume(null)}}function El(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Ml(t){return function(e,n,i,o){var r=new El(t,e,n,this,i);return o?r:r.doResume(null)}}function Rl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Il(t){return function(e,n,i,o){var r=new Rl(t,e,n,this,i);return o?r:r.doResume(null)}}function Al(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Dl(t){return function(e,n,i,o){var r=new Al(t,e,n,this,i);return o?r:r.doResume(null)}}function Bl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Fl(t){return function(e,n,i,o){var r=new Bl(t,e,n,this,i);return o?r:r.doResume(null)}}function ql(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Ul(t){return function(e,n,i,o){var r=new ql(t,e,n,this,i);return o?r:r.doResume(null)}}function Vl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Wl(t){return function(e,n,i,o){var r=new Vl(t,e,n,this,i);return o?r:r.doResume(null)}}function Gl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Hl(t){return function(e,n,i,o){var r=new Gl(t,e,n,this,i);return o?r:r.doResume(null)}}function Xl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Kl(t){return function(e,n,i,o){var r=new Xl(t,e,n,this,i);return o?r:r.doResume(null)}}function Yl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Zl(t){return function(e,n,i,o){var r=new Yl(t,e,n,this,i);return o?r:r.doResume(null)}}function Jl(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function Ql(t){return function(e,n,i,o){var r=new Jl(t,e,n,this,i);return o?r:r.doResume(null)}}function tp(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function ep(t){return function(e,n,i,o){var r=new tp(t,e,n,this,i);return o?r:r.doResume(null)}}function np(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function ip(t){return function(e,n,i,o){var r=new np(t,e,n,this,i);return o?r:r.doResume(null)}}function op(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function rp(t){return function(e,n,i,o){var r=new op(t,e,n,this,i);return o?r:r.doResume(null)}}function sp(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function ap(t){return function(e,n,i,o){var r=new sp(t,e,n,this,i);return o?r:r.doResume(null)}}function lp(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function pp(t){return function(e,n,i,o){var r=new lp(t,e,n,this,i);return o?r:r.doResume(null)}}function up(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$PbrMaterialContent$=t,this.local$it=n}function cp(t){return function(e,n,i,o){var r=new up(t,e,n,this,i);return o?r:r.doResume(null)}}va.$metadata$={kind:T,simpleName:"PbrDemo",interfaces:[ys]},Object.defineProperty(Va.prototype,"currentMat",{configurable:!0,get:function(){return this.matCycler.current}}),Va.prototype.nextMaterial_0=function(){return this.currentMat.disposeMaps(),this.matCycler.next(),this.updatePbrMaterial_0(),this.currentMat},Va.prototype.prevMaterial_0=function(){return this.currentMat.disposeMaps(),this.matCycler.prev(),this.updatePbrMaterial_0(),this.currentMat},Va.prototype.updatePbrMaterial_0=function(){var t;for(t=this.shaders_0.iterator();t.hasNext();){var e,n,i,o=t.next();o.albedoMap=this.currentMat.albedo,o.normalMap=this.currentMat.normal,o.roughnessMap=this.currentMat.roughness,o.metallicMap=null!=(e=this.currentMat.metallic)?e:hp().defaultMetallicTex_0,o.occlusionMap=null!=(n=this.currentMat.ao)?n:hp().defaultAoTex_0,o.displacementMap=null!=(i=this.currentMat.displacement)?i:hp().defaultDispTex_0}},Va.prototype.createMenu_7fm8wr$=function(t,e,n){var i=t.root;this.ui=i.container_t34sov$("pbr-mat-container",Xa(n,e,i,this)),t.plusAssign_f1kmr1$(d(this.ui))},Va.prototype.setUseImageBasedLighting_6taknv$=function(t){var e,n;null!=(e=this.iblContent_0)&&(e.isVisible=t),null!=(n=this.nonIblContent_0)&&(n.isVisible=!t)},Va.prototype.createContent_wo93gw$=function(t,e,n){return this.content=ce(void 0,Ka(t,e,this,n)),d(this.content)},Va.prototype.updateEnvironmentMap_wwmv4k$=function(t){var n,i,o;if(null!=(i=null!=(n=this.iblContent_0)?n.children:null))for(o=i.iterator();o.hasNext();){var r,s=o.next();e.isType(s,ge)||et();var a=e.isType(r=s.shader,_n)?r:et();a.irradianceMap=t.irradianceMap,a.reflectionMap=t.reflectionMap,a.brdfLut=t.brdfLut}},Va.prototype.makeSphere_0=function(t,e,n){return ce(void 0,(i=this,o=t,r=n,s=e,function(t){return t.unaryPlus_uv0sim$(x(void 0,!0,Ya(i,o,r,s))),a}));var i,o,r,s},Za.prototype.disposeMaps=function(){var t,e,n;this.albedo.dispose(),this.normal.dispose(),this.roughness.dispose(),null!=(t=this.metallic)&&t.dispose(),null!=(e=this.ao)&&e.dispose(),null!=(n=this.displacement)&&n.dispose()},Za.$metadata$={kind:T,simpleName:"MaterialMaps",interfaces:[]},Za.prototype.component1=function(){return this.name},Za.prototype.component2=function(){return this.albedo},Za.prototype.component3=function(){return this.normal},Za.prototype.component4=function(){return this.roughness},Za.prototype.component5=function(){return this.metallic},Za.prototype.component6=function(){return this.ao},Za.prototype.component7=function(){return this.displacement},Za.prototype.copy_ld57qh$=function(t,e,n,i,o,r,s){return new Za(void 0===t?this.name:t,void 0===e?this.albedo:e,void 0===n?this.normal:n,void 0===i?this.roughness:i,void 0===o?this.metallic:o,void 0===r?this.ao:r,void 0===s?this.displacement:s)},Za.prototype.toString=function(){return"MaterialMaps(name="+e.toString(this.name)+", albedo="+e.toString(this.albedo)+", normal="+e.toString(this.normal)+", roughness="+e.toString(this.roughness)+", metallic="+e.toString(this.metallic)+", ao="+e.toString(this.ao)+", displacement="+e.toString(this.displacement)+")"},Za.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.name)|0)+e.hashCode(this.albedo)|0)+e.hashCode(this.normal)|0)+e.hashCode(this.roughness)|0)+e.hashCode(this.metallic)|0)+e.hashCode(this.ao)|0)+e.hashCode(this.displacement)|0},Za.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.name,t.name)&&e.equals(this.albedo,t.albedo)&&e.equals(this.normal,t.normal)&&e.equals(this.roughness,t.roughness)&&e.equals(this.metallic,t.metallic)&&e.equals(this.ao,t.ao)&&e.equals(this.displacement,t.displacement)},Qa.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Qa.prototype=Object.create(C.prototype),Qa.prototype.constructor=Qa,Qa.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/bamboo-wood-semigloss/bamboo-wood-semigloss-albedo.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},tl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},tl.prototype=Object.create(C.prototype),tl.prototype.constructor=tl,tl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/bamboo-wood-semigloss/bamboo-wood-semigloss-normal.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},nl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},nl.prototype=Object.create(C.prototype),nl.prototype.constructor=nl,nl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/bamboo-wood-semigloss/bamboo-wood-semigloss-roughness.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ol.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},ol.prototype=Object.create(C.prototype),ol.prototype.constructor=ol,ol.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/bamboo-wood-semigloss/bamboo-wood-semigloss-ao.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},sl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},sl.prototype=Object.create(C.prototype),sl.prototype.constructor=sl,sl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/castle_brick/castle_brick_02_red_diff_2k.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ll.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},ll.prototype=Object.create(C.prototype),ll.prototype.constructor=ll,ll.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/castle_brick/castle_brick_02_red_nor_2k.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ul.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},ul.prototype=Object.create(C.prototype),ul.prototype.constructor=ul,ul.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/castle_brick/castle_brick_02_red_rough_2k.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},_l.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},_l.prototype=Object.create(C.prototype),_l.prototype.constructor=_l,_l.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/castle_brick/castle_brick_02_red_ao_2k.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},dl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},dl.prototype=Object.create(C.prototype),dl.prototype.constructor=dl,dl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/castle_brick/castle_brick_02_red_disp_2k.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ml.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},ml.prototype=Object.create(C.prototype),ml.prototype.constructor=ml,ml.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/granitesmooth1/granitesmooth1-albedo4.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},$l.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},$l.prototype=Object.create(C.prototype),$l.prototype.constructor=$l,$l.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/granitesmooth1/granitesmooth1-normal2.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},gl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},gl.prototype=Object.create(C.prototype),gl.prototype.constructor=gl,gl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/granitesmooth1/granitesmooth1-roughness3.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},xl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},xl.prototype=Object.create(C.prototype),xl.prototype.constructor=xl,xl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/MetalDesignerWeaveSteel002/MetalDesignerWeaveSteel002_COL_2K_METALNESS.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},zl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},zl.prototype=Object.create(C.prototype),zl.prototype.constructor=zl,zl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/MetalDesignerWeaveSteel002/MetalDesignerWeaveSteel002_NRM_2K_METALNESS.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Sl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Sl.prototype=Object.create(C.prototype),Sl.prototype.constructor=Sl,Sl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/MetalDesignerWeaveSteel002/MetalDesignerWeaveSteel002_ROUGHNESS_2K_METALNESS.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Ll.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Ll.prototype=Object.create(C.prototype),Ll.prototype.constructor=Ll,Ll.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/MetalDesignerWeaveSteel002/MetalDesignerWeaveSteel002_METALNESS_2K_METALNESS.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Nl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Nl.prototype=Object.create(C.prototype),Nl.prototype.constructor=Nl,Nl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/MetalDesignerWeaveSteel002/MetalDesignerWeaveSteel002_AO_2K_METALNESS.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Tl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Tl.prototype=Object.create(C.prototype),Tl.prototype.constructor=Tl,Tl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/MetalDesignerWeaveSteel002/MetalDesignerWeaveSteel002_DISP_2K_METALNESS.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},El.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},El.prototype=Object.create(C.prototype),El.prototype.constructor=El,El.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/scuffed-plastic-1/scuffed-plastic4-alb.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Rl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Rl.prototype=Object.create(C.prototype),Rl.prototype.constructor=Rl,Rl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/scuffed-plastic-1/scuffed-plastic-normal.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Al.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Al.prototype=Object.create(C.prototype),Al.prototype.constructor=Al,Al.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/scuffed-plastic-1/scuffed-plastic-rough.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Bl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Bl.prototype=Object.create(C.prototype),Bl.prototype.constructor=Bl,Bl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/scuffed-plastic-1/scuffed-plastic-ao.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ql.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},ql.prototype=Object.create(C.prototype),ql.prototype.constructor=ql,ql.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/snowcoveredpath/snowcoveredpath_albedo.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Vl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Vl.prototype=Object.create(C.prototype),Vl.prototype.constructor=Vl,Vl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/snowcoveredpath/snowcoveredpath_normal-dx.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Gl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Gl.prototype=Object.create(C.prototype),Gl.prototype.constructor=Gl,Gl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/snowcoveredpath/snowcoveredpath_roughness.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Xl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Xl.prototype=Object.create(C.prototype),Xl.prototype.constructor=Xl,Xl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/snowcoveredpath/snowcoveredpath_ao.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Yl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Yl.prototype=Object.create(C.prototype),Yl.prototype.constructor=Yl,Yl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/snowcoveredpath/snowcoveredpath_height.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Jl.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Jl.prototype=Object.create(C.prototype),Jl.prototype.constructor=Jl,Jl.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/streaked-marble/streaked-marble-albedo2.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},tp.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},tp.prototype=Object.create(C.prototype),tp.prototype.constructor=tp,tp.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/streaked-marble/streaked-marble-normal.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},np.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},np.prototype=Object.create(C.prototype),np.prototype.constructor=np,np.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/streaked-marble/streaked-marble-roughness1.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},op.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},op.prototype=Object.create(C.prototype),op.prototype.constructor=op,op.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/TilesOnyxOpaloBlack001/TilesOnyxOpaloBlack001_COL_2K.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},sp.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},sp.prototype=Object.create(C.prototype),sp.prototype.constructor=sp,sp.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/TilesOnyxOpaloBlack001/TilesOnyxOpaloBlack001_NRM_2K.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},lp.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},lp.prototype=Object.create(C.prototype),lp.prototype.constructor=lp,lp.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/TilesOnyxOpaloBlack001/TilesOnyxOpaloBlack001_REFL_2K.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},up.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},up.prototype=Object.create(C.prototype),up.prototype.constructor=up,up.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$it.loadTextureData_9n4zzi$(this.local$this$PbrMaterialContent$.assetPath_0+"/TilesOnyxOpaloBlack001/TilesOnyxOpaloBlack001_DISP_2K.jpg",void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Ja.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var _p=null;function hp(){return null===_p&&new Ja,_p}function dp(t){xp(),Ea.call(this,"Roughness / Metal"),this.sphereProto=t,this.colors_0=new fs(xp().matColors_0),this.shaders_0=E(),this.iblContent_0=null,this.nonIblContent_0=null}function fp(t,e){return function(n){n.layoutSpec.setOrigin_4ujscr$(ht(15),Oe(t.v),_t()),n.layoutSpec.setSize_4ujscr$(ht(70),Oe(35),dt()),n.text=e.colors_0.current.name;var i=n.onClick,o=function(t){return function(e,n,i,o){var r;for(e.text=t.colors_0.next().name,r=t.shaders_0.iterator();r.hasNext();)r.next().albedo=t.colors_0.current.linColor;return a}}(e);return i.add_11rb$(o),a}}function mp(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.v),_t()),i.layoutSpec.setSize_4ujscr$(ht(20),Oe(35),dt()),i.text="<";var o=i.onClick,r=function(t,e){return function(n,i,o,r){var s;for(e.text=t.colors_0.prev().name,s=t.shaders_0.iterator();s.hasNext();)s.next().albedo=t.colors_0.current.linColor;return a}}(e,n);return o.add_11rb$(r),a}}function yp(t,e,n){return function(i){i.layoutSpec.setOrigin_4ujscr$(ht(80),Oe(t.v),_t()),i.layoutSpec.setSize_4ujscr$(ht(20),Oe(35),dt()),i.text=">";var o=i.onClick,r=function(t,e){return function(n,i,o,r){var s;for(e.text=t.colors_0.next().name,s=t.shaders_0.iterator();s.hasNext();)s.next().albedo=t.colors_0.current.linColor;return a}}(e,n);return o.add_11rb$(r),a}}function $p(t,e,n,i){return function(o){o.isVisible=!1,o.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t-60),_t()),o.layoutSpec.setSize_4ujscr$(ht(100),Oe(60),dt());var r={v:-30};o.unaryPlus_uv0sim$(n.label_tokfmu$("color-lbl",function(t,e,n){return function(i){return i.layoutSpec.setOrigin_4ujscr$(ht(0),Oe(t.v),_t()),i.layoutSpec.setSize_4ujscr$(ht(100),Oe(30),dt()),i.font.setCustom_11rb$(e),i.text="Color",i.textColor.setCustom_11rb$(n.theme.accentColor),i.textAlignment=new mt(ft.CENTER,ft.CENTER),a}}(r,e,n))),r.v-=30;var s=n.button_9zrh0o$("selected-color",fp(r,i));return o.unaryPlus_uv0sim$(s),o.unaryPlus_uv0sim$(n.button_9zrh0o$("color-left",mp(r,i,s))),o.unaryPlus_uv0sim$(n.button_9zrh0o$("color-right",yp(r,i,s))),a}}function bp(t,e){this.name=t,this.linColor=e}function gp(){vp=this,this.matColors_0=Le([new bp("Red",y.Companion.MD_RED.toLinear()),new bp("Pink",y.Companion.MD_PINK.toLinear()),new bp("Purple",y.Companion.MD_PURPLE.toLinear()),new bp("Deep Purple",y.Companion.MD_DEEP_PURPLE.toLinear()),new bp("Indigo",y.Companion.MD_INDIGO.toLinear()),new bp("Blue",y.Companion.MD_BLUE.toLinear()),new bp("Cyan",y.Companion.MD_CYAN.toLinear()),new bp("Teal",y.Companion.MD_TEAL.toLinear()),new bp("Green",y.Companion.MD_GREEN.toLinear()),new bp("Light Green",y.Companion.MD_LIGHT_GREEN.toLinear()),new bp("Lime",y.Companion.MD_LIME.toLinear()),new bp("Yellow",y.Companion.MD_YELLOW.toLinear()),new bp("Amber",y.Companion.MD_AMBER.toLinear()),new bp("Orange",y.Companion.MD_ORANGE.toLinear()),new bp("Deep Orange",y.Companion.MD_DEEP_ORANGE.toLinear()),new bp("Brown",y.Companion.MD_BROWN.toLinear()),new bp("White",y.Companion.WHITE.toLinear()),new bp("Grey",y.Companion.MD_GREY.toLinear()),new bp("Blue Grey",y.Companion.MD_BLUE_GREY.toLinear()),new bp("Almost Black",new y(.1,.1,.1).toLinear())])}Va.$metadata$={kind:T,simpleName:"PbrMaterialContent",interfaces:[Ea]},dp.prototype.createMenu_7fm8wr$=function(t,e,n){var i=t.root;this.ui=i.container_t34sov$("pbr-rough-metal-container",$p(n,e,i,this)),t.plusAssign_f1kmr1$(d(this.ui))},dp.prototype.setUseImageBasedLighting_6taknv$=function(t){var e,n;null!=(e=this.iblContent_0)&&(e.isVisible=t),null!=(n=this.nonIblContent_0)&&(n.isVisible=!t)},dp.prototype.createContent_wo93gw$=function(t,e,n){var i,o;return this.content=ce(void 0,(i=e,o=this,function(t){t.isVisible=!1,t.isFrustumChecked=!1;var e=o.makeSpheres_0(!0,i),n=o.makeSpheres_0(!1,i);n.isVisible=!1;var r=n;return t.unaryPlus_uv0sim$(e),t.unaryPlus_uv0sim$(r),o.iblContent_0=e,o.nonIblContent_0=r,a})),d(this.content)},dp.prototype.updateEnvironmentMap_wwmv4k$=function(t){var n;if(null!=(n=this.iblContent_0)){var i,o=e.isType(i=n.shader,_n)?i:et();o.irradianceMap=t.irradianceMap,o.reflectionMap=t.reflectionMap,o.brdfLut=t.brdfLut}},dp.prototype.makeSpheres_0=function(t,n){var i=new ge(new je(Le([$e.Companion.POSITIONS,$e.Companion.NORMALS])),null);i.isFrustumChecked=!1,i.geometry.addGeometry_r7nl2o$(this.sphereProto.simpleSphere);var o=this.instancedPbrShader_0(t,n);this.shaders_0.add_11rb$(o),i.shader=o;for(var r=new ke(Le([ke.Companion.MODEL_MAT,$e.Companion.COLORS]),e.imul(7,7)),s=new Ce,a=0;a<7;a++)for(var l=0;l<7;l++){s.setIdentity(),s.translate_y2kzbl$(2.5*(-3+l),2.5*(3-a),0),r.checkBufferSize_za3lpa$();var p=r.dataF.position,u=r.dataF;u.put_q3cr5i$(s.matrix);var c=l/6,_=M.max(c,.05),h=a/6;u.put_mx4ult$(_),u.put_mx4ult$(h),u.put_mx4ult$(0),u.put_mx4ult$(0);var d=r.dataF.position-p|0;if(d!==r.instanceSizeF)throw Pe("Expected data to grow by "+r.instanceSizeF+" elements, instead it grew by "+d);r.numInstances=r.numInstances+1|0,r.hasChanged=!0}return i.instances=r,i},dp.prototype.instancedPbrShader_0=function(t,n){var i=new Ft;i.albedoSource=b.STATIC_ALBEDO,i.albedo=this.colors_0.current.linColor,i.isInstanced=!0,t&&i.useImageBasedLighting_po417x$(n);var o=i,r=_n.Companion.defaultPbrModel_2ufela$(o),s={v:null},a=new q(r);s.v=a.stageInterfaceNode_iikjwn$("ifInstColors",a.instanceAttributeNode_nm2vx5$($e.Companion.COLORS).output);var l,p,u=new U(r);t:do{var c;for(l=Ct.ALL,c=r.stages.values.iterator();c.hasNext();){var _=c.next();if(0!=(_.stage.mask&l.mask)){var h,f,m=_.nodes;e:do{var y;for(y=m.iterator();y.hasNext();){var $=y.next();if(kt($.name,"pbrMaterial")&&e.isType($,rt)){f=$;break e}}f=null}while(0);var g=null==(h=f)||e.isType(h,rt)?h:et();if(null!=g){p=g;break t}}}p=null}while(0);var v=d(p);return v.inRoughness=u.splitNode_500t7j$(s.v.output,"r").output,v.inMetallic=u.splitNode_500t7j$(s.v.output,"g").output,new _n(o,r)},bp.$metadata$={kind:T,simpleName:"MatColor",interfaces:[]},bp.prototype.component1=function(){return this.name},bp.prototype.component2=function(){return this.linColor},bp.prototype.copy_guvy9a$=function(t,e){return new bp(void 0===t?this.name:t,void 0===e?this.linColor:e)},bp.prototype.toString=function(){return"MatColor(name="+e.toString(this.name)+", linColor="+e.toString(this.linColor)+")"},bp.prototype.hashCode=function(){var t=0;return t=31*(t=31*t+e.hashCode(this.name)|0)+e.hashCode(this.linColor)|0},bp.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.name,t.name)&&e.equals(this.linColor,t.linColor)},gp.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var vp=null;function xp(){return null===vp&&new gp,vp}function wp(){ys.call(this,"Physics"),this.aoPipeline_kr34rc$_0=this.aoPipeline_kr34rc$_0,this.shadows_0=E(),this.shapes_0=ms(ou().slice()),this.numSpawnBodies_0=450,this.physicsWorld_0=null,this.bodies_0=E()}function zp(t){return t.setDirectional_czzhiu$(new $(.8,-1.2,1)),a}function Cp(t,n,i,o){return function(r,s){var l,p;t.stepPhysics_r6tv2c$(s.deltaT),l=n.shapes_0;for(var u=0;u!==l.size;++u)n.shapes_0.get_za3lpa$(u).instances.clear();for(p=n.bodies_0.iterator();p.hasNext();){var c=p.next(),_=i,h=o;if(c.rigidBody.origin.length()>500)_.add_11rb$(c);else{h.set_d4zu6j$(c.rigidBody.transform).scale_czzhiu$(c.scale);var d=c.shape.instances;d.checkBufferSize_za3lpa$();var f=d.dataF.position,m=d.dataF;m.put_q3cr5i$(h.matrix),m.put_q3cr5i$(c.color.array);var y=d.dataF.position-f|0;if(y!==d.instanceSizeF)throw Pe("Expected data to grow by "+d.instanceSizeF+" elements, instead it grew by "+y);d.numInstances=d.numInstances+1|0,d.hasChanged=!0}}if(!i.isEmpty()){var $;for($=i.iterator();$.hasNext();){var b=$.next(),g=n,v=t,x=ei.Log,w=si.INFO,z=e.getKClassFromExpression(r).simpleName;w.level>=x.level.level&&x.printer(w,z,"Removing out-of-range body"),g.bodies_0.remove_11rb$(b),v.removeRigidBody_m4howt$(b.rigidBody)}i.clear()}return a}}function Sp(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$=t,this.local$this$CollisionDemo=e,this.local$ibl=void 0,this.local$$receiver=n}function kp(t,e,n,i,o){return function(r){return r.generate_v2sixm$(function(t,e){return function(n){var i=new Ze,o=t,r=e;return i.size.set_czzhiu$(o.size),i.origin.set_czzhiu$(i.size).scale_mx4ult$(-.5).add_czzhiu$(r.origin),n.cube_lhbb6w$(i),a}}(t,e)),r.shader=g(function(t,e,n){return function(i){return i.roughness=.75,I(i.shadowMaps,t.shadows_0),i.useImageBasedLighting_po417x$(e),i.useScreenSpaceAmbientOcclusion_9cjgzv$(t.aoPipeline_0.aoMap),i.useAlbedoMap_vzjalu$(n),a}}(n,i,o)),a}}function Lp(t,n,i){return function(o){return o.generate_v2sixm$(function(t){return function(n){var i;for(i=t.iterator();i.hasNext();){var o,r=i.next(),s=e.isType(o=r.collisionShape,Vn)?o:et(),l=new Ze;l.size.set_czzhiu$(s.size),l.origin.set_czzhiu$(l.size).scale_mx4ult$(-.5).add_czzhiu$(r.origin),n.cube_lhbb6w$(l)}return a}}(t)),o.shader=g(function(t,e){return function(n){return n.roughness=.75,I(n.shadowMaps,t.shadows_0),n.useImageBasedLighting_po417x$(e),n.useScreenSpaceAmbientOcclusion_9cjgzv$(t.aoPipeline_0.aoMap),n.useStaticAlbedo_d7aj7k$(y.Companion.MD_BLUE_GREY_700.toLinear()),a}}(n,i)),a}}function jp(t,e,n,i){C.call(this,i),this.$controller=n,this.exceptionState_0=1}function Np(t,e,n,i){var o=new jp(t,e,this,n);return i?o:o.doResume(null)}function Pp(t,n,i){var o;this.rigidBody=t,this.color=n,this.shape=i,this.scale=Ke();var r=this.rigidBody.collisionShape;if(e.isType(r,Vn))this.scale.set_czzhiu$(r.size);else if(e.isType(r,Xn))this.scale.set_y2kzbl$(r.radius,r.radius,r.radius);else if(e.isType(r,Kn)){var s=r.points.get_za3lpa$(0).length();this.scale.set_y2kzbl$(s,s,s)}else if(e.isType(r,Yn))this.scale.set_y2kzbl$(r.radius,r.height,r.radius);else if(e.isType(r,Zn)){var a=(e.isType(o=r.children.get_za3lpa$(0).shape,Vn)?o:et()).size.z/2;this.scale.set_y2kzbl$(a,a,a)}else e.isType(r,Jn)&&this.scale.set_y2kzbl$(r.radius,r.radius,r.radius)}function Tp(t,e){return a}function Op(t){return function(e){return e.cycler_4ni5b8$("Body Shape:",t.shapes_0,Tp),e.sliderWithValue_xbu91d$("Number of Bodies:",t.numSpawnBodies_0,50,1e3,0,void 0,function(t){return function(e){return t.numSpawnBodies_0=$t(e.value),a}}(t)),e.gap_mx4ult$(10),e.button_9zrh0o$("Reset Physics",function(t){return function(e){return t.resetPhysics_0(),a}}(t)),e.gap_mx4ult$(10),a}}function Ep(t){return function(e){var n=e.textWithValue_puj7f4$("Physics:","0.00 ms"),i=t;n.onUpdate.add_11rb$(function(t,e){return function(n,i){var o,r;return e.text=Ee(null!=(r=null!=(o=t.physicsWorld_0)?o.cpuTime:null)?yt(r,2):null)+" ms",a}}(i,n));var o=e.textWithValue_puj7f4$("Time Factor:","1.00 x"),r=t;return o.onUpdate.add_11rb$(function(t,e){return function(n,i){var o,r;return e.text=Ee(null!=(r=null!=(o=t.physicsWorld_0)?o.timeFactor:null)?yt(r,2):null)+" x",a}}(r,o)),a}}function Mp(t,e){oi.call(this),this.name$=t,this.ordinal$=e,this.instances=new ke(Le([ke.Companion.MODEL_MAT,$e.Companion.COLORS]));var n,i=new ge(new je(Le([$e.Companion.POSITIONS,$e.Companion.NORMALS])),null);i.isFrustumChecked=!1,i.instances=this.instances,i.generate_v2sixm$((n=this,function(t){return n.generateMesh_w0m2rg$(t),a})),this.mesh=i}function Rp(){Rp=function(){},new Ip,new Bp,new Up,new Gp,new Kp,new Jp,new eu}function Ip(){Ap=this,Mp.call(this,"BOX",0),this.label_qg0dgo$_0="Box"}dp.$metadata$={kind:T,simpleName:"RoughnesMetalGridContent",interfaces:[Ea]},Object.defineProperty(wp.prototype,"aoPipeline_0",{configurable:!0,get:function(){return null==this.aoPipeline_kr34rc$_0?s("aoPipeline"):this.aoPipeline_kr34rc$_0},set:function(t){this.aoPipeline_kr34rc$_0=t}}),Sp.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Sp.prototype=Object.create(C.prototype),Sp.prototype.constructor=Sp,Sp.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=c.EnvironmentHelper.hdriEnvironment_cj1d96$(this.local$this$,Jr().envMapBasePath+"/shanghai_bund_1k.rgbe.png",this.local$$receiver,void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:if(this.local$ibl=this.result_0,this.state_0=3,this.result_0=pn.Physics.awaitLoaded(this),this.result_0===z)return z;continue;case 3:var t,e=new An;for(this.local$this$CollisionDemo.physicsWorld_0=e,this.local$this$CollisionDemo.makeGround_0(this.local$this$,this.local$ibl,e),this.local$this$CollisionDemo.resetPhysics_0(),t=this.local$this$CollisionDemo.shapes_0.iterator();t.hasNext();){var n=t.next(),i=this.local$this$CollisionDemo,o=this.local$this$;n!==iu()&&(n.mesh.shader=i.instancedBodyShader_0(this.local$ibl),o.unaryPlus_uv0sim$(n.mesh))}var r=new Ce,s=E(),l=this.local$this$.onUpdate,p=Cp(e,this.local$this$CollisionDemo,s,r);return l.add_11rb$(p),this.local$this$.unaryPlus_uv0sim$(w.Skybox.cube_o7q6nm$(this.local$ibl.reflectionMap,1)),a;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},wp.prototype.setupMainScene_aemszp$=function(t){var n,i=new D(null),o=yn(i);o.zoomMethod=bn.ZOOM_TRANSLATE,o.panMethod=Mn(),o.translationBounds=Rn(gn(-50),gn(50)),o.minHorizontalRot=-90,o.maxHorizontalRot=-20,o.minZoom=10,o.zoom=75;var r=e.isType(n=i.camera,tt)?n:et();r.clipNear=.5,r.clipFar=500;var s,a,l=new In(i,0,175);return this.shadows_0.add_11rb$(l),this.aoPipeline_0=u.Companion.createForward_ushge7$(i),i.lighting.singleLight_q9zcvo$(zp),t.assetMgr.launch_eln4bt$((s=i,a=this,function(t,e,n){var i=new Sp(s,a,t,this,e);return n?i:i.doResume(null)})),i},wp.prototype.resetPhysics_0=function(){var t,e,n,i;for(i=this.bodies_0.iterator();i.hasNext();){var o,r=i.next();null!=(o=this.physicsWorld_0)&&o.removeRigidBody_m4howt$(r.rigidBody)}if(this.bodies_0.clear(),this.shapes_0.current===iu()){var s,a=Dn(ou()),l=E();for(s=a.iterator();s.hasNext();){var p=s.next();p!==iu()&&l.add_11rb$(p)}t=l}else t=Ye(this.shapes_0.current);var u=t,c=this.numSpawnBodies_0/50|0,_=M.max(1,c),h=this.makeCenters_0(_),d=new re(39851564);e=this.numSpawnBodies_0;for(var f=0;f<e;f++){var m=f/_|0,b=f%_,g=y.Companion.MD_COLORS.get_za3lpa$(m%y.Companion.MD_COLORS.size).toLinear(),v=10*h.get_za3lpa$(b).x+d.randomF_dleff0$(-1,1),x=10*h.get_za3lpa$(b).y+d.randomF_dleff0$(-1,1),w=5*m+10,z=u.get_za3lpa$(d.randomI_n8acyv$(We(u))),C=z.generateShape_l8ym68$(d),S=C.component1(),k=C.component2(),L=new Bn(S,k);L.origin=new $(v,w,x),L.setRotation_d4zu7e$((new Fn).rotate_y2kzbl$(d.randomF_dleff0$(-90,90),d.randomF_dleff0$(-90,90),d.randomF_dleff0$(-90,90))),null!=(n=this.physicsWorld_0)&&n.addRigidBody_m4howt$(L);var j=this.bodies_0,N=new Pp(L,g,z);j.add_11rb$(N)}},wp.prototype.makeCenters_0=function(t){for(var e,n,i=new hn(1,0),o=kn([new Pt(0,0)]),r=1,s=1;o.size<t;){e=r;for(var a=1;a<=e;a++){var l=Un(qn(o)).add_czzhjp$(i);if(o.add_11rb$(l),o.size===t)break}i.rotate_mx4ult$(90),2===(s=(n=s)+1|0,n)&&(s=1,r=r+1|0)}return o},wp.prototype.makeGround_0=function(t,e,n){var i=E(),o=new Vn(new $(100,1,100)),r=new Bn(o,0);r.origin=new $(0,-.5,0),n.addRigidBody_m4howt$(r);var s=new Vn(new $(3,6,100)),l=new Bn(s,0);l.origin=new $(-51.5,2,0),n.addRigidBody_m4howt$(l),i.add_11rb$(l);var p=new Vn(new $(3,6,100)),u=new Bn(p,0);u.origin=new $(51.5,2,0),n.addRigidBody_m4howt$(u),i.add_11rb$(u);var c=new Vn(new $(106,6,3)),_=new Bn(c,0);_.origin=new $(0,2,51.5),n.addRigidBody_m4howt$(_),i.add_11rb$(_);var h=new Vn(new $(106,6,3)),d=new Bn(h,0);d.origin=new $(0,2,-51.5),n.addRigidBody_m4howt$(d),i.add_11rb$(d);var f,m=this.groundTexture_0();t.onDispose.add_11rb$((f=m,function(t,e){return f.dispose(),a})),t.unaryPlus_uv0sim$(x(void 0,void 0,kp(o,r,this,e,m))),t.unaryPlus_uv0sim$(v(void 0,Lp(i,this,e)))},wp.prototype.instancedBodyShader_0=function(t){var n=new Ft;n.roughness=.6,n.isInstanced=!0,I(n.shadowMaps,this.shadows_0),n.useImageBasedLighting_po417x$(t),n.useScreenSpaceAmbientOcclusion_9cjgzv$(this.aoPipeline_0.aoMap),n.useStaticAlbedo_d7aj7k$(y.Companion.WHITE);var i,o,r=n,s=_n.Companion.defaultPbrModel_2ufela$(r),a={v:null},l=new q(s);a.v=l.stageInterfaceNode_iikjwn$("ifInstColor",l.instanceAttributeNode_nm2vx5$($e.Companion.COLORS).output),new U(s);t:do{var p;for(i=Ct.ALL,p=s.stages.values.iterator();p.hasNext();){var u=p.next();if(0!=(u.stage.mask&i.mask)){var c,_=u.nodes,h=E();for(c=_.iterator();c.hasNext();){var f=c.next();e.isType(f,rt)&&h.add_11rb$(f)}var m=St(h);if(null!=m){o=m;break t}}}o=null}while(0);return d(o).inAlbedo=a.v.output,new _n(r,s)},jp.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},jp.prototype=Object.create(C.prototype),jp.prototype.constructor=jp,jp.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:for(var t=Wn(4*e.imul(64,64)|0),n=se([y.Companion.MD_BLUE_GREY_600,y.Companion.WHITE]),i=new re(18594253),o=0;o<64;o++)for(var r=0;r<64;r++){var s=n.getColor_y2kzbl$(i.randomF()),a=4*(e.imul(o,64)+r|0)|0;t.set_6t1wet$(a,Gn($t(255*s.r))),t.set_6t1wet$(a+1|0,Gn($t(255*s.g))),t.set_6t1wet$(a+2|0,Gn($t(255*s.b))),t.set_6t1wet$(a+3|0,Gn($t(255*s.a)))}return new Hn(t,64,64,G.RGBA);case 1:throw this.exception_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},wp.prototype.groundTexture_0=function(){var t=new X(void 0,void 0,void 0,void 0,ve.NEAREST,ve.NEAREST,!1,1);return new En(t,"groundTex",Np)},Pp.$metadata$={kind:T,simpleName:"ColoredBody",interfaces:[]},wp.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,function(t){return t.section_yfmn31$("Physics",Op(e)),t.section_yfmn31$("Performance",Ep(e)),a}));var e},Object.defineProperty(Ip.prototype,"label",{configurable:!0,get:function(){return this.label_qg0dgo$_0}}),Ip.prototype.generateMesh_w0m2rg$=function(t){this.bevelBox_yx6i5p$(t)},Ip.prototype.generateShape_l8ym68$=function(t){var e=new Vn(new $(t.randomF_dleff0$(2,3),t.randomF_dleff0$(2,3),t.randomF_dleff0$(2,3))),n=e.size.x*e.size.y*e.size.z;return st(e,n)},Ip.$metadata$={kind:T,simpleName:"BOX",interfaces:[Mp]};var Ap=null;function Dp(){return Rp(),Ap}function Bp(){Fp=this,Mp.call(this,"CAPSULE",1),this.label_20vvpm$_0="Capsule"}Object.defineProperty(Bp.prototype,"label",{configurable:!0,get:function(){return this.label_20vvpm$_0}}),Bp.prototype.generateMesh_w0m2rg$=function(t){this.capsule_ex087c$(t)},Bp.prototype.generateShape_l8ym68$=function(t){var e=t.randomF_dleff0$(.75,1.5),n=new Xn(2.5*e,e),i=n.radius,o=M.pow(i,3);return st(n,o)},Bp.$metadata$={kind:T,simpleName:"CAPSULE",interfaces:[Mp]};var Fp=null;function qp(){return Rp(),Fp}function Up(){Vp=this,Mp.call(this,"CONVEX_HULL",2),this.label_619ndq$_0="Convex Hull"}Object.defineProperty(Up.prototype,"label",{configurable:!0,get:function(){return this.label_619ndq$_0}}),Up.prototype.generateMesh_w0m2rg$=function(t){this.flatIcoSphere_w0m2rg$(t)},Up.prototype.generateShape_l8ym68$=function(t){var e,n=t.randomF_dleff0$(1.25,2.5),i=E(),o=this.mesh.geometry;e=o.numVertices;for(var r=0;r<e;r++)o.vertexIt.index=r,i.add_11rb$(o.vertexIt.position.scale_749b8l$(n,Ke()));var s=new Kn(i),a=M.pow(n,3);return st(s,a)},Up.$metadata$={kind:T,simpleName:"CONVEX_HULL",interfaces:[Mp]};var Vp=null;function Wp(){return Rp(),Vp}function Gp(){Hp=this,Mp.call(this,"CYLINDER",3),this.label_ufhtqn$_0="Cylinder"}Object.defineProperty(Gp.prototype,"label",{configurable:!0,get:function(){return this.label_ufhtqn$_0}}),Gp.prototype.generateMesh_w0m2rg$=function(t){this.cylinder_ex087c$(t)},Gp.prototype.generateShape_l8ym68$=function(t){var e=new Yn(t.randomF_dleff0$(2,4),t.randomF_dleff0$(1,2)),n=e.radius,i=M.pow(n,2)*e.height*.5;return st(e,i)},Gp.$metadata$={kind:T,simpleName:"CYLINDER",interfaces:[Mp]};var Hp=null;function Xp(){return Rp(),Hp}function Kp(){Yp=this,Mp.call(this,"MULTI_SHAPE",4),this.label_j9y17s$_0="Multi Shape"}Object.defineProperty(Kp.prototype,"label",{configurable:!0,get:function(){return this.label_j9y17s$_0}}),Kp.prototype.generateMesh_w0m2rg$=function(t){var e=new Ze;e.size.set_y2kzbl$(.5,.5,2),e.origin.set_czzhiu$(e.size).scale_mx4ult$(-.5).add_czzhiu$(new $(1,0,0)),t.cube_lhbb6w$(e);var n=new Ze;n.size.set_y2kzbl$(.5,.5,2),n.origin.set_czzhiu$(n.size).scale_mx4ult$(-.5).add_czzhiu$(new $(-1,0,0)),t.cube_lhbb6w$(n);var i=new Ze;i.size.set_y2kzbl$(2.5,.5,.5),i.origin.set_czzhiu$(i.size).scale_mx4ult$(-.5).add_czzhiu$(new $(0,0,1.25)),t.cube_lhbb6w$(i);var o=new Ze;o.size.set_y2kzbl$(2.5,.5,.5),o.origin.set_czzhiu$(o.size).scale_mx4ult$(-.5).add_czzhiu$(new $(0,0,-1.25)),t.cube_lhbb6w$(o)},Kp.prototype.generateShape_l8ym68$=function(t){var e=t.randomF_dleff0$(1,2),n=new Zn,i=new Vn(new bt(.5,.5,2).scale_mx4ult$(e));n.addShape_o38ji4$(i,(new Ce).translate_y2kzbl$(1*e,0,0));var o=new Vn(new bt(.5,.5,2).scale_mx4ult$(e));n.addShape_o38ji4$(o,(new Ce).translate_y2kzbl$(-1*e,0,0));var r=new Vn(new bt(2.5,.5,.5).scale_mx4ult$(e));n.addShape_o38ji4$(r,(new Ce).translate_y2kzbl$(0,0,1.25*e));var s=new Vn(new bt(2.5,.5,.5).scale_mx4ult$(e));n.addShape_o38ji4$(s,(new Ce).translate_y2kzbl$(0,0,-1.25*e));var a=8*M.pow(e,3);return st(n,a)},Kp.$metadata$={kind:T,simpleName:"MULTI_SHAPE",interfaces:[Mp]};var Yp=null;function Zp(){return Rp(),Yp}function Jp(){Qp=this,Mp.call(this,"SPHERE",5),this.label_gfcs3c$_0="Sphere"}Object.defineProperty(Jp.prototype,"label",{configurable:!0,get:function(){return this.label_gfcs3c$_0}}),Jp.prototype.generateMesh_w0m2rg$=function(t){var e=(new xt).icoDefaults();e.steps=2,t.icoSphere_mojs8w$(e)},Jp.prototype.generateShape_l8ym68$=function(t){var e=new Jn(t.randomF_dleff0$(1.25,2.5)),n=e.radius,i=M.pow(n,3);return st(e,i)},Jp.$metadata$={kind:T,simpleName:"SPHERE",interfaces:[Mp]};var Qp=null;function tu(){return Rp(),Qp}function eu(){nu=this,Mp.call(this,"MIXED",6),this.label_mu38k8$_0="Mixed"}Object.defineProperty(eu.prototype,"label",{configurable:!0,get:function(){return this.label_mu38k8$_0}}),eu.prototype.generateMesh_w0m2rg$=function(t){},eu.prototype.generateShape_l8ym68$=function(t){throw Qn()},eu.$metadata$={kind:T,simpleName:"MIXED",interfaces:[Mp]};var nu=null;function iu(){return Rp(),nu}function ou(){return[Dp(),qp(),Wp(),Xp(),Zp(),tu(),iu()]}function ru(){ys.call(this,"Physics Constraints"),this.physicsWorld_0=null,this.motorGearConstraint_0=null,this.motorStrength_0=50,this.motorSpeed_0=3,this.motorDirection_0=1,this.numLinks_0=40;var t=new mu(this,!1);t.isVisible=!1,this.physMeshes_0=t,this.niceMeshes_0=new mu(this,!0),this.resetPhysics_0=!1,this.shadows_0=E(),this.aoPipeline_dt7rmc$_0=this.aoPipeline_dt7rmc$_0,this.ibl_jqe7np$_0=this.ibl_jqe7np$_0}function su(t){t.rotate_ad55pp$(-90,$.Companion.X_AXIS);var e=new A;return e.size.set_dleff0$(250,250),e.origin.set_y2kzbl$(.5*-e.size.x,.5*-e.size.y,-20),e.generateTexCoords_mx4ult$(15),t.rect_e5k3t5$(e),a}function au(t){return function(e){return e.isCastingShadow=!1,e.generate_v2sixm$(su),e.shader=g(function(t){return function(e){return e.useAlbedoMap_ivxn3r$(Jr().pbrBasePath+"/tile_flat/tiles_flat_gray.png"),e.useNormalMap_9sobi5$(Jr().pbrBasePath+"/tile_flat/tiles_flat_normal.png"),e.useScreenSpaceAmbientOcclusion_9cjgzv$(t.aoPipeline_0.aoMap),e.useImageBasedLighting_po417x$(t.ibl_0),I(e.shadowMaps,t.shadows_0),a}}(t)),a}}function lu(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$=t,this.local$this$ConstraintsDemo=e,this.local$$receiver=n}function pu(t){return(2*$t(t)|0).toString()}function uu(t){return function(e){return e.sliderWithValue_xbu91d$("Number of Links:",t.numLinks_0/2,10,50,void 0,pu,function(t){return function(e){var n=2*$t(e.value)|0;return n!==t.numLinks_0&&(t.numLinks_0=n,t.resetPhysics_0=!0),a}}(t)),e.sliderWithValue_xbu91d$("Motor Strength:",t.motorStrength_0,0,100,0,void 0,function(t){return function(e){return t.motorStrength_0=e.value,t.updateMotor_0(),a}}(t)),e.sliderWithValue_xbu91d$("Motor Speed:",t.motorSpeed_0,0,10,1,void 0,function(t){return function(e){return t.motorSpeed_0=e.value,t.updateMotor_0(),a}}(t)),e.toggleButton_8v9fdr$("Reverse Motor Direction",t.motorDirection_0<0,function(t){return function(e){return t.motorDirection_0=e.isEnabled?-1:1,t.updateMotor_0(),a}}(t)),a}}function cu(t){return a}function _u(t){return a}function hu(t){return function(e){var n=e.toggleButton_8v9fdr$("Draw Nice Meshes",t.niceMeshes_0.isVisible,cu),i=e.toggleButton_8v9fdr$("Draw Physics Meshes",t.physMeshes_0.isVisible,_u),o={v:!1},r=n.onStateChange,s=function(t,e,n){return function(i){return t.v||(t.v=!0,e.niceMeshes_0.isVisible=i.isEnabled,e.physMeshes_0.isVisible=!i.isEnabled,n.isEnabled=!i.isEnabled,t.v=!1),a}}(o,t,i);r.add_11rb$(s);var l=i.onStateChange,p=function(t,e,n){return function(i){return t.v||(t.v=!0,e.physMeshes_0.isVisible=i.isEnabled,e.niceMeshes_0.isVisible=!i.isEnabled,n.isEnabled=!i.isEnabled,t.v=!1),a}}(o,t,n);return l.add_11rb$(p),a}}function du(t){return function(e){var n=e.textWithValue_puj7f4$("Physics:","0.00 ms"),i=t;n.onUpdate.add_11rb$(function(t,e){return function(n,i){var o,r;return e.text=Ee(null!=(r=null!=(o=t.physicsWorld_0)?o.cpuTime:null)?yt(r,2):null)+" ms",a}}(i,n));var o=e.textWithValue_puj7f4$("Time Factor:","1.00 x"),r=t;return o.onUpdate.add_11rb$(function(t,e){return function(n,i){var o,r;return e.text=Ee(null!=(r=null!=(o=t.physicsWorld_0)?o.timeFactor:null)?yt(r,2):null)+" x",a}}(r,o)),a}}function fu(t){return t.friction=.1,t.linearDamping=.1,t.angularDamping=.5,t.sleepThreshold=.3,a}function mu(t,e){var n;this.$outer=t,Q.call(this),this.isNice=e,this.linkMesh=null,this.gearMesh=null,this.axleMesh=null,this.links=E(),this.gears=E(),this.axles=E(),this.isFrustumChecked=!1,this.onUpdate.add_11rb$((n=this,function(t,e){return n.links.isEmpty()||n.updateInstances_nkumg6$(d(n.getOrCreateLinkMesh_m4howt$(n.links.get_za3lpa$(0)).instances),n.links),n.gears.isEmpty()||n.updateInstances_nkumg6$(d(n.getOrCreateGearMesh_m4howt$(n.gears.get_za3lpa$(0)).instances),n.gears),n.axles.isEmpty()||n.updateInstances_nkumg6$(d(n.getOrCreateAxleMesh_m4howt$(n.axles.get_za3lpa$(0)).instances),n.axles),a}))}function yu(t,e){return function(n){return n.isFrustumChecked=!1,n.instances=new ke(Ye(ke.Companion.MODEL_MAT)),n.generate_v2sixm$(function(t){return function(e){return e.color=y.Companion.MD_BLUE_GREY.toLinear(),t.collisionShape.generateGeometry_84rojv$(e),a}}(t)),n.shader=g(function(t){return function(e){return e.roughness=1,e.isInstanced=!0,I(e.shadowMaps,t.shadows_0),e.useImageBasedLighting_po417x$(t.ibl_0),e.useScreenSpaceAmbientOcclusion_9cjgzv$(t.aoPipeline_0.aoMap),a}}(e)),a}}function $u(t,e){return function(n){return n.isFrustumChecked=!1,n.instances=new ke(Ye(ke.Companion.MODEL_MAT)),n.generate_v2sixm$(function(t){return function(e){return e.color=y.Companion.MD_BLUE_GREY_200.toLinear(),t.collisionShape.generateGeometry_84rojv$(e),a}}(t)),n.shader=g(function(t){return function(e){return e.roughness=1,e.isInstanced=!0,I(e.shadowMaps,t.shadows_0),e.useImageBasedLighting_po417x$(t.ibl_0),e.useScreenSpaceAmbientOcclusion_9cjgzv$(t.aoPipeline_0.aoMap),a}}(e)),a}}function bu(t,e){return function(n){return n.isFrustumChecked=!1,n.instances=new ke(Ye(ke.Companion.MODEL_MAT)),n.generate_v2sixm$(function(t){return function(e){return e.color=y.Companion.MD_BLUE_GREY_700.toLinear(),t.collisionShape.generateGeometry_84rojv$(e),a}}(t)),n.shader=g(function(t){return function(e){return e.roughness=1,e.isInstanced=!0,I(e.shadowMaps,t.shadows_0),e.useImageBasedLighting_po417x$(t.ibl_0),e.useScreenSpaceAmbientOcclusion_9cjgzv$(t.aoPipeline_0.aoMap),a}}(e)),a}}function gu(){zu=this,this.attribRoughMetallic_0=new $e("aRoughMetal",Se.VEC_2F),this.meshAttribs_0=Le([$e.Companion.POSITIONS,$e.Companion.NORMALS,$e.Companion.COLORS,this.attribRoughMetallic_0])}function vu(t){return function(e){var n={v:.3},i={v:1};e.vertexModFun=function(t,e,n){return function(i){var o=d(i.getVec2fAttribute_nm2vx5$(t.attribRoughMetallic_0));return o.x=e.v,o.y=n.v,a}}(t,n,i);var o=new li,r=new ai(!0);o.shapes.add_11rb$(r),r.xzArc_kgmd6f$(.7,-.2,new Pt(.6,-.2),-90,3),r.xzArc_kgmd6f$(-.6,-.3,new Pt(-.6,-.2),-90,3),r.xzArc_kgmd6f$(-.7,.2,new Pt(-.6,.2),-90,3),r.xzArc_kgmd6f$(.6,.3,new Pt(.6,.2),-90,3),e.transform.push(),e.rotate_ad55pp$(-93.5,$.Companion.Z_AXIS);for(var s=0;s<=11;s++)e.transform.push(),e.rotate_ad55pp$(30*s,$.Companion.Z_AXIS),e.color=y.Companion.MD_BLUE_GREY_400.toLinear(),e.translate_y2kzbl$(0,8,0),e.scale_mx4ult$(.7),e.sampleAndFillTop_afatab$(o),e.scale_mx4ult$(1.2),e.sample_afatab$(o,void 0,!0),e.scale_mx4ult$(1.2),e.translate_y2kzbl$(0,-.1,0),e.sample_afatab$(o,void 0,!0),e.translate_y2kzbl$(0,-.85,0),e.scale_mx4ult$(1.4),e.sample_afatab$(o,void 0,!0),e.translate_y2kzbl$(0,-.15,0),e.scale_mx4ult$(1.3),e.color=y.Companion.MD_BLUE_GREY_200.toLinear(),e.sample_afatab$(o,void 0,!0),e.transform.pop();e.transform.pop(),e.geometry.generateNormals(),e.color=y.Companion.MD_BLUE_GREY_200.toLinear(),e.transform.push();var l=t,p=new li,u=new ai(!0);p.shapes.add_11rb$(u),l.roundRectXz_0(u,.8,0,.4,1.5,.1,3),e.transform.push(),e.sample_afatab$(p);for(var c=0;c<=35;c++)e.rotate_y2kzbl$(0,0,10),e.sample_afatab$(p);e.transform.pop(),e.transform.pop(),e.color=y.Companion.MD_BLUE_GREY_200.toLinear();var _=new li,h=t,f=new ai(!0);_.shapes.add_11rb$(f),h.roundRectXz_0(f,6.7,0,.6,2.4,.2,3),e.transform.push(),e.sample_afatab$(_);for(var m=0;m<=71;m++)e.rotate_y2kzbl$(0,0,5),e.sample_afatab$(_);e.transform.pop(),i.v=0,n.v=0,e.color=y.Companion.MD_RED.toLinear(),e.transform.push();var b=t,g=new li,v=new ai(!0);g.shapes.add_11rb$(v),b.roundRectXz_0(v,1.25,0,.5,1.6,.1,3),e.transform.push(),e.sample_afatab$(g);for(var x=0;x<=35;x++)e.rotate_y2kzbl$(0,0,10),e.sample_afatab$(g);e.transform.pop(),e.transform.pop(),e.color=y.Companion.MD_RED.toLinear();var w=new li,z=new ai(!0);w.shapes.add_11rb$(z),z.xzArc_kgmd6f$(.18,0,new Pt(0,0),-315,8,!0);for(var C=-1;C<=1;C+=2)for(var S=1;S<=10;S++){e.transform.push(),e.rotate_ad55pp$(36*S,$.Companion.Z_AXIS),e.translate_y2kzbl$(1.2*C,0,0),e.rotate_y2kzbl$(-20*C,0,-45*C),e.sample_afatab$(w,!1);for(var k=0;k<=11;k++)e.rotate_y2kzbl$(2.5*C,0,8*C),e.translate_y2kzbl$(0,.57,0),e.sample_afatab$(w);e.transform.pop()}e.color=y.Companion.MD_RED.toLinear();var L=new li,j=new ai(!1);L.shapes.add_11rb$(j),j.xz_dleff0$(0,.85);var N=j.normals,P=new bt(.1,0,1).norm();N.add_11rb$(P),j.xzArc_kgmd6f$(.8,.5,new Pt(.75,.3),-70,4,!0),j.xzArc_kgmd6f$(1,-.3,new Pt(.75,-.3),-70,4,!0),j.xz_dleff0$(0,-.85);var T=j.normals,O=new bt(.1,0,-1).norm();T.add_11rb$(O);for(var E=0;E<=72;E++)e.transform.push(),e.rotate_y2kzbl$(0,0,5*E),e.translate_y2kzbl$(-6.7,0,0),e.sample_afatab$(L,void 0,!0),e.transform.pop();return a}}function xu(t){return function(e){var n={v:.3},i={v:1};e.vertexModFun=function(t,e,n){return function(i){var o=d(i.getVec2fAttribute_nm2vx5$(t.attribRoughMetallic_0));return o.x=e.v,o.y=n.v,a}}(t,n,i),i.v=0,n.v=0,e.color=y.Companion.MD_RED.toLinear();var o=new li,r=new ai(!0);o.shapes.add_11rb$(r),r.xy_dleff0$(-2,0),r.xy_dleff0$(-2,0),r.xyArc_kgmd6f$(-2,.3,new Pt(-1.8,.3),-90,6),r.xyArc_kgmd6f$(-1,.5,new Pt(-1,.7),90,6),r.xyArc_kgmd6f$(-.8,1,new Pt(0,1),-180,30),r.xyArc_kgmd6f$(.8,.7,new Pt(1,.7),90,6),r.xyArc_kgmd6f$(1.8,.5,new Pt(1.8,.3),-90,6),r.xy_dleff0$(2,0),r.xy_dleff0$(2,0),e.transform.push(),e.rotate_ad55pp$(-90,$.Companion.X_AXIS),e.rotate_ad55pp$(-90,$.Companion.Z_AXIS),e.translate_y2kzbl$(0,-1,-2.2),e.scale_mx4ult$(.95),e.sampleAndFillBottom_afatab$(o),e.scale_mx4ult$(1.015),e.translate_y2kzbl$(0,0,-.01),e.sample_afatab$(o),e.scale_mx4ult$(1.05),e.translate_y2kzbl$(0,0,-.1),e.sample_afatab$(o),e.translate_y2kzbl$(0,0,-.1),e.sample_afatab$(o),e.translate_y2kzbl$(0,0,-3),e.sample_afatab$(o),e.translate_y2kzbl$(0,0,-.1),e.sample_afatab$(o),e.scale_mx4ult$(1/1.05),e.translate_y2kzbl$(0,0,-.1),e.sample_afatab$(o),e.scale_mx4ult$(1/1.015),e.translate_y2kzbl$(0,0,-.01),e.sample_afatab$(o),e.scale_mx4ult$(.95),e.sampleAndFillTop_afatab$(o,!0),e.transform.pop(),e.geometry.generateNormals(),i.v=1,n.v=.3,e.color=y.Companion.MD_BLUE_GREY.toLinear();var s=new Pn;s.radius=.6,s.height=7,s.origin.set_y2kzbl$(0,-6,0),e.cylinder_tnt2h$(s);var l,p=new Ze;for(p.size.set_y2kzbl$(.3,4,4.5),p.origin.set_y2kzbl$(-1.3,-6,-p.size.z/2),e.cube_lhbb6w$(p),e.transform.push(),e.rotate_ad55pp$(90,$.Companion.Z_AXIS),l=Le([new Pt(-2.8,1.4),new Pt(-5,1.4),new Pt(-2.8,-1.4),new Pt(-5,-1.4)]).iterator();l.hasNext();){var u=l.next(),c=new Pn;c.radius=.2,c.height=.5,c.origin.set_y2kzbl$(u.x,.4,u.y),e.cylinder_tnt2h$(c)}e.color=y.Companion.MD_BLUE_GREY_200.toLinear();var _=new Pn;return _.radius=1,_.height=18.7,_.origin.set_y2kzbl$(-4,1.3,0),e.cylinder_tnt2h$(_),e.transform.pop(),a}}function wu(t){return function(e){var n={v:.3},i={v:1};e.vertexModFun=function(t,e,n){return function(i){var o=d(i.getVec2fAttribute_nm2vx5$(t.attribRoughMetallic_0));return o.x=e.v,o.y=n.v,a}}(t,n,i),e.color=y.Companion.GRAY,n.v=.1,i.v=1;var o=new li,r=new ai(!0);o.shapes.add_11rb$(r),r.xyArc_kgmd6f$(-1,-.4,new Pt(-1,0),180,8),r.xyArc_kgmd6f$(-2.1,.4,new Pt(-2.1,0),180,8),e.transform.push(),e.translate_y2kzbl$(0,0,-.5),e.sampleAndFillBottom_afatab$(o),e.sample_afatab$(o,!1),e.translate_y2kzbl$(0,0,1),e.sample_afatab$(o),e.sampleAndFillTop_afatab$(o),e.transform.pop(),e.color=y.Companion.MD_BLUE_GREY.toLinear(),n.v=.3,i.v=1;var s=new li,l=new ai(!0);s.shapes.add_11rb$(l),l.xyArc_kgmd6f$(-1,.4,new Pt(-1,0),180,8),l.xyArc_kgmd6f$(2.1,-.4,new Pt(2.1,0),180,8);for(var p=0;p<=1;p++)e.transform.push(),e.translate_y2kzbl$(0,0,1.4*p-.8),e.sampleAndFillBottom_afatab$(s),e.sample_afatab$(s,!1),e.translate_y2kzbl$(0,0,.2),e.sample_afatab$(s),e.sampleAndFillTop_afatab$(s),e.transform.pop();e.rotate_ad55pp$(90,$.Companion.X_AXIS),e.color=y.Companion.MD_BLUE_GREY_700.toLinear(),n.v=.3,i.v=1;var u=new Pn;u.origin.set_y2kzbl$(-1,-.9,0),u.steps=16,u.radius=.3,u.height=1.8,e.cylinder_tnt2h$(u),e.color=y.Companion.GRAY;var c=new Pn;return c.origin.set_y2kzbl$(2.1,-.9,0),c.steps=16,c.radius=.18,c.height=1.8,e.cylinder_tnt2h$(c),e.geometry.generateNormals(),a}}Mp.prototype.toString=function(){return this.label},Mp.prototype.bevelBox_yx6i5p$=function(t,e){void 0===e&&(e=.02),t.transform.push(),t.rotate_y2kzbl$(0,90,0);var n=new A;n.size.set_dleff0$(1-2*e,1-2*e),n.origin.set_y2kzbl$(-.5+e,-.5+e,.5),t.rect_e5k3t5$(n),t.transform.pop(),t.transform.push(),t.rotate_y2kzbl$(0,-90,0);var i=new A;i.size.set_dleff0$(1-2*e,1-2*e),i.origin.set_y2kzbl$(-.5+e,-.5+e,.5),t.rect_e5k3t5$(i),t.transform.pop(),t.transform.push();var o=new li,r=1/M.sqrt(2),s=1-r,a=new ai(!1);o.shapes.add_11rb$(a),a.xy_dleff0$(-.5,0);var l=a.normals,p=new bt(-1,0,0);l.add_11rb$(p),a.xy_dleff0$(e*s-.5,e*r);var u=a.normals,c=new bt(-1,1,0).norm();u.add_11rb$(c),a.xy_dleff0$(-.5+e,e);var _=a.normals,h=new bt(0,1,0);_.add_11rb$(h),a.xy_dleff0$(.5-e,e);var d=a.normals,f=new bt(0,1,0);d.add_11rb$(f),a.xy_dleff0$(.5-e*s,e*r);var m=a.normals,y=new bt(1,1,0).norm();m.add_11rb$(y),a.xy_dleff0$(.5,0);var $=a.normals,b=new bt(1,0,0);$.add_11rb$(b),t.translate_y2kzbl$(0,.5-e,-.5+e),t.sample_afatab$(o);for(var g=0;g<=3;g++)t.rotate_y2kzbl$(-45,0,0),t.sample_afatab$(o),t.rotate_y2kzbl$(-45,0,0),t.sample_afatab$(o),t.translate_y2kzbl$(0,0,2*e-1),t.sample_afatab$(o);t.transform.pop()},Mp.prototype.capsule_ex087c$=function(t,e,n){void 0===e&&(e=1.25),void 0===n&&(n=1);var i=new li,o=new ai(!1);i.shapes.add_11rb$(o);for(var r=0;r<=8;r++){var s=r/8*Xt.PI/2+1.5*Xt.PI,a=M.cos(s),l=M.sin(s);o.xy_dleff0$(a*n,l*n-e);var p=o.normals,u=new bt(a,l,0);p.add_11rb$(u)}for(var c=0;c<=8;c++){var _=c/8*Xt.PI/2,h=M.cos(_),d=M.sin(_);o.xy_dleff0$(h*n,d*n+e);var f=o.normals,m=new bt(h,d,0);f.add_11rb$(m)}for(var y=0;y<=20;y++)t.sample_afatab$(i),t.rotate_y2kzbl$(0,-18,0)},Mp.prototype.flatIcoSphere_w0m2rg$=function(t){var e,n=new Ve(be([$e.Companion.POSITIONS])),i=(new xt).icoDefaults();i.steps=0,n.icoSphere_mojs8w$(i);var o=n;e=o.geometry.numIndices;for(var r=0;r<e;r+=3){var s=o.geometry.vertexIt;s.index=o.geometry.indices.get_za3lpa$(r);var a=t.geometry.addVertex_lv7vxo$(s);s.index=o.geometry.indices.get_za3lpa$(r+1|0);var l=t.geometry.addVertex_lv7vxo$(s);s.index=o.geometry.indices.get_za3lpa$(r+2|0);var p=t.geometry.addVertex_lv7vxo$(s);t.geometry.addTriIndices_qt1dr2$(a,l,p)}t.geometry.generateNormals()},Mp.prototype.cylinder_ex087c$=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1);var i,o,r=new li,s=new ai(!1);r.shapes.add_11rb$(s);for(var a=0;a<=3;a++){var l=a/3*Xt.PI/2+1.5*Xt.PI,p=M.cos(l),u=M.sin(l);s.xy_dleff0$(n-.02+.02*p,-.5*e+.02+.02*u);var c=s.normals,_=new bt(p,u,0);c.add_11rb$(_)}for(var h=0;h<=3;h++){var d=h/3*Xt.PI/2,f=M.cos(d),m=M.sin(d);s.xy_dleff0$(n-.02+.02*f,.5*e-.02+.02*m);var y=s.normals,$=new bt(f,m,0);y.add_11rb$($)}for(var b=E(),g=E(),v=E(),x=E(),w=0;w<=40;w++){t.rotate_y2kzbl$(0,-9,0),t.sample_afatab$(r);var z=t.geometry.vertexIt;z.index=Xe(r.shapes.get_za3lpa$(0).sampledVertIndices);var C=z.index;g.add_11rb$(C);var S=ti(z.position);x.add_11rb$(S);var k=t.geometry.vertexIt;k.index=qn(r.shapes.get_za3lpa$(0).sampledVertIndices);var L=k.index;b.add_11rb$(L);var j=ti(k.position);v.add_11rb$(j)}var N=ei.PolyUtil.fillPolygon_3v8xej$(v);for(i=ii(ni(N.indices),3).iterator();i.hasNext();){var P=i.next();t.geometry.addTriIndices_qt1dr2$(b.get_za3lpa$(N.indices[P]),b.get_za3lpa$(N.indices[P+2|0]),b.get_za3lpa$(N.indices[P+1|0]))}var T=ei.PolyUtil.fillPolygon_3v8xej$(x);for(o=ii(ni(T.indices),3).iterator();o.hasNext();){var O=o.next();t.geometry.addTriIndices_qt1dr2$(g.get_za3lpa$(T.indices[O]),g.get_za3lpa$(T.indices[O+1|0]),g.get_za3lpa$(T.indices[O+2|0]))}},Mp.$metadata$={kind:T,simpleName:"Shape",interfaces:[oi]},Mp.values=ou,Mp.valueOf_61zpoe$=function(t){switch(t){case"BOX":return Dp();case"CAPSULE":return qp();case"CONVEX_HULL":return Wp();case"CYLINDER":return Xp();case"MULTI_SHAPE":return Zp();case"SPHERE":return tu();case"MIXED":return iu();default:ri("No enum constant de.fabmax.kool.demo.physics.CollisionDemo.Shape."+t)}},wp.$metadata$={kind:T,simpleName:"CollisionDemo",interfaces:[ys]},Object.defineProperty(ru.prototype,"aoPipeline_0",{configurable:!0,get:function(){return null==this.aoPipeline_dt7rmc$_0?s("aoPipeline"):this.aoPipeline_dt7rmc$_0},set:function(t){this.aoPipeline_dt7rmc$_0=t}}),Object.defineProperty(ru.prototype,"ibl_0",{configurable:!0,get:function(){return null==this.ibl_jqe7np$_0?s("ibl"):this.ibl_jqe7np$_0},set:function(t){this.ibl_jqe7np$_0=t}}),lu.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},lu.prototype=Object.create(C.prototype),lu.prototype.constructor=lu,lu.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=c.EnvironmentHelper.hdriEnvironment_cj1d96$(this.local$this$,Jr().envMapBasePath+"/colorful_studio_1k.rgbe.png",this.local$$receiver,void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:if(this.local$this$ConstraintsDemo.ibl_0=this.result_0,this.state_0=3,this.result_0=pn.Physics.awaitLoaded(this),this.result_0===z)return z;continue;case 3:var t=new An;return this.local$this$ConstraintsDemo.physicsWorld_0=t,this.local$this$ConstraintsDemo.resetPhysics_0=!0,this.local$this$.unaryPlus_uv0sim$(x(void 0,!0,au(this.local$this$ConstraintsDemo))),this.local$this$.unaryPlus_uv0sim$(w.Skybox.cube_o7q6nm$(this.local$this$ConstraintsDemo.ibl_0.reflectionMap,1)),a;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ru.prototype.setupMainScene_aemszp$=function(t){var n,i=new D(null),o=yn(i);o.setMouseRotation_dleff0$(-20,-20),o.zoom=50,o.maxZoom=200;var r,s,l,p=e.isType(n=i.camera,tt)?n:et();return p.clipNear=1,p.clipFar=1e3,this.lightSetup_0(i),i.unaryPlus_uv0sim$(this.physMeshes_0),i.unaryPlus_uv0sim$(this.niceMeshes_0),t.assetMgr.launch_eln4bt$((r=i,s=this,function(t,e,n){var i=new lu(r,s,t,this,e);return n?i:i.doResume(null)})),i.onUpdate.add_11rb$((l=this,function(t,e){var n;return l.resetPhysics_0&&(l.resetPhysics_0=!1,l.makePhysicsScene_0()),null!=(n=l.physicsWorld_0)&&n.stepPhysics_r6tv2c$(e.deltaT),a})),i},ru.prototype.lightSetup_0=function(t){this.aoPipeline_0=u.Companion.createForward_ushge7$(t);var e=t.lighting;e.lights.clear();var n=new $(80,120,100),i=new $(-30,100,100),o=e.lights,r=new gt;r.setSpot_nve3wz$(n,ct(n).scale_mx4ult$(-1).norm(),45),r.setColor_y83vuj$(y.Companion.WHITE.mix_y83vuj$(y.Companion.MD_AMBER,.1),5e4),o.add_11rb$(r);var s=e.lights,a=new gt;a.setSpot_nve3wz$(i,ct(i).scale_mx4ult$(-1).norm(),45),a.setColor_y83vuj$(y.Companion.WHITE.mix_y83vuj$(y.Companion.MD_LIGHT_BLUE,.1),25e3),s.add_11rb$(a);var l=this.shadows_0,c=new p(t,0);c.clipNear=100,c.clipFar=500,c.shaderDepthOffset=-.2,c.shadowBounds=Rn(new $(-75,-20,-75),new $(75,20,75)),l.add_11rb$(c);var _=this.shadows_0,h=new p(t,1);h.clipNear=100,h.clipFar=500,h.shaderDepthOffset=-.2,h.shadowBounds=Rn(new $(-75,-20,-75),new $(75,20,75)),_.add_11rb$(h)},ru.prototype.makePhysicsScene_0=function(){var t;this.physMeshes_0.clearBodies(),this.niceMeshes_0.clearBodies(),null!=(t=this.physicsWorld_0)&&(t.clear(),t.addRigidBody_m4howt$(new Bn(new pi($.Companion.Y_AXIS,-20),0)));var e=(new Ce).rotate_ad55pp$(90,$.Companion.Z_AXIS);this.makeGearChain_0(this.numLinks_0,e),this.updateMotor_0()},ru.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,function(t){return t.section_yfmn31$("Physics",uu(e)),t.section_yfmn31$("Rendering",hu(e)),t.section_yfmn31$("Performance",du(e)),a}));var e},ru.prototype.updateMotor_0=function(){var t;null!=(t=this.motorGearConstraint_0)&&t.enableAngularMotor_dleff0$(this.motorSpeed_0*this.motorDirection_0,this.motorStrength_0)},ru.prototype.computeAxleDist_0=function(){return 4*((this.numLinks_0-12|0)/2|0)+.3},ru.prototype.makeGearChain_0=function(t,e){var n,i;if(null!=(n=this.physicsWorld_0)){var o=n,r=this.computeAxleDist_0();if(t%2!=0)throw ui("numLinks must be even");this.makeGearAndAxle_0(7,new $(0,r/2,0),10,!0,e),this.makeGearAndAxle_0(7,new $(0,-r/2,0),10,!1,e);var s=(new Ce).set_d4zu6j$(e).translate_y2kzbl$(0,r/2+7+.4,0),a=new Fn,l=ci([1,2,3,t-2|0,t-1|0]);i=3+(t/2|0)|0;for(var p=(t/2|0)-2|0;p<=i;p++)l.add_11rb$(p);var u=this.makeChainLink_0(1);u.origin=s.getOrigin_5s4mqq$(Ke()),o.addRigidBody_m4howt$(u),this.physMeshes_0.links.add_11rb$(u),this.niceMeshes_0.links.add_11rb$(u);for(var c=u,_=1;_<t;_++){var h=this.makeChainLink_0(1);s.translate_y2kzbl$(2,0,0),l.contains_11rb$(_)&&s.rotate_y2kzbl$(0,0,-30),s.translate_y2kzbl$(2,0,0),h.origin=s.getOrigin_5s4mqq$(Ke()),h.setRotation_d4zu7e$(s.getRotation_d4zu7e$(a)),o.addRigidBody_m4howt$(h),this.physMeshes_0.links.add_11rb$(h),this.niceMeshes_0.links.add_11rb$(h);var d=new _i(c,h,new $(2,0,0),new $(-2,0,0),$.Companion.Z_AXIS,$.Companion.Z_AXIS);o.addConstraint_nsth4u$(d),c=h}var f=new _i(c,u,new $(2,0,0),new $(-2,0,0),$.Companion.Z_AXIS,$.Companion.Z_AXIS);o.addConstraint_nsth4u$(f)}},ru.prototype.makeGearAndAxle_0=function(t,e,n,i,o){var r;if(null!=(r=this.physicsWorld_0)){var s=r,a=new Bn(new Yn(7,1),0);a.setRotation_d4zu7e$(o.getRotation_d4zu7e$(new Fn).rotate_y2kzbl$(90,0,0)),a.origin=o.transform_w1lst9$(ct(e)),s.addRigidBody_m4howt$(a),this.physMeshes_0.axles.add_11rb$(a),this.niceMeshes_0.axles.add_11rb$(a);var l=this.makeGear_0(t,n);l.setRotation_d4zu7e$(o.getRotation_d4zu7e$(new Fn)),l.origin=o.transform_w1lst9$(ct(e)),s.addRigidBody_m4howt$(l),this.physMeshes_0.gears.add_11rb$(l),this.niceMeshes_0.gears.add_11rb$(l);var p=new _i(a,l,new $(0,0,0),new $(0,0,0),$.Companion.Y_AXIS,$.Companion.Z_AXIS);s.addConstraint_nsth4u$(p,!0),i&&(this.motorGearConstraint_0=p)}},ru.prototype.makeGear_0=function(t,e){var n=new Zn;n.addShape_o38ji4$(new Yn(3,t),(new Ce).rotate_y2kzbl$(90,0,0));for(var i=Le([new $(.7,t+1,-.4),new $(.7,t+1,.4),new $(-.7,t+1,-.4),new $(-.7,t+1,.4),new $(1,t-.1,-.55),new $(1,t-.1,.55),new $(-1,t-.1,-.55),new $(-1,t-.1,.55)]),o=0;o<=11;o++)n.addShape_o38ji4$(new Kn(i),(new Ce).rotate_y2kzbl$(0,0,30*o-3));return new Bn(n,e)},ru.prototype.makeChainLink_0=function(t){var e=new Vn(new $(1.8,.8,1)),n=new Vn(new $(3.6,.8,1)),i=new Vn(new $(3.6,.8,1)),o=new Zn;o.addShape_o38ji4$(e,(new Ce).translate_y2kzbl$(-1.6,0,0)),o.addShape_o38ji4$(n,(new Ce).translate_y2kzbl$(.7,0,1.1)),o.addShape_o38ji4$(i,(new Ce).translate_y2kzbl$(.7,0,-1.1));var r=hi(fu);return new Bn(o,t,r)},mu.prototype.clearBodies=function(){this.links.clear(),this.gears.clear(),this.axles.clear()},mu.prototype.updateInstances_nkumg6$=function(t,e){t.clear();for(var n=0;n!==e.size;++n){t.checkBufferSize_za3lpa$();var i=t.dataF.position;t.dataF.put_q3cr5i$(e.get_za3lpa$(n).transform.matrix);var o=t.dataF.position-i|0;if(o!==t.instanceSizeF)throw Pe("Expected data to grow by "+t.instanceSizeF+" elements, instead it grew by "+o);t.numInstances=t.numInstances+1|0,t.hasChanged=!0}},mu.prototype.getOrCreateLinkMesh_m4howt$=function(t){return null!=this.linkMesh||(this.isNice?this.linkMesh=Cu().makeNiceLinkMesh_9mfj2i$(this.$outer.ibl_0,this.$outer.aoPipeline_0.aoMap,this.$outer.shadows_0):this.linkMesh=v(void 0,yu(t,this.$outer)),this.unaryPlus_uv0sim$(d(this.linkMesh))),d(this.linkMesh)},mu.prototype.getOrCreateGearMesh_m4howt$=function(t){return null!=this.gearMesh||(this.isNice?this.gearMesh=Cu().makeNiceGearMesh_9mfj2i$(this.$outer.ibl_0,this.$outer.aoPipeline_0.aoMap,this.$outer.shadows_0):this.gearMesh=v(void 0,$u(t,this.$outer)),this.unaryPlus_uv0sim$(d(this.gearMesh))),d(this.gearMesh)},mu.prototype.getOrCreateAxleMesh_m4howt$=function(t){return null!=this.axleMesh||(this.isNice?this.axleMesh=Cu().makeNiceAxleMesh_9mfj2i$(this.$outer.ibl_0,this.$outer.aoPipeline_0.aoMap,this.$outer.shadows_0):this.axleMesh=v(void 0,bu(t,this.$outer)),this.unaryPlus_uv0sim$(d(this.axleMesh))),d(this.axleMesh)},mu.$metadata$={kind:T,simpleName:"BodyMeshes",interfaces:[Q]},ru.$metadata$={kind:T,simpleName:"ConstraintsDemo",interfaces:[ys]},gu.prototype.makeNiceGearMesh_9mfj2i$=function(t,e,n){var i=new ge(new je(this.meshAttribs_0),null);return i.isFrustumChecked=!1,i.instances=new ke(Ye(ke.Companion.MODEL_MAT)),i.generate_v2sixm$(vu(this)),i.shader=this.makeMeshShader_0(t,e,n),i},gu.prototype.makeNiceAxleMesh_9mfj2i$=function(t,e,n){var i=new ge(new je(this.meshAttribs_0),null);return i.isFrustumChecked=!1,i.instances=new ke(Ye(ke.Companion.MODEL_MAT)),i.generate_v2sixm$(xu(this)),i.shader=this.makeMeshShader_0(t,e,n),i},gu.prototype.makeNiceLinkMesh_9mfj2i$=function(t,e,n){var i=new ge(new je(this.meshAttribs_0),null);return i.isFrustumChecked=!1,i.instances=new ke(Ye(ke.Companion.MODEL_MAT)),i.generate_v2sixm$(wu(this)),i.shader=this.makeMeshShader_0(t,e,n),i},gu.prototype.makeMeshShader_0=function(t,n,i){var o=new Ft;o.isInstanced=!0,I(o.shadowMaps,i),o.useImageBasedLighting_po417x$(t),o.useScreenSpaceAmbientOcclusion_9cjgzv$(n);var r=o,s=_n.Companion.defaultPbrModel_2ufela$(r),a={v:null},l=new q(s);a.v=l.stageInterfaceNode_iikjwn$("ifRoughMetal",l.attributeNode_nm2vx5$(this.attribRoughMetallic_0).output);var p,u,c=new U(s);t:do{var _;for(p=Ct.ALL,_=s.stages.values.iterator();_.hasNext();){var h=_.next();if(0!=(h.stage.mask&p.mask)){var f,m=h.nodes,y=E();for(f=m.iterator();f.hasNext();){var $=f.next();e.isType($,rt)&&y.add_11rb$($)}var b=St(y);if(null!=b){u=b;break t}}}u=null}while(0);var g=d(u);return g.inRoughness=c.splitNode_500t7j$(a.v.output,"x").output,g.inMetallic=c.splitNode_500t7j$(a.v.output,"y").output,new _n(r,s)},gu.prototype.roundRectXz_0=function(t,e,n,i,o,r,s){var a=i/2,l=o/2;t.xzArc_kgmd6f$(e+a,n-l+r,new Pt(e+a-r,n-l+r),-90,s,!0),t.xzArc_kgmd6f$(e-a+r,n-l,new Pt(e-a+r,n-l+r),-90,s,!0),t.xzArc_kgmd6f$(e-a,n+l-r,new Pt(e-a+r,n+l-r),-90,s,!0),t.xzArc_kgmd6f$(e+a-r,n+l,new Pt(e+a-r,n+l-r),-90,s,!0)},gu.$metadata$={kind:O,simpleName:"GearChainMeshGen",interfaces:[]};var zu=null;function Cu(){return null===zu&&new gu,zu}function Su(t,e){Tu(),Q.call(this),this.pbrColorOut=t,this.ibl=e,this.unaryPlus_uv0sim$(this.makeWine_0()),this.unaryPlus_uv0sim$(this.makeBody_0()),this.unaryPlus_uv0sim$(this.makeShaft_0()),this.translate_y2kzbl$(7.5,0,2.5),this.scale_mx4ult$(.9)}function ku(t){return function(e){return e.isOpaque=!1,e.generate_v2sixm$(function(t){return function(e){return t.makeBodyGeometry_0(e),e.geometry.removeDegeneratedTriangles(),e.geometry.generateNormals(),a}}(t)),e.shader=g(function(t){return function(e){return e.useImageBasedLighting_po417x$(t.ibl),e.roughness=0,e.alphaMode=new he,e.reflectionStrength=.3,a}}(t)),a}}function Lu(t){return function(e){e.generate_v2sixm$(function(t){return function(e){return t.makeWineGeometry_0(e),e.geometry.removeDegeneratedTriangles(),e.geometry.generateNormals(),a}}(t));var n=new Ft;return n.roughness=0,n.emissive=new y(.3,0,.1).toLinear().withAlpha_mx4ult$(.8),n.useStaticAlbedo_d7aj7k$(new y(.3,0,.1).mix_y83vuj$(y.Companion.BLACK,.2).toLinear()),e.shader=new qt(n),a}}function ju(t,e,n){this.r=t,this.h=e,this.t=n}function Nu(){Pu=this,this.THICKNESS_0=new $e("aMatThickness",Se.FLOAT)}Su.prototype.makeBody_0=function(){return v(void 0,ku(this))},Su.prototype.makeShaft_0=function(){var t,e=new ge(new je(Le([$e.Companion.POSITIONS,$e.Companion.NORMALS,$e.Companion.COLORS,Tu().THICKNESS_0])),null);return e.generate_v2sixm$((t=this,function(e){return t.makeShaftGeometry_0(e),e.geometry.removeDegeneratedTriangles(),e.geometry.generateNormals(),a})),e.isOpaque=!1,e.shader=this.glasShader_0(),e},Su.prototype.makeWine_0=function(){return v(void 0,Lu(this))},Su.prototype.makeBodyGeometry_0=function(t){t.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS),t.color=y.Companion.BLACK.withAlpha_mx4ult$(.1).toLinear();var e,n=new li;for(t.circleShape_k80pjh$(n),e=di(Le([new ju(1.3,9.1,1.5),new ju(1.5,9.3,1),new ju(3.97,11.8,1),new ju(4.2,12.1,1),new ju(4.45,12.6,1),new ju(4.6,13.1,1),new ju(4.65,13.5,1),new ju(4.65,14.5,1),new ju(4.58,15.5,1),new ju(4.42,17,1),new ju(4,20,1),new ju(3.5,23,.5),new ju(3.475,23.05,.5),new ju(3.45,23,.5),new ju(3.95,20,.5),new ju(4.37,17,.5),new ju(4.6,14.5,.5),new ju(4.6,13.5,.5)])).iterator();e.hasNext();){var i=e.next();t.transform.push(),t.scale_y2kzbl$(i.r,i.r,1),t.translate_y2kzbl$(0,0,i.h),t.sample_afatab$(n,void 0,!0),t.transform.pop()}},Su.prototype.makeShaftGeometry_0=function(t){t.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS),t.color=y.Companion.DARK_GRAY.withAlpha_mx4ult$(.1).toLinear();var e=new li;t.circleShape_k80pjh$(e);var n,i,o={v:.5};for(t.vertexModFun=(n=o,function(t){var e;return null!=(e=t.getFloatAttribute_nm2vx5$(Tu().THICKNESS_0))&&(e.f=n.v),a}),t.transform.push(),t.scale_y2kzbl$(4,4,1),t.sampleAndFillBottom_afatab$(e),t.transform.pop(),i=Le([new ju(4.1,.1,.5),new ju(4,.2,.5),new ju(2,.5,.75),new ju(1.5,.65,1),new ju(1,.95,1.5),new ju(.75,1.25,2),new ju(.5,2,5),new ju(.4,3,20),new ju(.4,7,20),new ju(.5,8,20),new ju(.6,8.25,2.5),new ju(.9,8.65,1),new ju(1.3,9.1,1)]).iterator();i.hasNext();){var r=i.next();t.transform.push(),t.scale_y2kzbl$(r.r,r.r,1),t.translate_y2kzbl$(0,0,r.h),o.v=r.t,t.sample_afatab$(e),t.transform.pop()}},Su.prototype.makeWineGeometry_0=function(t){t.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS);var e,n=new li;for(t.circleShape_k80pjh$(n),t.transform.push(),t.translate_y2kzbl$(0,0,10),t.sampleAndFillBottom_afatab$(n),t.transform.pop(),e=Le([new ju(1.28,9.1,1.5),new ju(1.48,9.3,3),new ju(3.95,11.8,7),new ju(4.18,12.1,7),new ju(4.43,12.6,7),new ju(4.58,13.1,7),new ju(4.63,13.5,7),new ju(4.63,13.5,7),new ju(4.57,13.4,7),new ju(3,13.4,7),new ju(1.5,13.4,7),new ju(.5,13.4,7)]).iterator();e.hasNext();){var i=e.next();t.transform.push(),t.scale_y2kzbl$(i.r,i.r,1),t.translate_y2kzbl$(0,0,i.h),t.sample_afatab$(n),t.transform.pop()}t.fillTop_pvgy1j$(n)},Su.prototype.glasShader_0=function(){var t=new Ft;t.useRefraction_jprw98$(this.pbrColorOut),t.useImageBasedLighting_po417x$(this.ibl),t.roughness=0,t.alphaMode=new he;var n,i,o=t,r=_n.Companion.defaultPbrModel_2ufela$(o),s={v:null},a=new q(r);s.v=a.stageInterfaceNode_iikjwn$("ifThickness",a.attributeNode_nm2vx5$(Tu().THICKNESS_0).output),new U(r);t:do{var l;for(n=Ct.ALL,l=r.stages.values.iterator();l.hasNext();){var p=l.next();if(0!=(p.stage.mask&n.mask)){var u,c=p.nodes,_=E();for(u=c.iterator();u.hasNext();){var h=u.next();e.isType(h,fi)&&_.add_11rb$(h)}var d=St(_);if(null!=d){i=d;break t}}}i=null}while(0);return null!=i&&(i.inMaterialThickness=s.v.output),new _n(o,r)},ju.$metadata$={kind:T,simpleName:"ExtrudeProps",interfaces:[]},Nu.$metadata$={kind:O,simpleName:"Companion",interfaces:[]};var Pu=null;function Tu(){return null===Pu&&new Nu,Pu}function Ou(){ys.call(this,"Procedural Geometry"),this.autoRotate=!0,this.roses_wwovcl$_0=this.roses_wwovcl$_0}function Eu(t,e){return function(n){n.setMouseRotation_dleff0$(-20,-10),n.setMouseTranslation_y2kzbl$(0,16,0),n.zoom=40,n.unaryPlus_uv0sim$(t.camera);var i=n.onUpdate,o=function(t,e){return function(n,i){return t.autoRotate&&(e.verticalRotation+=5*i.deltaT),a}}(e,n);return i.add_11rb$(o),a}}function Mu(t){return t.setDirectional_czzhiu$(new $(-1,-.3,-1)),t.setColor_y83vuj$(y.Companion.MD_AMBER.mix_y83vuj$(y.Companion.WHITE,.5).toLinear(),3),a}function Ru(t,e,n,i,o){C.call(this,o),this.$controller=i,this.exceptionState_0=1,this.local$this$=t,this.local$this$ProceduralDemo=e,this.local$$receiver=n}function Iu(t,e){return function(n){n.button_9zrh0o$("Empty Vase",function(t,e){return function(n){var i;for(i=t.roses.children.iterator();i.hasNext();)i.next().dispose_aemszp$(e);return t.roses.removeAllChildren(),a}}(t,e));var i,o={v:null},r={v:!0};return n.button_9zrh0o$("Generate Rose",function(t,e,n,i){return function(o){var r;if(!t.roses.children.isEmpty()&&e.v){var s=qn(t.roses.children);t.roses.removeNode_f1kmr1$(s),s.dispose_aemszp$(n)}var l=mi();return null!=(r=i.v)&&(r.text=l.toString()),t.roses.makeRose_za3lpa$(l),a}}(t,r,e,o)),n.toggleButton_8v9fdr$("Replace Last Rose",r.v,(i=r,function(t){return i.v=t.isEnabled,a})),o.v=n.textWithValue_puj7f4$("Seed:",""),a}}function Au(t){return function(e){return e.toggleButton_8v9fdr$("Auto Rotate",t.autoRotate,function(t){return function(e){return t.autoRotate=e.isEnabled,a}}(t)),a}}function Du(){Q.call(this),this.makeRose_za3lpa$(1234),this.makeRose_za3lpa$(6415168),this.makeRose_za3lpa$(2541685),this.makeRose_za3lpa$(-336577773),this.makeRose_za3lpa$(1339055691),this.translate_y2kzbl$(-7.5,10.5,2.5)}function Bu(t){var e;this.shaftGrad=new at([st(0,y.Companion.MD_BROWN_900.toLinear()),st(.4,y.Companion.MD_BROWN.toLinear()),st(1,y.Companion.MD_LIGHT_GREEN_600.toLinear())]),this.blossomLeafGrad=se([y.Companion.MD_LIGHT_GREEN_600.toLinear(),y.Companion.MD_LIGHT_GREEN.mix_y83vuj$(y.Companion.MD_YELLOW_200,.5).toLinear()]),this.shaftMesh=null,this.leafMesh=null,this.shaftLeafMesh=null,this.blossomMesh=null,this.rand=new re(t),this.shaftTopTransform=new Ce,this.shaftLeafTransform=new Ce,this.shaftMesh=v(void 0,(e=this,function(t){t.generate_v2sixm$(function(t){return function(e){return t.makeShaftGeometry_0(e),e.geometry.removeDegeneratedTriangles(),e.geometry.generateNormals(),a}}(e));var n=new Ft;return n.roughness=.3,t.shader=new qt(n),a})),this.shaftLeafMesh=v(void 0,function(t){return function(e){e.generate_v2sixm$(function(t){return function(e){return t.makeShaftLeafGeometry_0(e),e.geometry.removeDegeneratedTriangles(),e.geometry.generateNormals(),a}}(t));var n=new Ft;return n.roughness=.5,e.shader=new qt(n),a}}(this)),this.leafMesh=v(void 0,function(t){return function(e){e.generate_v2sixm$(function(t){return function(e){return t.makeLeafGeometry_0(e),e.geometry.removeDegeneratedTriangles(),e.geometry.generateNormals(),a}}(t));var n=new Ft;return n.roughness=.5,e.shader=new qt(n),a}}(this)),this.blossomMesh=v(void 0,function(t){return function(e){e.generate_v2sixm$(function(t){return function(e){return t.makeBlossomGeometry_0(e),e.geometry.removeDegeneratedTriangles(),e.geometry.generateNormals(),a}}(t));var n=new Ft;return n.roughness=.8,e.shader=new qt(n),a}}(this)),this.applyTint_d7aj7k$(y.Companion.fromHsv_7b5o5w$(this.rand.randomF_dleff0$(0,360),.12,this.rand.randomF_dleff0$(.7,1),1).toLinear())}function Fu(){var t;ge.call(this,be([$e.Companion.POSITIONS,$e.Companion.NORMALS,$e.Companion.TEXTURE_COORDS,$e.Companion.TANGENTS])),this.isCastingShadow=!1,this.generate_v2sixm$((t=this,function(e){return t.makeGeometry_0(e),e.geometry.removeDegeneratedTriangles(),e.geometry.generateNormals(),e.geometry.generateTangents_mx4ult$(),a}));var e=new Ft;e.useAlbedoMap_ivxn3r$(Jr().pbrBasePath+"/granitesmooth1/granitesmooth1-albedo4.jpg"),e.useNormalMap_9sobi5$(Jr().pbrBasePath+"/granitesmooth1/granitesmooth1-normal2.jpg"),e.useRoughnessMap_ivxn3r$(Jr().pbrBasePath+"/granitesmooth1/granitesmooth1-roughness3.jpg"),this.shader=new qt(e)}function qu(){var t;ge.call(this,be([$e.Companion.POSITIONS,$e.Companion.NORMALS,$e.Companion.COLORS])),this.generate_v2sixm$((t=this,function(e){return t.makeGeometry_0(e),e.geometry.removeDegeneratedTriangles(),e.geometry.generateNormals(),a}));var e=new Ft;e.roughness=.3,this.shader=new qt(e)}function Uu(){ys.call(this,"Simplification"),this.models=vt(),this.modelWireframe=new Ln,this.srcModel=null,this.dispModel=new ge(be([$e.Companion.POSITIONS,$e.Companion.NORMALS])),this.heMesh=null,this.simplifcationGrade=1,this.autoRun_z6bycc$_0=this.autoRun_z6bycc$_0,this.facesValLbl_1vvnvx$_0=this.facesValLbl_1vvnvx$_0,this.vertsValLbl_bpoadb$_0=this.vertsValLbl_bpoadb$_0,this.timeValLbl_itlx8a$_0=this.timeValLbl_itlx8a$_0,this.autoRotate=!0,this.dispModel.shader=g(Qu),this.srcModel=this.makeCosGrid_0();var t=this.models,e=this.srcModel;t.put_xwzc9p$("cos",e),this.heMesh=new bi(this.srcModel)}function Vu(t,e,n,i){C.call(this,i),this.$controller=n,this.exceptionState_0=1,this.local$this$SimplificationDemo=t,this.local$$receiver=e}function Wu(t,e){return function(n){n.unaryPlus_uv0sim$(t.dispModel),n.unaryPlus_uv0sim$(t.modelWireframe);var i=n.onUpdate,o=function(t,e,n){return function(i,o){return t.autoRotate&&n.rotate_ad55pp$(3*e.deltaT,$.Companion.Y_AXIS),a}}(t,e,n);return i.add_11rb$(o),a}}function Gu(t,e,n,i,o,r){C.call(this,r),this.exceptionState_0=1,this.$this=t,this.local$$receiver=e,this.local$name=n,this.local$scale=i,this.local$offset=o}function Hu(t){return function(e){return e.button_9zrh0o$("Cow",function(t){return function(e){var n;return t.srcModel=null!=(n=t.models.get_11rb$("cow"))?n:t.srcModel,t.simplify(),a}}(t)),e.button_9zrh0o$("Teapot",function(t){return function(e){var n;return t.srcModel=null!=(n=t.models.get_11rb$("teapot"))?n:t.srcModel,t.simplify(),a}}(t)),e.button_9zrh0o$("Bunny",function(t){return function(e){var n;return t.srcModel=null!=(n=t.models.get_11rb$("bunny"))?n:t.srcModel,t.simplify(),a}}(t)),e.button_9zrh0o$("Cosine Grid",function(t){return function(e){var n;return t.srcModel=null!=(n=t.models.get_11rb$("cos"))?n:t.srcModel,t.simplify(),a}}(t)),a}}function Xu(t){return a}function Ku(t){return a}function Yu(t){return function(e){var n=e.toggleButton_8v9fdr$("Draw Solid",t.dispModel.isVisible,Xu),i=e.toggleButton_8v9fdr$("Draw Wireframe",t.modelWireframe.isVisible,Ku),o=n.onStateChange,r=function(t,e){return function(n){return t.dispModel.isVisible=n.isEnabled,n.isEnabled||e.isEnabled||(e.isEnabled=!0),a}}(t,i);o.add_11rb$(r);var s=i.onStateChange,l=function(t,e){return function(n){return t.modelWireframe.isVisible=n.isEnabled,n.isEnabled||e.isEnabled||(e.isEnabled=!0),a}}(t,n);return s.add_11rb$(l),e.toggleButton_8v9fdr$("Auto Rotate",t.autoRotate,function(t){return function(e){return t.autoRotate=e.isEnabled,a}}(t)),a}}function Zu(t){return a}function Ju(t){return function(e){return e.sliderWithValue_xbu91d$("Ratio:",100,1,100,void 0,void 0,function(t){return function(e){return t.simplifcationGrade=e.value/100,t.autoRun.isEnabled&&t.simplify(),a}}(t)),e.button_9zrh0o$("Update Mesh",function(t){return function(e){return t.simplify(),a}}(t)),t.autoRun=e.toggleButton_8v9fdr$("Auto Update",!0,Zu),t.facesValLbl=e.textWithValue_puj7f4$("Faces:",""),t.vertsValLbl=e.textWithValue_puj7f4$("Vertices:",""),t.timeValLbl=e.textWithValue_puj7f4$("Time:",""),a}}function Qu(t){return t.albedoSource=b.STATIC_ALBEDO,t.albedo=y.Companion.WHITE,t.roughness=.15,a}function tc(){ys.call(this,"Procedural Tree"),this.treeGen=null,this.trunkMesh=null,this.leafMesh=null,this.autoRotate=!0,this.windSpeed=2.5,this.windAnimationPos=0,this.windStrength=1,this.lightDirection=new bt(-1,-1.5,-1).norm(),this.skySystem_q5b8gb$_0=this.skySystem_q5b8gb$_0;var t=new fc(2.75,3,3.5);this.treeGen=new cc(t,void 0,void 0,this.lightDirection),this.treeGen.generate_za3lpa$()}function ec(t,n,i,o){return function(r){r.generate_v2sixm$(function(t){return function(n){var i;i=si.INFO;var o=Li();t.treeGen.buildTrunkMesh_84rojv$(n);var r=ei.Log,s=e.getKClassFromExpression(n).simpleName;return i.level>=r.level.level&&r.printer(i,s,"Generated "+(n.geometry.numIndices/3|0)+" trunk triangles in "+xi(Li()-o,3)+" ms"),a}}(t));var s={v:null},l={v:null},p=new Ft,u=n,c=i;p.useAlbedoMap_ivxn3r$(Jr().pbrBasePath+"/bark_pine/Bark_Pine_baseColor.jpg"),p.useOcclusionMap_9sobi5$(Jr().pbrBasePath+"/bark_pine/Bark_Pine_ambientOcclusion.jpg"),p.useNormalMap_9sobi5$(Jr().pbrBasePath+"/bark_pine/Bark_Pine_normal.jpg"),p.useRoughnessMap_ivxn3r$(Jr().pbrBasePath+"/bark_pine/Bark_Pine_roughness.jpg"),p.useImageBasedLighting_po417x$(u),p.shadowMaps.addAll_brywnq$(c),p.roughness=1;var _,h=p,d=new _n(h,t.treePbrModel_0(h));r.onDispose.add_11rb$((_=d,function(t,e){var n,i,o,r;return null!=(n=_.albedoMap)&&n.dispose(),null!=(i=_.occlusionMap)&&i.dispose(),null!=(o=_.normalMap)&&o.dispose(),null!=(r=_.roughnessMap)&&r.dispose(),a})),d.onPipelineCreated.add_11rb$(function(t,n,i){return function(o,r,s){var l,p,u,c,_=n,h=t.model;t:do{var d;for(u=Ct.ALL,d=h.stages.values.iterator();d.hasNext();){var f=d.next();if(0!=(f.stage.mask&u.mask)){var m,y,$=f.nodes;e:do{var b;for(b=$.iterator();b.hasNext();){var g=b.next();if(kt(g.name,"windAnim")&&e.isType(g,ye)){y=g;break e}}y=null}while(0);var v=null==(m=y)||e.isType(m,ye)?m:et();if(null!=v){c=v;break t}}}c=null}while(0);_.v=null!=(l=c)?l.uniform:null;var x,w,z=i,C=t.model;t:do{var S;for(x=Ct.ALL,S=C.stages.values.iterator();S.hasNext();){var k=S.next();if(0!=(k.stage.mask&x.mask)){var L,j,N=k.nodes;e:do{var P;for(P=N.iterator();P.hasNext();){var T=P.next();if(kt(T.name,"windStrength")&&e.isType(T,ye)){j=T;break e}}j=null}while(0);var O=null==(L=j)||e.isType(L,ye)?L:et();if(null!=O){w=O;break t}}}w=null}while(0);return z.v=null!=(p=w)?p.uniform:null,a}}(d,s,l)),r.shader=d;var f=r.onUpdate,m=function(t,e,n,i){return function(o,r){var s,l;return e.windAnimationPos+=t.deltaT*e.windSpeed,null!=(s=n.v)&&(s.value=e.windAnimationPos),null!=(l=i.v)&&(l.value=e.windStrength),a}}(o,t,s,l);return f.add_11rb$(m),a}}function nc(t,n,i){return function(o){o.generate_v2sixm$(function(t){return function(n){var i;i=si.INFO;var o=Li();t.treeGen.buildLeafMesh_84rojv$(n);var r=ei.Log,s=e.getKClassFromExpression(n).simpleName;return i.level>=r.level.level&&r.printer(i,s,"Generated "+(n.geometry.numIndices/3|0)+" leaf triangles in "+xi(Li()-o,3)+" ms"),a}}(t));var r={v:null},s={v:null},l=new Ft,p=n,u=i;l.useAlbedoMap_ivxn3r$(Jr().pbrBasePath+"/leaf.png"),l.useImageBasedLighting_po417x$(p),l.roughness=1,l.alphaMode=new ki(.5),l.cullMethod=me.NO_CULLING,l.lightBacksides=!0,l.shadowMaps.addAll_brywnq$(u);var c,_=l,h=new _n(_,t.treePbrModel_0(_));o.onDispose.add_11rb$((c=h,function(t,e){return d(c.albedoMap).dispose(),a})),h.onPipelineCreated.add_11rb$(function(t,n,i){return function(o,r,s){var l,p,u,c,_=n,h=t.model;t:do{var d;for(u=Ct.ALL,d=h.stages.values.iterator();d.hasNext();){var f=d.next();if(0!=(f.stage.mask&u.mask)){var m,y,$=f.nodes;e:do{var b;for(b=$.iterator();b.hasNext();){var g=b.next();if(kt(g.name,"windAnim")&&e.isType(g,ye)){y=g;break e}}y=null}while(0);var v=null==(m=y)||e.isType(m,ye)?m:et();if(null!=v){c=v;break t}}}c=null}while(0);_.v=null!=(l=c)?l.uniform:null;var x,w,z=i,C=t.model;t:do{var S;for(x=Ct.ALL,S=C.stages.values.iterator();S.hasNext();){var k=S.next();if(0!=(k.stage.mask&x.mask)){var L,j,N=k.nodes;e:do{var P;for(P=N.iterator();P.hasNext();){var T=P.next();if(kt(T.name,"windStrength")&&e.isType(T,ye)){j=T;break e}}j=null}while(0);var O=null==(L=j)||e.isType(L,ye)?L:et();if(null!=O){w=O;break t}}}w=null}while(0);return z.v=null!=(p=w)?p.uniform:null,a}}(h,r,s)),o.shader=h;var f=o.onUpdate,m=function(t,e,n){return function(i,o){var r,s;return null!=(r=e.v)&&(r.value=t.windAnimationPos),null!=(s=n.v)&&(s.value=t.windStrength),a}}(t,r,s);return f.add_11rb$(m),a}}function ic(t,n,i){return function(o){var r;o.unaryPlus_uv0sim$(t.camera),o.minZoom=1,o.maxZoom=50,o.zoomMethod=bn.ZOOM_CENTER,o.zoom=6,o.setMouseRotation_dleff0$(0,-10),o.setMouseTranslation_y2kzbl$(0,2,0),(e.isType(r=t.camera,tt)?r:et()).clipFar=50;var s=o.onUpdate,l=function(t,e,n){return function(i,o){return t.autoRotate&&(n.verticalRotation+=3*e.deltaT),a}}(n,i,o);return s.add_11rb$(l),a}}function oc(t){return function(n){return n.sliderWithValue_xbu91d$("Grow Distance:",t.treeGen.growDistance,.1,.4,void 0,void 0,function(t){return function(e){return t.treeGen.growDistance=e.value,a}}(t)),n.sliderWithValue_xbu91d$("Kill Distance:",t.treeGen.killDistance,1,4,void 0,void 0,function(t){return function(e){return t.treeGen.killDistance=e.value,a}}(t)),n.sliderWithValue_xbu91d$("Attraction Points:",t.treeGen.numberOfAttractionPoints,100,1e4,void 0,void 0,function(t){return function(e){return t.treeGen.numberOfAttractionPoints=$t(e.value),a}}(t)),n.sliderWithValue_xbu91d$("Radius of Influence:",t.treeGen.radiusOfInfluence,.25,10,void 0,void 0,function(t){return function(e){return t.treeGen.radiusOfInfluence=e.value,a}}(t)),n.button_9zrh0o$("Generate Tree",function(t){return function(n){var i,o;if(t.treeGen.generate_za3lpa$(),null!=(i=t.trunkMesh)){var r=t,s=i.geometry,l=s.isBatchUpdate;s.isBatchUpdate=!0,s.clear();var p,u=new Ve(s);p=si.INFO;var c=Li();r.treeGen.buildTrunkMesh_84rojv$(u),s.generateTangents_mx4ult$();var _=ei.Log,h=e.getKClassFromExpression(s).simpleName;p.level>=_.level.level&&_.printer(p,h,"Generated "+(s.numIndices/3|0)+" trunk triangles in "+xi(Li()-c,3)+" ms"),s.hasChanged=!0,s.isBatchUpdate=l}if(null!=(o=t.leafMesh)){var d=t,f=o.geometry,m=f.isBatchUpdate;f.isBatchUpdate=!0,f.clear();var y,$=new Ve(f);y=si.INFO;var b=Li();d.treeGen.buildLeafMesh_84rojv$($);var g=ei.Log,v=e.getKClassFromExpression(f).simpleName;y.level>=g.level.level&&g.printer(y,v,"Generated "+(f.numIndices/3|0)+" leaf triangles in "+xi(Li()-b,3)+" ms"),f.hasChanged=!0,f.isBatchUpdate=m}return a}}(t)),a}}function rc(t){return function(e){return e.sliderWithValue_xbu91d$("Animation Speed",t.windSpeed,0,10,void 0,void 0,function(t){return function(e){return t.windSpeed=e.value,a}}(t)),e.sliderWithValue_xbu91d$("Animation Strength",t.windStrength,0,10,void 0,void 0,function(t){return function(e){return t.windStrength=e.value,a}}(t)),e.toggleButton_8v9fdr$("Toggle Leafs",!0,function(t){return function(e){var n;return null!=(n=t.leafMesh)&&(n.isVisible=e.isEnabled),a}}(t)),e.toggleButton_8v9fdr$("Auto Rotate",t.autoRotate,function(t){return function(e){return t.autoRotate=e.isEnabled,a}}(t)),a}}function sc(t){return function(e){var n=e.sliderWithValueSmall_jjtbof$("Azimuth",t.skySystem_0.skyPass.azimuth,0,360,0,void 0,25,void 0,function(t){return function(e){return t.skySystem_0.skyPass.azimuth=e.value,a}}(t)),i=e.sliderWithValueSmall_jjtbof$("Elevation",t.skySystem_0.skyPass.elevation,-90,90,0,void 0,25,void 0,function(t){return function(e){return t.skySystem_0.skyPass.elevation=e.value,a}}(t));e.toggleButton_8v9fdr$("Auto Update IBL Maps",t.skySystem_0.isAutoUpdateIblMaps,function(t){return function(e){return t.skySystem_0.isAutoUpdateIblMaps=e.isEnabled,a}}(t));var o=n.onDragFinished,r=function(t){return function(e,n){return t.skySystem_0.updateIblMaps(),a}}(t);o.add_11rb$(r);var s=i.onDragFinished,l=function(t){return function(e,n){return t.skySystem_0.updateIblMaps(),a}}(t);return s.add_11rb$(l),a}}function ac(t){j.call(this,"windNode",t),this.inputPos=new P(new Ot($.Companion.ZERO)),this.inputAnim=new P(new Yt(0)),this.inputStrength=new P(new Yt(1)),this.outputPos=new P(new ut("windOutPos"),this)}function lc(t){return t.texCoord.set_dleff0$(t.position.x,t.position.z).scale_mx4ult$(.2),a}function pc(t){return function(e){e.transform.push();var n=t;e.color=y.Companion.LIGHT_GRAY.withAlpha_mx4ult$(.2),e.vertexModFun=lc;var i,o=new $n;return o.sizeX=2*n,o.sizeY=2*n,o.stepsX=200,o.stepsY=200,o.heightFun=(i=o,function(t,e){var n=7*(t/i.stepsX-.5),o=7*(e/i.stepsY-.5),r=n*n+o*o,s=M.sqrt(r);return.2*M.cos(s)-.2}),e.grid_gtbnl3$(o),e.transform.pop(),e.geometry.generateTangents_mx4ult$(),a}}function uc(t,e,n){return function(i){return i.useAlbedoMap_ivxn3r$(Jr().pbrBasePath+"/brown_mud_leaves_01/brown_mud_leaves_01_diff_2k.jpg"),i.useNormalMap_9sobi5$(Jr().pbrBasePath+"/brown_mud_leaves_01/brown_mud_leaves_01_Nor_2k.jpg"),i.useRoughnessMap_ivxn3r$(Jr().pbrBasePath+"/brown_mud_leaves_01/brown_mud_leaves_01_rough_2k.jpg"),i.useOcclusionMap_9sobi5$(Jr().pbrBasePath+"/brown_mud_leaves_01/brown_mud_leaves_01_AO_2k.jpg"),i.useDisplacementMap_9sobi5$(Jr().pbrBasePath+"/brown_mud_leaves_01/brown_mud_leaves_01_disp_2k.jpg"),i.useImageBasedLighting_po417x$(t),i.shadowMaps.addAll_brywnq$(e),n.onDispose.add_11rb$(function(t){return function(e,n){var i,o,r,s,l;return null!=(i=t.albedoMap)&&i.dispose(),null!=(o=t.normalMap)&&o.dispose(),null!=(r=t.roughnessMap)&&r.dispose(),null!=(s=t.occlusionMap)&&s.dispose(),null!=(l=t.displacementMap)&&l.dispose(),a}}(i)),a}}function cc(t,e,n,i,o){void 0===e&&(e=new $(0,1,0)),void 0===n&&(n=$.Companion.ZERO),void 0===i&&(i=null),void 0===o&&(o=R.defaultRandomInstance),this.distribution=t,this.baseTop=e,this.baseBot=n,this.primaryLightDir=i,this.random=o,this.radiusOfInfluence=1,this.growDistance=.15,this.killDistance=1.5,this.numberOfAttractionPoints=3e3,this.attractionPoints_0=E(),this.attractionPointsTree_0=ji(Mi()),this.attractionPointTrav_0=new Pi,this.treeNodes_0=E(),this.root_0=new dc(this)}function _c(t){if(null!=t.parent){var e=d(t.parent).texV;t.texV=e+t.distance_czzhiu$(d(t.parent))/(2*t.radius*Xt.PI*1.5)}return a}function hc(t){ct(t,this),this.nearestNode_3mwxa2$_0=null,this.nearestNodeDist_dewf4c$_0=Ni.MAX_VALUE,this.isOpen=!0}function dc(t){this.$outer=t,Ke(this),this.children=E(),this.parent=null,this.branchDepth=0,this.influencingPts=E(),this.isFinished=!1,this.radius=.005,this.texV=0,this.uScale=1,this.vScale=3,this.circumPts=E()}function fc(t,e,n,i){void 0===i&&(i=R.defaultRandomInstance),Ti.call(this),this.centerY=t,this.width=e,this.height=n,this.random_0=i,this.borders_0=E(),this.tmpPt1_0=Ke(),this.tmpPt2_0=Oi(),this.e00_0=Oi(),this.e01_0=Oi(),this.e10_0=Oi(),this.e11_0=Oi(),this.seedPts_0=E();for(var o=1;o<=8;o++){for(var r=new Ei(3),s=0;s<=7;s++){var a=s/7*Xt.PI,l=1<=s&&s<7?this.random_0.randomF_dleff0$(.4,.6):.5,p=M.sin(a)*(this.width-.4)*l+.2,u=M.cos(a)*this.height*l+this.centerY,c=r.ctrlPoints,_=new hn(p,u);c.add_11rb$(_)}r.ctrlPoints.add_wxm5ur$(0,new hn(0,this.centerY+.5*this.height)),r.ctrlPoints.add_11rb$(new hn(0,this.centerY-.5*this.height)),r.addInterpolationEndpoints();for(var h=E(),d=0;d<=20;d++){var f=r.evaluate_f6p79m$(d/20,Oi());h.add_11rb$(f)}this.borders_0.add_11rb$(h)}this.seed_0()}function mc(){Ur(yc().get_11rb$("demo"))}function yc(){var t,e=vt();if(window.location.search.length>1)for(t=Ri(window.location.search.substring(1),["&"]).iterator();t.hasNext();){var n=t.next(),i=Ri(n,["="]);if(2===i.size){var o=i.get_za3lpa$(0),r=i.get_za3lpa$(1),s=decodeURIComponent(o).toString(),a=decodeURIComponent(r).toString();e.put_xwzc9p$(s,a)}}return e}Su.$metadata$={kind:T,simpleName:"Glas",interfaces:[Q]},Object.defineProperty(Ou.prototype,"roses",{configurable:!0,get:function(){return null==this.roses_wwovcl$_0?s("roses"):this.roses_wwovcl$_0},set:function(t){this.roses_wwovcl$_0=t}}),Ru.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Ru.prototype=Object.create(C.prototype),Ru.prototype.constructor=Ru,Ru.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=c.EnvironmentHelper.hdriEnvironment_cj1d96$(this.local$this$,Jr().envMapBasePath+"/syferfontein_0d_clear_1k.rgbe.png",this.local$$receiver,void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:var t=this.result_0;this.local$this$.unaryPlus_uv0sim$(w.Skybox.cube_o7q6nm$(t.reflectionMap,1));var e=new p(this.local$this$,0);e.setDefaultDepthOffset_6taknv$(!0),e.shadowBounds=Rn(new $(-30,0,-30),new $(30,60,30));var n=e,i=new Z;i.isWithScreenSpaceReflections=!0,i.isWithAmbientOcclusion=!0,i.isWithEmissive=!0,i.maxGlobalLights=1,i.useImageBasedLighting_po417x$(t),i.useShadowMaps_gdx315$(Ye(n));var o,r=i,s=new J(this.local$this$,r),l=this.local$this$ProceduralDemo;null!=(o=s.aoPipeline)&&(o.radius=.6);var u=s.contentGroup;u.unaryPlus_uv0sim$(new Su(d(s.pbrPass.colorTexture),t)),u.unaryPlus_uv0sim$(new qu),u.unaryPlus_uv0sim$(new Fu),l.roses=new Du,u.unaryPlus_uv0sim$(l.roses);var _=s;return n.drawNode=_.contentGroup,this.local$this$.unaryPlus_uv0sim$(_.renderOutput),a;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Ou.prototype.setupMainScene_aemszp$=function(t){var e,n,i=new D(null);return i.unaryPlus_uv0sim$(l(i,void 0,Eu(i,this))),i.lighting.singleLight_q9zcvo$(Mu),t.assetMgr.launch_eln4bt$((e=i,n=this,function(t,i,o){var r=new Ru(e,n,t,this,i);return o?r:r.doResume(null)})),i},Ou.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,n=t,function(t){return t.section_yfmn31$("Roses",Iu(e,n)),t.section_yfmn31$("Scene",Au(e)),a}));var e,n},Ou.$metadata$={kind:T,simpleName:"ProceduralDemo",interfaces:[ys]},Du.prototype.makeRose_za3lpa$=function(t){var e,n=new Bu(t);this.unaryPlus_uv0sim$(ce(void 0,(e=n,function(t){return t.unaryPlus_uv0sim$(e.shaftMesh),t.unaryPlus_uv0sim$(e.shaftLeafMesh),t.unaryPlus_uv0sim$(e.leafMesh),t.unaryPlus_uv0sim$(e.blossomMesh),a})))},Bu.prototype.applyTint_d7aj7k$=function(t){this.applyTint_0(this.shaftMesh.geometry,t),this.applyTint_0(this.shaftLeafMesh.geometry,t),this.applyTint_0(this.leafMesh.geometry,t),this.applyTint_0(this.blossomMesh.geometry,t)},Bu.prototype.applyTint_0=function(t,e){var n;n=t.numVertices;for(var i=0;i<n;i++){t.vertexIt.index=i;var o=t.vertexIt;o.color.r=o.color.r*e.r,o.color.g=o.color.g*e.g,o.color.b=o.color.b*e.b,o.color.a=o.color.a*e.a}},Bu.prototype.makeShaftGeometry_0=function(t){t.transform.push(),t.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS);var e,n=new li;t.circleShape_k80pjh$(n,.2,8);for(var i=this.rand.randomI_vux9f0$(2,3),o=0;o<6;o++){var r=new bt(this.rand.randomF_dleff0$(-1,1),this.rand.randomF_dleff0$(-1,1),0).norm();t.rotate_ad55pp$(this.rand.randomF_dleff0$(0,15),r);var s=this.rand.randomF_dleff0$(2,4),a=o/6;if(t.scale_y2kzbl$(.8,.8,1),t.translate_y2kzbl$(0,0,.1*s),t.color=this.shaftGrad.getColor_y2kzbl$(a+1/6*.15).mix_y83vuj$(y.Companion.BLACK,.25),t.sample_afatab$(n),t.scale_y2kzbl$(.8,.8,1),t.translate_y2kzbl$(0,0,.2*s),t.color=this.shaftGrad.getColor_y2kzbl$(a+1/6*.3),t.sample_afatab$(n),t.translate_y2kzbl$(0,0,.4*s),t.color=this.shaftGrad.getColor_y2kzbl$(a+1/6*.55),t.sample_afatab$(n),t.scale_y2kzbl$(1.25,1.25,1),t.translate_y2kzbl$(0,0,.2*s),t.color=this.shaftGrad.getColor_y2kzbl$(a+1/6*.7).mix_y83vuj$(y.Companion.BLACK,.25),t.sample_afatab$(n),t.scale_y2kzbl$(1.25,1.25,1),t.translate_y2kzbl$(0,0,.1*s),t.color=this.shaftGrad.getColor_y2kzbl$(a+1/6*.85).mix_y83vuj$(y.Companion.BLACK,.55),t.sample_afatab$(n),o===i)this.shaftLeafTransform.set_d4zu6j$(t.transform);else{e=this.rand.randomI_vux9f0$(0,1);for(var l=0;l<e;l++)this.makeThorn_0(t)}}t.translate_y2kzbl$(0,0,.2),t.transform.push(),t.scale_y2kzbl$(1.5,1.5,1),t.sample_afatab$(n),t.transform.pop(),t.translate_y2kzbl$(0,0,.15),t.transform.push(),t.scale_y2kzbl$(3,3,1),t.sample_afatab$(n),t.transform.pop(),t.fillTop_pvgy1j$(n),this.shaftTopTransform.set_d4zu6j$(t.transform),t.transform.pop()},Bu.prototype.makeThorn_0=function(t){t.transform.push();var e=new bt(this.rand.randomF_dleff0$(-1,1),this.rand.randomF_dleff0$(-1,1),0).norm();t.rotate_ad55pp$(90,e);var n=new bt(0,0,1).rotate_ad55pp$(-90,e).scale_mx4ult$(.1);t.translate_y2kzbl$(0,0,.1);var i=new li;t.circleShape_k80pjh$(i,.18,8);for(var o=0;o<=4;o++){var r=o/4,s=1-r,a=M.pow(s,1.5);t.scale_y2kzbl$(a,a,1),t.sample_afatab$(i),t.scale_y2kzbl$(1/a,1/a,1),t.translate_y2kzbl$(0,0,.1*(1-r)),t.translate_czzhiu$(n)}t.transform.pop()},Bu.prototype.makeShaftLeafGeometry_0=function(t){t.transform.mul_d4zu6j$(this.shaftLeafTransform),t.rotate_ad55pp$(this.rand.randomF_dleff0$(0,360),$.Companion.Z_AXIS);for(var e=se([this.shaftGrad.getColor_y2kzbl$(.7),y.Companion.MD_LIGHT_GREEN_900.toLinear()]),n=0;n<=1;n++){t.transform.push(),t.rotate_ad55pp$(this.rand.randomF_dleff0$(30,45),$.Companion.X_AXIS),t.color=e.getColor_y2kzbl$(0);var i=E(),o=this.rand.randomF_dleff0$(-4,4),r=this.rand.randomF_dleff0$(-4,4);t.transform.push();var s=new li;t.circleShape_k80pjh$(s,.1,8),t.sample_afatab$(s),t.translate_y2kzbl$(0,0,.4),t.rotate_ad55pp$(this.rand.randomF_dleff0$(2,4),$.Companion.X_AXIS),t.scale_y2kzbl$(.6,.6,1),t.sample_afatab$(s),t.scale_y2kzbl$(1/.6,1/.6,1),t.translate_y2kzbl$(0,0,.4),t.rotate_ad55pp$(this.rand.randomF_dleff0$(2,4),$.Companion.X_AXIS),t.scale_y2kzbl$(.4,.4,1),t.sample_afatab$(s),t.scale_y2kzbl$(2.5,2.5,1);for(var a=0;a<=10;a++){t.color=e.getColor_y2kzbl$(a/10),t.translate_y2kzbl$(0,0,.4),t.rotate_ad55pp$(this.rand.randomF_dleff0$(2,4),$.Companion.X_AXIS),t.rotate_ad55pp$(this.rand.randomF_dleff0$(-5,5)+o,$.Companion.Y_AXIS),t.rotate_ad55pp$(this.rand.randomF_dleff0$(-5,5)+r,$.Companion.Z_AXIS);var l=.4*M.pow(.89,n);t.scale_y2kzbl$(l,l,1),t.sample_afatab$(s);var p=(new Ce).set_d4zu6j$(t.transform).resetScale();i.add_11rb$(p),t.scale_y2kzbl$(1/l,1/l,1)}t.fillTop_pvgy1j$(s),t.transform.pop();var u=new li;t.color=y.Companion.MD_LIGHT_GREEN_900.mix_y83vuj$(y.Companion.MD_BROWN_900,.4).toLinear();for(var c=E(),_=-6;_<=6;_++){var h=_/6,d=M.abs(h)-.5,f=M.pow(d,2)-.25,b=new $(-.5*f,.2*_,.15*m(_)*(.7+.3*h*h));c.add_11rb$(b)}var g=new ai(!0);u.shapes.add_11rb$(g);var v,x=g.positions,w=ct(Xe(c));for(w.x=w.x+.01,x.add_11rb$(w),v=c.iterator();v.hasNext();){var z=v.next(),C=g.positions,S=ct(z);S.x=S.x+.01,C.add_11rb$(S)}var k=g.positions,L=ct(qn(c));L.x=L.x+.01,k.add_11rb$(L);var j,N=g.positions,P=ct(qn(c));for(P.x=P.x-.01,N.add_11rb$(P),j=di(c).iterator();j.hasNext();){var T=j.next(),O=g.positions,R=ct(T);R.x=R.x-.01,O.add_11rb$(R)}var I=g.positions,A=ct(Xe(c));A.x=A.x-.01,I.add_11rb$(A);var D=kn([.6,.9,1,.95,.85,.7,.5,.35,.22,.12,.05]);t.transform.push();var B,F,q=this.rand.randomF_dleff0$(-60,60),U=0;for(B=i.iterator();B.hasNext();){var V=B.next(),W=Qe((U=(F=U)+1|0,F));t.transform.set_d4zu6j$(V),t.rotate_ad55pp$(q,$.Companion.Z_AXIS);for(var G=D.get_za3lpa$(W),H=W<Ge(D)?D.get_za3lpa$(W+1|0)+.05:0,X=1/G,K={v:1},Y=0;Y<=4;Y++){var Z=Y/4;K.v=G*(1-Z)+H*Z,t.translate_y2kzbl$(0,0,.06),t.rotate_ad55pp$(r/5,$.Companion.Z_AXIS),t.transform.push(),t.scale_y2kzbl$(K.v,K.v,K.v),t.sample_afatab$(u),t.transform.pop()}var J=t.color;t.scale_y2kzbl$(.8*K.v,K.v,K.v),t.translate_y2kzbl$(0,0,.02*X),t.color=J.mix_y83vuj$(y.Companion.BLACK,.4),t.sample_afatab$(u),t.translate_y2kzbl$(0,0,.01*X),t.sample_afatab$(u),t.scale_y2kzbl$(1.25,1,1),t.color=J,t.translate_y2kzbl$(0,0,.02*X),t.sample_afatab$(u)}t.transform.pop(),t.transform.pop(),t.rotate_ad55pp$(this.rand.randomF_dleff0$(160,220),$.Companion.Z_AXIS)}},Bu.prototype.withXyScale_0=function(t,e,n){t.scale_y2kzbl$(e,e,1),n(t),t.scale_y2kzbl$(1/e,1/e,1)},Bu.prototype.makeLeafGeometry_0=function(t){t.transform.push(),t.transform.mul_d4zu6j$(this.shaftTopTransform);for(var e=0;e<=5;e++){t.transform.push(),t.scale_y2kzbl$(.8,.8,.8),t.rotate_ad55pp$(60*e,$.Companion.Z_AXIS);for(var n=new li,i=E(),o=.03,r=0;r<=10;r++){var s=(r/10*72-36)*R.DEG_2_RAD,a=5===r?-.05:0;if(5===r){var l=s-2*R.DEG_2_RAD,p=new Pt(M.cos(l)-.7+this.rand.randomF_dleff0$(-o,o),M.sin(l)+this.rand.randomF_dleff0$(-o,o));i.add_11rb$(p)}var u=new Pt(M.cos(s)-.7+this.rand.randomF_dleff0$(-o,o)+a,M.sin(s)+this.rand.randomF_dleff0$(-o,o));if(i.add_11rb$(u),5===r){var c=s+2*R.DEG_2_RAD,_=new Pt(M.cos(c)-.7+this.rand.randomF_dleff0$(-o,o),M.sin(c)+this.rand.randomF_dleff0$(-o,o));i.add_11rb$(_)}}var h,d,f=new ai(!0);for(n.shapes.add_11rb$(f),h=i.iterator();h.hasNext();){var m=h.next();f.xy_dleff0$(1.05*m.x,1.05*m.y)}for(d=di(i).iterator();d.hasNext();){var y=d.next();f.xy_dleff0$(y.x,y.y)}t.rotate_ad55pp$(90,$.Companion.Y_AXIS);var b,g,v=Le([.5,.7,.8,.93,1,.95,.8,.7,.6,.35,.2,.1,0]),x=0;for(b=v.iterator();b.hasNext();){var w=b.next();t.color=this.blossomLeafGrad.getColor_y2kzbl$(Qe((x=(g=x)+1|0,g))/Ge(v)),t.translate_y2kzbl$(0,0,.3),t.rotate_ad55pp$(100/v.size+this.rand.randomF_dleff0$(-8,8),$.Companion.NEG_Y_AXIS),t.rotate_ad55pp$(this.rand.randomF_dleff0$(-8,8),$.Companion.X_AXIS),t.transform.push(),t.scale_y2kzbl$(w,w,1),t.sample_afatab$(n),t.transform.pop()}t.transform.pop()}t.transform.pop()},Bu.prototype.makeBlossomGeometry_0=function(t){t.transform.push(),t.transform.mul_d4zu6j$(this.shaftTopTransform);for(var e=0;e<=17;e++){t.transform.push();var n=e/17*.8+.2;t.scale_y2kzbl$(n,n,1.2),t.rotate_ad55pp$(97*e,$.Companion.Z_AXIS);for(var i=new li,o=E(),r=0;r<=10;r++){var s=(r/10*120-60)*R.DEG_2_RAD,a=new Pt(M.cos(s)-.9+this.rand.randomF_dleff0$(-.03,.03),M.sin(s)+this.rand.randomF_dleff0$(-.03,.03));o.add_11rb$(a)}var l,p,u=new ai(!0);for(i.shapes.add_11rb$(u),l=o.iterator();l.hasNext();){var c=l.next();u.xy_dleff0$(1.05*c.x,1.05*c.y)}for(p=di(o).iterator();p.hasNext();){var _=p.next();u.xy_dleff0$(_.x,_.y)}t.rotate_ad55pp$(60,$.Companion.Y_AXIS);var h,d,f=Le([.5,.9,1,.93,.8,.7,.72,.8,.95,1.05,1,.95,.85,.5]),m=0;for(h=f.iterator();h.hasNext();){var b=h.next(),g=Qe((m=(d=m)+1|0,d)),v=b*this.rand.randomF_dleff0$(.95,1.05);t.color=new y(1,.1,.1).toLinear(),t.translate_y2kzbl$(0,0,.2);var x=20*(.5-g/f.size);t.rotate_ad55pp$(x+this.rand.randomF_dleff0$(-5,5),$.Companion.NEG_Y_AXIS),t.rotate_ad55pp$(this.rand.randomF_dleff0$(-5,5),$.Companion.X_AXIS),t.transform.push(),t.scale_y2kzbl$(v,v,1),t.translate_y2kzbl$(.7*(1-v),.7*(1-v),0),t.sample_afatab$(i),t.transform.pop()}t.fillTop_pvgy1j$(i),t.transform.pop()}t.transform.pop()},Bu.$metadata$={kind:T,simpleName:"GeneratedRose",interfaces:[]},Du.$metadata$={kind:T,simpleName:"Roses",interfaces:[Q]},Fu.prototype.makeGeometry_0=function(t){t.translate_y2kzbl$(0,-1,0),t.rotate_ad55pp$(90,$.Companion.X_AXIS);var e=new li,n=new ai(!0);e.shapes.add_11rb$(n);for(var i=0;i<=100;i++){var o=2*Xt.PI*i/100;n.xy_dleff0$(30*M.cos(o),30*M.sin(o)),n.uv_dleff0$(0,0)}for(var r=n,s=0;s<=15;s++){var a=s/15;t.transform.push();var l,p,u=(1-a)*Xt.PI,c=1*M.cos(u),_=a*Xt.PI,h=(30+1*M.sin(_))/30,d=.04*(30+1*a*Xt.PI),f=0;for(l=r.texCoords.iterator();l.hasNext();){var m=l.next(),y=Qe((f=(p=f)+1|0,p));m.set_dleff0$(r.positions.get_za3lpa$(y).x,r.positions.get_za3lpa$(y).y).norm().scale_mx4ult$(d)}t.translate_y2kzbl$(0,0,c),t.scale_y2kzbl$(h,h,1),0===s?t.sampleAndFillBottom_afatab$(e):t.sample_afatab$(e),t.transform.pop()}t.fillTop_pvgy1j$(e)},Fu.$metadata$={kind:T,simpleName:"Table",interfaces:[ge]},qu.prototype.makeGeometry_0=function(t){t.rotate_ad55pp$(90,$.Companion.NEG_X_AXIS),t.translate_y2kzbl$(-7.5,-2.5,0),t.scale_y2kzbl$(1.8,1.8,1.8),t.translate_y2kzbl$(0,0,.15);var e,n=se([y.Companion.MD_BROWN,y.Companion.MD_BLUE_300]),i=On(10);e=i.length-1|0;for(var o=0;o<=e;o++)i[o]=n.getColor_y2kzbl$(o/9).mix_y83vuj$(y.Companion.BLACK,.3);var r=se(i.slice());this.makeGrid_0(t,n),this.makeTube_0(t,r)},qu.prototype.makeGrid_0=function(t,e){var n=new li,i=new ai(!0);n.shapes.add_11rb$(i),i.xy_dleff0$(.8,1),i.xy_dleff0$(-.8,1),i.xy_dleff0$(-1,.8),i.xy_dleff0$(-1,-.8),i.xy_dleff0$(-.8,-1),i.xy_dleff0$(.8,-1),i.xy_dleff0$(1,-.8),i.xy_dleff0$(1,.8);for(var o=0;o<24;o++)for(var r=2*Xt.PI*o/24,s=0;s<=50;s++){t.transform.push();var a=s/50,l=180*a*(o%2==0?1:-1);t.color=e.getColor_y2kzbl$(a).toLinear(),t.rotate_ad55pp$(l,$.Companion.Z_AXIS);var p=1+(a-.5)*(a-.5)*4;t.translate_y2kzbl$(M.cos(r)*p,M.sin(r)*p,0),t.translate_y2kzbl$(0,0,10*a),t.rotate_ad55pp$(r*R.RAD_2_DEG,$.Companion.Z_AXIS),t.scale_y2kzbl$(.05,.05,1),t.sample_afatab$(n,0!==s),t.transform.pop()}},qu.prototype.makeTube_0=function(t,e){var n=new li;t.circleShape_k80pjh$(n,2.2,60),t.transform.push();for(var i=0;i<=1;i++){var o=1===i;t.transform.push(),t.color=e.getColor_y2kzbl$(0).toLinear(),t.scale_y2kzbl$(.97,.97,1),t.sample_afatab$(n,!1,o),t.scale_y2kzbl$(1/.97,1/.97,1),t.scale_y2kzbl$(.96,.96,1),t.sample_afatab$(n,void 0,o),t.scale_y2kzbl$(1/.96,1/.96,1),t.scale_y2kzbl$(.95,.95,1);for(var r=0;r<=20;r++){t.transform.push();var s=r/20,a=s*Xt.PI,l=1-.6*M.sin(a),p=s*Xt.PI,u=5-5*M.cos(p);t.color=e.getColor_y2kzbl$(s).toLinear(),t.translate_y2kzbl$(0,0,u),t.scale_y2kzbl$(l,l,1),t.sample_afatab$(n,void 0,o),t.transform.pop(),0===r&&t.fillTop_pvgy1j$(n)}t.translate_y2kzbl$(0,0,10),t.scale_y2kzbl$(1/.95,1/.95,1),t.scale_y2kzbl$(.96,.96,1),t.sample_afatab$(n,void 0,o),t.scale_y2kzbl$(1/.96,1/.96,1),t.scale_y2kzbl$(.97,.97,1),t.sample_afatab$(n,void 0,o),t.transform.pop(),t.translate_y2kzbl$(0,0,-.15),t.scale_y2kzbl$(1,1,1.03)}t.transform.pop();for(var c=0;c<=1;c++)t.color=e.getColor_y2kzbl$(c).toLinear(),t.transform.push(),t.translate_y2kzbl$(0,0,10.15*c-.15),t.scale_y2kzbl$(.97,.97,1),t.sample_afatab$(n,!1),t.scale_y2kzbl$(1/.97,1/.97,1),t.sample_afatab$(n),t.translate_y2kzbl$(0,0,.03),t.scale_y2kzbl$(1.02,1.02,1),t.sample_afatab$(n),t.translate_y2kzbl$(0,0,.09),t.sample_afatab$(n),t.translate_y2kzbl$(0,0,.03),t.scale_y2kzbl$(1/1.02,1/1.02,1),t.sample_afatab$(n),t.scale_y2kzbl$(.97,.97,1),t.sample_afatab$(n),t.transform.pop()},qu.$metadata$={kind:T,simpleName:"Vase",interfaces:[ge]},Object.defineProperty(Uu.prototype,"autoRun",{configurable:!0,get:function(){return null==this.autoRun_z6bycc$_0?s("autoRun"):this.autoRun_z6bycc$_0},set:function(t){this.autoRun_z6bycc$_0=t}}),Object.defineProperty(Uu.prototype,"facesValLbl",{configurable:!0,get:function(){return null==this.facesValLbl_1vvnvx$_0?s("facesValLbl"):this.facesValLbl_1vvnvx$_0},set:function(t){this.facesValLbl_1vvnvx$_0=t}}),Object.defineProperty(Uu.prototype,"vertsValLbl",{configurable:!0,get:function(){return null==this.vertsValLbl_bpoadb$_0?s("vertsValLbl"):this.vertsValLbl_bpoadb$_0},set:function(t){this.vertsValLbl_bpoadb$_0=t}}),Object.defineProperty(Uu.prototype,"timeValLbl",{configurable:!0,get:function(){return null==this.timeValLbl_itlx8a$_0?s("timeValLbl"):this.timeValLbl_itlx8a$_0},set:function(t){this.timeValLbl_itlx8a$_0=t}}),Vu.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Vu.prototype=Object.create(C.prototype),Vu.prototype.constructor=Vu,Vu.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.state_0=2,this.result_0=this.local$this$SimplificationDemo.loadModel_0(this.local$$receiver,Jr().modelBasePath+"/bunny.gltf.gz",1,new $(0,-3,0),this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:if(this.state_0=3,this.result_0=this.local$this$SimplificationDemo.loadModel_0(this.local$$receiver,Jr().modelBasePath+"/cow.gltf.gz",1,$.Companion.ZERO,this),this.result_0===z)return z;continue;case 3:if(this.state_0=4,this.result_0=this.local$this$SimplificationDemo.loadModel_0(this.local$$receiver,Jr().modelBasePath+"/teapot.gltf.gz",1,new $(0,-1.5,0),this),this.result_0===z)return z;continue;case 4:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Uu.prototype.lateInit_aemszp$=function(t){var e;t.assetMgr.launch_eln4bt$((e=this,function(t,n,i){var o=new Vu(e,t,this,n);return i?o:o.doResume(null)})),this.simplify()},Uu.prototype.setupMainScene_aemszp$=function(t){var e=new D(null);yn(e);var n=e.lighting.lights;return n.clear(),n.add_11rb$((new gt).setDirectional_czzhiu$(new $(-1,-1,1)).setColor_y83vuj$(y.Companion.MD_RED.mix_y83vuj$(y.Companion.WHITE,.25).toLinear(),2)),n.add_11rb$((new gt).setDirectional_czzhiu$(new $(1,-1,-1)).setColor_y83vuj$(y.Companion.MD_CYAN.mix_y83vuj$(y.Companion.WHITE,.25).toLinear(),2)),e.unaryPlus_uv0sim$(ce(void 0,Wu(this,t))),e},Uu.prototype.simplify=function(){var t=new yi,e=this.dispModel.geometry,n=e.isBatchUpdate;e.isBatchUpdate=!0,this.dispModel.geometry.clear(),this.dispModel.geometry.addGeometry_r7nl2o$(this.srcModel),this.heMesh=new bi(this.dispModel.geometry,new $i),this.simplifcationGrade<.999&&vi(this.heMesh,gi(this.simplifcationGrade));var i=this.modelWireframe.geometry,o=i.isBatchUpdate;i.isBatchUpdate=!0,this.modelWireframe.clear(),this.heMesh.generateWireframe_6olbr4$(this.modelWireframe,y.Companion.MD_LIME),i.hasChanged=!0,i.isBatchUpdate=o;var r=t.takeSecs();r>.5&&(this.autoRun.isEnabled=!1),this.facesValLbl.text=this.heMesh.faceCount.toString(),this.vertsValLbl.text=this.heMesh.vertCount.toString(),this.timeValLbl.text=xi(r,2)+" s",e.hasChanged=!0,e.isBatchUpdate=n},Gu.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[C]},Gu.prototype=Object.create(C.prototype),Gu.prototype.constructor=Gu,Gu.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:var t,n=new _(!0,!1);if(this.state_0=2,this.result_0=h(this.local$$receiver,this.local$name,n,void 0,this),this.result_0===z)return z;continue;case 1:throw this.exception_0;case 2:if(null!=(t=this.result_0)){var i,o=f(t.meshes.values).geometry;i=o.numVertices;for(var r=0;r<i;r++)o.vertexIt.index=r,o.vertexIt.position.scale_mx4ult$(this.local$scale).add_czzhiu$(this.local$offset);var s=Ci(this.local$name,He(wi(this.local$name,47)+1|0,zi(this.local$name,".gltf.gz")));this.$this.models.put_xwzc9p$(s,o);var a,l=ei.Log,p=si.DEBUG,u=e.getKClassFromExpression(this.local$$receiver).simpleName;p.level>=l.level.level&&l.printer(p,u,"loaded: "+this.local$name+", bounds: "+Ee(null!=(a=this.$this.models.get_11rb$(this.local$name))?a.bounds:null))}return;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},Uu.prototype.loadModel_0=function(t,e,n,i,o,r){var s=new Gu(this,t,e,n,i,o);return r?s:s.doResume(null)},Uu.prototype.makeCosGrid_0=function(){var t=new Ve(be([$e.Companion.POSITIONS,$e.Companion.NORMALS]));t.color=y.Companion.MD_RED;var e,n=new $n;return n.sizeX=10,n.sizeY=10,n.stepsX=30,n.stepsY=30,n.heightFun=(e=n,function(t,n){var i=10*(t/e.stepsX-.5),o=10*(n/e.stepsY-.5),r=i*i+o*o,s=M.sqrt(r);return 2*M.cos(s)}),t.grid_gtbnl3$(n),t.geometry},Uu.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,function(t){return t.section_yfmn31$("Model",Hu(e)),t.section_yfmn31$("Scene",Yu(e)),t.section_yfmn31$("Simplification",Ju(e)),a}));var e},Uu.$metadata$={kind:T,simpleName:"SimplificationDemo",interfaces:[ys]},Object.defineProperty(tc.prototype,"skySystem_0",{configurable:!0,get:function(){return null==this.skySystem_q5b8gb$_0?s("skySystem"):this.skySystem_q5b8gb$_0},set:function(t){this.skySystem_q5b8gb$_0=t}}),tc.prototype.setupMainScene_aemszp$=function(t){var e=new D(null),n=new Q;e.unaryPlus_uv0sim$(n);var i=new p(e,0);i.setDefaultDepthOffset_6taknv$(!0);var o,r,s=i,u=Ye(s);e.onUpdate.add_11rb$((o=n,r=s,function(t,e){return r.shadowBounds=o.bounds,a})),this.skySystem_0=new Si(e),this.skySystem_0.isAutoUpdateIblMaps=!0,this.skySystem_0.setupOffscreenPasses();var c,_=this.skySystem_0.envMaps;return e.lighting.singleLight_q9zcvo$((c=this,function(t){return c.skySystem_0.skyPass.syncLights.add_11rb$(t),a})),e.unaryPlus_uv0sim$(w.Skybox.cube_o7q6nm$(d(this.skySystem_0.skyPass.colorTexture))),this.trunkMesh=x(void 0,!0,ec(this,_,u,t)),this.leafMesh=x(void 0,void 0,nc(this,_,u)),n.unaryPlus_uv0sim$(this.makeTreeGroundGrid_0(10,u,_)),n.unaryPlus_uv0sim$(d(this.trunkMesh)),n.unaryPlus_uv0sim$(d(this.leafMesh)),e.unaryPlus_uv0sim$(l(e,void 0,ic(e,this,t))),e},tc.prototype.setupMenu_aemszp$=function(t){return sr(t,(e=this,function(t){return t.section_yfmn31$("Generator Settings",oc(e)),t.section_yfmn31$("Scene",rc(e)),t.section_yfmn31$("Light",sc(e)),a}));var e},ac.prototype.setup_llmhyc$=function(t){j.prototype.setup_llmhyc$.call(this,t),this.dependsOn_8ak6wm$([this.inputPos,this.inputAnim,this.inputStrength])},ac.prototype.generateCode_626509$=function(t){t.appendMain_61zpoe$("\n            float r = clamp(sqrt("+this.inputPos.ref3f_61zpoe$()+".x * "+this.inputPos.ref3f_61zpoe$()+".x + "+this.inputPos.ref3f_61zpoe$()+".z * "+this.inputPos.ref3f_61zpoe$()+".z) - 0.25, 0.0, 2.0) + \n                        clamp("+this.inputPos.ref3f_61zpoe$()+".z - 1.0, 0.0, 1.0);\n            float windTx = cos("+this.inputPos.ref3f_61zpoe$()+".x * 10.0 + "+this.inputPos.ref3f_61zpoe$()+".y * 2.0 + "+this.inputAnim.ref1f_61zpoe$()+") * r * 0.01 * "+this.inputStrength.ref1f_61zpoe$()+";\n            float windTz = sin("+this.inputPos.ref3f_61zpoe$()+".z * 10.0 - "+this.inputPos.ref3f_61zpoe$()+".y * 2.0 + "+this.inputAnim.ref1f_61zpoe$()+" * 1.1f) * r * 0.01 * "+this.inputStrength.ref1f_61zpoe$()+";\n            "+this.outputPos.declare()+" = "+this.inputPos.ref3f_61zpoe$()+" + vec3(windTx, 0.0, windTz);\n        ")},ac.$metadata$={kind:T,simpleName:"WindNode",interfaces:[j]},tc.prototype.treePbrModel_0=function(t){var n,i,o=_n.Companion.defaultPbrModel_2ufela$(t),r=new q(o);t:do{var s;for(n=Ct.ALL,s=o.stages.values.iterator();s.hasNext();){var a=s.next();if(0!=(a.stage.mask&n.mask)){var l,p,u=a.nodes;e:do{var c;for(c=u.iterator();c.hasNext();){var _=c.next();if(kt(_.name,"localPosInput")&&e.isType(_,Vt)){p=_;break e}}p=null}while(0);var h=null==(l=p)||e.isType(l,Vt)?l:et();if(null!=h){i=h;break t}}}i=null}while(0);var f=d(i),m=r.addNode_u9w9by$(new ac(o.vertexStageGraph));return m.inputPos=f.input,m.inputAnim=r.pushConstantNode1f_61zpoe$("windAnim").output,m.inputStrength=r.pushConstantNode1f_61zpoe$("windStrength").output,f.input=m.outputPos,o},tc.prototype.makeTreeGroundGrid_0=function(t,e,n){var i,o,r;return x(void 0,!0,(i=t/2|0,o=n,r=e,function(t){return t.generate_v2sixm$(pc(i)),t.shader=g(uc(o,r,t)),a}))},tc.$metadata$={kind:T,simpleName:"TreeDemo",interfaces:[ys]},Object.defineProperty(cc.prototype,"actualKillDistance",{configurable:!0,get:function(){return this.growDistance*this.killDistance}}),cc.prototype.seedTree=function(){this.populateAttractionPoints_0(),this.treeNodes_0.clear(),this.root_0=new dc(this),this.root_0.set_czzhiu$(this.baseBot);var t=this.treeNodes_0,e=this.root_0;t.add_11rb$(e);for(var n=this.baseTop.subtract_2gj7b4$(this.baseBot,Ke()).norm().scale_mx4ult$(this.growDistance),i=this.root_0;i.distance_czzhiu$(this.baseTop)>this.growDistance;){var o=new dc(this);o.set_czzhiu$(i).add_czzhiu$(n),i.addChild_15eqn9$(o),this.treeNodes_0.add_11rb$(o),i=o}},cc.prototype.generate_za3lpa$=function(t){void 0===t&&(t=1e3);var n,i={v:0};n=si.INFO;var o,r=Li();for(this.seedTree();o=i.v,i.v=o+1|0,o<t&&this.growSingleStep(););this.finishTree();var s=ei.Log,a=e.getKClassFromExpression(this).simpleName;n.level>=s.level.level&&s.printer(n,a,"Generation done, took "+i.v+" iterations, "+this.treeNodes_0.size+" nodes in "+xi(Li()-r,3)+" ms")},cc.prototype.growSingleStep=function(){var t,e,n,i,o,r,s,a;for(a=this.attractionPoints_0.iterator();a.hasNext();)a.next().nearestNode=null;for(t=this.treeNodes_0.iterator();t.hasNext();){var l=t.next();if(l.influencingPts.clear(),!l.isFinished)for(this.attractionPointTrav_0.setup_2qa7tb$(l,this.radiusOfInfluence).traverse_7efza$(this.attractionPointsTree_0),e=this.attractionPointTrav_0.result.iterator();e.hasNext();){var p=e.next();p.isOpen&&p.checkNearest_15eqn9$(l)}}for(n=this.attractionPoints_0.iterator();n.hasNext();){var u=n.next();u.isOpen&&null!=(o=null!=(i=u.nearestNode)?i.influencingPts:null)&&o.add_11rb$(u)}var c=E(),_=!1;for(r=this.treeNodes_0.iterator();r.hasNext();){var h=r.next();if(h.influencingPts.isEmpty())h.isFinished=!0;else{var d=Ke();for(s=h.influencingPts.iterator();s.hasNext();){var f=s.next();d.plusAssign_czzhiu$(f.subtract_2gj7b4$(h,Ke()).norm())}d.norm().scale_mx4ult$(this.growDistance);var m=new dc(this);if(m.set_czzhiu$(h).add_czzhiu$(d),!h.containsChild_15eqn9$(m)){var y;for(h.addChild_15eqn9$(m),c.add_11rb$(m),this.attractionPointTrav_0.setup_2qa7tb$(m,this.actualKillDistance).traverse_7efza$(this.attractionPointsTree_0),y=this.attractionPointTrav_0.result.iterator();y.hasNext();)y.next().isOpen=!1;_=!0}}}return this.treeNodes_0.addAll_brywnq$(c),_},cc.prototype.finishTree=function(){var t;this.root_0.forEachTopDown_ttqnr0$((t=this,function(e){return null!=e.parent&&(e.plusAssign_czzhiu$(ct(d(e.parent)).subtract_czzhiu$(e).norm().scale_mx4ult$(.5*t.growDistance)),e.x=e.x+t.random.randomF_dleff0$(-.01,.01),e.y=e.y+t.random.randomF_dleff0$(-.01,.01),e.z=e.z+t.random.randomF_dleff0$(-.01,.01)),e.computeTrunkRadiusAndDepth(),e.computeCircumPoints(),a})),this.root_0.forEachBottomUp_ttqnr0$(_c)},cc.prototype.buildTrunkMesh_84rojv$=function(t){var e;for(e=this.treeNodes_0.iterator();e.hasNext();)e.next().buildTrunkMesh_84rojv$(t);t.geometry.removeDegeneratedTriangles()},cc.prototype.buildLeafMesh_84rojv$=function(t){var e;for(e=this.treeNodes_0.iterator();e.hasNext();)e.next().buildLeafMesh_84rojv$(t);var n,i=t.geometry;n=i.numVertices;for(var o=0;o<n;o++){i.vertexIt.index=o;var r=i.vertexIt;null!=this.primaryLightDir?r.normal.dot_czzhiu$(this.primaryLightDir)>0&&r.normal.scale_mx4ult$(-1):r.normal.y<0&&r.normal.scale_mx4ult$(-1)}t.geometry.removeDegeneratedTriangles()},cc.prototype.populateAttractionPoints_0=function(){var t;for(this.attractionPoints_0.clear(),t=this.distribution.nextPoints_za3lpa$(this.numberOfAttractionPoints).iterator();t.hasNext();){var e=t.next(),n=this.attractionPoints_0,i=new hc(e);n.add_11rb$(i)}this.attractionPointsTree_0=ji(this.attractionPoints_0)},Object.defineProperty(hc.prototype,"nearestNode",{configurable:!0,get:function(){return this.nearestNode_3mwxa2$_0},set:function(t){this.nearestNode_3mwxa2$_0=t,null==t&&(this.nearestNodeDist=Ni.MAX_VALUE)}}),Object.defineProperty(hc.prototype,"nearestNodeDist",{configurable:!0,get:function(){return this.nearestNodeDist_dewf4c$_0},set:function(t){this.nearestNodeDist_dewf4c$_0=t}}),hc.prototype.checkNearest_15eqn9$=function(t){var e=this.distance_czzhiu$(t);e<this.nearestNodeDist&&(this.nearestNode=t,this.nearestNodeDist=e)},hc.$metadata$={kind:T,simpleName:"AttractionPoint",interfaces:[bt]},dc.prototype.addChild_15eqn9$=function(t){this.children.add_11rb$(t),t.parent=this},dc.prototype.containsChild_15eqn9$=function(t){var e;for(e=this.children.iterator();e.hasNext();)if(e.next().isFuzzyEqual_2qa7tb$(t))return!0;return!1},dc.prototype.forEachBottomUp_ttqnr0$=function(t){var e;for(t(this),e=this.children.iterator();e.hasNext();)e.next().forEachBottomUp_ttqnr0$(t)},dc.prototype.forEachTopDown_ttqnr0$=function(t){var e;for(e=this.children.iterator();e.hasNext();)e.next().forEachTopDown_ttqnr0$(t);t(this)},dc.prototype.computeTrunkRadiusAndDepth=function(){var t,n,i;if(this.children.isEmpty())this.radius=.01,this.branchDepth=0;else{var o,r=0;for(o=this.children.iterator();o.hasNext();){var s=o.next().radius;r+=M.pow(s,2.25)}if(this.radius=M.pow(r,1/2.25),1===this.children.size)i=this.children.get_za3lpa$(0).branchDepth;else{var a,l=this.children;t:do{var p=l.iterator();if(!p.hasNext()){a=null;break t}var u=p.next();if(!p.hasNext()){a=u;break t}var c=u.branchDepth;do{var _=p.next(),h=_.branchDepth;e.compareTo(c,h)<0&&(u=_,c=h)}while(p.hasNext());a=u}while(0);i=(null!=(n=null!=(t=a)?t.branchDepth:null)?n:0)+1|0}this.branchDepth=i}null==this.parent&&(this.radius*=3,this.children.get_za3lpa$(0).radius=1.5*this.children.get_za3lpa$(0).radius,this.children.get_za3lpa$(0).computeCircumPoints())},dc.prototype.computeCircumPoints=function(){this.circumPts.clear();var t=null!=this.parent?this.subtract_2gj7b4$(d(this.parent),Ke()).norm():this.children.get_za3lpa$(0).subtract_2gj7b4$(this,Ke()).norm(),e=ct(t).scale_mx4ult$(-t.times_czzhiu$($.Companion.Z_AXIS)).add_czzhiu$($.Companion.Z_AXIS).norm().scale_mx4ult$(this.radius),n=e.z,i=e.x;e.rotate_ad55pp$(-M.atan2(n,i),t);for(var o=0;o<8;o++){var r=ct(e).add_czzhiu$(this);this.circumPts.add_11rb$(ti(r)),e.rotate_ad55pp$(45,t)}},dc.prototype.buildTrunkMesh_84rojv$=function(t){var e=(this.radius>.05?2:1)*this.uScale,n=E();if(null!=this.parent)if(this.children.isEmpty()){var i,o,r,s=t.geometry;s.checkBufferSizes_za3lpa$(),i=s.vertexSizeF;for(var a=1;a<=i;a++)s.dataF.plusAssign_mx4ult$(0);o=s.vertexSizeI;for(var l=1;l<=o;l++)s.dataI.plusAssign_za3lpa$(0);s.vertexIt.index=(r=s.numVertices,s.numVertices=r+1|0,r);var p=s.vertexIt;p.position.set_czzhiu$(this),this.subtract_2gj7b4$(d(this.parent),p.normal).norm(),p.texCoord.set_dleff0$(0,this.texV*this.vScale),s.bounds.add_czzhiu$(s.vertexIt.position),s.hasChanged=!0;for(var u=s.numVertices-1|0,c=0;c<=8;c++){var _,h,f,m=t.geometry;m.checkBufferSizes_za3lpa$(),_=m.vertexSizeF;for(var y=1;y<=_;y++)m.dataF.plusAssign_mx4ult$(0);h=m.vertexSizeI;for(var $=1;$<=h;$++)m.dataI.plusAssign_za3lpa$(0);m.vertexIt.index=(f=m.numVertices,m.numVertices=f+1|0,f);var b=m.vertexIt;b.position.set_czzhiu$(d(this.parent).circumPts.get_za3lpa$(c%8)),d(this.parent).circumPts.get_za3lpa$(c%8).subtract_2gj7b4$(d(this.parent),b.normal).norm(),b.texCoord.set_dleff0$(c/8*e,d(this.parent).texV*this.vScale),m.bounds.add_czzhiu$(m.vertexIt.position),m.hasChanged=!0;var g=m.numVertices-1|0;n.add_11rb$(g)}for(var v=0;v<8;v++)t.geometry.addTriIndices_qt1dr2$(u,n.get_za3lpa$(v),n.get_za3lpa$(v+1|0))}else{for(var x=0;x<=8;x++){var w,z,C,S=t.geometry;S.checkBufferSizes_za3lpa$(),w=S.vertexSizeF;for(var k=1;k<=w;k++)S.dataF.plusAssign_mx4ult$(0);z=S.vertexSizeI;for(var L=1;L<=z;L++)S.dataI.plusAssign_za3lpa$(0);S.vertexIt.index=(C=S.numVertices,S.numVertices=C+1|0,C);var j=S.vertexIt;j.position.set_czzhiu$(this.circumPts.get_za3lpa$(x%8)),this.circumPts.get_za3lpa$(x%8).subtract_2gj7b4$(this,j.normal).norm(),j.texCoord.set_dleff0$(x/8*e,this.texV*this.vScale),S.bounds.add_czzhiu$(S.vertexIt.position),S.hasChanged=!0;var N=S.numVertices-1|0;n.add_11rb$(N);var P,T,O,M=t.geometry;M.checkBufferSizes_za3lpa$(),P=M.vertexSizeF;for(var R=1;R<=P;R++)M.dataF.plusAssign_mx4ult$(0);T=M.vertexSizeI;for(var I=1;I<=T;I++)M.dataI.plusAssign_za3lpa$(0);M.vertexIt.index=(O=M.numVertices,M.numVertices=O+1|0,O);var A=M.vertexIt;A.position.set_czzhiu$(d(this.parent).circumPts.get_za3lpa$(x%8)),d(this.parent).circumPts.get_za3lpa$(x%8).subtract_2gj7b4$(d(this.parent),A.normal).norm(),A.texCoord.set_dleff0$(x/8*e,d(this.parent).texV*this.vScale),M.bounds.add_czzhiu$(M.vertexIt.position),M.hasChanged=!0;var D=M.numVertices-1|0;n.add_11rb$(D)}for(var B=0;B<8;B++)t.geometry.addTriIndices_qt1dr2$(n.get_za3lpa$(2*B|0),n.get_za3lpa$(1+(2*B|0)|0),n.get_za3lpa$(2+(2*B|0)|0)),t.geometry.addTriIndices_qt1dr2$(n.get_za3lpa$(1+(2*B|0)|0),n.get_za3lpa$(3+(2*B|0)|0),n.get_za3lpa$(2+(2*B|0)|0))}},dc.prototype.buildLeafMesh_84rojv$=function(t){if(this.branchDepth<=1&&null!=this.parent){var e=this.subtract_2gj7b4$(d(this.parent),Ke()),n=e.length();e.norm();for(var i=1;i<=20;i++){this.$outer,t.transform.push();var o,r=this.$outer,s=ct(this.circumPts.get_za3lpa$(0)).subtract_czzhiu$(this).norm().scale_mx4ult$(this.radius+r.random.randomF_dleff0$(0,.15));s.rotate_ad55pp$(r.random.randomF_dleff0$(0,360),e);var a=ct(e).scale_mx4ult$(r.random.randomF_dleff0$(0,n)).add_czzhiu$(s).add_czzhiu$(this);t.translate_czzhiu$(a);var l=0;do{e.dot_czzhiu$($.Companion.X_AXIS)<e.dot_czzhiu$($.Companion.Z_AXIS)?t.rotate_ad55pp$(r.random.randomF_dleff0$(0,360),$.Companion.X_AXIS):t.rotate_ad55pp$(r.random.randomF_dleff0$(0,360),$.Companion.Z_AXIS),t.rotate_ad55pp$(r.random.randomF_dleff0$(0,360),e);var p=null!=r.primaryLightDir;if(p){var u=t.transform.transform_w1lst9$(ct($.Companion.NEG_Z_AXIS),0).dot_czzhiu$(r.primaryLightDir);p=M.abs(u)<.1}}while(p&&(l=(o=l)+1|0,o<3));var c=t.vertex_n440gp$(new $(0,-.022,0),$.Companion.NEG_Z_AXIS,new Pt(0,0)),_=t.vertex_n440gp$(new $(0,.022,0),$.Companion.NEG_Z_AXIS,new Pt(0,1)),h=t.vertex_n440gp$(new $(.1,.022,0),$.Companion.NEG_Z_AXIS,new Pt(1,1)),f=t.vertex_n440gp$(new $(.1,-.022,0),$.Companion.NEG_Z_AXIS,new Pt(1,0));t.geometry.addIndices_pmhfmb$(new Int32Array([c,_,h,c,h,f])),t.transform.pop()}}},dc.$metadata$={kind:T,simpleName:"TreeNode",interfaces:[bt]},cc.$metadata$={kind:T,simpleName:"TreeGenerator",interfaces:[]},fc.prototype.seed_0=function(){this.seedPts_0.clear();for(var t=1;t<=10;t++){var e=this.seedPts_0,n=this.nextPointInBounds_0();e.add_11rb$(n)}},fc.prototype.drawBorders_nl2my4$=function(t){var e;e=this.borders_0;for(var n=0;n!==e.size;++n){var i,o=n/this.borders_0.size*2*Xt.PI,r=this.borders_0.get_za3lpa$(n);i=r.size;for(var s=1;s<i;s++){var a=new $(-M.cos(o)*r.get_za3lpa$(s-1|0).x,r.get_za3lpa$(s-1|0).y,-M.sin(o)*r.get_za3lpa$(s-1|0).x),l=new $(-M.cos(o)*r.get_za3lpa$(s).x,r.get_za3lpa$(s).y,-M.sin(o)*r.get_za3lpa$(s).x);t.addLine_b8opkg$(a,y.Companion.ORANGE,l,y.Companion.ORANGE)}}},fc.prototype.nextPoints_za3lpa$=function(t){return this.seed_0(),Ti.prototype.nextPoints_za3lpa$.call(this,t)},fc.prototype.nextPoint=function(){var t={v:null};t:for(;;){t.v=this.nextPointInBounds_0();var n,i=this.seedPts_0;e:do{var o=i.iterator();if(!o.hasNext()){n=null;break e}var r=o.next();if(!o.hasNext()){n=r;break e}var s=r.sqrDistance_czzhiu$(t.v);do{var a=o.next(),l=a.sqrDistance_czzhiu$(t.v);e.compareTo(s,l)>0&&(r=a,s=l)}while(o.hasNext());n=r}while(0);if(d(n).distance_czzhiu$(t.v)<this.random_0.randomF())break t}return t.v},fc.prototype.nextPointInBounds_0=function(){for(var t=.5*this.width,e=.5*this.height;;){this.tmpPt1_0.set_y2kzbl$(this.random_0.randomF_dleff0$(-t,t),this.centerY+this.random_0.randomF_dleff0$(-e,e),this.random_0.randomF_dleff0$(-t,t));var n=this.tmpPt1_0.x*this.tmpPt1_0.x+this.tmpPt1_0.z*this.tmpPt1_0.z,i=M.sqrt(n),o=this.tmpPt1_0.y,r=this.tmpPt1_0.z,s=this.tmpPt1_0.x,a=M.atan2(r,s)/(2*Xt.PI)+.5,l=(a<0?0:a>1?1:a)*this.borders_0.size,p=$t(l),u=this.borders_0.size-1|0,c=M.min(p,u),_=(c+1|0)%this.borders_0.size,h=l-c,d=1-h;if(this.nearestEdge_0(i,o,this.borders_0.get_za3lpa$(c),this.e00_0,this.e01_0),this.nearestEdge_0(i,o,this.borders_0.get_za3lpa$(_),this.e10_0,this.e11_0),this.e00_0.scale_mx4ult$(d).add_czzhjp$(this.e10_0.scale_mx4ult$(h)),this.e01_0.scale_mx4ult$(d).add_czzhjp$(this.e11_0.scale_mx4ult$(h)),(i-this.e00_0.x)*(this.e01_0.y-this.e00_0.y)-(o-this.e00_0.y)*(this.e01_0.x-this.e00_0.x)>0)return ti(this.tmpPt1_0)}},fc.prototype.nearestEdge_0=function(t,e,n,i,o){var r,s=Ni.MAX_VALUE,a=0;r=n.size-1|0;for(var l=0;l<r;l++){var p=this.edgeDist_0(t,e,i.set_czzhjp$(n.get_za3lpa$(l)),o.set_czzhjp$(n.get_za3lpa$(l+1|0)));p<s&&(s=p,a=l)}i.set_czzhjp$(n.get_za3lpa$(a)),o.set_czzhjp$(n.get_za3lpa$(a+1|0))},fc.prototype.edgeDist_0=function(t,e,n,i){var o;i.subtract_q2ruao$(n,this.tmpPt2_0);var r=(t*this.tmpPt2_0.x+e*this.tmpPt2_0.y-n.times_czzhjp$(this.tmpPt2_0))/this.tmpPt2_0.times_czzhjp$(this.tmpPt2_0);if(r<0){var s=n.x-t,a=n.y-e,l=s*s+a*a;o=M.sqrt(l)}else if(r>1){var p=i.x-t,u=i.y-e,c=p*p+u*u;o=M.sqrt(c)}else{this.tmpPt2_0.scale_mx4ult$(r).add_czzhjp$(n);var _=this.tmpPt2_0.x-t,h=this.tmpPt2_0.y-e,d=_*_+h*h;o=M.sqrt(d)}return o},fc.$metadata$={kind:T,simpleName:"TreeTopPointDistribution",interfaces:[Ti]},r["kool-kool-core"]=n,Object.defineProperty(Ii,"Companion",{get:Ki});var $c=t.de||(t.de={}),bc=$c.fabmax||($c.fabmax={}),gc=bc.kool||(bc.kool={}),vc=gc.demo||(gc.demo={});vc.AoDemo=Ii,Object.defineProperty(Yi,"Companion",{get:ho});var xc=vc.atmosphere||(vc.atmosphere={});xc.AtmosphereDemo=Yi,Object.defineProperty(fo,"Companion",{get:$o}),xc.AtmosphericScatteringShader=fo,xc.EarthCamTransform=zo,Object.defineProperty(Co,"Companion",{get:Lo}),xc.EarthShader=Co,xc.HeightMapNode=No,xc.SpherePosNode=Po,xc.EarthRoughnessNode=To,xc.EarthOceanNode=Oo,Object.defineProperty(Uo,"Companion",{get:Go}),Eo.StarShader=Uo,xc.SkyPass=Eo,Object.defineProperty(Zo,"Companion",{get:rr}),xc.SphereGridSystem=Zo,vc.controlUi_egq1ks$=sr,vc.ControlUiBuilder=ar,Object.defineProperty(br,"Companion",{get:xr}),vc.UiImage=br,Object.defineProperty(zr,"Companion",{get:qr}),vc.DeferredDemo=zr,vc.demo_pk4zx3$=Ur,Object.defineProperty(Vr,"Companion",{get:Jr}),vc.Demo=Vr,vc.DemoEntry=ds,vc.Cycler_init_i5x0yv$=ms,vc.Cycler=fs,vc.DemoScene=ys,vc.GltfDemo=$s,vc.HelloWorldDemo=Ts,vc.HelloGltfDemo=Os,vc.helloWorldScene=As,vc.helloGltfScene_aemszp$=Vs,vc.InstanceDemo=Ws,Object.defineProperty(ea,"Companion",{get:ma}),vc.MultiLightDemo=ea;var wc=vc.pbr||(vc.pbr={});wc.ColorGridContent=ya,va.PbrContent=Ea,va.SphereProto=Ma,Object.defineProperty(va,"Companion",{get:Ua}),wc.PbrDemo=va,Va.MaterialMaps=Za,Object.defineProperty(Va,"Companion",{get:hp}),wc.PbrMaterialContent=Va,Object.defineProperty(dp,"Companion",{get:xp}),wc.RoughnesMetalGridContent=dp;var zc=vc.physics||(vc.physics={});zc.CollisionDemo=wp,zc.ConstraintsDemo=ru,Object.defineProperty(zc,"GearChainMeshGen",{get:Cu}),Object.defineProperty(Su,"Companion",{get:Tu});var Cc=vc.procedural||(vc.procedural={});return Cc.Glas=Su,Cc.ProceduralDemo=Ou,Cc.Roses=Du,Cc.Table=Fu,Cc.Vase=qu,vc.SimplificationDemo=Uu,vc.TreeDemo=tc,vc.TreeGenerator=cc,vc.TreeTopPointDistribution=fc,t.main=mc,t.getParams=yc,mc(),t})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){var i,o,r;o=[e,n(1),n(6)],void 0===(r="function"==typeof(i=function(t,e,n){"use strict";var i=t.$$importsForInline$$||(t.$$importsForInline$$={}),o=e.Kind.OBJECT,r=e.kotlin.text.StringBuilder_init,s=e.Kind.CLASS,a=n.kotlinx.serialization.StringFormat,l=e.defineInlineFunction,p=e.wrapFunction,u=e.equals,c=e.unboxChar,_=n.kotlinx.serialization.modules,h=e.kotlin.IllegalStateException_init_pdl1vj$,d=e.kotlin.IllegalArgumentException_init_pdl1vj$,f=e.kotlin.text.iterator_gw00vp$,m=e.toBoxedChar,y=(n.kotlinx.serialization.serializerOrNull_1yb8b7$,n.kotlinx.serialization.KSerializer),$=e.throwCCE,b=e.toString,g=n.kotlinx.serialization.SerializationException_init_pdl1vj$,v=n.kotlinx.serialization.descriptors.PolymorphicKind,x=n.kotlinx.serialization.descriptors.buildSerialDescriptor_2yu4m$,w=e.Kind.INTERFACE,z=n.kotlinx.serialization.encoding.Decoder,C=n.kotlinx.serialization.encoding.CompositeDecoder,S=e.hashCode,k=e.kotlin.collections.joinToString_fmv235$,L=e.kotlin.collections.Map,j=e.kotlin.collections.List,N=e.kotlin.text.toInt_pdl1vz$,P=(e.kotlin.text.toIntOrNull_pdl1vz$,e.kotlin.text.toLong_pdl1vz$),T=e.kotlin.text.toLongOrNull_pdl1vz$,O=e.kotlin.text.toDouble_pdl1vz$,E=e.kotlin.text.toDoubleOrNull_pdl1vz$,M=(e.kotlin.Annotation,e.kotlin.collections.LinkedHashMap_init_q3lmfv$),R=e.kotlin.collections.ArrayList_init_287e2$,I=e.kotlin.Unit,A=n.kotlinx.serialization.descriptors.PrimitiveKind,D=n.kotlinx.serialization.descriptors.SerialKind,B=n.kotlinx.serialization.descriptors.PrimitiveSerialDescriptor_xytc2a$,F=e.kotlin.collections.HashMap,q=e.getKClass,U=e.kotlin.reflect.js.internal.PrimitiveClasses.stringClass,V=e.createKType,W=e.createInvariantKTypeProjection,G=n.kotlinx.serialization.descriptors.SerialDescriptor,H=e.kotlin.js.internal.StringCompanionObject,X=n.kotlinx.serialization.builtins.serializer_6eet4j$,K=n.kotlinx.serialization.builtins.MapSerializer_2yqygg$,Y=n.kotlinx.serialization.builtins.ListSerializer_swdriu$,Z=e.kotlin.lazy_klfg04$,J=n.kotlinx.serialization.serializer_saj79j$,Q=n.kotlinx.serialization.encoding.Encoder,tt=n.kotlinx.serialization.encoding.CompositeEncoder,et=n.kotlinx.serialization.SerializationException,nt=e.kotlin.ranges.coerceAtLeast_dqglrj$,it=e.kotlin.ranges.coerceAtMost_dqglrj$,ot=e.toChar,rt=e.kotlin.text.concatToString_wlitf7$,st=e.kotlin.collections.copyOf_gtcw5h$,at=e.kotlin.collections.last_2p1efm$,lt=e.kotlin.ranges.CharRange,pt=n.kotlinx.serialization.internal.AbstractPolymorphicSerializer,ut=Object,ct=n.kotlinx.serialization.findPolymorphicSerializer_dz33bw$,_t=n.kotlinx.serialization.SealedClassSerializer,ht=n.kotlinx.serialization.internal.jsonCachedSerialNames_583jlf$,dt=n.kotlinx.serialization.DeserializationStrategy,ft=n.kotlinx.serialization.descriptors.StructureKind,mt=n.kotlinx.serialization.modules.SerializersModuleCollector,yt=e.kotlin.text.toByte_pdl1vz$,$t=e.kotlin.text.toShort_pdl1vz$,bt=e.kotlin.isFinite_81szk$,gt=e.kotlin.isFinite_yrwdxr$,vt=e.kotlin.text.single_gw00vp$,xt=Error,wt=n.kotlinx.serialization.encoding.AbstractDecoder,zt=n.kotlinx.serialization.encoding.AbstractEncoder,Ct=n.kotlinx.serialization.SerializationStrategy,St=e.kotlin.text.equals_igcy3c$,kt=e.toByte,Lt=e.toShort,jt=n.kotlinx.serialization.internal.NamedValueDecoder,Nt=e.kotlin.collections.getValue_t9ocha$,Pt=e.kotlin.collections.toList_7wnvza$,Tt=e.throwUPAE,Ot=n.kotlinx.serialization.internal.NamedValueEncoder,Et=e.kotlin.Enum,Mt=e.throwISE,Rt=new e.Long(-1,2097151);function It(t){qt(),this.configuration_8be2vx$=t}function At(){Ft=this,It.call(this,new En)}e.kotlin.text.toByteOrNull_pdl1vz$,e.kotlin.text.toShortOrNull_pdl1vz$,e.kotlin.text.toBoolean_5cw0du$,Math,e.kotlin.math.abs_s8cxhz$,At.prototype=Object.create(It.prototype),At.prototype.constructor=At,Vt.prototype=Object.create(It.prototype),Vt.prototype.constructor=Vt,Yt.prototype=Object.create(Gt.prototype),Yt.prototype.constructor=Yt,ie.prototype=Object.create(Yt.prototype),ie.prototype.constructor=ie,oe.prototype=Object.create(Yt.prototype),oe.prototype.constructor=oe,ae.prototype=Object.create(Gt.prototype),ae.prototype.constructor=ae,_e.prototype=Object.create(Gt.prototype),_e.prototype.constructor=_e,Mn.prototype=Object.create(et.prototype),Mn.prototype.constructor=Mn,Rn.prototype=Object.create(Mn.prototype),Rn.prototype.constructor=Rn,An.prototype=Object.create(Mn.prototype),An.prototype.constructor=An,hi.prototype=Object.create(wt.prototype),hi.prototype.constructor=hi,di.prototype=Object.create(zt.prototype),di.prototype.constructor=di,wi.prototype=Object.create(jt.prototype),wi.prototype.constructor=wi,zi.prototype=Object.create(wi.prototype),zi.prototype.constructor=zi,Ci.prototype=Object.create(wi.prototype),Ci.prototype.constructor=Ci,Si.prototype=Object.create(Ci.prototype),Si.prototype.constructor=Si,ki.prototype=Object.create(wi.prototype),ki.prototype.constructor=ki,Ni.prototype=Object.create(Ot.prototype),Ni.prototype.constructor=Ni,Pi.prototype=Object.create(Ni.prototype),Pi.prototype.constructor=Pi,Ti.prototype=Object.create(Ni.prototype),Ti.prototype.constructor=Ti,Oi.prototype=Object.create(Ti.prototype),Oi.prototype.constructor=Oi,Ei.prototype=Object.create(Ni.prototype),Ei.prototype.constructor=Ei,Mi.prototype=Object.create(Et.prototype),Mi.prototype.constructor=Mi,Object.defineProperty(It.prototype,"serializersModule",{configurable:!0,get:function(){return this.configuration_8be2vx$.serializersModule}}),At.$metadata$={kind:o,simpleName:"Default",interfaces:[It]};var Dt,Bt,Ft=null;function qt(){return null===Ft&&new At,Ft}function Ut(t){this.encodeDefaults=t.encodeDefaults,this.ignoreUnknownKeys=t.ignoreUnknownKeys,this.isLenient=t.isLenient,this.allowStructuredMapKeys=t.allowStructuredMapKeys,this.prettyPrint=t.prettyPrint,this.prettyPrintIndent=t.prettyPrintIndent,this.coerceInputValues=t.coerceInputValues,this.useArrayPolymorphism=t.useArrayPolymorphism,this.classDiscriminator=t.classDiscriminator,this.allowSpecialFloatingPointValues=t.allowSpecialFloatingPointValues,this.serializersModule=t.serializersModule}function Vt(t){It.call(this,t),this.validateConfiguration_0()}function Wt(){}function Gt(){Kt()}function Ht(){Xt=this}It.prototype.encodeToString_tf03ej$=function(t,n){var i=r();return mi(i,this,Ii(),e.newArray(Fi().length,null)).encodeSerializableValue_tf03ej$(t,n),i.toString()},It.prototype.decodeFromString_awif5v$=function(t,e){var n=new li(e),i=new hi(this,Ii(),n).decodeSerializableValue_w63s0f$(t);if(!n.isDone)throw h(("Reader has not consumed the whole input: "+n).toString());return i},It.prototype.encodeToJsonElement_tf03ej$=function(t,e){return ji(this,e,t)},It.prototype.decodeFromJsonElement_htt2tq$=function(t,e){return vi(this,e,t)},It.prototype.parseToJsonElement_61zpoe$=function(t){return this.decodeFromString_awif5v$(Ee(),t)},It.$metadata$={kind:s,simpleName:"Json",interfaces:[a]},Ut.prototype.build_8be2vx$=function(){if(this.useArrayPolymorphism&&!u(this.classDiscriminator,Bt))throw d("Class discriminator should not be specified when array polymorphism is specified".toString());if(this.prettyPrint){if(!u(this.prettyPrintIndent,Dt)){var t,e=this.prettyPrintIndent;t:do{var n;for(n=f(e);n.hasNext();){var i=c(n.next()),o=m(i);if(32!==c(o)&&9!==c(o)&&13!==c(o)&&10!==c(o)){t=!1;break t}}t=!0}while(0);if(!t){var r="Only whitespace, tab, newline and carriage return are allowed as pretty print symbols. Had "+this.prettyPrintIndent;throw d(r.toString())}}}else if(!u(this.prettyPrintIndent,Dt))throw d("Indent should not be specified when default printing mode is used".toString());return new En(this.encodeDefaults,this.ignoreUnknownKeys,this.isLenient,this.allowStructuredMapKeys,this.prettyPrint,this.prettyPrintIndent,this.coerceInputValues,this.useArrayPolymorphism,this.classDiscriminator,this.allowSpecialFloatingPointValues,this.serializersModule)},Ut.$metadata$={kind:s,simpleName:"JsonBuilder",interfaces:[]},Vt.prototype.validateConfiguration_0=function(){if(!u(this.serializersModule,_.EmptySerializersModule)){var t=new _i(this.configuration_8be2vx$.useArrayPolymorphism,this.configuration_8be2vx$.classDiscriminator);this.serializersModule.dumpTo_ukvgvw$(t)}},Vt.$metadata$={kind:s,simpleName:"JsonImpl",interfaces:[It]},Wt.$metadata$={kind:w,simpleName:"JsonDecoder",interfaces:[C,z]},Ht.prototype.serializer=function(){return Ee()},Ht.$metadata$={kind:o,simpleName:"Companion",interfaces:[]};var Xt=null;function Kt(){return null===Xt&&new Ht,Xt}function Yt(){Qt(),Gt.call(this)}function Zt(){Jt=this}Gt.$metadata$={kind:s,simpleName:"JsonElement",interfaces:[]},Yt.prototype.toString=function(){return this.content},Zt.prototype.serializer=function(){return Ie()},Zt.$metadata$={kind:o,simpleName:"Companion",interfaces:[]};var Jt=null;function Qt(){return null===Jt&&new Zt,Jt}function te(t){return null==t?se():new ie(t,!1)}function ee(t){return null==t?se():new ie(t,!1)}function ne(t){return null==t?se():new ie(t,!0)}function ie(t,e){Yt.call(this),this.isString_jhh1on$_0=e,this.content_prrjtz$_0=t.toString()}function oe(){re=this,Yt.call(this),this.content_w1vkof$_0="null"}Yt.$metadata$={kind:s,simpleName:"JsonPrimitive",interfaces:[Gt]},Object.defineProperty(ie.prototype,"isString",{get:function(){return this.isString_jhh1on$_0}}),Object.defineProperty(ie.prototype,"content",{configurable:!0,get:function(){return this.content_prrjtz$_0}}),ie.prototype.toString=function(){var t;if(this.isString){var e=r();$i(e,this.content),t=e.toString()}else t=this.content;return t},ie.prototype.equals=function(t){var n;return this===t||!(null==t||null==(n=e.getKClassFromExpression(this))||!n.equals(e.getKClassFromExpression(t)))&&(e.isType(t,ie)||$(),this.isString===t.isString&&!!u(this.content,t.content))},ie.prototype.hashCode=function(){var t=S(this.isString);return t=(31*t|0)+S(this.content)|0},ie.$metadata$={kind:s,simpleName:"JsonLiteral",interfaces:[Yt]},Object.defineProperty(oe.prototype,"isString",{configurable:!0,get:function(){return!1}}),Object.defineProperty(oe.prototype,"content",{configurable:!0,get:function(){return this.content_w1vkof$_0}}),oe.$metadata$={kind:o,simpleName:"JsonNull",interfaces:[Yt]};var re=null;function se(){return null===re&&new oe,re}function ae(t){ce(),Gt.call(this),this.content_0=t}function le(t){return'"'+t.key+'":'+t.value}function pe(){ue=this}ae.prototype.equals=function(t){return u(this.content_0,t)},ae.prototype.hashCode=function(){return S(this.content_0)},ae.prototype.toString=function(){return k(this.content_0.entries,",","{","}",void 0,void 0,le)},pe.prototype.serializer=function(){return Xe()},pe.$metadata$={kind:o,simpleName:"Companion",interfaces:[]};var ue=null;function ce(){return null===ue&&new pe,ue}function _e(t){fe(),Gt.call(this),this.content_0=t}function he(){de=this}Object.defineProperty(ae.prototype,"entries",{get:function(){return this.content_0.entries}}),Object.defineProperty(ae.prototype,"keys",{get:function(){return this.content_0.keys}}),Object.defineProperty(ae.prototype,"size",{get:function(){return this.content_0.size}}),Object.defineProperty(ae.prototype,"values",{get:function(){return this.content_0.values}}),ae.prototype.containsKey_11rb$=function(t){return this.content_0.containsKey_11rb$(t)},ae.prototype.containsValue_11rc$=function(t){return this.content_0.containsValue_11rc$(t)},ae.prototype.get_11rb$=function(t){return this.content_0.get_11rb$(t)},ae.prototype.isEmpty=function(){return this.content_0.isEmpty()},ae.$metadata$={kind:s,simpleName:"JsonObject",interfaces:[L,Gt]},_e.prototype.equals=function(t){return u(this.content_0,t)},_e.prototype.hashCode=function(){return S(this.content_0)},_e.prototype.toString=function(){return k(this.content_0,",","[","]")},he.prototype.serializer=function(){return Sn()},he.$metadata$={kind:o,simpleName:"Companion",interfaces:[]};var de=null;function fe(){return null===de&&new he,de}function me(t){var n,i;return null!=(i=e.isType(n=t,Yt)?n:null)?i:function(t,n){throw d("Element "+e.getKClassFromExpression(t)+" is not a "+n)}(t,"JsonPrimitive")}function ye(t){return N(t.content)}function $e(t){return P(t.content)}function be(t){return T(t.content)}function ge(t){return O(t.content)}function ve(t){return E(t.content)}function xe(t){return O(t.content)}function we(t){return bi(t.content)}function ze(t){return gi(t.content)}function Ce(t){return e.isType(t,oe)?null:t.content}function Se(){Oe=this,this.descriptor_u8kpse$_0=x("kotlinx.serialization.json.JsonElement",v.SEALED,[],Te)}function ke(){return Ie().descriptor}function Le(){return Be().descriptor}function je(){return Ue().descriptor}function Ne(){return Xe().descriptor}function Pe(){return Sn().descriptor}function Te(t){return t.element_vxrguq$("JsonPrimitive",Tn(ke)),t.element_vxrguq$("JsonNull",Tn(Le)),t.element_vxrguq$("JsonLiteral",Tn(je)),t.element_vxrguq$("JsonObject",Tn(Ne)),t.element_vxrguq$("JsonArray",Tn(Pe)),I}Object.defineProperty(_e.prototype,"size",{get:function(){return this.content_0.size}}),_e.prototype.contains_11rb$=function(t){return this.content_0.contains_11rb$(t)},_e.prototype.containsAll_brywnq$=function(t){return this.content_0.containsAll_brywnq$(t)},_e.prototype.get_za3lpa$=function(t){return this.content_0.get_za3lpa$(t)},_e.prototype.indexOf_11rb$=function(t){return this.content_0.indexOf_11rb$(t)},_e.prototype.isEmpty=function(){return this.content_0.isEmpty()},_e.prototype.iterator=function(){return this.content_0.iterator()},_e.prototype.lastIndexOf_11rb$=function(t){return this.content_0.lastIndexOf_11rb$(t)},_e.prototype.listIterator=function(){return this.content_0.listIterator()},_e.prototype.listIterator_za3lpa$=function(t){return this.content_0.listIterator_za3lpa$(t)},_e.prototype.subList_vux9f0$=function(t,e){return this.content_0.subList_vux9f0$(t,e)},_e.$metadata$={kind:s,simpleName:"JsonArray",interfaces:[j,Gt]},Object.defineProperty(Se.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_u8kpse$_0}}),Se.prototype.serialize_55azsf$=function(t,n){kn(t),e.isType(n,Yt)?t.encodeSerializableValue_tf03ej$(Ie(),n):e.isType(n,ae)?t.encodeSerializableValue_tf03ej$(Xe(),n):e.isType(n,_e)&&t.encodeSerializableValue_tf03ej$(Sn(),n)},Se.prototype.deserialize_bq71mq$=function(t){return jn(t).decodeJsonElement()},Se.$metadata$={kind:o,simpleName:"JsonElementSerializer",interfaces:[y]};var Oe=null;function Ee(){return null===Oe&&new Se,Oe}function Me(){Re=this,this.descriptor_1d7xi5$_0=x("kotlinx.serialization.json.JsonPrimitive",A.STRING,[])}Object.defineProperty(Me.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_1d7xi5$_0}}),Me.prototype.serialize_55azsf$=function(t,n){var i;return kn(t),e.isType(n,oe)?t.encodeSerializableValue_tf03ej$(Be(),se()):t.encodeSerializableValue_tf03ej$(Ue(),e.isType(i=n,ie)?i:$())},Me.prototype.deserialize_bq71mq$=function(t){var n=jn(t).decodeJsonElement();if(!e.isType(n,Yt))throw Dn(-1,"Unexpected JSON element, expected JsonPrimitive, had "+e.getKClassFromExpression(n),n.toString());return n},Me.$metadata$={kind:o,simpleName:"JsonPrimitiveSerializer",interfaces:[y]};var Re=null;function Ie(){return null===Re&&new Me,Re}function Ae(){De=this,this.descriptor_kuqqdr$_0=x("kotlinx.serialization.json.JsonNull",D.ENUM,[])}Object.defineProperty(Ae.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_kuqqdr$_0}}),Ae.prototype.serialize_55azsf$=function(t,e){kn(t),t.encodeNull()},Ae.prototype.deserialize_bq71mq$=function(t){return Ln(t),t.decodeNull(),se()},Ae.$metadata$={kind:o,simpleName:"JsonNullSerializer",interfaces:[y]};var De=null;function Be(){return null===De&&new Ae,De}function Fe(){qe=this,this.descriptor_fnzu3f$_0=B("kotlinx.serialization.json.JsonLiteral",A.STRING)}Object.defineProperty(Fe.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_fnzu3f$_0}}),Fe.prototype.serialize_55azsf$=function(t,e){if(kn(t),e.isString)return t.encodeString_61zpoe$(e.content);var n=be(e);if(null!=n)return t.encodeLong_s8cxhz$(n);var i=ve(e);if(null!=i)return t.encodeDouble_14dthe$(i);var o=ze(e);if(null!=o)return t.encodeBoolean_6taknv$(o);t.encodeString_61zpoe$(e.content)},Fe.prototype.deserialize_bq71mq$=function(t){var n=jn(t).decodeJsonElement();if(!e.isType(n,ie))throw Dn(-1,"Unexpected JSON element, expected JsonLiteral, had "+e.getKClassFromExpression(n),n.toString());return n},Fe.$metadata$={kind:o,simpleName:"JsonLiteralSerializer",interfaces:[y]};var qe=null;function Ue(){return null===qe&&new Fe,qe}function Ve(){He=this,this.descriptor_a992tj$_0=(null===Ge&&new We,Ge)}function We(){var t;Ge=this,this.$delegate_p32uvu$_0=(e.isType(t=J(V(q(F),[W(V(U,[],!1)),W(V(q(Gt),[],!1))],!1)),y)?t:$()).descriptor,this.serialName_yjsqqv$_0="kotlinx.serialization.json.JsonObject"}Object.defineProperty(We.prototype,"serialName",{configurable:!0,get:function(){return this.serialName_yjsqqv$_0}}),Object.defineProperty(We.prototype,"annotations",{get:function(){return this.$delegate_p32uvu$_0.annotations}}),Object.defineProperty(We.prototype,"elementsCount",{get:function(){return this.$delegate_p32uvu$_0.elementsCount}}),Object.defineProperty(We.prototype,"isNullable",{get:function(){return this.$delegate_p32uvu$_0.isNullable}}),Object.defineProperty(We.prototype,"kind",{get:function(){return this.$delegate_p32uvu$_0.kind}}),We.prototype.getElementAnnotations_za3lpa$=function(t){return this.$delegate_p32uvu$_0.getElementAnnotations_za3lpa$(t)},We.prototype.getElementDescriptor_za3lpa$=function(t){return this.$delegate_p32uvu$_0.getElementDescriptor_za3lpa$(t)},We.prototype.getElementIndex_61zpoe$=function(t){return this.$delegate_p32uvu$_0.getElementIndex_61zpoe$(t)},We.prototype.getElementName_za3lpa$=function(t){return this.$delegate_p32uvu$_0.getElementName_za3lpa$(t)},We.prototype.isElementOptional_za3lpa$=function(t){return this.$delegate_p32uvu$_0.isElementOptional_za3lpa$(t)},We.$metadata$={kind:o,simpleName:"JsonObjectDescriptor",interfaces:[G]};var Ge=null;Object.defineProperty(Ve.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_a992tj$_0}}),Ve.prototype.serialize_55azsf$=function(t,e){kn(t),K(X(H),Ee()).serialize_55azsf$(t,e)},Ve.prototype.deserialize_bq71mq$=function(t){return Ln(t),new ae(K(X(H),Ee()).deserialize_bq71mq$(t))},Ve.$metadata$={kind:o,simpleName:"JsonObjectSerializer",interfaces:[y]};var He=null;function Xe(){return null===He&&new Ve,He}function Ke(){Cn=this,this.descriptor_935ivj$_0=(null===Ze&&new Ye,Ze)}function Ye(){var t;Ze=this,this.$delegate_az4ckk$_0=(e.isType(t=J(V(q(j),[W(V(q(Gt),[],!1))],!1)),y)?t:$()).descriptor,this.serialName_bqe1pt$_0="kotlinx.serialization.json.JsonArray"}Object.defineProperty(Ye.prototype,"serialName",{configurable:!0,get:function(){return this.serialName_bqe1pt$_0}}),Object.defineProperty(Ye.prototype,"annotations",{get:function(){return this.$delegate_az4ckk$_0.annotations}}),Object.defineProperty(Ye.prototype,"elementsCount",{get:function(){return this.$delegate_az4ckk$_0.elementsCount}}),Object.defineProperty(Ye.prototype,"isNullable",{get:function(){return this.$delegate_az4ckk$_0.isNullable}}),Object.defineProperty(Ye.prototype,"kind",{get:function(){return this.$delegate_az4ckk$_0.kind}}),Ye.prototype.getElementAnnotations_za3lpa$=function(t){return this.$delegate_az4ckk$_0.getElementAnnotations_za3lpa$(t)},Ye.prototype.getElementDescriptor_za3lpa$=function(t){return this.$delegate_az4ckk$_0.getElementDescriptor_za3lpa$(t)},Ye.prototype.getElementIndex_61zpoe$=function(t){return this.$delegate_az4ckk$_0.getElementIndex_61zpoe$(t)},Ye.prototype.getElementName_za3lpa$=function(t){return this.$delegate_az4ckk$_0.getElementName_za3lpa$(t)},Ye.prototype.isElementOptional_za3lpa$=function(t){return this.$delegate_az4ckk$_0.isElementOptional_za3lpa$(t)},Ye.$metadata$={kind:o,simpleName:"JsonArrayDescriptor",interfaces:[G]};var Ze=null;Object.defineProperty(Ke.prototype,"descriptor",{configurable:!0,get:function(){return this.descriptor_935ivj$_0}}),Ke.prototype.serialize_55azsf$=function(t,e){kn(t),Y(Ee()).serialize_55azsf$(t,e)},Ke.prototype.deserialize_bq71mq$=function(t){return Ln(t),new _e(Y(Ee()).deserialize_bq71mq$(t))},Ke.$metadata$={kind:o,simpleName:"JsonArraySerializer",interfaces:[y]};var Je,Qe,tn,en,nn,on,rn,sn,an,ln,pn,un,cn,_n,hn,dn,fn,mn,yn,$n,bn,gn,vn,xn,wn,zn,Cn=null;function Sn(){return null===Cn&&new Ke,Cn}function kn(t){Nn(t)}function Ln(t){jn(t)}function jn(t){var n,i;if(null==(i=e.isType(n=t,Wt)?n:null))throw h("This serializer can be used only with Json format.Expected Decoder to be JsonDecoder, got "+e.getKClassFromExpression(t));return i}function Nn(t){var n,i;if(null==(i=e.isType(n=t,On)?n:null))throw h("This serializer can be used only with Json format.Expected Encoder to be JsonEncoder, got "+e.getKClassFromExpression(t));return i}function Pn(t){this.original_yfx7kf$_0=Z(t)}function Tn(t){return new Pn(t)}function On(){}function En(t,e,n,i,o,r,s,a,l,p,u){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===r&&(r="    "),void 0===s&&(s=!1),void 0===a&&(a=!1),void 0===l&&(l="type"),void 0===p&&(p=!1),void 0===u&&(u=_.EmptySerializersModule),this.encodeDefaults=t,this.ignoreUnknownKeys=e,this.isLenient=n,this.allowStructuredMapKeys=i,this.prettyPrint=o,this.prettyPrintIndent=r,this.coerceInputValues=s,this.useArrayPolymorphism=a,this.classDiscriminator=l,this.allowSpecialFloatingPointValues=p,this.serializersModule=u}function Mn(t){g(t,this),this.name="JsonException"}function Rn(t){Mn.call(this,t),this.name="JsonDecodingException"}function In(t,e){return new Rn(t>=0?"Unexpected JSON token at offset "+t+": "+e:e)}function An(t){Mn.call(this,t),this.name="JsonEncodingException"}function Dn(t,e,n){return In(t,e+"\nJSON input: "+Hn(n,t))}function Bn(t,e){return new An("Unexpected special floating-point value "+t.toString()+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'\nCurrent output: "+Hn(e))}function Fn(t,e,n){return new An(Vn(t,e,n))}function qn(t,e,n){return In(-1,Vn(t,e,n))}function Un(t,e){t.fail_bm4lxs$("Unexpected special floating-point value "+e.toString()+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. "+Qe)}function Vn(t,e,n){return"Unexpected special floating-point value "+t.toString()+" with key "+e+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'\nCurrent output: "+Hn(n)}function Wn(t,e){return In(-1,"Encountered unknown key '"+t+"'.\nUse 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.\nCurrent input: "+Hn(e))}function Gn(t){return new An("Value of type '"+t.serialName+"' can't be used in JSON as a key in the map. It should have either primitive or enum kind, but its kind is '"+t.kind+"'.\n"+en)}function Hn(t,e){if(void 0===e&&(e=-1),t.length<200)return t;if(-1===e){var n=t.length-60|0;return n<=0?t:"....."+t.substring(n)}var i=e-30|0,o=e+30|0,r=i<=0?"":".....",s=o>=t.length?"":".....",a=nt(i,0),l=it(o,t.length);return r+t.substring(a,l)+s}function Xn(t,e){this.reader_0=e,this.isLenient_0=t.isLenient}function Kn(){ni=this,this.ESCAPE_2_CHAR=e.charArray(117);for(var t=0;t<=31;t++)this.initC2ESC_0(t,hn);this.initC2ESC_0(8,98),this.initC2ESC_0(9,116),this.initC2ESC_0(10,110),this.initC2ESC_0(12,102),this.initC2ESC_0(13,114),this.initC2ESC_1(47,47),this.initC2ESC_1(un,un),this.initC2ESC_1(cn,cn)}Object.defineProperty(Pn.prototype,"original_0",{configurable:!0,get:function(){return this.original_yfx7kf$_0.value}}),Object.defineProperty(Pn.prototype,"serialName",{configurable:!0,get:function(){return this.original_0.serialName}}),Object.defineProperty(Pn.prototype,"kind",{configurable:!0,get:function(){return this.original_0.kind}}),Object.defineProperty(Pn.prototype,"elementsCount",{configurable:!0,get:function(){return this.original_0.elementsCount}}),Pn.prototype.getElementName_za3lpa$=function(t){return this.original_0.getElementName_za3lpa$(t)},Pn.prototype.getElementIndex_61zpoe$=function(t){return this.original_0.getElementIndex_61zpoe$(t)},Pn.prototype.getElementAnnotations_za3lpa$=function(t){return this.original_0.getElementAnnotations_za3lpa$(t)},Pn.prototype.getElementDescriptor_za3lpa$=function(t){return this.original_0.getElementDescriptor_za3lpa$(t)},Pn.prototype.isElementOptional_za3lpa$=function(t){return this.original_0.isElementOptional_za3lpa$(t)},Pn.$metadata$={kind:s,interfaces:[G]},On.$metadata$={kind:w,simpleName:"JsonEncoder",interfaces:[tt,Q]},En.$metadata$={kind:s,simpleName:"JsonConf",interfaces:[]},En.prototype.component1=function(){return this.encodeDefaults},En.prototype.component2=function(){return this.ignoreUnknownKeys},En.prototype.component3=function(){return this.isLenient},En.prototype.component4=function(){return this.allowStructuredMapKeys},En.prototype.component5=function(){return this.prettyPrint},En.prototype.component6=function(){return this.prettyPrintIndent},En.prototype.component7=function(){return this.coerceInputValues},En.prototype.component8=function(){return this.useArrayPolymorphism},En.prototype.component9=function(){return this.classDiscriminator},En.prototype.component10=function(){return this.allowSpecialFloatingPointValues},En.prototype.component11=function(){return this.serializersModule},En.prototype.copy_2joh8z$=function(t,e,n,i,o,r,s,a,l,p,u){return new En(void 0===t?this.encodeDefaults:t,void 0===e?this.ignoreUnknownKeys:e,void 0===n?this.isLenient:n,void 0===i?this.allowStructuredMapKeys:i,void 0===o?this.prettyPrint:o,void 0===r?this.prettyPrintIndent:r,void 0===s?this.coerceInputValues:s,void 0===a?this.useArrayPolymorphism:a,void 0===l?this.classDiscriminator:l,void 0===p?this.allowSpecialFloatingPointValues:p,void 0===u?this.serializersModule:u)},En.prototype.toString=function(){return"JsonConf(encodeDefaults="+e.toString(this.encodeDefaults)+", ignoreUnknownKeys="+e.toString(this.ignoreUnknownKeys)+", isLenient="+e.toString(this.isLenient)+", allowStructuredMapKeys="+e.toString(this.allowStructuredMapKeys)+", prettyPrint="+e.toString(this.prettyPrint)+", prettyPrintIndent="+e.toString(this.prettyPrintIndent)+", coerceInputValues="+e.toString(this.coerceInputValues)+", useArrayPolymorphism="+e.toString(this.useArrayPolymorphism)+", classDiscriminator="+e.toString(this.classDiscriminator)+", allowSpecialFloatingPointValues="+e.toString(this.allowSpecialFloatingPointValues)+", serializersModule="+e.toString(this.serializersModule)+")"},En.prototype.hashCode=function(){var t=0;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+e.hashCode(this.encodeDefaults)|0)+e.hashCode(this.ignoreUnknownKeys)|0)+e.hashCode(this.isLenient)|0)+e.hashCode(this.allowStructuredMapKeys)|0)+e.hashCode(this.prettyPrint)|0)+e.hashCode(this.prettyPrintIndent)|0)+e.hashCode(this.coerceInputValues)|0)+e.hashCode(this.useArrayPolymorphism)|0)+e.hashCode(this.classDiscriminator)|0)+e.hashCode(this.allowSpecialFloatingPointValues)|0)+e.hashCode(this.serializersModule)|0},En.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&e.equals(this.encodeDefaults,t.encodeDefaults)&&e.equals(this.ignoreUnknownKeys,t.ignoreUnknownKeys)&&e.equals(this.isLenient,t.isLenient)&&e.equals(this.allowStructuredMapKeys,t.allowStructuredMapKeys)&&e.equals(this.prettyPrint,t.prettyPrint)&&e.equals(this.prettyPrintIndent,t.prettyPrintIndent)&&e.equals(this.coerceInputValues,t.coerceInputValues)&&e.equals(this.useArrayPolymorphism,t.useArrayPolymorphism)&&e.equals(this.classDiscriminator,t.classDiscriminator)&&e.equals(this.allowSpecialFloatingPointValues,t.allowSpecialFloatingPointValues)&&e.equals(this.serializersModule,t.serializersModule)},Mn.$metadata$={kind:s,simpleName:"JsonException",interfaces:[et]},Rn.$metadata$={kind:s,simpleName:"JsonDecodingException",interfaces:[Mn]},An.$metadata$={kind:s,simpleName:"JsonEncodingException",interfaces:[Mn]},Xn.prototype.readObject_0=function(){var t=this.reader_0;t.tokenClass!==$n&&(m(ot(t.tokenClass)),t.fail_bm4lxs$("Expected start of the object",t.tokenPosition_0)),this.reader_0.nextToken();var e=this.reader_0,n=this.reader_0.tokenClass!==mn,i=this.reader_0.currentPosition;n||e.fail_bm4lxs$("Unexpected leading comma",i);for(var o=M(),r=!1;this.reader_0.canBeginValue;){r=!1;var s=this.isLenient_0?this.reader_0.takeString():this.reader_0.takeStringQuoted(),a=this.reader_0;a.tokenClass!==yn&&(m(ot(a.tokenClass)),a.fail_bm4lxs$("Expected ':'",a.tokenPosition_0)),this.reader_0.nextToken();var l=this.read();if(o.put_xwzc9p$(s,l),this.reader_0.tokenClass!==mn){var p=this.reader_0;p.tokenClass!==bn&&(m(ot(p.tokenClass)),p.fail_bm4lxs$("Expected end of the object or comma",p.tokenPosition_0))}else r=!0,this.reader_0.nextToken()}var u=this.reader_0,c=!r&&this.reader_0.tokenClass===bn,_=this.reader_0.currentPosition;return c||u.fail_bm4lxs$("Expected end of the object",_),this.reader_0.nextToken(),new ae(o)},Xn.prototype.readArray_0=function(){var t=this.reader_0;t.tokenClass!==gn&&(m(ot(t.tokenClass)),t.fail_bm4lxs$("Expected start of the array",t.tokenPosition_0)),this.reader_0.nextToken();var e=this.reader_0,n=this.reader_0.tokenClass!==mn,i=this.reader_0.currentPosition;n||e.fail_bm4lxs$("Unexpected leading comma",i);for(var o=R(),r=!1;this.reader_0.canBeginValue;){r=!1;var s=this.read();if(o.add_11rb$(s),this.reader_0.tokenClass!==mn){var a=this.reader_0;a.tokenClass!==vn&&(m(ot(a.tokenClass)),a.fail_bm4lxs$("Expected end of the array or comma",a.tokenPosition_0))}else r=!0,this.reader_0.nextToken()}var l=this.reader_0,p=!r,u=this.reader_0.currentPosition;return p||l.fail_bm4lxs$("Unexpected trailing comma",u),this.reader_0.nextToken(),new _e(o)},Xn.prototype.readValue_0=function(t){return new ie(this.isLenient_0?this.reader_0.takeString():t?this.reader_0.takeStringQuoted():this.reader_0.takeString(),t)},Xn.prototype.read=function(){var t;switch(this.reader_0.canBeginValue||this.reader_0.fail_bm4lxs$("Can't begin reading value from here"),this.reader_0.tokenClass){case 10:var e=se();this.reader_0.nextToken(),t=e;break;case 1:t=this.readValue_0(!0);break;case 0:t=this.readValue_0(!1);break;case 6:t=this.readObject_0();break;case 8:t=this.readArray_0();break;default:t=this.reader_0.fail_bm4lxs$("Can't begin reading element, unexpected token")}return t},Xn.$metadata$={kind:s,simpleName:"JsonParser",interfaces:[]},Kn.prototype.initC2ESC_0=function(t,e){e!==hn&&(this.ESCAPE_2_CHAR[0|e]=ot(t))},Kn.prototype.initC2ESC_1=function(t,e){this.initC2ESC_0(0|t,e)},Kn.$metadata$={kind:o,simpleName:"EscapeCharMappings",interfaces:[]};var Yn,Zn,Jn,Qn,ti,ei,ni=null;function ii(){return null===ni&&new Kn,ni}function oi(t,e,n){t[e]=n}function ri(t,e,n){oi(t,0|e,n)}function si(t){return(0|t)<126?zn[0|t]:dn}function ai(t){return c(t<117?ii().ESCAPE_2_CHAR[t]:_n)}function li(t){this.source_0=t,this.currentPosition=0,this.tokenClass=wn,this.tokenPosition_0=0,this.offset_0=-1,this.length_0=0,this.buf_0=e.charArray(16),this.nextToken()}function pi(t,n,i){var o,r,s=e.isType(o=n,pt)?o:$(),a=ct(s,t,e.isType(r=i,ut)?r:$());return function(t,n,i){if(e.isType(t,_t)&&ht(n.descriptor).contains_11rb$(i)){var o=t.descriptor.serialName,r=n.descriptor.serialName;throw h(("Sealed class '"+r+"' cannot be serialized as base class '"+o+"' because it has property name that conflicts with JSON class discriminator '"+i+"'. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism").toString())}}(s,a,t.json.configuration_8be2vx$.classDiscriminator),ui(a.descriptor.kind),a}function ui(t){if(e.isType(t,Object.getPrototypeOf(D.ENUM).constructor))throw h("Enums cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead".toString());if(e.isType(t,A))throw h("Primitives cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead".toString());if(e.isType(t,v))throw h("Actual serializer for polymorphic cannot be polymorphic itself".toString())}function ci(t,n){var i,o,r,s;if(!e.isType(n,pt)||t.json.configuration_8be2vx$.useArrayPolymorphism)return n.deserialize_bq71mq$(t);var a=t.decodeJsonElement(),l=n.descriptor;if(!e.isType(a,ae))throw In(-1,"Expected "+q(ae)+" as the serialized body of "+l.serialName+", but had "+e.getKClassFromExpression(a));var p=a,u=t.json.configuration_8be2vx$.classDiscriminator,c=null!=(o=null!=(i=p.get_11rb$(u))?me(i):null)?o.content:null,_=null!=(r=n.findPolymorphicSerializerOrNull_ca6uye$(t,c))?r:function(t,e){throw Dn(-1,"Polymorphic serializer was not found for "+(null==t?"missing class discriminator ('null')":"class discriminator '"+b(t)+"'"),e.toString())}(c,p);return xi(t.json,u,p,e.isType(s=_,dt)?s:$())}function _i(t,e){this.useArrayPolymorphism_0=t,this.discriminator_0=e}function hi(t,e,n){wt.call(this),this.json_n7tmf6$_0=t,this.mode_0=e,this.reader_8be2vx$=n,this.serializersModule_5carun$_0=this.json.serializersModule,this.currentIndex_0=-1,this.configuration_0=this.json.configuration_8be2vx$}function di(t,e,n,i){zt.call(this),this.composer_0=t,this.json_8uu1uy$_0=e,this.mode_0=n,this.modeReuseCache_0=i,this.serializersModule_tvtxsn$_0=this.json.serializersModule,this.configuration_0=this.json.configuration_8be2vx$,this.forceQuoting_0=!1,this.writePolymorphic_0=!1;var o=this.mode_0.ordinal;null===this.modeReuseCache_0[o]&&this.modeReuseCache_0[o]===this||(this.modeReuseCache_0[o]=this)}function fi(t,e){this.sb_8be2vx$=t,this.json_0=e,this.level_0=0,this.writingFirst_4lagic$_0=!0}function mi(t,e,n,i,o){return o=o||Object.create(di.prototype),di.call(o,new fi(t,e),e,n,i),o}function yi(t){var e=15&t;return ot(e<10?e+48|0:e-10+97|0)}function $i(t,e){var n;t.append_s8itvh$(un);for(var i=0,o=e.length,r=0;r<o;r++){var s=0|e.charCodeAt(r);if(!(s>=Yn.length)&&null!=(n=Yn[s])){var a=n;t.append_ezbsdh$(e,i,r),t.append_pdl1vj$(a),i=r+1|0}}t.append_ezbsdh$(e,i,o),t.append_s8itvh$(un)}function bi(t){var e;if(null==(e=gi(t)))throw h(t+" does not represent a Boolean");return e}function gi(t){return!!St(t,"true",!0)||!St(t,"false",!0)&&null}function vi(t,n,i){var o;return(e.isType(n,ae)?new Ci(t,n):e.isType(n,_e)?new ki(t,n):e.isType(n,ie)||u(n,se())?new zi(t,e.isType(o=n,Yt)?o:$()):e.noWhenBranchMatched()).decodeSerializableValue_w63s0f$(i)}function xi(t,e,n,i){return new Ci(t,n,e,i.descriptor).decodeSerializableValue_w63s0f$(i)}function wi(t,e){jt.call(this),this.json_nf7dq8$_0=t,this.value_admuh1$_0=e,this.configuration_0=this.json.configuration_8be2vx$}function zi(t,e){wi.call(this,t,e),this.value_icegni$_0=e,this.pushTag_11rb$(Zn)}function Ci(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),wi.call(this,t,e),this.value_nyd9q1$_0=e,this.polyDiscriminator_0=n,this.polyDescriptor_0=i,this.position_0=0}function Si(t,e){Ci.call(this,t,e),this.value_ozc1lj$_0=e,this.keys_0=Pt(this.value.keys),this.size_0=2*this.keys_0.size|0,this.position_1=-1}function ki(t,e){wi.call(this,t,e),this.value_z81zg7$_0=e,this.size_0=this.value.size,this.currentIndex_0=-1}function Li(t,e){var n=t.getElementIndex_61zpoe$(e);if(-3===n)throw g(t.serialName+" does not contain element with name '"+e+"'");return n}function ji(t,e,n){var i,o={v:null};return new Ti(t,(i=o,function(t){return i.v=t,I})).encodeSerializableValue_tf03ej$(n,e),null==o.v?Tt("result"):o.v}function Ni(t,e){Ot.call(this),this.json_927t60$_0=t,this.nodeConsumer_0=e,this.configuration_0=this.json.configuration_8be2vx$,this.writePolymorphic_0=!1}function Pi(t,e){Ni.call(this,t,e),this.content_0=null,this.pushTag_11rb$(Zn)}function Ti(t,e){Ni.call(this,t,e),this.content_0=M()}function Oi(t,e){Ti.call(this,t,e),this.tag_s622uw$_0=this.tag_s622uw$_0,this.isKey_0=!0}function Ei(t,e){Ni.call(this,t,e),this.array_0=R()}function Mi(t,e,n,i){Et.call(this),this.begin=m(n),this.end=m(i),this.name$=t,this.ordinal$=e,this.beginTc=si(c(this.begin)),this.endTc=si(c(this.end))}function Ri(){Ri=function(){},Jn=new Mi("OBJ",0,sn,an),Qn=new Mi("LIST",1,ln,pn),ti=new Mi("MAP",2,sn,an),ei=new Mi("POLY_OBJ",3,ln,pn)}function Ii(){return Ri(),Jn}function Ai(){return Ri(),Qn}function Di(){return Ri(),ti}function Bi(){return Ri(),ei}function Fi(){return[Ii(),Ai(),Di(),Bi()]}function qi(t,n){var i;if(i=n.kind,e.isType(i,v))return Bi();if(u(i,ft.LIST))return Ai();if(u(i,ft.MAP)){var o,r=n.getElementDescriptor_za3lpa$(0),s=r.kind;if(e.isType(s,A)||u(s,D.ENUM))o=Di();else{if(!t.configuration_8be2vx$.allowStructuredMapKeys)throw Gn(r);o=Ai()}return o}return Ii()}Object.defineProperty(li.prototype,"isDone",{configurable:!0,get:function(){return this.tokenClass===wn}}),Object.defineProperty(li.prototype,"canBeginValue",{configurable:!0,get:function(){switch(this.tokenClass){case 8:case 6:case 0:case 1:case 10:return!0;default:return!1}}}),li.prototype.requireTokenClass_mvfnf3$=l("kotlinx-serialization-kotlinx-serialization-json-jsLegacy.kotlinx.serialization.json.internal.JsonReader.requireTokenClass_mvfnf3$",p((function(){var t=e.toChar,n=e.toBoxedChar;return function(e,i){this.tokenClass!==e&&this.fail_bm4lxs$(i(n(t(this.tokenClass))),this.tokenPosition_0)}}))),li.prototype.takeString=function(){return this.tokenClass!==dn&&this.tokenClass!==fn&&this.fail_bm4lxs$("Expected string or non-null literal",this.tokenPosition_0),this.takeStringInternal_0()},li.prototype.peekString_6taknv$=function(t){return this.tokenClass===fn||t&&this.tokenClass===dn?this.takeStringInternal_0(!1):null},li.prototype.takeStringQuoted=function(){switch(this.tokenClass){case 1:break;case 10:this.fail_bm4lxs$("Expected string literal but 'null' literal was found.\nUse 'coerceInputValues = true' in 'Json {}` builder to coerce nulls to default values.",this.tokenPosition_0);break;default:this.fail_bm4lxs$("Expected string literal with quotes.\nUse 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",this.tokenPosition_0)}return this.takeStringInternal_0()},li.prototype.takeBooleanStringUnquoted=function(){return this.tokenClass!==dn&&this.fail_bm4lxs$("Expected start of the unquoted boolean literal.\nUse 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",this.tokenPosition_0),this.takeStringInternal_0()},li.prototype.takeStringInternal_0=function(t){var e;if(void 0===t&&(t=!0),this.offset_0<0)e=rt(this.buf_0,0,0+this.length_0|0);else{var n=this.source_0,i=this.offset_0,o=this.offset_0+this.length_0|0;e=n.substring(i,o)}var r=e;return t&&this.nextToken(),r},li.prototype.append_0=function(t){var e;this.length_0>=this.buf_0.length&&(this.buf_0=st(this.buf_0,2*this.buf_0.length|0)),this.buf_0[(e=this.length_0,this.length_0=e+1|0,e)]=t},li.prototype.appendRange_0=function(t,e,n){var i=n-e|0,o=this.length_0,r=o+i|0;r>this.buf_0.length&&(this.buf_0=st(this.buf_0,nt(r,2*this.buf_0.length|0)));for(var s=0;s<i;s++)this.buf_0[o+s|0]=t.charCodeAt(e+s|0);this.length_0=this.length_0+i|0},li.prototype.nextToken=function(){for(var t=this.source_0,e=this.currentPosition;e<t.length;){var n=si(t.charCodeAt(e));switch(n){case 3:e=e+1|0;break;case 0:return void this.nextLiteral_0(t,e);case 1:return void this.nextString_0(t,e);default:return this.tokenPosition_0=e,this.tokenClass=n,void(this.currentPosition=e+1|0)}}this.tokenPosition_0=e,this.tokenClass=wn},li.prototype.nextLiteral_0=function(t,e){this.tokenPosition_0=e,this.offset_0=e;for(var n=e;n<t.length&&si(t.charCodeAt(n))===dn;)n=n+1|0;this.currentPosition=n,this.length_0=n-this.offset_0|0,this.tokenClass=function(t,e,n,i){var o=i.length;if(n!==o)return!1;for(var r=0;r<o;r++)if(t.charCodeAt(e+r|0)!==i.charCodeAt(r))return!1;return!0}(t,this.offset_0,this.length_0,nn)?xn:dn},li.prototype.nextString_0=function(t,e){this.tokenPosition_0=e,this.length_0=0;var n=e+1|0;n>=t.length&&this.fail_bm4lxs$("EOF",n);for(var i=n;t.charCodeAt(n)!==un;)if(t.charCodeAt(n)===cn){this.appendRange_0(t,i,n);var o=this.appendEsc_0(t,n+1|0);n=o,i=o}else(n=n+1|0)>=t.length&&this.fail_bm4lxs$("EOF",n);i===(e+1|0)?(this.offset_0=i,this.length_0=n-i|0):(this.appendRange_0(t,i,n),this.offset_0=-1),this.currentPosition=n+1|0,this.tokenClass=fn},li.prototype.appendEsc_0=function(t,e){var n,i=e,o=i;i<t.length||this.fail_bm4lxs$("Unexpected EOF after escape character",o);var r=t.charCodeAt((i=(n=i)+1|0,n));if(r===hn)return this.appendHex_0(t,i);var s=ai(0|r),a=i;return s!==_n||this.fail_bm4lxs$("Invalid escaped char '"+String.fromCharCode(r)+"'",a),this.append_0(s),i},li.prototype.appendHex_0=function(t,e){var n,i,o,r,s=e;return this.append_0(ot((this.fromHexChar_0(t,(s=(n=s)+1|0,n))<<12)+(this.fromHexChar_0(t,(s=(i=s)+1|0,i))<<8)+(this.fromHexChar_0(t,(s=(o=s)+1|0,o))<<4)+this.fromHexChar_0(t,(s=(r=s)+1|0,r))|0)),s},li.prototype.skipElement=function(){if(this.tokenClass===$n||this.tokenClass===gn){var t=R();do{switch(this.tokenClass){case 8:case 6:t.add_11rb$(this.tokenClass);break;case 9:if(at(t)!==gn)throw Dn(this.currentPosition,"found ] instead of }",this.source_0);t.removeAt_za3lpa$(t.size-1|0);break;case 7:if(at(t)!==$n)throw Dn(this.currentPosition,"found } instead of ]",this.source_0);t.removeAt_za3lpa$(t.size-1|0)}var e;this.nextToken(),e=!t.isEmpty()}while(e)}else this.nextToken()},li.prototype.toString=function(){return"JsonReader(source='"+this.source_0+"', currentPosition="+this.currentPosition+", tokenClass="+this.tokenClass+", tokenPosition="+this.tokenPosition_0+", offset="+this.offset_0+")"},li.prototype.fail_bm4lxs$=function(t,e){throw void 0===e&&(e=this.currentPosition),Dn(e,t,this.source_0)},li.prototype.require_wqn2ds$=l("kotlinx-serialization-kotlinx-serialization-json-jsLegacy.kotlinx.serialization.json.internal.JsonReader.require_wqn2ds$",(function(t,e,n){void 0===e&&(e=this.currentPosition),t||this.fail_bm4lxs$(n(),e)})),li.prototype.fromHexChar_0=function(t,e){e<t.length||this.fail_bm4lxs$("Unexpected EOF during unicode escape",e);var n=t.charCodeAt(e);return new lt(48,57).contains_mef7kx$(n)?(0|n)-48|0:new lt(97,102).contains_mef7kx$(n)?(0|n)-97+10|0:new lt(65,70).contains_mef7kx$(n)?(0|n)-65+10|0:this.fail_bm4lxs$("Invalid toHexChar char '"+String.fromCharCode(n)+"' in unicode escape")},li.$metadata$={kind:s,simpleName:"JsonReader",interfaces:[]},_i.prototype.contextual_cfhkba$=function(t,e){},_i.prototype.polymorphic_kfyidi$=function(t,e,n){var i=n.descriptor;this.checkKind_0(i,e),this.useArrayPolymorphism_0||this.checkDiscriminatorCollisions_0(i,e)},_i.prototype.checkKind_0=function(t,n){var i=t.kind;if(e.isType(i,v)||u(i,D.CONTEXTUAL))throw d("Serializer for "+b(n.simpleName)+" can't be registered as a subclass for polymorphic serialization because its kind "+i+" is not concrete. To work with multiple hierarchies, register it as a base class.");if(!this.useArrayPolymorphism_0&&(u(i,ft.LIST)||u(i,ft.MAP)||e.isType(i,A)||e.isType(i,Object.getPrototypeOf(D.ENUM).constructor)))throw d("Serializer for "+b(n.simpleName)+" of kind "+i+" cannot be serialized polymorphically with class discriminator.")},_i.prototype.checkDiscriminatorCollisions_0=function(t,e){var n;n=t.elementsCount;for(var i=0;i<n;i++){var o=t.getElementName_za3lpa$(i);if(u(o,this.discriminator_0))throw d("Polymorphic serializer for "+e+" has property '"+o+"' that conflicts with JSON class discriminator. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism")}},_i.prototype.polymorphicDefault_yd5wsm$=function(t,e){},_i.$metadata$={kind:s,simpleName:"PolymorphismValidator",interfaces:[mt]},Object.defineProperty(hi.prototype,"json",{get:function(){return this.json_n7tmf6$_0}}),Object.defineProperty(hi.prototype,"serializersModule",{configurable:!0,get:function(){return this.serializersModule_5carun$_0}}),hi.prototype.decodeJsonElement=function(){return new Xn(this.json.configuration_8be2vx$,this.reader_8be2vx$).read()},hi.prototype.decodeSerializableValue_w63s0f$=function(t){return ci(this,t)},hi.prototype.beginStructure_24f42q$=function(t){var e,n=qi(this.json,t);if(c(n.begin)!==_n){var i=this.reader_8be2vx$;i.tokenClass!==n.beginTc&&(m(ot(i.tokenClass)),i.fail_bm4lxs$("Expected '"+String.fromCharCode(c(n.begin))+", kind: "+t.kind+"'",i.tokenPosition_0)),this.reader_8be2vx$.nextToken()}switch(n.name){case"LIST":case"MAP":case"POLY_OBJ":e=new hi(this.json,n,this.reader_8be2vx$);break;default:e=this.mode_0===n?this:new hi(this.json,n,this.reader_8be2vx$)}return e},hi.prototype.endStructure_24f42q$=function(t){if(c(this.mode_0.end)!==_n){var e=this.reader_8be2vx$;e.tokenClass!==this.mode_0.endTc&&(m(ot(e.tokenClass)),e.fail_bm4lxs$("Expected '"+String.fromCharCode(c(this.mode_0.end))+"'",e.tokenPosition_0)),this.reader_8be2vx$.nextToken()}},hi.prototype.decodeNotNullMark=function(){return this.reader_8be2vx$.tokenClass!==xn},hi.prototype.decodeNull=function(){var t=this.reader_8be2vx$;return t.tokenClass!==xn&&(m(ot(t.tokenClass)),t.fail_bm4lxs$("Expected 'null' literal",t.tokenPosition_0)),this.reader_8be2vx$.nextToken(),null},hi.prototype.decodeElementIndex_24f42q$=function(t){var e,n=this.reader_8be2vx$.tokenClass;if(n===mn){var i=this.reader_8be2vx$,o=-1!==this.currentIndex_0,r=this.reader_8be2vx$.currentPosition;o||i.fail_bm4lxs$("Unexpected leading comma",r),this.reader_8be2vx$.nextToken()}switch(this.mode_0.name){case"LIST":e=this.decodeListIndex_0(n);break;case"MAP":e=this.decodeMapIndex_0(n);break;case"POLY_OBJ":switch(this.currentIndex_0=this.currentIndex_0+1|0,this.currentIndex_0){case 0:e=0;break;case 1:e=1;break;default:e=-1}break;default:e=this.decodeObjectIndex_0(n,t)}return e},hi.prototype.decodeMapIndex_0=function(t){var e;if(t!==mn&&this.currentIndex_0%2==1){var n=this.reader_8be2vx$;n.tokenClass!==bn&&(m(ot(n.tokenClass)),n.fail_bm4lxs$("Expected end of the object or comma",n.tokenPosition_0))}if(this.currentIndex_0%2==0){var i=this.reader_8be2vx$;i.tokenClass!==yn&&(m(ot(i.tokenClass)),i.fail_bm4lxs$("Expected ':' after the key",i.tokenPosition_0)),this.reader_8be2vx$.nextToken()}if(this.reader_8be2vx$.canBeginValue)this.currentIndex_0=this.currentIndex_0+1|0,e=this.currentIndex_0;else{var o,r=this.reader_8be2vx$,s=t!==mn;o=r.currentPosition,s||r.fail_bm4lxs$("Unexpected trailing comma",o),e=-1}return e},hi.prototype.coerceInputValue_0=function(t,e){var n,i=t.getElementDescriptor_za3lpa$(e);if(this.reader_8be2vx$.tokenClass===xn&&!i.isNullable)return!0;if(u(i.kind,D.ENUM)){if(null==(n=this.reader_8be2vx$.peekString_6taknv$(this.configuration_0.isLenient)))return!1;var o=n;if(-3===i.getElementIndex_61zpoe$(o))return!0}return!1},hi.prototype.decodeObjectIndex_0=function(t,e){var n;for(t!==mn||this.reader_8be2vx$.canBeginValue||this.reader_8be2vx$.fail_bm4lxs$("Unexpected trailing comma");this.reader_8be2vx$.canBeginValue;){this.currentIndex_0=this.currentIndex_0+1|0;var i=this.decodeString(),o=this.reader_8be2vx$;o.tokenClass!==yn&&(m(ot(o.tokenClass)),o.fail_bm4lxs$("Expected ':'",o.tokenPosition_0)),this.reader_8be2vx$.nextToken();var r=e.getElementIndex_61zpoe$(i);if(-3!==r){if(!this.configuration_0.coerceInputValues||!this.coerceInputValue_0(e,r))return r;n=!1}else n=!0;if(n&&!this.configuration_0.ignoreUnknownKeys?this.reader_8be2vx$.fail_bm4lxs$("Encountered an unknown key '"+i+"'.\n"+tn):this.reader_8be2vx$.skipElement(),this.reader_8be2vx$.tokenClass===mn){this.reader_8be2vx$.nextToken();var s=this.reader_8be2vx$,a=this.reader_8be2vx$.canBeginValue,l=this.reader_8be2vx$.currentPosition;a||s.fail_bm4lxs$("Unexpected trailing comma",l)}}return-1},hi.prototype.decodeListIndex_0=function(t){var e;if(t!==mn&&-1!==this.currentIndex_0){var n=this.reader_8be2vx$;n.tokenClass!==vn&&(m(ot(n.tokenClass)),n.fail_bm4lxs$("Expected end of the array or comma",n.tokenPosition_0))}if(this.reader_8be2vx$.canBeginValue)this.currentIndex_0=this.currentIndex_0+1|0,e=this.currentIndex_0;else{var i,o=this.reader_8be2vx$,r=t!==mn;i=o.currentPosition,r||o.fail_bm4lxs$("Unexpected trailing comma",i),e=-1}return e},hi.prototype.decodeBoolean=function(){return this.configuration_0.isLenient?bi(this.reader_8be2vx$.takeString()):bi(this.reader_8be2vx$.takeBooleanStringUnquoted())},hi.prototype.decodeByte=function(){var t,n=this.reader_8be2vx$.takeString();try{t=yt(n)}catch(t){if(!e.isType(t,xt))throw t;this.reader_8be2vx$.fail_bm4lxs$("Failed to parse 'byte'")}return t},hi.prototype.decodeShort=function(){var t,n=this.reader_8be2vx$.takeString();try{t=$t(n)}catch(t){if(!e.isType(t,xt))throw t;this.reader_8be2vx$.fail_bm4lxs$("Failed to parse 'short'")}return t},hi.prototype.decodeInt=function(){var t,n=this.reader_8be2vx$.takeString();try{t=N(n)}catch(t){if(!e.isType(t,xt))throw t;this.reader_8be2vx$.fail_bm4lxs$("Failed to parse 'int'")}return t},hi.prototype.decodeLong=function(){var t,n=this.reader_8be2vx$.takeString();try{t=P(n)}catch(t){if(!e.isType(t,xt))throw t;this.reader_8be2vx$.fail_bm4lxs$("Failed to parse 'long'")}return t},hi.prototype.decodeFloat=function(){var t,n=this.reader_8be2vx$.takeString();try{t=O(n)}catch(t){if(!e.isType(t,xt))throw t;this.reader_8be2vx$.fail_bm4lxs$("Failed to parse 'float'")}var i=t;if(this.json.configuration_8be2vx$.allowSpecialFloatingPointValues||bt(i))return i;Un(this.reader_8be2vx$,i)},hi.prototype.decodeDouble=function(){var t,n=this.reader_8be2vx$.takeString();try{t=O(n)}catch(t){if(!e.isType(t,xt))throw t;this.reader_8be2vx$.fail_bm4lxs$("Failed to parse 'double'")}var i=t;if(this.json.configuration_8be2vx$.allowSpecialFloatingPointValues||gt(i))return i;Un(this.reader_8be2vx$,i)},hi.prototype.decodeChar=function(){var t,n=this.reader_8be2vx$.takeString();try{t=m(vt(n))}catch(t){if(!e.isType(t,xt))throw t;this.reader_8be2vx$.fail_bm4lxs$("Failed to parse 'char'")}return t},hi.prototype.decodeString=function(){return this.configuration_0.isLenient?this.reader_8be2vx$.takeString():this.reader_8be2vx$.takeStringQuoted()},hi.prototype.parse_0=function(t,n,i){try{return i(t)}catch(t){if(!e.isType(t,xt))throw t;this.reader_8be2vx$.fail_bm4lxs$("Failed to parse '"+n+"'")}},hi.prototype.decodeEnum_24f42q$=function(t){return Li(t,this.decodeString())},hi.$metadata$={kind:s,simpleName:"StreamingJsonDecoder",interfaces:[wt,Wt]},Object.defineProperty(di.prototype,"json",{get:function(){return this.json_8uu1uy$_0}}),Object.defineProperty(di.prototype,"serializersModule",{configurable:!0,get:function(){return this.serializersModule_tvtxsn$_0}}),di.prototype.encodeJsonElement_qiw0cd$=function(t){this.encodeSerializableValue_tf03ej$(Ee(),t)},di.prototype.shouldEncodeElementDefault_szpzho$=function(t,e){return this.configuration_0.encodeDefaults},di.prototype.encodeSerializableValue_tf03ej$=function(t,n){t:do{var i,o;if(!e.isType(t,pt)||this.json.configuration_8be2vx$.useArrayPolymorphism){t.serialize_55azsf$(this,n);break t}var r=pi(this,e.isType(i=t,Ct)?i:$(),e.isType(o=n,ut)?o:$());this.writePolymorphic_0=!0,r.serialize_55azsf$(this,n)}while(0)},di.prototype.encodeTypeInfo_0=function(t){this.composer_0.nextItem(),this.encodeString_61zpoe$(this.configuration_0.classDiscriminator),this.composer_0.print_s8itvh$(rn),this.composer_0.space(),this.encodeString_61zpoe$(t.serialName)},di.prototype.beginStructure_24f42q$=function(t){var e,n=qi(this.json,t);return c(n.begin)!==_n&&(this.composer_0.print_s8itvh$(c(n.begin)),this.composer_0.indent()),this.writePolymorphic_0&&(this.writePolymorphic_0=!1,this.encodeTypeInfo_0(t)),this.mode_0===n?this:null!=(e=this.modeReuseCache_0[n.ordinal])?e:new di(this.composer_0,this.json,n,this.modeReuseCache_0)},di.prototype.endStructure_24f42q$=function(t){c(this.mode_0.end)!==_n&&(this.composer_0.unIndent(),this.composer_0.nextItem(),this.composer_0.print_s8itvh$(c(this.mode_0.end)))},di.prototype.encodeElement_szpzho$=function(t,e){var n;switch(this.mode_0.name){case"LIST":this.composer_0.writingFirst||this.composer_0.print_s8itvh$(on),this.composer_0.nextItem();break;case"MAP":this.composer_0.writingFirst?(this.forceQuoting_0=!0,this.composer_0.nextItem()):(e%2==0?(this.composer_0.print_s8itvh$(on),this.composer_0.nextItem(),n=!0):(this.composer_0.print_s8itvh$(rn),this.composer_0.space(),n=!1),this.forceQuoting_0=n);break;case"POLY_OBJ":0===e&&(this.forceQuoting_0=!0),1===e&&(this.composer_0.print_s8itvh$(on),this.composer_0.space(),this.forceQuoting_0=!1);break;default:this.composer_0.writingFirst||this.composer_0.print_s8itvh$(on),this.composer_0.nextItem(),this.encodeString_61zpoe$(t.getElementName_za3lpa$(e)),this.composer_0.print_s8itvh$(rn),this.composer_0.space()}return!0},di.prototype.encodeNull=function(){this.composer_0.print_61zpoe$(nn)},di.prototype.encodeBoolean_6taknv$=function(t){this.forceQuoting_0?this.encodeString_61zpoe$(t.toString()):this.composer_0.print_6taknv$(t)},di.prototype.encodeByte_s8j3t7$=function(t){this.forceQuoting_0?this.encodeString_61zpoe$(t.toString()):this.composer_0.print_s8j3t7$(t)},di.prototype.encodeShort_mq22fl$=function(t){this.forceQuoting_0?this.encodeString_61zpoe$(t.toString()):this.composer_0.print_mq22fl$(t)},di.prototype.encodeInt_za3lpa$=function(t){this.forceQuoting_0?this.encodeString_61zpoe$(t.toString()):this.composer_0.print_za3lpa$(t)},di.prototype.encodeLong_s8cxhz$=function(t){this.forceQuoting_0?this.encodeString_61zpoe$(t.toString()):this.composer_0.print_s8cxhz$(t)},di.prototype.encodeFloat_mx4ult$=function(t){if(this.forceQuoting_0?this.encodeString_61zpoe$(t.toString()):this.composer_0.print_mx4ult$(t),!this.configuration_0.allowSpecialFloatingPointValues&&!bt(t))throw Bn(t,this.composer_0.sb_8be2vx$.toString())},di.prototype.encodeDouble_14dthe$=function(t){if(this.forceQuoting_0?this.encodeString_61zpoe$(t.toString()):this.composer_0.print_14dthe$(t),!this.configuration_0.allowSpecialFloatingPointValues&&!gt(t))throw Bn(t,this.composer_0.sb_8be2vx$.toString())},di.prototype.encodeChar_s8itvh$=function(t){this.encodeString_61zpoe$(String.fromCharCode(t))},di.prototype.encodeString_61zpoe$=function(t){this.composer_0.printQuoted_61zpoe$(t)},di.prototype.encodeEnum_szpzho$=function(t,e){this.encodeString_61zpoe$(t.getElementName_za3lpa$(e))},Object.defineProperty(fi.prototype,"writingFirst",{configurable:!0,get:function(){return this.writingFirst_4lagic$_0},set:function(t){this.writingFirst_4lagic$_0=t}}),fi.prototype.indent=function(){this.writingFirst=!0,this.level_0=this.level_0+1|0},fi.prototype.unIndent=function(){this.level_0=this.level_0-1|0},fi.prototype.nextItem=function(){if(this.writingFirst=!1,this.json_0.configuration_8be2vx$.prettyPrint){this.print_61zpoe$("\n");for(var t=this.level_0,e=0;e<t;e++)this.print_61zpoe$(this.json_0.configuration_8be2vx$.prettyPrintIndent)}},fi.prototype.space=function(){this.json_0.configuration_8be2vx$.prettyPrint&&this.print_s8itvh$(32)},fi.prototype.print_s8itvh$=function(t){return this.sb_8be2vx$.append_s8itvh$(t)},fi.prototype.print_61zpoe$=function(t){return this.sb_8be2vx$.append_pdl1vj$(t)},fi.prototype.print_mx4ult$=function(t){return this.sb_8be2vx$.append_s8jyv4$(t)},fi.prototype.print_14dthe$=function(t){return this.sb_8be2vx$.append_s8jyv4$(t)},fi.prototype.print_s8j3t7$=function(t){return this.sb_8be2vx$.append_s8jyv4$(t)},fi.prototype.print_mq22fl$=function(t){return this.sb_8be2vx$.append_s8jyv4$(t)},fi.prototype.print_za3lpa$=function(t){return this.sb_8be2vx$.append_s8jyv4$(t)},fi.prototype.print_s8cxhz$=function(t){return this.sb_8be2vx$.append_s8jyv4$(t)},fi.prototype.print_6taknv$=function(t){return this.sb_8be2vx$.append_6taknv$(t)},fi.prototype.printQuoted_61zpoe$=function(t){$i(this.sb_8be2vx$,t)},fi.$metadata$={kind:s,simpleName:"Composer",interfaces:[]},di.$metadata$={kind:s,simpleName:"StreamingJsonEncoder",interfaces:[zt,On]},Object.defineProperty(wi.prototype,"json",{get:function(){return this.json_nf7dq8$_0}}),Object.defineProperty(wi.prototype,"value",{get:function(){return this.value_admuh1$_0}}),Object.defineProperty(wi.prototype,"serializersModule",{configurable:!0,get:function(){return this.json.serializersModule}}),wi.prototype.currentObject_0=function(){var t,e;return null!=(e=null!=(t=this.currentTagOrNull)?this.currentElement_61zpoe$(t):null)?e:this.value},wi.prototype.decodeJsonElement=function(){return this.currentObject_0()},wi.prototype.decodeSerializableValue_w63s0f$=function(t){return ci(this,t)},wi.prototype.composeName_puj7f4$=function(t,e){return e},wi.prototype.beginStructure_24f42q$=function(t){var n,i,o=this.currentObject_0();if(n=t.kind,u(n,ft.LIST)||e.isType(n,v)){var r=this.json;if(!e.isType(o,_e))throw In(-1,"Expected "+q(_e)+" as the serialized body of "+t.serialName+", but had "+e.getKClassFromExpression(o));i=new ki(r,o)}else if(u(n,ft.MAP)){var s,a=this.json,l=t.getElementDescriptor_za3lpa$(0),p=l.kind;if(e.isType(p,A)||u(p,D.ENUM)){var c=this.json;if(!e.isType(o,ae))throw In(-1,"Expected "+q(ae)+" as the serialized body of "+t.serialName+", but had "+e.getKClassFromExpression(o));s=new Si(c,o)}else{if(!a.configuration_8be2vx$.allowStructuredMapKeys)throw Gn(l);var _=this.json;if(!e.isType(o,_e))throw In(-1,"Expected "+q(_e)+" as the serialized body of "+t.serialName+", but had "+e.getKClassFromExpression(o));s=new ki(_,o)}i=s}else{var h=this.json;if(!e.isType(o,ae))throw In(-1,"Expected "+q(ae)+" as the serialized body of "+t.serialName+", but had "+e.getKClassFromExpression(o));i=new Ci(h,o)}return i},wi.prototype.endStructure_24f42q$=function(t){},wi.prototype.decodeNotNullMark=function(){return!e.isType(this.currentObject_0(),oe)},wi.prototype.getValue_61zpoe$=function(t){var n,i,o=this.currentElement_61zpoe$(t);if(null==(i=e.isType(n=o,Yt)?n:null))throw Dn(-1,"Expected JsonPrimitive at "+t+", found "+o,this.currentObject_0().toString());return i},wi.prototype.decodeTaggedEnum_gaombr$=function(t,e){return Li(e,this.getValue_61zpoe$(t).content)},wi.prototype.decodeTaggedNull_11rb$=function(t){return null},wi.prototype.decodeTaggedNotNullMark_11rb$=function(t){return this.currentElement_61zpoe$(t)!==se()},wi.prototype.decodeTaggedBoolean_11rb$=function(t){var n,i=this.getValue_61zpoe$(t);if(!this.json.configuration_8be2vx$.isLenient&&(e.isType(n=i,ie)?n:$()).isString)throw Dn(-1,"Boolean literal for key '"+t+"' should be unquoted.\n"+Je,this.currentObject_0().toString());return we(i)},wi.prototype.decodeTaggedByte_11rb$=function(t){var n,i=this.getValue_61zpoe$(t);try{n=kt(ye(i))}catch(t){throw e.isType(t,xt)?Dn(-1,"Failed to parse 'byte'",this.currentObject_0().toString()):t}return n},wi.prototype.decodeTaggedShort_11rb$=function(t){var n,i=this.getValue_61zpoe$(t);try{n=Lt(ye(i))}catch(t){throw e.isType(t,xt)?Dn(-1,"Failed to parse 'short'",this.currentObject_0().toString()):t}return n},wi.prototype.decodeTaggedInt_11rb$=function(t){var n,i=this.getValue_61zpoe$(t);try{n=ye(i)}catch(t){throw e.isType(t,xt)?Dn(-1,"Failed to parse 'int'",this.currentObject_0().toString()):t}return n},wi.prototype.decodeTaggedLong_11rb$=function(t){var n,i=this.getValue_61zpoe$(t);try{n=$e(i)}catch(t){throw e.isType(t,xt)?Dn(-1,"Failed to parse 'long'",this.currentObject_0().toString()):t}return n},wi.prototype.decodeTaggedFloat_11rb$=function(t){var n,i=this.getValue_61zpoe$(t);try{n=xe(i)}catch(t){throw e.isType(t,xt)?Dn(-1,"Failed to parse 'float'",this.currentObject_0().toString()):t}var o=n;if(this.json.configuration_8be2vx$.allowSpecialFloatingPointValues||bt(o))return o;throw qn(o,t,this.currentObject_0().toString())},wi.prototype.decodeTaggedDouble_11rb$=function(t){var n,i=this.getValue_61zpoe$(t);try{n=ge(i)}catch(t){throw e.isType(t,xt)?Dn(-1,"Failed to parse 'double'",this.currentObject_0().toString()):t}var o=n;if(this.json.configuration_8be2vx$.allowSpecialFloatingPointValues||gt(o))return o;throw qn(o,t,this.currentObject_0().toString())},wi.prototype.decodeTaggedChar_11rb$=function(t){var n,i=this.getValue_61zpoe$(t);try{n=m(vt(i.content))}catch(t){throw e.isType(t,xt)?Dn(-1,"Failed to parse 'char'",this.currentObject_0().toString()):t}return n},wi.prototype.primitive_0=function(t,n,i){try{return i(t)}catch(t){throw e.isType(t,xt)?Dn(-1,"Failed to parse '"+n+"'",this.currentObject_0().toString()):t}},wi.prototype.decodeTaggedString_11rb$=function(t){var n,i=this.getValue_61zpoe$(t);if(!this.json.configuration_8be2vx$.isLenient&&!(e.isType(n=i,ie)?n:$()).isString)throw Dn(-1,"String literal for key '"+t+"' should be quoted.\n"+Je,this.currentObject_0().toString());return i.content},wi.$metadata$={kind:s,simpleName:"AbstractJsonTreeDecoder",interfaces:[Wt,jt]},Object.defineProperty(zi.prototype,"value",{get:function(){return this.value_icegni$_0}}),zi.prototype.decodeElementIndex_24f42q$=function(t){return 0},zi.prototype.currentElement_61zpoe$=function(t){if(t!==Zn)throw d("This input can only handle primitives with 'primitive' tag".toString());return this.value},zi.$metadata$={kind:s,simpleName:"JsonPrimitiveDecoder",interfaces:[wi]},Object.defineProperty(Ci.prototype,"value",{get:function(){return this.value_nyd9q1$_0}}),Ci.prototype.coerceInputValue_0=function(t,n,i){var o,r,s,a=t.getElementDescriptor_za3lpa$(n);if(e.isType(this.currentElement_61zpoe$(i),oe)&&!a.isNullable)return!0;if(u(a.kind,D.ENUM)){if(null==(s=null!=(r=e.isType(o=this.currentElement_61zpoe$(i),Yt)?o:null)?Ce(r):null))return!1;var l=s;if(-3===a.getElementIndex_61zpoe$(l))return!0}return!1},Ci.prototype.decodeElementIndex_24f42q$=function(t){for(var n;this.position_0<t.elementsCount;){var i,o=this.getTag_av9bu7$(t,(n=this.position_0,this.position_0=n+1|0,n)),r=this.value;if((e.isType(i=r,L)?i:$()).containsKey_11rb$(o)&&(!this.configuration_0.coerceInputValues||!this.coerceInputValue_0(t,this.position_0-1|0,o)))return this.position_0-1|0}return-1},Ci.prototype.currentElement_61zpoe$=function(t){return Nt(this.value,t)},Ci.prototype.beginStructure_24f42q$=function(t){return t===this.polyDescriptor_0?this:wi.prototype.beginStructure_24f42q$.call(this,t)},Ci.prototype.endStructure_24f42q$=function(t){var n;if(!this.configuration_0.ignoreUnknownKeys&&!e.isType(t.kind,v)){var i=ht(t);for(n=this.value.keys.iterator();n.hasNext();){var o=n.next();if(!i.contains_11rb$(o)&&!u(o,this.polyDiscriminator_0))throw Wn(o,this.value.toString())}}},Ci.$metadata$={kind:s,simpleName:"JsonTreeDecoder",interfaces:[wi]},Object.defineProperty(Si.prototype,"value",{get:function(){return this.value_ozc1lj$_0}}),Si.prototype.elementName_szpzho$=function(t,e){var n=e/2|0;return this.keys_0.get_za3lpa$(n)},Si.prototype.decodeElementIndex_24f42q$=function(t){for(;this.position_1<(this.size_0-1|0);)return this.position_1=this.position_1+1|0,this.position_1;return-1},Si.prototype.currentElement_61zpoe$=function(t){return this.position_1%2==0?ne(t):Nt(this.value,t)},Si.prototype.endStructure_24f42q$=function(t){},Si.$metadata$={kind:s,simpleName:"JsonTreeMapDecoder",interfaces:[Ci]},Object.defineProperty(ki.prototype,"value",{get:function(){return this.value_z81zg7$_0}}),ki.prototype.elementName_szpzho$=function(t,e){return e.toString()},ki.prototype.currentElement_61zpoe$=function(t){return this.value.get_za3lpa$(N(t))},ki.prototype.decodeElementIndex_24f42q$=function(t){for(;this.currentIndex_0<(this.size_0-1|0);)return this.currentIndex_0=this.currentIndex_0+1|0,this.currentIndex_0;return-1},ki.$metadata$={kind:s,simpleName:"JsonTreeListDecoder",interfaces:[wi]},Object.defineProperty(Ni.prototype,"json",{get:function(){return this.json_927t60$_0}}),Object.defineProperty(Ni.prototype,"serializersModule",{configurable:!0,get:function(){return this.json.serializersModule}}),Ni.prototype.encodeJsonElement_qiw0cd$=function(t){this.encodeSerializableValue_tf03ej$(Ee(),t)},Ni.prototype.shouldEncodeElementDefault_szpzho$=function(t,e){return this.configuration_0.encodeDefaults},Ni.prototype.composeName_puj7f4$=function(t,e){return e},Ni.prototype.encodeNull=function(){var t;if(null==(t=this.currentTagOrNull))return this.nodeConsumer_0(se());var e=t;this.encodeTaggedNull_11rb$(e)},Ni.prototype.encodeTaggedNull_11rb$=function(t){this.putElement_zafu29$(t,se())},Ni.prototype.encodeTaggedInt_dpg1yx$=function(t,e){this.putElement_zafu29$(t,ee(e))},Ni.prototype.encodeTaggedByte_19qe40$=function(t,e){this.putElement_zafu29$(t,ee(e))},Ni.prototype.encodeTaggedShort_veccj0$=function(t,e){this.putElement_zafu29$(t,ee(e))},Ni.prototype.encodeTaggedLong_19wkf8$=function(t,e){this.putElement_zafu29$(t,ee(e))},Ni.prototype.encodeTaggedFloat_vlf4p8$=function(t,e){if(this.putElement_zafu29$(t,ee(e)),!this.configuration_0.allowSpecialFloatingPointValues&&!bt(e))throw Fn(e,t,this.getCurrent().toString())},Ni.prototype.encodeSerializableValue_tf03ej$=function(t,n){if(null!=this.currentTagOrNull||!e.isType(t.descriptor.kind,A)&&t.descriptor.kind!==D.ENUM)t:do{var i,o;if(!e.isType(t,pt)||this.json.configuration_8be2vx$.useArrayPolymorphism){t.serialize_55azsf$(this,n);break t}var r=pi(this,e.isType(i=t,Ct)?i:$(),e.isType(o=n,ut)?o:$());this.writePolymorphic_0=!0,r.serialize_55azsf$(this,n)}while(0);else{var s=new Pi(this.json,this.nodeConsumer_0);s.encodeSerializableValue_tf03ej$(t,n),s.endEncode_24f42q$(t.descriptor)}},Ni.prototype.encodeTaggedDouble_e37ph5$=function(t,e){if(this.putElement_zafu29$(t,ee(e)),!this.configuration_0.allowSpecialFloatingPointValues&&!gt(e))throw Fn(e,t,this.getCurrent().toString())},Ni.prototype.encodeTaggedBoolean_iuyhfk$=function(t,e){this.putElement_zafu29$(t,te(e))},Ni.prototype.encodeTaggedChar_19qo1q$=function(t,e){this.putElement_zafu29$(t,ne(String.fromCharCode(e)))},Ni.prototype.encodeTaggedString_l9l8mx$=function(t,e){this.putElement_zafu29$(t,ne(e))},Ni.prototype.encodeTaggedEnum_4xdzqf$=function(t,e,n){this.putElement_zafu29$(t,ne(e.getElementName_za3lpa$(n)))},Ni.prototype.encodeTaggedValue_dpg7wc$=function(t,e){this.putElement_zafu29$(t,ne(e.toString()))},Ni.prototype.beginStructure_24f42q$=function(t){var n,i,o,r=null==this.currentTagOrNull?this.nodeConsumer_0:(o=this,function(t){return o.putElement_zafu29$(o.currentTag,t),I});if(n=t.kind,u(n,ft.LIST)||e.isType(n,v))i=new Ei(this.json,r);else if(u(n,ft.MAP)){var s,a=this.json,l=t.getElementDescriptor_za3lpa$(0),p=l.kind;if(e.isType(p,A)||u(p,D.ENUM))s=new Oi(this.json,r);else{if(!a.configuration_8be2vx$.allowStructuredMapKeys)throw Gn(l);s=new Ei(this.json,r)}i=s}else i=new Ti(this.json,r);var c=i;return this.writePolymorphic_0&&(this.writePolymorphic_0=!1,c.putElement_zafu29$(this.configuration_0.classDiscriminator,ne(t.serialName))),c},Ni.prototype.endEncode_24f42q$=function(t){this.nodeConsumer_0(this.getCurrent())},Ni.$metadata$={kind:s,simpleName:"AbstractJsonTreeEncoder",interfaces:[On,Ot]},Pi.prototype.putElement_zafu29$=function(t,e){if(t!==Zn)throw d("This output can only consume primitives with 'primitive' tag".toString());if(null!=this.content_0)throw d("Primitive element was already recorded. Does call to .encodeXxx happen more than once?".toString());this.content_0=e},Pi.prototype.getCurrent=function(){var t=this.content_0;if(null==t)throw d("Primitive element has not been recorded. Is call to .encodeXxx is missing in serializer?".toString());return t},Pi.$metadata$={kind:s,simpleName:"JsonPrimitiveEncoder",interfaces:[Ni]},Ti.prototype.putElement_zafu29$=function(t,e){this.content_0.put_xwzc9p$(t,e)},Ti.prototype.getCurrent=function(){return new ae(this.content_0)},Ti.$metadata$={kind:s,simpleName:"JsonTreeEncoder",interfaces:[Ni]},Object.defineProperty(Oi.prototype,"tag_0",{configurable:!0,get:function(){return null==this.tag_s622uw$_0?Tt("tag"):this.tag_s622uw$_0},set:function(t){this.tag_s622uw$_0=t}}),Oi.prototype.putElement_zafu29$=function(t,n){var i;if(this.isKey_0){if(e.isType(n,Yt))i=n.content;else{if(e.isType(n,ae))throw Gn(Xe().descriptor);if(e.isType(n,_e))throw Gn(Sn().descriptor);i=e.noWhenBranchMatched()}this.tag_0=i,this.isKey_0=!1}else{var o=this.content_0,r=this.tag_0;o.put_xwzc9p$(r,n),this.isKey_0=!0}},Oi.prototype.getCurrent=function(){return new ae(this.content_0)},Oi.$metadata$={kind:s,simpleName:"JsonTreeMapEncoder",interfaces:[Ti]},Ei.prototype.elementName_szpzho$=function(t,e){return e.toString()},Ei.prototype.putElement_zafu29$=function(t,e){var n=N(t);this.array_0.add_wxm5ur$(n,e)},Ei.prototype.getCurrent=function(){return new _e(this.array_0)},Ei.$metadata$={kind:s,simpleName:"JsonTreeListEncoder",interfaces:[Ni]},Mi.$metadata$={kind:s,simpleName:"WriteMode",interfaces:[Et]},Mi.values=Fi,Mi.valueOf_61zpoe$=function(t){switch(t){case"OBJ":return Ii();case"LIST":return Ai();case"MAP":return Di();case"POLY_OBJ":return Bi();default:Mt("No enum constant kotlinx.serialization.json.internal.WriteMode."+t)}},Object.defineProperty(It,"Default",{get:qt});var Ui=t.kotlinx||(t.kotlinx={}),Vi=Ui.serialization||(Ui.serialization={}),Wi=Vi.json||(Vi.json={});Wi.Json=It,Wi.Json_x26noe$=function(t,e){void 0===t&&(t=qt());var n=new Ut(t.configuration_8be2vx$);return e(n),new Vt(n.build_8be2vx$())},i["kotlinx-serialization-kotlinx-serialization-core-jsLegacy"]=n,Wi.JsonBuilder=Ut,Wi.JsonDecoder=Wt,Object.defineProperty(Gt,"Companion",{get:Kt}),Wi.JsonElement=Gt,Object.defineProperty(Yt,"Companion",{get:Qt}),Wi.JsonPrimitive=Yt,Wi.JsonPrimitive_1v8dbw$=te,Wi.JsonPrimitive_rcaewn$=ee,Wi.JsonPrimitive_pdl1vj$=ne,Wi.JsonLiteral=ie,Object.defineProperty(Wi,"JsonNull",{get:se}),Object.defineProperty(ae,"Companion",{get:ce}),Wi.JsonObject=ae,Object.defineProperty(_e,"Companion",{get:fe}),Wi.JsonArray=_e,Wi.get_jsonPrimitive_u3sd3g$=me,Wi.get_int_59esu7$=ye,Wi.get_long_59esu7$=$e,Wi.get_longOrNull_59esu7$=be,Wi.get_double_59esu7$=ge,Wi.get_doubleOrNull_59esu7$=ve,Wi.get_float_59esu7$=xe,Wi.get_boolean_59esu7$=we,Wi.get_booleanOrNull_59esu7$=ze,Wi.get_contentOrNull_59esu7$=Ce,Object.defineProperty(Wi,"JsonElementSerializer",{get:Ee}),Object.defineProperty(Wi,"JsonPrimitiveSerializer",{get:Ie}),Object.defineProperty(Wi,"JsonNullSerializer",{get:Be}),Object.defineProperty(Wi,"JsonObjectSerializer",{get:Xe}),Object.defineProperty(Wi,"JsonArraySerializer",{get:Sn}),Wi.asJsonDecoder_k984l0$=jn,Wi.asJsonEncoder_vwx09w$=Nn,Wi.JsonEncoder=On;var Gi=Wi.internal||(Wi.internal={});Gi.JsonConf=En,Gi.JsonException=Mn,Gi.JsonDecodingException=Rn,Gi.JsonDecodingException_f0n09d$=In,Gi.JsonEncodingException=An,Gi.JsonDecodingException_kx378j$=Dn,Gi.InvalidFloatingPointEncoded_qwibp1$=Bn,Gi.InvalidFloatingPointEncoded_x0xb19$=Fn,Gi.InvalidFloatingPointDecoded_x0xb19$=qn,Gi.throwInvalidFloatingPointDecoded_nyj901$=Un,Gi.UnknownKeyException_wdz5eb$=Wn,Gi.InvalidKeyKindException_jo479d$=Gn,Gi.JsonParser=Xn,Object.defineProperty(Gi,"EscapeCharMappings",{get:ii}),Gi.charToTokenClass_8e8zqy$=si,Gi.escapeToChar_kcn2v3$=ai,Gi.JsonReader=li,Gi.checkKind_x1ow4c$=ui,Gi.decodeSerializableValuePolymorphic_3uiavc$=ci,Gi.PolymorphismValidator=_i,Gi.StreamingJsonDecoder=hi,di.Composer=fi,Gi.StreamingJsonEncoder_init_e4t9r6$=mi,Gi.StreamingJsonEncoder=di,Gi.printQuoted_jigvc$=$i,Gi.toBooleanStrict_7efafi$=bi,Gi.toBooleanStrictOrNull_7efafi$=gi,Gi.readJson_ijhaef$=vi,Gi.readPolymorphicJson_nnpnh6$=xi,Gi.getElementIndexOrThrow_luk6xe$=Li,Gi.writeJson_4dixew$=ji,Object.defineProperty(Mi,"OBJ",{get:Ii}),Object.defineProperty(Mi,"LIST",{get:Ai}),Object.defineProperty(Mi,"MAP",{get:Di}),Object.defineProperty(Mi,"POLY_OBJ",{get:Bi}),Gi.WriteMode=Mi,Gi.switchMode_q3nfcb$=qi,Wt.prototype.decodeNullableSerializableValue_aae3ea$=z.prototype.decodeNullableSerializableValue_aae3ea$,Wt.prototype.decodeSerializableValue_w63s0f$=z.prototype.decodeSerializableValue_w63s0f$,Wt.prototype.decodeCollectionSize_24f42q$=C.prototype.decodeCollectionSize_24f42q$,Wt.prototype.decodeNullableSerializableElement_pzkbua$=C.prototype.decodeNullableSerializableElement_pzkbua$,Wt.prototype.decodeSequentially=C.prototype.decodeSequentially,Wt.prototype.decodeSerializableElement_186mnl$=C.prototype.decodeSerializableElement_186mnl$,Wt.prototype.decodeNullableSerializableElement_8viuyw$=C.prototype.decodeNullableSerializableElement_8viuyw$,Wt.prototype.decodeSerializableElement_12e8id$=C.prototype.decodeSerializableElement_12e8id$,Object.defineProperty(Pn.prototype,"annotations",Object.getOwnPropertyDescriptor(G.prototype,"annotations")),Object.defineProperty(Pn.prototype,"isNullable",Object.getOwnPropertyDescriptor(G.prototype,"isNullable")),On.prototype.beginCollection_szpzho$=Q.prototype.beginCollection_szpzho$,On.prototype.encodeNotNullMark=Q.prototype.encodeNotNullMark,On.prototype.encodeNullableSerializableValue_f4686g$=Q.prototype.encodeNullableSerializableValue_f4686g$,On.prototype.encodeSerializableValue_tf03ej$=Q.prototype.encodeSerializableValue_tf03ej$,On.prototype.shouldEncodeElementDefault_szpzho$=tt.prototype.shouldEncodeElementDefault_szpzho$,hi.prototype.decodeNullableSerializableValue_aae3ea$=Wt.prototype.decodeNullableSerializableValue_aae3ea$,hi.prototype.decodeCollectionSize_24f42q$=Wt.prototype.decodeCollectionSize_24f42q$,hi.prototype.decodeNullableSerializableElement_pzkbua$=Wt.prototype.decodeNullableSerializableElement_pzkbua$,hi.prototype.decodeSequentially=Wt.prototype.decodeSequentially,hi.prototype.decodeSerializableElement_186mnl$=Wt.prototype.decodeSerializableElement_186mnl$,di.prototype.beginCollection_szpzho$=On.prototype.beginCollection_szpzho$,di.prototype.encodeNotNullMark=On.prototype.encodeNotNullMark,di.prototype.encodeNullableSerializableValue_f4686g$=On.prototype.encodeNullableSerializableValue_f4686g$,Dt="    ",Bt="type",Je="Use 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",Qe="It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'",tn="Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.",en="Use 'allowStructuredMapKeys = true' in 'Json {}' builder to convert such maps to [key1, value1, key2, value2,...] arrays.",nn="null",on=44,rn=58,sn=123,an=125,ln=91,pn=93,un=34,cn=92,_n=ot(0),hn=117,dn=0,fn=1,mn=4,yn=5,$n=6,bn=7,gn=8,vn=9,xn=10,wn=12;for(var Hi=new Int8Array(126),Xi=0;Xi<=32;Xi++)oi(Hi,Xi,11);oi(Hi,9,3),oi(Hi,10,3),oi(Hi,13,3),oi(Hi,32,3),ri(Hi,on,mn),ri(Hi,rn,yn),ri(Hi,sn,$n),ri(Hi,an,bn),ri(Hi,ln,gn),ri(Hi,pn,vn),ri(Hi,un,fn),ri(Hi,cn,2),zn=Hi;for(var Ki=e.newArray(128,null),Yi=0;Yi<=31;Yi++){var Zi=yi(Yi>>12),Ji=yi(Yi>>8),Qi=yi(Yi>>4),to=yi(Yi);Ki[Yi]="\\u"+String.fromCharCode(Zi)+String.fromCharCode(Ji)+String.fromCharCode(Qi)+String.fromCharCode(to)}return Ki[34]='\\"',Ki[92]="\\\\",Ki[9]="\\t",Ki[8]="\\b",Ki[10]="\\n",Ki[13]="\\r",Ki[12]="\\f",Yn=Ki,Zn="primitive",Rt.toNumber(),t})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){"use strict";var i={};(0,n(0).assign)(i,n(17),n(20),n(11)),t.exports=i},function(t,e,n){"use strict";var i=n(18),o=n(0),r=n(9),s=n(4),a=n(10),l=Object.prototype.toString;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(s[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var u;if(u="string"==typeof e.dictionary?r.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=i.deflateSetDictionary(this.strm,u)))throw new Error(s[n]);this._dict_set=!0}}function u(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}p.prototype.push=function(t,e){var n,s,a=this.strm,p=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=r.string2buf(t):"[object ArrayBuffer]"===l.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new o.Buf8(p),a.next_out=0,a.avail_out=p),1!==(n=i.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(r.buf2binstring(o.shrinkBuf(a.output,a.next_out))):this.onData(o.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=p,e.deflate=u,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,u(t,e)}},function(t,e,n){"use strict";var i,o=n(0),r=n(19),s=n(7),a=n(8),l=n(4);function p(t,e){return t.msg=l[e],e}function u(t){return(t<<1)-(t>4?9:0)}function c(t){for(var e=t.length;--e>=0;)t[e]=0}function _(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(o.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function h(t,e){r._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,_(t.strm)}function d(t,e){t.pending_buf[t.pending++]=e}function f(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function m(t,e){var n,i,o=t.max_chain_length,r=t.strstart,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,p=t.window,u=t.w_mask,c=t.prev,_=t.strstart+258,h=p[r+s-1],d=p[r+s];t.prev_length>=t.good_match&&(o>>=2),a>t.lookahead&&(a=t.lookahead);do{if(p[(n=e)+s]===d&&p[n+s-1]===h&&p[n]===p[r]&&p[++n]===p[r+1]){r+=2,n++;do{}while(p[++r]===p[++n]&&p[++r]===p[++n]&&p[++r]===p[++n]&&p[++r]===p[++n]&&p[++r]===p[++n]&&p[++r]===p[++n]&&p[++r]===p[++n]&&p[++r]===p[++n]&&r<_);if(i=258-(_-r),r=_-258,i>s){if(t.match_start=e,s=i,i>=a)break;h=p[r+s-1],d=p[r+s]}}}while((e=c[e&u])>l&&0!=--o);return s<=t.lookahead?s:t.lookahead}function y(t){var e,n,i,r,l,p,u,c,_,h,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-262)){o.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=d?i-d:0}while(--n);e=n=d;do{i=t.prev[--e],t.prev[e]=i>=d?i-d:0}while(--n);r+=d}if(0===t.strm.avail_in)break;if(p=t.strm,u=t.window,c=t.strstart+t.lookahead,_=r,h=void 0,(h=p.avail_in)>_&&(h=_),n=0===h?0:(p.avail_in-=h,o.arraySet(u,p.input,p.next_in,h,c),1===p.state.wrap?p.adler=s(p.adler,u,h,c):2===p.state.wrap&&(p.adler=a(p.adler,u,h,c)),p.next_in+=h,p.total_in+=h,h),t.lookahead+=n,t.lookahead+t.insert>=3)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function $(t,e){for(var n,i;;){if(t.lookahead<262){if(y(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=m(t,n)),t.match_length>=3)if(i=r._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(h(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(h(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?1:2}function b(t,e){for(var n,i,o;;){if(t.lookahead<262){if(y(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=m(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-3,i=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(h(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=r._tr_tally(t,0,t.window[t.strstart-1]))&&h(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(h(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?1:2}function g(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),c(this.dyn_ltree),c(this.dyn_dtree),c(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),c(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),c(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,r._tr_init(e),0):p(t,-2)}function w(t){var e,n=x(t);return 0===n&&((e=t.state).window_size=2*e.w_size,c(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function z(t,e,n,i,r,s){if(!t)return-2;var a=1;if(-1===e&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||8!==n||i<8||i>15||e<0||e>9||s<0||s>4)return p(t,-2);8===i&&(i=9);var l=new v;return t.state=l,l.strm=t,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=n,w(t)}i=[new g(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(y(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,h(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(h(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(h(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(h(t,!1),t.strm.avail_out),1)})),new g(4,4,8,4,$),new g(4,5,16,8,$),new g(4,6,32,32,$),new g(4,4,16,16,b),new g(8,16,32,32,b),new g(8,16,128,128,b),new g(8,32,128,256,b),new g(32,128,258,1024,b),new g(32,258,258,4096,b)],e.deflateInit=function(t,e){return z(t,e,8,15,8,0)},e.deflateInit2=z,e.deflateReset=w,e.deflateResetKeep=x,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,o,s,l;if(!t||!t.state||e>5||e<0)return t?p(t,-2):-2;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||666===o.status&&4!==e)return p(t,0===t.avail_out?-5:-2);if(o.strm=t,n=o.last_flush,o.last_flush=e,42===o.status)if(2===o.wrap)t.adler=0,d(o,31),d(o,139),d(o,8),o.gzhead?(d(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),d(o,255&o.gzhead.time),d(o,o.gzhead.time>>8&255),d(o,o.gzhead.time>>16&255),d(o,o.gzhead.time>>24&255),d(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),d(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(d(o,255&o.gzhead.extra.length),d(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=a(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(d(o,0),d(o,0),d(o,0),d(o,0),d(o,0),d(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),d(o,3),o.status=113);else{var m=8+(o.w_bits-8<<4)<<8;m|=(o.strategy>=2||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(m|=32),m+=31-m%31,o.status=113,f(o,m),0!==o.strstart&&(f(o,t.adler>>>16),f(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(s=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>s&&(t.adler=a(t.adler,o.pending_buf,o.pending-s,s)),_(t),s=o.pending,o.pending!==o.pending_buf_size));)d(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>s&&(t.adler=a(t.adler,o.pending_buf,o.pending-s,s)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){s=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>s&&(t.adler=a(t.adler,o.pending_buf,o.pending-s,s)),_(t),s=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,d(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>s&&(t.adler=a(t.adler,o.pending_buf,o.pending-s,s)),0===l&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){s=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>s&&(t.adler=a(t.adler,o.pending_buf,o.pending-s,s)),_(t),s=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,d(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>s&&(t.adler=a(t.adler,o.pending_buf,o.pending-s,s)),0===l&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&_(t),o.pending+2<=o.pending_buf_size&&(d(o,255&t.adler),d(o,t.adler>>8&255),t.adler=0,o.status=113)):o.status=113),0!==o.pending){if(_(t),0===t.avail_out)return o.last_flush=-1,0}else if(0===t.avail_in&&u(e)<=u(n)&&4!==e)return p(t,-5);if(666===o.status&&0!==t.avail_in)return p(t,-5);if(0!==t.avail_in||0!==o.lookahead||0!==e&&666!==o.status){var $=2===o.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(y(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(h(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(h(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?1:2}(o,e):3===o.strategy?function(t,e){for(var n,i,o,s,a=t.window;;){if(t.lookahead<=258){if(y(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=a[o=t.strstart-1])===a[++o]&&i===a[++o]&&i===a[++o]){s=t.strstart+258;do{}while(i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&o<s);t.match_length=258-(s-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=r._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(h(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(h(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?1:2}(o,e):i[o.level].func(o,e);if(3!==$&&4!==$||(o.status=666),1===$||3===$)return 0===t.avail_out&&(o.last_flush=-1),0;if(2===$&&(1===e?r._tr_align(o):5!==e&&(r._tr_stored_block(o,0,0,!1),3===e&&(c(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),_(t),0===t.avail_out))return o.last_flush=-1,0}return 4!==e?0:o.wrap<=0?1:(2===o.wrap?(d(o,255&t.adler),d(o,t.adler>>8&255),d(o,t.adler>>16&255),d(o,t.adler>>24&255),d(o,255&t.total_in),d(o,t.total_in>>8&255),d(o,t.total_in>>16&255),d(o,t.total_in>>24&255)):(f(o,t.adler>>>16),f(o,65535&t.adler)),_(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?p(t,-2):(t.state=null,113===e?p(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,i,r,a,l,p,u,_,h=e.length;if(!t||!t.state)return-2;if(2===(a=(n=t.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(t.adler=s(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===a&&(c(n.head),n.strstart=0,n.block_start=0,n.insert=0),_=new o.Buf8(n.w_size),o.arraySet(_,e,h-n.w_size,n.w_size,0),e=_,h=n.w_size),l=t.avail_in,p=t.next_in,u=t.input,t.avail_in=h,t.next_in=0,t.input=e,y(n);n.lookahead>=3;){i=n.strstart,r=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--r);n.strstart=i,n.lookahead=2,y(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=p,t.input=u,t.avail_in=l,n.wrap=a,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(0);function o(t){for(var e=t.length;--e>=0;)t[e]=0}var r=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);o(p);var u=new Array(60);o(u);var c=new Array(512);o(c);var _=new Array(256);o(_);var h=new Array(29);o(h);var d,f,m,y=new Array(30);function $(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function g(t){return t<256?c[t]:c[256+(t>>>7)]}function v(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,v(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function w(t,e,n){x(t,n[2*e],n[2*e+1])}function z(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function C(t,e,n){var i,o,r=new Array(16),s=0;for(i=1;i<=15;i++)r[i]=s=s+n[i-1]<<1;for(o=0;o<=e;o++){var a=t[2*o+1];0!==a&&(t[2*o]=z(r[a]++,a))}}function S(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function k(t){t.bi_valid>8?v(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function L(t,e,n,i){var o=2*e,r=2*n;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]}function j(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&L(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!L(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i}function N(t,e,n){var i,o,a,l,p=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*p]<<8|t.pending_buf[t.d_buf+2*p+1],o=t.pending_buf[t.l_buf+p],p++,0===i?w(t,o,e):(w(t,(a=_[o])+256+1,e),0!==(l=r[a])&&x(t,o-=h[a],l),w(t,a=g(--i),n),0!==(l=s[a])&&x(t,i-=y[a],l))}while(p<t.last_lit);w(t,256,e)}function P(t,e){var n,i,o,r=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,p=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==r[2*n]?(t.heap[++t.heap_len]=p=n,t.depth[n]=0):r[2*n+1]=0;for(;t.heap_len<2;)r[2*(o=t.heap[++t.heap_len]=p<2?++p:0)]=1,t.depth[o]=0,t.opt_len--,a&&(t.static_len-=s[2*o+1]);for(e.max_code=p,n=t.heap_len>>1;n>=1;n--)j(t,r,n);o=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],j(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,r[2*o]=r[2*n]+r[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,r[2*n+1]=r[2*i+1]=o,t.heap[1]=o++,j(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,o,r,s,a,l=e.dyn_tree,p=e.max_code,u=e.stat_desc.static_tree,c=e.stat_desc.has_stree,_=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,d=e.stat_desc.max_length,f=0;for(r=0;r<=15;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(r=l[2*l[2*(i=t.heap[n])+1]+1]+1)>d&&(r=d,f++),l[2*i+1]=r,i>p||(t.bl_count[r]++,s=0,i>=h&&(s=_[i-h]),a=l[2*i],t.opt_len+=a*(r+s),c&&(t.static_len+=a*(u[2*i+1]+s)));if(0!==f){do{for(r=d-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[d]--,f-=2}while(f>0);for(r=d;0!==r;r--)for(i=t.bl_count[r];0!==i;)(o=t.heap[--n])>p||(l[2*o+1]!==r&&(t.opt_len+=(r-l[2*o+1])*l[2*o],l[2*o+1]=r),i--)}}(t,e),C(r,p,t.bl_count)}function T(t,e,n){var i,o,r=-1,s=e[1],a=0,l=7,p=4;for(0===s&&(l=138,p=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=s,s=e[2*(i+1)+1],++a<l&&o===s||(a<p?t.bl_tree[2*o]+=a:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,r=o,0===s?(l=138,p=3):o===s?(l=6,p=3):(l=7,p=4))}function O(t,e,n){var i,o,r=-1,s=e[1],a=0,l=7,p=4;for(0===s&&(l=138,p=3),i=0;i<=n;i++)if(o=s,s=e[2*(i+1)+1],!(++a<l&&o===s)){if(a<p)do{w(t,o,t.bl_tree)}while(0!=--a);else 0!==o?(o!==r&&(w(t,o,t.bl_tree),a--),w(t,16,t.bl_tree),x(t,a-3,2)):a<=10?(w(t,17,t.bl_tree),x(t,a-3,3)):(w(t,18,t.bl_tree),x(t,a-11,7));a=0,r=o,0===s?(l=138,p=3):o===s?(l=6,p=3):(l=7,p=4)}}o(y);var E=!1;function M(t,e,n,o){x(t,0+(o?1:0),3),function(t,e,n,o){k(t),o&&(v(t,n),v(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){E||(!function(){var t,e,n,i,o,l=new Array(16);for(n=0,i=0;i<28;i++)for(h[i]=n,t=0;t<1<<r[i];t++)_[n++]=i;for(_[n-1]=i,o=0,i=0;i<16;i++)for(y[i]=o,t=0;t<1<<s[i];t++)c[o++]=i;for(o>>=7;i<30;i++)for(y[i]=o<<7,t=0;t<1<<s[i]-7;t++)c[256+o++]=i;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)p[2*t+1]=8,t++,l[8]++;for(;t<=255;)p[2*t+1]=9,t++,l[9]++;for(;t<=279;)p[2*t+1]=7,t++,l[7]++;for(;t<=287;)p[2*t+1]=8,t++,l[8]++;for(C(p,287,l),t=0;t<30;t++)u[2*t+1]=5,u[2*t]=z(t,5);d=new $(p,r,257,286,15),f=new $(u,s,0,30,15),m=new $(new Array(0),a,0,19,7)}(),E=!0),t.l_desc=new b(t.dyn_ltree,d),t.d_desc=new b(t.dyn_dtree,f),t.bl_desc=new b(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,S(t)},e._tr_stored_block=M,e._tr_flush_block=function(t,e,n,i){var o,r,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),P(t,t.l_desc),P(t,t.d_desc),s=function(t){var e;for(T(t,t.dyn_ltree,t.l_desc.max_code),T(t,t.dyn_dtree,t.d_desc.max_code),P(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=o&&(o=r)):o=r=n+5,n+4<=o&&-1!==e?M(t,e,n,i):4===t.strategy||r===o?(x(t,2+(i?1:0),3),N(t,p,u)):(x(t,4+(i?1:0),3),function(t,e,n,i){var o;for(x(t,e-257,5),x(t,n-1,5),x(t,i-4,4),o=0;o<i;o++)x(t,t.bl_tree[2*l[o]+1],3);O(t,t.dyn_ltree,e-1),O(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),N(t,t.dyn_ltree,t.dyn_dtree)),S(t),i&&k(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(_[n]+256+1)]++,t.dyn_dtree[2*g(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){x(t,2,3),w(t,256,p),function(t){16===t.bi_valid?(v(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var i=n(21),o=n(0),r=n(9),s=n(11),a=n(4),l=n(10),p=n(24),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new p,i.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=r.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=i.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(a[n])}function _(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}c.prototype.push=function(t,e){var n,a,l,p,c,_=this.strm,h=this.options.chunkSize,d=this.options.dictionary,f=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?_.input=r.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?_.input=new Uint8Array(t):_.input=t,_.next_in=0,_.avail_in=_.input.length;do{if(0===_.avail_out&&(_.output=new o.Buf8(h),_.next_out=0,_.avail_out=h),(n=i.inflate(_,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&d&&(n=i.inflateSetDictionary(this.strm,d)),n===s.Z_BUF_ERROR&&!0===f&&(n=s.Z_OK,f=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;_.next_out&&(0!==_.avail_out&&n!==s.Z_STREAM_END&&(0!==_.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=r.utf8border(_.output,_.next_out),p=_.next_out-l,c=r.buf2string(_.output,l),_.next_out=p,_.avail_out=h-p,p&&o.arraySet(_.output,_.output,l,p,0),this.onData(c)):this.onData(o.shrinkBuf(_.output,_.next_out)))),0===_.avail_in&&0===_.avail_out&&(f=!0)}while((_.avail_in>0||0===_.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),_.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=c,e.inflate=_,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,_(t,e)},e.ungzip=_},function(t,e,n){"use strict";var i=n(0),o=n(7),r=n(8),s=n(22),a=n(23);function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(852),e.distcode=e.distdyn=new i.Buf32(592),e.sane=1,e.back=-1,0):-2}function c(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,u(t)):-2}function _(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,c(t))):-2}function h(t,e){var n,i;return t?(i=new p,t.state=i,i.window=null,0!==(n=_(t,e))&&(t.state=null),n):-2}var d,f,m=!0;function y(t){if(m){var e;for(d=new i.Buf32(512),f=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,f,0,t.work,{bits:5}),m=!1}t.lencode=d,t.lenbits=9,t.distcode=f,t.distbits=5}function $(t,e,n,o){var r,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),o>=s.wsize?(i.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((r=s.wsize-s.wnext)>o&&(r=o),i.arraySet(s.window,e,n-o,r,s.wnext),(o-=r)?(i.arraySet(s.window,e,n-o,o,0),s.wnext=o,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}e.inflateReset=c,e.inflateReset2=_,e.inflateResetKeep=u,e.inflateInit=function(t){return h(t,15)},e.inflateInit2=h,e.inflate=function(t,e){var n,p,u,c,_,h,d,f,m,b,g,v,x,w,z,C,S,k,L,j,N,P,T,O,E=0,M=new i.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),_=t.next_out,u=t.output,d=t.avail_out,c=t.next_in,p=t.input,h=t.avail_in,f=n.hold,m=n.bits,b=h,g=d,P=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;m<16;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if(2&n.wrap&&35615===f){n.check=0,M[0]=255&f,M[1]=f>>>8&255,n.check=r(n.check,M,2,0),f=0,m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&f)){t.msg="unknown compression method",n.mode=30;break}if(m-=4,N=8+(15&(f>>>=4)),0===n.wbits)n.wbits=N;else if(N>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<N,t.adler=n.check=1,n.mode=512&f?10:12,f=0,m=0;break;case 2:for(;m<16;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if(n.flags=f,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(M[0]=255&f,M[1]=f>>>8&255,n.check=r(n.check,M,2,0)),f=0,m=0,n.mode=3;case 3:for(;m<32;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}n.head&&(n.head.time=f),512&n.flags&&(M[0]=255&f,M[1]=f>>>8&255,M[2]=f>>>16&255,M[3]=f>>>24&255,n.check=r(n.check,M,4,0)),f=0,m=0,n.mode=4;case 4:for(;m<16;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(M[0]=255&f,M[1]=f>>>8&255,n.check=r(n.check,M,2,0)),f=0,m=0,n.mode=5;case 5:if(1024&n.flags){for(;m<16;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(M[0]=255&f,M[1]=f>>>8&255,n.check=r(n.check,M,2,0)),f=0,m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((v=n.length)>h&&(v=h),v&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,p,c,v,N)),512&n.flags&&(n.check=r(n.check,p,v,c)),h-=v,c+=v,n.length-=v),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break t;v=0;do{N=p[c+v++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N))}while(N&&v<h);if(512&n.flags&&(n.check=r(n.check,p,v,c)),h-=v,c+=v,N)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break t;v=0;do{N=p[c+v++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N))}while(N&&v<h);if(512&n.flags&&(n.check=r(n.check,p,v,c)),h-=v,c+=v,N)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;m<16;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}f=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;m<32;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}t.adler=n.check=l(f),f=0,m=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=_,t.avail_out=d,t.next_in=c,t.avail_in=h,n.hold=f,n.bits=m,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){f>>>=7&m,m-=7&m,n.mode=27;break}for(;m<3;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}switch(n.last=1&f,m-=1,3&(f>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6===e){f>>>=2,m-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}f>>>=2,m-=2;break;case 14:for(f>>>=7&m,m-=7&m;m<32;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&f,f=0,m=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(v=n.length){if(v>h&&(v=h),v>d&&(v=d),0===v)break t;i.arraySet(u,p,c,v,_),h-=v,c+=v,d-=v,_+=v,n.length-=v;break}n.mode=12;break;case 17:for(;m<14;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if(n.nlen=257+(31&f),f>>>=5,m-=5,n.ndist=1+(31&f),f>>>=5,m-=5,n.ncode=4+(15&f),f>>>=4,m-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;m<3;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}n.lens[R[n.have++]]=7&f,f>>>=3,m-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},P=a(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,P){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;C=(E=n.lencode[f&(1<<n.lenbits)-1])>>>16&255,S=65535&E,!((z=E>>>24)<=m);){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if(S<16)f>>>=z,m-=z,n.lens[n.have++]=S;else{if(16===S){for(O=z+2;m<O;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if(f>>>=z,m-=z,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}N=n.lens[n.have-1],v=3+(3&f),f>>>=2,m-=2}else if(17===S){for(O=z+3;m<O;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}m-=z,N=0,v=3+(7&(f>>>=z)),f>>>=3,m-=3}else{for(O=z+7;m<O;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}m-=z,N=0,v=11+(127&(f>>>=z)),f>>>=7,m-=7}if(n.have+v>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;v--;)n.lens[n.have++]=N}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,T={bits:n.lenbits},P=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,P){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},P=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,P){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(h>=6&&d>=258){t.next_out=_,t.avail_out=d,t.next_in=c,t.avail_in=h,n.hold=f,n.bits=m,s(t,g),_=t.next_out,u=t.output,d=t.avail_out,c=t.next_in,p=t.input,h=t.avail_in,f=n.hold,m=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;C=(E=n.lencode[f&(1<<n.lenbits)-1])>>>16&255,S=65535&E,!((z=E>>>24)<=m);){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if(C&&0==(240&C)){for(k=z,L=C,j=S;C=(E=n.lencode[j+((f&(1<<k+L)-1)>>k)])>>>16&255,S=65535&E,!(k+(z=E>>>24)<=m);){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}f>>>=k,m-=k,n.back+=k}if(f>>>=z,m-=z,n.back+=z,n.length=S,0===C){n.mode=26;break}if(32&C){n.back=-1,n.mode=12;break}if(64&C){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&C,n.mode=22;case 22:if(n.extra){for(O=n.extra;m<O;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;C=(E=n.distcode[f&(1<<n.distbits)-1])>>>16&255,S=65535&E,!((z=E>>>24)<=m);){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if(0==(240&C)){for(k=z,L=C,j=S;C=(E=n.distcode[j+((f&(1<<k+L)-1)>>k)])>>>16&255,S=65535&E,!(k+(z=E>>>24)<=m);){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}f>>>=k,m-=k,n.back+=k}if(f>>>=z,m-=z,n.back+=z,64&C){t.msg="invalid distance code",n.mode=30;break}n.offset=S,n.extra=15&C,n.mode=24;case 24:if(n.extra){for(O=n.extra;m<O;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===d)break t;if(v=g-d,n.offset>v){if((v=n.offset-v)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}v>n.wnext?(v-=n.wnext,x=n.wsize-v):x=n.wnext-v,v>n.length&&(v=n.length),w=n.window}else w=u,x=_-n.offset,v=n.length;v>d&&(v=d),d-=v,n.length-=v;do{u[_++]=w[x++]}while(--v);0===n.length&&(n.mode=21);break;case 26:if(0===d)break t;u[_++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;m<32;){if(0===h)break t;h--,f|=p[c++]<<m,m+=8}if(g-=d,t.total_out+=g,n.total+=g,g&&(t.adler=n.check=n.flags?r(n.check,u,g,_-g):o(n.check,u,g,_-g)),g=d,(n.flags?f:l(f))!==n.check){t.msg="incorrect data check",n.mode=30;break}f=0,m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;m<32;){if(0===h)break t;h--,f+=p[c++]<<m,m+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}f=0,m=0}n.mode=29;case 29:P=1;break t;case 30:P=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=_,t.avail_out=d,t.next_in=c,t.avail_in=h,n.hold=f,n.bits=m,(n.wsize||g!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&$(t,t.output,t.next_out,g-t.avail_out)?(n.mode=31,-4):(b-=t.avail_in,g-=t.avail_out,t.total_in+=b,t.total_out+=g,n.total+=g,n.wrap&&g&&(t.adler=n.check=n.flags?r(n.check,u,g,t.next_out-g):o(n.check,u,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===g||4===e)&&0===P&&(P=-5),P)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&o(1,e,i,0)!==n.check?-3:$(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,o,r,s,a,l,p,u,c,_,h,d,f,m,y,$,b,g,v,x,w,z,C,S;n=t.state,i=t.next_in,C=t.input,o=i+(t.avail_in-5),r=t.next_out,S=t.output,s=r-(e-t.avail_out),a=r+(t.avail_out-257),l=n.dmax,p=n.wsize,u=n.whave,c=n.wnext,_=n.window,h=n.hold,d=n.bits,f=n.lencode,m=n.distcode,y=(1<<n.lenbits)-1,$=(1<<n.distbits)-1;t:do{d<15&&(h+=C[i++]<<d,d+=8,h+=C[i++]<<d,d+=8),b=f[h&y];e:for(;;){if(h>>>=g=b>>>24,d-=g,0===(g=b>>>16&255))S[r++]=65535&b;else{if(!(16&g)){if(0==(64&g)){b=f[(65535&b)+(h&(1<<g)-1)];continue e}if(32&g){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}v=65535&b,(g&=15)&&(d<g&&(h+=C[i++]<<d,d+=8),v+=h&(1<<g)-1,h>>>=g,d-=g),d<15&&(h+=C[i++]<<d,d+=8,h+=C[i++]<<d,d+=8),b=m[h&$];n:for(;;){if(h>>>=g=b>>>24,d-=g,!(16&(g=b>>>16&255))){if(0==(64&g)){b=m[(65535&b)+(h&(1<<g)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&b,d<(g&=15)&&(h+=C[i++]<<d,(d+=8)<g&&(h+=C[i++]<<d,d+=8)),(x+=h&(1<<g)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=g,d-=g,x>(g=r-s)){if((g=x-g)>u&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(w=0,z=_,0===c){if(w+=p-g,g<v){v-=g;do{S[r++]=_[w++]}while(--g);w=r-x,z=S}}else if(c<g){if(w+=p+c-g,(g-=c)<v){v-=g;do{S[r++]=_[w++]}while(--g);if(w=0,c<v){v-=g=c;do{S[r++]=_[w++]}while(--g);w=r-x,z=S}}}else if(w+=c-g,g<v){v-=g;do{S[r++]=_[w++]}while(--g);w=r-x,z=S}for(;v>2;)S[r++]=z[w++],S[r++]=z[w++],S[r++]=z[w++],v-=3;v&&(S[r++]=z[w++],v>1&&(S[r++]=z[w++]))}else{w=r-x;do{S[r++]=S[w++],S[r++]=S[w++],S[r++]=S[w++],v-=3}while(v>2);v&&(S[r++]=S[w++],v>1&&(S[r++]=S[w++]))}break}}break}}while(i<o&&r<a);i-=v=d>>3,h&=(1<<(d-=v<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<o?o-i+5:5-(i-o),t.avail_out=r<a?a-r+257:257-(r-a),n.hold=h,n.bits=d}},function(t,e,n){"use strict";var i=n(0),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,p,u,c,_){var h,d,f,m,y,$,b,g,v,x=_.bits,w=0,z=0,C=0,S=0,k=0,L=0,j=0,N=0,P=0,T=0,O=null,E=0,M=new i.Buf16(16),R=new i.Buf16(16),I=null,A=0;for(w=0;w<=15;w++)M[w]=0;for(z=0;z<l;z++)M[e[n+z]]++;for(k=x,S=15;S>=1&&0===M[S];S--);if(k>S&&(k=S),0===S)return p[u++]=20971520,p[u++]=20971520,_.bits=1,0;for(C=1;C<S&&0===M[C];C++);for(k<C&&(k=C),N=1,w=1;w<=15;w++)if(N<<=1,(N-=M[w])<0)return-1;if(N>0&&(0===t||1!==S))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+M[w];for(z=0;z<l;z++)0!==e[n+z]&&(c[R[e[n+z]]++]=z);if(0===t?(O=I=c,$=19):1===t?(O=o,E-=257,I=r,A-=257,$=256):(O=s,I=a,$=-1),T=0,z=0,w=C,y=u,L=k,j=0,f=-1,m=(P=1<<k)-1,1===t&&P>852||2===t&&P>592)return 1;for(;;){b=w-j,c[z]<$?(g=0,v=c[z]):c[z]>$?(g=I[A+c[z]],v=O[E+c[z]]):(g=96,v=0),h=1<<w-j,C=d=1<<L;do{p[y+(T>>j)+(d-=h)]=b<<24|g<<16|v|0}while(0!==d);for(h=1<<w-1;T&h;)h>>=1;if(0!==h?(T&=h-1,T+=h):T=0,z++,0==--M[w]){if(w===S)break;w=e[n+c[z]]}if(w>k&&(T&m)!==f){for(0===j&&(j=k),y+=C,N=1<<(L=w-j);L+j<S&&!((N-=M[L+j])<=0);)L++,N<<=1;if(P+=1<<L,1===t&&P>852||2===t&&P>592)return 1;p[f=T&m]=k<<24|L<<16|y-u|0}}return 0!==T&&(p[y+T]=w-j<<24|64<<16|0),_.bits=k,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){var i,o,r;o=[e,n(1),n(5),n(3)],void 0===(r="function"==typeof(i=function(t,e,i,o){"use strict";var r=t.$$importsForInline$$||(t.$$importsForInline$$={}),s=i.de.fabmax.kool.util.PerfTimer,a=e.Kind.CLASS,l=e.kotlin.collections.ArrayList_init_287e2$,p=Math,u=e.kotlin.Unit,c=i.de.fabmax.kool.pipeline.shading.pbrShader_skmpm9$,_=i.de.fabmax.kool.scene.colorMesh_gp9ews$,h=i.de.fabmax.kool.scene.group_2ylazs$,d=i.de.fabmax.kool.math.Mat4f,f=i.de.fabmax.kool.math.MutableVec4f_init,m=i.de.fabmax.kool.util.CubeProps,y=e.kotlin.math,$=i.de.fabmax.kool.math.MutableVec3f,b=i.de.fabmax.kool.util.SimpleShape,g=i.de.fabmax.kool.util.Profile,v=i.de.fabmax.kool.util.CylinderProps,x=i.de.fabmax.kool.util,w=i.de.fabmax.kool.util.Log.Level,z=i.de.fabmax.kool.util.SphereProps,C=i.de.fabmax.kool.math.MutableVec3f_init,S=e.Kind.OBJECT,k=e.Kind.INTERFACE,L=e.kotlin.coroutines.intrinsics.COROUTINE_SUSPENDED,j=e.kotlin.coroutines.CoroutineImpl,N=e.kotlin.IllegalStateException_init_pdl1vj$,P=o.kotlinx.coroutines.Job_5dx9e$,T=o.kotlinx.coroutines.CompletableDeferred_xptg6w$,O=o.kotlinx.coroutines.CoroutineScope,E=e.kotlin.io.println_s8jyv4$,M=i.de.fabmax.kool.math.Vec3f,R=i.de.fabmax.kool.pipeline.Attribute,I=i.de.fabmax.kool.util.IndexedVertexList_init_5jr6ei$,A=e.kotlin.collections.removeAll_qafx1e$;function D(){this.physicsTime=0,this.physicsTimeDesired=0,this.smartSubSteps=!0,this.smartSubStepLimit_sqmeza$_0=5,this.perfTimer_3pppi2$_0=new s,this.cpuTime_h6in77$_0=0,this.timeFactor_jcs4mu$_0=1,this.mutBodies_6vog8a$_0=l(),this.mutConstraints_pm1kig$_0=l()}function B(t,e){this.collisionShape=t,this.mass=e,this.onFixedUpdate=l(),this.transform=new d,this.bufRotation_en9kw5$_0=f()}function F(t){return u}function q(t,e,n){return function(i){i.generate_v2sixm$(function(t,e){return function(n){return n.color=t,e.collisionShape.generateGeometry_84rojv$(n),u}}(t,e)),i.shader=c(F);var o=i.onUpdate,r=function(t,e){return function(n,i){return t.transform.set_d4zu6j$(e.transform),t.setDirty(),u}}(n,e);return o.add_11rb$(r),u}}function U(){this.friction=.5,this.rollingFriction=0,this.restitution=0,this.linearDamping=0,this.angularDamping=0,this.sleepThreshold=1}function V(t){this.size=t}function W(t,e){this.height=t,this.radius=e}function G(t){this.points=t}function H(t,e){this.height=t,this.radius=e}function X(t,e){this.shape=t,this.transform=e}function K(){}function Y(t,e){this.planeNormal=t,this.planeConstant=e}function Z(t){this.radius=t}function J(t,e){return void 0===e&&(e=f()),e.set_7b5o5w$(t.x(),t.y(),t.z(),t.w())}function Q(t,e){t.setValue(e.x,e.y,e.z)}function tt(t,e){return void 0===e&&(e=C()),e.set_y2kzbl$(t.x(),t.y(),t.z())}function et(t,e){void 0===e&&(e=new d);var n=t.getBasis(),i=t.getOrigin();return e.set_n0b4r3$(0,0,n.getRow(0).x()),e.set_n0b4r3$(0,1,n.getRow(0).y()),e.set_n0b4r3$(0,2,n.getRow(0).z()),e.set_n0b4r3$(1,0,n.getRow(1).x()),e.set_n0b4r3$(1,1,n.getRow(1).y()),e.set_n0b4r3$(1,2,n.getRow(1).z()),e.set_n0b4r3$(2,0,n.getRow(2).x()),e.set_n0b4r3$(2,1,n.getRow(2).y()),e.set_n0b4r3$(2,2,n.getRow(2).z()),e.set_n0b4r3$(0,3,i.x()),e.set_n0b4r3$(1,3,i.y()),e.set_n0b4r3$(2,3,i.z()),e.set_n0b4r3$(3,0,0),e.set_n0b4r3$(3,1,0),e.set_n0b4r3$(3,2,0),e.set_n0b4r3$(3,3,1),e}function nt(t){return at().btVector3_y2kzbl$(t.x,t.y,t.z)}function it(t){return at().btQuaternion_7b5o5w$(t.x,t.y,t.z,t.w)}function ot(t,e){return void 0===e&&(e=at().btTransform()),e.setFromOpenGLMatrix(t.matrix),e}function rt(){st=this,this.ammo=null,this.ammoPromise_0=n(26)(),this.onLoadListeners_0=l()}i.de.fabmax.kool.util.PrimitiveType,e.kotlin.IllegalArgumentException_init_pdl1vj$,dt.prototype=Object.create(D.prototype),dt.prototype.constructor=dt,ft.prototype=Object.create(B.prototype),ft.prototype.constructor=ft,mt.prototype=Object.create(V.prototype),mt.prototype.constructor=mt,yt.prototype=Object.create(W.prototype),yt.prototype.constructor=yt,bt.prototype=Object.create(G.prototype),bt.prototype.constructor=bt,gt.prototype=Object.create(H.prototype),gt.prototype.constructor=gt,vt.prototype=Object.create(K.prototype),vt.prototype.constructor=vt,xt.prototype=Object.create(Y.prototype),xt.prototype.constructor=xt,wt.prototype=Object.create(Z.prototype),wt.prototype.constructor=wt,Object.defineProperty(D.prototype,"cpuTime",{configurable:!0,get:function(){return this.cpuTime_h6in77$_0},set:function(t){this.cpuTime_h6in77$_0=t}}),Object.defineProperty(D.prototype,"timeFactor",{configurable:!0,get:function(){return this.timeFactor_jcs4mu$_0},set:function(t){this.timeFactor_jcs4mu$_0=t}}),Object.defineProperty(D.prototype,"bodies",{configurable:!0,get:function(){return this.mutBodies_6vog8a$_0}}),Object.defineProperty(D.prototype,"constraints",{configurable:!0,get:function(){return this.mutConstraints_pm1kig$_0}}),D.prototype.addRigidBody_m4howt$=function(t){this.mutBodies_6vog8a$_0.add_11rb$(t),this.addRigidBodyImpl_m4howt$(t)},D.prototype.removeRigidBody_m4howt$=function(t){this.mutBodies_6vog8a$_0.remove_11rb$(t),this.removeRigidBodyImpl_m4howt$(t)},D.prototype.addConstraint_nsth4u$=function(t,e){void 0===e&&(e=!1),this.mutConstraints_pm1kig$_0.add_11rb$(t),this.addConstraintImpl_nsth4u$(t,e)},D.prototype.removeConstraint_vw586d$=function(t){this.mutConstraints_pm1kig$_0.remove_11rb$(t),this.removeConstraintImpl_vw586d$(t)},D.prototype.clear=function(){var t,e;for(t=this.mutBodies_6vog8a$_0.iterator();t.hasNext();){var n=t.next();this.removeRigidBodyImpl_m4howt$(n)}for(e=this.mutConstraints_pm1kig$_0.iterator();e.hasNext();){var i=e.next();this.removeConstraintImpl_vw586d$(i)}this.mutBodies_6vog8a$_0.clear()},D.prototype.stepPhysics_r6tv2c$=function(t,e,n){void 0===e&&(e=5),void 0===n&&(n=1/60);var i,o=0;if(this.smartSubSteps){var r=this.smartSubStepLimit_sqmeza$_0;i=p.min(r,e)}else i=e;var s=i;for(this.physicsTimeDesired+=t;this.physicsTime<this.physicsTimeDesired&&s>0;){this.perfTimer_3pppi2$_0.reset(),this.singleStepPhysics_mx4ult$(n),o=o+1|0;var a=this.perfTimer_3pppi2$_0.takeMs();this.cpuTime=.8*this.cpuTime+.2*a,this.physicsTime+=n,this.physicsTime<this.physicsTimeDesired&&(s=s-1|0)}0===s?(this.physicsTime=this.physicsTimeDesired,this.smartSubStepLimit_sqmeza$_0>1&&(this.smartSubStepLimit_sqmeza$_0=this.smartSubStepLimit_sqmeza$_0-1|0)):this.smartSubStepLimit_sqmeza$_0<e&&(this.smartSubStepLimit_sqmeza$_0=this.smartSubStepLimit_sqmeza$_0+1|0);var l=n*o;return this.timeFactor=.9*this.timeFactor+l/t*.1,l},D.prototype.singleStepPhysics_mx4ult$=function(t){var e;this.singleStepPhysicsImpl_mx4ult$(t),e=this.mutBodies_6vog8a$_0;for(var n=0;n!==e.size;++n)this.mutBodies_6vog8a$_0.get_za3lpa$(n).fixedUpdate_mx4ult$(t)},D.$metadata$={kind:a,simpleName:"CommonPhysicsWorld",interfaces:[]},B.prototype.setRotation_d4zu7e$=function(t){this.rotation=t.getRotation_5s4mpv$(this.bufRotation_en9kw5$_0)},B.prototype.fixedUpdate_mx4ult$=function(t){var e;e=this.onFixedUpdate;for(var n=0;n!==e.size;++n)this.onFixedUpdate.get_za3lpa$(n)(t)},B.prototype.toColorMesh_d7aj7k$=function(t){return h(void 0,(e=t,n=this,function(t){return t.unaryPlus_uv0sim$(_(void 0,q(e,n,t))),u}));var e,n},B.$metadata$={kind:a,simpleName:"CommonRigidBody",interfaces:[]},U.$metadata$={kind:a,simpleName:"RigidBodyProperties",interfaces:[]},V.prototype.generateGeometry_84rojv$=function(t){var e=new m;e.size.set_czzhiu$(this.size),e.origin.set_czzhiu$(e.size).scale_mx4ult$(-.5),t.cube_lhbb6w$(e)},V.$metadata$={kind:a,simpleName:"CommonBoxShape",interfaces:[]},W.prototype.generateGeometry_84rojv$=function(t){var e=new g,n=this.height/2,i=new b(!1);e.shapes.add_11rb$(i);for(var o=0;o<=8;o++){var r=o/8*y.PI/2+1.5*y.PI,s=p.cos(r),a=p.sin(r);i.xy_dleff0$(s*this.radius,a*this.radius-n);var l=i.normals,u=new $(s,a,0);l.add_11rb$(u)}for(var c=0;c<=8;c++){var _=c/8*y.PI/2,h=p.cos(_),d=p.sin(_);i.xy_dleff0$(h*this.radius,d*this.radius+n);var f=i.normals,m=new $(h,d,0);f.add_11rb$(m)}for(var v=0;v<=20;v++)t.sample_afatab$(e),t.rotate_y2kzbl$(0,-18,0)},W.$metadata$={kind:a,simpleName:"CommonCapsuleShape",interfaces:[]},G.prototype.generateGeometry_84rojv$=function(t){var e,n,i=this.geometry,o=l();n=i.numVertices;for(var r=0;r<n;r++){i.vertexIt.index=r;var s=i.vertexIt,a=t.vertex_n440gp$(s,s.normal);o.add_11rb$(a)}e=i.numIndices;for(var p=0;p<e;p+=3){var u=o.get_za3lpa$(i.indices.get_za3lpa$(p)),c=o.get_za3lpa$(i.indices.get_za3lpa$(p+1|0)),_=o.get_za3lpa$(i.indices.get_za3lpa$(p+2|0));t.geometry.addTriIndices_qt1dr2$(u,c,_)}},G.$metadata$={kind:a,simpleName:"CommonConvexHullShape",interfaces:[]},H.prototype.generateGeometry_84rojv$=function(t){var e=new v;e.height=this.height,e.radius=this.radius,e.steps=40,e.origin.set_y2kzbl$(0,-e.height/2,0),t.cylinder_tnt2h$(e)},H.$metadata$={kind:a,simpleName:"CommonCylinderShape",interfaces:[]},X.$metadata$={kind:a,simpleName:"ChildShape",interfaces:[]},K.prototype.addShape_o38ji4$=function(t,e){this.addShape_ybsk9d$(new X(t,e))},K.prototype.generateGeometry_84rojv$=function(t){var e;for(e=this.children.iterator();e.hasNext();){var n=e.next();t.transform.push(),t.transform.mul_d4zu6j$(n.transform),n.shape.generateGeometry_84rojv$(t),t.transform.pop()}},K.$metadata$={kind:a,simpleName:"CommonMultiShape",interfaces:[]},Y.prototype.generateGeometry_84rojv$=function(t){var n=x.Log,i=w.WARN,o=e.getKClassFromExpression(this).simpleName;i.level>=n.level.level&&n.printer(i,o,"Plane geometry generation is not yet implemented")},Y.$metadata$={kind:a,simpleName:"CommonPlaneShape",interfaces:[]},Z.prototype.generateGeometry_84rojv$=function(t){var e=(new z).icoDefaults();e.radius=this.radius,e.steps=2,t.icoSphere_mojs8w$(e)},Z.$metadata$={kind:a,simpleName:"CommonSphereShape",interfaces:[]},Object.defineProperty(rt.prototype,"isInitialized",{configurable:!0,get:function(){return null!=this.ammo}}),rt.prototype.initAmmo=function(){var t;null==this.ammo&&this.ammoPromise_0.then((t=this,function(n){var i,o=t,r=x.Log,s=w.INFO,a=e.getKClassFromExpression(o).simpleName;for(s.level>=r.level.level&&r.printer(s,a,"loaded ammo.js"),t.ammo=n,i=t.onLoadListeners_0.iterator();i.hasNext();)i.next()();return u}))},rt.prototype.onLoad_o14v8n$=function(t){this.onLoadListeners_0.add_11rb$(t),null!=this.ammo&&t()},rt.prototype.btBoxShape_bhll6m$=function(t){return new this.ammo.btBoxShape(t)},rt.prototype.btBvhTriangleMeshShape_lrobgj$=function(t,e){return new this.ammo.btBvhTriangleMeshShape(t,e)},rt.prototype.btCapsuleShape_dleff0$=function(t,e){return new this.ammo.btCapsuleShape(t,e)},rt.prototype.btCollisionDispatcher_ih1nw3$=function(t){return new this.ammo.btCollisionDispatcher(t)},rt.prototype.btCompoundShape=function(){return new this.ammo.btCompoundShape},rt.prototype.btConeShape_dleff0$=function(t,e){return new this.ammo.btConeShape(t,e)},rt.prototype.btConvexHullShape=function(){return new this.ammo.btConvexHullShape},rt.prototype.btCylinderShape_bhll6m$=function(t){return new this.ammo.btCylinderShape(t)},rt.prototype.btDbvtBroadphase=function(){return new this.ammo.btDbvtBroadphase},rt.prototype.btDefaultCollisionConfiguration=function(){return new this.ammo.btDefaultCollisionConfiguration},rt.prototype.btDefaultMotionState=function(){return new this.ammo.btDefaultMotionState},rt.prototype.btDefaultMotionState_ti9g18$=function(t,e){return new this.ammo.btDefaultMotionState(t,e)},rt.prototype.btDiscreteDynamicsWorld_yb5tq7$=function(t,e,n,i){return new this.ammo.btDiscreteDynamicsWorld(t,e,n,i)},rt.prototype.btHingeConstraint_jm6c5o$=function(t,e,n,i,o,r){return new this.ammo.btHingeConstraint(t,e,n,i,o,r)},rt.prototype.btQuaternion_7b5o5w$=function(t,e,n,i){return new this.ammo.btQuaternion(t,e,n,i)},rt.prototype.btRigidBody_kifqg6$=function(t){return new this.ammo.btRigidBody(t)},rt.prototype.btRigidBodyConstructionInfo_b6adaz$=function(t,e,n){return new this.ammo.btRigidBodyConstructionInfo(t,e,n)},rt.prototype.btRigidBodyConstructionInfo_aadwtr$=function(t,e,n,i){return new this.ammo.btRigidBodyConstructionInfo(t,e,n,i)},rt.prototype.btSequentialImpulseConstraintSolver=function(){return new this.ammo.btSequentialImpulseConstraintSolver},rt.prototype.btShapeHull_qt1eso$=function(t){return new this.ammo.btShapeHull(t)},rt.prototype.btSphereShape_mx4ult$=function(t){return new this.ammo.btSphereShape(t)},rt.prototype.btStaticPlaneShape_s1j4ar$=function(t,e){return new this.ammo.btStaticPlaneShape(t,e)},rt.prototype.btTransform=function(){return new this.ammo.btTransform},rt.prototype.btTransform_vlwp6i$=function(t,e){return new this.ammo.btTransform(t,e)},rt.prototype.btTriangleIndexVertexArray_cyqfr1$=function(t,e,n,i,o,r){return new this.ammo.btTriangleIndexVertexArray(t,e,n,i,o,r)},rt.prototype.btVector3_y2kzbl$=function(t,e,n){return new this.ammo.btVector3(t,e,n)},rt.$metadata$={kind:S,simpleName:"Ammo",interfaces:[]};var st=null;function at(){return null===st&&new rt,st}function lt(){}function pt(t,e,n,i,o,r){this.btConstraint_z7yl6w$_0=null,ht().checkIsLoaded(),this.btConstraint_z7yl6w$_0=at().btHingeConstraint_jm6c5o$(t.btRigidBody,e.btRigidBody,nt(n),nt(i),nt(o),nt(r))}function ut(){_t=this,this.job_0=P(),this.loadingDeferred_0=T(this.job_0),this.isLoading_0=!1}function ct(t,e){j.call(this,e),this.exceptionState_0=1,this.$this=t}lt.$metadata$={kind:k,simpleName:"Constraint",interfaces:[]},Object.defineProperty(pt.prototype,"btConstraint",{configurable:!0,get:function(){return this.btConstraint_z7yl6w$_0}}),pt.prototype.disableAngularMotor=function(){this.btConstraint.enableAngularMotor(!1,0,0)},pt.prototype.enableAngularMotor_dleff0$=function(t,e){this.btConstraint.enableAngularMotor(!0,t,e)},pt.$metadata$={kind:a,simpleName:"RevoluteConstraint",interfaces:[lt]},Object.defineProperty(ut.prototype,"coroutineContext",{configurable:!0,get:function(){return this.job_0}}),Object.defineProperty(ut.prototype,"isLoaded",{configurable:!0,get:function(){return at().isInitialized}}),ut.prototype.loadPhysics=function(){if(!this.isLoading_0){var t=x.Log,n=w.DEBUG,i=e.getKClassFromExpression(this).simpleName;n.level>=t.level.level&&t.printer(n,i,"Loading ammo.js..."),this.isLoading_0=!0,at().initAmmo(),at().onLoad_o14v8n$((o=this,function(){return o.loadingDeferred_0.complete_11rb$(u),u}))}var o},ct.$metadata$={kind:e.Kind.CLASS,simpleName:null,interfaces:[j]},ct.prototype=Object.create(j.prototype),ct.prototype.constructor=ct,ct.prototype.doResume=function(){for(;;)try{switch(this.state_0){case 0:if(this.$this.isLoading_0||this.$this.loadPhysics(),this.state_0=2,this.result_0=this.$this.loadingDeferred_0.await(this),this.result_0===L)return L;continue;case 1:throw this.exception_0;case 2:return;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}},ut.prototype.awaitLoaded=function(t,e){var n=new ct(this,t);return e?n:n.doResume(null)},ut.prototype.checkIsLoaded=function(){if(!this.isLoaded)throw N("Physics subsystem is not loaded. Call loadPhysics() first and wait for loading to be finished.")},ut.$metadata$={kind:S,simpleName:"Physics",interfaces:[O]};var _t=null;function ht(){return null===_t&&new ut,_t}function dt(){D.call(this),this.physicsWorld=null,this.bufGravity_0=C(),ht().checkIsLoaded();var t=at().btDefaultCollisionConfiguration(),e=at().btCollisionDispatcher_ih1nw3$(t),n=at().btDbvtBroadphase(),i=at().btSequentialImpulseConstraintSolver();this.physicsWorld=at().btDiscreteDynamicsWorld_yb5tq7$(e,n,i,t),this.physicsWorld.setGravity(nt(new M(0,-9.81,0)))}function ft(t,e,n){void 0===n&&(n=new U),B.call(this,t,e),this.btRigidBody=null,this.bufOrigin_0=C(),this.bufRotation_0=f(),ht().checkIsLoaded();var i=at().btDefaultMotionState(),o=at().btVector3_y2kzbl$(0,0,0),r=t.btShape;e>0&&r.calculateLocalInertia(e,o);var s=at().btRigidBodyConstructionInfo_aadwtr$(e,i,r,o);s.m_friction=n.friction,s.m_rollingFriction=n.rollingFriction,s.m_restitution=n.restitution,s.m_linearDamping=n.linearDamping,s.m_angularDamping=n.angularDamping,s.m_linearSleepingThreshold=s.m_linearSleepingThreshold*n.sleepThreshold,s.m_angularSleepingThreshold=s.m_angularSleepingThreshold*n.sleepThreshold,this.btRigidBody=at().btRigidBody_kifqg6$(s)}function mt(t){V.call(this,t),this.btShape_3po82f$_0=null,ht().checkIsLoaded();var e=t.scale_749b8l$(.5,C());this.btShape_3po82f$_0=at().btBoxShape_bhll6m$(nt(e))}function yt(t,e){W.call(this,t,e),this.btShape_2vjhaf$_0=null,ht().checkIsLoaded(),this.btShape_2vjhaf$_0=at().btCapsuleShape_dleff0$(e,t)}function $t(){}function bt(t){var e;G.call(this,t),this.btShape_ly7hmg$_0=null,this.geometry_eucod7$_0=null,ht().checkIsLoaded();var n=at().btConvexHullShape();for(e=t.iterator();e.hasNext();){var i=e.next();n.addPoint(nt(i),!1)}n.recalcLocalAabb(),n.setMargin(0);var o=at().btShapeHull_qt1eso$(n);o.buildHull(0),this.btShape_ly7hmg$_0=at().btConvexHullShape();for(var r=o.numVertices(),s=0;s<r;s++)this.btShape.addPoint(o.getVertexAt(s),!1);this.btShape.recalcLocalAabb(),this.btShape.setMargin(0),this.geometry_eucod7$_0=I([R.Companion.POSITIONS,R.Companion.NORMALS]);for(var a=o.numIndices(),l=0;l<a;l+=3){var p=this.geometry.addVertex_lv7vxo$(tt(o.getVertexAt(o.getIndexAt(l)))),u=this.geometry.addVertex_lv7vxo$(tt(o.getVertexAt(o.getIndexAt(l+1|0)))),c=this.geometry.addVertex_lv7vxo$(tt(o.getVertexAt(o.getIndexAt(l+2|0))));this.geometry.addTriIndices_qt1dr2$(p,u,c)}this.geometry.generateNormals()}function gt(t,e){H.call(this,t,e),this.btShape_44edmu$_0=null,ht().checkIsLoaded();var n=at().btVector3_y2kzbl$(e,t/2,e);this.btShape_44edmu$_0=at().btCylinderShape_bhll6m$(n)}function vt(){K.call(this),this.mutShapes_0=l(),this.btShape_ts39dn$_0=null,ht().checkIsLoaded(),this.btShape_ts39dn$_0=at().btCompoundShape()}function xt(t,e){Y.call(this,t,e),this.btShape_5fv0bc$_0=null,ht().checkIsLoaded(),this.btShape_5fv0bc$_0=at().btStaticPlaneShape_s1j4ar$(nt(t),e)}function wt(t){Z.call(this,t),this.btShape_w0liof$_0=null,ht().checkIsLoaded(),this.btShape_w0liof$_0=at().btSphereShape_mx4ult$(t)}Object.defineProperty(dt.prototype,"gravity",{configurable:!0,get:function(){return tt(this.physicsWorld.getGravity(),this.bufGravity_0)},set:function(t){this.physicsWorld.setGravity(nt(t))}}),dt.prototype.singleStepPhysicsImpl_mx4ult$=function(t){this.physicsWorld.stepSimulation(t)},dt.prototype.addRigidBodyImpl_m4howt$=function(t){this.physicsWorld.addRigidBody(t.btRigidBody)},dt.prototype.removeRigidBodyImpl_m4howt$=function(t){this.physicsWorld.removeRigidBody(t.btRigidBody)},dt.prototype.addConstraintImpl_nsth4u$=function(t,e){this.physicsWorld.addConstraint(t.btConstraint,e),E("constraint added")},dt.prototype.removeConstraintImpl_vw586d$=function(t){this.physicsWorld.removeConstraint(t.btConstraint)},dt.$metadata$={kind:a,simpleName:"PhysicsWorld",interfaces:[D]},Object.defineProperty(ft.prototype,"origin",{configurable:!0,get:function(){return tt(this.btRigidBody.getWorldTransform().getOrigin(),this.bufOrigin_0)},set:function(t){Q(this.btRigidBody.getWorldTransform().getOrigin(),t),this.updateTransform_0()}}),Object.defineProperty(ft.prototype,"rotation",{configurable:!0,get:function(){return J(this.btRigidBody.getWorldTransform().getRotation(),this.bufRotation_0)},set:function(t){this.btRigidBody.getWorldTransform().setRotation(it(t)),this.updateTransform_0()}}),ft.prototype.fixedUpdate_mx4ult$=function(t){B.prototype.fixedUpdate_mx4ult$.call(this,t),this.updateTransform_0()},ft.prototype.updateTransform_0=function(){et(this.btRigidBody.getWorldTransform(),this.transform)},ft.$metadata$={kind:a,simpleName:"RigidBody",interfaces:[B]},Object.defineProperty(mt.prototype,"btShape",{configurable:!0,get:function(){return this.btShape_3po82f$_0}}),mt.$metadata$={kind:a,simpleName:"BoxShape",interfaces:[$t,V]},Object.defineProperty(yt.prototype,"btShape",{configurable:!0,get:function(){return this.btShape_2vjhaf$_0}}),yt.$metadata$={kind:a,simpleName:"CapsuleShape",interfaces:[$t,W]},$t.$metadata$={kind:k,simpleName:"CollisionShape",interfaces:[]},Object.defineProperty(bt.prototype,"btShape",{configurable:!0,get:function(){return this.btShape_ly7hmg$_0}}),Object.defineProperty(bt.prototype,"geometry",{configurable:!0,get:function(){return this.geometry_eucod7$_0}}),bt.$metadata$={kind:a,simpleName:"ConvexHullShape",interfaces:[$t,G]},Object.defineProperty(gt.prototype,"btShape",{configurable:!0,get:function(){return this.btShape_44edmu$_0}}),gt.$metadata$={kind:a,simpleName:"CylinderShape",interfaces:[$t,H]},Object.defineProperty(vt.prototype,"children",{configurable:!0,get:function(){return this.mutShapes_0}}),Object.defineProperty(vt.prototype,"btShape",{configurable:!0,get:function(){return this.btShape_ts39dn$_0}}),vt.prototype.addShape_ybsk9d$=function(t){this.mutShapes_0.add_11rb$(t),this.btShape.addChildShape(ot(t.transform),t.shape.btShape)},vt.prototype.removeShape_wd8d6t$=function(t){var e;A(this.mutShapes_0,(e=t,function(t){return t.shape===e})),this.btShape.removeChildShape(t.btShape)},vt.$metadata$={kind:a,simpleName:"MultiShape",interfaces:[$t,K]},Object.defineProperty(xt.prototype,"btShape",{configurable:!0,get:function(){return this.btShape_5fv0bc$_0}}),xt.$metadata$={kind:a,simpleName:"PlaneShape",interfaces:[$t,Y]},Object.defineProperty(wt.prototype,"btShape",{configurable:!0,get:function(){return this.btShape_w0liof$_0}}),wt.$metadata$={kind:a,simpleName:"SphereShape",interfaces:[$t,Z]};var zt=t.de||(t.de={}),Ct=zt.fabmax||(zt.fabmax={}),St=Ct.kool||(Ct.kool={}),kt=St.physics||(St.physics={});kt.CommonPhysicsWorld=D,kt.CommonRigidBody=B,kt.RigidBodyProperties=U,kt.rigidBodyProperties_q2g6s9$=function(t){var e=new U;return t(e),e},r["kool-kool-core"]=i;var Lt=kt.shapes||(kt.shapes={});Lt.CommonBoxShape=V,Lt.CommonCapsuleShape=W,Lt.CommonConvexHullShape=G,Lt.CommonCylinderShape=H,Lt.ChildShape=X,Lt.CommonMultiShape=K,Lt.CommonPlaneShape=Y,Lt.CommonSphereShape=Z;var jt=t.ammo||(t.ammo={});jt.toVec4f_5ulr0c$=J,jt.set_q1qfgn$=Q,jt.toVec3f_6ukcwf$=tt,jt.toMat4f_an0x4w$=et,jt.toBtVector3_n748o5$=nt,jt.toBtQuaternion_n749eu$=it,jt.toBtTransform_9lcino$=ot,Object.defineProperty(jt,"Ammo",{get:at});var Nt=kt.constraints||(kt.constraints={});return Nt.Constraint=lt,Nt.RevoluteConstraint=pt,Object.defineProperty(kt,"Physics",{get:ht}),kt.PhysicsWorld=dt,kt.RigidBody=ft,Lt.BoxShape=mt,Lt.CapsuleShape=yt,Lt.CollisionShape=$t,Lt.ConvexHullShape=bt,Lt.CylinderShape=gt,Lt.MultiShape=vt,Lt.PlaneShape=xt,Lt.SphereShape=wt,t})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){(function(e,i,o){var r,s=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||e,function(t){var e,s,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){s=t,a=e}));var l,p,u,c,_,h={};for(l in e)e.hasOwnProperty(l)&&(h[l]=e[l]);p="object"==typeof window,u="function"==typeof importScripts,c="object"==typeof i&&"object"==typeof i.versions&&"string"==typeof i.versions.node,_=!p&&!c&&!u;var d,f,m,y,$="";c?($=u?n(12).dirname($)+"/":o+"/",d=function(t,e){return m||(m=n(27)),y||(y=n(12)),t=y.normalize(t),m.readFileSync(t,e?null:"utf8")},f=function(t){return(t=d(t,!0)).buffer||(t=new Uint8Array(t)),S(t.buffer),t},1<i.argv.length&&i.argv[1].replace(/\\/g,"/"),i.argv.slice(2),i.on("uncaughtException",(function(t){throw t})),i.on("unhandledRejection",W),e.inspect=function(){return"[Emscripten Module object]"}):_?("undefined"!=typeof read&&(d=function(t){return read(t)}),f=function(t){return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(S("object"==typeof(t=read(t,"binary"))),t)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(p||u)&&(u?$=self.location.href:document.currentScript&&($=document.currentScript.src),r&&($=r),$=0!==$.indexOf("blob:")?$.substr(0,$.lastIndexOf("/")+1):"",d=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},u&&(f=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),e.print||console.log.bind(console);var b=e.printErr||console.warn.bind(console);for(l in h)h.hasOwnProperty(l)&&(e[l]=h[l]);h=null;var g,v,x=[];e.wasmBinary&&(v=e.wasmBinary),e.noExitRuntime&&e.noExitRuntime,"object"!=typeof WebAssembly&&W("no native wasm support detected");var w,z=new WebAssembly.Table({initial:905,element:"anyfunc"}),C=!1;function S(t,e){t||W("Assertion failed: "+e)}var k,L,j,N,P,T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(t){k=t,e.HEAP8=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=j=new Int32Array(t),e.HEAPU8=L=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=new Uint32Array(t),e.HEAPF32=N=new Float32Array(t),e.HEAPF64=P=new Float64Array(t)}var E=e.INITIAL_MEMORY||268435456;function M(t){for(;0<t.length;){var n=t.shift();if("function"==typeof n)n(e);else{var i=n.Cy;"number"==typeof i?void 0===n.hy?e.dynCall_v(i):e.dynCall_vi(i,n.hy):i(void 0===n.hy?null:n.hy)}}}(w=e.wasmMemory?e.wasmMemory:new WebAssembly.Memory({initial:E/65536,maximum:32768}))&&(k=w.buffer),E=k.byteLength,O(k),j[7432]=5272768;var R=[],I=[],A=[],D=[],B=!1;function F(){var t=e.preRun.shift();R.unshift(t)}var q=0,U=null,V=null;function W(t){throw e.onAbort&&e.onAbort(t),b(t+=""),C=!0,t=new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info."),a(t),t}function G(t){var e=X;return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}function H(){return G("data:application/octet-stream;base64,")}e.preloadedImages={},e.preloadedAudios={};var X="ammo.wasm.wasm";if(!H()){var K=X;X=e.locateFile?e.locateFile(K,$):$+K}function Y(){try{if(v)return new Uint8Array(v);if(f)return f(X);throw"both async and sync fetching of the wasm failed"}catch(t){W(t)}}var Z={1616:function(t,n,i,o,r,s,a,l){if(!(t=e.getCache(e.ConcreteContactResultCallback)[t]).hasOwnProperty("addSingleResult"))throw"a JSImplementation must implement all functions, you forgot ConcreteContactResultCallback::addSingleResult.";return t.addSingleResult(n,i,o,r,s,a,l)}};I.push({Cy:function(){tt()}});var J=[],Q={e:function(){W()},b:function(t,e,n){var i;for(J.length=0,n>>=2;i=L[e++];)(i=105>i)&&1&n&&n++,J.push(i?P[n++>>1]:j[n]),++n;return Z[t].apply(null,J)},c:function(t,e,n){L.copyWithin(t,e,e+n)},d:function(t){t>>>=0;var e=L.length;if(2147483648<t)return!1;for(var n=1;4>=n;n*=2){var i=e*(1+.2/n);i=Math.min(i,t+100663296),0<(i=Math.max(16777216,t,i))%65536&&(i+=65536-i%65536);t:{try{w.grow(Math.min(2147483648,i)-k.byteLength+65535>>>16),O(w.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},a:function(t){var e=Date.now();return j[t>>2]=e/1e3|0,j[t+4>>2]=e%1e3*1e3|0,0},memory:w,table:z};!function(){function t(t){e.asm=t.exports,q--,e.monitorRunDependencies&&e.monitorRunDependencies(q),0==q&&(null!==U&&(clearInterval(U),U=null),V&&(t=V,V=null,t()))}function n(e){t(e.instance)}function i(t){return(v||!p&&!u||"function"!=typeof fetch||G("file://")?new Promise((function(t){t(Y())})):fetch(X,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+X+"'";return t.arrayBuffer()})).catch((function(){return Y()}))).then((function(t){return WebAssembly.instantiate(t,o)})).then(t,(function(t){b("failed to asynchronously prepare wasm: "+t),W(t)}))}var o={a:Q};if(q++,e.monitorRunDependencies&&e.monitorRunDependencies(q),e.instantiateWasm)try{return e.instantiateWasm(o,t)}catch(t){return b("Module.instantiateWasm callback failed with error: "+t),!1}!function(){if(v||"function"!=typeof WebAssembly.instantiateStreaming||H()||G("file://")||"function"!=typeof fetch)return i(n);fetch(X,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,o).then(n,(function(t){return b("wasm streaming compile failed: "+t),b("falling back to ArrayBuffer instantiation"),i(n)}))}))}()}();var tt=e.___wasm_call_ctors=function(){return(tt=e.___wasm_call_ctors=e.asm.f).apply(null,arguments)};e.___em_js__array_bounds_check_error=function(){return(e.___em_js__array_bounds_check_error=e.asm.g).apply(null,arguments)};var et,nt=e._emscripten_bind_btCollisionShape_setLocalScaling_1=function(){return(nt=e._emscripten_bind_btCollisionShape_setLocalScaling_1=e.asm.h).apply(null,arguments)},it=e._emscripten_bind_btCollisionShape_getLocalScaling_0=function(){return(it=e._emscripten_bind_btCollisionShape_getLocalScaling_0=e.asm.i).apply(null,arguments)},ot=e._emscripten_bind_btCollisionShape_calculateLocalInertia_2=function(){return(ot=e._emscripten_bind_btCollisionShape_calculateLocalInertia_2=e.asm.j).apply(null,arguments)},rt=e._emscripten_bind_btCollisionShape_setMargin_1=function(){return(rt=e._emscripten_bind_btCollisionShape_setMargin_1=e.asm.k).apply(null,arguments)},st=e._emscripten_bind_btCollisionShape_getMargin_0=function(){return(st=e._emscripten_bind_btCollisionShape_getMargin_0=e.asm.l).apply(null,arguments)},at=e._emscripten_bind_btCollisionShape___destroy___0=function(){return(at=e._emscripten_bind_btCollisionShape___destroy___0=e.asm.m).apply(null,arguments)},lt=e._emscripten_bind_btCollisionWorld_getDispatcher_0=function(){return(lt=e._emscripten_bind_btCollisionWorld_getDispatcher_0=e.asm.n).apply(null,arguments)},pt=e._emscripten_bind_btCollisionWorld_rayTest_3=function(){return(pt=e._emscripten_bind_btCollisionWorld_rayTest_3=e.asm.o).apply(null,arguments)},ut=e._emscripten_bind_btCollisionWorld_getPairCache_0=function(){return(ut=e._emscripten_bind_btCollisionWorld_getPairCache_0=e.asm.p).apply(null,arguments)},ct=e._emscripten_bind_btCollisionWorld_getDispatchInfo_0=function(){return(ct=e._emscripten_bind_btCollisionWorld_getDispatchInfo_0=e.asm.q).apply(null,arguments)},_t=e._emscripten_bind_btCollisionWorld_addCollisionObject_1=function(){return(_t=e._emscripten_bind_btCollisionWorld_addCollisionObject_1=e.asm.r).apply(null,arguments)},ht=e._emscripten_bind_btCollisionWorld_addCollisionObject_2=function(){return(ht=e._emscripten_bind_btCollisionWorld_addCollisionObject_2=e.asm.s).apply(null,arguments)},dt=e._emscripten_bind_btCollisionWorld_addCollisionObject_3=function(){return(dt=e._emscripten_bind_btCollisionWorld_addCollisionObject_3=e.asm.t).apply(null,arguments)},ft=e._emscripten_bind_btCollisionWorld_removeCollisionObject_1=function(){return(ft=e._emscripten_bind_btCollisionWorld_removeCollisionObject_1=e.asm.u).apply(null,arguments)},mt=e._emscripten_bind_btCollisionWorld_getBroadphase_0=function(){return(mt=e._emscripten_bind_btCollisionWorld_getBroadphase_0=e.asm.v).apply(null,arguments)},yt=e._emscripten_bind_btCollisionWorld_convexSweepTest_5=function(){return(yt=e._emscripten_bind_btCollisionWorld_convexSweepTest_5=e.asm.w).apply(null,arguments)},$t=e._emscripten_bind_btCollisionWorld_contactPairTest_3=function(){return($t=e._emscripten_bind_btCollisionWorld_contactPairTest_3=e.asm.x).apply(null,arguments)},bt=e._emscripten_bind_btCollisionWorld_contactTest_2=function(){return(bt=e._emscripten_bind_btCollisionWorld_contactTest_2=e.asm.y).apply(null,arguments)},gt=e._emscripten_bind_btCollisionWorld_updateSingleAabb_1=function(){return(gt=e._emscripten_bind_btCollisionWorld_updateSingleAabb_1=e.asm.z).apply(null,arguments)},vt=e._emscripten_bind_btCollisionWorld___destroy___0=function(){return(vt=e._emscripten_bind_btCollisionWorld___destroy___0=e.asm.A).apply(null,arguments)},xt=e._emscripten_bind_btCollisionObject_setAnisotropicFriction_2=function(){return(xt=e._emscripten_bind_btCollisionObject_setAnisotropicFriction_2=e.asm.B).apply(null,arguments)},wt=e._emscripten_bind_btCollisionObject_getCollisionShape_0=function(){return(wt=e._emscripten_bind_btCollisionObject_getCollisionShape_0=e.asm.C).apply(null,arguments)},zt=e._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1=function(){return(zt=e._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1=e.asm.D).apply(null,arguments)},Ct=e._emscripten_bind_btCollisionObject_setActivationState_1=function(){return(Ct=e._emscripten_bind_btCollisionObject_setActivationState_1=e.asm.E).apply(null,arguments)},St=e._emscripten_bind_btCollisionObject_forceActivationState_1=function(){return(St=e._emscripten_bind_btCollisionObject_forceActivationState_1=e.asm.F).apply(null,arguments)},kt=e._emscripten_bind_btCollisionObject_activate_0=function(){return(kt=e._emscripten_bind_btCollisionObject_activate_0=e.asm.G).apply(null,arguments)},Lt=e._emscripten_bind_btCollisionObject_activate_1=function(){return(Lt=e._emscripten_bind_btCollisionObject_activate_1=e.asm.H).apply(null,arguments)},jt=e._emscripten_bind_btCollisionObject_isActive_0=function(){return(jt=e._emscripten_bind_btCollisionObject_isActive_0=e.asm.I).apply(null,arguments)},Nt=e._emscripten_bind_btCollisionObject_isKinematicObject_0=function(){return(Nt=e._emscripten_bind_btCollisionObject_isKinematicObject_0=e.asm.J).apply(null,arguments)},Pt=e._emscripten_bind_btCollisionObject_isStaticObject_0=function(){return(Pt=e._emscripten_bind_btCollisionObject_isStaticObject_0=e.asm.K).apply(null,arguments)},Tt=e._emscripten_bind_btCollisionObject_isStaticOrKinematicObject_0=function(){return(Tt=e._emscripten_bind_btCollisionObject_isStaticOrKinematicObject_0=e.asm.L).apply(null,arguments)},Ot=e._emscripten_bind_btCollisionObject_getRestitution_0=function(){return(Ot=e._emscripten_bind_btCollisionObject_getRestitution_0=e.asm.M).apply(null,arguments)},Et=e._emscripten_bind_btCollisionObject_getFriction_0=function(){return(Et=e._emscripten_bind_btCollisionObject_getFriction_0=e.asm.N).apply(null,arguments)},Mt=e._emscripten_bind_btCollisionObject_getRollingFriction_0=function(){return(Mt=e._emscripten_bind_btCollisionObject_getRollingFriction_0=e.asm.O).apply(null,arguments)},Rt=e._emscripten_bind_btCollisionObject_setRestitution_1=function(){return(Rt=e._emscripten_bind_btCollisionObject_setRestitution_1=e.asm.P).apply(null,arguments)},It=e._emscripten_bind_btCollisionObject_setFriction_1=function(){return(It=e._emscripten_bind_btCollisionObject_setFriction_1=e.asm.Q).apply(null,arguments)},At=e._emscripten_bind_btCollisionObject_setRollingFriction_1=function(){return(At=e._emscripten_bind_btCollisionObject_setRollingFriction_1=e.asm.R).apply(null,arguments)},Dt=e._emscripten_bind_btCollisionObject_getWorldTransform_0=function(){return(Dt=e._emscripten_bind_btCollisionObject_getWorldTransform_0=e.asm.S).apply(null,arguments)},Bt=e._emscripten_bind_btCollisionObject_getCollisionFlags_0=function(){return(Bt=e._emscripten_bind_btCollisionObject_getCollisionFlags_0=e.asm.T).apply(null,arguments)},Ft=e._emscripten_bind_btCollisionObject_setCollisionFlags_1=function(){return(Ft=e._emscripten_bind_btCollisionObject_setCollisionFlags_1=e.asm.U).apply(null,arguments)},qt=e._emscripten_bind_btCollisionObject_setWorldTransform_1=function(){return(qt=e._emscripten_bind_btCollisionObject_setWorldTransform_1=e.asm.V).apply(null,arguments)},Ut=e._emscripten_bind_btCollisionObject_setCollisionShape_1=function(){return(Ut=e._emscripten_bind_btCollisionObject_setCollisionShape_1=e.asm.W).apply(null,arguments)},Vt=e._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1=function(){return(Vt=e._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1=e.asm.X).apply(null,arguments)},Wt=e._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1=function(){return(Wt=e._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1=e.asm.Y).apply(null,arguments)},Gt=e._emscripten_bind_btCollisionObject_getUserIndex_0=function(){return(Gt=e._emscripten_bind_btCollisionObject_getUserIndex_0=e.asm.Z).apply(null,arguments)},Ht=e._emscripten_bind_btCollisionObject_setUserIndex_1=function(){return(Ht=e._emscripten_bind_btCollisionObject_setUserIndex_1=e.asm._).apply(null,arguments)},Xt=e._emscripten_bind_btCollisionObject_getUserPointer_0=function(){return(Xt=e._emscripten_bind_btCollisionObject_getUserPointer_0=e.asm.$).apply(null,arguments)},Kt=e._emscripten_bind_btCollisionObject_setUserPointer_1=function(){return(Kt=e._emscripten_bind_btCollisionObject_setUserPointer_1=e.asm.aa).apply(null,arguments)},Yt=e._emscripten_bind_btCollisionObject_getBroadphaseHandle_0=function(){return(Yt=e._emscripten_bind_btCollisionObject_getBroadphaseHandle_0=e.asm.ba).apply(null,arguments)},Zt=e._emscripten_bind_btCollisionObject___destroy___0=function(){return(Zt=e._emscripten_bind_btCollisionObject___destroy___0=e.asm.ca).apply(null,arguments)},Jt=e._emscripten_bind_btConcaveShape_setLocalScaling_1=function(){return(Jt=e._emscripten_bind_btConcaveShape_setLocalScaling_1=e.asm.da).apply(null,arguments)},Qt=e._emscripten_bind_btConcaveShape_getLocalScaling_0=function(){return(Qt=e._emscripten_bind_btConcaveShape_getLocalScaling_0=e.asm.ea).apply(null,arguments)},te=e._emscripten_bind_btConcaveShape_calculateLocalInertia_2=function(){return(te=e._emscripten_bind_btConcaveShape_calculateLocalInertia_2=e.asm.fa).apply(null,arguments)},ee=e._emscripten_bind_btConcaveShape___destroy___0=function(){return(ee=e._emscripten_bind_btConcaveShape___destroy___0=e.asm.ga).apply(null,arguments)},ne=e._emscripten_bind_btTypedConstraint_enableFeedback_1=function(){return(ne=e._emscripten_bind_btTypedConstraint_enableFeedback_1=e.asm.ha).apply(null,arguments)},ie=e._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0=function(){return(ie=e._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0=e.asm.ia).apply(null,arguments)},oe=e._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1=function(){return(oe=e._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1=e.asm.ja).apply(null,arguments)},re=e._emscripten_bind_btTypedConstraint_getParam_2=function(){return(re=e._emscripten_bind_btTypedConstraint_getParam_2=e.asm.ka).apply(null,arguments)},se=e._emscripten_bind_btTypedConstraint_setParam_3=function(){return(se=e._emscripten_bind_btTypedConstraint_setParam_3=e.asm.la).apply(null,arguments)},ae=e._emscripten_bind_btTypedConstraint___destroy___0=function(){return(ae=e._emscripten_bind_btTypedConstraint___destroy___0=e.asm.ma).apply(null,arguments)},le=e._emscripten_bind_btDynamicsWorld_addAction_1=function(){return(le=e._emscripten_bind_btDynamicsWorld_addAction_1=e.asm.na).apply(null,arguments)},pe=e._emscripten_bind_btDynamicsWorld_removeAction_1=function(){return(pe=e._emscripten_bind_btDynamicsWorld_removeAction_1=e.asm.oa).apply(null,arguments)},ue=e._emscripten_bind_btDynamicsWorld_getSolverInfo_0=function(){return(ue=e._emscripten_bind_btDynamicsWorld_getSolverInfo_0=e.asm.pa).apply(null,arguments)},ce=e._emscripten_bind_btDynamicsWorld_setInternalTickCallback_1=function(){return(ce=e._emscripten_bind_btDynamicsWorld_setInternalTickCallback_1=e.asm.qa).apply(null,arguments)},_e=e._emscripten_bind_btDynamicsWorld_setInternalTickCallback_2=function(){return(_e=e._emscripten_bind_btDynamicsWorld_setInternalTickCallback_2=e.asm.ra).apply(null,arguments)},he=e._emscripten_bind_btDynamicsWorld_setInternalTickCallback_3=function(){return(he=e._emscripten_bind_btDynamicsWorld_setInternalTickCallback_3=e.asm.sa).apply(null,arguments)},de=e._emscripten_bind_btDynamicsWorld_getDispatcher_0=function(){return(de=e._emscripten_bind_btDynamicsWorld_getDispatcher_0=e.asm.ta).apply(null,arguments)},fe=e._emscripten_bind_btDynamicsWorld_rayTest_3=function(){return(fe=e._emscripten_bind_btDynamicsWorld_rayTest_3=e.asm.ua).apply(null,arguments)},me=e._emscripten_bind_btDynamicsWorld_getPairCache_0=function(){return(me=e._emscripten_bind_btDynamicsWorld_getPairCache_0=e.asm.va).apply(null,arguments)},ye=e._emscripten_bind_btDynamicsWorld_getDispatchInfo_0=function(){return(ye=e._emscripten_bind_btDynamicsWorld_getDispatchInfo_0=e.asm.wa).apply(null,arguments)},$e=e._emscripten_bind_btDynamicsWorld_addCollisionObject_1=function(){return($e=e._emscripten_bind_btDynamicsWorld_addCollisionObject_1=e.asm.xa).apply(null,arguments)},be=e._emscripten_bind_btDynamicsWorld_addCollisionObject_2=function(){return(be=e._emscripten_bind_btDynamicsWorld_addCollisionObject_2=e.asm.ya).apply(null,arguments)},ge=e._emscripten_bind_btDynamicsWorld_addCollisionObject_3=function(){return(ge=e._emscripten_bind_btDynamicsWorld_addCollisionObject_3=e.asm.za).apply(null,arguments)},ve=e._emscripten_bind_btDynamicsWorld_removeCollisionObject_1=function(){return(ve=e._emscripten_bind_btDynamicsWorld_removeCollisionObject_1=e.asm.Aa).apply(null,arguments)},xe=e._emscripten_bind_btDynamicsWorld_getBroadphase_0=function(){return(xe=e._emscripten_bind_btDynamicsWorld_getBroadphase_0=e.asm.Ba).apply(null,arguments)},we=e._emscripten_bind_btDynamicsWorld_convexSweepTest_5=function(){return(we=e._emscripten_bind_btDynamicsWorld_convexSweepTest_5=e.asm.Ca).apply(null,arguments)},ze=e._emscripten_bind_btDynamicsWorld_contactPairTest_3=function(){return(ze=e._emscripten_bind_btDynamicsWorld_contactPairTest_3=e.asm.Da).apply(null,arguments)},Ce=e._emscripten_bind_btDynamicsWorld_contactTest_2=function(){return(Ce=e._emscripten_bind_btDynamicsWorld_contactTest_2=e.asm.Ea).apply(null,arguments)},Se=e._emscripten_bind_btDynamicsWorld_updateSingleAabb_1=function(){return(Se=e._emscripten_bind_btDynamicsWorld_updateSingleAabb_1=e.asm.Fa).apply(null,arguments)},ke=e._emscripten_bind_btDynamicsWorld___destroy___0=function(){return(ke=e._emscripten_bind_btDynamicsWorld___destroy___0=e.asm.Ga).apply(null,arguments)},Le=e._emscripten_bind_btVector3_btVector3_0=function(){return(Le=e._emscripten_bind_btVector3_btVector3_0=e.asm.Ha).apply(null,arguments)},je=e._emscripten_bind_btVector3_btVector3_3=function(){return(je=e._emscripten_bind_btVector3_btVector3_3=e.asm.Ia).apply(null,arguments)},Ne=e._emscripten_bind_btVector3_length_0=function(){return(Ne=e._emscripten_bind_btVector3_length_0=e.asm.Ja).apply(null,arguments)},Pe=e._emscripten_bind_btVector3_x_0=function(){return(Pe=e._emscripten_bind_btVector3_x_0=e.asm.Ka).apply(null,arguments)},Te=e._emscripten_bind_btVector3_y_0=function(){return(Te=e._emscripten_bind_btVector3_y_0=e.asm.La).apply(null,arguments)},Oe=e._emscripten_bind_btVector3_z_0=function(){return(Oe=e._emscripten_bind_btVector3_z_0=e.asm.Ma).apply(null,arguments)},Ee=e._emscripten_bind_btVector3_setX_1=function(){return(Ee=e._emscripten_bind_btVector3_setX_1=e.asm.Na).apply(null,arguments)},Me=e._emscripten_bind_btVector3_setY_1=function(){return(Me=e._emscripten_bind_btVector3_setY_1=e.asm.Oa).apply(null,arguments)},Re=e._emscripten_bind_btVector3_setZ_1=function(){return(Re=e._emscripten_bind_btVector3_setZ_1=e.asm.Pa).apply(null,arguments)},Ie=e._emscripten_bind_btVector3_setValue_3=function(){return(Ie=e._emscripten_bind_btVector3_setValue_3=e.asm.Qa).apply(null,arguments)},Ae=e._emscripten_bind_btVector3_normalize_0=function(){return(Ae=e._emscripten_bind_btVector3_normalize_0=e.asm.Ra).apply(null,arguments)},De=e._emscripten_bind_btVector3_rotate_2=function(){return(De=e._emscripten_bind_btVector3_rotate_2=e.asm.Sa).apply(null,arguments)},Be=e._emscripten_bind_btVector3_dot_1=function(){return(Be=e._emscripten_bind_btVector3_dot_1=e.asm.Ta).apply(null,arguments)},Fe=e._emscripten_bind_btVector3_op_mul_1=function(){return(Fe=e._emscripten_bind_btVector3_op_mul_1=e.asm.Ua).apply(null,arguments)},qe=e._emscripten_bind_btVector3_op_add_1=function(){return(qe=e._emscripten_bind_btVector3_op_add_1=e.asm.Va).apply(null,arguments)},Ue=e._emscripten_bind_btVector3_op_sub_1=function(){return(Ue=e._emscripten_bind_btVector3_op_sub_1=e.asm.Wa).apply(null,arguments)},Ve=e._emscripten_bind_btVector3___destroy___0=function(){return(Ve=e._emscripten_bind_btVector3___destroy___0=e.asm.Xa).apply(null,arguments)},We=e._emscripten_bind_btQuadWord_x_0=function(){return(We=e._emscripten_bind_btQuadWord_x_0=e.asm.Ya).apply(null,arguments)},Ge=e._emscripten_bind_btQuadWord_y_0=function(){return(Ge=e._emscripten_bind_btQuadWord_y_0=e.asm.Za).apply(null,arguments)},He=e._emscripten_bind_btQuadWord_z_0=function(){return(He=e._emscripten_bind_btQuadWord_z_0=e.asm._a).apply(null,arguments)},Xe=e._emscripten_bind_btQuadWord_w_0=function(){return(Xe=e._emscripten_bind_btQuadWord_w_0=e.asm.$a).apply(null,arguments)},Ke=e._emscripten_bind_btQuadWord_setX_1=function(){return(Ke=e._emscripten_bind_btQuadWord_setX_1=e.asm.ab).apply(null,arguments)},Ye=e._emscripten_bind_btQuadWord_setY_1=function(){return(Ye=e._emscripten_bind_btQuadWord_setY_1=e.asm.bb).apply(null,arguments)},Ze=e._emscripten_bind_btQuadWord_setZ_1=function(){return(Ze=e._emscripten_bind_btQuadWord_setZ_1=e.asm.cb).apply(null,arguments)},Je=e._emscripten_bind_btQuadWord_setW_1=function(){return(Je=e._emscripten_bind_btQuadWord_setW_1=e.asm.db).apply(null,arguments)},Qe=e._emscripten_bind_btQuadWord___destroy___0=function(){return(Qe=e._emscripten_bind_btQuadWord___destroy___0=e.asm.eb).apply(null,arguments)},tn=e._emscripten_bind_btMotionState_getWorldTransform_1=function(){return(tn=e._emscripten_bind_btMotionState_getWorldTransform_1=e.asm.fb).apply(null,arguments)},en=e._emscripten_bind_btMotionState_setWorldTransform_1=function(){return(en=e._emscripten_bind_btMotionState_setWorldTransform_1=e.asm.gb).apply(null,arguments)},nn=e._emscripten_bind_btMotionState___destroy___0=function(){return(nn=e._emscripten_bind_btMotionState___destroy___0=e.asm.hb).apply(null,arguments)},on=e._emscripten_bind_RayResultCallback_hasHit_0=function(){return(on=e._emscripten_bind_RayResultCallback_hasHit_0=e.asm.ib).apply(null,arguments)},rn=e._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0=function(){return(rn=e._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0=e.asm.jb).apply(null,arguments)},sn=e._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1=function(){return(sn=e._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1=e.asm.kb).apply(null,arguments)},an=e._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0=function(){return(an=e._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0=e.asm.lb).apply(null,arguments)},ln=e._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1=function(){return(ln=e._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1=e.asm.mb).apply(null,arguments)},pn=e._emscripten_bind_RayResultCallback_get_m_closestHitFraction_0=function(){return(pn=e._emscripten_bind_RayResultCallback_get_m_closestHitFraction_0=e.asm.nb).apply(null,arguments)},un=e._emscripten_bind_RayResultCallback_set_m_closestHitFraction_1=function(){return(un=e._emscripten_bind_RayResultCallback_set_m_closestHitFraction_1=e.asm.ob).apply(null,arguments)},cn=e._emscripten_bind_RayResultCallback_get_m_collisionObject_0=function(){return(cn=e._emscripten_bind_RayResultCallback_get_m_collisionObject_0=e.asm.pb).apply(null,arguments)},_n=e._emscripten_bind_RayResultCallback_set_m_collisionObject_1=function(){return(_n=e._emscripten_bind_RayResultCallback_set_m_collisionObject_1=e.asm.qb).apply(null,arguments)},hn=e._emscripten_bind_RayResultCallback___destroy___0=function(){return(hn=e._emscripten_bind_RayResultCallback___destroy___0=e.asm.rb).apply(null,arguments)},dn=e._emscripten_bind_ContactResultCallback_addSingleResult_7=function(){return(dn=e._emscripten_bind_ContactResultCallback_addSingleResult_7=e.asm.sb).apply(null,arguments)},fn=e._emscripten_bind_ContactResultCallback___destroy___0=function(){return(fn=e._emscripten_bind_ContactResultCallback___destroy___0=e.asm.tb).apply(null,arguments)},mn=e._emscripten_bind_ConvexResultCallback_hasHit_0=function(){return(mn=e._emscripten_bind_ConvexResultCallback_hasHit_0=e.asm.ub).apply(null,arguments)},yn=e._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0=function(){return(yn=e._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0=e.asm.vb).apply(null,arguments)},$n=e._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1=function(){return($n=e._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1=e.asm.wb).apply(null,arguments)},bn=e._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0=function(){return(bn=e._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0=e.asm.xb).apply(null,arguments)},gn=e._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1=function(){return(gn=e._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1=e.asm.yb).apply(null,arguments)},vn=e._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0=function(){return(vn=e._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0=e.asm.zb).apply(null,arguments)},xn=e._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1=function(){return(xn=e._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1=e.asm.Ab).apply(null,arguments)},wn=e._emscripten_bind_ConvexResultCallback___destroy___0=function(){return(wn=e._emscripten_bind_ConvexResultCallback___destroy___0=e.asm.Bb).apply(null,arguments)},zn=e._emscripten_bind_btConvexShape_setLocalScaling_1=function(){return(zn=e._emscripten_bind_btConvexShape_setLocalScaling_1=e.asm.Cb).apply(null,arguments)},Cn=e._emscripten_bind_btConvexShape_getLocalScaling_0=function(){return(Cn=e._emscripten_bind_btConvexShape_getLocalScaling_0=e.asm.Db).apply(null,arguments)},Sn=e._emscripten_bind_btConvexShape_calculateLocalInertia_2=function(){return(Sn=e._emscripten_bind_btConvexShape_calculateLocalInertia_2=e.asm.Eb).apply(null,arguments)},kn=e._emscripten_bind_btConvexShape_setMargin_1=function(){return(kn=e._emscripten_bind_btConvexShape_setMargin_1=e.asm.Fb).apply(null,arguments)},Ln=e._emscripten_bind_btConvexShape_getMargin_0=function(){return(Ln=e._emscripten_bind_btConvexShape_getMargin_0=e.asm.Gb).apply(null,arguments)},jn=e._emscripten_bind_btConvexShape___destroy___0=function(){return(jn=e._emscripten_bind_btConvexShape___destroy___0=e.asm.Hb).apply(null,arguments)},Nn=e._emscripten_bind_btCapsuleShape_btCapsuleShape_2=function(){return(Nn=e._emscripten_bind_btCapsuleShape_btCapsuleShape_2=e.asm.Ib).apply(null,arguments)},Pn=e._emscripten_bind_btCapsuleShape_setMargin_1=function(){return(Pn=e._emscripten_bind_btCapsuleShape_setMargin_1=e.asm.Jb).apply(null,arguments)},Tn=e._emscripten_bind_btCapsuleShape_getMargin_0=function(){return(Tn=e._emscripten_bind_btCapsuleShape_getMargin_0=e.asm.Kb).apply(null,arguments)},On=e._emscripten_bind_btCapsuleShape_getUpAxis_0=function(){return(On=e._emscripten_bind_btCapsuleShape_getUpAxis_0=e.asm.Lb).apply(null,arguments)},En=e._emscripten_bind_btCapsuleShape_getRadius_0=function(){return(En=e._emscripten_bind_btCapsuleShape_getRadius_0=e.asm.Mb).apply(null,arguments)},Mn=e._emscripten_bind_btCapsuleShape_getHalfHeight_0=function(){return(Mn=e._emscripten_bind_btCapsuleShape_getHalfHeight_0=e.asm.Nb).apply(null,arguments)},Rn=e._emscripten_bind_btCapsuleShape_setLocalScaling_1=function(){return(Rn=e._emscripten_bind_btCapsuleShape_setLocalScaling_1=e.asm.Ob).apply(null,arguments)},In=e._emscripten_bind_btCapsuleShape_getLocalScaling_0=function(){return(In=e._emscripten_bind_btCapsuleShape_getLocalScaling_0=e.asm.Pb).apply(null,arguments)},An=e._emscripten_bind_btCapsuleShape_calculateLocalInertia_2=function(){return(An=e._emscripten_bind_btCapsuleShape_calculateLocalInertia_2=e.asm.Qb).apply(null,arguments)},Dn=e._emscripten_bind_btCapsuleShape___destroy___0=function(){return(Dn=e._emscripten_bind_btCapsuleShape___destroy___0=e.asm.Rb).apply(null,arguments)},Bn=e._emscripten_bind_btCylinderShape_btCylinderShape_1=function(){return(Bn=e._emscripten_bind_btCylinderShape_btCylinderShape_1=e.asm.Sb).apply(null,arguments)},Fn=e._emscripten_bind_btCylinderShape_setMargin_1=function(){return(Fn=e._emscripten_bind_btCylinderShape_setMargin_1=e.asm.Tb).apply(null,arguments)},qn=e._emscripten_bind_btCylinderShape_getMargin_0=function(){return(qn=e._emscripten_bind_btCylinderShape_getMargin_0=e.asm.Ub).apply(null,arguments)},Un=e._emscripten_bind_btCylinderShape_setLocalScaling_1=function(){return(Un=e._emscripten_bind_btCylinderShape_setLocalScaling_1=e.asm.Vb).apply(null,arguments)},Vn=e._emscripten_bind_btCylinderShape_getLocalScaling_0=function(){return(Vn=e._emscripten_bind_btCylinderShape_getLocalScaling_0=e.asm.Wb).apply(null,arguments)},Wn=e._emscripten_bind_btCylinderShape_calculateLocalInertia_2=function(){return(Wn=e._emscripten_bind_btCylinderShape_calculateLocalInertia_2=e.asm.Xb).apply(null,arguments)},Gn=e._emscripten_bind_btCylinderShape___destroy___0=function(){return(Gn=e._emscripten_bind_btCylinderShape___destroy___0=e.asm.Yb).apply(null,arguments)},Hn=e._emscripten_bind_btConeShape_btConeShape_2=function(){return(Hn=e._emscripten_bind_btConeShape_btConeShape_2=e.asm.Zb).apply(null,arguments)},Xn=e._emscripten_bind_btConeShape_setLocalScaling_1=function(){return(Xn=e._emscripten_bind_btConeShape_setLocalScaling_1=e.asm._b).apply(null,arguments)},Kn=e._emscripten_bind_btConeShape_getLocalScaling_0=function(){return(Kn=e._emscripten_bind_btConeShape_getLocalScaling_0=e.asm.$b).apply(null,arguments)},Yn=e._emscripten_bind_btConeShape_calculateLocalInertia_2=function(){return(Yn=e._emscripten_bind_btConeShape_calculateLocalInertia_2=e.asm.ac).apply(null,arguments)},Zn=e._emscripten_bind_btConeShape___destroy___0=function(){return(Zn=e._emscripten_bind_btConeShape___destroy___0=e.asm.bc).apply(null,arguments)},Jn=e._emscripten_bind_btStridingMeshInterface_setScaling_1=function(){return(Jn=e._emscripten_bind_btStridingMeshInterface_setScaling_1=e.asm.cc).apply(null,arguments)},Qn=e._emscripten_bind_btStridingMeshInterface___destroy___0=function(){return(Qn=e._emscripten_bind_btStridingMeshInterface___destroy___0=e.asm.dc).apply(null,arguments)},ti=e._emscripten_bind_btTriangleMeshShape_setLocalScaling_1=function(){return(ti=e._emscripten_bind_btTriangleMeshShape_setLocalScaling_1=e.asm.ec).apply(null,arguments)},ei=e._emscripten_bind_btTriangleMeshShape_getLocalScaling_0=function(){return(ei=e._emscripten_bind_btTriangleMeshShape_getLocalScaling_0=e.asm.fc).apply(null,arguments)},ni=e._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2=function(){return(ni=e._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2=e.asm.gc).apply(null,arguments)},ii=e._emscripten_bind_btTriangleMeshShape___destroy___0=function(){return(ii=e._emscripten_bind_btTriangleMeshShape___destroy___0=e.asm.hc).apply(null,arguments)},oi=e._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0=function(){return(oi=e._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0=e.asm.ic).apply(null,arguments)},ri=e._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1=function(){return(ri=e._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1=e.asm.jc).apply(null,arguments)},si=e._emscripten_bind_btDefaultCollisionConfiguration___destroy___0=function(){return(si=e._emscripten_bind_btDefaultCollisionConfiguration___destroy___0=e.asm.kc).apply(null,arguments)},ai=e._emscripten_bind_btDispatcher_getNumManifolds_0=function(){return(ai=e._emscripten_bind_btDispatcher_getNumManifolds_0=e.asm.lc).apply(null,arguments)},li=e._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1=function(){return(li=e._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1=e.asm.mc).apply(null,arguments)},pi=e._emscripten_bind_btDispatcher___destroy___0=function(){return(pi=e._emscripten_bind_btDispatcher___destroy___0=e.asm.nc).apply(null,arguments)},ui=e._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3=function(){return(ui=e._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3=e.asm.oc).apply(null,arguments)},ci=e._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5=function(){return(ci=e._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5=e.asm.pc).apply(null,arguments)},_i=e._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1=function(){return(_i=e._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1=e.asm.qc).apply(null,arguments)},hi=e._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1=function(){return(hi=e._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1=e.asm.rc).apply(null,arguments)},di=e._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1=function(){return(di=e._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1=e.asm.sc).apply(null,arguments)},fi=e._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1=function(){return(fi=e._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1=e.asm.tc).apply(null,arguments)},mi=e._emscripten_bind_btGeneric6DofConstraint_getFrameOffsetA_0=function(){return(mi=e._emscripten_bind_btGeneric6DofConstraint_getFrameOffsetA_0=e.asm.uc).apply(null,arguments)},yi=e._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1=function(){return(yi=e._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1=e.asm.vc).apply(null,arguments)},$i=e._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0=function(){return($i=e._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0=e.asm.wc).apply(null,arguments)},bi=e._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1=function(){return(bi=e._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1=e.asm.xc).apply(null,arguments)},gi=e._emscripten_bind_btGeneric6DofConstraint_getParam_2=function(){return(gi=e._emscripten_bind_btGeneric6DofConstraint_getParam_2=e.asm.yc).apply(null,arguments)},vi=e._emscripten_bind_btGeneric6DofConstraint_setParam_3=function(){return(vi=e._emscripten_bind_btGeneric6DofConstraint_setParam_3=e.asm.zc).apply(null,arguments)},xi=e._emscripten_bind_btGeneric6DofConstraint___destroy___0=function(){return(xi=e._emscripten_bind_btGeneric6DofConstraint___destroy___0=e.asm.Ac).apply(null,arguments)},wi=e._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4=function(){return(wi=e._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4=e.asm.Bc).apply(null,arguments)},zi=e._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1=function(){return(zi=e._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1=e.asm.Cc).apply(null,arguments)},Ci=e._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0=function(){return(Ci=e._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0=e.asm.Dc).apply(null,arguments)},Si=e._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1=function(){return(Si=e._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1=e.asm.Ec).apply(null,arguments)},ki=e._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3=function(){return(ki=e._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3=e.asm.Fc).apply(null,arguments)},Li=e._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1=function(){return(Li=e._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1=e.asm.Gc).apply(null,arguments)},ji=e._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1=function(){return(ji=e._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1=e.asm.Hc).apply(null,arguments)},Ni=e._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2=function(){return(Ni=e._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2=e.asm.Ic).apply(null,arguments)},Pi=e._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1=function(){return(Pi=e._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1=e.asm.Jc).apply(null,arguments)},Ti=e._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1=function(){return(Ti=e._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1=e.asm.Kc).apply(null,arguments)},Oi=e._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2=function(){return(Oi=e._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2=e.asm.Lc).apply(null,arguments)},Ei=e._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3=function(){return(Ei=e._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3=e.asm.Mc).apply(null,arguments)},Mi=e._emscripten_bind_btDiscreteDynamicsWorld_setContactAddedCallback_1=function(){return(Mi=e._emscripten_bind_btDiscreteDynamicsWorld_setContactAddedCallback_1=e.asm.Nc).apply(null,arguments)},Ri=e._emscripten_bind_btDiscreteDynamicsWorld_setContactProcessedCallback_1=function(){return(Ri=e._emscripten_bind_btDiscreteDynamicsWorld_setContactProcessedCallback_1=e.asm.Oc).apply(null,arguments)},Ii=e._emscripten_bind_btDiscreteDynamicsWorld_setContactDestroyedCallback_1=function(){return(Ii=e._emscripten_bind_btDiscreteDynamicsWorld_setContactDestroyedCallback_1=e.asm.Pc).apply(null,arguments)},Ai=e._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0=function(){return(Ai=e._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0=e.asm.Qc).apply(null,arguments)},Di=e._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3=function(){return(Di=e._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3=e.asm.Rc).apply(null,arguments)},Bi=e._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0=function(){return(Bi=e._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0=e.asm.Sc).apply(null,arguments)},Fi=e._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0=function(){return(Fi=e._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0=e.asm.Tc).apply(null,arguments)},qi=e._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1=function(){return(qi=e._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1=e.asm.Uc).apply(null,arguments)},Ui=e._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2=function(){return(Ui=e._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2=e.asm.Vc).apply(null,arguments)},Vi=e._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3=function(){return(Vi=e._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3=e.asm.Wc).apply(null,arguments)},Wi=e._emscripten_bind_btDiscreteDynamicsWorld_removeCollisionObject_1=function(){return(Wi=e._emscripten_bind_btDiscreteDynamicsWorld_removeCollisionObject_1=e.asm.Xc).apply(null,arguments)},Gi=e._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0=function(){return(Gi=e._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0=e.asm.Yc).apply(null,arguments)},Hi=e._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5=function(){return(Hi=e._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5=e.asm.Zc).apply(null,arguments)},Xi=e._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3=function(){return(Xi=e._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3=e.asm._c).apply(null,arguments)},Ki=e._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2=function(){return(Ki=e._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2=e.asm.$c).apply(null,arguments)},Yi=e._emscripten_bind_btDiscreteDynamicsWorld_updateSingleAabb_1=function(){return(Yi=e._emscripten_bind_btDiscreteDynamicsWorld_updateSingleAabb_1=e.asm.ad).apply(null,arguments)},Zi=e._emscripten_bind_btDiscreteDynamicsWorld_addAction_1=function(){return(Zi=e._emscripten_bind_btDiscreteDynamicsWorld_addAction_1=e.asm.bd).apply(null,arguments)},Ji=e._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1=function(){return(Ji=e._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1=e.asm.cd).apply(null,arguments)},Qi=e._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0=function(){return(Qi=e._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0=e.asm.dd).apply(null,arguments)},to=e._emscripten_bind_btDiscreteDynamicsWorld_setInternalTickCallback_1=function(){return(to=e._emscripten_bind_btDiscreteDynamicsWorld_setInternalTickCallback_1=e.asm.ed).apply(null,arguments)},eo=e._emscripten_bind_btDiscreteDynamicsWorld_setInternalTickCallback_2=function(){return(eo=e._emscripten_bind_btDiscreteDynamicsWorld_setInternalTickCallback_2=e.asm.fd).apply(null,arguments)},no=e._emscripten_bind_btDiscreteDynamicsWorld_setInternalTickCallback_3=function(){return(no=e._emscripten_bind_btDiscreteDynamicsWorld_setInternalTickCallback_3=e.asm.gd).apply(null,arguments)},io=e._emscripten_bind_btDiscreteDynamicsWorld___destroy___0=function(){return(io=e._emscripten_bind_btDiscreteDynamicsWorld___destroy___0=e.asm.hd).apply(null,arguments)},oo=e._emscripten_bind_btVehicleRaycaster_castRay_3=function(){return(oo=e._emscripten_bind_btVehicleRaycaster_castRay_3=e.asm.id).apply(null,arguments)},ro=e._emscripten_bind_btVehicleRaycaster___destroy___0=function(){return(ro=e._emscripten_bind_btVehicleRaycaster___destroy___0=e.asm.jd).apply(null,arguments)},so=e._emscripten_bind_btActionInterface_updateAction_2=function(){return(so=e._emscripten_bind_btActionInterface_updateAction_2=e.asm.kd).apply(null,arguments)},ao=e._emscripten_bind_btActionInterface___destroy___0=function(){return(ao=e._emscripten_bind_btActionInterface___destroy___0=e.asm.ld).apply(null,arguments)},lo=e._emscripten_bind_btGhostObject_btGhostObject_0=function(){return(lo=e._emscripten_bind_btGhostObject_btGhostObject_0=e.asm.md).apply(null,arguments)},po=e._emscripten_bind_btGhostObject_getNumOverlappingObjects_0=function(){return(po=e._emscripten_bind_btGhostObject_getNumOverlappingObjects_0=e.asm.nd).apply(null,arguments)},uo=e._emscripten_bind_btGhostObject_getOverlappingObject_1=function(){return(uo=e._emscripten_bind_btGhostObject_getOverlappingObject_1=e.asm.od).apply(null,arguments)},co=e._emscripten_bind_btGhostObject_setAnisotropicFriction_2=function(){return(co=e._emscripten_bind_btGhostObject_setAnisotropicFriction_2=e.asm.pd).apply(null,arguments)},_o=e._emscripten_bind_btGhostObject_getCollisionShape_0=function(){return(_o=e._emscripten_bind_btGhostObject_getCollisionShape_0=e.asm.qd).apply(null,arguments)},ho=e._emscripten_bind_btGhostObject_setContactProcessingThreshold_1=function(){return(ho=e._emscripten_bind_btGhostObject_setContactProcessingThreshold_1=e.asm.rd).apply(null,arguments)},fo=e._emscripten_bind_btGhostObject_setActivationState_1=function(){return(fo=e._emscripten_bind_btGhostObject_setActivationState_1=e.asm.sd).apply(null,arguments)},mo=e._emscripten_bind_btGhostObject_forceActivationState_1=function(){return(mo=e._emscripten_bind_btGhostObject_forceActivationState_1=e.asm.td).apply(null,arguments)},yo=e._emscripten_bind_btGhostObject_activate_0=function(){return(yo=e._emscripten_bind_btGhostObject_activate_0=e.asm.ud).apply(null,arguments)},$o=e._emscripten_bind_btGhostObject_activate_1=function(){return($o=e._emscripten_bind_btGhostObject_activate_1=e.asm.vd).apply(null,arguments)},bo=e._emscripten_bind_btGhostObject_isActive_0=function(){return(bo=e._emscripten_bind_btGhostObject_isActive_0=e.asm.wd).apply(null,arguments)},go=e._emscripten_bind_btGhostObject_isKinematicObject_0=function(){return(go=e._emscripten_bind_btGhostObject_isKinematicObject_0=e.asm.xd).apply(null,arguments)},vo=e._emscripten_bind_btGhostObject_isStaticObject_0=function(){return(vo=e._emscripten_bind_btGhostObject_isStaticObject_0=e.asm.yd).apply(null,arguments)},xo=e._emscripten_bind_btGhostObject_isStaticOrKinematicObject_0=function(){return(xo=e._emscripten_bind_btGhostObject_isStaticOrKinematicObject_0=e.asm.zd).apply(null,arguments)},wo=e._emscripten_bind_btGhostObject_getRestitution_0=function(){return(wo=e._emscripten_bind_btGhostObject_getRestitution_0=e.asm.Ad).apply(null,arguments)},zo=e._emscripten_bind_btGhostObject_getFriction_0=function(){return(zo=e._emscripten_bind_btGhostObject_getFriction_0=e.asm.Bd).apply(null,arguments)},Co=e._emscripten_bind_btGhostObject_getRollingFriction_0=function(){return(Co=e._emscripten_bind_btGhostObject_getRollingFriction_0=e.asm.Cd).apply(null,arguments)},So=e._emscripten_bind_btGhostObject_setRestitution_1=function(){return(So=e._emscripten_bind_btGhostObject_setRestitution_1=e.asm.Dd).apply(null,arguments)},ko=e._emscripten_bind_btGhostObject_setFriction_1=function(){return(ko=e._emscripten_bind_btGhostObject_setFriction_1=e.asm.Ed).apply(null,arguments)},Lo=e._emscripten_bind_btGhostObject_setRollingFriction_1=function(){return(Lo=e._emscripten_bind_btGhostObject_setRollingFriction_1=e.asm.Fd).apply(null,arguments)},jo=e._emscripten_bind_btGhostObject_getWorldTransform_0=function(){return(jo=e._emscripten_bind_btGhostObject_getWorldTransform_0=e.asm.Gd).apply(null,arguments)},No=e._emscripten_bind_btGhostObject_getCollisionFlags_0=function(){return(No=e._emscripten_bind_btGhostObject_getCollisionFlags_0=e.asm.Hd).apply(null,arguments)},Po=e._emscripten_bind_btGhostObject_setCollisionFlags_1=function(){return(Po=e._emscripten_bind_btGhostObject_setCollisionFlags_1=e.asm.Id).apply(null,arguments)},To=e._emscripten_bind_btGhostObject_setWorldTransform_1=function(){return(To=e._emscripten_bind_btGhostObject_setWorldTransform_1=e.asm.Jd).apply(null,arguments)},Oo=e._emscripten_bind_btGhostObject_setCollisionShape_1=function(){return(Oo=e._emscripten_bind_btGhostObject_setCollisionShape_1=e.asm.Kd).apply(null,arguments)},Eo=e._emscripten_bind_btGhostObject_setCcdMotionThreshold_1=function(){return(Eo=e._emscripten_bind_btGhostObject_setCcdMotionThreshold_1=e.asm.Ld).apply(null,arguments)},Mo=e._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1=function(){return(Mo=e._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1=e.asm.Md).apply(null,arguments)},Ro=e._emscripten_bind_btGhostObject_getUserIndex_0=function(){return(Ro=e._emscripten_bind_btGhostObject_getUserIndex_0=e.asm.Nd).apply(null,arguments)},Io=e._emscripten_bind_btGhostObject_setUserIndex_1=function(){return(Io=e._emscripten_bind_btGhostObject_setUserIndex_1=e.asm.Od).apply(null,arguments)},Ao=e._emscripten_bind_btGhostObject_getUserPointer_0=function(){return(Ao=e._emscripten_bind_btGhostObject_getUserPointer_0=e.asm.Pd).apply(null,arguments)},Do=e._emscripten_bind_btGhostObject_setUserPointer_1=function(){return(Do=e._emscripten_bind_btGhostObject_setUserPointer_1=e.asm.Qd).apply(null,arguments)},Bo=e._emscripten_bind_btGhostObject_getBroadphaseHandle_0=function(){return(Bo=e._emscripten_bind_btGhostObject_getBroadphaseHandle_0=e.asm.Rd).apply(null,arguments)},Fo=e._emscripten_bind_btGhostObject___destroy___0=function(){return(Fo=e._emscripten_bind_btGhostObject___destroy___0=e.asm.Sd).apply(null,arguments)},qo=e._emscripten_bind_btSoftBodySolver___destroy___0=function(){return(qo=e._emscripten_bind_btSoftBodySolver___destroy___0=e.asm.Td).apply(null,arguments)},Uo=e._emscripten_bind_VoidPtr___destroy___0=function(){return(Uo=e._emscripten_bind_VoidPtr___destroy___0=e.asm.Ud).apply(null,arguments)},Vo=e._emscripten_bind_btVector4_btVector4_0=function(){return(Vo=e._emscripten_bind_btVector4_btVector4_0=e.asm.Vd).apply(null,arguments)},Wo=e._emscripten_bind_btVector4_btVector4_4=function(){return(Wo=e._emscripten_bind_btVector4_btVector4_4=e.asm.Wd).apply(null,arguments)},Go=e._emscripten_bind_btVector4_w_0=function(){return(Go=e._emscripten_bind_btVector4_w_0=e.asm.Xd).apply(null,arguments)},Ho=e._emscripten_bind_btVector4_setValue_4=function(){return(Ho=e._emscripten_bind_btVector4_setValue_4=e.asm.Yd).apply(null,arguments)},Xo=e._emscripten_bind_btVector4_length_0=function(){return(Xo=e._emscripten_bind_btVector4_length_0=e.asm.Zd).apply(null,arguments)},Ko=e._emscripten_bind_btVector4_x_0=function(){return(Ko=e._emscripten_bind_btVector4_x_0=e.asm._d).apply(null,arguments)},Yo=e._emscripten_bind_btVector4_y_0=function(){return(Yo=e._emscripten_bind_btVector4_y_0=e.asm.$d).apply(null,arguments)},Zo=e._emscripten_bind_btVector4_z_0=function(){return(Zo=e._emscripten_bind_btVector4_z_0=e.asm.ae).apply(null,arguments)},Jo=e._emscripten_bind_btVector4_setX_1=function(){return(Jo=e._emscripten_bind_btVector4_setX_1=e.asm.be).apply(null,arguments)},Qo=e._emscripten_bind_btVector4_setY_1=function(){return(Qo=e._emscripten_bind_btVector4_setY_1=e.asm.ce).apply(null,arguments)},tr=e._emscripten_bind_btVector4_setZ_1=function(){return(tr=e._emscripten_bind_btVector4_setZ_1=e.asm.de).apply(null,arguments)},er=e._emscripten_bind_btVector4_normalize_0=function(){return(er=e._emscripten_bind_btVector4_normalize_0=e.asm.ee).apply(null,arguments)},nr=e._emscripten_bind_btVector4_rotate_2=function(){return(nr=e._emscripten_bind_btVector4_rotate_2=e.asm.fe).apply(null,arguments)},ir=e._emscripten_bind_btVector4_dot_1=function(){return(ir=e._emscripten_bind_btVector4_dot_1=e.asm.ge).apply(null,arguments)},or=e._emscripten_bind_btVector4_op_mul_1=function(){return(or=e._emscripten_bind_btVector4_op_mul_1=e.asm.he).apply(null,arguments)},rr=e._emscripten_bind_btVector4_op_add_1=function(){return(rr=e._emscripten_bind_btVector4_op_add_1=e.asm.ie).apply(null,arguments)},sr=e._emscripten_bind_btVector4_op_sub_1=function(){return(sr=e._emscripten_bind_btVector4_op_sub_1=e.asm.je).apply(null,arguments)},ar=e._emscripten_bind_btVector4___destroy___0=function(){return(ar=e._emscripten_bind_btVector4___destroy___0=e.asm.ke).apply(null,arguments)},lr=e._emscripten_bind_btQuaternion_btQuaternion_4=function(){return(lr=e._emscripten_bind_btQuaternion_btQuaternion_4=e.asm.le).apply(null,arguments)},pr=e._emscripten_bind_btQuaternion_setValue_4=function(){return(pr=e._emscripten_bind_btQuaternion_setValue_4=e.asm.me).apply(null,arguments)},ur=e._emscripten_bind_btQuaternion_setEulerZYX_3=function(){return(ur=e._emscripten_bind_btQuaternion_setEulerZYX_3=e.asm.ne).apply(null,arguments)},cr=e._emscripten_bind_btQuaternion_setRotation_2=function(){return(cr=e._emscripten_bind_btQuaternion_setRotation_2=e.asm.oe).apply(null,arguments)},_r=e._emscripten_bind_btQuaternion_normalize_0=function(){return(_r=e._emscripten_bind_btQuaternion_normalize_0=e.asm.pe).apply(null,arguments)},hr=e._emscripten_bind_btQuaternion_length2_0=function(){return(hr=e._emscripten_bind_btQuaternion_length2_0=e.asm.qe).apply(null,arguments)},dr=e._emscripten_bind_btQuaternion_length_0=function(){return(dr=e._emscripten_bind_btQuaternion_length_0=e.asm.re).apply(null,arguments)},fr=e._emscripten_bind_btQuaternion_dot_1=function(){return(fr=e._emscripten_bind_btQuaternion_dot_1=e.asm.se).apply(null,arguments)},mr=e._emscripten_bind_btQuaternion_normalized_0=function(){return(mr=e._emscripten_bind_btQuaternion_normalized_0=e.asm.te).apply(null,arguments)},yr=e._emscripten_bind_btQuaternion_getAxis_0=function(){return(yr=e._emscripten_bind_btQuaternion_getAxis_0=e.asm.ue).apply(null,arguments)},$r=e._emscripten_bind_btQuaternion_inverse_0=function(){return($r=e._emscripten_bind_btQuaternion_inverse_0=e.asm.ve).apply(null,arguments)},br=e._emscripten_bind_btQuaternion_getAngle_0=function(){return(br=e._emscripten_bind_btQuaternion_getAngle_0=e.asm.we).apply(null,arguments)},gr=e._emscripten_bind_btQuaternion_getAngleShortestPath_0=function(){return(gr=e._emscripten_bind_btQuaternion_getAngleShortestPath_0=e.asm.xe).apply(null,arguments)},vr=e._emscripten_bind_btQuaternion_angle_1=function(){return(vr=e._emscripten_bind_btQuaternion_angle_1=e.asm.ye).apply(null,arguments)},xr=e._emscripten_bind_btQuaternion_angleShortestPath_1=function(){return(xr=e._emscripten_bind_btQuaternion_angleShortestPath_1=e.asm.ze).apply(null,arguments)},wr=e._emscripten_bind_btQuaternion_op_add_1=function(){return(wr=e._emscripten_bind_btQuaternion_op_add_1=e.asm.Ae).apply(null,arguments)},zr=e._emscripten_bind_btQuaternion_op_sub_1=function(){return(zr=e._emscripten_bind_btQuaternion_op_sub_1=e.asm.Be).apply(null,arguments)},Cr=e._emscripten_bind_btQuaternion_op_mul_1=function(){return(Cr=e._emscripten_bind_btQuaternion_op_mul_1=e.asm.Ce).apply(null,arguments)},Sr=e._emscripten_bind_btQuaternion_op_mulq_1=function(){return(Sr=e._emscripten_bind_btQuaternion_op_mulq_1=e.asm.De).apply(null,arguments)},kr=e._emscripten_bind_btQuaternion_op_div_1=function(){return(kr=e._emscripten_bind_btQuaternion_op_div_1=e.asm.Ee).apply(null,arguments)},Lr=e._emscripten_bind_btQuaternion_x_0=function(){return(Lr=e._emscripten_bind_btQuaternion_x_0=e.asm.Fe).apply(null,arguments)},jr=e._emscripten_bind_btQuaternion_y_0=function(){return(jr=e._emscripten_bind_btQuaternion_y_0=e.asm.Ge).apply(null,arguments)},Nr=e._emscripten_bind_btQuaternion_z_0=function(){return(Nr=e._emscripten_bind_btQuaternion_z_0=e.asm.He).apply(null,arguments)},Pr=e._emscripten_bind_btQuaternion_w_0=function(){return(Pr=e._emscripten_bind_btQuaternion_w_0=e.asm.Ie).apply(null,arguments)},Tr=e._emscripten_bind_btQuaternion_setX_1=function(){return(Tr=e._emscripten_bind_btQuaternion_setX_1=e.asm.Je).apply(null,arguments)},Or=e._emscripten_bind_btQuaternion_setY_1=function(){return(Or=e._emscripten_bind_btQuaternion_setY_1=e.asm.Ke).apply(null,arguments)},Er=e._emscripten_bind_btQuaternion_setZ_1=function(){return(Er=e._emscripten_bind_btQuaternion_setZ_1=e.asm.Le).apply(null,arguments)},Mr=e._emscripten_bind_btQuaternion_setW_1=function(){return(Mr=e._emscripten_bind_btQuaternion_setW_1=e.asm.Me).apply(null,arguments)},Rr=e._emscripten_bind_btQuaternion___destroy___0=function(){return(Rr=e._emscripten_bind_btQuaternion___destroy___0=e.asm.Ne).apply(null,arguments)},Ir=e._emscripten_bind_btMatrix3x3_setEulerZYX_3=function(){return(Ir=e._emscripten_bind_btMatrix3x3_setEulerZYX_3=e.asm.Oe).apply(null,arguments)},Ar=e._emscripten_bind_btMatrix3x3_getRotation_1=function(){return(Ar=e._emscripten_bind_btMatrix3x3_getRotation_1=e.asm.Pe).apply(null,arguments)},Dr=e._emscripten_bind_btMatrix3x3_getRow_1=function(){return(Dr=e._emscripten_bind_btMatrix3x3_getRow_1=e.asm.Qe).apply(null,arguments)},Br=e._emscripten_bind_btMatrix3x3___destroy___0=function(){return(Br=e._emscripten_bind_btMatrix3x3___destroy___0=e.asm.Re).apply(null,arguments)},Fr=e._emscripten_bind_btTransform_btTransform_0=function(){return(Fr=e._emscripten_bind_btTransform_btTransform_0=e.asm.Se).apply(null,arguments)},qr=e._emscripten_bind_btTransform_btTransform_2=function(){return(qr=e._emscripten_bind_btTransform_btTransform_2=e.asm.Te).apply(null,arguments)},Ur=e._emscripten_bind_btTransform_setIdentity_0=function(){return(Ur=e._emscripten_bind_btTransform_setIdentity_0=e.asm.Ue).apply(null,arguments)},Vr=e._emscripten_bind_btTransform_setOrigin_1=function(){return(Vr=e._emscripten_bind_btTransform_setOrigin_1=e.asm.Ve).apply(null,arguments)},Wr=e._emscripten_bind_btTransform_setRotation_1=function(){return(Wr=e._emscripten_bind_btTransform_setRotation_1=e.asm.We).apply(null,arguments)},Gr=e._emscripten_bind_btTransform_getOrigin_0=function(){return(Gr=e._emscripten_bind_btTransform_getOrigin_0=e.asm.Xe).apply(null,arguments)},Hr=e._emscripten_bind_btTransform_getRotation_0=function(){return(Hr=e._emscripten_bind_btTransform_getRotation_0=e.asm.Ye).apply(null,arguments)},Xr=e._emscripten_bind_btTransform_getBasis_0=function(){return(Xr=e._emscripten_bind_btTransform_getBasis_0=e.asm.Ze).apply(null,arguments)},Kr=e._emscripten_bind_btTransform_setFromOpenGLMatrix_1=function(){return(Kr=e._emscripten_bind_btTransform_setFromOpenGLMatrix_1=e.asm._e).apply(null,arguments)},Yr=e._emscripten_bind_btTransform_inverse_0=function(){return(Yr=e._emscripten_bind_btTransform_inverse_0=e.asm.$e).apply(null,arguments)},Zr=e._emscripten_bind_btTransform_op_mul_1=function(){return(Zr=e._emscripten_bind_btTransform_op_mul_1=e.asm.af).apply(null,arguments)},Jr=e._emscripten_bind_btTransform___destroy___0=function(){return(Jr=e._emscripten_bind_btTransform___destroy___0=e.asm.bf).apply(null,arguments)},Qr=e._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0=function(){return(Qr=e._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0=e.asm.cf).apply(null,arguments)},ts=e._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1=function(){return(ts=e._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1=e.asm.df).apply(null,arguments)},es=e._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2=function(){return(es=e._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2=e.asm.ef).apply(null,arguments)},ns=e._emscripten_bind_btDefaultMotionState_getWorldTransform_1=function(){return(ns=e._emscripten_bind_btDefaultMotionState_getWorldTransform_1=e.asm.ff).apply(null,arguments)},is=e._emscripten_bind_btDefaultMotionState_setWorldTransform_1=function(){return(is=e._emscripten_bind_btDefaultMotionState_setWorldTransform_1=e.asm.gf).apply(null,arguments)},os=e._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0=function(){return(os=e._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0=e.asm.hf).apply(null,arguments)},rs=e._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1=function(){return(rs=e._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1=e.asm.jf).apply(null,arguments)},ss=e._emscripten_bind_btDefaultMotionState___destroy___0=function(){return(ss=e._emscripten_bind_btDefaultMotionState___destroy___0=e.asm.kf).apply(null,arguments)},as=e._emscripten_bind_btCollisionObjectWrapper_getWorldTransform_0=function(){return(as=e._emscripten_bind_btCollisionObjectWrapper_getWorldTransform_0=e.asm.lf).apply(null,arguments)},ls=e._emscripten_bind_btCollisionObjectWrapper_getCollisionObject_0=function(){return(ls=e._emscripten_bind_btCollisionObjectWrapper_getCollisionObject_0=e.asm.mf).apply(null,arguments)},ps=e._emscripten_bind_btCollisionObjectWrapper_getCollisionShape_0=function(){return(ps=e._emscripten_bind_btCollisionObjectWrapper_getCollisionShape_0=e.asm.nf).apply(null,arguments)},us=e._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2=function(){return(us=e._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2=e.asm.of).apply(null,arguments)},cs=e._emscripten_bind_ClosestRayResultCallback_hasHit_0=function(){return(cs=e._emscripten_bind_ClosestRayResultCallback_hasHit_0=e.asm.pf).apply(null,arguments)},_s=e._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0=function(){return(_s=e._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0=e.asm.qf).apply(null,arguments)},hs=e._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1=function(){return(hs=e._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1=e.asm.rf).apply(null,arguments)},ds=e._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0=function(){return(ds=e._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0=e.asm.sf).apply(null,arguments)},fs=e._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1=function(){return(fs=e._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1=e.asm.tf).apply(null,arguments)},ms=e._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0=function(){return(ms=e._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0=e.asm.uf).apply(null,arguments)},ys=e._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1=function(){return(ys=e._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1=e.asm.vf).apply(null,arguments)},$s=e._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0=function(){return($s=e._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0=e.asm.wf).apply(null,arguments)},bs=e._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1=function(){return(bs=e._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1=e.asm.xf).apply(null,arguments)},gs=e._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0=function(){return(gs=e._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0=e.asm.yf).apply(null,arguments)},vs=e._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1=function(){return(vs=e._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1=e.asm.zf).apply(null,arguments)},xs=e._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0=function(){return(xs=e._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0=e.asm.Af).apply(null,arguments)},ws=e._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1=function(){return(ws=e._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1=e.asm.Bf).apply(null,arguments)},zs=e._emscripten_bind_ClosestRayResultCallback_get_m_closestHitFraction_0=function(){return(zs=e._emscripten_bind_ClosestRayResultCallback_get_m_closestHitFraction_0=e.asm.Cf).apply(null,arguments)},Cs=e._emscripten_bind_ClosestRayResultCallback_set_m_closestHitFraction_1=function(){return(Cs=e._emscripten_bind_ClosestRayResultCallback_set_m_closestHitFraction_1=e.asm.Df).apply(null,arguments)},Ss=e._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0=function(){return(Ss=e._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0=e.asm.Ef).apply(null,arguments)},ks=e._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1=function(){return(ks=e._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1=e.asm.Ff).apply(null,arguments)},Ls=e._emscripten_bind_ClosestRayResultCallback___destroy___0=function(){return(Ls=e._emscripten_bind_ClosestRayResultCallback___destroy___0=e.asm.Gf).apply(null,arguments)},js=e._emscripten_bind_btConstCollisionObjectArray_size_0=function(){return(js=e._emscripten_bind_btConstCollisionObjectArray_size_0=e.asm.Hf).apply(null,arguments)},Ns=e._emscripten_bind_btConstCollisionObjectArray_at_1=function(){return(Ns=e._emscripten_bind_btConstCollisionObjectArray_at_1=e.asm.If).apply(null,arguments)},Ps=e._emscripten_bind_btConstCollisionObjectArray___destroy___0=function(){return(Ps=e._emscripten_bind_btConstCollisionObjectArray___destroy___0=e.asm.Jf).apply(null,arguments)},Ts=e._emscripten_bind_btScalarArray_size_0=function(){return(Ts=e._emscripten_bind_btScalarArray_size_0=e.asm.Kf).apply(null,arguments)},Os=e._emscripten_bind_btScalarArray_at_1=function(){return(Os=e._emscripten_bind_btScalarArray_at_1=e.asm.Lf).apply(null,arguments)},Es=e._emscripten_bind_btScalarArray___destroy___0=function(){return(Es=e._emscripten_bind_btScalarArray___destroy___0=e.asm.Mf).apply(null,arguments)},Ms=e._emscripten_bind_AllHitsRayResultCallback_AllHitsRayResultCallback_2=function(){return(Ms=e._emscripten_bind_AllHitsRayResultCallback_AllHitsRayResultCallback_2=e.asm.Nf).apply(null,arguments)},Rs=e._emscripten_bind_AllHitsRayResultCallback_hasHit_0=function(){return(Rs=e._emscripten_bind_AllHitsRayResultCallback_hasHit_0=e.asm.Of).apply(null,arguments)},Is=e._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObjects_0=function(){return(Is=e._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObjects_0=e.asm.Pf).apply(null,arguments)},As=e._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObjects_1=function(){return(As=e._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObjects_1=e.asm.Qf).apply(null,arguments)},Ds=e._emscripten_bind_AllHitsRayResultCallback_get_m_rayFromWorld_0=function(){return(Ds=e._emscripten_bind_AllHitsRayResultCallback_get_m_rayFromWorld_0=e.asm.Rf).apply(null,arguments)},Bs=e._emscripten_bind_AllHitsRayResultCallback_set_m_rayFromWorld_1=function(){return(Bs=e._emscripten_bind_AllHitsRayResultCallback_set_m_rayFromWorld_1=e.asm.Sf).apply(null,arguments)},Fs=e._emscripten_bind_AllHitsRayResultCallback_get_m_rayToWorld_0=function(){return(Fs=e._emscripten_bind_AllHitsRayResultCallback_get_m_rayToWorld_0=e.asm.Tf).apply(null,arguments)},qs=e._emscripten_bind_AllHitsRayResultCallback_set_m_rayToWorld_1=function(){return(qs=e._emscripten_bind_AllHitsRayResultCallback_set_m_rayToWorld_1=e.asm.Uf).apply(null,arguments)},Us=e._emscripten_bind_AllHitsRayResultCallback_get_m_hitNormalWorld_0=function(){return(Us=e._emscripten_bind_AllHitsRayResultCallback_get_m_hitNormalWorld_0=e.asm.Vf).apply(null,arguments)},Vs=e._emscripten_bind_AllHitsRayResultCallback_set_m_hitNormalWorld_1=function(){return(Vs=e._emscripten_bind_AllHitsRayResultCallback_set_m_hitNormalWorld_1=e.asm.Wf).apply(null,arguments)},Ws=e._emscripten_bind_AllHitsRayResultCallback_get_m_hitPointWorld_0=function(){return(Ws=e._emscripten_bind_AllHitsRayResultCallback_get_m_hitPointWorld_0=e.asm.Xf).apply(null,arguments)},Gs=e._emscripten_bind_AllHitsRayResultCallback_set_m_hitPointWorld_1=function(){return(Gs=e._emscripten_bind_AllHitsRayResultCallback_set_m_hitPointWorld_1=e.asm.Yf).apply(null,arguments)},Hs=e._emscripten_bind_AllHitsRayResultCallback_get_m_hitFractions_0=function(){return(Hs=e._emscripten_bind_AllHitsRayResultCallback_get_m_hitFractions_0=e.asm.Zf).apply(null,arguments)},Xs=e._emscripten_bind_AllHitsRayResultCallback_set_m_hitFractions_1=function(){return(Xs=e._emscripten_bind_AllHitsRayResultCallback_set_m_hitFractions_1=e.asm._f).apply(null,arguments)},Ks=e._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterGroup_0=function(){return(Ks=e._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterGroup_0=e.asm.$f).apply(null,arguments)},Ys=e._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterGroup_1=function(){return(Ys=e._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterGroup_1=e.asm.ag).apply(null,arguments)},Zs=e._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterMask_0=function(){return(Zs=e._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterMask_0=e.asm.bg).apply(null,arguments)},Js=e._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterMask_1=function(){return(Js=e._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterMask_1=e.asm.cg).apply(null,arguments)},Qs=e._emscripten_bind_AllHitsRayResultCallback_get_m_closestHitFraction_0=function(){return(Qs=e._emscripten_bind_AllHitsRayResultCallback_get_m_closestHitFraction_0=e.asm.dg).apply(null,arguments)},ta=e._emscripten_bind_AllHitsRayResultCallback_set_m_closestHitFraction_1=function(){return(ta=e._emscripten_bind_AllHitsRayResultCallback_set_m_closestHitFraction_1=e.asm.eg).apply(null,arguments)},ea=e._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObject_0=function(){return(ea=e._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObject_0=e.asm.fg).apply(null,arguments)},na=e._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObject_1=function(){return(na=e._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObject_1=e.asm.gg).apply(null,arguments)},ia=e._emscripten_bind_AllHitsRayResultCallback___destroy___0=function(){return(ia=e._emscripten_bind_AllHitsRayResultCallback___destroy___0=e.asm.hg).apply(null,arguments)},oa=e._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0=function(){return(oa=e._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0=e.asm.ig).apply(null,arguments)},ra=e._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0=function(){return(ra=e._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0=e.asm.jg).apply(null,arguments)},sa=e._emscripten_bind_btManifoldPoint_getAppliedImpulse_0=function(){return(sa=e._emscripten_bind_btManifoldPoint_getAppliedImpulse_0=e.asm.kg).apply(null,arguments)},aa=e._emscripten_bind_btManifoldPoint_getDistance_0=function(){return(aa=e._emscripten_bind_btManifoldPoint_getDistance_0=e.asm.lg).apply(null,arguments)},la=e._emscripten_bind_btManifoldPoint_get_m_localPointA_0=function(){return(la=e._emscripten_bind_btManifoldPoint_get_m_localPointA_0=e.asm.mg).apply(null,arguments)},pa=e._emscripten_bind_btManifoldPoint_set_m_localPointA_1=function(){return(pa=e._emscripten_bind_btManifoldPoint_set_m_localPointA_1=e.asm.ng).apply(null,arguments)},ua=e._emscripten_bind_btManifoldPoint_get_m_localPointB_0=function(){return(ua=e._emscripten_bind_btManifoldPoint_get_m_localPointB_0=e.asm.og).apply(null,arguments)},ca=e._emscripten_bind_btManifoldPoint_set_m_localPointB_1=function(){return(ca=e._emscripten_bind_btManifoldPoint_set_m_localPointB_1=e.asm.pg).apply(null,arguments)},_a=e._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0=function(){return(_a=e._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0=e.asm.qg).apply(null,arguments)},ha=e._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1=function(){return(ha=e._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1=e.asm.rg).apply(null,arguments)},da=e._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0=function(){return(da=e._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0=e.asm.sg).apply(null,arguments)},fa=e._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1=function(){return(fa=e._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1=e.asm.tg).apply(null,arguments)},ma=e._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0=function(){return(ma=e._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0=e.asm.ug).apply(null,arguments)},ya=e._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1=function(){return(ya=e._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1=e.asm.vg).apply(null,arguments)},$a=e._emscripten_bind_btManifoldPoint_get_m_userPersistentData_0=function(){return($a=e._emscripten_bind_btManifoldPoint_get_m_userPersistentData_0=e.asm.wg).apply(null,arguments)},ba=e._emscripten_bind_btManifoldPoint_set_m_userPersistentData_1=function(){return(ba=e._emscripten_bind_btManifoldPoint_set_m_userPersistentData_1=e.asm.xg).apply(null,arguments)},ga=e._emscripten_bind_btManifoldPoint___destroy___0=function(){return(ga=e._emscripten_bind_btManifoldPoint___destroy___0=e.asm.yg).apply(null,arguments)},va=e._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0=function(){return(va=e._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0=e.asm.zg).apply(null,arguments)},xa=e._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7=function(){return(xa=e._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7=e.asm.Ag).apply(null,arguments)},wa=e._emscripten_bind_ConcreteContactResultCallback___destroy___0=function(){return(wa=e._emscripten_bind_ConcreteContactResultCallback___destroy___0=e.asm.Bg).apply(null,arguments)},za=e._emscripten_bind_LocalShapeInfo_get_m_shapePart_0=function(){return(za=e._emscripten_bind_LocalShapeInfo_get_m_shapePart_0=e.asm.Cg).apply(null,arguments)},Ca=e._emscripten_bind_LocalShapeInfo_set_m_shapePart_1=function(){return(Ca=e._emscripten_bind_LocalShapeInfo_set_m_shapePart_1=e.asm.Dg).apply(null,arguments)},Sa=e._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0=function(){return(Sa=e._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0=e.asm.Eg).apply(null,arguments)},ka=e._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1=function(){return(ka=e._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1=e.asm.Fg).apply(null,arguments)},La=e._emscripten_bind_LocalShapeInfo___destroy___0=function(){return(La=e._emscripten_bind_LocalShapeInfo___destroy___0=e.asm.Gg).apply(null,arguments)},ja=e._emscripten_bind_LocalConvexResult_LocalConvexResult_5=function(){return(ja=e._emscripten_bind_LocalConvexResult_LocalConvexResult_5=e.asm.Hg).apply(null,arguments)},Na=e._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0=function(){return(Na=e._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0=e.asm.Ig).apply(null,arguments)},Pa=e._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1=function(){return(Pa=e._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1=e.asm.Jg).apply(null,arguments)},Ta=e._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0=function(){return(Ta=e._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0=e.asm.Kg).apply(null,arguments)},Oa=e._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1=function(){return(Oa=e._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1=e.asm.Lg).apply(null,arguments)},Ea=e._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0=function(){return(Ea=e._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0=e.asm.Mg).apply(null,arguments)},Ma=e._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1=function(){return(Ma=e._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1=e.asm.Ng).apply(null,arguments)},Ra=e._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0=function(){return(Ra=e._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0=e.asm.Og).apply(null,arguments)},Ia=e._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1=function(){return(Ia=e._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1=e.asm.Pg).apply(null,arguments)},Aa=e._emscripten_bind_LocalConvexResult_get_m_hitFraction_0=function(){return(Aa=e._emscripten_bind_LocalConvexResult_get_m_hitFraction_0=e.asm.Qg).apply(null,arguments)},Da=e._emscripten_bind_LocalConvexResult_set_m_hitFraction_1=function(){return(Da=e._emscripten_bind_LocalConvexResult_set_m_hitFraction_1=e.asm.Rg).apply(null,arguments)},Ba=e._emscripten_bind_LocalConvexResult___destroy___0=function(){return(Ba=e._emscripten_bind_LocalConvexResult___destroy___0=e.asm.Sg).apply(null,arguments)},Fa=e._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2=function(){return(Fa=e._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2=e.asm.Tg).apply(null,arguments)},qa=e._emscripten_bind_ClosestConvexResultCallback_hasHit_0=function(){return(qa=e._emscripten_bind_ClosestConvexResultCallback_hasHit_0=e.asm.Ug).apply(null,arguments)},Ua=e._emscripten_bind_ClosestConvexResultCallback_get_m_hitCollisionObject_0=function(){return(Ua=e._emscripten_bind_ClosestConvexResultCallback_get_m_hitCollisionObject_0=e.asm.Vg).apply(null,arguments)},Va=e._emscripten_bind_ClosestConvexResultCallback_set_m_hitCollisionObject_1=function(){return(Va=e._emscripten_bind_ClosestConvexResultCallback_set_m_hitCollisionObject_1=e.asm.Wg).apply(null,arguments)},Wa=e._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0=function(){return(Wa=e._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0=e.asm.Xg).apply(null,arguments)},Ga=e._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1=function(){return(Ga=e._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1=e.asm.Yg).apply(null,arguments)},Ha=e._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0=function(){return(Ha=e._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0=e.asm.Zg).apply(null,arguments)},Xa=e._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1=function(){return(Xa=e._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1=e.asm._g).apply(null,arguments)},Ka=e._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0=function(){return(Ka=e._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0=e.asm.$g).apply(null,arguments)},Ya=e._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1=function(){return(Ya=e._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1=e.asm.ah).apply(null,arguments)},Za=e._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0=function(){return(Za=e._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0=e.asm.bh).apply(null,arguments)},Ja=e._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1=function(){return(Ja=e._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1=e.asm.ch).apply(null,arguments)},Qa=e._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0=function(){return(Qa=e._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0=e.asm.dh).apply(null,arguments)},tl=e._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1=function(){return(tl=e._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1=e.asm.eh).apply(null,arguments)},el=e._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0=function(){return(el=e._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0=e.asm.fh).apply(null,arguments)},nl=e._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1=function(){return(nl=e._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1=e.asm.gh).apply(null,arguments)},il=e._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0=function(){return(il=e._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0=e.asm.hh).apply(null,arguments)},ol=e._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1=function(){return(ol=e._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1=e.asm.ih).apply(null,arguments)},rl=e._emscripten_bind_ClosestConvexResultCallback___destroy___0=function(){return(rl=e._emscripten_bind_ClosestConvexResultCallback___destroy___0=e.asm.jh).apply(null,arguments)},sl=e._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1=function(){return(sl=e._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1=e.asm.kh).apply(null,arguments)},al=e._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2=function(){return(al=e._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2=e.asm.lh).apply(null,arguments)},ll=e._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1=function(){return(ll=e._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1=e.asm.mh).apply(null,arguments)},pl=e._emscripten_bind_btConvexTriangleMeshShape_getLocalScaling_0=function(){return(pl=e._emscripten_bind_btConvexTriangleMeshShape_getLocalScaling_0=e.asm.nh).apply(null,arguments)},ul=e._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2=function(){return(ul=e._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2=e.asm.oh).apply(null,arguments)},cl=e._emscripten_bind_btConvexTriangleMeshShape_setMargin_1=function(){return(cl=e._emscripten_bind_btConvexTriangleMeshShape_setMargin_1=e.asm.ph).apply(null,arguments)},_l=e._emscripten_bind_btConvexTriangleMeshShape_getMargin_0=function(){return(_l=e._emscripten_bind_btConvexTriangleMeshShape_getMargin_0=e.asm.qh).apply(null,arguments)},hl=e._emscripten_bind_btConvexTriangleMeshShape___destroy___0=function(){return(hl=e._emscripten_bind_btConvexTriangleMeshShape___destroy___0=e.asm.rh).apply(null,arguments)},dl=e._emscripten_bind_btBoxShape_btBoxShape_1=function(){return(dl=e._emscripten_bind_btBoxShape_btBoxShape_1=e.asm.sh).apply(null,arguments)},fl=e._emscripten_bind_btBoxShape_setMargin_1=function(){return(fl=e._emscripten_bind_btBoxShape_setMargin_1=e.asm.th).apply(null,arguments)},ml=e._emscripten_bind_btBoxShape_getMargin_0=function(){return(ml=e._emscripten_bind_btBoxShape_getMargin_0=e.asm.uh).apply(null,arguments)},yl=e._emscripten_bind_btBoxShape_setLocalScaling_1=function(){return(yl=e._emscripten_bind_btBoxShape_setLocalScaling_1=e.asm.vh).apply(null,arguments)},$l=e._emscripten_bind_btBoxShape_getLocalScaling_0=function(){return($l=e._emscripten_bind_btBoxShape_getLocalScaling_0=e.asm.wh).apply(null,arguments)},bl=e._emscripten_bind_btBoxShape_calculateLocalInertia_2=function(){return(bl=e._emscripten_bind_btBoxShape_calculateLocalInertia_2=e.asm.xh).apply(null,arguments)},gl=e._emscripten_bind_btBoxShape___destroy___0=function(){return(gl=e._emscripten_bind_btBoxShape___destroy___0=e.asm.yh).apply(null,arguments)},vl=e._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2=function(){return(vl=e._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2=e.asm.zh).apply(null,arguments)},xl=e._emscripten_bind_btCapsuleShapeX_setMargin_1=function(){return(xl=e._emscripten_bind_btCapsuleShapeX_setMargin_1=e.asm.Ah).apply(null,arguments)},wl=e._emscripten_bind_btCapsuleShapeX_getMargin_0=function(){return(wl=e._emscripten_bind_btCapsuleShapeX_getMargin_0=e.asm.Bh).apply(null,arguments)},zl=e._emscripten_bind_btCapsuleShapeX_getUpAxis_0=function(){return(zl=e._emscripten_bind_btCapsuleShapeX_getUpAxis_0=e.asm.Ch).apply(null,arguments)},Cl=e._emscripten_bind_btCapsuleShapeX_getRadius_0=function(){return(Cl=e._emscripten_bind_btCapsuleShapeX_getRadius_0=e.asm.Dh).apply(null,arguments)},Sl=e._emscripten_bind_btCapsuleShapeX_getHalfHeight_0=function(){return(Sl=e._emscripten_bind_btCapsuleShapeX_getHalfHeight_0=e.asm.Eh).apply(null,arguments)},kl=e._emscripten_bind_btCapsuleShapeX_setLocalScaling_1=function(){return(kl=e._emscripten_bind_btCapsuleShapeX_setLocalScaling_1=e.asm.Fh).apply(null,arguments)},Ll=e._emscripten_bind_btCapsuleShapeX_getLocalScaling_0=function(){return(Ll=e._emscripten_bind_btCapsuleShapeX_getLocalScaling_0=e.asm.Gh).apply(null,arguments)},jl=e._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2=function(){return(jl=e._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2=e.asm.Hh).apply(null,arguments)},Nl=e._emscripten_bind_btCapsuleShapeX___destroy___0=function(){return(Nl=e._emscripten_bind_btCapsuleShapeX___destroy___0=e.asm.Ih).apply(null,arguments)},Pl=e._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2=function(){return(Pl=e._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2=e.asm.Jh).apply(null,arguments)},Tl=e._emscripten_bind_btCapsuleShapeZ_setMargin_1=function(){return(Tl=e._emscripten_bind_btCapsuleShapeZ_setMargin_1=e.asm.Kh).apply(null,arguments)},Ol=e._emscripten_bind_btCapsuleShapeZ_getMargin_0=function(){return(Ol=e._emscripten_bind_btCapsuleShapeZ_getMargin_0=e.asm.Lh).apply(null,arguments)},El=e._emscripten_bind_btCapsuleShapeZ_getUpAxis_0=function(){return(El=e._emscripten_bind_btCapsuleShapeZ_getUpAxis_0=e.asm.Mh).apply(null,arguments)},Ml=e._emscripten_bind_btCapsuleShapeZ_getRadius_0=function(){return(Ml=e._emscripten_bind_btCapsuleShapeZ_getRadius_0=e.asm.Nh).apply(null,arguments)},Rl=e._emscripten_bind_btCapsuleShapeZ_getHalfHeight_0=function(){return(Rl=e._emscripten_bind_btCapsuleShapeZ_getHalfHeight_0=e.asm.Oh).apply(null,arguments)},Il=e._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1=function(){return(Il=e._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1=e.asm.Ph).apply(null,arguments)},Al=e._emscripten_bind_btCapsuleShapeZ_getLocalScaling_0=function(){return(Al=e._emscripten_bind_btCapsuleShapeZ_getLocalScaling_0=e.asm.Qh).apply(null,arguments)},Dl=e._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2=function(){return(Dl=e._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2=e.asm.Rh).apply(null,arguments)},Bl=e._emscripten_bind_btCapsuleShapeZ___destroy___0=function(){return(Bl=e._emscripten_bind_btCapsuleShapeZ___destroy___0=e.asm.Sh).apply(null,arguments)},Fl=e._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1=function(){return(Fl=e._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1=e.asm.Th).apply(null,arguments)},ql=e._emscripten_bind_btCylinderShapeX_setMargin_1=function(){return(ql=e._emscripten_bind_btCylinderShapeX_setMargin_1=e.asm.Uh).apply(null,arguments)},Ul=e._emscripten_bind_btCylinderShapeX_getMargin_0=function(){return(Ul=e._emscripten_bind_btCylinderShapeX_getMargin_0=e.asm.Vh).apply(null,arguments)},Vl=e._emscripten_bind_btCylinderShapeX_setLocalScaling_1=function(){return(Vl=e._emscripten_bind_btCylinderShapeX_setLocalScaling_1=e.asm.Wh).apply(null,arguments)},Wl=e._emscripten_bind_btCylinderShapeX_getLocalScaling_0=function(){return(Wl=e._emscripten_bind_btCylinderShapeX_getLocalScaling_0=e.asm.Xh).apply(null,arguments)},Gl=e._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2=function(){return(Gl=e._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2=e.asm.Yh).apply(null,arguments)},Hl=e._emscripten_bind_btCylinderShapeX___destroy___0=function(){return(Hl=e._emscripten_bind_btCylinderShapeX___destroy___0=e.asm.Zh).apply(null,arguments)},Xl=e._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1=function(){return(Xl=e._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1=e.asm._h).apply(null,arguments)},Kl=e._emscripten_bind_btCylinderShapeZ_setMargin_1=function(){return(Kl=e._emscripten_bind_btCylinderShapeZ_setMargin_1=e.asm.$h).apply(null,arguments)},Yl=e._emscripten_bind_btCylinderShapeZ_getMargin_0=function(){return(Yl=e._emscripten_bind_btCylinderShapeZ_getMargin_0=e.asm.ai).apply(null,arguments)},Zl=e._emscripten_bind_btCylinderShapeZ_setLocalScaling_1=function(){return(Zl=e._emscripten_bind_btCylinderShapeZ_setLocalScaling_1=e.asm.bi).apply(null,arguments)},Jl=e._emscripten_bind_btCylinderShapeZ_getLocalScaling_0=function(){return(Jl=e._emscripten_bind_btCylinderShapeZ_getLocalScaling_0=e.asm.ci).apply(null,arguments)},Ql=e._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2=function(){return(Ql=e._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2=e.asm.di).apply(null,arguments)},tp=e._emscripten_bind_btCylinderShapeZ___destroy___0=function(){return(tp=e._emscripten_bind_btCylinderShapeZ___destroy___0=e.asm.ei).apply(null,arguments)},ep=e._emscripten_bind_btSphereShape_btSphereShape_1=function(){return(ep=e._emscripten_bind_btSphereShape_btSphereShape_1=e.asm.fi).apply(null,arguments)},np=e._emscripten_bind_btSphereShape_setMargin_1=function(){return(np=e._emscripten_bind_btSphereShape_setMargin_1=e.asm.gi).apply(null,arguments)},ip=e._emscripten_bind_btSphereShape_getMargin_0=function(){return(ip=e._emscripten_bind_btSphereShape_getMargin_0=e.asm.hi).apply(null,arguments)},op=e._emscripten_bind_btSphereShape_setLocalScaling_1=function(){return(op=e._emscripten_bind_btSphereShape_setLocalScaling_1=e.asm.ii).apply(null,arguments)},rp=e._emscripten_bind_btSphereShape_getLocalScaling_0=function(){return(rp=e._emscripten_bind_btSphereShape_getLocalScaling_0=e.asm.ji).apply(null,arguments)},sp=e._emscripten_bind_btSphereShape_calculateLocalInertia_2=function(){return(sp=e._emscripten_bind_btSphereShape_calculateLocalInertia_2=e.asm.ki).apply(null,arguments)},ap=e._emscripten_bind_btSphereShape___destroy___0=function(){return(ap=e._emscripten_bind_btSphereShape___destroy___0=e.asm.li).apply(null,arguments)},lp=e._emscripten_bind_btMultiSphereShape_btMultiSphereShape_3=function(){return(lp=e._emscripten_bind_btMultiSphereShape_btMultiSphereShape_3=e.asm.mi).apply(null,arguments)},pp=e._emscripten_bind_btMultiSphereShape_setLocalScaling_1=function(){return(pp=e._emscripten_bind_btMultiSphereShape_setLocalScaling_1=e.asm.ni).apply(null,arguments)},up=e._emscripten_bind_btMultiSphereShape_getLocalScaling_0=function(){return(up=e._emscripten_bind_btMultiSphereShape_getLocalScaling_0=e.asm.oi).apply(null,arguments)},cp=e._emscripten_bind_btMultiSphereShape_calculateLocalInertia_2=function(){return(cp=e._emscripten_bind_btMultiSphereShape_calculateLocalInertia_2=e.asm.pi).apply(null,arguments)},_p=e._emscripten_bind_btMultiSphereShape___destroy___0=function(){return(_p=e._emscripten_bind_btMultiSphereShape___destroy___0=e.asm.qi).apply(null,arguments)},hp=e._emscripten_bind_btConeShapeX_btConeShapeX_2=function(){return(hp=e._emscripten_bind_btConeShapeX_btConeShapeX_2=e.asm.ri).apply(null,arguments)},dp=e._emscripten_bind_btConeShapeX_setLocalScaling_1=function(){return(dp=e._emscripten_bind_btConeShapeX_setLocalScaling_1=e.asm.si).apply(null,arguments)},fp=e._emscripten_bind_btConeShapeX_getLocalScaling_0=function(){return(fp=e._emscripten_bind_btConeShapeX_getLocalScaling_0=e.asm.ti).apply(null,arguments)},mp=e._emscripten_bind_btConeShapeX_calculateLocalInertia_2=function(){return(mp=e._emscripten_bind_btConeShapeX_calculateLocalInertia_2=e.asm.ui).apply(null,arguments)},yp=e._emscripten_bind_btConeShapeX___destroy___0=function(){return(yp=e._emscripten_bind_btConeShapeX___destroy___0=e.asm.vi).apply(null,arguments)},$p=e._emscripten_bind_btConeShapeZ_btConeShapeZ_2=function(){return($p=e._emscripten_bind_btConeShapeZ_btConeShapeZ_2=e.asm.wi).apply(null,arguments)},bp=e._emscripten_bind_btConeShapeZ_setLocalScaling_1=function(){return(bp=e._emscripten_bind_btConeShapeZ_setLocalScaling_1=e.asm.xi).apply(null,arguments)},gp=e._emscripten_bind_btConeShapeZ_getLocalScaling_0=function(){return(gp=e._emscripten_bind_btConeShapeZ_getLocalScaling_0=e.asm.yi).apply(null,arguments)},vp=e._emscripten_bind_btConeShapeZ_calculateLocalInertia_2=function(){return(vp=e._emscripten_bind_btConeShapeZ_calculateLocalInertia_2=e.asm.zi).apply(null,arguments)},xp=e._emscripten_bind_btConeShapeZ___destroy___0=function(){return(xp=e._emscripten_bind_btConeShapeZ___destroy___0=e.asm.Ai).apply(null,arguments)},wp=e._emscripten_bind_btIntArray_size_0=function(){return(wp=e._emscripten_bind_btIntArray_size_0=e.asm.Bi).apply(null,arguments)},zp=e._emscripten_bind_btIntArray_at_1=function(){return(zp=e._emscripten_bind_btIntArray_at_1=e.asm.Ci).apply(null,arguments)},Cp=e._emscripten_bind_btIntArray___destroy___0=function(){return(Cp=e._emscripten_bind_btIntArray___destroy___0=e.asm.Di).apply(null,arguments)},Sp=e._emscripten_bind_btFace_get_m_indices_0=function(){return(Sp=e._emscripten_bind_btFace_get_m_indices_0=e.asm.Ei).apply(null,arguments)},kp=e._emscripten_bind_btFace_set_m_indices_1=function(){return(kp=e._emscripten_bind_btFace_set_m_indices_1=e.asm.Fi).apply(null,arguments)},Lp=e._emscripten_bind_btFace_get_m_plane_1=function(){return(Lp=e._emscripten_bind_btFace_get_m_plane_1=e.asm.Gi).apply(null,arguments)},jp=e._emscripten_bind_btFace_set_m_plane_2=function(){return(jp=e._emscripten_bind_btFace_set_m_plane_2=e.asm.Hi).apply(null,arguments)},Np=e._emscripten_bind_btFace___destroy___0=function(){return(Np=e._emscripten_bind_btFace___destroy___0=e.asm.Ii).apply(null,arguments)},Pp=e._emscripten_bind_btVector3Array_size_0=function(){return(Pp=e._emscripten_bind_btVector3Array_size_0=e.asm.Ji).apply(null,arguments)},Tp=e._emscripten_bind_btVector3Array_at_1=function(){return(Tp=e._emscripten_bind_btVector3Array_at_1=e.asm.Ki).apply(null,arguments)},Op=e._emscripten_bind_btVector3Array___destroy___0=function(){return(Op=e._emscripten_bind_btVector3Array___destroy___0=e.asm.Li).apply(null,arguments)},Ep=e._emscripten_bind_btFaceArray_size_0=function(){return(Ep=e._emscripten_bind_btFaceArray_size_0=e.asm.Mi).apply(null,arguments)},Mp=e._emscripten_bind_btFaceArray_at_1=function(){return(Mp=e._emscripten_bind_btFaceArray_at_1=e.asm.Ni).apply(null,arguments)},Rp=e._emscripten_bind_btFaceArray___destroy___0=function(){return(Rp=e._emscripten_bind_btFaceArray___destroy___0=e.asm.Oi).apply(null,arguments)},Ip=e._emscripten_bind_btConvexPolyhedron_get_m_vertices_0=function(){return(Ip=e._emscripten_bind_btConvexPolyhedron_get_m_vertices_0=e.asm.Pi).apply(null,arguments)},Ap=e._emscripten_bind_btConvexPolyhedron_set_m_vertices_1=function(){return(Ap=e._emscripten_bind_btConvexPolyhedron_set_m_vertices_1=e.asm.Qi).apply(null,arguments)},Dp=e._emscripten_bind_btConvexPolyhedron_get_m_faces_0=function(){return(Dp=e._emscripten_bind_btConvexPolyhedron_get_m_faces_0=e.asm.Ri).apply(null,arguments)},Bp=e._emscripten_bind_btConvexPolyhedron_set_m_faces_1=function(){return(Bp=e._emscripten_bind_btConvexPolyhedron_set_m_faces_1=e.asm.Si).apply(null,arguments)},Fp=e._emscripten_bind_btConvexPolyhedron___destroy___0=function(){return(Fp=e._emscripten_bind_btConvexPolyhedron___destroy___0=e.asm.Ti).apply(null,arguments)},qp=e._emscripten_bind_btConvexHullShape_btConvexHullShape_0=function(){return(qp=e._emscripten_bind_btConvexHullShape_btConvexHullShape_0=e.asm.Ui).apply(null,arguments)},Up=e._emscripten_bind_btConvexHullShape_btConvexHullShape_1=function(){return(Up=e._emscripten_bind_btConvexHullShape_btConvexHullShape_1=e.asm.Vi).apply(null,arguments)},Vp=e._emscripten_bind_btConvexHullShape_btConvexHullShape_2=function(){return(Vp=e._emscripten_bind_btConvexHullShape_btConvexHullShape_2=e.asm.Wi).apply(null,arguments)},Wp=e._emscripten_bind_btConvexHullShape_addPoint_1=function(){return(Wp=e._emscripten_bind_btConvexHullShape_addPoint_1=e.asm.Xi).apply(null,arguments)},Gp=e._emscripten_bind_btConvexHullShape_addPoint_2=function(){return(Gp=e._emscripten_bind_btConvexHullShape_addPoint_2=e.asm.Yi).apply(null,arguments)},Hp=e._emscripten_bind_btConvexHullShape_setMargin_1=function(){return(Hp=e._emscripten_bind_btConvexHullShape_setMargin_1=e.asm.Zi).apply(null,arguments)},Xp=e._emscripten_bind_btConvexHullShape_getMargin_0=function(){return(Xp=e._emscripten_bind_btConvexHullShape_getMargin_0=e.asm._i).apply(null,arguments)},Kp=e._emscripten_bind_btConvexHullShape_getNumVertices_0=function(){return(Kp=e._emscripten_bind_btConvexHullShape_getNumVertices_0=e.asm.$i).apply(null,arguments)},Yp=e._emscripten_bind_btConvexHullShape_initializePolyhedralFeatures_1=function(){return(Yp=e._emscripten_bind_btConvexHullShape_initializePolyhedralFeatures_1=e.asm.aj).apply(null,arguments)},Zp=e._emscripten_bind_btConvexHullShape_recalcLocalAabb_0=function(){return(Zp=e._emscripten_bind_btConvexHullShape_recalcLocalAabb_0=e.asm.bj).apply(null,arguments)},Jp=e._emscripten_bind_btConvexHullShape_getConvexPolyhedron_0=function(){return(Jp=e._emscripten_bind_btConvexHullShape_getConvexPolyhedron_0=e.asm.cj).apply(null,arguments)},Qp=e._emscripten_bind_btConvexHullShape_setLocalScaling_1=function(){return(Qp=e._emscripten_bind_btConvexHullShape_setLocalScaling_1=e.asm.dj).apply(null,arguments)},tu=e._emscripten_bind_btConvexHullShape_getLocalScaling_0=function(){return(tu=e._emscripten_bind_btConvexHullShape_getLocalScaling_0=e.asm.ej).apply(null,arguments)},eu=e._emscripten_bind_btConvexHullShape_calculateLocalInertia_2=function(){return(eu=e._emscripten_bind_btConvexHullShape_calculateLocalInertia_2=e.asm.fj).apply(null,arguments)},nu=e._emscripten_bind_btConvexHullShape___destroy___0=function(){return(nu=e._emscripten_bind_btConvexHullShape___destroy___0=e.asm.gj).apply(null,arguments)},iu=e._emscripten_bind_btShapeHull_btShapeHull_1=function(){return(iu=e._emscripten_bind_btShapeHull_btShapeHull_1=e.asm.hj).apply(null,arguments)},ou=e._emscripten_bind_btShapeHull_buildHull_1=function(){return(ou=e._emscripten_bind_btShapeHull_buildHull_1=e.asm.ij).apply(null,arguments)},ru=e._emscripten_bind_btShapeHull_numIndices_0=function(){return(ru=e._emscripten_bind_btShapeHull_numIndices_0=e.asm.jj).apply(null,arguments)},su=e._emscripten_bind_btShapeHull_numVertices_0=function(){return(su=e._emscripten_bind_btShapeHull_numVertices_0=e.asm.kj).apply(null,arguments)},au=e._emscripten_bind_btShapeHull_getVertexPointer_0=function(){return(au=e._emscripten_bind_btShapeHull_getVertexPointer_0=e.asm.lj).apply(null,arguments)},lu=e._emscripten_bind_btShapeHull_getIndexAt_1=function(){return(lu=e._emscripten_bind_btShapeHull_getIndexAt_1=e.asm.mj).apply(null,arguments)},pu=e._emscripten_bind_btShapeHull_getVertexAt_1=function(){return(pu=e._emscripten_bind_btShapeHull_getVertexAt_1=e.asm.nj).apply(null,arguments)},uu=e._emscripten_bind_btShapeHull___destroy___0=function(){return(uu=e._emscripten_bind_btShapeHull___destroy___0=e.asm.oj).apply(null,arguments)},cu=e._emscripten_bind_btCompoundShape_btCompoundShape_0=function(){return(cu=e._emscripten_bind_btCompoundShape_btCompoundShape_0=e.asm.pj).apply(null,arguments)},_u=e._emscripten_bind_btCompoundShape_btCompoundShape_1=function(){return(_u=e._emscripten_bind_btCompoundShape_btCompoundShape_1=e.asm.qj).apply(null,arguments)},hu=e._emscripten_bind_btCompoundShape_addChildShape_2=function(){return(hu=e._emscripten_bind_btCompoundShape_addChildShape_2=e.asm.rj).apply(null,arguments)},du=e._emscripten_bind_btCompoundShape_removeChildShape_1=function(){return(du=e._emscripten_bind_btCompoundShape_removeChildShape_1=e.asm.sj).apply(null,arguments)},fu=e._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1=function(){return(fu=e._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1=e.asm.tj).apply(null,arguments)},mu=e._emscripten_bind_btCompoundShape_getNumChildShapes_0=function(){return(mu=e._emscripten_bind_btCompoundShape_getNumChildShapes_0=e.asm.uj).apply(null,arguments)},yu=e._emscripten_bind_btCompoundShape_getChildShape_1=function(){return(yu=e._emscripten_bind_btCompoundShape_getChildShape_1=e.asm.vj).apply(null,arguments)},$u=e._emscripten_bind_btCompoundShape_updateChildTransform_2=function(){return($u=e._emscripten_bind_btCompoundShape_updateChildTransform_2=e.asm.wj).apply(null,arguments)},bu=e._emscripten_bind_btCompoundShape_updateChildTransform_3=function(){return(bu=e._emscripten_bind_btCompoundShape_updateChildTransform_3=e.asm.xj).apply(null,arguments)},gu=e._emscripten_bind_btCompoundShape_setMargin_1=function(){return(gu=e._emscripten_bind_btCompoundShape_setMargin_1=e.asm.yj).apply(null,arguments)},vu=e._emscripten_bind_btCompoundShape_getMargin_0=function(){return(vu=e._emscripten_bind_btCompoundShape_getMargin_0=e.asm.zj).apply(null,arguments)},xu=e._emscripten_bind_btCompoundShape_setLocalScaling_1=function(){return(xu=e._emscripten_bind_btCompoundShape_setLocalScaling_1=e.asm.Aj).apply(null,arguments)},wu=e._emscripten_bind_btCompoundShape_getLocalScaling_0=function(){return(wu=e._emscripten_bind_btCompoundShape_getLocalScaling_0=e.asm.Bj).apply(null,arguments)},zu=e._emscripten_bind_btCompoundShape_calculateLocalInertia_2=function(){return(zu=e._emscripten_bind_btCompoundShape_calculateLocalInertia_2=e.asm.Cj).apply(null,arguments)},Cu=e._emscripten_bind_btCompoundShape___destroy___0=function(){return(Cu=e._emscripten_bind_btCompoundShape___destroy___0=e.asm.Dj).apply(null,arguments)},Su=e._emscripten_bind_btIndexedMesh_get_m_numTriangles_0=function(){return(Su=e._emscripten_bind_btIndexedMesh_get_m_numTriangles_0=e.asm.Ej).apply(null,arguments)},ku=e._emscripten_bind_btIndexedMesh_set_m_numTriangles_1=function(){return(ku=e._emscripten_bind_btIndexedMesh_set_m_numTriangles_1=e.asm.Fj).apply(null,arguments)},Lu=e._emscripten_bind_btIndexedMesh___destroy___0=function(){return(Lu=e._emscripten_bind_btIndexedMesh___destroy___0=e.asm.Gj).apply(null,arguments)},ju=e._emscripten_bind_btIndexedMeshArray_size_0=function(){return(ju=e._emscripten_bind_btIndexedMeshArray_size_0=e.asm.Hj).apply(null,arguments)},Nu=e._emscripten_bind_btIndexedMeshArray_at_1=function(){return(Nu=e._emscripten_bind_btIndexedMeshArray_at_1=e.asm.Ij).apply(null,arguments)},Pu=e._emscripten_bind_btIndexedMeshArray___destroy___0=function(){return(Pu=e._emscripten_bind_btIndexedMeshArray___destroy___0=e.asm.Jj).apply(null,arguments)},Tu=e._emscripten_bind_btTriangleMesh_btTriangleMesh_0=function(){return(Tu=e._emscripten_bind_btTriangleMesh_btTriangleMesh_0=e.asm.Kj).apply(null,arguments)},Ou=e._emscripten_bind_btTriangleMesh_btTriangleMesh_1=function(){return(Ou=e._emscripten_bind_btTriangleMesh_btTriangleMesh_1=e.asm.Lj).apply(null,arguments)},Eu=e._emscripten_bind_btTriangleMesh_btTriangleMesh_2=function(){return(Eu=e._emscripten_bind_btTriangleMesh_btTriangleMesh_2=e.asm.Mj).apply(null,arguments)},Mu=e._emscripten_bind_btTriangleMesh_addTriangle_3=function(){return(Mu=e._emscripten_bind_btTriangleMesh_addTriangle_3=e.asm.Nj).apply(null,arguments)},Ru=e._emscripten_bind_btTriangleMesh_addTriangle_4=function(){return(Ru=e._emscripten_bind_btTriangleMesh_addTriangle_4=e.asm.Oj).apply(null,arguments)},Iu=e._emscripten_bind_btTriangleMesh_findOrAddVertex_2=function(){return(Iu=e._emscripten_bind_btTriangleMesh_findOrAddVertex_2=e.asm.Pj).apply(null,arguments)},Au=e._emscripten_bind_btTriangleMesh_addIndex_1=function(){return(Au=e._emscripten_bind_btTriangleMesh_addIndex_1=e.asm.Qj).apply(null,arguments)},Du=e._emscripten_bind_btTriangleMesh_getIndexedMeshArray_0=function(){return(Du=e._emscripten_bind_btTriangleMesh_getIndexedMeshArray_0=e.asm.Rj).apply(null,arguments)},Bu=e._emscripten_bind_btTriangleMesh_setScaling_1=function(){return(Bu=e._emscripten_bind_btTriangleMesh_setScaling_1=e.asm.Sj).apply(null,arguments)},Fu=e._emscripten_bind_btTriangleMesh___destroy___0=function(){return(Fu=e._emscripten_bind_btTriangleMesh___destroy___0=e.asm.Tj).apply(null,arguments)},qu=e._emscripten_bind_btTriangleIndexVertexArray_btTriangleIndexVertexArray_6=function(){return(qu=e._emscripten_bind_btTriangleIndexVertexArray_btTriangleIndexVertexArray_6=e.asm.Uj).apply(null,arguments)},Uu=e._emscripten_bind_btTriangleIndexVertexArray_setScaling_1=function(){return(Uu=e._emscripten_bind_btTriangleIndexVertexArray_setScaling_1=e.asm.Vj).apply(null,arguments)},Vu=e._emscripten_bind_btTriangleIndexVertexArray___destroy___0=function(){return(Vu=e._emscripten_bind_btTriangleIndexVertexArray___destroy___0=e.asm.Wj).apply(null,arguments)},Wu=e._emscripten_bind_btEmptyShape_btEmptyShape_0=function(){return(Wu=e._emscripten_bind_btEmptyShape_btEmptyShape_0=e.asm.Xj).apply(null,arguments)},Gu=e._emscripten_bind_btEmptyShape_setLocalScaling_1=function(){return(Gu=e._emscripten_bind_btEmptyShape_setLocalScaling_1=e.asm.Yj).apply(null,arguments)},Hu=e._emscripten_bind_btEmptyShape_getLocalScaling_0=function(){return(Hu=e._emscripten_bind_btEmptyShape_getLocalScaling_0=e.asm.Zj).apply(null,arguments)},Xu=e._emscripten_bind_btEmptyShape_calculateLocalInertia_2=function(){return(Xu=e._emscripten_bind_btEmptyShape_calculateLocalInertia_2=e.asm._j).apply(null,arguments)},Ku=e._emscripten_bind_btEmptyShape___destroy___0=function(){return(Ku=e._emscripten_bind_btEmptyShape___destroy___0=e.asm.$j).apply(null,arguments)},Yu=e._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2=function(){return(Yu=e._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2=e.asm.ak).apply(null,arguments)},Zu=e._emscripten_bind_btStaticPlaneShape_setLocalScaling_1=function(){return(Zu=e._emscripten_bind_btStaticPlaneShape_setLocalScaling_1=e.asm.bk).apply(null,arguments)},Ju=e._emscripten_bind_btStaticPlaneShape_getLocalScaling_0=function(){return(Ju=e._emscripten_bind_btStaticPlaneShape_getLocalScaling_0=e.asm.ck).apply(null,arguments)},Qu=e._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2=function(){return(Qu=e._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2=e.asm.dk).apply(null,arguments)},tc=e._emscripten_bind_btStaticPlaneShape___destroy___0=function(){return(tc=e._emscripten_bind_btStaticPlaneShape___destroy___0=e.asm.ek).apply(null,arguments)},ec=e._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2=function(){return(ec=e._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2=e.asm.fk).apply(null,arguments)},nc=e._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3=function(){return(nc=e._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3=e.asm.gk).apply(null,arguments)},ic=e._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1=function(){return(ic=e._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1=e.asm.hk).apply(null,arguments)},oc=e._emscripten_bind_btBvhTriangleMeshShape_getLocalScaling_0=function(){return(oc=e._emscripten_bind_btBvhTriangleMeshShape_getLocalScaling_0=e.asm.ik).apply(null,arguments)},rc=e._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2=function(){return(rc=e._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2=e.asm.jk).apply(null,arguments)},sc=e._emscripten_bind_btBvhTriangleMeshShape___destroy___0=function(){return(sc=e._emscripten_bind_btBvhTriangleMeshShape___destroy___0=e.asm.kk).apply(null,arguments)},ac=e._emscripten_bind_btHeightfieldTerrainShape_btHeightfieldTerrainShape_9=function(){return(ac=e._emscripten_bind_btHeightfieldTerrainShape_btHeightfieldTerrainShape_9=e.asm.lk).apply(null,arguments)},lc=e._emscripten_bind_btHeightfieldTerrainShape_setMargin_1=function(){return(lc=e._emscripten_bind_btHeightfieldTerrainShape_setMargin_1=e.asm.mk).apply(null,arguments)},pc=e._emscripten_bind_btHeightfieldTerrainShape_getMargin_0=function(){return(pc=e._emscripten_bind_btHeightfieldTerrainShape_getMargin_0=e.asm.nk).apply(null,arguments)},uc=e._emscripten_bind_btHeightfieldTerrainShape_setLocalScaling_1=function(){return(uc=e._emscripten_bind_btHeightfieldTerrainShape_setLocalScaling_1=e.asm.ok).apply(null,arguments)},cc=e._emscripten_bind_btHeightfieldTerrainShape_getLocalScaling_0=function(){return(cc=e._emscripten_bind_btHeightfieldTerrainShape_getLocalScaling_0=e.asm.pk).apply(null,arguments)},_c=e._emscripten_bind_btHeightfieldTerrainShape_calculateLocalInertia_2=function(){return(_c=e._emscripten_bind_btHeightfieldTerrainShape_calculateLocalInertia_2=e.asm.qk).apply(null,arguments)},hc=e._emscripten_bind_btHeightfieldTerrainShape___destroy___0=function(){return(hc=e._emscripten_bind_btHeightfieldTerrainShape___destroy___0=e.asm.rk).apply(null,arguments)},dc=e._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0=function(){return(dc=e._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0=e.asm.sk).apply(null,arguments)},fc=e._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0=function(){return(fc=e._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0=e.asm.tk).apply(null,arguments)},mc=e._emscripten_bind_btPersistentManifold_btPersistentManifold_0=function(){return(mc=e._emscripten_bind_btPersistentManifold_btPersistentManifold_0=e.asm.uk).apply(null,arguments)},yc=e._emscripten_bind_btPersistentManifold_getBody0_0=function(){return(yc=e._emscripten_bind_btPersistentManifold_getBody0_0=e.asm.vk).apply(null,arguments)},$c=e._emscripten_bind_btPersistentManifold_getBody1_0=function(){return($c=e._emscripten_bind_btPersistentManifold_getBody1_0=e.asm.wk).apply(null,arguments)},bc=e._emscripten_bind_btPersistentManifold_getNumContacts_0=function(){return(bc=e._emscripten_bind_btPersistentManifold_getNumContacts_0=e.asm.xk).apply(null,arguments)},gc=e._emscripten_bind_btPersistentManifold_getContactPoint_1=function(){return(gc=e._emscripten_bind_btPersistentManifold_getContactPoint_1=e.asm.yk).apply(null,arguments)},vc=e._emscripten_bind_btPersistentManifold___destroy___0=function(){return(vc=e._emscripten_bind_btPersistentManifold___destroy___0=e.asm.zk).apply(null,arguments)},xc=e._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1=function(){return(xc=e._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1=e.asm.Ak).apply(null,arguments)},wc=e._emscripten_bind_btCollisionDispatcher_getNumManifolds_0=function(){return(wc=e._emscripten_bind_btCollisionDispatcher_getNumManifolds_0=e.asm.Bk).apply(null,arguments)},zc=e._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1=function(){return(zc=e._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1=e.asm.Ck).apply(null,arguments)},Cc=e._emscripten_bind_btCollisionDispatcher___destroy___0=function(){return(Cc=e._emscripten_bind_btCollisionDispatcher___destroy___0=e.asm.Dk).apply(null,arguments)},Sc=e._emscripten_bind_btOverlappingPairCallback___destroy___0=function(){return(Sc=e._emscripten_bind_btOverlappingPairCallback___destroy___0=e.asm.Ek).apply(null,arguments)},kc=e._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1=function(){return(kc=e._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1=e.asm.Fk).apply(null,arguments)},Lc=e._emscripten_bind_btOverlappingPairCache_getNumOverlappingPairs_0=function(){return(Lc=e._emscripten_bind_btOverlappingPairCache_getNumOverlappingPairs_0=e.asm.Gk).apply(null,arguments)},jc=e._emscripten_bind_btOverlappingPairCache___destroy___0=function(){return(jc=e._emscripten_bind_btOverlappingPairCache___destroy___0=e.asm.Hk).apply(null,arguments)},Nc=e._emscripten_bind_btAxisSweep3_btAxisSweep3_2=function(){return(Nc=e._emscripten_bind_btAxisSweep3_btAxisSweep3_2=e.asm.Ik).apply(null,arguments)},Pc=e._emscripten_bind_btAxisSweep3_btAxisSweep3_3=function(){return(Pc=e._emscripten_bind_btAxisSweep3_btAxisSweep3_3=e.asm.Jk).apply(null,arguments)},Tc=e._emscripten_bind_btAxisSweep3_btAxisSweep3_4=function(){return(Tc=e._emscripten_bind_btAxisSweep3_btAxisSweep3_4=e.asm.Kk).apply(null,arguments)},Oc=e._emscripten_bind_btAxisSweep3_btAxisSweep3_5=function(){return(Oc=e._emscripten_bind_btAxisSweep3_btAxisSweep3_5=e.asm.Lk).apply(null,arguments)},Ec=e._emscripten_bind_btAxisSweep3___destroy___0=function(){return(Ec=e._emscripten_bind_btAxisSweep3___destroy___0=e.asm.Mk).apply(null,arguments)},Mc=e._emscripten_bind_btBroadphaseInterface_getOverlappingPairCache_0=function(){return(Mc=e._emscripten_bind_btBroadphaseInterface_getOverlappingPairCache_0=e.asm.Nk).apply(null,arguments)},Rc=e._emscripten_bind_btBroadphaseInterface___destroy___0=function(){return(Rc=e._emscripten_bind_btBroadphaseInterface___destroy___0=e.asm.Ok).apply(null,arguments)},Ic=e._emscripten_bind_btCollisionConfiguration___destroy___0=function(){return(Ic=e._emscripten_bind_btCollisionConfiguration___destroy___0=e.asm.Pk).apply(null,arguments)},Ac=e._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0=function(){return(Ac=e._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0=e.asm.Qk).apply(null,arguments)},Dc=e._emscripten_bind_btDbvtBroadphase___destroy___0=function(){return(Dc=e._emscripten_bind_btDbvtBroadphase___destroy___0=e.asm.Rk).apply(null,arguments)},Bc=e._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterGroup_0=function(){return(Bc=e._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterGroup_0=e.asm.Sk).apply(null,arguments)},Fc=e._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterGroup_1=function(){return(Fc=e._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterGroup_1=e.asm.Tk).apply(null,arguments)},qc=e._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterMask_0=function(){return(qc=e._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterMask_0=e.asm.Uk).apply(null,arguments)},Uc=e._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterMask_1=function(){return(Uc=e._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterMask_1=e.asm.Vk).apply(null,arguments)},Vc=e._emscripten_bind_btBroadphaseProxy___destroy___0=function(){return(Vc=e._emscripten_bind_btBroadphaseProxy___destroy___0=e.asm.Wk).apply(null,arguments)},Wc=e._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3=function(){return(Wc=e._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3=e.asm.Xk).apply(null,arguments)},Gc=e._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4=function(){return(Gc=e._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4=e.asm.Yk).apply(null,arguments)},Hc=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0=function(){return(Hc=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0=e.asm.Zk).apply(null,arguments)},Xc=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1=function(){return(Xc=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1=e.asm._k).apply(null,arguments)},Kc=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0=function(){return(Kc=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0=e.asm.$k).apply(null,arguments)},Yc=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1=function(){return(Yc=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1=e.asm.al).apply(null,arguments)},Zc=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0=function(){return(Zc=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0=e.asm.bl).apply(null,arguments)},Jc=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1=function(){return(Jc=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1=e.asm.cl).apply(null,arguments)},Qc=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0=function(){return(Qc=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0=e.asm.dl).apply(null,arguments)},t_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1=function(){return(t_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1=e.asm.el).apply(null,arguments)},e_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0=function(){return(e_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0=e.asm.fl).apply(null,arguments)},n_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1=function(){return(n_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1=e.asm.gl).apply(null,arguments)},i_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0=function(){return(i_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0=e.asm.hl).apply(null,arguments)},o_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1=function(){return(o_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1=e.asm.il).apply(null,arguments)},r_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0=function(){return(r_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0=e.asm.jl).apply(null,arguments)},s_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1=function(){return(s_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1=e.asm.kl).apply(null,arguments)},a_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0=function(){return(a_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0=e.asm.ll).apply(null,arguments)},l_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1=function(){return(l_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1=e.asm.ml).apply(null,arguments)},p_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0=function(){return(p_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0=e.asm.nl).apply(null,arguments)},u_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1=function(){return(u_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1=e.asm.ol).apply(null,arguments)},c_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0=function(){return(c_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0=e.asm.pl).apply(null,arguments)},__=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1=function(){return(__=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1=e.asm.ql).apply(null,arguments)},h_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0=function(){return(h_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0=e.asm.rl).apply(null,arguments)},d_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1=function(){return(d_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1=e.asm.sl).apply(null,arguments)},f_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0=function(){return(f_=e._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0=e.asm.tl).apply(null,arguments)},m_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1=function(){return(m_=e._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1=e.asm.ul).apply(null,arguments)},y_=e._emscripten_bind_btRigidBodyConstructionInfo___destroy___0=function(){return(y_=e._emscripten_bind_btRigidBodyConstructionInfo___destroy___0=e.asm.vl).apply(null,arguments)},$_=e._emscripten_bind_btRigidBody_btRigidBody_1=function(){return($_=e._emscripten_bind_btRigidBody_btRigidBody_1=e.asm.wl).apply(null,arguments)},b_=e._emscripten_bind_btRigidBody_getCenterOfMassTransform_0=function(){return(b_=e._emscripten_bind_btRigidBody_getCenterOfMassTransform_0=e.asm.xl).apply(null,arguments)},g_=e._emscripten_bind_btRigidBody_setCenterOfMassTransform_1=function(){return(g_=e._emscripten_bind_btRigidBody_setCenterOfMassTransform_1=e.asm.yl).apply(null,arguments)},v_=e._emscripten_bind_btRigidBody_setSleepingThresholds_2=function(){return(v_=e._emscripten_bind_btRigidBody_setSleepingThresholds_2=e.asm.zl).apply(null,arguments)},x_=e._emscripten_bind_btRigidBody_getLinearDamping_0=function(){return(x_=e._emscripten_bind_btRigidBody_getLinearDamping_0=e.asm.Al).apply(null,arguments)},w_=e._emscripten_bind_btRigidBody_getAngularDamping_0=function(){return(w_=e._emscripten_bind_btRigidBody_getAngularDamping_0=e.asm.Bl).apply(null,arguments)},z_=e._emscripten_bind_btRigidBody_setDamping_2=function(){return(z_=e._emscripten_bind_btRigidBody_setDamping_2=e.asm.Cl).apply(null,arguments)},C_=e._emscripten_bind_btRigidBody_setMassProps_2=function(){return(C_=e._emscripten_bind_btRigidBody_setMassProps_2=e.asm.Dl).apply(null,arguments)},S_=e._emscripten_bind_btRigidBody_getLinearFactor_0=function(){return(S_=e._emscripten_bind_btRigidBody_getLinearFactor_0=e.asm.El).apply(null,arguments)},k_=e._emscripten_bind_btRigidBody_setLinearFactor_1=function(){return(k_=e._emscripten_bind_btRigidBody_setLinearFactor_1=e.asm.Fl).apply(null,arguments)},L_=e._emscripten_bind_btRigidBody_applyTorque_1=function(){return(L_=e._emscripten_bind_btRigidBody_applyTorque_1=e.asm.Gl).apply(null,arguments)},j_=e._emscripten_bind_btRigidBody_applyLocalTorque_1=function(){return(j_=e._emscripten_bind_btRigidBody_applyLocalTorque_1=e.asm.Hl).apply(null,arguments)},N_=e._emscripten_bind_btRigidBody_applyForce_2=function(){return(N_=e._emscripten_bind_btRigidBody_applyForce_2=e.asm.Il).apply(null,arguments)},P_=e._emscripten_bind_btRigidBody_applyCentralForce_1=function(){return(P_=e._emscripten_bind_btRigidBody_applyCentralForce_1=e.asm.Jl).apply(null,arguments)},T_=e._emscripten_bind_btRigidBody_applyCentralLocalForce_1=function(){return(T_=e._emscripten_bind_btRigidBody_applyCentralLocalForce_1=e.asm.Kl).apply(null,arguments)},O_=e._emscripten_bind_btRigidBody_applyTorqueImpulse_1=function(){return(O_=e._emscripten_bind_btRigidBody_applyTorqueImpulse_1=e.asm.Ll).apply(null,arguments)},E_=e._emscripten_bind_btRigidBody_applyImpulse_2=function(){return(E_=e._emscripten_bind_btRigidBody_applyImpulse_2=e.asm.Ml).apply(null,arguments)},M_=e._emscripten_bind_btRigidBody_applyCentralImpulse_1=function(){return(M_=e._emscripten_bind_btRigidBody_applyCentralImpulse_1=e.asm.Nl).apply(null,arguments)},R_=e._emscripten_bind_btRigidBody_updateInertiaTensor_0=function(){return(R_=e._emscripten_bind_btRigidBody_updateInertiaTensor_0=e.asm.Ol).apply(null,arguments)},I_=e._emscripten_bind_btRigidBody_getLinearVelocity_0=function(){return(I_=e._emscripten_bind_btRigidBody_getLinearVelocity_0=e.asm.Pl).apply(null,arguments)},A_=e._emscripten_bind_btRigidBody_getAngularVelocity_0=function(){return(A_=e._emscripten_bind_btRigidBody_getAngularVelocity_0=e.asm.Ql).apply(null,arguments)},D_=e._emscripten_bind_btRigidBody_setLinearVelocity_1=function(){return(D_=e._emscripten_bind_btRigidBody_setLinearVelocity_1=e.asm.Rl).apply(null,arguments)},B_=e._emscripten_bind_btRigidBody_setAngularVelocity_1=function(){return(B_=e._emscripten_bind_btRigidBody_setAngularVelocity_1=e.asm.Sl).apply(null,arguments)},F_=e._emscripten_bind_btRigidBody_getMotionState_0=function(){return(F_=e._emscripten_bind_btRigidBody_getMotionState_0=e.asm.Tl).apply(null,arguments)},q_=e._emscripten_bind_btRigidBody_setMotionState_1=function(){return(q_=e._emscripten_bind_btRigidBody_setMotionState_1=e.asm.Ul).apply(null,arguments)},U_=e._emscripten_bind_btRigidBody_getAngularFactor_0=function(){return(U_=e._emscripten_bind_btRigidBody_getAngularFactor_0=e.asm.Vl).apply(null,arguments)},V_=e._emscripten_bind_btRigidBody_setAngularFactor_1=function(){return(V_=e._emscripten_bind_btRigidBody_setAngularFactor_1=e.asm.Wl).apply(null,arguments)},W_=e._emscripten_bind_btRigidBody_upcast_1=function(){return(W_=e._emscripten_bind_btRigidBody_upcast_1=e.asm.Xl).apply(null,arguments)},G_=e._emscripten_bind_btRigidBody_getAabb_2=function(){return(G_=e._emscripten_bind_btRigidBody_getAabb_2=e.asm.Yl).apply(null,arguments)},H_=e._emscripten_bind_btRigidBody_applyGravity_0=function(){return(H_=e._emscripten_bind_btRigidBody_applyGravity_0=e.asm.Zl).apply(null,arguments)},X_=e._emscripten_bind_btRigidBody_getGravity_0=function(){return(X_=e._emscripten_bind_btRigidBody_getGravity_0=e.asm._l).apply(null,arguments)},K_=e._emscripten_bind_btRigidBody_setGravity_1=function(){return(K_=e._emscripten_bind_btRigidBody_setGravity_1=e.asm.$l).apply(null,arguments)},Y_=e._emscripten_bind_btRigidBody_getBroadphaseProxy_0=function(){return(Y_=e._emscripten_bind_btRigidBody_getBroadphaseProxy_0=e.asm.am).apply(null,arguments)},Z_=e._emscripten_bind_btRigidBody_clearForces_0=function(){return(Z_=e._emscripten_bind_btRigidBody_clearForces_0=e.asm.bm).apply(null,arguments)},J_=e._emscripten_bind_btRigidBody_setAnisotropicFriction_2=function(){return(J_=e._emscripten_bind_btRigidBody_setAnisotropicFriction_2=e.asm.cm).apply(null,arguments)},Q_=e._emscripten_bind_btRigidBody_getCollisionShape_0=function(){return(Q_=e._emscripten_bind_btRigidBody_getCollisionShape_0=e.asm.dm).apply(null,arguments)},th=e._emscripten_bind_btRigidBody_setContactProcessingThreshold_1=function(){return(th=e._emscripten_bind_btRigidBody_setContactProcessingThreshold_1=e.asm.em).apply(null,arguments)},eh=e._emscripten_bind_btRigidBody_setActivationState_1=function(){return(eh=e._emscripten_bind_btRigidBody_setActivationState_1=e.asm.fm).apply(null,arguments)},nh=e._emscripten_bind_btRigidBody_forceActivationState_1=function(){return(nh=e._emscripten_bind_btRigidBody_forceActivationState_1=e.asm.gm).apply(null,arguments)},ih=e._emscripten_bind_btRigidBody_activate_0=function(){return(ih=e._emscripten_bind_btRigidBody_activate_0=e.asm.hm).apply(null,arguments)},oh=e._emscripten_bind_btRigidBody_activate_1=function(){return(oh=e._emscripten_bind_btRigidBody_activate_1=e.asm.im).apply(null,arguments)},rh=e._emscripten_bind_btRigidBody_isActive_0=function(){return(rh=e._emscripten_bind_btRigidBody_isActive_0=e.asm.jm).apply(null,arguments)},sh=e._emscripten_bind_btRigidBody_isKinematicObject_0=function(){return(sh=e._emscripten_bind_btRigidBody_isKinematicObject_0=e.asm.km).apply(null,arguments)},ah=e._emscripten_bind_btRigidBody_isStaticObject_0=function(){return(ah=e._emscripten_bind_btRigidBody_isStaticObject_0=e.asm.lm).apply(null,arguments)},lh=e._emscripten_bind_btRigidBody_isStaticOrKinematicObject_0=function(){return(lh=e._emscripten_bind_btRigidBody_isStaticOrKinematicObject_0=e.asm.mm).apply(null,arguments)},ph=e._emscripten_bind_btRigidBody_getRestitution_0=function(){return(ph=e._emscripten_bind_btRigidBody_getRestitution_0=e.asm.nm).apply(null,arguments)},uh=e._emscripten_bind_btRigidBody_getFriction_0=function(){return(uh=e._emscripten_bind_btRigidBody_getFriction_0=e.asm.om).apply(null,arguments)},ch=e._emscripten_bind_btRigidBody_getRollingFriction_0=function(){return(ch=e._emscripten_bind_btRigidBody_getRollingFriction_0=e.asm.pm).apply(null,arguments)},_h=e._emscripten_bind_btRigidBody_setRestitution_1=function(){return(_h=e._emscripten_bind_btRigidBody_setRestitution_1=e.asm.qm).apply(null,arguments)},hh=e._emscripten_bind_btRigidBody_setFriction_1=function(){return(hh=e._emscripten_bind_btRigidBody_setFriction_1=e.asm.rm).apply(null,arguments)},dh=e._emscripten_bind_btRigidBody_setRollingFriction_1=function(){return(dh=e._emscripten_bind_btRigidBody_setRollingFriction_1=e.asm.sm).apply(null,arguments)},fh=e._emscripten_bind_btRigidBody_getWorldTransform_0=function(){return(fh=e._emscripten_bind_btRigidBody_getWorldTransform_0=e.asm.tm).apply(null,arguments)},mh=e._emscripten_bind_btRigidBody_getCollisionFlags_0=function(){return(mh=e._emscripten_bind_btRigidBody_getCollisionFlags_0=e.asm.um).apply(null,arguments)},yh=e._emscripten_bind_btRigidBody_setCollisionFlags_1=function(){return(yh=e._emscripten_bind_btRigidBody_setCollisionFlags_1=e.asm.vm).apply(null,arguments)},$h=e._emscripten_bind_btRigidBody_setWorldTransform_1=function(){return($h=e._emscripten_bind_btRigidBody_setWorldTransform_1=e.asm.wm).apply(null,arguments)},bh=e._emscripten_bind_btRigidBody_setCollisionShape_1=function(){return(bh=e._emscripten_bind_btRigidBody_setCollisionShape_1=e.asm.xm).apply(null,arguments)},gh=e._emscripten_bind_btRigidBody_setCcdMotionThreshold_1=function(){return(gh=e._emscripten_bind_btRigidBody_setCcdMotionThreshold_1=e.asm.ym).apply(null,arguments)},vh=e._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1=function(){return(vh=e._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1=e.asm.zm).apply(null,arguments)},xh=e._emscripten_bind_btRigidBody_getUserIndex_0=function(){return(xh=e._emscripten_bind_btRigidBody_getUserIndex_0=e.asm.Am).apply(null,arguments)},wh=e._emscripten_bind_btRigidBody_setUserIndex_1=function(){return(wh=e._emscripten_bind_btRigidBody_setUserIndex_1=e.asm.Bm).apply(null,arguments)},zh=e._emscripten_bind_btRigidBody_getUserPointer_0=function(){return(zh=e._emscripten_bind_btRigidBody_getUserPointer_0=e.asm.Cm).apply(null,arguments)},Ch=e._emscripten_bind_btRigidBody_setUserPointer_1=function(){return(Ch=e._emscripten_bind_btRigidBody_setUserPointer_1=e.asm.Dm).apply(null,arguments)},Sh=e._emscripten_bind_btRigidBody_getBroadphaseHandle_0=function(){return(Sh=e._emscripten_bind_btRigidBody_getBroadphaseHandle_0=e.asm.Em).apply(null,arguments)},kh=e._emscripten_bind_btRigidBody___destroy___0=function(){return(kh=e._emscripten_bind_btRigidBody___destroy___0=e.asm.Fm).apply(null,arguments)},Lh=e._emscripten_bind_btConstraintSetting_btConstraintSetting_0=function(){return(Lh=e._emscripten_bind_btConstraintSetting_btConstraintSetting_0=e.asm.Gm).apply(null,arguments)},jh=e._emscripten_bind_btConstraintSetting_get_m_tau_0=function(){return(jh=e._emscripten_bind_btConstraintSetting_get_m_tau_0=e.asm.Hm).apply(null,arguments)},Nh=e._emscripten_bind_btConstraintSetting_set_m_tau_1=function(){return(Nh=e._emscripten_bind_btConstraintSetting_set_m_tau_1=e.asm.Im).apply(null,arguments)},Ph=e._emscripten_bind_btConstraintSetting_get_m_damping_0=function(){return(Ph=e._emscripten_bind_btConstraintSetting_get_m_damping_0=e.asm.Jm).apply(null,arguments)},Th=e._emscripten_bind_btConstraintSetting_set_m_damping_1=function(){return(Th=e._emscripten_bind_btConstraintSetting_set_m_damping_1=e.asm.Km).apply(null,arguments)},Oh=e._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0=function(){return(Oh=e._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0=e.asm.Lm).apply(null,arguments)},Eh=e._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1=function(){return(Eh=e._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1=e.asm.Mm).apply(null,arguments)},Mh=e._emscripten_bind_btConstraintSetting___destroy___0=function(){return(Mh=e._emscripten_bind_btConstraintSetting___destroy___0=e.asm.Nm).apply(null,arguments)},Rh=e._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2=function(){return(Rh=e._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2=e.asm.Om).apply(null,arguments)},Ih=e._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4=function(){return(Ih=e._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4=e.asm.Pm).apply(null,arguments)},Ah=e._emscripten_bind_btPoint2PointConstraint_setPivotA_1=function(){return(Ah=e._emscripten_bind_btPoint2PointConstraint_setPivotA_1=e.asm.Qm).apply(null,arguments)},Dh=e._emscripten_bind_btPoint2PointConstraint_setPivotB_1=function(){return(Dh=e._emscripten_bind_btPoint2PointConstraint_setPivotB_1=e.asm.Rm).apply(null,arguments)},Bh=e._emscripten_bind_btPoint2PointConstraint_getPivotInA_0=function(){return(Bh=e._emscripten_bind_btPoint2PointConstraint_getPivotInA_0=e.asm.Sm).apply(null,arguments)},Fh=e._emscripten_bind_btPoint2PointConstraint_getPivotInB_0=function(){return(Fh=e._emscripten_bind_btPoint2PointConstraint_getPivotInB_0=e.asm.Tm).apply(null,arguments)},qh=e._emscripten_bind_btPoint2PointConstraint_enableFeedback_1=function(){return(qh=e._emscripten_bind_btPoint2PointConstraint_enableFeedback_1=e.asm.Um).apply(null,arguments)},Uh=e._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0=function(){return(Uh=e._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0=e.asm.Vm).apply(null,arguments)},Vh=e._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1=function(){return(Vh=e._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1=e.asm.Wm).apply(null,arguments)},Wh=e._emscripten_bind_btPoint2PointConstraint_getParam_2=function(){return(Wh=e._emscripten_bind_btPoint2PointConstraint_getParam_2=e.asm.Xm).apply(null,arguments)},Gh=e._emscripten_bind_btPoint2PointConstraint_setParam_3=function(){return(Gh=e._emscripten_bind_btPoint2PointConstraint_setParam_3=e.asm.Ym).apply(null,arguments)},Hh=e._emscripten_bind_btPoint2PointConstraint_get_m_setting_0=function(){return(Hh=e._emscripten_bind_btPoint2PointConstraint_get_m_setting_0=e.asm.Zm).apply(null,arguments)},Xh=e._emscripten_bind_btPoint2PointConstraint_set_m_setting_1=function(){return(Xh=e._emscripten_bind_btPoint2PointConstraint_set_m_setting_1=e.asm._m).apply(null,arguments)},Kh=e._emscripten_bind_btPoint2PointConstraint___destroy___0=function(){return(Kh=e._emscripten_bind_btPoint2PointConstraint___destroy___0=e.asm.$m).apply(null,arguments)},Yh=e._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3=function(){return(Yh=e._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3=e.asm.an).apply(null,arguments)},Zh=e._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5=function(){return(Zh=e._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5=e.asm.bn).apply(null,arguments)},Jh=e._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2=function(){return(Jh=e._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2=e.asm.cn).apply(null,arguments)},Qh=e._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2=function(){return(Qh=e._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2=e.asm.dn).apply(null,arguments)},td=e._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2=function(){return(td=e._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2=e.asm.en).apply(null,arguments)},ed=e._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_0=function(){return(ed=e._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_0=e.asm.fn).apply(null,arguments)},nd=e._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_1=function(){return(nd=e._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_1=e.asm.gn).apply(null,arguments)},id=e._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_2=function(){return(id=e._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_2=e.asm.hn).apply(null,arguments)},od=e._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1=function(){return(od=e._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1=e.asm.jn).apply(null,arguments)},rd=e._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1=function(){return(rd=e._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1=e.asm.kn).apply(null,arguments)},sd=e._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1=function(){return(sd=e._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1=e.asm.ln).apply(null,arguments)},ad=e._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1=function(){return(ad=e._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1=e.asm.mn).apply(null,arguments)},ld=e._emscripten_bind_btGeneric6DofSpringConstraint_getFrameOffsetA_0=function(){return(ld=e._emscripten_bind_btGeneric6DofSpringConstraint_getFrameOffsetA_0=e.asm.nn).apply(null,arguments)},pd=e._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1=function(){return(pd=e._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1=e.asm.on).apply(null,arguments)},ud=e._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0=function(){return(ud=e._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0=e.asm.pn).apply(null,arguments)},cd=e._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1=function(){return(cd=e._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1=e.asm.qn).apply(null,arguments)},_d=e._emscripten_bind_btGeneric6DofSpringConstraint_getParam_2=function(){return(_d=e._emscripten_bind_btGeneric6DofSpringConstraint_getParam_2=e.asm.rn).apply(null,arguments)},hd=e._emscripten_bind_btGeneric6DofSpringConstraint_setParam_3=function(){return(hd=e._emscripten_bind_btGeneric6DofSpringConstraint_setParam_3=e.asm.sn).apply(null,arguments)},dd=e._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0=function(){return(dd=e._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0=e.asm.tn).apply(null,arguments)},fd=e._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0=function(){return(fd=e._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0=e.asm.un).apply(null,arguments)},md=e._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0=function(){return(md=e._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0=e.asm.vn).apply(null,arguments)},yd=e._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2=function(){return(yd=e._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2=e.asm.wn).apply(null,arguments)},$d=e._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4=function(){return($d=e._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4=e.asm.xn).apply(null,arguments)},bd=e._emscripten_bind_btConeTwistConstraint_setLimit_2=function(){return(bd=e._emscripten_bind_btConeTwistConstraint_setLimit_2=e.asm.yn).apply(null,arguments)},gd=e._emscripten_bind_btConeTwistConstraint_setAngularOnly_1=function(){return(gd=e._emscripten_bind_btConeTwistConstraint_setAngularOnly_1=e.asm.zn).apply(null,arguments)},vd=e._emscripten_bind_btConeTwistConstraint_setDamping_1=function(){return(vd=e._emscripten_bind_btConeTwistConstraint_setDamping_1=e.asm.An).apply(null,arguments)},xd=e._emscripten_bind_btConeTwistConstraint_enableMotor_1=function(){return(xd=e._emscripten_bind_btConeTwistConstraint_enableMotor_1=e.asm.Bn).apply(null,arguments)},wd=e._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1=function(){return(wd=e._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1=e.asm.Cn).apply(null,arguments)},zd=e._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1=function(){return(zd=e._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1=e.asm.Dn).apply(null,arguments)},Cd=e._emscripten_bind_btConeTwistConstraint_setMotorTarget_1=function(){return(Cd=e._emscripten_bind_btConeTwistConstraint_setMotorTarget_1=e.asm.En).apply(null,arguments)},Sd=e._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1=function(){return(Sd=e._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1=e.asm.Fn).apply(null,arguments)},kd=e._emscripten_bind_btConeTwistConstraint_enableFeedback_1=function(){return(kd=e._emscripten_bind_btConeTwistConstraint_enableFeedback_1=e.asm.Gn).apply(null,arguments)},Ld=e._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0=function(){return(Ld=e._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0=e.asm.Hn).apply(null,arguments)},jd=e._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1=function(){return(jd=e._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1=e.asm.In).apply(null,arguments)},Nd=e._emscripten_bind_btConeTwistConstraint_getParam_2=function(){return(Nd=e._emscripten_bind_btConeTwistConstraint_getParam_2=e.asm.Jn).apply(null,arguments)},Pd=e._emscripten_bind_btConeTwistConstraint_setParam_3=function(){return(Pd=e._emscripten_bind_btConeTwistConstraint_setParam_3=e.asm.Kn).apply(null,arguments)},Td=e._emscripten_bind_btConeTwistConstraint___destroy___0=function(){return(Td=e._emscripten_bind_btConeTwistConstraint___destroy___0=e.asm.Ln).apply(null,arguments)},Od=e._emscripten_bind_btHingeConstraint_btHingeConstraint_2=function(){return(Od=e._emscripten_bind_btHingeConstraint_btHingeConstraint_2=e.asm.Mn).apply(null,arguments)},Ed=e._emscripten_bind_btHingeConstraint_btHingeConstraint_3=function(){return(Ed=e._emscripten_bind_btHingeConstraint_btHingeConstraint_3=e.asm.Nn).apply(null,arguments)},Md=e._emscripten_bind_btHingeConstraint_btHingeConstraint_4=function(){return(Md=e._emscripten_bind_btHingeConstraint_btHingeConstraint_4=e.asm.On).apply(null,arguments)},Rd=e._emscripten_bind_btHingeConstraint_btHingeConstraint_5=function(){return(Rd=e._emscripten_bind_btHingeConstraint_btHingeConstraint_5=e.asm.Pn).apply(null,arguments)},Id=e._emscripten_bind_btHingeConstraint_btHingeConstraint_6=function(){return(Id=e._emscripten_bind_btHingeConstraint_btHingeConstraint_6=e.asm.Qn).apply(null,arguments)},Ad=e._emscripten_bind_btHingeConstraint_btHingeConstraint_7=function(){return(Ad=e._emscripten_bind_btHingeConstraint_btHingeConstraint_7=e.asm.Rn).apply(null,arguments)},Dd=e._emscripten_bind_btHingeConstraint_setLimit_4=function(){return(Dd=e._emscripten_bind_btHingeConstraint_setLimit_4=e.asm.Sn).apply(null,arguments)},Bd=e._emscripten_bind_btHingeConstraint_setLimit_5=function(){return(Bd=e._emscripten_bind_btHingeConstraint_setLimit_5=e.asm.Tn).apply(null,arguments)},Fd=e._emscripten_bind_btHingeConstraint_enableAngularMotor_3=function(){return(Fd=e._emscripten_bind_btHingeConstraint_enableAngularMotor_3=e.asm.Un).apply(null,arguments)},qd=e._emscripten_bind_btHingeConstraint_setAngularOnly_1=function(){return(qd=e._emscripten_bind_btHingeConstraint_setAngularOnly_1=e.asm.Vn).apply(null,arguments)},Ud=e._emscripten_bind_btHingeConstraint_enableMotor_1=function(){return(Ud=e._emscripten_bind_btHingeConstraint_enableMotor_1=e.asm.Wn).apply(null,arguments)},Vd=e._emscripten_bind_btHingeConstraint_setMaxMotorImpulse_1=function(){return(Vd=e._emscripten_bind_btHingeConstraint_setMaxMotorImpulse_1=e.asm.Xn).apply(null,arguments)},Wd=e._emscripten_bind_btHingeConstraint_setMotorTarget_2=function(){return(Wd=e._emscripten_bind_btHingeConstraint_setMotorTarget_2=e.asm.Yn).apply(null,arguments)},Gd=e._emscripten_bind_btHingeConstraint_enableFeedback_1=function(){return(Gd=e._emscripten_bind_btHingeConstraint_enableFeedback_1=e.asm.Zn).apply(null,arguments)},Hd=e._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0=function(){return(Hd=e._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0=e.asm._n).apply(null,arguments)},Xd=e._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1=function(){return(Xd=e._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1=e.asm.$n).apply(null,arguments)},Kd=e._emscripten_bind_btHingeConstraint_getParam_2=function(){return(Kd=e._emscripten_bind_btHingeConstraint_getParam_2=e.asm.ao).apply(null,arguments)},Yd=e._emscripten_bind_btHingeConstraint_setParam_3=function(){return(Yd=e._emscripten_bind_btHingeConstraint_setParam_3=e.asm.bo).apply(null,arguments)},Zd=e._emscripten_bind_btHingeConstraint___destroy___0=function(){return(Zd=e._emscripten_bind_btHingeConstraint___destroy___0=e.asm.co).apply(null,arguments)},Jd=e._emscripten_bind_btSliderConstraint_btSliderConstraint_3=function(){return(Jd=e._emscripten_bind_btSliderConstraint_btSliderConstraint_3=e.asm.eo).apply(null,arguments)},Qd=e._emscripten_bind_btSliderConstraint_btSliderConstraint_5=function(){return(Qd=e._emscripten_bind_btSliderConstraint_btSliderConstraint_5=e.asm.fo).apply(null,arguments)},tf=e._emscripten_bind_btSliderConstraint_setLowerLinLimit_1=function(){return(tf=e._emscripten_bind_btSliderConstraint_setLowerLinLimit_1=e.asm.go).apply(null,arguments)},ef=e._emscripten_bind_btSliderConstraint_setUpperLinLimit_1=function(){return(ef=e._emscripten_bind_btSliderConstraint_setUpperLinLimit_1=e.asm.ho).apply(null,arguments)},nf=e._emscripten_bind_btSliderConstraint_setLowerAngLimit_1=function(){return(nf=e._emscripten_bind_btSliderConstraint_setLowerAngLimit_1=e.asm.io).apply(null,arguments)},of=e._emscripten_bind_btSliderConstraint_setUpperAngLimit_1=function(){return(of=e._emscripten_bind_btSliderConstraint_setUpperAngLimit_1=e.asm.jo).apply(null,arguments)},rf=e._emscripten_bind_btSliderConstraint_enableFeedback_1=function(){return(rf=e._emscripten_bind_btSliderConstraint_enableFeedback_1=e.asm.ko).apply(null,arguments)},sf=e._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0=function(){return(sf=e._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0=e.asm.lo).apply(null,arguments)},af=e._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1=function(){return(af=e._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1=e.asm.mo).apply(null,arguments)},lf=e._emscripten_bind_btSliderConstraint_getParam_2=function(){return(lf=e._emscripten_bind_btSliderConstraint_getParam_2=e.asm.no).apply(null,arguments)},pf=e._emscripten_bind_btSliderConstraint_setParam_3=function(){return(pf=e._emscripten_bind_btSliderConstraint_setParam_3=e.asm.oo).apply(null,arguments)},uf=e._emscripten_bind_btSliderConstraint___destroy___0=function(){return(uf=e._emscripten_bind_btSliderConstraint___destroy___0=e.asm.po).apply(null,arguments)},cf=e._emscripten_bind_btFixedConstraint_btFixedConstraint_4=function(){return(cf=e._emscripten_bind_btFixedConstraint_btFixedConstraint_4=e.asm.qo).apply(null,arguments)},_f=e._emscripten_bind_btFixedConstraint_enableFeedback_1=function(){return(_f=e._emscripten_bind_btFixedConstraint_enableFeedback_1=e.asm.ro).apply(null,arguments)},hf=e._emscripten_bind_btFixedConstraint_getBreakingImpulseThreshold_0=function(){return(hf=e._emscripten_bind_btFixedConstraint_getBreakingImpulseThreshold_0=e.asm.so).apply(null,arguments)},df=e._emscripten_bind_btFixedConstraint_setBreakingImpulseThreshold_1=function(){return(df=e._emscripten_bind_btFixedConstraint_setBreakingImpulseThreshold_1=e.asm.to).apply(null,arguments)},ff=e._emscripten_bind_btFixedConstraint_getParam_2=function(){return(ff=e._emscripten_bind_btFixedConstraint_getParam_2=e.asm.uo).apply(null,arguments)},mf=e._emscripten_bind_btFixedConstraint_setParam_3=function(){return(mf=e._emscripten_bind_btFixedConstraint_setParam_3=e.asm.vo).apply(null,arguments)},yf=e._emscripten_bind_btFixedConstraint___destroy___0=function(){return(yf=e._emscripten_bind_btFixedConstraint___destroy___0=e.asm.wo).apply(null,arguments)},$f=e._emscripten_bind_btConstraintSolver___destroy___0=function(){return($f=e._emscripten_bind_btConstraintSolver___destroy___0=e.asm.xo).apply(null,arguments)},bf=e._emscripten_bind_btDispatcherInfo_get_m_timeStep_0=function(){return(bf=e._emscripten_bind_btDispatcherInfo_get_m_timeStep_0=e.asm.yo).apply(null,arguments)},gf=e._emscripten_bind_btDispatcherInfo_set_m_timeStep_1=function(){return(gf=e._emscripten_bind_btDispatcherInfo_set_m_timeStep_1=e.asm.zo).apply(null,arguments)},vf=e._emscripten_bind_btDispatcherInfo_get_m_stepCount_0=function(){return(vf=e._emscripten_bind_btDispatcherInfo_get_m_stepCount_0=e.asm.Ao).apply(null,arguments)},xf=e._emscripten_bind_btDispatcherInfo_set_m_stepCount_1=function(){return(xf=e._emscripten_bind_btDispatcherInfo_set_m_stepCount_1=e.asm.Bo).apply(null,arguments)},wf=e._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0=function(){return(wf=e._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0=e.asm.Co).apply(null,arguments)},zf=e._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1=function(){return(zf=e._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1=e.asm.Do).apply(null,arguments)},Cf=e._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0=function(){return(Cf=e._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0=e.asm.Eo).apply(null,arguments)},Sf=e._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1=function(){return(Sf=e._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1=e.asm.Fo).apply(null,arguments)},kf=e._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0=function(){return(kf=e._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0=e.asm.Go).apply(null,arguments)},Lf=e._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1=function(){return(Lf=e._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1=e.asm.Ho).apply(null,arguments)},jf=e._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0=function(){return(jf=e._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0=e.asm.Io).apply(null,arguments)},Nf=e._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1=function(){return(Nf=e._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1=e.asm.Jo).apply(null,arguments)},Pf=e._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0=function(){return(Pf=e._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0=e.asm.Ko).apply(null,arguments)},Tf=e._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1=function(){return(Tf=e._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1=e.asm.Lo).apply(null,arguments)},Of=e._emscripten_bind_btDispatcherInfo_get_m_useEpa_0=function(){return(Of=e._emscripten_bind_btDispatcherInfo_get_m_useEpa_0=e.asm.Mo).apply(null,arguments)},Ef=e._emscripten_bind_btDispatcherInfo_set_m_useEpa_1=function(){return(Ef=e._emscripten_bind_btDispatcherInfo_set_m_useEpa_1=e.asm.No).apply(null,arguments)},Mf=e._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0=function(){return(Mf=e._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0=e.asm.Oo).apply(null,arguments)},Rf=e._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1=function(){return(Rf=e._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1=e.asm.Po).apply(null,arguments)},If=e._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0=function(){return(If=e._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0=e.asm.Qo).apply(null,arguments)},Af=e._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1=function(){return(Af=e._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1=e.asm.Ro).apply(null,arguments)},Df=e._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0=function(){return(Df=e._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0=e.asm.So).apply(null,arguments)},Bf=e._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1=function(){return(Bf=e._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1=e.asm.To).apply(null,arguments)},Ff=e._emscripten_bind_btDispatcherInfo___destroy___0=function(){return(Ff=e._emscripten_bind_btDispatcherInfo___destroy___0=e.asm.Uo).apply(null,arguments)},qf=e._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0=function(){return(qf=e._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0=e.asm.Vo).apply(null,arguments)},Uf=e._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1=function(){return(Uf=e._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1=e.asm.Wo).apply(null,arguments)},Vf=e._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0=function(){return(Vf=e._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0=e.asm.Xo).apply(null,arguments)},Wf=e._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1=function(){return(Wf=e._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1=e.asm.Yo).apply(null,arguments)},Gf=e._emscripten_bind_btContactSolverInfo_get_m_numIterations_0=function(){return(Gf=e._emscripten_bind_btContactSolverInfo_get_m_numIterations_0=e.asm.Zo).apply(null,arguments)},Hf=e._emscripten_bind_btContactSolverInfo_set_m_numIterations_1=function(){return(Hf=e._emscripten_bind_btContactSolverInfo_set_m_numIterations_1=e.asm._o).apply(null,arguments)},Xf=e._emscripten_bind_btContactSolverInfo___destroy___0=function(){return(Xf=e._emscripten_bind_btContactSolverInfo___destroy___0=e.asm.$o).apply(null,arguments)},Kf=e._emscripten_bind_btVehicleTuning_btVehicleTuning_0=function(){return(Kf=e._emscripten_bind_btVehicleTuning_btVehicleTuning_0=e.asm.ap).apply(null,arguments)},Yf=e._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0=function(){return(Yf=e._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0=e.asm.bp).apply(null,arguments)},Zf=e._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1=function(){return(Zf=e._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1=e.asm.cp).apply(null,arguments)},Jf=e._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0=function(){return(Jf=e._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0=e.asm.dp).apply(null,arguments)},Qf=e._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1=function(){return(Qf=e._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1=e.asm.ep).apply(null,arguments)},tm=e._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0=function(){return(tm=e._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0=e.asm.fp).apply(null,arguments)},em=e._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1=function(){return(em=e._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1=e.asm.gp).apply(null,arguments)},nm=e._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0=function(){return(nm=e._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0=e.asm.hp).apply(null,arguments)},im=e._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1=function(){return(im=e._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1=e.asm.ip).apply(null,arguments)},om=e._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0=function(){return(om=e._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0=e.asm.jp).apply(null,arguments)},rm=e._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1=function(){return(rm=e._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1=e.asm.kp).apply(null,arguments)},sm=e._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0=function(){return(sm=e._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0=e.asm.lp).apply(null,arguments)},am=e._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1=function(){return(am=e._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1=e.asm.mp).apply(null,arguments)},lm=e._emscripten_bind_btVehicleRaycasterResult_get_m_hitPointInWorld_0=function(){return(lm=e._emscripten_bind_btVehicleRaycasterResult_get_m_hitPointInWorld_0=e.asm.np).apply(null,arguments)},pm=e._emscripten_bind_btVehicleRaycasterResult_set_m_hitPointInWorld_1=function(){return(pm=e._emscripten_bind_btVehicleRaycasterResult_set_m_hitPointInWorld_1=e.asm.op).apply(null,arguments)},um=e._emscripten_bind_btVehicleRaycasterResult_get_m_hitNormalInWorld_0=function(){return(um=e._emscripten_bind_btVehicleRaycasterResult_get_m_hitNormalInWorld_0=e.asm.pp).apply(null,arguments)},cm=e._emscripten_bind_btVehicleRaycasterResult_set_m_hitNormalInWorld_1=function(){return(cm=e._emscripten_bind_btVehicleRaycasterResult_set_m_hitNormalInWorld_1=e.asm.qp).apply(null,arguments)},_m=e._emscripten_bind_btVehicleRaycasterResult_get_m_distFraction_0=function(){return(_m=e._emscripten_bind_btVehicleRaycasterResult_get_m_distFraction_0=e.asm.rp).apply(null,arguments)},hm=e._emscripten_bind_btVehicleRaycasterResult_set_m_distFraction_1=function(){return(hm=e._emscripten_bind_btVehicleRaycasterResult_set_m_distFraction_1=e.asm.sp).apply(null,arguments)},dm=e._emscripten_bind_btVehicleRaycasterResult___destroy___0=function(){return(dm=e._emscripten_bind_btVehicleRaycasterResult___destroy___0=e.asm.tp).apply(null,arguments)},fm=e._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1=function(){return(fm=e._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1=e.asm.up).apply(null,arguments)},mm=e._emscripten_bind_btDefaultVehicleRaycaster_castRay_3=function(){return(mm=e._emscripten_bind_btDefaultVehicleRaycaster_castRay_3=e.asm.vp).apply(null,arguments)},ym=e._emscripten_bind_btDefaultVehicleRaycaster___destroy___0=function(){return(ym=e._emscripten_bind_btDefaultVehicleRaycaster___destroy___0=e.asm.wp).apply(null,arguments)},$m=e._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0=function(){return($m=e._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0=e.asm.xp).apply(null,arguments)},bm=e._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1=function(){return(bm=e._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1=e.asm.yp).apply(null,arguments)},gm=e._emscripten_bind_RaycastInfo_get_m_contactPointWS_0=function(){return(gm=e._emscripten_bind_RaycastInfo_get_m_contactPointWS_0=e.asm.zp).apply(null,arguments)},vm=e._emscripten_bind_RaycastInfo_set_m_contactPointWS_1=function(){return(vm=e._emscripten_bind_RaycastInfo_set_m_contactPointWS_1=e.asm.Ap).apply(null,arguments)},xm=e._emscripten_bind_RaycastInfo_get_m_suspensionLength_0=function(){return(xm=e._emscripten_bind_RaycastInfo_get_m_suspensionLength_0=e.asm.Bp).apply(null,arguments)},wm=e._emscripten_bind_RaycastInfo_set_m_suspensionLength_1=function(){return(wm=e._emscripten_bind_RaycastInfo_set_m_suspensionLength_1=e.asm.Cp).apply(null,arguments)},zm=e._emscripten_bind_RaycastInfo_get_m_hardPointWS_0=function(){return(zm=e._emscripten_bind_RaycastInfo_get_m_hardPointWS_0=e.asm.Dp).apply(null,arguments)},Cm=e._emscripten_bind_RaycastInfo_set_m_hardPointWS_1=function(){return(Cm=e._emscripten_bind_RaycastInfo_set_m_hardPointWS_1=e.asm.Ep).apply(null,arguments)},Sm=e._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0=function(){return(Sm=e._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0=e.asm.Fp).apply(null,arguments)},km=e._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1=function(){return(km=e._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1=e.asm.Gp).apply(null,arguments)},Lm=e._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0=function(){return(Lm=e._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0=e.asm.Hp).apply(null,arguments)},jm=e._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1=function(){return(jm=e._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1=e.asm.Ip).apply(null,arguments)},Nm=e._emscripten_bind_RaycastInfo_get_m_isInContact_0=function(){return(Nm=e._emscripten_bind_RaycastInfo_get_m_isInContact_0=e.asm.Jp).apply(null,arguments)},Pm=e._emscripten_bind_RaycastInfo_set_m_isInContact_1=function(){return(Pm=e._emscripten_bind_RaycastInfo_set_m_isInContact_1=e.asm.Kp).apply(null,arguments)},Tm=e._emscripten_bind_RaycastInfo_get_m_groundObject_0=function(){return(Tm=e._emscripten_bind_RaycastInfo_get_m_groundObject_0=e.asm.Lp).apply(null,arguments)},Om=e._emscripten_bind_RaycastInfo_set_m_groundObject_1=function(){return(Om=e._emscripten_bind_RaycastInfo_set_m_groundObject_1=e.asm.Mp).apply(null,arguments)},Em=e._emscripten_bind_RaycastInfo___destroy___0=function(){return(Em=e._emscripten_bind_RaycastInfo___destroy___0=e.asm.Np).apply(null,arguments)},Mm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_chassisConnectionCS_0=function(){return(Mm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_chassisConnectionCS_0=e.asm.Op).apply(null,arguments)},Rm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_chassisConnectionCS_1=function(){return(Rm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_chassisConnectionCS_1=e.asm.Pp).apply(null,arguments)},Im=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelDirectionCS_0=function(){return(Im=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelDirectionCS_0=e.asm.Qp).apply(null,arguments)},Am=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelDirectionCS_1=function(){return(Am=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelDirectionCS_1=e.asm.Rp).apply(null,arguments)},Dm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelAxleCS_0=function(){return(Dm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelAxleCS_0=e.asm.Sp).apply(null,arguments)},Bm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelAxleCS_1=function(){return(Bm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelAxleCS_1=e.asm.Tp).apply(null,arguments)},Fm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionRestLength_0=function(){return(Fm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionRestLength_0=e.asm.Up).apply(null,arguments)},qm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionRestLength_1=function(){return(qm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionRestLength_1=e.asm.Vp).apply(null,arguments)},Um=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionTravelCm_0=function(){return(Um=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionTravelCm_0=e.asm.Wp).apply(null,arguments)},Vm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionTravelCm_1=function(){return(Vm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionTravelCm_1=e.asm.Xp).apply(null,arguments)},Wm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelRadius_0=function(){return(Wm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelRadius_0=e.asm.Yp).apply(null,arguments)},Gm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelRadius_1=function(){return(Gm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelRadius_1=e.asm.Zp).apply(null,arguments)},Hm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionStiffness_0=function(){return(Hm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionStiffness_0=e.asm._p).apply(null,arguments)},Xm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionStiffness_1=function(){return(Xm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionStiffness_1=e.asm.$p).apply(null,arguments)},Km=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingCompression_0=function(){return(Km=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingCompression_0=e.asm.aq).apply(null,arguments)},Ym=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingCompression_1=function(){return(Ym=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingCompression_1=e.asm.bq).apply(null,arguments)},Zm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingRelaxation_0=function(){return(Zm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingRelaxation_0=e.asm.cq).apply(null,arguments)},Jm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingRelaxation_1=function(){return(Jm=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingRelaxation_1=e.asm.dq).apply(null,arguments)},Qm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_frictionSlip_0=function(){return(Qm=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_frictionSlip_0=e.asm.eq).apply(null,arguments)},ty=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_frictionSlip_1=function(){return(ty=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_frictionSlip_1=e.asm.fq).apply(null,arguments)},ey=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionForce_0=function(){return(ey=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionForce_0=e.asm.gq).apply(null,arguments)},ny=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionForce_1=function(){return(ny=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionForce_1=e.asm.hq).apply(null,arguments)},iy=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_bIsFrontWheel_0=function(){return(iy=e._emscripten_bind_btWheelInfoConstructionInfo_get_m_bIsFrontWheel_0=e.asm.iq).apply(null,arguments)},oy=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_bIsFrontWheel_1=function(){return(oy=e._emscripten_bind_btWheelInfoConstructionInfo_set_m_bIsFrontWheel_1=e.asm.jq).apply(null,arguments)},ry=e._emscripten_bind_btWheelInfoConstructionInfo___destroy___0=function(){return(ry=e._emscripten_bind_btWheelInfoConstructionInfo___destroy___0=e.asm.kq).apply(null,arguments)},sy=e._emscripten_bind_btWheelInfo_btWheelInfo_1=function(){return(sy=e._emscripten_bind_btWheelInfo_btWheelInfo_1=e.asm.lq).apply(null,arguments)},ay=e._emscripten_bind_btWheelInfo_getSuspensionRestLength_0=function(){return(ay=e._emscripten_bind_btWheelInfo_getSuspensionRestLength_0=e.asm.mq).apply(null,arguments)},ly=e._emscripten_bind_btWheelInfo_updateWheel_2=function(){return(ly=e._emscripten_bind_btWheelInfo_updateWheel_2=e.asm.nq).apply(null,arguments)},py=e._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0=function(){return(py=e._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0=e.asm.oq).apply(null,arguments)},uy=e._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1=function(){return(uy=e._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1=e.asm.pq).apply(null,arguments)},cy=e._emscripten_bind_btWheelInfo_get_m_frictionSlip_0=function(){return(cy=e._emscripten_bind_btWheelInfo_get_m_frictionSlip_0=e.asm.qq).apply(null,arguments)},_y=e._emscripten_bind_btWheelInfo_set_m_frictionSlip_1=function(){return(_y=e._emscripten_bind_btWheelInfo_set_m_frictionSlip_1=e.asm.rq).apply(null,arguments)},hy=e._emscripten_bind_btWheelInfo_get_m_engineForce_0=function(){return(hy=e._emscripten_bind_btWheelInfo_get_m_engineForce_0=e.asm.sq).apply(null,arguments)},dy=e._emscripten_bind_btWheelInfo_set_m_engineForce_1=function(){return(dy=e._emscripten_bind_btWheelInfo_set_m_engineForce_1=e.asm.tq).apply(null,arguments)},fy=e._emscripten_bind_btWheelInfo_get_m_rollInfluence_0=function(){return(fy=e._emscripten_bind_btWheelInfo_get_m_rollInfluence_0=e.asm.uq).apply(null,arguments)},my=e._emscripten_bind_btWheelInfo_set_m_rollInfluence_1=function(){return(my=e._emscripten_bind_btWheelInfo_set_m_rollInfluence_1=e.asm.vq).apply(null,arguments)},yy=e._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0=function(){return(yy=e._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0=e.asm.wq).apply(null,arguments)},$y=e._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1=function(){return($y=e._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1=e.asm.xq).apply(null,arguments)},by=e._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0=function(){return(by=e._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0=e.asm.yq).apply(null,arguments)},gy=e._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1=function(){return(gy=e._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1=e.asm.zq).apply(null,arguments)},vy=e._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0=function(){return(vy=e._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0=e.asm.Aq).apply(null,arguments)},xy=e._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1=function(){return(xy=e._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1=e.asm.Bq).apply(null,arguments)},wy=e._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0=function(){return(wy=e._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0=e.asm.Cq).apply(null,arguments)},zy=e._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1=function(){return(zy=e._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1=e.asm.Dq).apply(null,arguments)},Cy=e._emscripten_bind_btWheelInfo_get_m_steering_0=function(){return(Cy=e._emscripten_bind_btWheelInfo_get_m_steering_0=e.asm.Eq).apply(null,arguments)},Sy=e._emscripten_bind_btWheelInfo_set_m_steering_1=function(){return(Sy=e._emscripten_bind_btWheelInfo_set_m_steering_1=e.asm.Fq).apply(null,arguments)},ky=e._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0=function(){return(ky=e._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0=e.asm.Gq).apply(null,arguments)},Ly=e._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1=function(){return(Ly=e._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1=e.asm.Hq).apply(null,arguments)},jy=e._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0=function(){return(jy=e._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0=e.asm.Iq).apply(null,arguments)},Ny=e._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1=function(){return(Ny=e._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1=e.asm.Jq).apply(null,arguments)},Py=e._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0=function(){return(Py=e._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0=e.asm.Kq).apply(null,arguments)},Ty=e._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1=function(){return(Ty=e._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1=e.asm.Lq).apply(null,arguments)},Oy=e._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0=function(){return(Oy=e._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0=e.asm.Mq).apply(null,arguments)},Ey=e._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1=function(){return(Ey=e._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1=e.asm.Nq).apply(null,arguments)},My=e._emscripten_bind_btWheelInfo_get_m_raycastInfo_0=function(){return(My=e._emscripten_bind_btWheelInfo_get_m_raycastInfo_0=e.asm.Oq).apply(null,arguments)},Ry=e._emscripten_bind_btWheelInfo_set_m_raycastInfo_1=function(){return(Ry=e._emscripten_bind_btWheelInfo_set_m_raycastInfo_1=e.asm.Pq).apply(null,arguments)},Iy=e._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0=function(){return(Iy=e._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0=e.asm.Qq).apply(null,arguments)},Ay=e._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1=function(){return(Ay=e._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1=e.asm.Rq).apply(null,arguments)},Dy=e._emscripten_bind_btWheelInfo_get_m_worldTransform_0=function(){return(Dy=e._emscripten_bind_btWheelInfo_get_m_worldTransform_0=e.asm.Sq).apply(null,arguments)},By=e._emscripten_bind_btWheelInfo_set_m_worldTransform_1=function(){return(By=e._emscripten_bind_btWheelInfo_set_m_worldTransform_1=e.asm.Tq).apply(null,arguments)},Fy=e._emscripten_bind_btWheelInfo_get_m_wheelDirectionCS_0=function(){return(Fy=e._emscripten_bind_btWheelInfo_get_m_wheelDirectionCS_0=e.asm.Uq).apply(null,arguments)},qy=e._emscripten_bind_btWheelInfo_set_m_wheelDirectionCS_1=function(){return(qy=e._emscripten_bind_btWheelInfo_set_m_wheelDirectionCS_1=e.asm.Vq).apply(null,arguments)},Uy=e._emscripten_bind_btWheelInfo_get_m_wheelAxleCS_0=function(){return(Uy=e._emscripten_bind_btWheelInfo_get_m_wheelAxleCS_0=e.asm.Wq).apply(null,arguments)},Vy=e._emscripten_bind_btWheelInfo_set_m_wheelAxleCS_1=function(){return(Vy=e._emscripten_bind_btWheelInfo_set_m_wheelAxleCS_1=e.asm.Xq).apply(null,arguments)},Wy=e._emscripten_bind_btWheelInfo_get_m_rotation_0=function(){return(Wy=e._emscripten_bind_btWheelInfo_get_m_rotation_0=e.asm.Yq).apply(null,arguments)},Gy=e._emscripten_bind_btWheelInfo_set_m_rotation_1=function(){return(Gy=e._emscripten_bind_btWheelInfo_set_m_rotation_1=e.asm.Zq).apply(null,arguments)},Hy=e._emscripten_bind_btWheelInfo_get_m_deltaRotation_0=function(){return(Hy=e._emscripten_bind_btWheelInfo_get_m_deltaRotation_0=e.asm._q).apply(null,arguments)},Xy=e._emscripten_bind_btWheelInfo_set_m_deltaRotation_1=function(){return(Xy=e._emscripten_bind_btWheelInfo_set_m_deltaRotation_1=e.asm.$q).apply(null,arguments)},Ky=e._emscripten_bind_btWheelInfo_get_m_brake_0=function(){return(Ky=e._emscripten_bind_btWheelInfo_get_m_brake_0=e.asm.ar).apply(null,arguments)},Yy=e._emscripten_bind_btWheelInfo_set_m_brake_1=function(){return(Yy=e._emscripten_bind_btWheelInfo_set_m_brake_1=e.asm.br).apply(null,arguments)},Zy=e._emscripten_bind_btWheelInfo_get_m_clippedInvContactDotSuspension_0=function(){return(Zy=e._emscripten_bind_btWheelInfo_get_m_clippedInvContactDotSuspension_0=e.asm.cr).apply(null,arguments)},Jy=e._emscripten_bind_btWheelInfo_set_m_clippedInvContactDotSuspension_1=function(){return(Jy=e._emscripten_bind_btWheelInfo_set_m_clippedInvContactDotSuspension_1=e.asm.dr).apply(null,arguments)},Qy=e._emscripten_bind_btWheelInfo_get_m_suspensionRelativeVelocity_0=function(){return(Qy=e._emscripten_bind_btWheelInfo_get_m_suspensionRelativeVelocity_0=e.asm.er).apply(null,arguments)},t$=e._emscripten_bind_btWheelInfo_set_m_suspensionRelativeVelocity_1=function(){return(t$=e._emscripten_bind_btWheelInfo_set_m_suspensionRelativeVelocity_1=e.asm.fr).apply(null,arguments)},e$=e._emscripten_bind_btWheelInfo_get_m_skidInfo_0=function(){return(e$=e._emscripten_bind_btWheelInfo_get_m_skidInfo_0=e.asm.gr).apply(null,arguments)},n$=e._emscripten_bind_btWheelInfo_set_m_skidInfo_1=function(){return(n$=e._emscripten_bind_btWheelInfo_set_m_skidInfo_1=e.asm.hr).apply(null,arguments)},i$=e._emscripten_bind_btWheelInfo___destroy___0=function(){return(i$=e._emscripten_bind_btWheelInfo___destroy___0=e.asm.ir).apply(null,arguments)},o$=e._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3=function(){return(o$=e._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3=e.asm.jr).apply(null,arguments)},r$=e._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4=function(){return(r$=e._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4=e.asm.kr).apply(null,arguments)},s$=e._emscripten_bind_btKinematicCharacterController_setUpAxis_1=function(){return(s$=e._emscripten_bind_btKinematicCharacterController_setUpAxis_1=e.asm.lr).apply(null,arguments)},a$=e._emscripten_bind_btKinematicCharacterController_setWalkDirection_1=function(){return(a$=e._emscripten_bind_btKinematicCharacterController_setWalkDirection_1=e.asm.mr).apply(null,arguments)},l$=e._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2=function(){return(l$=e._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2=e.asm.nr).apply(null,arguments)},p$=e._emscripten_bind_btKinematicCharacterController_warp_1=function(){return(p$=e._emscripten_bind_btKinematicCharacterController_warp_1=e.asm.or).apply(null,arguments)},u$=e._emscripten_bind_btKinematicCharacterController_preStep_1=function(){return(u$=e._emscripten_bind_btKinematicCharacterController_preStep_1=e.asm.pr).apply(null,arguments)},c$=e._emscripten_bind_btKinematicCharacterController_playerStep_2=function(){return(c$=e._emscripten_bind_btKinematicCharacterController_playerStep_2=e.asm.qr).apply(null,arguments)},_$=e._emscripten_bind_btKinematicCharacterController_setFallSpeed_1=function(){return(_$=e._emscripten_bind_btKinematicCharacterController_setFallSpeed_1=e.asm.rr).apply(null,arguments)},h$=e._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1=function(){return(h$=e._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1=e.asm.sr).apply(null,arguments)},d$=e._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1=function(){return(d$=e._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1=e.asm.tr).apply(null,arguments)},f$=e._emscripten_bind_btKinematicCharacterController_canJump_0=function(){return(f$=e._emscripten_bind_btKinematicCharacterController_canJump_0=e.asm.ur).apply(null,arguments)},m$=e._emscripten_bind_btKinematicCharacterController_jump_0=function(){return(m$=e._emscripten_bind_btKinematicCharacterController_jump_0=e.asm.vr).apply(null,arguments)},y$=e._emscripten_bind_btKinematicCharacterController_setGravity_1=function(){return(y$=e._emscripten_bind_btKinematicCharacterController_setGravity_1=e.asm.wr).apply(null,arguments)},$$=e._emscripten_bind_btKinematicCharacterController_getGravity_0=function(){return($$=e._emscripten_bind_btKinematicCharacterController_getGravity_0=e.asm.xr).apply(null,arguments)},b$=e._emscripten_bind_btKinematicCharacterController_setMaxSlope_1=function(){return(b$=e._emscripten_bind_btKinematicCharacterController_setMaxSlope_1=e.asm.yr).apply(null,arguments)},g$=e._emscripten_bind_btKinematicCharacterController_getMaxSlope_0=function(){return(g$=e._emscripten_bind_btKinematicCharacterController_getMaxSlope_0=e.asm.zr).apply(null,arguments)},v$=e._emscripten_bind_btKinematicCharacterController_getGhostObject_0=function(){return(v$=e._emscripten_bind_btKinematicCharacterController_getGhostObject_0=e.asm.Ar).apply(null,arguments)},x$=e._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1=function(){return(x$=e._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1=e.asm.Br).apply(null,arguments)},w$=e._emscripten_bind_btKinematicCharacterController_onGround_0=function(){return(w$=e._emscripten_bind_btKinematicCharacterController_onGround_0=e.asm.Cr).apply(null,arguments)},z$=e._emscripten_bind_btKinematicCharacterController_setUpInterpolate_1=function(){return(z$=e._emscripten_bind_btKinematicCharacterController_setUpInterpolate_1=e.asm.Dr).apply(null,arguments)},C$=e._emscripten_bind_btKinematicCharacterController_updateAction_2=function(){return(C$=e._emscripten_bind_btKinematicCharacterController_updateAction_2=e.asm.Er).apply(null,arguments)},S$=e._emscripten_bind_btKinematicCharacterController___destroy___0=function(){return(S$=e._emscripten_bind_btKinematicCharacterController___destroy___0=e.asm.Fr).apply(null,arguments)},k$=e._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3=function(){return(k$=e._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3=e.asm.Gr).apply(null,arguments)},L$=e._emscripten_bind_btRaycastVehicle_applyEngineForce_2=function(){return(L$=e._emscripten_bind_btRaycastVehicle_applyEngineForce_2=e.asm.Hr).apply(null,arguments)},j$=e._emscripten_bind_btRaycastVehicle_setSteeringValue_2=function(){return(j$=e._emscripten_bind_btRaycastVehicle_setSteeringValue_2=e.asm.Ir).apply(null,arguments)},N$=e._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1=function(){return(N$=e._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1=e.asm.Jr).apply(null,arguments)},P$=e._emscripten_bind_btRaycastVehicle_updateWheelTransform_2=function(){return(P$=e._emscripten_bind_btRaycastVehicle_updateWheelTransform_2=e.asm.Kr).apply(null,arguments)},T$=e._emscripten_bind_btRaycastVehicle_addWheel_7=function(){return(T$=e._emscripten_bind_btRaycastVehicle_addWheel_7=e.asm.Lr).apply(null,arguments)},O$=e._emscripten_bind_btRaycastVehicle_getNumWheels_0=function(){return(O$=e._emscripten_bind_btRaycastVehicle_getNumWheels_0=e.asm.Mr).apply(null,arguments)},E$=e._emscripten_bind_btRaycastVehicle_getRigidBody_0=function(){return(E$=e._emscripten_bind_btRaycastVehicle_getRigidBody_0=e.asm.Nr).apply(null,arguments)},M$=e._emscripten_bind_btRaycastVehicle_getWheelInfo_1=function(){return(M$=e._emscripten_bind_btRaycastVehicle_getWheelInfo_1=e.asm.Or).apply(null,arguments)},R$=e._emscripten_bind_btRaycastVehicle_setBrake_2=function(){return(R$=e._emscripten_bind_btRaycastVehicle_setBrake_2=e.asm.Pr).apply(null,arguments)},I$=e._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3=function(){return(I$=e._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3=e.asm.Qr).apply(null,arguments)},A$=e._emscripten_bind_btRaycastVehicle_getCurrentSpeedKmHour_0=function(){return(A$=e._emscripten_bind_btRaycastVehicle_getCurrentSpeedKmHour_0=e.asm.Rr).apply(null,arguments)},D$=e._emscripten_bind_btRaycastVehicle_getChassisWorldTransform_0=function(){return(D$=e._emscripten_bind_btRaycastVehicle_getChassisWorldTransform_0=e.asm.Sr).apply(null,arguments)},B$=e._emscripten_bind_btRaycastVehicle_rayCast_1=function(){return(B$=e._emscripten_bind_btRaycastVehicle_rayCast_1=e.asm.Tr).apply(null,arguments)},F$=e._emscripten_bind_btRaycastVehicle_updateVehicle_1=function(){return(F$=e._emscripten_bind_btRaycastVehicle_updateVehicle_1=e.asm.Ur).apply(null,arguments)},q$=e._emscripten_bind_btRaycastVehicle_resetSuspension_0=function(){return(q$=e._emscripten_bind_btRaycastVehicle_resetSuspension_0=e.asm.Vr).apply(null,arguments)},U$=e._emscripten_bind_btRaycastVehicle_getSteeringValue_1=function(){return(U$=e._emscripten_bind_btRaycastVehicle_getSteeringValue_1=e.asm.Wr).apply(null,arguments)},V$=e._emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_1=function(){return(V$=e._emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_1=e.asm.Xr).apply(null,arguments)},W$=e._emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_2=function(){return(W$=e._emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_2=e.asm.Yr).apply(null,arguments)},G$=e._emscripten_bind_btRaycastVehicle_setPitchControl_1=function(){return(G$=e._emscripten_bind_btRaycastVehicle_setPitchControl_1=e.asm.Zr).apply(null,arguments)},H$=e._emscripten_bind_btRaycastVehicle_updateSuspension_1=function(){return(H$=e._emscripten_bind_btRaycastVehicle_updateSuspension_1=e.asm._r).apply(null,arguments)},X$=e._emscripten_bind_btRaycastVehicle_updateFriction_1=function(){return(X$=e._emscripten_bind_btRaycastVehicle_updateFriction_1=e.asm.$r).apply(null,arguments)},K$=e._emscripten_bind_btRaycastVehicle_getRightAxis_0=function(){return(K$=e._emscripten_bind_btRaycastVehicle_getRightAxis_0=e.asm.as).apply(null,arguments)},Y$=e._emscripten_bind_btRaycastVehicle_getUpAxis_0=function(){return(Y$=e._emscripten_bind_btRaycastVehicle_getUpAxis_0=e.asm.bs).apply(null,arguments)},Z$=e._emscripten_bind_btRaycastVehicle_getForwardAxis_0=function(){return(Z$=e._emscripten_bind_btRaycastVehicle_getForwardAxis_0=e.asm.cs).apply(null,arguments)},J$=e._emscripten_bind_btRaycastVehicle_getForwardVector_0=function(){return(J$=e._emscripten_bind_btRaycastVehicle_getForwardVector_0=e.asm.ds).apply(null,arguments)},Q$=e._emscripten_bind_btRaycastVehicle_getUserConstraintType_0=function(){return(Q$=e._emscripten_bind_btRaycastVehicle_getUserConstraintType_0=e.asm.es).apply(null,arguments)},tb=e._emscripten_bind_btRaycastVehicle_setUserConstraintType_1=function(){return(tb=e._emscripten_bind_btRaycastVehicle_setUserConstraintType_1=e.asm.fs).apply(null,arguments)},eb=e._emscripten_bind_btRaycastVehicle_setUserConstraintId_1=function(){return(eb=e._emscripten_bind_btRaycastVehicle_setUserConstraintId_1=e.asm.gs).apply(null,arguments)},nb=e._emscripten_bind_btRaycastVehicle_getUserConstraintId_0=function(){return(nb=e._emscripten_bind_btRaycastVehicle_getUserConstraintId_0=e.asm.hs).apply(null,arguments)},ib=e._emscripten_bind_btRaycastVehicle_updateAction_2=function(){return(ib=e._emscripten_bind_btRaycastVehicle_updateAction_2=e.asm.is).apply(null,arguments)},ob=e._emscripten_bind_btRaycastVehicle___destroy___0=function(){return(ob=e._emscripten_bind_btRaycastVehicle___destroy___0=e.asm.js).apply(null,arguments)},rb=e._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0=function(){return(rb=e._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0=e.asm.ks).apply(null,arguments)},sb=e._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2=function(){return(sb=e._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2=e.asm.ls).apply(null,arguments)},ab=e._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0=function(){return(ab=e._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0=e.asm.ms).apply(null,arguments)},lb=e._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1=function(){return(lb=e._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1=e.asm.ns).apply(null,arguments)},pb=e._emscripten_bind_btPairCachingGhostObject_setActivationState_1=function(){return(pb=e._emscripten_bind_btPairCachingGhostObject_setActivationState_1=e.asm.os).apply(null,arguments)},ub=e._emscripten_bind_btPairCachingGhostObject_forceActivationState_1=function(){return(ub=e._emscripten_bind_btPairCachingGhostObject_forceActivationState_1=e.asm.ps).apply(null,arguments)},cb=e._emscripten_bind_btPairCachingGhostObject_activate_0=function(){return(cb=e._emscripten_bind_btPairCachingGhostObject_activate_0=e.asm.qs).apply(null,arguments)},_b=e._emscripten_bind_btPairCachingGhostObject_activate_1=function(){return(_b=e._emscripten_bind_btPairCachingGhostObject_activate_1=e.asm.rs).apply(null,arguments)},hb=e._emscripten_bind_btPairCachingGhostObject_isActive_0=function(){return(hb=e._emscripten_bind_btPairCachingGhostObject_isActive_0=e.asm.ss).apply(null,arguments)},db=e._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0=function(){return(db=e._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0=e.asm.ts).apply(null,arguments)},fb=e._emscripten_bind_btPairCachingGhostObject_isStaticObject_0=function(){return(fb=e._emscripten_bind_btPairCachingGhostObject_isStaticObject_0=e.asm.us).apply(null,arguments)},mb=e._emscripten_bind_btPairCachingGhostObject_isStaticOrKinematicObject_0=function(){return(mb=e._emscripten_bind_btPairCachingGhostObject_isStaticOrKinematicObject_0=e.asm.vs).apply(null,arguments)},yb=e._emscripten_bind_btPairCachingGhostObject_getRestitution_0=function(){return(yb=e._emscripten_bind_btPairCachingGhostObject_getRestitution_0=e.asm.ws).apply(null,arguments)},$b=e._emscripten_bind_btPairCachingGhostObject_getFriction_0=function(){return($b=e._emscripten_bind_btPairCachingGhostObject_getFriction_0=e.asm.xs).apply(null,arguments)},bb=e._emscripten_bind_btPairCachingGhostObject_getRollingFriction_0=function(){return(bb=e._emscripten_bind_btPairCachingGhostObject_getRollingFriction_0=e.asm.ys).apply(null,arguments)},gb=e._emscripten_bind_btPairCachingGhostObject_setRestitution_1=function(){return(gb=e._emscripten_bind_btPairCachingGhostObject_setRestitution_1=e.asm.zs).apply(null,arguments)},vb=e._emscripten_bind_btPairCachingGhostObject_setFriction_1=function(){return(vb=e._emscripten_bind_btPairCachingGhostObject_setFriction_1=e.asm.As).apply(null,arguments)},xb=e._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1=function(){return(xb=e._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1=e.asm.Bs).apply(null,arguments)},wb=e._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0=function(){return(wb=e._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0=e.asm.Cs).apply(null,arguments)},zb=e._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0=function(){return(zb=e._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0=e.asm.Ds).apply(null,arguments)},Cb=e._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1=function(){return(Cb=e._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1=e.asm.Es).apply(null,arguments)},Sb=e._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1=function(){return(Sb=e._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1=e.asm.Fs).apply(null,arguments)},kb=e._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1=function(){return(kb=e._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1=e.asm.Gs).apply(null,arguments)},Lb=e._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1=function(){return(Lb=e._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1=e.asm.Hs).apply(null,arguments)},jb=e._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1=function(){return(jb=e._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1=e.asm.Is).apply(null,arguments)},Nb=e._emscripten_bind_btPairCachingGhostObject_getUserIndex_0=function(){return(Nb=e._emscripten_bind_btPairCachingGhostObject_getUserIndex_0=e.asm.Js).apply(null,arguments)},Pb=e._emscripten_bind_btPairCachingGhostObject_setUserIndex_1=function(){return(Pb=e._emscripten_bind_btPairCachingGhostObject_setUserIndex_1=e.asm.Ks).apply(null,arguments)},Tb=e._emscripten_bind_btPairCachingGhostObject_getUserPointer_0=function(){return(Tb=e._emscripten_bind_btPairCachingGhostObject_getUserPointer_0=e.asm.Ls).apply(null,arguments)},Ob=e._emscripten_bind_btPairCachingGhostObject_setUserPointer_1=function(){return(Ob=e._emscripten_bind_btPairCachingGhostObject_setUserPointer_1=e.asm.Ms).apply(null,arguments)},Eb=e._emscripten_bind_btPairCachingGhostObject_getBroadphaseHandle_0=function(){return(Eb=e._emscripten_bind_btPairCachingGhostObject_getBroadphaseHandle_0=e.asm.Ns).apply(null,arguments)},Mb=e._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0=function(){return(Mb=e._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0=e.asm.Os).apply(null,arguments)},Rb=e._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1=function(){return(Rb=e._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1=e.asm.Ps).apply(null,arguments)},Ib=e._emscripten_bind_btPairCachingGhostObject___destroy___0=function(){return(Ib=e._emscripten_bind_btPairCachingGhostObject___destroy___0=e.asm.Qs).apply(null,arguments)},Ab=e._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0=function(){return(Ab=e._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0=e.asm.Rs).apply(null,arguments)},Db=e._emscripten_bind_btGhostPairCallback___destroy___0=function(){return(Db=e._emscripten_bind_btGhostPairCallback___destroy___0=e.asm.Ss).apply(null,arguments)},Bb=e._emscripten_bind_btSoftBodyWorldInfo_btSoftBodyWorldInfo_0=function(){return(Bb=e._emscripten_bind_btSoftBodyWorldInfo_btSoftBodyWorldInfo_0=e.asm.Ts).apply(null,arguments)},Fb=e._emscripten_bind_btSoftBodyWorldInfo_get_air_density_0=function(){return(Fb=e._emscripten_bind_btSoftBodyWorldInfo_get_air_density_0=e.asm.Us).apply(null,arguments)},qb=e._emscripten_bind_btSoftBodyWorldInfo_set_air_density_1=function(){return(qb=e._emscripten_bind_btSoftBodyWorldInfo_set_air_density_1=e.asm.Vs).apply(null,arguments)},Ub=e._emscripten_bind_btSoftBodyWorldInfo_get_water_density_0=function(){return(Ub=e._emscripten_bind_btSoftBodyWorldInfo_get_water_density_0=e.asm.Ws).apply(null,arguments)},Vb=e._emscripten_bind_btSoftBodyWorldInfo_set_water_density_1=function(){return(Vb=e._emscripten_bind_btSoftBodyWorldInfo_set_water_density_1=e.asm.Xs).apply(null,arguments)},Wb=e._emscripten_bind_btSoftBodyWorldInfo_get_water_offset_0=function(){return(Wb=e._emscripten_bind_btSoftBodyWorldInfo_get_water_offset_0=e.asm.Ys).apply(null,arguments)},Gb=e._emscripten_bind_btSoftBodyWorldInfo_set_water_offset_1=function(){return(Gb=e._emscripten_bind_btSoftBodyWorldInfo_set_water_offset_1=e.asm.Zs).apply(null,arguments)},Hb=e._emscripten_bind_btSoftBodyWorldInfo_get_m_maxDisplacement_0=function(){return(Hb=e._emscripten_bind_btSoftBodyWorldInfo_get_m_maxDisplacement_0=e.asm._s).apply(null,arguments)},Xb=e._emscripten_bind_btSoftBodyWorldInfo_set_m_maxDisplacement_1=function(){return(Xb=e._emscripten_bind_btSoftBodyWorldInfo_set_m_maxDisplacement_1=e.asm.$s).apply(null,arguments)},Kb=e._emscripten_bind_btSoftBodyWorldInfo_get_water_normal_0=function(){return(Kb=e._emscripten_bind_btSoftBodyWorldInfo_get_water_normal_0=e.asm.at).apply(null,arguments)},Yb=e._emscripten_bind_btSoftBodyWorldInfo_set_water_normal_1=function(){return(Yb=e._emscripten_bind_btSoftBodyWorldInfo_set_water_normal_1=e.asm.bt).apply(null,arguments)},Zb=e._emscripten_bind_btSoftBodyWorldInfo_get_m_broadphase_0=function(){return(Zb=e._emscripten_bind_btSoftBodyWorldInfo_get_m_broadphase_0=e.asm.ct).apply(null,arguments)},Jb=e._emscripten_bind_btSoftBodyWorldInfo_set_m_broadphase_1=function(){return(Jb=e._emscripten_bind_btSoftBodyWorldInfo_set_m_broadphase_1=e.asm.dt).apply(null,arguments)},Qb=e._emscripten_bind_btSoftBodyWorldInfo_get_m_dispatcher_0=function(){return(Qb=e._emscripten_bind_btSoftBodyWorldInfo_get_m_dispatcher_0=e.asm.et).apply(null,arguments)},tg=e._emscripten_bind_btSoftBodyWorldInfo_set_m_dispatcher_1=function(){return(tg=e._emscripten_bind_btSoftBodyWorldInfo_set_m_dispatcher_1=e.asm.ft).apply(null,arguments)},eg=e._emscripten_bind_btSoftBodyWorldInfo_get_m_gravity_0=function(){return(eg=e._emscripten_bind_btSoftBodyWorldInfo_get_m_gravity_0=e.asm.gt).apply(null,arguments)},ng=e._emscripten_bind_btSoftBodyWorldInfo_set_m_gravity_1=function(){return(ng=e._emscripten_bind_btSoftBodyWorldInfo_set_m_gravity_1=e.asm.ht).apply(null,arguments)},ig=e._emscripten_bind_btSoftBodyWorldInfo___destroy___0=function(){return(ig=e._emscripten_bind_btSoftBodyWorldInfo___destroy___0=e.asm.it).apply(null,arguments)},og=e._emscripten_bind_Face_get_m_n_1=function(){return(og=e._emscripten_bind_Face_get_m_n_1=e.asm.jt).apply(null,arguments)},rg=e._emscripten_bind_Face_set_m_n_2=function(){return(rg=e._emscripten_bind_Face_set_m_n_2=e.asm.kt).apply(null,arguments)},sg=e._emscripten_bind_Face_get_m_normal_0=function(){return(sg=e._emscripten_bind_Face_get_m_normal_0=e.asm.lt).apply(null,arguments)},ag=e._emscripten_bind_Face_set_m_normal_1=function(){return(ag=e._emscripten_bind_Face_set_m_normal_1=e.asm.mt).apply(null,arguments)},lg=e._emscripten_bind_Face_get_m_ra_0=function(){return(lg=e._emscripten_bind_Face_get_m_ra_0=e.asm.nt).apply(null,arguments)},pg=e._emscripten_bind_Face_set_m_ra_1=function(){return(pg=e._emscripten_bind_Face_set_m_ra_1=e.asm.ot).apply(null,arguments)},ug=e._emscripten_bind_Face___destroy___0=function(){return(ug=e._emscripten_bind_Face___destroy___0=e.asm.pt).apply(null,arguments)},cg=e._emscripten_bind_tFaceArray_size_0=function(){return(cg=e._emscripten_bind_tFaceArray_size_0=e.asm.qt).apply(null,arguments)},_g=e._emscripten_bind_tFaceArray_at_1=function(){return(_g=e._emscripten_bind_tFaceArray_at_1=e.asm.rt).apply(null,arguments)},hg=e._emscripten_bind_tFaceArray___destroy___0=function(){return(hg=e._emscripten_bind_tFaceArray___destroy___0=e.asm.st).apply(null,arguments)},dg=e._emscripten_bind_Node_get_m_x_0=function(){return(dg=e._emscripten_bind_Node_get_m_x_0=e.asm.tt).apply(null,arguments)},fg=e._emscripten_bind_Node_set_m_x_1=function(){return(fg=e._emscripten_bind_Node_set_m_x_1=e.asm.ut).apply(null,arguments)},mg=e._emscripten_bind_Node_get_m_q_0=function(){return(mg=e._emscripten_bind_Node_get_m_q_0=e.asm.vt).apply(null,arguments)},yg=e._emscripten_bind_Node_set_m_q_1=function(){return(yg=e._emscripten_bind_Node_set_m_q_1=e.asm.wt).apply(null,arguments)},$g=e._emscripten_bind_Node_get_m_v_0=function(){return($g=e._emscripten_bind_Node_get_m_v_0=e.asm.xt).apply(null,arguments)},bg=e._emscripten_bind_Node_set_m_v_1=function(){return(bg=e._emscripten_bind_Node_set_m_v_1=e.asm.yt).apply(null,arguments)},gg=e._emscripten_bind_Node_get_m_f_0=function(){return(gg=e._emscripten_bind_Node_get_m_f_0=e.asm.zt).apply(null,arguments)},vg=e._emscripten_bind_Node_set_m_f_1=function(){return(vg=e._emscripten_bind_Node_set_m_f_1=e.asm.At).apply(null,arguments)},xg=e._emscripten_bind_Node_get_m_n_0=function(){return(xg=e._emscripten_bind_Node_get_m_n_0=e.asm.Bt).apply(null,arguments)},wg=e._emscripten_bind_Node_set_m_n_1=function(){return(wg=e._emscripten_bind_Node_set_m_n_1=e.asm.Ct).apply(null,arguments)},zg=e._emscripten_bind_Node_get_m_im_0=function(){return(zg=e._emscripten_bind_Node_get_m_im_0=e.asm.Dt).apply(null,arguments)},Cg=e._emscripten_bind_Node_set_m_im_1=function(){return(Cg=e._emscripten_bind_Node_set_m_im_1=e.asm.Et).apply(null,arguments)},Sg=e._emscripten_bind_Node_get_m_area_0=function(){return(Sg=e._emscripten_bind_Node_get_m_area_0=e.asm.Ft).apply(null,arguments)},kg=e._emscripten_bind_Node_set_m_area_1=function(){return(kg=e._emscripten_bind_Node_set_m_area_1=e.asm.Gt).apply(null,arguments)},Lg=e._emscripten_bind_Node___destroy___0=function(){return(Lg=e._emscripten_bind_Node___destroy___0=e.asm.Ht).apply(null,arguments)},jg=e._emscripten_bind_tNodeArray_size_0=function(){return(jg=e._emscripten_bind_tNodeArray_size_0=e.asm.It).apply(null,arguments)},Ng=e._emscripten_bind_tNodeArray_at_1=function(){return(Ng=e._emscripten_bind_tNodeArray_at_1=e.asm.Jt).apply(null,arguments)},Pg=e._emscripten_bind_tNodeArray___destroy___0=function(){return(Pg=e._emscripten_bind_tNodeArray___destroy___0=e.asm.Kt).apply(null,arguments)},Tg=e._emscripten_bind_Material_get_m_kLST_0=function(){return(Tg=e._emscripten_bind_Material_get_m_kLST_0=e.asm.Lt).apply(null,arguments)},Og=e._emscripten_bind_Material_set_m_kLST_1=function(){return(Og=e._emscripten_bind_Material_set_m_kLST_1=e.asm.Mt).apply(null,arguments)},Eg=e._emscripten_bind_Material_get_m_kAST_0=function(){return(Eg=e._emscripten_bind_Material_get_m_kAST_0=e.asm.Nt).apply(null,arguments)},Mg=e._emscripten_bind_Material_set_m_kAST_1=function(){return(Mg=e._emscripten_bind_Material_set_m_kAST_1=e.asm.Ot).apply(null,arguments)},Rg=e._emscripten_bind_Material_get_m_kVST_0=function(){return(Rg=e._emscripten_bind_Material_get_m_kVST_0=e.asm.Pt).apply(null,arguments)},Ig=e._emscripten_bind_Material_set_m_kVST_1=function(){return(Ig=e._emscripten_bind_Material_set_m_kVST_1=e.asm.Qt).apply(null,arguments)},Ag=e._emscripten_bind_Material_get_m_flags_0=function(){return(Ag=e._emscripten_bind_Material_get_m_flags_0=e.asm.Rt).apply(null,arguments)},Dg=e._emscripten_bind_Material_set_m_flags_1=function(){return(Dg=e._emscripten_bind_Material_set_m_flags_1=e.asm.St).apply(null,arguments)},Bg=e._emscripten_bind_Material___destroy___0=function(){return(Bg=e._emscripten_bind_Material___destroy___0=e.asm.Tt).apply(null,arguments)},Fg=e._emscripten_bind_tMaterialArray_size_0=function(){return(Fg=e._emscripten_bind_tMaterialArray_size_0=e.asm.Ut).apply(null,arguments)},qg=e._emscripten_bind_tMaterialArray_at_1=function(){return(qg=e._emscripten_bind_tMaterialArray_at_1=e.asm.Vt).apply(null,arguments)},Ug=e._emscripten_bind_tMaterialArray___destroy___0=function(){return(Ug=e._emscripten_bind_tMaterialArray___destroy___0=e.asm.Wt).apply(null,arguments)},Vg=e._emscripten_bind_Anchor_get_m_node_0=function(){return(Vg=e._emscripten_bind_Anchor_get_m_node_0=e.asm.Xt).apply(null,arguments)},Wg=e._emscripten_bind_Anchor_set_m_node_1=function(){return(Wg=e._emscripten_bind_Anchor_set_m_node_1=e.asm.Yt).apply(null,arguments)},Gg=e._emscripten_bind_Anchor_get_m_local_0=function(){return(Gg=e._emscripten_bind_Anchor_get_m_local_0=e.asm.Zt).apply(null,arguments)},Hg=e._emscripten_bind_Anchor_set_m_local_1=function(){return(Hg=e._emscripten_bind_Anchor_set_m_local_1=e.asm._t).apply(null,arguments)},Xg=e._emscripten_bind_Anchor_get_m_body_0=function(){return(Xg=e._emscripten_bind_Anchor_get_m_body_0=e.asm.$t).apply(null,arguments)},Kg=e._emscripten_bind_Anchor_set_m_body_1=function(){return(Kg=e._emscripten_bind_Anchor_set_m_body_1=e.asm.au).apply(null,arguments)},Yg=e._emscripten_bind_Anchor_get_m_influence_0=function(){return(Yg=e._emscripten_bind_Anchor_get_m_influence_0=e.asm.bu).apply(null,arguments)},Zg=e._emscripten_bind_Anchor_set_m_influence_1=function(){return(Zg=e._emscripten_bind_Anchor_set_m_influence_1=e.asm.cu).apply(null,arguments)},Jg=e._emscripten_bind_Anchor_get_m_c0_0=function(){return(Jg=e._emscripten_bind_Anchor_get_m_c0_0=e.asm.du).apply(null,arguments)},Qg=e._emscripten_bind_Anchor_set_m_c0_1=function(){return(Qg=e._emscripten_bind_Anchor_set_m_c0_1=e.asm.eu).apply(null,arguments)},tv=e._emscripten_bind_Anchor_get_m_c1_0=function(){return(tv=e._emscripten_bind_Anchor_get_m_c1_0=e.asm.fu).apply(null,arguments)},ev=e._emscripten_bind_Anchor_set_m_c1_1=function(){return(ev=e._emscripten_bind_Anchor_set_m_c1_1=e.asm.gu).apply(null,arguments)},nv=e._emscripten_bind_Anchor_get_m_c2_0=function(){return(nv=e._emscripten_bind_Anchor_get_m_c2_0=e.asm.hu).apply(null,arguments)},iv=e._emscripten_bind_Anchor_set_m_c2_1=function(){return(iv=e._emscripten_bind_Anchor_set_m_c2_1=e.asm.iu).apply(null,arguments)},ov=e._emscripten_bind_Anchor___destroy___0=function(){return(ov=e._emscripten_bind_Anchor___destroy___0=e.asm.ju).apply(null,arguments)},rv=e._emscripten_bind_tAnchorArray_size_0=function(){return(rv=e._emscripten_bind_tAnchorArray_size_0=e.asm.ku).apply(null,arguments)},sv=e._emscripten_bind_tAnchorArray_at_1=function(){return(sv=e._emscripten_bind_tAnchorArray_at_1=e.asm.lu).apply(null,arguments)},av=e._emscripten_bind_tAnchorArray_clear_0=function(){return(av=e._emscripten_bind_tAnchorArray_clear_0=e.asm.mu).apply(null,arguments)},lv=e._emscripten_bind_tAnchorArray_push_back_1=function(){return(lv=e._emscripten_bind_tAnchorArray_push_back_1=e.asm.nu).apply(null,arguments)},pv=e._emscripten_bind_tAnchorArray_pop_back_0=function(){return(pv=e._emscripten_bind_tAnchorArray_pop_back_0=e.asm.ou).apply(null,arguments)},uv=e._emscripten_bind_tAnchorArray___destroy___0=function(){return(uv=e._emscripten_bind_tAnchorArray___destroy___0=e.asm.pu).apply(null,arguments)},cv=e._emscripten_bind_Config_get_kVCF_0=function(){return(cv=e._emscripten_bind_Config_get_kVCF_0=e.asm.qu).apply(null,arguments)},_v=e._emscripten_bind_Config_set_kVCF_1=function(){return(_v=e._emscripten_bind_Config_set_kVCF_1=e.asm.ru).apply(null,arguments)},hv=e._emscripten_bind_Config_get_kDP_0=function(){return(hv=e._emscripten_bind_Config_get_kDP_0=e.asm.su).apply(null,arguments)},dv=e._emscripten_bind_Config_set_kDP_1=function(){return(dv=e._emscripten_bind_Config_set_kDP_1=e.asm.tu).apply(null,arguments)},fv=e._emscripten_bind_Config_get_kDG_0=function(){return(fv=e._emscripten_bind_Config_get_kDG_0=e.asm.uu).apply(null,arguments)},mv=e._emscripten_bind_Config_set_kDG_1=function(){return(mv=e._emscripten_bind_Config_set_kDG_1=e.asm.vu).apply(null,arguments)},yv=e._emscripten_bind_Config_get_kLF_0=function(){return(yv=e._emscripten_bind_Config_get_kLF_0=e.asm.wu).apply(null,arguments)},$v=e._emscripten_bind_Config_set_kLF_1=function(){return($v=e._emscripten_bind_Config_set_kLF_1=e.asm.xu).apply(null,arguments)},bv=e._emscripten_bind_Config_get_kPR_0=function(){return(bv=e._emscripten_bind_Config_get_kPR_0=e.asm.yu).apply(null,arguments)},gv=e._emscripten_bind_Config_set_kPR_1=function(){return(gv=e._emscripten_bind_Config_set_kPR_1=e.asm.zu).apply(null,arguments)},vv=e._emscripten_bind_Config_get_kVC_0=function(){return(vv=e._emscripten_bind_Config_get_kVC_0=e.asm.Au).apply(null,arguments)},xv=e._emscripten_bind_Config_set_kVC_1=function(){return(xv=e._emscripten_bind_Config_set_kVC_1=e.asm.Bu).apply(null,arguments)},wv=e._emscripten_bind_Config_get_kDF_0=function(){return(wv=e._emscripten_bind_Config_get_kDF_0=e.asm.Cu).apply(null,arguments)},zv=e._emscripten_bind_Config_set_kDF_1=function(){return(zv=e._emscripten_bind_Config_set_kDF_1=e.asm.Du).apply(null,arguments)},Cv=e._emscripten_bind_Config_get_kMT_0=function(){return(Cv=e._emscripten_bind_Config_get_kMT_0=e.asm.Eu).apply(null,arguments)},Sv=e._emscripten_bind_Config_set_kMT_1=function(){return(Sv=e._emscripten_bind_Config_set_kMT_1=e.asm.Fu).apply(null,arguments)},kv=e._emscripten_bind_Config_get_kCHR_0=function(){return(kv=e._emscripten_bind_Config_get_kCHR_0=e.asm.Gu).apply(null,arguments)},Lv=e._emscripten_bind_Config_set_kCHR_1=function(){return(Lv=e._emscripten_bind_Config_set_kCHR_1=e.asm.Hu).apply(null,arguments)},jv=e._emscripten_bind_Config_get_kKHR_0=function(){return(jv=e._emscripten_bind_Config_get_kKHR_0=e.asm.Iu).apply(null,arguments)},Nv=e._emscripten_bind_Config_set_kKHR_1=function(){return(Nv=e._emscripten_bind_Config_set_kKHR_1=e.asm.Ju).apply(null,arguments)},Pv=e._emscripten_bind_Config_get_kSHR_0=function(){return(Pv=e._emscripten_bind_Config_get_kSHR_0=e.asm.Ku).apply(null,arguments)},Tv=e._emscripten_bind_Config_set_kSHR_1=function(){return(Tv=e._emscripten_bind_Config_set_kSHR_1=e.asm.Lu).apply(null,arguments)},Ov=e._emscripten_bind_Config_get_kAHR_0=function(){return(Ov=e._emscripten_bind_Config_get_kAHR_0=e.asm.Mu).apply(null,arguments)},Ev=e._emscripten_bind_Config_set_kAHR_1=function(){return(Ev=e._emscripten_bind_Config_set_kAHR_1=e.asm.Nu).apply(null,arguments)},Mv=e._emscripten_bind_Config_get_kSRHR_CL_0=function(){return(Mv=e._emscripten_bind_Config_get_kSRHR_CL_0=e.asm.Ou).apply(null,arguments)},Rv=e._emscripten_bind_Config_set_kSRHR_CL_1=function(){return(Rv=e._emscripten_bind_Config_set_kSRHR_CL_1=e.asm.Pu).apply(null,arguments)},Iv=e._emscripten_bind_Config_get_kSKHR_CL_0=function(){return(Iv=e._emscripten_bind_Config_get_kSKHR_CL_0=e.asm.Qu).apply(null,arguments)},Av=e._emscripten_bind_Config_set_kSKHR_CL_1=function(){return(Av=e._emscripten_bind_Config_set_kSKHR_CL_1=e.asm.Ru).apply(null,arguments)},Dv=e._emscripten_bind_Config_get_kSSHR_CL_0=function(){return(Dv=e._emscripten_bind_Config_get_kSSHR_CL_0=e.asm.Su).apply(null,arguments)},Bv=e._emscripten_bind_Config_set_kSSHR_CL_1=function(){return(Bv=e._emscripten_bind_Config_set_kSSHR_CL_1=e.asm.Tu).apply(null,arguments)},Fv=e._emscripten_bind_Config_get_kSR_SPLT_CL_0=function(){return(Fv=e._emscripten_bind_Config_get_kSR_SPLT_CL_0=e.asm.Uu).apply(null,arguments)},qv=e._emscripten_bind_Config_set_kSR_SPLT_CL_1=function(){return(qv=e._emscripten_bind_Config_set_kSR_SPLT_CL_1=e.asm.Vu).apply(null,arguments)},Uv=e._emscripten_bind_Config_get_kSK_SPLT_CL_0=function(){return(Uv=e._emscripten_bind_Config_get_kSK_SPLT_CL_0=e.asm.Wu).apply(null,arguments)},Vv=e._emscripten_bind_Config_set_kSK_SPLT_CL_1=function(){return(Vv=e._emscripten_bind_Config_set_kSK_SPLT_CL_1=e.asm.Xu).apply(null,arguments)},Wv=e._emscripten_bind_Config_get_kSS_SPLT_CL_0=function(){return(Wv=e._emscripten_bind_Config_get_kSS_SPLT_CL_0=e.asm.Yu).apply(null,arguments)},Gv=e._emscripten_bind_Config_set_kSS_SPLT_CL_1=function(){return(Gv=e._emscripten_bind_Config_set_kSS_SPLT_CL_1=e.asm.Zu).apply(null,arguments)},Hv=e._emscripten_bind_Config_get_maxvolume_0=function(){return(Hv=e._emscripten_bind_Config_get_maxvolume_0=e.asm._u).apply(null,arguments)},Xv=e._emscripten_bind_Config_set_maxvolume_1=function(){return(Xv=e._emscripten_bind_Config_set_maxvolume_1=e.asm.$u).apply(null,arguments)},Kv=e._emscripten_bind_Config_get_timescale_0=function(){return(Kv=e._emscripten_bind_Config_get_timescale_0=e.asm.av).apply(null,arguments)},Yv=e._emscripten_bind_Config_set_timescale_1=function(){return(Yv=e._emscripten_bind_Config_set_timescale_1=e.asm.bv).apply(null,arguments)},Zv=e._emscripten_bind_Config_get_viterations_0=function(){return(Zv=e._emscripten_bind_Config_get_viterations_0=e.asm.cv).apply(null,arguments)},Jv=e._emscripten_bind_Config_set_viterations_1=function(){return(Jv=e._emscripten_bind_Config_set_viterations_1=e.asm.dv).apply(null,arguments)},Qv=e._emscripten_bind_Config_get_piterations_0=function(){return(Qv=e._emscripten_bind_Config_get_piterations_0=e.asm.ev).apply(null,arguments)},tx=e._emscripten_bind_Config_set_piterations_1=function(){return(tx=e._emscripten_bind_Config_set_piterations_1=e.asm.fv).apply(null,arguments)},ex=e._emscripten_bind_Config_get_diterations_0=function(){return(ex=e._emscripten_bind_Config_get_diterations_0=e.asm.gv).apply(null,arguments)},nx=e._emscripten_bind_Config_set_diterations_1=function(){return(nx=e._emscripten_bind_Config_set_diterations_1=e.asm.hv).apply(null,arguments)},ix=e._emscripten_bind_Config_get_citerations_0=function(){return(ix=e._emscripten_bind_Config_get_citerations_0=e.asm.iv).apply(null,arguments)},ox=e._emscripten_bind_Config_set_citerations_1=function(){return(ox=e._emscripten_bind_Config_set_citerations_1=e.asm.jv).apply(null,arguments)},rx=e._emscripten_bind_Config_get_collisions_0=function(){return(rx=e._emscripten_bind_Config_get_collisions_0=e.asm.kv).apply(null,arguments)},sx=e._emscripten_bind_Config_set_collisions_1=function(){return(sx=e._emscripten_bind_Config_set_collisions_1=e.asm.lv).apply(null,arguments)},ax=e._emscripten_bind_Config___destroy___0=function(){return(ax=e._emscripten_bind_Config___destroy___0=e.asm.mv).apply(null,arguments)},lx=e._emscripten_bind_btSoftBody_btSoftBody_4=function(){return(lx=e._emscripten_bind_btSoftBody_btSoftBody_4=e.asm.nv).apply(null,arguments)},px=e._emscripten_bind_btSoftBody_checkLink_2=function(){return(px=e._emscripten_bind_btSoftBody_checkLink_2=e.asm.ov).apply(null,arguments)},ux=e._emscripten_bind_btSoftBody_checkFace_3=function(){return(ux=e._emscripten_bind_btSoftBody_checkFace_3=e.asm.pv).apply(null,arguments)},cx=e._emscripten_bind_btSoftBody_appendMaterial_0=function(){return(cx=e._emscripten_bind_btSoftBody_appendMaterial_0=e.asm.qv).apply(null,arguments)},_x=e._emscripten_bind_btSoftBody_appendNode_2=function(){return(_x=e._emscripten_bind_btSoftBody_appendNode_2=e.asm.rv).apply(null,arguments)},hx=e._emscripten_bind_btSoftBody_appendLink_4=function(){return(hx=e._emscripten_bind_btSoftBody_appendLink_4=e.asm.sv).apply(null,arguments)},dx=e._emscripten_bind_btSoftBody_appendFace_4=function(){return(dx=e._emscripten_bind_btSoftBody_appendFace_4=e.asm.tv).apply(null,arguments)},fx=e._emscripten_bind_btSoftBody_appendTetra_5=function(){return(fx=e._emscripten_bind_btSoftBody_appendTetra_5=e.asm.uv).apply(null,arguments)},mx=e._emscripten_bind_btSoftBody_appendAnchor_4=function(){return(mx=e._emscripten_bind_btSoftBody_appendAnchor_4=e.asm.vv).apply(null,arguments)},yx=e._emscripten_bind_btSoftBody_addForce_1=function(){return(yx=e._emscripten_bind_btSoftBody_addForce_1=e.asm.wv).apply(null,arguments)},$x=e._emscripten_bind_btSoftBody_addForce_2=function(){return($x=e._emscripten_bind_btSoftBody_addForce_2=e.asm.xv).apply(null,arguments)},bx=e._emscripten_bind_btSoftBody_addAeroForceToNode_2=function(){return(bx=e._emscripten_bind_btSoftBody_addAeroForceToNode_2=e.asm.yv).apply(null,arguments)},gx=e._emscripten_bind_btSoftBody_getTotalMass_0=function(){return(gx=e._emscripten_bind_btSoftBody_getTotalMass_0=e.asm.zv).apply(null,arguments)},vx=e._emscripten_bind_btSoftBody_setTotalMass_2=function(){return(vx=e._emscripten_bind_btSoftBody_setTotalMass_2=e.asm.Av).apply(null,arguments)},xx=e._emscripten_bind_btSoftBody_setMass_2=function(){return(xx=e._emscripten_bind_btSoftBody_setMass_2=e.asm.Bv).apply(null,arguments)},wx=e._emscripten_bind_btSoftBody_transform_1=function(){return(wx=e._emscripten_bind_btSoftBody_transform_1=e.asm.Cv).apply(null,arguments)},zx=e._emscripten_bind_btSoftBody_translate_1=function(){return(zx=e._emscripten_bind_btSoftBody_translate_1=e.asm.Dv).apply(null,arguments)},Cx=e._emscripten_bind_btSoftBody_rotate_1=function(){return(Cx=e._emscripten_bind_btSoftBody_rotate_1=e.asm.Ev).apply(null,arguments)},Sx=e._emscripten_bind_btSoftBody_scale_1=function(){return(Sx=e._emscripten_bind_btSoftBody_scale_1=e.asm.Fv).apply(null,arguments)},kx=e._emscripten_bind_btSoftBody_generateClusters_1=function(){return(kx=e._emscripten_bind_btSoftBody_generateClusters_1=e.asm.Gv).apply(null,arguments)},Lx=e._emscripten_bind_btSoftBody_generateClusters_2=function(){return(Lx=e._emscripten_bind_btSoftBody_generateClusters_2=e.asm.Hv).apply(null,arguments)},jx=e._emscripten_bind_btSoftBody_generateBendingConstraints_2=function(){return(jx=e._emscripten_bind_btSoftBody_generateBendingConstraints_2=e.asm.Iv).apply(null,arguments)},Nx=e._emscripten_bind_btSoftBody_upcast_1=function(){return(Nx=e._emscripten_bind_btSoftBody_upcast_1=e.asm.Jv).apply(null,arguments)},Px=e._emscripten_bind_btSoftBody_setAnisotropicFriction_2=function(){return(Px=e._emscripten_bind_btSoftBody_setAnisotropicFriction_2=e.asm.Kv).apply(null,arguments)},Tx=e._emscripten_bind_btSoftBody_getCollisionShape_0=function(){return(Tx=e._emscripten_bind_btSoftBody_getCollisionShape_0=e.asm.Lv).apply(null,arguments)},Ox=e._emscripten_bind_btSoftBody_setContactProcessingThreshold_1=function(){return(Ox=e._emscripten_bind_btSoftBody_setContactProcessingThreshold_1=e.asm.Mv).apply(null,arguments)},Ex=e._emscripten_bind_btSoftBody_setActivationState_1=function(){return(Ex=e._emscripten_bind_btSoftBody_setActivationState_1=e.asm.Nv).apply(null,arguments)},Mx=e._emscripten_bind_btSoftBody_forceActivationState_1=function(){return(Mx=e._emscripten_bind_btSoftBody_forceActivationState_1=e.asm.Ov).apply(null,arguments)},Rx=e._emscripten_bind_btSoftBody_activate_0=function(){return(Rx=e._emscripten_bind_btSoftBody_activate_0=e.asm.Pv).apply(null,arguments)},Ix=e._emscripten_bind_btSoftBody_activate_1=function(){return(Ix=e._emscripten_bind_btSoftBody_activate_1=e.asm.Qv).apply(null,arguments)},Ax=e._emscripten_bind_btSoftBody_isActive_0=function(){return(Ax=e._emscripten_bind_btSoftBody_isActive_0=e.asm.Rv).apply(null,arguments)},Dx=e._emscripten_bind_btSoftBody_isKinematicObject_0=function(){return(Dx=e._emscripten_bind_btSoftBody_isKinematicObject_0=e.asm.Sv).apply(null,arguments)},Bx=e._emscripten_bind_btSoftBody_isStaticObject_0=function(){return(Bx=e._emscripten_bind_btSoftBody_isStaticObject_0=e.asm.Tv).apply(null,arguments)},Fx=e._emscripten_bind_btSoftBody_isStaticOrKinematicObject_0=function(){return(Fx=e._emscripten_bind_btSoftBody_isStaticOrKinematicObject_0=e.asm.Uv).apply(null,arguments)},qx=e._emscripten_bind_btSoftBody_getRestitution_0=function(){return(qx=e._emscripten_bind_btSoftBody_getRestitution_0=e.asm.Vv).apply(null,arguments)},Ux=e._emscripten_bind_btSoftBody_getFriction_0=function(){return(Ux=e._emscripten_bind_btSoftBody_getFriction_0=e.asm.Wv).apply(null,arguments)},Vx=e._emscripten_bind_btSoftBody_getRollingFriction_0=function(){return(Vx=e._emscripten_bind_btSoftBody_getRollingFriction_0=e.asm.Xv).apply(null,arguments)},Wx=e._emscripten_bind_btSoftBody_setRestitution_1=function(){return(Wx=e._emscripten_bind_btSoftBody_setRestitution_1=e.asm.Yv).apply(null,arguments)},Gx=e._emscripten_bind_btSoftBody_setFriction_1=function(){return(Gx=e._emscripten_bind_btSoftBody_setFriction_1=e.asm.Zv).apply(null,arguments)},Hx=e._emscripten_bind_btSoftBody_setRollingFriction_1=function(){return(Hx=e._emscripten_bind_btSoftBody_setRollingFriction_1=e.asm._v).apply(null,arguments)},Xx=e._emscripten_bind_btSoftBody_getWorldTransform_0=function(){return(Xx=e._emscripten_bind_btSoftBody_getWorldTransform_0=e.asm.$v).apply(null,arguments)},Kx=e._emscripten_bind_btSoftBody_getCollisionFlags_0=function(){return(Kx=e._emscripten_bind_btSoftBody_getCollisionFlags_0=e.asm.aw).apply(null,arguments)},Yx=e._emscripten_bind_btSoftBody_setCollisionFlags_1=function(){return(Yx=e._emscripten_bind_btSoftBody_setCollisionFlags_1=e.asm.bw).apply(null,arguments)},Zx=e._emscripten_bind_btSoftBody_setWorldTransform_1=function(){return(Zx=e._emscripten_bind_btSoftBody_setWorldTransform_1=e.asm.cw).apply(null,arguments)},Jx=e._emscripten_bind_btSoftBody_setCollisionShape_1=function(){return(Jx=e._emscripten_bind_btSoftBody_setCollisionShape_1=e.asm.dw).apply(null,arguments)},Qx=e._emscripten_bind_btSoftBody_setCcdMotionThreshold_1=function(){return(Qx=e._emscripten_bind_btSoftBody_setCcdMotionThreshold_1=e.asm.ew).apply(null,arguments)},tw=e._emscripten_bind_btSoftBody_setCcdSweptSphereRadius_1=function(){return(tw=e._emscripten_bind_btSoftBody_setCcdSweptSphereRadius_1=e.asm.fw).apply(null,arguments)},ew=e._emscripten_bind_btSoftBody_getUserIndex_0=function(){return(ew=e._emscripten_bind_btSoftBody_getUserIndex_0=e.asm.gw).apply(null,arguments)},nw=e._emscripten_bind_btSoftBody_setUserIndex_1=function(){return(nw=e._emscripten_bind_btSoftBody_setUserIndex_1=e.asm.hw).apply(null,arguments)},iw=e._emscripten_bind_btSoftBody_getUserPointer_0=function(){return(iw=e._emscripten_bind_btSoftBody_getUserPointer_0=e.asm.iw).apply(null,arguments)},ow=e._emscripten_bind_btSoftBody_setUserPointer_1=function(){return(ow=e._emscripten_bind_btSoftBody_setUserPointer_1=e.asm.jw).apply(null,arguments)},rw=e._emscripten_bind_btSoftBody_getBroadphaseHandle_0=function(){return(rw=e._emscripten_bind_btSoftBody_getBroadphaseHandle_0=e.asm.kw).apply(null,arguments)},sw=e._emscripten_bind_btSoftBody_get_m_cfg_0=function(){return(sw=e._emscripten_bind_btSoftBody_get_m_cfg_0=e.asm.lw).apply(null,arguments)},aw=e._emscripten_bind_btSoftBody_set_m_cfg_1=function(){return(aw=e._emscripten_bind_btSoftBody_set_m_cfg_1=e.asm.mw).apply(null,arguments)},lw=e._emscripten_bind_btSoftBody_get_m_nodes_0=function(){return(lw=e._emscripten_bind_btSoftBody_get_m_nodes_0=e.asm.nw).apply(null,arguments)},pw=e._emscripten_bind_btSoftBody_set_m_nodes_1=function(){return(pw=e._emscripten_bind_btSoftBody_set_m_nodes_1=e.asm.ow).apply(null,arguments)},uw=e._emscripten_bind_btSoftBody_get_m_faces_0=function(){return(uw=e._emscripten_bind_btSoftBody_get_m_faces_0=e.asm.pw).apply(null,arguments)},cw=e._emscripten_bind_btSoftBody_set_m_faces_1=function(){return(cw=e._emscripten_bind_btSoftBody_set_m_faces_1=e.asm.qw).apply(null,arguments)},_w=e._emscripten_bind_btSoftBody_get_m_materials_0=function(){return(_w=e._emscripten_bind_btSoftBody_get_m_materials_0=e.asm.rw).apply(null,arguments)},hw=e._emscripten_bind_btSoftBody_set_m_materials_1=function(){return(hw=e._emscripten_bind_btSoftBody_set_m_materials_1=e.asm.sw).apply(null,arguments)},dw=e._emscripten_bind_btSoftBody_get_m_anchors_0=function(){return(dw=e._emscripten_bind_btSoftBody_get_m_anchors_0=e.asm.tw).apply(null,arguments)},fw=e._emscripten_bind_btSoftBody_set_m_anchors_1=function(){return(fw=e._emscripten_bind_btSoftBody_set_m_anchors_1=e.asm.uw).apply(null,arguments)},mw=e._emscripten_bind_btSoftBody___destroy___0=function(){return(mw=e._emscripten_bind_btSoftBody___destroy___0=e.asm.vw).apply(null,arguments)},yw=e._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_0=function(){return(yw=e._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_0=e.asm.ww).apply(null,arguments)},$w=e._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_1=function(){return($w=e._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_1=e.asm.xw).apply(null,arguments)},bw=e._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration___destroy___0=function(){return(bw=e._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration___destroy___0=e.asm.yw).apply(null,arguments)},gw=e._emscripten_bind_btDefaultSoftBodySolver_btDefaultSoftBodySolver_0=function(){return(gw=e._emscripten_bind_btDefaultSoftBodySolver_btDefaultSoftBodySolver_0=e.asm.zw).apply(null,arguments)},vw=e._emscripten_bind_btDefaultSoftBodySolver___destroy___0=function(){return(vw=e._emscripten_bind_btDefaultSoftBodySolver___destroy___0=e.asm.Aw).apply(null,arguments)},xw=e._emscripten_bind_btSoftBodyArray_size_0=function(){return(xw=e._emscripten_bind_btSoftBodyArray_size_0=e.asm.Bw).apply(null,arguments)},ww=e._emscripten_bind_btSoftBodyArray_at_1=function(){return(ww=e._emscripten_bind_btSoftBodyArray_at_1=e.asm.Cw).apply(null,arguments)},zw=e._emscripten_bind_btSoftBodyArray___destroy___0=function(){return(zw=e._emscripten_bind_btSoftBodyArray___destroy___0=e.asm.Dw).apply(null,arguments)},Cw=e._emscripten_bind_btSoftRigidDynamicsWorld_btSoftRigidDynamicsWorld_5=function(){return(Cw=e._emscripten_bind_btSoftRigidDynamicsWorld_btSoftRigidDynamicsWorld_5=e.asm.Ew).apply(null,arguments)},Sw=e._emscripten_bind_btSoftRigidDynamicsWorld_addSoftBody_3=function(){return(Sw=e._emscripten_bind_btSoftRigidDynamicsWorld_addSoftBody_3=e.asm.Fw).apply(null,arguments)},kw=e._emscripten_bind_btSoftRigidDynamicsWorld_removeSoftBody_1=function(){return(kw=e._emscripten_bind_btSoftRigidDynamicsWorld_removeSoftBody_1=e.asm.Gw).apply(null,arguments)},Lw=e._emscripten_bind_btSoftRigidDynamicsWorld_removeCollisionObject_1=function(){return(Lw=e._emscripten_bind_btSoftRigidDynamicsWorld_removeCollisionObject_1=e.asm.Hw).apply(null,arguments)},jw=e._emscripten_bind_btSoftRigidDynamicsWorld_getWorldInfo_0=function(){return(jw=e._emscripten_bind_btSoftRigidDynamicsWorld_getWorldInfo_0=e.asm.Iw).apply(null,arguments)},Nw=e._emscripten_bind_btSoftRigidDynamicsWorld_getSoftBodyArray_0=function(){return(Nw=e._emscripten_bind_btSoftRigidDynamicsWorld_getSoftBodyArray_0=e.asm.Jw).apply(null,arguments)},Pw=e._emscripten_bind_btSoftRigidDynamicsWorld_getDispatcher_0=function(){return(Pw=e._emscripten_bind_btSoftRigidDynamicsWorld_getDispatcher_0=e.asm.Kw).apply(null,arguments)},Tw=e._emscripten_bind_btSoftRigidDynamicsWorld_rayTest_3=function(){return(Tw=e._emscripten_bind_btSoftRigidDynamicsWorld_rayTest_3=e.asm.Lw).apply(null,arguments)},Ow=e._emscripten_bind_btSoftRigidDynamicsWorld_getPairCache_0=function(){return(Ow=e._emscripten_bind_btSoftRigidDynamicsWorld_getPairCache_0=e.asm.Mw).apply(null,arguments)},Ew=e._emscripten_bind_btSoftRigidDynamicsWorld_getDispatchInfo_0=function(){return(Ew=e._emscripten_bind_btSoftRigidDynamicsWorld_getDispatchInfo_0=e.asm.Nw).apply(null,arguments)},Mw=e._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_1=function(){return(Mw=e._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_1=e.asm.Ow).apply(null,arguments)},Rw=e._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_2=function(){return(Rw=e._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_2=e.asm.Pw).apply(null,arguments)},Iw=e._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_3=function(){return(Iw=e._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_3=e.asm.Qw).apply(null,arguments)},Aw=e._emscripten_bind_btSoftRigidDynamicsWorld_getBroadphase_0=function(){return(Aw=e._emscripten_bind_btSoftRigidDynamicsWorld_getBroadphase_0=e.asm.Rw).apply(null,arguments)},Dw=e._emscripten_bind_btSoftRigidDynamicsWorld_convexSweepTest_5=function(){return(Dw=e._emscripten_bind_btSoftRigidDynamicsWorld_convexSweepTest_5=e.asm.Sw).apply(null,arguments)},Bw=e._emscripten_bind_btSoftRigidDynamicsWorld_contactPairTest_3=function(){return(Bw=e._emscripten_bind_btSoftRigidDynamicsWorld_contactPairTest_3=e.asm.Tw).apply(null,arguments)},Fw=e._emscripten_bind_btSoftRigidDynamicsWorld_contactTest_2=function(){return(Fw=e._emscripten_bind_btSoftRigidDynamicsWorld_contactTest_2=e.asm.Uw).apply(null,arguments)},qw=e._emscripten_bind_btSoftRigidDynamicsWorld_updateSingleAabb_1=function(){return(qw=e._emscripten_bind_btSoftRigidDynamicsWorld_updateSingleAabb_1=e.asm.Vw).apply(null,arguments)},Uw=e._emscripten_bind_btSoftRigidDynamicsWorld_setGravity_1=function(){return(Uw=e._emscripten_bind_btSoftRigidDynamicsWorld_setGravity_1=e.asm.Ww).apply(null,arguments)},Vw=e._emscripten_bind_btSoftRigidDynamicsWorld_getGravity_0=function(){return(Vw=e._emscripten_bind_btSoftRigidDynamicsWorld_getGravity_0=e.asm.Xw).apply(null,arguments)},Ww=e._emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_1=function(){return(Ww=e._emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_1=e.asm.Yw).apply(null,arguments)},Gw=e._emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_3=function(){return(Gw=e._emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_3=e.asm.Zw).apply(null,arguments)},Hw=e._emscripten_bind_btSoftRigidDynamicsWorld_removeRigidBody_1=function(){return(Hw=e._emscripten_bind_btSoftRigidDynamicsWorld_removeRigidBody_1=e.asm._w).apply(null,arguments)},Xw=e._emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_1=function(){return(Xw=e._emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_1=e.asm.$w).apply(null,arguments)},Kw=e._emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_2=function(){return(Kw=e._emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_2=e.asm.ax).apply(null,arguments)},Yw=e._emscripten_bind_btSoftRigidDynamicsWorld_removeConstraint_1=function(){return(Yw=e._emscripten_bind_btSoftRigidDynamicsWorld_removeConstraint_1=e.asm.bx).apply(null,arguments)},Zw=e._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_1=function(){return(Zw=e._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_1=e.asm.cx).apply(null,arguments)},Jw=e._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_2=function(){return(Jw=e._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_2=e.asm.dx).apply(null,arguments)},Qw=e._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_3=function(){return(Qw=e._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_3=e.asm.ex).apply(null,arguments)},tz=e._emscripten_bind_btSoftRigidDynamicsWorld_setContactAddedCallback_1=function(){return(tz=e._emscripten_bind_btSoftRigidDynamicsWorld_setContactAddedCallback_1=e.asm.fx).apply(null,arguments)},ez=e._emscripten_bind_btSoftRigidDynamicsWorld_setContactProcessedCallback_1=function(){return(ez=e._emscripten_bind_btSoftRigidDynamicsWorld_setContactProcessedCallback_1=e.asm.gx).apply(null,arguments)},nz=e._emscripten_bind_btSoftRigidDynamicsWorld_setContactDestroyedCallback_1=function(){return(nz=e._emscripten_bind_btSoftRigidDynamicsWorld_setContactDestroyedCallback_1=e.asm.hx).apply(null,arguments)},iz=e._emscripten_bind_btSoftRigidDynamicsWorld_addAction_1=function(){return(iz=e._emscripten_bind_btSoftRigidDynamicsWorld_addAction_1=e.asm.ix).apply(null,arguments)},oz=e._emscripten_bind_btSoftRigidDynamicsWorld_removeAction_1=function(){return(oz=e._emscripten_bind_btSoftRigidDynamicsWorld_removeAction_1=e.asm.jx).apply(null,arguments)},rz=e._emscripten_bind_btSoftRigidDynamicsWorld_getSolverInfo_0=function(){return(rz=e._emscripten_bind_btSoftRigidDynamicsWorld_getSolverInfo_0=e.asm.kx).apply(null,arguments)},sz=e._emscripten_bind_btSoftRigidDynamicsWorld_setInternalTickCallback_1=function(){return(sz=e._emscripten_bind_btSoftRigidDynamicsWorld_setInternalTickCallback_1=e.asm.lx).apply(null,arguments)},az=e._emscripten_bind_btSoftRigidDynamicsWorld_setInternalTickCallback_2=function(){return(az=e._emscripten_bind_btSoftRigidDynamicsWorld_setInternalTickCallback_2=e.asm.mx).apply(null,arguments)},lz=e._emscripten_bind_btSoftRigidDynamicsWorld_setInternalTickCallback_3=function(){return(lz=e._emscripten_bind_btSoftRigidDynamicsWorld_setInternalTickCallback_3=e.asm.nx).apply(null,arguments)},pz=e._emscripten_bind_btSoftRigidDynamicsWorld___destroy___0=function(){return(pz=e._emscripten_bind_btSoftRigidDynamicsWorld___destroy___0=e.asm.ox).apply(null,arguments)},uz=e._emscripten_bind_btSoftBodyHelpers_btSoftBodyHelpers_0=function(){return(uz=e._emscripten_bind_btSoftBodyHelpers_btSoftBodyHelpers_0=e.asm.px).apply(null,arguments)},cz=e._emscripten_bind_btSoftBodyHelpers_CreateRope_5=function(){return(cz=e._emscripten_bind_btSoftBodyHelpers_CreateRope_5=e.asm.qx).apply(null,arguments)},_z=e._emscripten_bind_btSoftBodyHelpers_CreatePatch_9=function(){return(_z=e._emscripten_bind_btSoftBodyHelpers_CreatePatch_9=e.asm.rx).apply(null,arguments)},hz=e._emscripten_bind_btSoftBodyHelpers_CreatePatchUV_10=function(){return(hz=e._emscripten_bind_btSoftBodyHelpers_CreatePatchUV_10=e.asm.sx).apply(null,arguments)},dz=e._emscripten_bind_btSoftBodyHelpers_CreateEllipsoid_4=function(){return(dz=e._emscripten_bind_btSoftBodyHelpers_CreateEllipsoid_4=e.asm.tx).apply(null,arguments)},fz=e._emscripten_bind_btSoftBodyHelpers_CreateFromTriMesh_5=function(){return(fz=e._emscripten_bind_btSoftBodyHelpers_CreateFromTriMesh_5=e.asm.ux).apply(null,arguments)},mz=e._emscripten_bind_btSoftBodyHelpers_CreateFromConvexHull_4=function(){return(mz=e._emscripten_bind_btSoftBodyHelpers_CreateFromConvexHull_4=e.asm.vx).apply(null,arguments)},yz=e._emscripten_bind_btSoftBodyHelpers___destroy___0=function(){return(yz=e._emscripten_bind_btSoftBodyHelpers___destroy___0=e.asm.wx).apply(null,arguments)},$z=e._emscripten_enum_PHY_ScalarType_PHY_FLOAT=function(){return($z=e._emscripten_enum_PHY_ScalarType_PHY_FLOAT=e.asm.xx).apply(null,arguments)},bz=e._emscripten_enum_PHY_ScalarType_PHY_DOUBLE=function(){return(bz=e._emscripten_enum_PHY_ScalarType_PHY_DOUBLE=e.asm.yx).apply(null,arguments)},gz=e._emscripten_enum_PHY_ScalarType_PHY_INTEGER=function(){return(gz=e._emscripten_enum_PHY_ScalarType_PHY_INTEGER=e.asm.zx).apply(null,arguments)},vz=e._emscripten_enum_PHY_ScalarType_PHY_SHORT=function(){return(vz=e._emscripten_enum_PHY_ScalarType_PHY_SHORT=e.asm.Ax).apply(null,arguments)},xz=e._emscripten_enum_PHY_ScalarType_PHY_FIXEDPOINT88=function(){return(xz=e._emscripten_enum_PHY_ScalarType_PHY_FIXEDPOINT88=e.asm.Bx).apply(null,arguments)},wz=e._emscripten_enum_PHY_ScalarType_PHY_UCHAR=function(){return(wz=e._emscripten_enum_PHY_ScalarType_PHY_UCHAR=e.asm.Cx).apply(null,arguments)},zz=e._emscripten_enum_btConstraintParams_BT_CONSTRAINT_ERP=function(){return(zz=e._emscripten_enum_btConstraintParams_BT_CONSTRAINT_ERP=e.asm.Dx).apply(null,arguments)},Cz=e._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_ERP=function(){return(Cz=e._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_ERP=e.asm.Ex).apply(null,arguments)},Sz=e._emscripten_enum_btConstraintParams_BT_CONSTRAINT_CFM=function(){return(Sz=e._emscripten_enum_btConstraintParams_BT_CONSTRAINT_CFM=e.asm.Fx).apply(null,arguments)},kz=e._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_CFM=function(){return(kz=e._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_CFM=e.asm.Gx).apply(null,arguments)};function Lz(){function t(){if(!et&&(et=!0,e.calledRun=!0,!C)){if(B=!0,M(I),M(A),s(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();D.unshift(t)}M(D)}}if(!(0<q)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)F();M(R),0<q||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e._malloc=function(){return(e._malloc=e.asm.Hx).apply(null,arguments)},e._free=function(){return(e._free=e.asm.Ix).apply(null,arguments)},e.dynCall_vi=function(){return(e.dynCall_vi=e.asm.Jx).apply(null,arguments)},e.dynCall_v=function(){return(e.dynCall_v=e.asm.Kx).apply(null,arguments)},e.UTF8ToString=function(t,e){if(t){var n=L,i=t+e;for(e=t;n[e]&&!(e>=i);)++e;if(16<e-t&&n.subarray&&T)t=T.decode(n.subarray(t,e));else{for(i="";t<e;){var o=n[t++];if(128&o){var r=63&n[t++];if(192==(224&o))i+=String.fromCharCode((31&o)<<6|r);else{var s=63&n[t++];65536>(o=224==(240&o)?(15&o)<<12|r<<6|s:(7&o)<<18|r<<12|s<<6|63&n[t++])?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else i+=String.fromCharCode(o)}t=i}}else t="";return t},e.addFunction=function(t,e){if(!g){g=new WeakMap;for(var n=0;n<z.length;n++){var i=z.get(n);i&&g.set(i,n)}}if(g.has(t))t=g.get(t);else{if(x.length)n=x.pop();else{n=z.length;try{z.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}}try{z.set(n,t)}catch(a){if(!(a instanceof TypeError))throw a;if("function"==typeof WebAssembly.Function){var o={i:"i32",j:"i64",f:"f32",d:"f64"},r={parameters:[],results:"v"==e[0]?[]:[o[e[0]]]};for(i=1;i<e.length;++i)r.parameters.push(o[e[i]]);e=new WebAssembly.Function(r,t)}else{o=[1,0,1,96],r=e.slice(0,1),e=e.slice(1);var s={i:127,j:126,f:125,d:124};for(o.push(e.length),i=0;i<e.length;++i)o.push(s[e[i]]);"v"==r?o.push(0):o=o.concat([1,s[r]]),o[1]=o.length-2,e=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),e=new WebAssembly.Module(e),e=new WebAssembly.Instance(e,{e:{f:t}}).exports.f}z.set(n,e)}g.set(t,n),t=n}return t},V=function t(){et||Lz(),et||(V=t)},e.run=Lz,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();function jz(){}function Nz(t){return(t||jz).Nx}function Pz(t,e){var n=Nz(e),i=n[t];return i||((i=Object.create((e||jz).prototype)).Lx=t,n[t]=i)}Lz(),jz.prototype=Object.create(jz.prototype),jz.prototype.constructor=jz,jz.prototype.Mx=jz,jz.Nx={},e.WrapperObject=jz,e.getCache=Nz,e.wrapPointer=Pz,e.castObject=function(t,e){return Pz(t.Lx,e)},e.NULL=Pz(0),e.destroy=function(t){if(!t.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";t.__destroy__(),delete Nz(t.Mx)[t.Lx]},e.compare=function(t,e){return t.Lx===e.Lx},e.getPointer=function(t){return t.Lx},e.getClass=function(t){return t.Mx};var Tz=0,Oz=0,Ez=0,Mz=[],Rz=0;function Iz(){if(Rz){for(var t=0;t<Mz.length;t++)e._free(Mz[t]);Mz.length=0,e._free(Tz),Tz=0,Oz+=Rz,Rz=0}Tz||(Oz+=128,S(Tz=e._malloc(Oz))),Ez=0}function Az(t,n){return S(Tz),t=t.length*n.BYTES_PER_ELEMENT,Ez+(t=t+7&-8)>=Oz?(S(0<t),Rz+=t,n=e._malloc(t),Mz.push(n)):(n=Tz+Ez,Ez+=t),n}function Dz(t,e,n){switch(n>>>=0,e.BYTES_PER_ELEMENT){case 2:n>>>=1;break;case 4:n>>>=2;break;case 8:n>>>=3}for(var i=0;i<t.length;i++)e[n+i]=t[i]}function Bz(t){if("object"==typeof t){var e=Az(t,j);return Dz(t,j,e),e}return t}function Fz(t){if("object"==typeof t){var e=Az(t,N);return Dz(t,N,e),e}return t}function qz(){throw"cannot construct a btCollisionShape, no constructor in IDL"}function Uz(){throw"cannot construct a btCollisionWorld, no constructor in IDL"}function Vz(){throw"cannot construct a btCollisionObject, no constructor in IDL"}function Wz(){throw"cannot construct a btConcaveShape, no constructor in IDL"}function Gz(){throw"cannot construct a btTypedConstraint, no constructor in IDL"}function Hz(){throw"cannot construct a btDynamicsWorld, no constructor in IDL"}function Xz(t,e,n){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),this.Lx=void 0===t?Le():void 0===e?_emscripten_bind_btVector3_btVector3_1(t):void 0===n?_emscripten_bind_btVector3_btVector3_2(t,e):je(t,e,n),Nz(Xz)[this.Lx]=this}function Kz(){throw"cannot construct a btQuadWord, no constructor in IDL"}function Yz(){throw"cannot construct a btMotionState, no constructor in IDL"}function Zz(){throw"cannot construct a RayResultCallback, no constructor in IDL"}function Jz(){throw"cannot construct a ContactResultCallback, no constructor in IDL"}function Qz(){throw"cannot construct a ConvexResultCallback, no constructor in IDL"}function tC(){throw"cannot construct a btConvexShape, no constructor in IDL"}function eC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=Nn(t,e),Nz(eC)[this.Lx]=this}function nC(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=Bn(t),Nz(nC)[this.Lx]=this}function iC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=Hn(t,e),Nz(iC)[this.Lx]=this}function oC(){throw"cannot construct a btStridingMeshInterface, no constructor in IDL"}function rC(){throw"cannot construct a btTriangleMeshShape, no constructor in IDL"}function sC(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=void 0===t?oi():ri(t),Nz(sC)[this.Lx]=this}function aC(){throw"cannot construct a btDispatcher, no constructor in IDL"}function lC(t,e,n,i,o){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),this.Lx=void 0===i?ui(t,e,n):void 0===o?_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_4(t,e,n,i):ci(t,e,n,i,o),Nz(lC)[this.Lx]=this}function pC(t,e,n,i){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),this.Lx=wi(t,e,n,i),Nz(pC)[this.Lx]=this}function uC(){throw"cannot construct a btVehicleRaycaster, no constructor in IDL"}function cC(){throw"cannot construct a btActionInterface, no constructor in IDL"}function _C(){this.Lx=lo(),Nz(_C)[this.Lx]=this}function hC(){throw"cannot construct a btSoftBodySolver, no constructor in IDL"}function dC(){throw"cannot construct a VoidPtr, no constructor in IDL"}function fC(t,e,n,i){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),this.Lx=void 0===t?Vo():void 0===e?_emscripten_bind_btVector4_btVector4_1(t):void 0===n?_emscripten_bind_btVector4_btVector4_2(t,e):void 0===i?_emscripten_bind_btVector4_btVector4_3(t,e,n):Wo(t,e,n,i),Nz(fC)[this.Lx]=this}function mC(t,e,n,i){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),this.Lx=lr(t,e,n,i),Nz(mC)[this.Lx]=this}function yC(){throw"cannot construct a btMatrix3x3, no constructor in IDL"}function $C(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=void 0===t?Fr():void 0===e?_emscripten_bind_btTransform_btTransform_1(t):qr(t,e),Nz($C)[this.Lx]=this}function bC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=void 0===t?Qr():void 0===e?ts(t):es(t,e),Nz(bC)[this.Lx]=this}function gC(){throw"cannot construct a btCollisionObjectWrapper, no constructor in IDL"}function vC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=us(t,e),Nz(vC)[this.Lx]=this}function xC(){throw"cannot construct a btConstCollisionObjectArray, no constructor in IDL"}function wC(){throw"cannot construct a btScalarArray, no constructor in IDL"}function zC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=Ms(t,e),Nz(zC)[this.Lx]=this}function CC(){throw"cannot construct a btManifoldPoint, no constructor in IDL"}function SC(){this.Lx=va(),Nz(SC)[this.Lx]=this}function kC(){throw"cannot construct a LocalShapeInfo, no constructor in IDL"}function LC(t,e,n,i,o){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),this.Lx=ja(t,e,n,i,o),Nz(LC)[this.Lx]=this}function jC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=Fa(t,e),Nz(jC)[this.Lx]=this}function NC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=void 0===e?sl(t):al(t,e),Nz(NC)[this.Lx]=this}function PC(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=dl(t),Nz(PC)[this.Lx]=this}function TC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=vl(t,e),Nz(TC)[this.Lx]=this}function OC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=Pl(t,e),Nz(OC)[this.Lx]=this}function EC(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=Fl(t),Nz(EC)[this.Lx]=this}function MC(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=Xl(t),Nz(MC)[this.Lx]=this}function RC(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=ep(t),Nz(RC)[this.Lx]=this}function IC(t,e,n){Iz(),t&&"object"==typeof t&&(t=t.Lx),"object"==typeof e&&(e=Fz(e)),n&&"object"==typeof n&&(n=n.Lx),this.Lx=lp(t,e,n),Nz(IC)[this.Lx]=this}function AC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=hp(t,e),Nz(AC)[this.Lx]=this}function DC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=$p(t,e),Nz(DC)[this.Lx]=this}function BC(){throw"cannot construct a btIntArray, no constructor in IDL"}function FC(){throw"cannot construct a btFace, no constructor in IDL"}function qC(){throw"cannot construct a btVector3Array, no constructor in IDL"}function UC(){throw"cannot construct a btFaceArray, no constructor in IDL"}function VC(){throw"cannot construct a btConvexPolyhedron, no constructor in IDL"}function WC(t,e){Iz(),"object"==typeof t&&(t=Fz(t)),e&&"object"==typeof e&&(e=e.Lx),this.Lx=void 0===t?qp():void 0===e?Up(t):Vp(t,e),Nz(WC)[this.Lx]=this}function GC(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=iu(t),Nz(GC)[this.Lx]=this}function HC(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=void 0===t?cu():_u(t),Nz(HC)[this.Lx]=this}function XC(){throw"cannot construct a btIndexedMesh, no constructor in IDL"}function KC(){throw"cannot construct a btIndexedMeshArray, no constructor in IDL"}function YC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=void 0===t?Tu():void 0===e?Ou(t):Eu(t,e),Nz(YC)[this.Lx]=this}function ZC(t,e,n,i,o,r){Iz(),t&&"object"==typeof t&&(t=t.Lx),"object"==typeof e&&(e=Bz(e)),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),"object"==typeof o&&(o=Fz(o)),r&&"object"==typeof r&&(r=r.Lx),this.Lx=qu(t,e,n,i,o,r),Nz(ZC)[this.Lx]=this}function JC(){this.Lx=Wu(),Nz(JC)[this.Lx]=this}function QC(t,e){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),this.Lx=Yu(t,e),Nz(QC)[this.Lx]=this}function tS(t,e,n){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),this.Lx=void 0===n?ec(t,e):nc(t,e,n),Nz(tS)[this.Lx]=this}function eS(t,e,n,i,o,r,s,a,l){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),r&&"object"==typeof r&&(r=r.Lx),s&&"object"==typeof s&&(s=s.Lx),a&&"object"==typeof a&&(a=a.Lx),l&&"object"==typeof l&&(l=l.Lx),this.Lx=ac(t,e,n,i,o,r,s,a,l),Nz(eS)[this.Lx]=this}function nS(){this.Lx=dc(),Nz(nS)[this.Lx]=this}function iS(){this.Lx=mc(),Nz(iS)[this.Lx]=this}function oS(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=xc(t),Nz(oS)[this.Lx]=this}function rS(){throw"cannot construct a btOverlappingPairCallback, no constructor in IDL"}function sS(){throw"cannot construct a btOverlappingPairCache, no constructor in IDL"}function aS(t,e,n,i,o){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),this.Lx=void 0===n?Nc(t,e):void 0===i?Pc(t,e,n):void 0===o?Tc(t,e,n,i):Oc(t,e,n,i,o),Nz(aS)[this.Lx]=this}function lS(){throw"cannot construct a btBroadphaseInterface, no constructor in IDL"}function pS(){throw"cannot construct a btCollisionConfiguration, no constructor in IDL"}function uS(){this.Lx=Ac(),Nz(uS)[this.Lx]=this}function cS(){throw"cannot construct a btBroadphaseProxy, no constructor in IDL"}function _S(t,e,n,i){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),this.Lx=void 0===i?Wc(t,e,n):Gc(t,e,n,i),Nz(_S)[this.Lx]=this}function hS(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=$_(t),Nz(hS)[this.Lx]=this}function dS(){this.Lx=Lh(),Nz(dS)[this.Lx]=this}function fS(t,e,n,i){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),this.Lx=void 0===n?Rh(t,e):void 0===i?_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_3(t,e,n):Ih(t,e,n,i),Nz(fS)[this.Lx]=this}function mS(t,e,n,i,o){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),this.Lx=void 0===i?Yh(t,e,n):void 0===o?_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_4(t,e,n,i):Zh(t,e,n,i,o),Nz(mS)[this.Lx]=this}function yS(){this.Lx=fd(),Nz(yS)[this.Lx]=this}function $S(t,e,n,i){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),this.Lx=void 0===n?yd(t,e):void 0===i?_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_3(t,e,n):$d(t,e,n,i),Nz($S)[this.Lx]=this}function bS(t,e,n,i,o,r,s){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),r&&"object"==typeof r&&(r=r.Lx),s&&"object"==typeof s&&(s=s.Lx),this.Lx=void 0===n?Od(t,e):void 0===i?Ed(t,e,n):void 0===o?Md(t,e,n,i):void 0===r?Rd(t,e,n,i,o):void 0===s?Id(t,e,n,i,o,r):Ad(t,e,n,i,o,r,s),Nz(bS)[this.Lx]=this}function gS(t,e,n,i,o){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),this.Lx=void 0===i?Jd(t,e,n):void 0===o?_emscripten_bind_btSliderConstraint_btSliderConstraint_4(t,e,n,i):Qd(t,e,n,i,o),Nz(gS)[this.Lx]=this}function vS(t,e,n,i){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),this.Lx=cf(t,e,n,i),Nz(vS)[this.Lx]=this}function xS(){throw"cannot construct a btConstraintSolver, no constructor in IDL"}function wS(){throw"cannot construct a btDispatcherInfo, no constructor in IDL"}function zS(){throw"cannot construct a btContactSolverInfo, no constructor in IDL"}function CS(){this.Lx=Kf(),Nz(CS)[this.Lx]=this}function SS(){throw"cannot construct a btVehicleRaycasterResult, no constructor in IDL"}function kS(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=fm(t),Nz(kS)[this.Lx]=this}function LS(){throw"cannot construct a RaycastInfo, no constructor in IDL"}function jS(){throw"cannot construct a btWheelInfoConstructionInfo, no constructor in IDL"}function NS(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=sy(t),Nz(NS)[this.Lx]=this}function PS(t,e,n,i){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),this.Lx=void 0===i?o$(t,e,n):r$(t,e,n,i),Nz(PS)[this.Lx]=this}function TS(t,e,n){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),this.Lx=k$(t,e,n),Nz(TS)[this.Lx]=this}function OS(){this.Lx=rb(),Nz(OS)[this.Lx]=this}function ES(){this.Lx=Ab(),Nz(ES)[this.Lx]=this}function MS(){this.Lx=Bb(),Nz(MS)[this.Lx]=this}function RS(){throw"cannot construct a Face, no constructor in IDL"}function IS(){throw"cannot construct a tFaceArray, no constructor in IDL"}function AS(){throw"cannot construct a Node, no constructor in IDL"}function DS(){throw"cannot construct a tNodeArray, no constructor in IDL"}function BS(){throw"cannot construct a Material, no constructor in IDL"}function FS(){throw"cannot construct a tMaterialArray, no constructor in IDL"}function qS(){throw"cannot construct a Anchor, no constructor in IDL"}function US(){throw"cannot construct a tAnchorArray, no constructor in IDL"}function VS(){throw"cannot construct a Config, no constructor in IDL"}function WS(t,e,n,i){Iz(),t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),"object"==typeof i&&(i=Fz(i)),this.Lx=lx(t,e,n,i),Nz(WS)[this.Lx]=this}function GS(t){t&&"object"==typeof t&&(t=t.Lx),this.Lx=void 0===t?yw():$w(t),Nz(GS)[this.Lx]=this}function HS(){this.Lx=gw(),Nz(HS)[this.Lx]=this}function XS(){throw"cannot construct a btSoftBodyArray, no constructor in IDL"}function KS(t,e,n,i,o){t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),this.Lx=Cw(t,e,n,i,o),Nz(KS)[this.Lx]=this}function YS(){this.Lx=uz(),Nz(YS)[this.Lx]=this}return qz.prototype=Object.create(jz.prototype),qz.prototype.constructor=qz,qz.prototype.Mx=qz,qz.Nx={},e.btCollisionShape=qz,qz.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),nt(e,t)},qz.prototype.getLocalScaling=function(){return Pz(it(this.Lx),Xz)},qz.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),ot(n,t,e)},qz.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),rt(e,t)},qz.prototype.getMargin=function(){return st(this.Lx)},qz.prototype.__destroy__=function(){at(this.Lx)},Uz.prototype=Object.create(jz.prototype),Uz.prototype.constructor=Uz,Uz.prototype.Mx=Uz,Uz.Nx={},e.btCollisionWorld=Uz,Uz.prototype.getDispatcher=function(){return Pz(lt(this.Lx),aC)},Uz.prototype.rayTest=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),pt(i,t,e,n)},Uz.prototype.getPairCache=function(){return Pz(ut(this.Lx),sS)},Uz.prototype.getDispatchInfo=function(){return Pz(ct(this.Lx),wS)},Uz.prototype.addCollisionObject=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?_t(i,t):void 0===n?ht(i,t,e):dt(i,t,e,n)},Uz.prototype.removeCollisionObject=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ft(e,t)},Uz.prototype.getBroadphase=function(){return Pz(mt(this.Lx),lS)},Uz.prototype.convexSweepTest=function(t,e,n,i,o){var r=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),yt(r,t,e,n,i,o)},Uz.prototype.contactPairTest=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),$t(i,t,e,n)},Uz.prototype.contactTest=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),bt(n,t,e)},Uz.prototype.updateSingleAabb=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),gt(e,t)},Uz.prototype.__destroy__=function(){vt(this.Lx)},Vz.prototype=Object.create(jz.prototype),Vz.prototype.constructor=Vz,Vz.prototype.Mx=Vz,Vz.Nx={},e.btCollisionObject=Vz,Vz.prototype.setAnisotropicFriction=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),xt(n,t,e)},Vz.prototype.getCollisionShape=function(){return Pz(wt(this.Lx),qz)},Vz.prototype.setContactProcessingThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),zt(e,t)},Vz.prototype.setActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ct(e,t)},Vz.prototype.forceActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),St(e,t)},Vz.prototype.activate=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),void 0===t?kt(e):Lt(e,t)},Vz.prototype.isActive=function(){return!!jt(this.Lx)},Vz.prototype.isKinematicObject=function(){return!!Nt(this.Lx)},Vz.prototype.isStaticObject=function(){return!!Pt(this.Lx)},Vz.prototype.isStaticOrKinematicObject=function(){return!!Tt(this.Lx)},Vz.prototype.getRestitution=function(){return Ot(this.Lx)},Vz.prototype.getFriction=function(){return Et(this.Lx)},Vz.prototype.getRollingFriction=function(){return Mt(this.Lx)},Vz.prototype.setRestitution=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Rt(e,t)},Vz.prototype.setFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),It(e,t)},Vz.prototype.setRollingFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),At(e,t)},Vz.prototype.getWorldTransform=function(){return Pz(Dt(this.Lx),$C)},Vz.prototype.getCollisionFlags=function(){return Bt(this.Lx)},Vz.prototype.setCollisionFlags=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ft(e,t)},Vz.prototype.setWorldTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),qt(e,t)},Vz.prototype.setCollisionShape=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ut(e,t)},Vz.prototype.setCcdMotionThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vt(e,t)},Vz.prototype.setCcdSweptSphereRadius=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Wt(e,t)},Vz.prototype.getUserIndex=function(){return Gt(this.Lx)},Vz.prototype.setUserIndex=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ht(e,t)},Vz.prototype.getUserPointer=function(){return Pz(Xt(this.Lx),dC)},Vz.prototype.setUserPointer=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Kt(e,t)},Vz.prototype.getBroadphaseHandle=function(){return Pz(Yt(this.Lx),cS)},Vz.prototype.__destroy__=function(){Zt(this.Lx)},Wz.prototype=Object.create(qz.prototype),Wz.prototype.constructor=Wz,Wz.prototype.Mx=Wz,Wz.Nx={},e.btConcaveShape=Wz,Wz.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Jt(e,t)},Wz.prototype.getLocalScaling=function(){return Pz(Qt(this.Lx),Xz)},Wz.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),te(n,t,e)},Wz.prototype.__destroy__=function(){ee(this.Lx)},Gz.prototype=Object.create(jz.prototype),Gz.prototype.constructor=Gz,Gz.prototype.Mx=Gz,Gz.Nx={},e.btTypedConstraint=Gz,Gz.prototype.enableFeedback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ne(e,t)},Gz.prototype.getBreakingImpulseThreshold=function(){return ie(this.Lx)},Gz.prototype.setBreakingImpulseThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),oe(e,t)},Gz.prototype.getParam=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),re(n,t,e)},Gz.prototype.setParam=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),se(i,t,e,n)},Gz.prototype.__destroy__=function(){ae(this.Lx)},Hz.prototype=Object.create(Uz.prototype),Hz.prototype.constructor=Hz,Hz.prototype.Mx=Hz,Hz.Nx={},e.btDynamicsWorld=Hz,Hz.prototype.addAction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),le(e,t)},Hz.prototype.removeAction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),pe(e,t)},Hz.prototype.getSolverInfo=function(){return Pz(ue(this.Lx),zS)},Hz.prototype.setInternalTickCallback=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?ce(i,t):void 0===n?_e(i,t,e):he(i,t,e,n)},Hz.prototype.getDispatcher=function(){return Pz(de(this.Lx),aC)},Hz.prototype.rayTest=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),fe(i,t,e,n)},Hz.prototype.getPairCache=function(){return Pz(me(this.Lx),sS)},Hz.prototype.getDispatchInfo=function(){return Pz(ye(this.Lx),wS)},Hz.prototype.addCollisionObject=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?$e(i,t):void 0===n?be(i,t,e):ge(i,t,e,n)},Hz.prototype.removeCollisionObject=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ve(e,t)},Hz.prototype.getBroadphase=function(){return Pz(xe(this.Lx),lS)},Hz.prototype.convexSweepTest=function(t,e,n,i,o){var r=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),we(r,t,e,n,i,o)},Hz.prototype.contactPairTest=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),ze(i,t,e,n)},Hz.prototype.contactTest=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Ce(n,t,e)},Hz.prototype.updateSingleAabb=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Se(e,t)},Hz.prototype.__destroy__=function(){ke(this.Lx)},Xz.prototype=Object.create(jz.prototype),Xz.prototype.constructor=Xz,Xz.prototype.Mx=Xz,Xz.Nx={},e.btVector3=Xz,Xz.prototype.length=Xz.prototype.length=function(){return Ne(this.Lx)},Xz.prototype.x=Xz.prototype.x=function(){return Pe(this.Lx)},Xz.prototype.y=Xz.prototype.y=function(){return Te(this.Lx)},Xz.prototype.z=Xz.prototype.z=function(){return Oe(this.Lx)},Xz.prototype.setX=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ee(e,t)},Xz.prototype.setY=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Me(e,t)},Xz.prototype.setZ=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Re(e,t)},Xz.prototype.setValue=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Ie(i,t,e,n)},Xz.prototype.normalize=Xz.prototype.normalize=function(){Ae(this.Lx)},Xz.prototype.rotate=Xz.prototype.rotate=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Pz(De(n,t,e),Xz)},Xz.prototype.dot=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Be(e,t)},Xz.prototype.op_mul=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Fe(e,t),Xz)},Xz.prototype.op_add=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(qe(e,t),Xz)},Xz.prototype.op_sub=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Ue(e,t),Xz)},Xz.prototype.__destroy__=function(){Ve(this.Lx)},Kz.prototype=Object.create(jz.prototype),Kz.prototype.constructor=Kz,Kz.prototype.Mx=Kz,Kz.Nx={},e.btQuadWord=Kz,Kz.prototype.x=Kz.prototype.x=function(){return We(this.Lx)},Kz.prototype.y=Kz.prototype.y=function(){return Ge(this.Lx)},Kz.prototype.z=Kz.prototype.z=function(){return He(this.Lx)},Kz.prototype.w=function(){return Xe(this.Lx)},Kz.prototype.setX=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ke(e,t)},Kz.prototype.setY=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ye(e,t)},Kz.prototype.setZ=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ze(e,t)},Kz.prototype.setW=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Je(e,t)},Kz.prototype.__destroy__=function(){Qe(this.Lx)},Yz.prototype=Object.create(jz.prototype),Yz.prototype.constructor=Yz,Yz.prototype.Mx=Yz,Yz.Nx={},e.btMotionState=Yz,Yz.prototype.getWorldTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),tn(e,t)},Yz.prototype.setWorldTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),en(e,t)},Yz.prototype.__destroy__=function(){nn(this.Lx)},Zz.prototype=Object.create(jz.prototype),Zz.prototype.constructor=Zz,Zz.prototype.Mx=Zz,Zz.Nx={},e.RayResultCallback=Zz,Zz.prototype.hasHit=function(){return!!on(this.Lx)},Zz.prototype.get_m_collisionFilterGroup=Zz.prototype.Ox=function(){return rn(this.Lx)},Zz.prototype.set_m_collisionFilterGroup=Zz.prototype.Qx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),sn(e,t)},Object.defineProperty(Zz.prototype,"m_collisionFilterGroup",{get:Zz.prototype.Ox,set:Zz.prototype.Qx}),Zz.prototype.get_m_collisionFilterMask=Zz.prototype.Px=function(){return an(this.Lx)},Zz.prototype.set_m_collisionFilterMask=Zz.prototype.Rx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ln(e,t)},Object.defineProperty(Zz.prototype,"m_collisionFilterMask",{get:Zz.prototype.Px,set:Zz.prototype.Rx}),Zz.prototype.get_m_closestHitFraction=Zz.prototype.Sx=function(){return pn(this.Lx)},Zz.prototype.set_m_closestHitFraction=Zz.prototype.Tx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),un(e,t)},Object.defineProperty(Zz.prototype,"m_closestHitFraction",{get:Zz.prototype.Sx,set:Zz.prototype.Tx}),Zz.prototype.get_m_collisionObject=Zz.prototype.Ux=function(){return Pz(cn(this.Lx),Vz)},Zz.prototype.set_m_collisionObject=Zz.prototype.ay=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),_n(e,t)},Object.defineProperty(Zz.prototype,"m_collisionObject",{get:Zz.prototype.Ux,set:Zz.prototype.ay}),Zz.prototype.__destroy__=function(){hn(this.Lx)},Jz.prototype=Object.create(jz.prototype),Jz.prototype.constructor=Jz,Jz.prototype.Mx=Jz,Jz.Nx={},e.ContactResultCallback=Jz,Jz.prototype.addSingleResult=function(t,e,n,i,o,r,s){var a=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),r&&"object"==typeof r&&(r=r.Lx),s&&"object"==typeof s&&(s=s.Lx),dn(a,t,e,n,i,o,r,s)},Jz.prototype.__destroy__=function(){fn(this.Lx)},Qz.prototype=Object.create(jz.prototype),Qz.prototype.constructor=Qz,Qz.prototype.Mx=Qz,Qz.Nx={},e.ConvexResultCallback=Qz,Qz.prototype.hasHit=function(){return!!mn(this.Lx)},Qz.prototype.get_m_collisionFilterGroup=Qz.prototype.Ox=function(){return yn(this.Lx)},Qz.prototype.set_m_collisionFilterGroup=Qz.prototype.Qx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),$n(e,t)},Object.defineProperty(Qz.prototype,"m_collisionFilterGroup",{get:Qz.prototype.Ox,set:Qz.prototype.Qx}),Qz.prototype.get_m_collisionFilterMask=Qz.prototype.Px=function(){return bn(this.Lx)},Qz.prototype.set_m_collisionFilterMask=Qz.prototype.Rx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),gn(e,t)},Object.defineProperty(Qz.prototype,"m_collisionFilterMask",{get:Qz.prototype.Px,set:Qz.prototype.Rx}),Qz.prototype.get_m_closestHitFraction=Qz.prototype.Sx=function(){return vn(this.Lx)},Qz.prototype.set_m_closestHitFraction=Qz.prototype.Tx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),xn(e,t)},Object.defineProperty(Qz.prototype,"m_closestHitFraction",{get:Qz.prototype.Sx,set:Qz.prototype.Tx}),Qz.prototype.__destroy__=function(){wn(this.Lx)},tC.prototype=Object.create(qz.prototype),tC.prototype.constructor=tC,tC.prototype.Mx=tC,tC.Nx={},e.btConvexShape=tC,tC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),zn(e,t)},tC.prototype.getLocalScaling=function(){return Pz(Cn(this.Lx),Xz)},tC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Sn(n,t,e)},tC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),kn(e,t)},tC.prototype.getMargin=function(){return Ln(this.Lx)},tC.prototype.__destroy__=function(){jn(this.Lx)},eC.prototype=Object.create(qz.prototype),eC.prototype.constructor=eC,eC.prototype.Mx=eC,eC.Nx={},e.btCapsuleShape=eC,eC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Pn(e,t)},eC.prototype.getMargin=function(){return Tn(this.Lx)},eC.prototype.getUpAxis=function(){return On(this.Lx)},eC.prototype.getRadius=function(){return En(this.Lx)},eC.prototype.getHalfHeight=function(){return Mn(this.Lx)},eC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Rn(e,t)},eC.prototype.getLocalScaling=function(){return Pz(In(this.Lx),Xz)},eC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),An(n,t,e)},eC.prototype.__destroy__=function(){Dn(this.Lx)},nC.prototype=Object.create(qz.prototype),nC.prototype.constructor=nC,nC.prototype.Mx=nC,nC.Nx={},e.btCylinderShape=nC,nC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Fn(e,t)},nC.prototype.getMargin=function(){return qn(this.Lx)},nC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Un(e,t)},nC.prototype.getLocalScaling=function(){return Pz(Vn(this.Lx),Xz)},nC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Wn(n,t,e)},nC.prototype.__destroy__=function(){Gn(this.Lx)},iC.prototype=Object.create(qz.prototype),iC.prototype.constructor=iC,iC.prototype.Mx=iC,iC.Nx={},e.btConeShape=iC,iC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xn(e,t)},iC.prototype.getLocalScaling=function(){return Pz(Kn(this.Lx),Xz)},iC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Yn(n,t,e)},iC.prototype.__destroy__=function(){Zn(this.Lx)},oC.prototype=Object.create(jz.prototype),oC.prototype.constructor=oC,oC.prototype.Mx=oC,oC.Nx={},e.btStridingMeshInterface=oC,oC.prototype.setScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Jn(e,t)},oC.prototype.__destroy__=function(){Qn(this.Lx)},rC.prototype=Object.create(Wz.prototype),rC.prototype.constructor=rC,rC.prototype.Mx=rC,rC.Nx={},e.btTriangleMeshShape=rC,rC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ti(e,t)},rC.prototype.getLocalScaling=function(){return Pz(ei(this.Lx),Xz)},rC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),ni(n,t,e)},rC.prototype.__destroy__=function(){ii(this.Lx)},sC.prototype=Object.create(jz.prototype),sC.prototype.constructor=sC,sC.prototype.Mx=sC,sC.Nx={},e.btDefaultCollisionConfiguration=sC,sC.prototype.__destroy__=function(){si(this.Lx)},aC.prototype=Object.create(jz.prototype),aC.prototype.constructor=aC,aC.prototype.Mx=aC,aC.Nx={},e.btDispatcher=aC,aC.prototype.getNumManifolds=function(){return ai(this.Lx)},aC.prototype.getManifoldByIndexInternal=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(li(e,t),iS)},aC.prototype.__destroy__=function(){pi(this.Lx)},lC.prototype=Object.create(Gz.prototype),lC.prototype.constructor=lC,lC.prototype.Mx=lC,lC.Nx={},e.btGeneric6DofConstraint=lC,lC.prototype.setLinearLowerLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),_i(e,t)},lC.prototype.setLinearUpperLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),hi(e,t)},lC.prototype.setAngularLowerLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),di(e,t)},lC.prototype.setAngularUpperLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),fi(e,t)},lC.prototype.getFrameOffsetA=function(){return Pz(mi(this.Lx),$C)},lC.prototype.enableFeedback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),yi(e,t)},lC.prototype.getBreakingImpulseThreshold=function(){return $i(this.Lx)},lC.prototype.setBreakingImpulseThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),bi(e,t)},lC.prototype.getParam=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),gi(n,t,e)},lC.prototype.setParam=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),vi(i,t,e,n)},lC.prototype.__destroy__=function(){xi(this.Lx)},pC.prototype=Object.create(Hz.prototype),pC.prototype.constructor=pC,pC.prototype.Mx=pC,pC.Nx={},e.btDiscreteDynamicsWorld=pC,pC.prototype.setGravity=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),zi(e,t)},pC.prototype.getGravity=function(){return Pz(Ci(this.Lx),Xz)},pC.prototype.addRigidBody=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?Si(i,t):void 0===n?_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_2(i,t,e):ki(i,t,e,n)},pC.prototype.removeRigidBody=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Li(e,t)},pC.prototype.addConstraint=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),void 0===e?ji(n,t):Ni(n,t,e)},pC.prototype.removeConstraint=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Pi(e,t)},pC.prototype.stepSimulation=function(t,e,n){var i=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?Ti(i,t):void 0===n?Oi(i,t,e):Ei(i,t,e,n)},pC.prototype.setContactAddedCallback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Mi(e,t)},pC.prototype.setContactProcessedCallback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ri(e,t)},pC.prototype.setContactDestroyedCallback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ii(e,t)},pC.prototype.getDispatcher=function(){return Pz(Ai(this.Lx),aC)},pC.prototype.rayTest=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Di(i,t,e,n)},pC.prototype.getPairCache=function(){return Pz(Bi(this.Lx),sS)},pC.prototype.getDispatchInfo=function(){return Pz(Fi(this.Lx),wS)},pC.prototype.addCollisionObject=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?qi(i,t):void 0===n?Ui(i,t,e):Vi(i,t,e,n)},pC.prototype.removeCollisionObject=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Wi(e,t)},pC.prototype.getBroadphase=function(){return Pz(Gi(this.Lx),lS)},pC.prototype.convexSweepTest=function(t,e,n,i,o){var r=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),Hi(r,t,e,n,i,o)},pC.prototype.contactPairTest=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Xi(i,t,e,n)},pC.prototype.contactTest=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Ki(n,t,e)},pC.prototype.updateSingleAabb=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Yi(e,t)},pC.prototype.addAction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Zi(e,t)},pC.prototype.removeAction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ji(e,t)},pC.prototype.getSolverInfo=function(){return Pz(Qi(this.Lx),zS)},pC.prototype.setInternalTickCallback=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?to(i,t):void 0===n?eo(i,t,e):no(i,t,e,n)},pC.prototype.__destroy__=function(){io(this.Lx)},uC.prototype=Object.create(jz.prototype),uC.prototype.constructor=uC,uC.prototype.Mx=uC,uC.Nx={},e.btVehicleRaycaster=uC,uC.prototype.castRay=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),oo(i,t,e,n)},uC.prototype.__destroy__=function(){ro(this.Lx)},cC.prototype=Object.create(jz.prototype),cC.prototype.constructor=cC,cC.prototype.Mx=cC,cC.Nx={},e.btActionInterface=cC,cC.prototype.updateAction=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),so(n,t,e)},cC.prototype.__destroy__=function(){ao(this.Lx)},_C.prototype=Object.create(Vz.prototype),_C.prototype.constructor=_C,_C.prototype.Mx=_C,_C.Nx={},e.btGhostObject=_C,_C.prototype.getNumOverlappingObjects=function(){return po(this.Lx)},_C.prototype.getOverlappingObject=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(uo(e,t),Vz)},_C.prototype.setAnisotropicFriction=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),co(n,t,e)},_C.prototype.getCollisionShape=function(){return Pz(_o(this.Lx),qz)},_C.prototype.setContactProcessingThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ho(e,t)},_C.prototype.setActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),fo(e,t)},_C.prototype.forceActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),mo(e,t)},_C.prototype.activate=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),void 0===t?yo(e):$o(e,t)},_C.prototype.isActive=function(){return!!bo(this.Lx)},_C.prototype.isKinematicObject=function(){return!!go(this.Lx)},_C.prototype.isStaticObject=function(){return!!vo(this.Lx)},_C.prototype.isStaticOrKinematicObject=function(){return!!xo(this.Lx)},_C.prototype.getRestitution=function(){return wo(this.Lx)},_C.prototype.getFriction=function(){return zo(this.Lx)},_C.prototype.getRollingFriction=function(){return Co(this.Lx)},_C.prototype.setRestitution=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),So(e,t)},_C.prototype.setFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ko(e,t)},_C.prototype.setRollingFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Lo(e,t)},_C.prototype.getWorldTransform=function(){return Pz(jo(this.Lx),$C)},_C.prototype.getCollisionFlags=function(){return No(this.Lx)},_C.prototype.setCollisionFlags=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Po(e,t)},_C.prototype.setWorldTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),To(e,t)},_C.prototype.setCollisionShape=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Oo(e,t)},_C.prototype.setCcdMotionThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Eo(e,t)},_C.prototype.setCcdSweptSphereRadius=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Mo(e,t)},_C.prototype.getUserIndex=function(){return Ro(this.Lx)},_C.prototype.setUserIndex=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Io(e,t)},_C.prototype.getUserPointer=function(){return Pz(Ao(this.Lx),dC)},_C.prototype.setUserPointer=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Do(e,t)},_C.prototype.getBroadphaseHandle=function(){return Pz(Bo(this.Lx),cS)},_C.prototype.__destroy__=function(){Fo(this.Lx)},hC.prototype=Object.create(jz.prototype),hC.prototype.constructor=hC,hC.prototype.Mx=hC,hC.Nx={},e.btSoftBodySolver=hC,hC.prototype.__destroy__=function(){qo(this.Lx)},dC.prototype=Object.create(jz.prototype),dC.prototype.constructor=dC,dC.prototype.Mx=dC,dC.Nx={},e.VoidPtr=dC,dC.prototype.__destroy__=function(){Uo(this.Lx)},fC.prototype=Object.create(Xz.prototype),fC.prototype.constructor=fC,fC.prototype.Mx=fC,fC.Nx={},e.btVector4=fC,fC.prototype.w=function(){return Go(this.Lx)},fC.prototype.setValue=function(t,e,n,i){var o=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),Ho(o,t,e,n,i)},fC.prototype.length=fC.prototype.length=function(){return Xo(this.Lx)},fC.prototype.x=fC.prototype.x=function(){return Ko(this.Lx)},fC.prototype.y=fC.prototype.y=function(){return Yo(this.Lx)},fC.prototype.z=fC.prototype.z=function(){return Zo(this.Lx)},fC.prototype.setX=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Jo(e,t)},fC.prototype.setY=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Qo(e,t)},fC.prototype.setZ=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),tr(e,t)},fC.prototype.normalize=fC.prototype.normalize=function(){er(this.Lx)},fC.prototype.rotate=fC.prototype.rotate=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Pz(nr(n,t,e),Xz)},fC.prototype.dot=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),ir(e,t)},fC.prototype.op_mul=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(or(e,t),Xz)},fC.prototype.op_add=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(rr(e,t),Xz)},fC.prototype.op_sub=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(sr(e,t),Xz)},fC.prototype.__destroy__=function(){ar(this.Lx)},mC.prototype=Object.create(Kz.prototype),mC.prototype.constructor=mC,mC.prototype.Mx=mC,mC.Nx={},e.btQuaternion=mC,mC.prototype.setValue=function(t,e,n,i){var o=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),pr(o,t,e,n,i)},mC.prototype.setEulerZYX=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),ur(i,t,e,n)},mC.prototype.setRotation=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),cr(n,t,e)},mC.prototype.normalize=mC.prototype.normalize=function(){_r(this.Lx)},mC.prototype.length2=function(){return hr(this.Lx)},mC.prototype.length=mC.prototype.length=function(){return dr(this.Lx)},mC.prototype.dot=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),fr(e,t)},mC.prototype.normalized=function(){return Pz(mr(this.Lx),mC)},mC.prototype.getAxis=function(){return Pz(yr(this.Lx),Xz)},mC.prototype.inverse=mC.prototype.inverse=function(){return Pz($r(this.Lx),mC)},mC.prototype.getAngle=function(){return br(this.Lx)},mC.prototype.getAngleShortestPath=function(){return gr(this.Lx)},mC.prototype.angle=mC.prototype.angle=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),vr(e,t)},mC.prototype.angleShortestPath=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),xr(e,t)},mC.prototype.op_add=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(wr(e,t),mC)},mC.prototype.op_sub=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(zr(e,t),mC)},mC.prototype.op_mul=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Cr(e,t),mC)},mC.prototype.op_mulq=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Sr(e,t),mC)},mC.prototype.op_div=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(kr(e,t),mC)},mC.prototype.x=mC.prototype.x=function(){return Lr(this.Lx)},mC.prototype.y=mC.prototype.y=function(){return jr(this.Lx)},mC.prototype.z=mC.prototype.z=function(){return Nr(this.Lx)},mC.prototype.w=function(){return Pr(this.Lx)},mC.prototype.setX=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Tr(e,t)},mC.prototype.setY=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Or(e,t)},mC.prototype.setZ=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Er(e,t)},mC.prototype.setW=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Mr(e,t)},mC.prototype.__destroy__=function(){Rr(this.Lx)},yC.prototype=Object.create(jz.prototype),yC.prototype.constructor=yC,yC.prototype.Mx=yC,yC.Nx={},e.btMatrix3x3=yC,yC.prototype.setEulerZYX=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Ir(i,t,e,n)},yC.prototype.getRotation=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ar(e,t)},yC.prototype.getRow=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Dr(e,t),Xz)},yC.prototype.__destroy__=function(){Br(this.Lx)},$C.prototype=Object.create(jz.prototype),$C.prototype.constructor=$C,$C.prototype.Mx=$C,$C.Nx={},e.btTransform=$C,$C.prototype.setIdentity=function(){Ur(this.Lx)},$C.prototype.setOrigin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vr(e,t)},$C.prototype.setRotation=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Wr(e,t)},$C.prototype.getOrigin=function(){return Pz(Gr(this.Lx),Xz)},$C.prototype.getRotation=function(){return Pz(Hr(this.Lx),mC)},$C.prototype.getBasis=function(){return Pz(Xr(this.Lx),yC)},$C.prototype.setFromOpenGLMatrix=function(t){var e=this.Lx;Iz(),"object"==typeof t&&(t=Fz(t)),Kr(e,t)},$C.prototype.inverse=$C.prototype.inverse=function(){return Pz(Yr(this.Lx),$C)},$C.prototype.op_mul=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Zr(e,t),$C)},$C.prototype.__destroy__=function(){Jr(this.Lx)},bC.prototype=Object.create(Yz.prototype),bC.prototype.constructor=bC,bC.prototype.Mx=bC,bC.Nx={},e.btDefaultMotionState=bC,bC.prototype.getWorldTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ns(e,t)},bC.prototype.setWorldTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),is(e,t)},bC.prototype.get_m_graphicsWorldTrans=bC.prototype.Kz=function(){return Pz(os(this.Lx),$C)},bC.prototype.set_m_graphicsWorldTrans=bC.prototype.pC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),rs(e,t)},Object.defineProperty(bC.prototype,"m_graphicsWorldTrans",{get:bC.prototype.Kz,set:bC.prototype.pC}),bC.prototype.__destroy__=function(){ss(this.Lx)},gC.prototype=Object.create(jz.prototype),gC.prototype.constructor=gC,gC.prototype.Mx=gC,gC.Nx={},e.btCollisionObjectWrapper=gC,gC.prototype.getWorldTransform=function(){return Pz(as(this.Lx),$C)},gC.prototype.getCollisionObject=function(){return Pz(ls(this.Lx),Vz)},gC.prototype.getCollisionShape=function(){return Pz(ps(this.Lx),qz)},vC.prototype=Object.create(Zz.prototype),vC.prototype.constructor=vC,vC.prototype.Mx=vC,vC.Nx={},e.ClosestRayResultCallback=vC,vC.prototype.hasHit=function(){return!!cs(this.Lx)},vC.prototype.get_m_rayFromWorld=vC.prototype.my=function(){return Pz(_s(this.Lx),Xz)},vC.prototype.set_m_rayFromWorld=vC.prototype.wy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),hs(e,t)},Object.defineProperty(vC.prototype,"m_rayFromWorld",{get:vC.prototype.my,set:vC.prototype.wy}),vC.prototype.get_m_rayToWorld=vC.prototype.ny=function(){return Pz(ds(this.Lx),Xz)},vC.prototype.set_m_rayToWorld=vC.prototype.xy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),fs(e,t)},Object.defineProperty(vC.prototype,"m_rayToWorld",{get:vC.prototype.ny,set:vC.prototype.xy}),vC.prototype.get_m_hitNormalWorld=vC.prototype.Wx=function(){return Pz(ms(this.Lx),Xz)},vC.prototype.set_m_hitNormalWorld=vC.prototype.cy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ys(e,t)},Object.defineProperty(vC.prototype,"m_hitNormalWorld",{get:vC.prototype.Wx,set:vC.prototype.cy}),vC.prototype.get_m_hitPointWorld=vC.prototype.Xx=function(){return Pz($s(this.Lx),Xz)},vC.prototype.set_m_hitPointWorld=vC.prototype.dy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),bs(e,t)},Object.defineProperty(vC.prototype,"m_hitPointWorld",{get:vC.prototype.Xx,set:vC.prototype.dy}),vC.prototype.get_m_collisionFilterGroup=vC.prototype.Ox=function(){return gs(this.Lx)},vC.prototype.set_m_collisionFilterGroup=vC.prototype.Qx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),vs(e,t)},Object.defineProperty(vC.prototype,"m_collisionFilterGroup",{get:vC.prototype.Ox,set:vC.prototype.Qx}),vC.prototype.get_m_collisionFilterMask=vC.prototype.Px=function(){return xs(this.Lx)},vC.prototype.set_m_collisionFilterMask=vC.prototype.Rx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ws(e,t)},Object.defineProperty(vC.prototype,"m_collisionFilterMask",{get:vC.prototype.Px,set:vC.prototype.Rx}),vC.prototype.get_m_closestHitFraction=vC.prototype.Sx=function(){return zs(this.Lx)},vC.prototype.set_m_closestHitFraction=vC.prototype.Tx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Cs(e,t)},Object.defineProperty(vC.prototype,"m_closestHitFraction",{get:vC.prototype.Sx,set:vC.prototype.Tx}),vC.prototype.get_m_collisionObject=vC.prototype.Ux=function(){return Pz(Ss(this.Lx),Vz)},vC.prototype.set_m_collisionObject=vC.prototype.ay=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ks(e,t)},Object.defineProperty(vC.prototype,"m_collisionObject",{get:vC.prototype.Ux,set:vC.prototype.ay}),vC.prototype.__destroy__=function(){Ls(this.Lx)},xC.prototype=Object.create(jz.prototype),xC.prototype.constructor=xC,xC.prototype.Mx=xC,xC.Nx={},e.btConstCollisionObjectArray=xC,xC.prototype.size=xC.prototype.size=function(){return js(this.Lx)},xC.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Ns(e,t),Vz)},xC.prototype.__destroy__=function(){Ps(this.Lx)},wC.prototype=Object.create(jz.prototype),wC.prototype.constructor=wC,wC.prototype.Mx=wC,wC.Nx={},e.btScalarArray=wC,wC.prototype.size=wC.prototype.size=function(){return Ts(this.Lx)},wC.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Os(e,t)},wC.prototype.__destroy__=function(){Es(this.Lx)},zC.prototype=Object.create(Zz.prototype),zC.prototype.constructor=zC,zC.prototype.Mx=zC,zC.Nx={},e.AllHitsRayResultCallback=zC,zC.prototype.hasHit=function(){return!!Rs(this.Lx)},zC.prototype.get_m_collisionObjects=zC.prototype.sz=function(){return Pz(Is(this.Lx),xC)},zC.prototype.set_m_collisionObjects=zC.prototype.ZB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),As(e,t)},Object.defineProperty(zC.prototype,"m_collisionObjects",{get:zC.prototype.sz,set:zC.prototype.ZB}),zC.prototype.get_m_rayFromWorld=zC.prototype.my=function(){return Pz(Ds(this.Lx),Xz)},zC.prototype.set_m_rayFromWorld=zC.prototype.wy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Bs(e,t)},Object.defineProperty(zC.prototype,"m_rayFromWorld",{get:zC.prototype.my,set:zC.prototype.wy}),zC.prototype.get_m_rayToWorld=zC.prototype.ny=function(){return Pz(Fs(this.Lx),Xz)},zC.prototype.set_m_rayToWorld=zC.prototype.xy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),qs(e,t)},Object.defineProperty(zC.prototype,"m_rayToWorld",{get:zC.prototype.ny,set:zC.prototype.xy}),zC.prototype.get_m_hitNormalWorld=zC.prototype.Wx=function(){return Pz(Us(this.Lx),qC)},zC.prototype.set_m_hitNormalWorld=zC.prototype.cy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vs(e,t)},Object.defineProperty(zC.prototype,"m_hitNormalWorld",{get:zC.prototype.Wx,set:zC.prototype.cy}),zC.prototype.get_m_hitPointWorld=zC.prototype.Xx=function(){return Pz(Ws(this.Lx),qC)},zC.prototype.set_m_hitPointWorld=zC.prototype.dy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Gs(e,t)},Object.defineProperty(zC.prototype,"m_hitPointWorld",{get:zC.prototype.Xx,set:zC.prototype.dy}),zC.prototype.get_m_hitFractions=zC.prototype.Pz=function(){return Pz(Hs(this.Lx),wC)},zC.prototype.set_m_hitFractions=zC.prototype.uC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xs(e,t)},Object.defineProperty(zC.prototype,"m_hitFractions",{get:zC.prototype.Pz,set:zC.prototype.uC}),zC.prototype.get_m_collisionFilterGroup=zC.prototype.Ox=function(){return Ks(this.Lx)},zC.prototype.set_m_collisionFilterGroup=zC.prototype.Qx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ys(e,t)},Object.defineProperty(zC.prototype,"m_collisionFilterGroup",{get:zC.prototype.Ox,set:zC.prototype.Qx}),zC.prototype.get_m_collisionFilterMask=zC.prototype.Px=function(){return Zs(this.Lx)},zC.prototype.set_m_collisionFilterMask=zC.prototype.Rx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Js(e,t)},Object.defineProperty(zC.prototype,"m_collisionFilterMask",{get:zC.prototype.Px,set:zC.prototype.Rx}),zC.prototype.get_m_closestHitFraction=zC.prototype.Sx=function(){return Qs(this.Lx)},zC.prototype.set_m_closestHitFraction=zC.prototype.Tx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ta(e,t)},Object.defineProperty(zC.prototype,"m_closestHitFraction",{get:zC.prototype.Sx,set:zC.prototype.Tx}),zC.prototype.get_m_collisionObject=zC.prototype.Ux=function(){return Pz(ea(this.Lx),Vz)},zC.prototype.set_m_collisionObject=zC.prototype.ay=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),na(e,t)},Object.defineProperty(zC.prototype,"m_collisionObject",{get:zC.prototype.Ux,set:zC.prototype.ay}),zC.prototype.__destroy__=function(){ia(this.Lx)},CC.prototype=Object.create(jz.prototype),CC.prototype.constructor=CC,CC.prototype.Mx=CC,CC.Nx={},e.btManifoldPoint=CC,CC.prototype.getPositionWorldOnA=function(){return Pz(oa(this.Lx),Xz)},CC.prototype.getPositionWorldOnB=function(){return Pz(ra(this.Lx),Xz)},CC.prototype.getAppliedImpulse=function(){return sa(this.Lx)},CC.prototype.getDistance=function(){return aa(this.Lx)},CC.prototype.get_m_localPointA=CC.prototype.eA=function(){return Pz(la(this.Lx),Xz)},CC.prototype.set_m_localPointA=CC.prototype.KC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),pa(e,t)},Object.defineProperty(CC.prototype,"m_localPointA",{get:CC.prototype.eA,set:CC.prototype.KC}),CC.prototype.get_m_localPointB=CC.prototype.fA=function(){return Pz(ua(this.Lx),Xz)},CC.prototype.set_m_localPointB=CC.prototype.LC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ca(e,t)},Object.defineProperty(CC.prototype,"m_localPointB",{get:CC.prototype.fA,set:CC.prototype.LC}),CC.prototype.get_m_positionWorldOnB=CC.prototype.rA=function(){return Pz(_a(this.Lx),Xz)},CC.prototype.set_m_positionWorldOnB=CC.prototype.XC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ha(e,t)},Object.defineProperty(CC.prototype,"m_positionWorldOnB",{get:CC.prototype.rA,set:CC.prototype.XC}),CC.prototype.get_m_positionWorldOnA=CC.prototype.qA=function(){return Pz(da(this.Lx),Xz)},CC.prototype.set_m_positionWorldOnA=CC.prototype.WC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),fa(e,t)},Object.defineProperty(CC.prototype,"m_positionWorldOnA",{get:CC.prototype.qA,set:CC.prototype.WC}),CC.prototype.get_m_normalWorldOnB=CC.prototype.mA=function(){return Pz(ma(this.Lx),Xz)},CC.prototype.set_m_normalWorldOnB=CC.prototype.SC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ya(e,t)},Object.defineProperty(CC.prototype,"m_normalWorldOnB",{get:CC.prototype.mA,set:CC.prototype.SC}),CC.prototype.get_m_userPersistentData=CC.prototype.TA=function(){return $a(this.Lx)},CC.prototype.set_m_userPersistentData=CC.prototype.yD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ba(e,t)},Object.defineProperty(CC.prototype,"m_userPersistentData",{get:CC.prototype.TA,set:CC.prototype.yD}),CC.prototype.__destroy__=function(){ga(this.Lx)},SC.prototype=Object.create(Jz.prototype),SC.prototype.constructor=SC,SC.prototype.Mx=SC,SC.Nx={},e.ConcreteContactResultCallback=SC,SC.prototype.addSingleResult=function(t,e,n,i,o,r,s){var a=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),r&&"object"==typeof r&&(r=r.Lx),s&&"object"==typeof s&&(s=s.Lx),xa(a,t,e,n,i,o,r,s)},SC.prototype.__destroy__=function(){wa(this.Lx)},kC.prototype=Object.create(jz.prototype),kC.prototype.constructor=kC,kC.prototype.Mx=kC,kC.Nx={},e.LocalShapeInfo=kC,kC.prototype.get_m_shapePart=kC.prototype.AA=function(){return za(this.Lx)},kC.prototype.set_m_shapePart=kC.prototype.fD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ca(e,t)},Object.defineProperty(kC.prototype,"m_shapePart",{get:kC.prototype.AA,set:kC.prototype.fD}),kC.prototype.get_m_triangleIndex=kC.prototype.PA=function(){return Sa(this.Lx)},kC.prototype.set_m_triangleIndex=kC.prototype.uD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ka(e,t)},Object.defineProperty(kC.prototype,"m_triangleIndex",{get:kC.prototype.PA,set:kC.prototype.uD}),kC.prototype.__destroy__=function(){La(this.Lx)},LC.prototype=Object.create(jz.prototype),LC.prototype.constructor=LC,LC.prototype.Mx=LC,LC.Nx={},e.LocalConvexResult=LC,LC.prototype.get_m_hitCollisionObject=LC.prototype.ky=function(){return Pz(Na(this.Lx),Vz)},LC.prototype.set_m_hitCollisionObject=LC.prototype.uy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Pa(e,t)},Object.defineProperty(LC.prototype,"m_hitCollisionObject",{get:LC.prototype.ky,set:LC.prototype.uy}),LC.prototype.get_m_localShapeInfo=LC.prototype.gA=function(){return Pz(Ta(this.Lx),kC)},LC.prototype.set_m_localShapeInfo=LC.prototype.MC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Oa(e,t)},Object.defineProperty(LC.prototype,"m_localShapeInfo",{get:LC.prototype.gA,set:LC.prototype.MC}),LC.prototype.get_m_hitNormalLocal=LC.prototype.Rz=function(){return Pz(Ea(this.Lx),Xz)},LC.prototype.set_m_hitNormalLocal=LC.prototype.wC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ma(e,t)},Object.defineProperty(LC.prototype,"m_hitNormalLocal",{get:LC.prototype.Rz,set:LC.prototype.wC}),LC.prototype.get_m_hitPointLocal=LC.prototype.Tz=function(){return Pz(Ra(this.Lx),Xz)},LC.prototype.set_m_hitPointLocal=LC.prototype.yC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ia(e,t)},Object.defineProperty(LC.prototype,"m_hitPointLocal",{get:LC.prototype.Tz,set:LC.prototype.yC}),LC.prototype.get_m_hitFraction=LC.prototype.Oz=function(){return Aa(this.Lx)},LC.prototype.set_m_hitFraction=LC.prototype.tC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Da(e,t)},Object.defineProperty(LC.prototype,"m_hitFraction",{get:LC.prototype.Oz,set:LC.prototype.tC}),LC.prototype.__destroy__=function(){Ba(this.Lx)},jC.prototype=Object.create(Qz.prototype),jC.prototype.constructor=jC,jC.prototype.Mx=jC,jC.Nx={},e.ClosestConvexResultCallback=jC,jC.prototype.hasHit=function(){return!!qa(this.Lx)},jC.prototype.get_m_hitCollisionObject=jC.prototype.ky=function(){return Pz(Ua(this.Lx),Vz)},jC.prototype.set_m_hitCollisionObject=jC.prototype.uy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Va(e,t)},Object.defineProperty(jC.prototype,"m_hitCollisionObject",{get:jC.prototype.ky,set:jC.prototype.uy}),jC.prototype.get_m_convexFromWorld=jC.prototype.xz=function(){return Pz(Wa(this.Lx),Xz)},jC.prototype.set_m_convexFromWorld=jC.prototype.cC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ga(e,t)},Object.defineProperty(jC.prototype,"m_convexFromWorld",{get:jC.prototype.xz,set:jC.prototype.cC}),jC.prototype.get_m_convexToWorld=jC.prototype.yz=function(){return Pz(Ha(this.Lx),Xz)},jC.prototype.set_m_convexToWorld=jC.prototype.dC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xa(e,t)},Object.defineProperty(jC.prototype,"m_convexToWorld",{get:jC.prototype.yz,set:jC.prototype.dC}),jC.prototype.get_m_hitNormalWorld=jC.prototype.Wx=function(){return Pz(Ka(this.Lx),Xz)},jC.prototype.set_m_hitNormalWorld=jC.prototype.cy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ya(e,t)},Object.defineProperty(jC.prototype,"m_hitNormalWorld",{get:jC.prototype.Wx,set:jC.prototype.cy}),jC.prototype.get_m_hitPointWorld=jC.prototype.Xx=function(){return Pz(Za(this.Lx),Xz)},jC.prototype.set_m_hitPointWorld=jC.prototype.dy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ja(e,t)},Object.defineProperty(jC.prototype,"m_hitPointWorld",{get:jC.prototype.Xx,set:jC.prototype.dy}),jC.prototype.get_m_collisionFilterGroup=jC.prototype.Ox=function(){return Qa(this.Lx)},jC.prototype.set_m_collisionFilterGroup=jC.prototype.Qx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),tl(e,t)},Object.defineProperty(jC.prototype,"m_collisionFilterGroup",{get:jC.prototype.Ox,set:jC.prototype.Qx}),jC.prototype.get_m_collisionFilterMask=jC.prototype.Px=function(){return el(this.Lx)},jC.prototype.set_m_collisionFilterMask=jC.prototype.Rx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),nl(e,t)},Object.defineProperty(jC.prototype,"m_collisionFilterMask",{get:jC.prototype.Px,set:jC.prototype.Rx}),jC.prototype.get_m_closestHitFraction=jC.prototype.Sx=function(){return il(this.Lx)},jC.prototype.set_m_closestHitFraction=jC.prototype.Tx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ol(e,t)},Object.defineProperty(jC.prototype,"m_closestHitFraction",{get:jC.prototype.Sx,set:jC.prototype.Tx}),jC.prototype.__destroy__=function(){rl(this.Lx)},NC.prototype=Object.create(tC.prototype),NC.prototype.constructor=NC,NC.prototype.Mx=NC,NC.Nx={},e.btConvexTriangleMeshShape=NC,NC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ll(e,t)},NC.prototype.getLocalScaling=function(){return Pz(pl(this.Lx),Xz)},NC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),ul(n,t,e)},NC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),cl(e,t)},NC.prototype.getMargin=function(){return _l(this.Lx)},NC.prototype.__destroy__=function(){hl(this.Lx)},PC.prototype=Object.create(qz.prototype),PC.prototype.constructor=PC,PC.prototype.Mx=PC,PC.Nx={},e.btBoxShape=PC,PC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),fl(e,t)},PC.prototype.getMargin=function(){return ml(this.Lx)},PC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),yl(e,t)},PC.prototype.getLocalScaling=function(){return Pz($l(this.Lx),Xz)},PC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),bl(n,t,e)},PC.prototype.__destroy__=function(){gl(this.Lx)},TC.prototype=Object.create(eC.prototype),TC.prototype.constructor=TC,TC.prototype.Mx=TC,TC.Nx={},e.btCapsuleShapeX=TC,TC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),xl(e,t)},TC.prototype.getMargin=function(){return wl(this.Lx)},TC.prototype.getUpAxis=function(){return zl(this.Lx)},TC.prototype.getRadius=function(){return Cl(this.Lx)},TC.prototype.getHalfHeight=function(){return Sl(this.Lx)},TC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),kl(e,t)},TC.prototype.getLocalScaling=function(){return Pz(Ll(this.Lx),Xz)},TC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),jl(n,t,e)},TC.prototype.__destroy__=function(){Nl(this.Lx)},OC.prototype=Object.create(eC.prototype),OC.prototype.constructor=OC,OC.prototype.Mx=OC,OC.Nx={},e.btCapsuleShapeZ=OC,OC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Tl(e,t)},OC.prototype.getMargin=function(){return Ol(this.Lx)},OC.prototype.getUpAxis=function(){return El(this.Lx)},OC.prototype.getRadius=function(){return Ml(this.Lx)},OC.prototype.getHalfHeight=function(){return Rl(this.Lx)},OC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Il(e,t)},OC.prototype.getLocalScaling=function(){return Pz(Al(this.Lx),Xz)},OC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Dl(n,t,e)},OC.prototype.__destroy__=function(){Bl(this.Lx)},EC.prototype=Object.create(nC.prototype),EC.prototype.constructor=EC,EC.prototype.Mx=EC,EC.Nx={},e.btCylinderShapeX=EC,EC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ql(e,t)},EC.prototype.getMargin=function(){return Ul(this.Lx)},EC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vl(e,t)},EC.prototype.getLocalScaling=function(){return Pz(Wl(this.Lx),Xz)},EC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Gl(n,t,e)},EC.prototype.__destroy__=function(){Hl(this.Lx)},MC.prototype=Object.create(nC.prototype),MC.prototype.constructor=MC,MC.prototype.Mx=MC,MC.Nx={},e.btCylinderShapeZ=MC,MC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Kl(e,t)},MC.prototype.getMargin=function(){return Yl(this.Lx)},MC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Zl(e,t)},MC.prototype.getLocalScaling=function(){return Pz(Jl(this.Lx),Xz)},MC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Ql(n,t,e)},MC.prototype.__destroy__=function(){tp(this.Lx)},RC.prototype=Object.create(qz.prototype),RC.prototype.constructor=RC,RC.prototype.Mx=RC,RC.Nx={},e.btSphereShape=RC,RC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),np(e,t)},RC.prototype.getMargin=function(){return ip(this.Lx)},RC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),op(e,t)},RC.prototype.getLocalScaling=function(){return Pz(rp(this.Lx),Xz)},RC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),sp(n,t,e)},RC.prototype.__destroy__=function(){ap(this.Lx)},IC.prototype=Object.create(qz.prototype),IC.prototype.constructor=IC,IC.prototype.Mx=IC,IC.Nx={},e.btMultiSphereShape=IC,IC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),pp(e,t)},IC.prototype.getLocalScaling=function(){return Pz(up(this.Lx),Xz)},IC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),cp(n,t,e)},IC.prototype.__destroy__=function(){_p(this.Lx)},AC.prototype=Object.create(iC.prototype),AC.prototype.constructor=AC,AC.prototype.Mx=AC,AC.Nx={},e.btConeShapeX=AC,AC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),dp(e,t)},AC.prototype.getLocalScaling=function(){return Pz(fp(this.Lx),Xz)},AC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),mp(n,t,e)},AC.prototype.__destroy__=function(){yp(this.Lx)},DC.prototype=Object.create(iC.prototype),DC.prototype.constructor=DC,DC.prototype.Mx=DC,DC.Nx={},e.btConeShapeZ=DC,DC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),bp(e,t)},DC.prototype.getLocalScaling=function(){return Pz(gp(this.Lx),Xz)},DC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),vp(n,t,e)},DC.prototype.__destroy__=function(){xp(this.Lx)},BC.prototype=Object.create(jz.prototype),BC.prototype.constructor=BC,BC.prototype.Mx=BC,BC.Nx={},e.btIntArray=BC,BC.prototype.size=BC.prototype.size=function(){return wp(this.Lx)},BC.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),zp(e,t)},BC.prototype.__destroy__=function(){Cp(this.Lx)},FC.prototype=Object.create(jz.prototype),FC.prototype.constructor=FC,FC.prototype.Mx=FC,FC.Nx={},e.btFace=FC,FC.prototype.get_m_indices=FC.prototype.Wz=function(){return Pz(Sp(this.Lx),BC)},FC.prototype.set_m_indices=FC.prototype.BC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),kp(e,t)},Object.defineProperty(FC.prototype,"m_indices",{get:FC.prototype.Wz,set:FC.prototype.BC}),FC.prototype.get_m_plane=FC.prototype.pA=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Lp(e,t)},FC.prototype.set_m_plane=FC.prototype.VC=function(t,e){var n=this.Lx;Iz(),t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),jp(n,t,e)},Object.defineProperty(FC.prototype,"m_plane",{get:FC.prototype.pA,set:FC.prototype.VC}),FC.prototype.__destroy__=function(){Np(this.Lx)},qC.prototype=Object.create(jz.prototype),qC.prototype.constructor=qC,qC.prototype.Mx=qC,qC.Nx={},e.btVector3Array=qC,qC.prototype.size=qC.prototype.size=function(){return Pp(this.Lx)},qC.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Tp(e,t),Xz)},qC.prototype.__destroy__=function(){Op(this.Lx)},UC.prototype=Object.create(jz.prototype),UC.prototype.constructor=UC,UC.prototype.Mx=UC,UC.Nx={},e.btFaceArray=UC,UC.prototype.size=UC.prototype.size=function(){return Ep(this.Lx)},UC.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Mp(e,t),FC)},UC.prototype.__destroy__=function(){Rp(this.Lx)},VC.prototype=Object.create(jz.prototype),VC.prototype.constructor=VC,VC.prototype.Mx=VC,VC.Nx={},e.btConvexPolyhedron=VC,VC.prototype.get_m_vertices=VC.prototype.VA=function(){return Pz(Ip(this.Lx),qC)},VC.prototype.set_m_vertices=VC.prototype.AD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ap(e,t)},Object.defineProperty(VC.prototype,"m_vertices",{get:VC.prototype.VA,set:VC.prototype.AD}),VC.prototype.get_m_faces=VC.prototype.jy=function(){return Pz(Dp(this.Lx),UC)},VC.prototype.set_m_faces=VC.prototype.ty=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Bp(e,t)},Object.defineProperty(VC.prototype,"m_faces",{get:VC.prototype.jy,set:VC.prototype.ty}),VC.prototype.__destroy__=function(){Fp(this.Lx)},WC.prototype=Object.create(qz.prototype),WC.prototype.constructor=WC,WC.prototype.Mx=WC,WC.Nx={},e.btConvexHullShape=WC,WC.prototype.addPoint=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),void 0===e?Wp(n,t):Gp(n,t,e)},WC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Hp(e,t)},WC.prototype.getMargin=function(){return Xp(this.Lx)},WC.prototype.getNumVertices=function(){return Kp(this.Lx)},WC.prototype.initializePolyhedralFeatures=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),!!Yp(e,t)},WC.prototype.recalcLocalAabb=function(){Zp(this.Lx)},WC.prototype.getConvexPolyhedron=function(){return Pz(Jp(this.Lx),VC)},WC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Qp(e,t)},WC.prototype.getLocalScaling=function(){return Pz(tu(this.Lx),Xz)},WC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),eu(n,t,e)},WC.prototype.__destroy__=function(){nu(this.Lx)},GC.prototype=Object.create(jz.prototype),GC.prototype.constructor=GC,GC.prototype.Mx=GC,GC.Nx={},e.btShapeHull=GC,GC.prototype.buildHull=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),!!ou(e,t)},GC.prototype.numIndices=function(){return ru(this.Lx)},GC.prototype.numVertices=function(){return su(this.Lx)},GC.prototype.getVertexPointer=function(){return Pz(au(this.Lx),Xz)},GC.prototype.getIndexAt=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),lu(e,t)},GC.prototype.getVertexAt=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(pu(e,t),Xz)},GC.prototype.__destroy__=function(){uu(this.Lx)},HC.prototype=Object.create(qz.prototype),HC.prototype.constructor=HC,HC.prototype.Mx=HC,HC.Nx={},e.btCompoundShape=HC,HC.prototype.addChildShape=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),hu(n,t,e)},HC.prototype.removeChildShape=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),du(e,t)},HC.prototype.removeChildShapeByIndex=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),fu(e,t)},HC.prototype.getNumChildShapes=function(){return mu(this.Lx)},HC.prototype.getChildShape=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(yu(e,t),qz)},HC.prototype.updateChildTransform=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===n?$u(i,t,e):bu(i,t,e,n)},HC.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),gu(e,t)},HC.prototype.getMargin=function(){return vu(this.Lx)},HC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),xu(e,t)},HC.prototype.getLocalScaling=function(){return Pz(wu(this.Lx),Xz)},HC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),zu(n,t,e)},HC.prototype.__destroy__=function(){Cu(this.Lx)},XC.prototype=Object.create(jz.prototype),XC.prototype.constructor=XC,XC.prototype.Mx=XC,XC.Nx={},e.btIndexedMesh=XC,XC.prototype.get_m_numTriangles=XC.prototype.oA=function(){return Su(this.Lx)},XC.prototype.set_m_numTriangles=XC.prototype.UC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ku(e,t)},Object.defineProperty(XC.prototype,"m_numTriangles",{get:XC.prototype.oA,set:XC.prototype.UC}),XC.prototype.__destroy__=function(){Lu(this.Lx)},KC.prototype=Object.create(jz.prototype),KC.prototype.constructor=KC,KC.prototype.Mx=KC,KC.Nx={},e.btIndexedMeshArray=KC,KC.prototype.size=KC.prototype.size=function(){return ju(this.Lx)},KC.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Nu(e,t),XC)},KC.prototype.__destroy__=function(){Pu(this.Lx)},YC.prototype=Object.create(oC.prototype),YC.prototype.constructor=YC,YC.prototype.Mx=YC,YC.Nx={},e.btTriangleMesh=YC,YC.prototype.addTriangle=function(t,e,n,i){var o=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),void 0===i?Mu(o,t,e,n):Ru(o,t,e,n,i)},YC.prototype.findOrAddVertex=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Iu(n,t,e)},YC.prototype.addIndex=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Au(e,t)},YC.prototype.getIndexedMeshArray=function(){return Pz(Du(this.Lx),KC)},YC.prototype.setScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Bu(e,t)},YC.prototype.__destroy__=function(){Fu(this.Lx)},ZC.prototype=Object.create(oC.prototype),ZC.prototype.constructor=ZC,ZC.prototype.Mx=ZC,ZC.Nx={},e.btTriangleIndexVertexArray=ZC,ZC.prototype.setScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Uu(e,t)},ZC.prototype.__destroy__=function(){Vu(this.Lx)},JC.prototype=Object.create(Wz.prototype),JC.prototype.constructor=JC,JC.prototype.Mx=JC,JC.Nx={},e.btEmptyShape=JC,JC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Gu(e,t)},JC.prototype.getLocalScaling=function(){return Pz(Hu(this.Lx),Xz)},JC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Xu(n,t,e)},JC.prototype.__destroy__=function(){Ku(this.Lx)},QC.prototype=Object.create(Wz.prototype),QC.prototype.constructor=QC,QC.prototype.Mx=QC,QC.Nx={},e.btStaticPlaneShape=QC,QC.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Zu(e,t)},QC.prototype.getLocalScaling=function(){return Pz(Ju(this.Lx),Xz)},QC.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Qu(n,t,e)},QC.prototype.__destroy__=function(){tc(this.Lx)},tS.prototype=Object.create(rC.prototype),tS.prototype.constructor=tS,tS.prototype.Mx=tS,tS.Nx={},e.btBvhTriangleMeshShape=tS,tS.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ic(e,t)},tS.prototype.getLocalScaling=function(){return Pz(oc(this.Lx),Xz)},tS.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),rc(n,t,e)},tS.prototype.__destroy__=function(){sc(this.Lx)},eS.prototype=Object.create(Wz.prototype),eS.prototype.constructor=eS,eS.prototype.Mx=eS,eS.Nx={},e.btHeightfieldTerrainShape=eS,eS.prototype.setMargin=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),lc(e,t)},eS.prototype.getMargin=function(){return pc(this.Lx)},eS.prototype.setLocalScaling=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),uc(e,t)},eS.prototype.getLocalScaling=function(){return Pz(cc(this.Lx),Xz)},eS.prototype.calculateLocalInertia=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),_c(n,t,e)},eS.prototype.__destroy__=function(){hc(this.Lx)},nS.prototype=Object.create(jz.prototype),nS.prototype.constructor=nS,nS.prototype.Mx=nS,nS.Nx={},e.btDefaultCollisionConstructionInfo=nS,nS.prototype.__destroy__=function(){fc(this.Lx)},iS.prototype=Object.create(jz.prototype),iS.prototype.constructor=iS,iS.prototype.Mx=iS,iS.Nx={},e.btPersistentManifold=iS,iS.prototype.getBody0=function(){return Pz(yc(this.Lx),Vz)},iS.prototype.getBody1=function(){return Pz($c(this.Lx),Vz)},iS.prototype.getNumContacts=function(){return bc(this.Lx)},iS.prototype.getContactPoint=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(gc(e,t),CC)},iS.prototype.__destroy__=function(){vc(this.Lx)},oS.prototype=Object.create(aC.prototype),oS.prototype.constructor=oS,oS.prototype.Mx=oS,oS.Nx={},e.btCollisionDispatcher=oS,oS.prototype.getNumManifolds=function(){return wc(this.Lx)},oS.prototype.getManifoldByIndexInternal=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(zc(e,t),iS)},oS.prototype.__destroy__=function(){Cc(this.Lx)},rS.prototype=Object.create(jz.prototype),rS.prototype.constructor=rS,rS.prototype.Mx=rS,rS.Nx={},e.btOverlappingPairCallback=rS,rS.prototype.__destroy__=function(){Sc(this.Lx)},sS.prototype=Object.create(jz.prototype),sS.prototype.constructor=sS,sS.prototype.Mx=sS,sS.Nx={},e.btOverlappingPairCache=sS,sS.prototype.setInternalGhostPairCallback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),kc(e,t)},sS.prototype.getNumOverlappingPairs=function(){return Lc(this.Lx)},sS.prototype.__destroy__=function(){jc(this.Lx)},aS.prototype=Object.create(jz.prototype),aS.prototype.constructor=aS,aS.prototype.Mx=aS,aS.Nx={},e.btAxisSweep3=aS,aS.prototype.__destroy__=function(){Ec(this.Lx)},lS.prototype=Object.create(jz.prototype),lS.prototype.constructor=lS,lS.prototype.Mx=lS,lS.Nx={},e.btBroadphaseInterface=lS,lS.prototype.getOverlappingPairCache=function(){return Pz(Mc(this.Lx),sS)},lS.prototype.__destroy__=function(){Rc(this.Lx)},pS.prototype=Object.create(jz.prototype),pS.prototype.constructor=pS,pS.prototype.Mx=pS,pS.Nx={},e.btCollisionConfiguration=pS,pS.prototype.__destroy__=function(){Ic(this.Lx)},uS.prototype=Object.create(jz.prototype),uS.prototype.constructor=uS,uS.prototype.Mx=uS,uS.Nx={},e.btDbvtBroadphase=uS,uS.prototype.__destroy__=function(){Dc(this.Lx)},cS.prototype=Object.create(jz.prototype),cS.prototype.constructor=cS,cS.prototype.Mx=cS,cS.Nx={},e.btBroadphaseProxy=cS,cS.prototype.get_m_collisionFilterGroup=cS.prototype.Ox=function(){return Bc(this.Lx)},cS.prototype.set_m_collisionFilterGroup=cS.prototype.Qx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Fc(e,t)},Object.defineProperty(cS.prototype,"m_collisionFilterGroup",{get:cS.prototype.Ox,set:cS.prototype.Qx}),cS.prototype.get_m_collisionFilterMask=cS.prototype.Px=function(){return qc(this.Lx)},cS.prototype.set_m_collisionFilterMask=cS.prototype.Rx=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Uc(e,t)},Object.defineProperty(cS.prototype,"m_collisionFilterMask",{get:cS.prototype.Px,set:cS.prototype.Rx}),cS.prototype.__destroy__=function(){Vc(this.Lx)},_S.prototype=Object.create(jz.prototype),_S.prototype.constructor=_S,_S.prototype.Mx=_S,_S.Nx={},e.btRigidBodyConstructionInfo=_S,_S.prototype.get_m_linearDamping=_S.prototype.bA=function(){return Hc(this.Lx)},_S.prototype.set_m_linearDamping=_S.prototype.HC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xc(e,t)},Object.defineProperty(_S.prototype,"m_linearDamping",{get:_S.prototype.bA,set:_S.prototype.HC}),_S.prototype.get_m_angularDamping=_S.prototype.fz=function(){return Kc(this.Lx)},_S.prototype.set_m_angularDamping=_S.prototype.MB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Yc(e,t)},Object.defineProperty(_S.prototype,"m_angularDamping",{get:_S.prototype.fz,set:_S.prototype.MB}),_S.prototype.get_m_friction=_S.prototype.Jz=function(){return Zc(this.Lx)},_S.prototype.set_m_friction=_S.prototype.oC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Jc(e,t)},Object.defineProperty(_S.prototype,"m_friction",{get:_S.prototype.Jz,set:_S.prototype.oC}),_S.prototype.get_m_rollingFriction=_S.prototype.xA=function(){return Qc(this.Lx)},_S.prototype.set_m_rollingFriction=_S.prototype.cD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),t_(e,t)},Object.defineProperty(_S.prototype,"m_rollingFriction",{get:_S.prototype.xA,set:_S.prototype.cD}),_S.prototype.get_m_restitution=_S.prototype.vA=function(){return e_(this.Lx)},_S.prototype.set_m_restitution=_S.prototype.aD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),n_(e,t)},Object.defineProperty(_S.prototype,"m_restitution",{get:_S.prototype.vA,set:_S.prototype.aD}),_S.prototype.get_m_linearSleepingThreshold=_S.prototype.cA=function(){return i_(this.Lx)},_S.prototype.set_m_linearSleepingThreshold=_S.prototype.IC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),o_(e,t)},Object.defineProperty(_S.prototype,"m_linearSleepingThreshold",{get:_S.prototype.cA,set:_S.prototype.IC}),_S.prototype.get_m_angularSleepingThreshold=_S.prototype.gz=function(){return r_(this.Lx)},_S.prototype.set_m_angularSleepingThreshold=_S.prototype.NB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),s_(e,t)},Object.defineProperty(_S.prototype,"m_angularSleepingThreshold",{get:_S.prototype.gz,set:_S.prototype.NB}),_S.prototype.get_m_additionalDamping=_S.prototype.az=function(){return!!a_(this.Lx)},_S.prototype.set_m_additionalDamping=_S.prototype.HB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),l_(e,t)},Object.defineProperty(_S.prototype,"m_additionalDamping",{get:_S.prototype.az,set:_S.prototype.HB}),_S.prototype.get_m_additionalDampingFactor=_S.prototype.bz=function(){return p_(this.Lx)},_S.prototype.set_m_additionalDampingFactor=_S.prototype.IB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),u_(e,t)},Object.defineProperty(_S.prototype,"m_additionalDampingFactor",{get:_S.prototype.bz,set:_S.prototype.IB}),_S.prototype.get_m_additionalLinearDampingThresholdSqr=_S.prototype.cz=function(){return c_(this.Lx)},_S.prototype.set_m_additionalLinearDampingThresholdSqr=_S.prototype.JB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),__(e,t)},Object.defineProperty(_S.prototype,"m_additionalLinearDampingThresholdSqr",{get:_S.prototype.cz,set:_S.prototype.JB}),_S.prototype.get_m_additionalAngularDampingThresholdSqr=_S.prototype.$y=function(){return h_(this.Lx)},_S.prototype.set_m_additionalAngularDampingThresholdSqr=_S.prototype.GB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),d_(e,t)},Object.defineProperty(_S.prototype,"m_additionalAngularDampingThresholdSqr",{get:_S.prototype.$y,set:_S.prototype.GB}),_S.prototype.get_m_additionalAngularDampingFactor=_S.prototype.Zy=function(){return f_(this.Lx)},_S.prototype.set_m_additionalAngularDampingFactor=_S.prototype.FB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),m_(e,t)},Object.defineProperty(_S.prototype,"m_additionalAngularDampingFactor",{get:_S.prototype.Zy,set:_S.prototype.FB}),_S.prototype.__destroy__=function(){y_(this.Lx)},hS.prototype=Object.create(Vz.prototype),hS.prototype.constructor=hS,hS.prototype.Mx=hS,hS.Nx={},e.btRigidBody=hS,hS.prototype.getCenterOfMassTransform=function(){return Pz(b_(this.Lx),$C)},hS.prototype.setCenterOfMassTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),g_(e,t)},hS.prototype.setSleepingThresholds=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),v_(n,t,e)},hS.prototype.getLinearDamping=function(){return x_(this.Lx)},hS.prototype.getAngularDamping=function(){return w_(this.Lx)},hS.prototype.setDamping=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),z_(n,t,e)},hS.prototype.setMassProps=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),C_(n,t,e)},hS.prototype.getLinearFactor=function(){return Pz(S_(this.Lx),Xz)},hS.prototype.setLinearFactor=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),k_(e,t)},hS.prototype.applyTorque=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),L_(e,t)},hS.prototype.applyLocalTorque=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),j_(e,t)},hS.prototype.applyForce=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),N_(n,t,e)},hS.prototype.applyCentralForce=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),P_(e,t)},hS.prototype.applyCentralLocalForce=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),T_(e,t)},hS.prototype.applyTorqueImpulse=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),O_(e,t)},hS.prototype.applyImpulse=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),E_(n,t,e)},hS.prototype.applyCentralImpulse=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),M_(e,t)},hS.prototype.updateInertiaTensor=function(){R_(this.Lx)},hS.prototype.getLinearVelocity=function(){return Pz(I_(this.Lx),Xz)},hS.prototype.getAngularVelocity=function(){return Pz(A_(this.Lx),Xz)},hS.prototype.setLinearVelocity=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),D_(e,t)},hS.prototype.setAngularVelocity=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),B_(e,t)},hS.prototype.getMotionState=function(){return Pz(F_(this.Lx),Yz)},hS.prototype.setMotionState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),q_(e,t)},hS.prototype.getAngularFactor=function(){return Pz(U_(this.Lx),Xz)},hS.prototype.setAngularFactor=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),V_(e,t)},hS.prototype.upcast=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(W_(e,t),hS)},hS.prototype.getAabb=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),G_(n,t,e)},hS.prototype.applyGravity=function(){H_(this.Lx)},hS.prototype.getGravity=function(){return Pz(X_(this.Lx),Xz)},hS.prototype.setGravity=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),K_(e,t)},hS.prototype.getBroadphaseProxy=function(){return Pz(Y_(this.Lx),cS)},hS.prototype.clearForces=function(){Z_(this.Lx)},hS.prototype.setAnisotropicFriction=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),J_(n,t,e)},hS.prototype.getCollisionShape=function(){return Pz(Q_(this.Lx),qz)},hS.prototype.setContactProcessingThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),th(e,t)},hS.prototype.setActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),eh(e,t)},hS.prototype.forceActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),nh(e,t)},hS.prototype.activate=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),void 0===t?ih(e):oh(e,t)},hS.prototype.isActive=function(){return!!rh(this.Lx)},hS.prototype.isKinematicObject=function(){return!!sh(this.Lx)},hS.prototype.isStaticObject=function(){return!!ah(this.Lx)},hS.prototype.isStaticOrKinematicObject=function(){return!!lh(this.Lx)},hS.prototype.getRestitution=function(){return ph(this.Lx)},hS.prototype.getFriction=function(){return uh(this.Lx)},hS.prototype.getRollingFriction=function(){return ch(this.Lx)},hS.prototype.setRestitution=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),_h(e,t)},hS.prototype.setFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),hh(e,t)},hS.prototype.setRollingFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),dh(e,t)},hS.prototype.getWorldTransform=function(){return Pz(fh(this.Lx),$C)},hS.prototype.getCollisionFlags=function(){return mh(this.Lx)},hS.prototype.setCollisionFlags=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),yh(e,t)},hS.prototype.setWorldTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),$h(e,t)},hS.prototype.setCollisionShape=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),bh(e,t)},hS.prototype.setCcdMotionThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),gh(e,t)},hS.prototype.setCcdSweptSphereRadius=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),vh(e,t)},hS.prototype.getUserIndex=function(){return xh(this.Lx)},hS.prototype.setUserIndex=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),wh(e,t)},hS.prototype.getUserPointer=function(){return Pz(zh(this.Lx),dC)},hS.prototype.setUserPointer=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ch(e,t)},hS.prototype.getBroadphaseHandle=function(){return Pz(Sh(this.Lx),cS)},hS.prototype.__destroy__=function(){kh(this.Lx)},dS.prototype=Object.create(jz.prototype),dS.prototype.constructor=dS,dS.prototype.Mx=dS,dS.Nx={},e.btConstraintSetting=dS,dS.prototype.get_m_tau=dS.prototype.MA=function(){return jh(this.Lx)},dS.prototype.set_m_tau=dS.prototype.rD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Nh(e,t)},Object.defineProperty(dS.prototype,"m_tau",{get:dS.prototype.MA,set:dS.prototype.rD}),dS.prototype.get_m_damping=dS.prototype.zz=function(){return Ph(this.Lx)},dS.prototype.set_m_damping=dS.prototype.eC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Th(e,t)},Object.defineProperty(dS.prototype,"m_damping",{get:dS.prototype.zz,set:dS.prototype.eC}),dS.prototype.get_m_impulseClamp=dS.prototype.Vz=function(){return Oh(this.Lx)},dS.prototype.set_m_impulseClamp=dS.prototype.AC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Eh(e,t)},Object.defineProperty(dS.prototype,"m_impulseClamp",{get:dS.prototype.Vz,set:dS.prototype.AC}),dS.prototype.__destroy__=function(){Mh(this.Lx)},fS.prototype=Object.create(Gz.prototype),fS.prototype.constructor=fS,fS.prototype.Mx=fS,fS.Nx={},e.btPoint2PointConstraint=fS,fS.prototype.setPivotA=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ah(e,t)},fS.prototype.setPivotB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Dh(e,t)},fS.prototype.getPivotInA=function(){return Pz(Bh(this.Lx),Xz)},fS.prototype.getPivotInB=function(){return Pz(Fh(this.Lx),Xz)},fS.prototype.enableFeedback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),qh(e,t)},fS.prototype.getBreakingImpulseThreshold=function(){return Uh(this.Lx)},fS.prototype.setBreakingImpulseThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vh(e,t)},fS.prototype.getParam=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Wh(n,t,e)},fS.prototype.setParam=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Gh(i,t,e,n)},fS.prototype.get_m_setting=fS.prototype.zA=function(){return Pz(Hh(this.Lx),dS)},fS.prototype.set_m_setting=fS.prototype.eD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xh(e,t)},Object.defineProperty(fS.prototype,"m_setting",{get:fS.prototype.zA,set:fS.prototype.eD}),fS.prototype.__destroy__=function(){Kh(this.Lx)},mS.prototype=Object.create(lC.prototype),mS.prototype.constructor=mS,mS.prototype.Mx=mS,mS.Nx={},e.btGeneric6DofSpringConstraint=mS,mS.prototype.enableSpring=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Jh(n,t,e)},mS.prototype.setStiffness=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Qh(n,t,e)},mS.prototype.setDamping=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),td(n,t,e)},mS.prototype.setEquilibriumPoint=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),void 0===t?ed(n):void 0===e?nd(n,t):id(n,t,e)},mS.prototype.setLinearLowerLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),od(e,t)},mS.prototype.setLinearUpperLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),rd(e,t)},mS.prototype.setAngularLowerLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),sd(e,t)},mS.prototype.setAngularUpperLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ad(e,t)},mS.prototype.getFrameOffsetA=function(){return Pz(ld(this.Lx),$C)},mS.prototype.enableFeedback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),pd(e,t)},mS.prototype.getBreakingImpulseThreshold=function(){return ud(this.Lx)},mS.prototype.setBreakingImpulseThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),cd(e,t)},mS.prototype.getParam=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),_d(n,t,e)},mS.prototype.setParam=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),hd(i,t,e,n)},mS.prototype.__destroy__=function(){dd(this.Lx)},yS.prototype=Object.create(jz.prototype),yS.prototype.constructor=yS,yS.prototype.Mx=yS,yS.Nx={},e.btSequentialImpulseConstraintSolver=yS,yS.prototype.__destroy__=function(){md(this.Lx)},$S.prototype=Object.create(Gz.prototype),$S.prototype.constructor=$S,$S.prototype.Mx=$S,$S.Nx={},e.btConeTwistConstraint=$S,$S.prototype.setLimit=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),bd(n,t,e)},$S.prototype.setAngularOnly=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),gd(e,t)},$S.prototype.setDamping=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),vd(e,t)},$S.prototype.enableMotor=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),xd(e,t)},$S.prototype.setMaxMotorImpulse=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),wd(e,t)},$S.prototype.setMaxMotorImpulseNormalized=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),zd(e,t)},$S.prototype.setMotorTarget=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Cd(e,t)},$S.prototype.setMotorTargetInConstraintSpace=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Sd(e,t)},$S.prototype.enableFeedback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),kd(e,t)},$S.prototype.getBreakingImpulseThreshold=function(){return Ld(this.Lx)},$S.prototype.setBreakingImpulseThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),jd(e,t)},$S.prototype.getParam=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Nd(n,t,e)},$S.prototype.setParam=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Pd(i,t,e,n)},$S.prototype.__destroy__=function(){Td(this.Lx)},bS.prototype=Object.create(Gz.prototype),bS.prototype.constructor=bS,bS.prototype.Mx=bS,bS.Nx={},e.btHingeConstraint=bS,bS.prototype.setLimit=function(t,e,n,i,o){var r=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),void 0===o?Dd(r,t,e,n,i):Bd(r,t,e,n,i,o)},bS.prototype.enableAngularMotor=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Fd(i,t,e,n)},bS.prototype.setAngularOnly=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),qd(e,t)},bS.prototype.enableMotor=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ud(e,t)},bS.prototype.setMaxMotorImpulse=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vd(e,t)},bS.prototype.setMotorTarget=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Wd(n,t,e)},bS.prototype.enableFeedback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Gd(e,t)},bS.prototype.getBreakingImpulseThreshold=function(){return Hd(this.Lx)},bS.prototype.setBreakingImpulseThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xd(e,t)},bS.prototype.getParam=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Kd(n,t,e)},bS.prototype.setParam=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Yd(i,t,e,n)},bS.prototype.__destroy__=function(){Zd(this.Lx)},gS.prototype=Object.create(Gz.prototype),gS.prototype.constructor=gS,gS.prototype.Mx=gS,gS.Nx={},e.btSliderConstraint=gS,gS.prototype.setLowerLinLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),tf(e,t)},gS.prototype.setUpperLinLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ef(e,t)},gS.prototype.setLowerAngLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),nf(e,t)},gS.prototype.setUpperAngLimit=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),of(e,t)},gS.prototype.enableFeedback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),rf(e,t)},gS.prototype.getBreakingImpulseThreshold=function(){return sf(this.Lx)},gS.prototype.setBreakingImpulseThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),af(e,t)},gS.prototype.getParam=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),lf(n,t,e)},gS.prototype.setParam=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),pf(i,t,e,n)},gS.prototype.__destroy__=function(){uf(this.Lx)},vS.prototype=Object.create(Gz.prototype),vS.prototype.constructor=vS,vS.prototype.Mx=vS,vS.Nx={},e.btFixedConstraint=vS,vS.prototype.enableFeedback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),_f(e,t)},vS.prototype.getBreakingImpulseThreshold=function(){return hf(this.Lx)},vS.prototype.setBreakingImpulseThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),df(e,t)},vS.prototype.getParam=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),ff(n,t,e)},vS.prototype.setParam=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),mf(i,t,e,n)},vS.prototype.__destroy__=function(){yf(this.Lx)},xS.prototype=Object.create(jz.prototype),xS.prototype.constructor=xS,xS.prototype.Mx=xS,xS.Nx={},e.btConstraintSolver=xS,xS.prototype.__destroy__=function(){$f(this.Lx)},wS.prototype=Object.create(jz.prototype),wS.prototype.constructor=wS,wS.prototype.Mx=wS,wS.Nx={},e.btDispatcherInfo=wS,wS.prototype.get_m_timeStep=wS.prototype.OA=function(){return bf(this.Lx)},wS.prototype.set_m_timeStep=wS.prototype.tD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),gf(e,t)},Object.defineProperty(wS.prototype,"m_timeStep",{get:wS.prototype.OA,set:wS.prototype.tD}),wS.prototype.get_m_stepCount=wS.prototype.FA=function(){return vf(this.Lx)},wS.prototype.set_m_stepCount=wS.prototype.kD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),xf(e,t)},Object.defineProperty(wS.prototype,"m_stepCount",{get:wS.prototype.FA,set:wS.prototype.kD}),wS.prototype.get_m_dispatchFunc=wS.prototype.Bz=function(){return wf(this.Lx)},wS.prototype.set_m_dispatchFunc=wS.prototype.gC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),zf(e,t)},Object.defineProperty(wS.prototype,"m_dispatchFunc",{get:wS.prototype.Bz,set:wS.prototype.gC}),wS.prototype.get_m_timeOfImpact=wS.prototype.NA=function(){return Cf(this.Lx)},wS.prototype.set_m_timeOfImpact=wS.prototype.sD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Sf(e,t)},Object.defineProperty(wS.prototype,"m_timeOfImpact",{get:wS.prototype.NA,set:wS.prototype.sD}),wS.prototype.get_m_useContinuous=wS.prototype.QA=function(){return!!kf(this.Lx)},wS.prototype.set_m_useContinuous=wS.prototype.vD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Lf(e,t)},Object.defineProperty(wS.prototype,"m_useContinuous",{get:wS.prototype.QA,set:wS.prototype.vD}),wS.prototype.get_m_enableSatConvex=wS.prototype.Fz=function(){return!!jf(this.Lx)},wS.prototype.set_m_enableSatConvex=wS.prototype.kC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Nf(e,t)},Object.defineProperty(wS.prototype,"m_enableSatConvex",{get:wS.prototype.Fz,set:wS.prototype.kC}),wS.prototype.get_m_enableSPU=wS.prototype.Ez=function(){return!!Pf(this.Lx)},wS.prototype.set_m_enableSPU=wS.prototype.jC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Tf(e,t)},Object.defineProperty(wS.prototype,"m_enableSPU",{get:wS.prototype.Ez,set:wS.prototype.jC}),wS.prototype.get_m_useEpa=wS.prototype.SA=function(){return!!Of(this.Lx)},wS.prototype.set_m_useEpa=wS.prototype.xD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ef(e,t)},Object.defineProperty(wS.prototype,"m_useEpa",{get:wS.prototype.SA,set:wS.prototype.xD}),wS.prototype.get_m_allowedCcdPenetration=wS.prototype.dz=function(){return Mf(this.Lx)},wS.prototype.set_m_allowedCcdPenetration=wS.prototype.KB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Rf(e,t)},Object.defineProperty(wS.prototype,"m_allowedCcdPenetration",{get:wS.prototype.dz,set:wS.prototype.KB}),wS.prototype.get_m_useConvexConservativeDistanceUtil=wS.prototype.RA=function(){return!!If(this.Lx)},wS.prototype.set_m_useConvexConservativeDistanceUtil=wS.prototype.wD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Af(e,t)},Object.defineProperty(wS.prototype,"m_useConvexConservativeDistanceUtil",{get:wS.prototype.RA,set:wS.prototype.wD}),wS.prototype.get_m_convexConservativeDistanceThreshold=wS.prototype.wz=function(){return Df(this.Lx)},wS.prototype.set_m_convexConservativeDistanceThreshold=wS.prototype.bC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Bf(e,t)},Object.defineProperty(wS.prototype,"m_convexConservativeDistanceThreshold",{get:wS.prototype.wz,set:wS.prototype.bC}),wS.prototype.__destroy__=function(){Ff(this.Lx)},zS.prototype=Object.create(jz.prototype),zS.prototype.constructor=zS,zS.prototype.Mx=zS,zS.Nx={},e.btContactSolverInfo=zS,zS.prototype.get_m_splitImpulse=zS.prototype.CA=function(){return!!qf(this.Lx)},zS.prototype.set_m_splitImpulse=zS.prototype.hD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Uf(e,t)},Object.defineProperty(zS.prototype,"m_splitImpulse",{get:zS.prototype.CA,set:zS.prototype.hD}),zS.prototype.get_m_splitImpulsePenetrationThreshold=zS.prototype.DA=function(){return Vf(this.Lx)},zS.prototype.set_m_splitImpulsePenetrationThreshold=zS.prototype.iD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Wf(e,t)},Object.defineProperty(zS.prototype,"m_splitImpulsePenetrationThreshold",{get:zS.prototype.DA,set:zS.prototype.iD}),zS.prototype.get_m_numIterations=zS.prototype.nA=function(){return Gf(this.Lx)},zS.prototype.set_m_numIterations=zS.prototype.TC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Hf(e,t)},Object.defineProperty(zS.prototype,"m_numIterations",{get:zS.prototype.nA,set:zS.prototype.TC}),zS.prototype.__destroy__=function(){Xf(this.Lx)},CS.prototype=Object.create(jz.prototype),CS.prototype.constructor=CS,CS.prototype.Mx=CS,CS.Nx={},e.btVehicleTuning=CS,CS.prototype.get_m_suspensionStiffness=CS.prototype.$x=function(){return Yf(this.Lx)},CS.prototype.set_m_suspensionStiffness=CS.prototype.gy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Zf(e,t)},Object.defineProperty(CS.prototype,"m_suspensionStiffness",{get:CS.prototype.$x,set:CS.prototype.gy}),CS.prototype.get_m_suspensionCompression=CS.prototype.GA=function(){return Jf(this.Lx)},CS.prototype.set_m_suspensionCompression=CS.prototype.lD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Qf(e,t)},Object.defineProperty(CS.prototype,"m_suspensionCompression",{get:CS.prototype.GA,set:CS.prototype.lD}),CS.prototype.get_m_suspensionDamping=CS.prototype.HA=function(){return tm(this.Lx)},CS.prototype.set_m_suspensionDamping=CS.prototype.mD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),em(e,t)},Object.defineProperty(CS.prototype,"m_suspensionDamping",{get:CS.prototype.HA,set:CS.prototype.mD}),CS.prototype.get_m_maxSuspensionTravelCm=CS.prototype.Zx=function(){return nm(this.Lx)},CS.prototype.set_m_maxSuspensionTravelCm=CS.prototype.fy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),im(e,t)},Object.defineProperty(CS.prototype,"m_maxSuspensionTravelCm",{get:CS.prototype.Zx,set:CS.prototype.fy}),CS.prototype.get_m_frictionSlip=CS.prototype.Vx=function(){return om(this.Lx)},CS.prototype.set_m_frictionSlip=CS.prototype.by=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),rm(e,t)},Object.defineProperty(CS.prototype,"m_frictionSlip",{get:CS.prototype.Vx,set:CS.prototype.by}),CS.prototype.get_m_maxSuspensionForce=CS.prototype.Yx=function(){return sm(this.Lx)},CS.prototype.set_m_maxSuspensionForce=CS.prototype.ey=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),am(e,t)},Object.defineProperty(CS.prototype,"m_maxSuspensionForce",{get:CS.prototype.Yx,set:CS.prototype.ey}),SS.prototype=Object.create(jz.prototype),SS.prototype.constructor=SS,SS.prototype.Mx=SS,SS.Nx={},e.btVehicleRaycasterResult=SS,SS.prototype.get_m_hitPointInWorld=SS.prototype.Sz=function(){return Pz(lm(this.Lx),Xz)},SS.prototype.set_m_hitPointInWorld=SS.prototype.xC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),pm(e,t)},Object.defineProperty(SS.prototype,"m_hitPointInWorld",{get:SS.prototype.Sz,set:SS.prototype.xC}),SS.prototype.get_m_hitNormalInWorld=SS.prototype.Qz=function(){return Pz(um(this.Lx),Xz)},SS.prototype.set_m_hitNormalInWorld=SS.prototype.vC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),cm(e,t)},Object.defineProperty(SS.prototype,"m_hitNormalInWorld",{get:SS.prototype.Qz,set:SS.prototype.vC}),SS.prototype.get_m_distFraction=SS.prototype.Dz=function(){return _m(this.Lx)},SS.prototype.set_m_distFraction=SS.prototype.iC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),hm(e,t)},Object.defineProperty(SS.prototype,"m_distFraction",{get:SS.prototype.Dz,set:SS.prototype.iC}),SS.prototype.__destroy__=function(){dm(this.Lx)},kS.prototype=Object.create(uC.prototype),kS.prototype.constructor=kS,kS.prototype.Mx=kS,kS.Nx={},e.btDefaultVehicleRaycaster=kS,kS.prototype.castRay=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),mm(i,t,e,n)},kS.prototype.__destroy__=function(){ym(this.Lx)},LS.prototype=Object.create(jz.prototype),LS.prototype.constructor=LS,LS.prototype.Mx=LS,LS.Nx={},e.RaycastInfo=LS,LS.prototype.get_m_contactNormalWS=LS.prototype.uz=function(){return Pz($m(this.Lx),Xz)},LS.prototype.set_m_contactNormalWS=LS.prototype.$B=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),bm(e,t)},Object.defineProperty(LS.prototype,"m_contactNormalWS",{get:LS.prototype.uz,set:LS.prototype.$B}),LS.prototype.get_m_contactPointWS=LS.prototype.vz=function(){return Pz(gm(this.Lx),Xz)},LS.prototype.set_m_contactPointWS=LS.prototype.aC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),vm(e,t)},Object.defineProperty(LS.prototype,"m_contactPointWS",{get:LS.prototype.vz,set:LS.prototype.aC}),LS.prototype.get_m_suspensionLength=LS.prototype.IA=function(){return xm(this.Lx)},LS.prototype.set_m_suspensionLength=LS.prototype.nD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),wm(e,t)},Object.defineProperty(LS.prototype,"m_suspensionLength",{get:LS.prototype.IA,set:LS.prototype.nD}),LS.prototype.get_m_hardPointWS=LS.prototype.Nz=function(){return Pz(zm(this.Lx),Xz)},LS.prototype.set_m_hardPointWS=LS.prototype.sC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Cm(e,t)},Object.defineProperty(LS.prototype,"m_hardPointWS",{get:LS.prototype.Nz,set:LS.prototype.sC}),LS.prototype.get_m_wheelDirectionWS=LS.prototype.XA=function(){return Pz(Sm(this.Lx),Xz)},LS.prototype.set_m_wheelDirectionWS=LS.prototype.CD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),km(e,t)},Object.defineProperty(LS.prototype,"m_wheelDirectionWS",{get:LS.prototype.XA,set:LS.prototype.CD}),LS.prototype.get_m_wheelAxleWS=LS.prototype.WA=function(){return Pz(Lm(this.Lx),Xz)},LS.prototype.set_m_wheelAxleWS=LS.prototype.BD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),jm(e,t)},Object.defineProperty(LS.prototype,"m_wheelAxleWS",{get:LS.prototype.WA,set:LS.prototype.BD}),LS.prototype.get_m_isInContact=LS.prototype.Yz=function(){return!!Nm(this.Lx)},LS.prototype.set_m_isInContact=LS.prototype.DC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Pm(e,t)},Object.defineProperty(LS.prototype,"m_isInContact",{get:LS.prototype.Yz,set:LS.prototype.DC}),LS.prototype.get_m_groundObject=LS.prototype.Mz=function(){return Tm(this.Lx)},LS.prototype.set_m_groundObject=LS.prototype.rC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Om(e,t)},Object.defineProperty(LS.prototype,"m_groundObject",{get:LS.prototype.Mz,set:LS.prototype.rC}),LS.prototype.__destroy__=function(){Em(this.Lx)},jS.prototype=Object.create(jz.prototype),jS.prototype.constructor=jS,jS.prototype.Mx=jS,jS.Nx={},e.btWheelInfoConstructionInfo=jS,jS.prototype.get_m_chassisConnectionCS=jS.prototype.pz=function(){return Pz(Mm(this.Lx),Xz)},jS.prototype.set_m_chassisConnectionCS=jS.prototype.WB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Rm(e,t)},Object.defineProperty(jS.prototype,"m_chassisConnectionCS",{get:jS.prototype.pz,set:jS.prototype.WB}),jS.prototype.get_m_wheelDirectionCS=jS.prototype.py=function(){return Pz(Im(this.Lx),Xz)},jS.prototype.set_m_wheelDirectionCS=jS.prototype.zy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Am(e,t)},Object.defineProperty(jS.prototype,"m_wheelDirectionCS",{get:jS.prototype.py,set:jS.prototype.zy}),jS.prototype.get_m_wheelAxleCS=jS.prototype.oy=function(){return Pz(Dm(this.Lx),Xz)},jS.prototype.set_m_wheelAxleCS=jS.prototype.yy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Bm(e,t)},Object.defineProperty(jS.prototype,"m_wheelAxleCS",{get:jS.prototype.oy,set:jS.prototype.yy}),jS.prototype.get_m_suspensionRestLength=jS.prototype.KA=function(){return Fm(this.Lx)},jS.prototype.set_m_suspensionRestLength=jS.prototype.pD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),qm(e,t)},Object.defineProperty(jS.prototype,"m_suspensionRestLength",{get:jS.prototype.KA,set:jS.prototype.pD}),jS.prototype.get_m_maxSuspensionTravelCm=jS.prototype.Zx=function(){return Um(this.Lx)},jS.prototype.set_m_maxSuspensionTravelCm=jS.prototype.fy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vm(e,t)},Object.defineProperty(jS.prototype,"m_maxSuspensionTravelCm",{get:jS.prototype.Zx,set:jS.prototype.fy}),jS.prototype.get_m_wheelRadius=jS.prototype.YA=function(){return Wm(this.Lx)},jS.prototype.set_m_wheelRadius=jS.prototype.DD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Gm(e,t)},Object.defineProperty(jS.prototype,"m_wheelRadius",{get:jS.prototype.YA,set:jS.prototype.DD}),jS.prototype.get_m_suspensionStiffness=jS.prototype.$x=function(){return Hm(this.Lx)},jS.prototype.set_m_suspensionStiffness=jS.prototype.gy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xm(e,t)},Object.defineProperty(jS.prototype,"m_suspensionStiffness",{get:jS.prototype.$x,set:jS.prototype.gy}),jS.prototype.get_m_wheelsDampingCompression=jS.prototype.qy=function(){return Km(this.Lx)},jS.prototype.set_m_wheelsDampingCompression=jS.prototype.Ay=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ym(e,t)},Object.defineProperty(jS.prototype,"m_wheelsDampingCompression",{get:jS.prototype.qy,set:jS.prototype.Ay}),jS.prototype.get_m_wheelsDampingRelaxation=jS.prototype.ry=function(){return Zm(this.Lx)},jS.prototype.set_m_wheelsDampingRelaxation=jS.prototype.By=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Jm(e,t)},Object.defineProperty(jS.prototype,"m_wheelsDampingRelaxation",{get:jS.prototype.ry,set:jS.prototype.By}),jS.prototype.get_m_frictionSlip=jS.prototype.Vx=function(){return Qm(this.Lx)},jS.prototype.set_m_frictionSlip=jS.prototype.by=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ty(e,t)},Object.defineProperty(jS.prototype,"m_frictionSlip",{get:jS.prototype.Vx,set:jS.prototype.by}),jS.prototype.get_m_maxSuspensionForce=jS.prototype.Yx=function(){return ey(this.Lx)},jS.prototype.set_m_maxSuspensionForce=jS.prototype.ey=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ny(e,t)},Object.defineProperty(jS.prototype,"m_maxSuspensionForce",{get:jS.prototype.Yx,set:jS.prototype.ey}),jS.prototype.get_m_bIsFrontWheel=jS.prototype.iy=function(){return!!iy(this.Lx)},jS.prototype.set_m_bIsFrontWheel=jS.prototype.sy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),oy(e,t)},Object.defineProperty(jS.prototype,"m_bIsFrontWheel",{get:jS.prototype.iy,set:jS.prototype.sy}),jS.prototype.__destroy__=function(){ry(this.Lx)},NS.prototype=Object.create(jz.prototype),NS.prototype.constructor=NS,NS.prototype.Mx=NS,NS.Nx={},e.btWheelInfo=NS,NS.prototype.getSuspensionRestLength=function(){return ay(this.Lx)},NS.prototype.updateWheel=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),ly(n,t,e)},NS.prototype.get_m_suspensionStiffness=NS.prototype.$x=function(){return py(this.Lx)},NS.prototype.set_m_suspensionStiffness=NS.prototype.gy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),uy(e,t)},Object.defineProperty(NS.prototype,"m_suspensionStiffness",{get:NS.prototype.$x,set:NS.prototype.gy}),NS.prototype.get_m_frictionSlip=NS.prototype.Vx=function(){return cy(this.Lx)},NS.prototype.set_m_frictionSlip=NS.prototype.by=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),_y(e,t)},Object.defineProperty(NS.prototype,"m_frictionSlip",{get:NS.prototype.Vx,set:NS.prototype.by}),NS.prototype.get_m_engineForce=NS.prototype.Gz=function(){return hy(this.Lx)},NS.prototype.set_m_engineForce=NS.prototype.lC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),dy(e,t)},Object.defineProperty(NS.prototype,"m_engineForce",{get:NS.prototype.Gz,set:NS.prototype.lC}),NS.prototype.get_m_rollInfluence=NS.prototype.wA=function(){return fy(this.Lx)},NS.prototype.set_m_rollInfluence=NS.prototype.bD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),my(e,t)},Object.defineProperty(NS.prototype,"m_rollInfluence",{get:NS.prototype.wA,set:NS.prototype.bD}),NS.prototype.get_m_suspensionRestLength1=NS.prototype.LA=function(){return yy(this.Lx)},NS.prototype.set_m_suspensionRestLength1=NS.prototype.qD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),$y(e,t)},Object.defineProperty(NS.prototype,"m_suspensionRestLength1",{get:NS.prototype.LA,set:NS.prototype.qD}),NS.prototype.get_m_wheelsRadius=NS.prototype.ZA=function(){return by(this.Lx)},NS.prototype.set_m_wheelsRadius=NS.prototype.ED=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),gy(e,t)},Object.defineProperty(NS.prototype,"m_wheelsRadius",{get:NS.prototype.ZA,set:NS.prototype.ED}),NS.prototype.get_m_wheelsDampingCompression=NS.prototype.qy=function(){return vy(this.Lx)},NS.prototype.set_m_wheelsDampingCompression=NS.prototype.Ay=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),xy(e,t)},Object.defineProperty(NS.prototype,"m_wheelsDampingCompression",{get:NS.prototype.qy,set:NS.prototype.Ay}),NS.prototype.get_m_wheelsDampingRelaxation=NS.prototype.ry=function(){return wy(this.Lx)},NS.prototype.set_m_wheelsDampingRelaxation=NS.prototype.By=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),zy(e,t)},Object.defineProperty(NS.prototype,"m_wheelsDampingRelaxation",{get:NS.prototype.ry,set:NS.prototype.By}),NS.prototype.get_m_steering=NS.prototype.EA=function(){return Cy(this.Lx)},NS.prototype.set_m_steering=NS.prototype.jD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Sy(e,t)},Object.defineProperty(NS.prototype,"m_steering",{get:NS.prototype.EA,set:NS.prototype.jD}),NS.prototype.get_m_maxSuspensionForce=NS.prototype.Yx=function(){return ky(this.Lx)},NS.prototype.set_m_maxSuspensionForce=NS.prototype.ey=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ly(e,t)},Object.defineProperty(NS.prototype,"m_maxSuspensionForce",{get:NS.prototype.Yx,set:NS.prototype.ey}),NS.prototype.get_m_maxSuspensionTravelCm=NS.prototype.Zx=function(){return jy(this.Lx)},NS.prototype.set_m_maxSuspensionTravelCm=NS.prototype.fy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ny(e,t)},Object.defineProperty(NS.prototype,"m_maxSuspensionTravelCm",{get:NS.prototype.Zx,set:NS.prototype.fy}),NS.prototype.get_m_wheelsSuspensionForce=NS.prototype.$A=function(){return Py(this.Lx)},NS.prototype.set_m_wheelsSuspensionForce=NS.prototype.FD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ty(e,t)},Object.defineProperty(NS.prototype,"m_wheelsSuspensionForce",{get:NS.prototype.$A,set:NS.prototype.FD}),NS.prototype.get_m_bIsFrontWheel=NS.prototype.iy=function(){return!!Oy(this.Lx)},NS.prototype.set_m_bIsFrontWheel=NS.prototype.sy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ey(e,t)},Object.defineProperty(NS.prototype,"m_bIsFrontWheel",{get:NS.prototype.iy,set:NS.prototype.sy}),NS.prototype.get_m_raycastInfo=NS.prototype.uA=function(){return Pz(My(this.Lx),LS)},NS.prototype.set_m_raycastInfo=NS.prototype.$C=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ry(e,t)},Object.defineProperty(NS.prototype,"m_raycastInfo",{get:NS.prototype.uA,set:NS.prototype.$C}),NS.prototype.get_m_chassisConnectionPointCS=NS.prototype.qz=function(){return Pz(Iy(this.Lx),Xz)},NS.prototype.set_m_chassisConnectionPointCS=NS.prototype.XB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ay(e,t)},Object.defineProperty(NS.prototype,"m_chassisConnectionPointCS",{get:NS.prototype.qz,set:NS.prototype.XB}),NS.prototype.get_m_worldTransform=NS.prototype.aB=function(){return Pz(Dy(this.Lx),$C)},NS.prototype.set_m_worldTransform=NS.prototype.GD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),By(e,t)},Object.defineProperty(NS.prototype,"m_worldTransform",{get:NS.prototype.aB,set:NS.prototype.GD}),NS.prototype.get_m_wheelDirectionCS=NS.prototype.py=function(){return Pz(Fy(this.Lx),Xz)},NS.prototype.set_m_wheelDirectionCS=NS.prototype.zy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),qy(e,t)},Object.defineProperty(NS.prototype,"m_wheelDirectionCS",{get:NS.prototype.py,set:NS.prototype.zy}),NS.prototype.get_m_wheelAxleCS=NS.prototype.oy=function(){return Pz(Uy(this.Lx),Xz)},NS.prototype.set_m_wheelAxleCS=NS.prototype.yy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vy(e,t)},Object.defineProperty(NS.prototype,"m_wheelAxleCS",{get:NS.prototype.oy,set:NS.prototype.yy}),NS.prototype.get_m_rotation=NS.prototype.yA=function(){return Wy(this.Lx)},NS.prototype.set_m_rotation=NS.prototype.dD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Gy(e,t)},Object.defineProperty(NS.prototype,"m_rotation",{get:NS.prototype.yA,set:NS.prototype.dD}),NS.prototype.get_m_deltaRotation=NS.prototype.Az=function(){return Hy(this.Lx)},NS.prototype.set_m_deltaRotation=NS.prototype.fC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xy(e,t)},Object.defineProperty(NS.prototype,"m_deltaRotation",{get:NS.prototype.Az,set:NS.prototype.fC}),NS.prototype.get_m_brake=NS.prototype.jz=function(){return Ky(this.Lx)},NS.prototype.set_m_brake=NS.prototype.QB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Yy(e,t)},Object.defineProperty(NS.prototype,"m_brake",{get:NS.prototype.jz,set:NS.prototype.QB}),NS.prototype.get_m_clippedInvContactDotSuspension=NS.prototype.rz=function(){return Zy(this.Lx)},NS.prototype.set_m_clippedInvContactDotSuspension=NS.prototype.YB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Jy(e,t)},Object.defineProperty(NS.prototype,"m_clippedInvContactDotSuspension",{get:NS.prototype.rz,set:NS.prototype.YB}),NS.prototype.get_m_suspensionRelativeVelocity=NS.prototype.JA=function(){return Qy(this.Lx)},NS.prototype.set_m_suspensionRelativeVelocity=NS.prototype.oD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),t$(e,t)},Object.defineProperty(NS.prototype,"m_suspensionRelativeVelocity",{get:NS.prototype.JA,set:NS.prototype.oD}),NS.prototype.get_m_skidInfo=NS.prototype.BA=function(){return e$(this.Lx)},NS.prototype.set_m_skidInfo=NS.prototype.gD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),n$(e,t)},Object.defineProperty(NS.prototype,"m_skidInfo",{get:NS.prototype.BA,set:NS.prototype.gD}),NS.prototype.__destroy__=function(){i$(this.Lx)},PS.prototype=Object.create(cC.prototype),PS.prototype.constructor=PS,PS.prototype.Mx=PS,PS.Nx={},e.btKinematicCharacterController=PS,PS.prototype.setUpAxis=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),s$(e,t)},PS.prototype.setWalkDirection=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),a$(e,t)},PS.prototype.setVelocityForTimeInterval=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),l$(n,t,e)},PS.prototype.warp=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),p$(e,t)},PS.prototype.preStep=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),u$(e,t)},PS.prototype.playerStep=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),c$(n,t,e)},PS.prototype.setFallSpeed=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),_$(e,t)},PS.prototype.setJumpSpeed=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),h$(e,t)},PS.prototype.setMaxJumpHeight=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),d$(e,t)},PS.prototype.canJump=function(){return!!f$(this.Lx)},PS.prototype.jump=function(){m$(this.Lx)},PS.prototype.setGravity=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),y$(e,t)},PS.prototype.getGravity=function(){return $$(this.Lx)},PS.prototype.setMaxSlope=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),b$(e,t)},PS.prototype.getMaxSlope=function(){return g$(this.Lx)},PS.prototype.getGhostObject=function(){return Pz(v$(this.Lx),OS)},PS.prototype.setUseGhostSweepTest=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),x$(e,t)},PS.prototype.onGround=function(){return!!w$(this.Lx)},PS.prototype.setUpInterpolate=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),z$(e,t)},PS.prototype.updateAction=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),C$(n,t,e)},PS.prototype.__destroy__=function(){S$(this.Lx)},TS.prototype=Object.create(cC.prototype),TS.prototype.constructor=TS,TS.prototype.Mx=TS,TS.Nx={},e.btRaycastVehicle=TS,TS.prototype.applyEngineForce=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),L$(n,t,e)},TS.prototype.setSteeringValue=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),j$(n,t,e)},TS.prototype.getWheelTransformWS=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(N$(e,t),$C)},TS.prototype.updateWheelTransform=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),P$(n,t,e)},TS.prototype.addWheel=function(t,e,n,i,o,r,s){var a=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),r&&"object"==typeof r&&(r=r.Lx),s&&"object"==typeof s&&(s=s.Lx),Pz(T$(a,t,e,n,i,o,r,s),NS)},TS.prototype.getNumWheels=function(){return O$(this.Lx)},TS.prototype.getRigidBody=function(){return Pz(E$(this.Lx),hS)},TS.prototype.getWheelInfo=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(M$(e,t),NS)},TS.prototype.setBrake=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),R$(n,t,e)},TS.prototype.setCoordinateSystem=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),I$(i,t,e,n)},TS.prototype.getCurrentSpeedKmHour=function(){return A$(this.Lx)},TS.prototype.getChassisWorldTransform=function(){return Pz(D$(this.Lx),$C)},TS.prototype.rayCast=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),B$(e,t)},TS.prototype.updateVehicle=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),F$(e,t)},TS.prototype.resetSuspension=function(){q$(this.Lx)},TS.prototype.getSteeringValue=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),U$(e,t)},TS.prototype.updateWheelTransformsWS=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),void 0===e?V$(n,t):W$(n,t,e)},TS.prototype.setPitchControl=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),G$(e,t)},TS.prototype.updateSuspension=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),H$(e,t)},TS.prototype.updateFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),X$(e,t)},TS.prototype.getRightAxis=function(){return K$(this.Lx)},TS.prototype.getUpAxis=function(){return Y$(this.Lx)},TS.prototype.getForwardAxis=function(){return Z$(this.Lx)},TS.prototype.getForwardVector=function(){return Pz(J$(this.Lx),Xz)},TS.prototype.getUserConstraintType=function(){return Q$(this.Lx)},TS.prototype.setUserConstraintType=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),tb(e,t)},TS.prototype.setUserConstraintId=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),eb(e,t)},TS.prototype.getUserConstraintId=function(){return nb(this.Lx)},TS.prototype.updateAction=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),ib(n,t,e)},TS.prototype.__destroy__=function(){ob(this.Lx)},OS.prototype=Object.create(_C.prototype),OS.prototype.constructor=OS,OS.prototype.Mx=OS,OS.Nx={},e.btPairCachingGhostObject=OS,OS.prototype.setAnisotropicFriction=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),sb(n,t,e)},OS.prototype.getCollisionShape=function(){return Pz(ab(this.Lx),qz)},OS.prototype.setContactProcessingThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),lb(e,t)},OS.prototype.setActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),pb(e,t)},OS.prototype.forceActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ub(e,t)},OS.prototype.activate=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),void 0===t?cb(e):_b(e,t)},OS.prototype.isActive=function(){return!!hb(this.Lx)},OS.prototype.isKinematicObject=function(){return!!db(this.Lx)},OS.prototype.isStaticObject=function(){return!!fb(this.Lx)},OS.prototype.isStaticOrKinematicObject=function(){return!!mb(this.Lx)},OS.prototype.getRestitution=function(){return yb(this.Lx)},OS.prototype.getFriction=function(){return $b(this.Lx)},OS.prototype.getRollingFriction=function(){return bb(this.Lx)},OS.prototype.setRestitution=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),gb(e,t)},OS.prototype.setFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),vb(e,t)},OS.prototype.setRollingFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),xb(e,t)},OS.prototype.getWorldTransform=function(){return Pz(wb(this.Lx),$C)},OS.prototype.getCollisionFlags=function(){return zb(this.Lx)},OS.prototype.setCollisionFlags=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Cb(e,t)},OS.prototype.setWorldTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Sb(e,t)},OS.prototype.setCollisionShape=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),kb(e,t)},OS.prototype.setCcdMotionThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Lb(e,t)},OS.prototype.setCcdSweptSphereRadius=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),jb(e,t)},OS.prototype.getUserIndex=function(){return Nb(this.Lx)},OS.prototype.setUserIndex=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Pb(e,t)},OS.prototype.getUserPointer=function(){return Pz(Tb(this.Lx),dC)},OS.prototype.setUserPointer=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ob(e,t)},OS.prototype.getBroadphaseHandle=function(){return Pz(Eb(this.Lx),cS)},OS.prototype.getNumOverlappingObjects=function(){return Mb(this.Lx)},OS.prototype.getOverlappingObject=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Rb(e,t),Vz)},OS.prototype.__destroy__=function(){Ib(this.Lx)},ES.prototype=Object.create(jz.prototype),ES.prototype.constructor=ES,ES.prototype.Mx=ES,ES.Nx={},e.btGhostPairCallback=ES,ES.prototype.__destroy__=function(){Db(this.Lx)},MS.prototype=Object.create(jz.prototype),MS.prototype.constructor=MS,MS.prototype.Mx=MS,MS.Nx={},e.btSoftBodyWorldInfo=MS,MS.prototype.get_air_density=MS.prototype.Dy=function(){return Fb(this.Lx)},MS.prototype.set_air_density=MS.prototype.jB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),qb(e,t)},Object.defineProperty(MS.prototype,"air_density",{get:MS.prototype.Dy,set:MS.prototype.jB}),MS.prototype.get_water_density=MS.prototype.gB=function(){return Ub(this.Lx)},MS.prototype.set_water_density=MS.prototype.MD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vb(e,t)},Object.defineProperty(MS.prototype,"water_density",{get:MS.prototype.gB,set:MS.prototype.MD}),MS.prototype.get_water_offset=MS.prototype.iB=function(){return Wb(this.Lx)},MS.prototype.set_water_offset=MS.prototype.OD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Gb(e,t)},Object.defineProperty(MS.prototype,"water_offset",{get:MS.prototype.iB,set:MS.prototype.OD}),MS.prototype.get_m_maxDisplacement=MS.prototype.iA=function(){return Hb(this.Lx)},MS.prototype.set_m_maxDisplacement=MS.prototype.OC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xb(e,t)},Object.defineProperty(MS.prototype,"m_maxDisplacement",{get:MS.prototype.iA,set:MS.prototype.OC}),MS.prototype.get_water_normal=MS.prototype.hB=function(){return Pz(Kb(this.Lx),Xz)},MS.prototype.set_water_normal=MS.prototype.ND=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Yb(e,t)},Object.defineProperty(MS.prototype,"water_normal",{get:MS.prototype.hB,set:MS.prototype.ND}),MS.prototype.get_m_broadphase=MS.prototype.kz=function(){return Pz(Zb(this.Lx),lS)},MS.prototype.set_m_broadphase=MS.prototype.RB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Jb(e,t)},Object.defineProperty(MS.prototype,"m_broadphase",{get:MS.prototype.kz,set:MS.prototype.RB}),MS.prototype.get_m_dispatcher=MS.prototype.Cz=function(){return Pz(Qb(this.Lx),aC)},MS.prototype.set_m_dispatcher=MS.prototype.hC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),tg(e,t)},Object.defineProperty(MS.prototype,"m_dispatcher",{get:MS.prototype.Cz,set:MS.prototype.hC}),MS.prototype.get_m_gravity=MS.prototype.Lz=function(){return Pz(eg(this.Lx),Xz)},MS.prototype.set_m_gravity=MS.prototype.qC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ng(e,t)},Object.defineProperty(MS.prototype,"m_gravity",{get:MS.prototype.Lz,set:MS.prototype.qC}),MS.prototype.__destroy__=function(){ig(this.Lx)},RS.prototype=Object.create(jz.prototype),RS.prototype.constructor=RS,RS.prototype.Mx=RS,RS.Nx={},e.Face=RS,RS.prototype.get_m_n=RS.prototype.ly=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(og(e,t),AS)},RS.prototype.set_m_n=RS.prototype.vy=function(t,e){var n=this.Lx;Iz(),t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),rg(n,t,e)},Object.defineProperty(RS.prototype,"m_n",{get:RS.prototype.ly,set:RS.prototype.vy}),RS.prototype.get_m_normal=RS.prototype.lA=function(){return Pz(sg(this.Lx),Xz)},RS.prototype.set_m_normal=RS.prototype.RC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ag(e,t)},Object.defineProperty(RS.prototype,"m_normal",{get:RS.prototype.lA,set:RS.prototype.RC}),RS.prototype.get_m_ra=RS.prototype.tA=function(){return lg(this.Lx)},RS.prototype.set_m_ra=RS.prototype.ZC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),pg(e,t)},Object.defineProperty(RS.prototype,"m_ra",{get:RS.prototype.tA,set:RS.prototype.ZC}),RS.prototype.__destroy__=function(){ug(this.Lx)},IS.prototype=Object.create(jz.prototype),IS.prototype.constructor=IS,IS.prototype.Mx=IS,IS.Nx={},e.tFaceArray=IS,IS.prototype.size=IS.prototype.size=function(){return cg(this.Lx)},IS.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(_g(e,t),RS)},IS.prototype.__destroy__=function(){hg(this.Lx)},AS.prototype=Object.create(jz.prototype),AS.prototype.constructor=AS,AS.prototype.Mx=AS,AS.Nx={},e.Node=AS,AS.prototype.get_m_x=AS.prototype.bB=function(){return Pz(dg(this.Lx),Xz)},AS.prototype.set_m_x=AS.prototype.HD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),fg(e,t)},Object.defineProperty(AS.prototype,"m_x",{get:AS.prototype.bB,set:AS.prototype.HD}),AS.prototype.get_m_q=AS.prototype.sA=function(){return Pz(mg(this.Lx),Xz)},AS.prototype.set_m_q=AS.prototype.YC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),yg(e,t)},Object.defineProperty(AS.prototype,"m_q",{get:AS.prototype.sA,set:AS.prototype.YC}),AS.prototype.get_m_v=AS.prototype.UA=function(){return Pz($g(this.Lx),Xz)},AS.prototype.set_m_v=AS.prototype.zD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),bg(e,t)},Object.defineProperty(AS.prototype,"m_v",{get:AS.prototype.UA,set:AS.prototype.zD}),AS.prototype.get_m_f=AS.prototype.Hz=function(){return Pz(gg(this.Lx),Xz)},AS.prototype.set_m_f=AS.prototype.mC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),vg(e,t)},Object.defineProperty(AS.prototype,"m_f",{get:AS.prototype.Hz,set:AS.prototype.mC}),AS.prototype.get_m_n=AS.prototype.ly=function(){return Pz(xg(this.Lx),Xz)},AS.prototype.set_m_n=AS.prototype.vy=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),wg(e,t)},Object.defineProperty(AS.prototype,"m_n",{get:AS.prototype.ly,set:AS.prototype.vy}),AS.prototype.get_m_im=AS.prototype.Uz=function(){return zg(this.Lx)},AS.prototype.set_m_im=AS.prototype.zC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Cg(e,t)},Object.defineProperty(AS.prototype,"m_im",{get:AS.prototype.Uz,set:AS.prototype.zC}),AS.prototype.get_m_area=AS.prototype.hz=function(){return Sg(this.Lx)},AS.prototype.set_m_area=AS.prototype.OB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),kg(e,t)},Object.defineProperty(AS.prototype,"m_area",{get:AS.prototype.hz,set:AS.prototype.OB}),AS.prototype.__destroy__=function(){Lg(this.Lx)},DS.prototype=Object.create(jz.prototype),DS.prototype.constructor=DS,DS.prototype.Mx=DS,DS.Nx={},e.tNodeArray=DS,DS.prototype.size=DS.prototype.size=function(){return jg(this.Lx)},DS.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Ng(e,t),AS)},DS.prototype.__destroy__=function(){Pg(this.Lx)},BS.prototype=Object.create(jz.prototype),BS.prototype.constructor=BS,BS.prototype.Mx=BS,BS.Nx={},e.Material=BS,BS.prototype.get_m_kLST=BS.prototype.$z=function(){return Tg(this.Lx)},BS.prototype.set_m_kLST=BS.prototype.FC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Og(e,t)},Object.defineProperty(BS.prototype,"m_kLST",{get:BS.prototype.$z,set:BS.prototype.FC}),BS.prototype.get_m_kAST=BS.prototype.Zz=function(){return Eg(this.Lx)},BS.prototype.set_m_kAST=BS.prototype.EC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Mg(e,t)},Object.defineProperty(BS.prototype,"m_kAST",{get:BS.prototype.Zz,set:BS.prototype.EC}),BS.prototype.get_m_kVST=BS.prototype.aA=function(){return Rg(this.Lx)},BS.prototype.set_m_kVST=BS.prototype.GC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ig(e,t)},Object.defineProperty(BS.prototype,"m_kVST",{get:BS.prototype.aA,set:BS.prototype.GC}),BS.prototype.get_m_flags=BS.prototype.Iz=function(){return Ag(this.Lx)},BS.prototype.set_m_flags=BS.prototype.nC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Dg(e,t)},Object.defineProperty(BS.prototype,"m_flags",{get:BS.prototype.Iz,set:BS.prototype.nC}),BS.prototype.__destroy__=function(){Bg(this.Lx)},FS.prototype=Object.create(jz.prototype),FS.prototype.constructor=FS,FS.prototype.Mx=FS,FS.Nx={},e.tMaterialArray=FS,FS.prototype.size=FS.prototype.size=function(){return Fg(this.Lx)},FS.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(qg(e,t),BS)},FS.prototype.__destroy__=function(){Ug(this.Lx)},qS.prototype=Object.create(jz.prototype),qS.prototype.constructor=qS,qS.prototype.Mx=qS,qS.Nx={},e.Anchor=qS,qS.prototype.get_m_node=qS.prototype.jA=function(){return Pz(Vg(this.Lx),AS)},qS.prototype.set_m_node=qS.prototype.PC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Wg(e,t)},Object.defineProperty(qS.prototype,"m_node",{get:qS.prototype.jA,set:qS.prototype.PC}),qS.prototype.get_m_local=qS.prototype.dA=function(){return Pz(Gg(this.Lx),Xz)},qS.prototype.set_m_local=qS.prototype.JC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Hg(e,t)},Object.defineProperty(qS.prototype,"m_local",{get:qS.prototype.dA,set:qS.prototype.JC}),qS.prototype.get_m_body=qS.prototype.iz=function(){return Pz(Xg(this.Lx),hS)},qS.prototype.set_m_body=qS.prototype.PB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Kg(e,t)},Object.defineProperty(qS.prototype,"m_body",{get:qS.prototype.iz,set:qS.prototype.PB}),qS.prototype.get_m_influence=qS.prototype.Xz=function(){return Yg(this.Lx)},qS.prototype.set_m_influence=qS.prototype.CC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Zg(e,t)},Object.defineProperty(qS.prototype,"m_influence",{get:qS.prototype.Xz,set:qS.prototype.CC}),qS.prototype.get_m_c0=qS.prototype.lz=function(){return Pz(Jg(this.Lx),yC)},qS.prototype.set_m_c0=qS.prototype.SB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Qg(e,t)},Object.defineProperty(qS.prototype,"m_c0",{get:qS.prototype.lz,set:qS.prototype.SB}),qS.prototype.get_m_c1=qS.prototype.mz=function(){return Pz(tv(this.Lx),Xz)},qS.prototype.set_m_c1=qS.prototype.TB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ev(e,t)},Object.defineProperty(qS.prototype,"m_c1",{get:qS.prototype.mz,set:qS.prototype.TB}),qS.prototype.get_m_c2=qS.prototype.nz=function(){return nv(this.Lx)},qS.prototype.set_m_c2=qS.prototype.UB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),iv(e,t)},Object.defineProperty(qS.prototype,"m_c2",{get:qS.prototype.nz,set:qS.prototype.UB}),qS.prototype.__destroy__=function(){ov(this.Lx)},US.prototype=Object.create(jz.prototype),US.prototype.constructor=US,US.prototype.Mx=US,US.Nx={},e.tAnchorArray=US,US.prototype.size=US.prototype.size=function(){return rv(this.Lx)},US.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(sv(e,t),qS)},US.prototype.clear=US.prototype.clear=function(){av(this.Lx)},US.prototype.push_back=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),lv(e,t)},US.prototype.pop_back=function(){pv(this.Lx)},US.prototype.__destroy__=function(){uv(this.Lx)},VS.prototype=Object.create(jz.prototype),VS.prototype.constructor=VS,VS.prototype.Mx=VS,VS.Nx={},e.Config=VS,VS.prototype.get_kVCF=VS.prototype.Yy=function(){return cv(this.Lx)},VS.prototype.set_kVCF=VS.prototype.EB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),_v(e,t)},Object.defineProperty(VS.prototype,"kVCF",{get:VS.prototype.Yy,set:VS.prototype.EB}),VS.prototype.get_kDP=VS.prototype.Ly=function(){return hv(this.Lx)},VS.prototype.set_kDP=VS.prototype.rB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),dv(e,t)},Object.defineProperty(VS.prototype,"kDP",{get:VS.prototype.Ly,set:VS.prototype.rB}),VS.prototype.get_kDG=VS.prototype.Ky=function(){return fv(this.Lx)},VS.prototype.set_kDG=VS.prototype.qB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),mv(e,t)},Object.defineProperty(VS.prototype,"kDG",{get:VS.prototype.Ky,set:VS.prototype.qB}),VS.prototype.get_kLF=VS.prototype.Ny=function(){return yv(this.Lx)},VS.prototype.set_kLF=VS.prototype.tB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),$v(e,t)},Object.defineProperty(VS.prototype,"kLF",{get:VS.prototype.Ny,set:VS.prototype.tB}),VS.prototype.get_kPR=VS.prototype.Py=function(){return bv(this.Lx)},VS.prototype.set_kPR=VS.prototype.vB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),gv(e,t)},Object.defineProperty(VS.prototype,"kPR",{get:VS.prototype.Py,set:VS.prototype.vB}),VS.prototype.get_kVC=VS.prototype.Xy=function(){return vv(this.Lx)},VS.prototype.set_kVC=VS.prototype.DB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),xv(e,t)},Object.defineProperty(VS.prototype,"kVC",{get:VS.prototype.Xy,set:VS.prototype.DB}),VS.prototype.get_kDF=VS.prototype.Jy=function(){return wv(this.Lx)},VS.prototype.set_kDF=VS.prototype.pB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),zv(e,t)},Object.defineProperty(VS.prototype,"kDF",{get:VS.prototype.Jy,set:VS.prototype.pB}),VS.prototype.get_kMT=VS.prototype.Oy=function(){return Cv(this.Lx)},VS.prototype.set_kMT=VS.prototype.uB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Sv(e,t)},Object.defineProperty(VS.prototype,"kMT",{get:VS.prototype.Oy,set:VS.prototype.uB}),VS.prototype.get_kCHR=VS.prototype.Iy=function(){return kv(this.Lx)},VS.prototype.set_kCHR=VS.prototype.oB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Lv(e,t)},Object.defineProperty(VS.prototype,"kCHR",{get:VS.prototype.Iy,set:VS.prototype.oB}),VS.prototype.get_kKHR=VS.prototype.My=function(){return jv(this.Lx)},VS.prototype.set_kKHR=VS.prototype.sB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Nv(e,t)},Object.defineProperty(VS.prototype,"kKHR",{get:VS.prototype.My,set:VS.prototype.sB}),VS.prototype.get_kSHR=VS.prototype.Qy=function(){return Pv(this.Lx)},VS.prototype.set_kSHR=VS.prototype.wB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Tv(e,t)},Object.defineProperty(VS.prototype,"kSHR",{get:VS.prototype.Qy,set:VS.prototype.wB}),VS.prototype.get_kAHR=VS.prototype.Hy=function(){return Ov(this.Lx)},VS.prototype.set_kAHR=VS.prototype.nB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ev(e,t)},Object.defineProperty(VS.prototype,"kAHR",{get:VS.prototype.Hy,set:VS.prototype.nB}),VS.prototype.get_kSRHR_CL=VS.prototype.Ty=function(){return Mv(this.Lx)},VS.prototype.set_kSRHR_CL=VS.prototype.zB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Rv(e,t)},Object.defineProperty(VS.prototype,"kSRHR_CL",{get:VS.prototype.Ty,set:VS.prototype.zB}),VS.prototype.get_kSKHR_CL=VS.prototype.Ry=function(){return Iv(this.Lx)},VS.prototype.set_kSKHR_CL=VS.prototype.xB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Av(e,t)},Object.defineProperty(VS.prototype,"kSKHR_CL",{get:VS.prototype.Ry,set:VS.prototype.xB}),VS.prototype.get_kSSHR_CL=VS.prototype.Vy=function(){return Dv(this.Lx)},VS.prototype.set_kSSHR_CL=VS.prototype.BB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Bv(e,t)},Object.defineProperty(VS.prototype,"kSSHR_CL",{get:VS.prototype.Vy,set:VS.prototype.BB}),VS.prototype.get_kSR_SPLT_CL=VS.prototype.Uy=function(){return Fv(this.Lx)},VS.prototype.set_kSR_SPLT_CL=VS.prototype.AB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),qv(e,t)},Object.defineProperty(VS.prototype,"kSR_SPLT_CL",{get:VS.prototype.Uy,set:VS.prototype.AB}),VS.prototype.get_kSK_SPLT_CL=VS.prototype.Sy=function(){return Uv(this.Lx)},VS.prototype.set_kSK_SPLT_CL=VS.prototype.yB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Vv(e,t)},Object.defineProperty(VS.prototype,"kSK_SPLT_CL",{get:VS.prototype.Sy,set:VS.prototype.yB}),VS.prototype.get_kSS_SPLT_CL=VS.prototype.Wy=function(){return Wv(this.Lx)},VS.prototype.set_kSS_SPLT_CL=VS.prototype.CB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Gv(e,t)},Object.defineProperty(VS.prototype,"kSS_SPLT_CL",{get:VS.prototype.Wy,set:VS.prototype.CB}),VS.prototype.get_maxvolume=VS.prototype.cB=function(){return Hv(this.Lx)},VS.prototype.set_maxvolume=VS.prototype.ID=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Xv(e,t)},Object.defineProperty(VS.prototype,"maxvolume",{get:VS.prototype.cB,set:VS.prototype.ID}),VS.prototype.get_timescale=VS.prototype.eB=function(){return Kv(this.Lx)},VS.prototype.set_timescale=VS.prototype.KD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Yv(e,t)},Object.defineProperty(VS.prototype,"timescale",{get:VS.prototype.eB,set:VS.prototype.KD}),VS.prototype.get_viterations=VS.prototype.fB=function(){return Zv(this.Lx)},VS.prototype.set_viterations=VS.prototype.LD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Jv(e,t)},Object.defineProperty(VS.prototype,"viterations",{get:VS.prototype.fB,set:VS.prototype.LD}),VS.prototype.get_piterations=VS.prototype.dB=function(){return Qv(this.Lx)},VS.prototype.set_piterations=VS.prototype.JD=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),tx(e,t)},Object.defineProperty(VS.prototype,"piterations",{get:VS.prototype.dB,set:VS.prototype.JD}),VS.prototype.get_diterations=VS.prototype.Gy=function(){return ex(this.Lx)},VS.prototype.set_diterations=VS.prototype.mB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),nx(e,t)},Object.defineProperty(VS.prototype,"diterations",{get:VS.prototype.Gy,set:VS.prototype.mB}),VS.prototype.get_citerations=VS.prototype.Ey=function(){return ix(this.Lx)},VS.prototype.set_citerations=VS.prototype.kB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ox(e,t)},Object.defineProperty(VS.prototype,"citerations",{get:VS.prototype.Ey,set:VS.prototype.kB}),VS.prototype.get_collisions=VS.prototype.Fy=function(){return rx(this.Lx)},VS.prototype.set_collisions=VS.prototype.lB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),sx(e,t)},Object.defineProperty(VS.prototype,"collisions",{get:VS.prototype.Fy,set:VS.prototype.lB}),VS.prototype.__destroy__=function(){ax(this.Lx)},WS.prototype=Object.create(Vz.prototype),WS.prototype.constructor=WS,WS.prototype.Mx=WS,WS.Nx={},e.btSoftBody=WS,WS.prototype.checkLink=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),!!px(n,t,e)},WS.prototype.checkFace=function(t,e,n){var i=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),!!ux(i,t,e,n)},WS.prototype.appendMaterial=function(){return Pz(cx(this.Lx),BS)},WS.prototype.appendNode=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),_x(n,t,e)},WS.prototype.appendLink=function(t,e,n,i){var o=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),hx(o,t,e,n,i)},WS.prototype.appendFace=function(t,e,n,i){var o=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),dx(o,t,e,n,i)},WS.prototype.appendTetra=function(t,e,n,i,o){var r=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),fx(r,t,e,n,i,o)},WS.prototype.appendAnchor=function(t,e,n,i){var o=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),mx(o,t,e,n,i)},WS.prototype.addForce=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),void 0===e?yx(n,t):$x(n,t,e)},WS.prototype.addAeroForceToNode=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),bx(n,t,e)},WS.prototype.getTotalMass=function(){return gx(this.Lx)},WS.prototype.setTotalMass=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),vx(n,t,e)},WS.prototype.setMass=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),xx(n,t,e)},WS.prototype.transform=WS.prototype.transform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),wx(e,t)},WS.prototype.translate=WS.prototype.translate=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),zx(e,t)},WS.prototype.rotate=WS.prototype.rotate=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Cx(e,t)},WS.prototype.scale=WS.prototype.scale=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Sx(e,t)},WS.prototype.generateClusters=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),void 0===e?kx(n,t):Lx(n,t,e)},WS.prototype.generateBendingConstraints=function(t,e){var n=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),jx(n,t,e)},WS.prototype.upcast=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(Nx(e,t),WS)},WS.prototype.setAnisotropicFriction=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Px(n,t,e)},WS.prototype.getCollisionShape=function(){return Pz(Tx(this.Lx),qz)},WS.prototype.setContactProcessingThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ox(e,t)},WS.prototype.setActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Ex(e,t)},WS.prototype.forceActivationState=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Mx(e,t)},WS.prototype.activate=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),void 0===t?Rx(e):Ix(e,t)},WS.prototype.isActive=function(){return!!Ax(this.Lx)},WS.prototype.isKinematicObject=function(){return!!Dx(this.Lx)},WS.prototype.isStaticObject=function(){return!!Bx(this.Lx)},WS.prototype.isStaticOrKinematicObject=function(){return!!Fx(this.Lx)},WS.prototype.getRestitution=function(){return qx(this.Lx)},WS.prototype.getFriction=function(){return Ux(this.Lx)},WS.prototype.getRollingFriction=function(){return Vx(this.Lx)},WS.prototype.setRestitution=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Wx(e,t)},WS.prototype.setFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Gx(e,t)},WS.prototype.setRollingFriction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Hx(e,t)},WS.prototype.getWorldTransform=function(){return Pz(Xx(this.Lx),$C)},WS.prototype.getCollisionFlags=function(){return Kx(this.Lx)},WS.prototype.setCollisionFlags=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Yx(e,t)},WS.prototype.setWorldTransform=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Zx(e,t)},WS.prototype.setCollisionShape=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Jx(e,t)},WS.prototype.setCcdMotionThreshold=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Qx(e,t)},WS.prototype.setCcdSweptSphereRadius=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),tw(e,t)},WS.prototype.getUserIndex=function(){return ew(this.Lx)},WS.prototype.setUserIndex=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),nw(e,t)},WS.prototype.getUserPointer=function(){return Pz(iw(this.Lx),dC)},WS.prototype.setUserPointer=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ow(e,t)},WS.prototype.getBroadphaseHandle=function(){return Pz(rw(this.Lx),cS)},WS.prototype.get_m_cfg=WS.prototype.oz=function(){return Pz(sw(this.Lx),VS)},WS.prototype.set_m_cfg=WS.prototype.VB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),aw(e,t)},Object.defineProperty(WS.prototype,"m_cfg",{get:WS.prototype.oz,set:WS.prototype.VB}),WS.prototype.get_m_nodes=WS.prototype.kA=function(){return Pz(lw(this.Lx),DS)},WS.prototype.set_m_nodes=WS.prototype.QC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),pw(e,t)},Object.defineProperty(WS.prototype,"m_nodes",{get:WS.prototype.kA,set:WS.prototype.QC}),WS.prototype.get_m_faces=WS.prototype.jy=function(){return Pz(uw(this.Lx),IS)},WS.prototype.set_m_faces=WS.prototype.ty=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),cw(e,t)},Object.defineProperty(WS.prototype,"m_faces",{get:WS.prototype.jy,set:WS.prototype.ty}),WS.prototype.get_m_materials=WS.prototype.hA=function(){return Pz(_w(this.Lx),FS)},WS.prototype.set_m_materials=WS.prototype.NC=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),hw(e,t)},Object.defineProperty(WS.prototype,"m_materials",{get:WS.prototype.hA,set:WS.prototype.NC}),WS.prototype.get_m_anchors=WS.prototype.ez=function(){return Pz(dw(this.Lx),US)},WS.prototype.set_m_anchors=WS.prototype.LB=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),fw(e,t)},Object.defineProperty(WS.prototype,"m_anchors",{get:WS.prototype.ez,set:WS.prototype.LB}),WS.prototype.__destroy__=function(){mw(this.Lx)},GS.prototype=Object.create(sC.prototype),GS.prototype.constructor=GS,GS.prototype.Mx=GS,GS.Nx={},e.btSoftBodyRigidBodyCollisionConfiguration=GS,GS.prototype.__destroy__=function(){bw(this.Lx)},HS.prototype=Object.create(hC.prototype),HS.prototype.constructor=HS,HS.prototype.Mx=HS,HS.Nx={},e.btDefaultSoftBodySolver=HS,HS.prototype.__destroy__=function(){vw(this.Lx)},XS.prototype=Object.create(jz.prototype),XS.prototype.constructor=XS,XS.prototype.Mx=XS,XS.Nx={},e.btSoftBodyArray=XS,XS.prototype.size=XS.prototype.size=function(){return xw(this.Lx)},XS.prototype.at=function(t){var e=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),Pz(ww(e,t),WS)},XS.prototype.__destroy__=function(){zw(this.Lx)},KS.prototype=Object.create(pC.prototype),KS.prototype.constructor=KS,KS.prototype.Mx=KS,KS.Nx={},e.btSoftRigidDynamicsWorld=KS,KS.prototype.addSoftBody=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Sw(i,t,e,n)},KS.prototype.removeSoftBody=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),kw(e,t)},KS.prototype.removeCollisionObject=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Lw(e,t)},KS.prototype.getWorldInfo=function(){return Pz(jw(this.Lx),MS)},KS.prototype.getSoftBodyArray=function(){return Pz(Nw(this.Lx),XS)},KS.prototype.getDispatcher=function(){return Pz(Pw(this.Lx),aC)},KS.prototype.rayTest=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Tw(i,t,e,n)},KS.prototype.getPairCache=function(){return Pz(Ow(this.Lx),sS)},KS.prototype.getDispatchInfo=function(){return Pz(Ew(this.Lx),wS)},KS.prototype.addCollisionObject=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?Mw(i,t):void 0===n?Rw(i,t,e):Iw(i,t,e,n)},KS.prototype.getBroadphase=function(){return Pz(Aw(this.Lx),lS)},KS.prototype.convexSweepTest=function(t,e,n,i,o){var r=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),Dw(r,t,e,n,i,o)},KS.prototype.contactPairTest=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),Bw(i,t,e,n)},KS.prototype.contactTest=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),Fw(n,t,e)},KS.prototype.updateSingleAabb=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),qw(e,t)},KS.prototype.setGravity=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Uw(e,t)},KS.prototype.getGravity=function(){return Pz(Vw(this.Lx),Xz)},KS.prototype.addRigidBody=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?Ww(i,t):void 0===n?_emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_2(i,t,e):Gw(i,t,e,n)},KS.prototype.removeRigidBody=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Hw(e,t)},KS.prototype.addConstraint=function(t,e){var n=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),void 0===e?Xw(n,t):Kw(n,t,e)},KS.prototype.removeConstraint=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),Yw(e,t)},KS.prototype.stepSimulation=function(t,e,n){var i=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?Zw(i,t):void 0===n?Jw(i,t,e):Qw(i,t,e,n)},KS.prototype.setContactAddedCallback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),tz(e,t)},KS.prototype.setContactProcessedCallback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),ez(e,t)},KS.prototype.setContactDestroyedCallback=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),nz(e,t)},KS.prototype.addAction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),iz(e,t)},KS.prototype.removeAction=function(t){var e=this.Lx;t&&"object"==typeof t&&(t=t.Lx),oz(e,t)},KS.prototype.getSolverInfo=function(){return Pz(rz(this.Lx),zS)},KS.prototype.setInternalTickCallback=function(t,e,n){var i=this.Lx;t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),void 0===e?sz(i,t):void 0===n?az(i,t,e):lz(i,t,e,n)},KS.prototype.__destroy__=function(){pz(this.Lx)},YS.prototype=Object.create(jz.prototype),YS.prototype.constructor=YS,YS.prototype.Mx=YS,YS.Nx={},e.btSoftBodyHelpers=YS,YS.prototype.CreateRope=function(t,e,n,i,o){var r=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),Pz(cz(r,t,e,n,i,o),WS)},YS.prototype.CreatePatch=function(t,e,n,i,o,r,s,a,l){var p=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),r&&"object"==typeof r&&(r=r.Lx),s&&"object"==typeof s&&(s=s.Lx),a&&"object"==typeof a&&(a=a.Lx),l&&"object"==typeof l&&(l=l.Lx),Pz(_z(p,t,e,n,i,o,r,s,a,l),WS)},YS.prototype.CreatePatchUV=function(t,e,n,i,o,r,s,a,l,p){var u=this.Lx;return Iz(),t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),r&&"object"==typeof r&&(r=r.Lx),s&&"object"==typeof s&&(s=s.Lx),a&&"object"==typeof a&&(a=a.Lx),l&&"object"==typeof l&&(l=l.Lx),"object"==typeof p&&(p=Fz(p)),Pz(hz(u,t,e,n,i,o,r,s,a,l,p),WS)},YS.prototype.CreateEllipsoid=function(t,e,n,i){var o=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),Pz(dz(o,t,e,n,i),WS)},YS.prototype.CreateFromTriMesh=function(t,e,n,i,o){var r=this.Lx;return Iz(),t&&"object"==typeof t&&(t=t.Lx),"object"==typeof e&&(e=Fz(e)),"object"==typeof n&&(n=Bz(n)),i&&"object"==typeof i&&(i=i.Lx),o&&"object"==typeof o&&(o=o.Lx),Pz(fz(r,t,e,n,i,o),WS)},YS.prototype.CreateFromConvexHull=function(t,e,n,i){var o=this.Lx;return t&&"object"==typeof t&&(t=t.Lx),e&&"object"==typeof e&&(e=e.Lx),n&&"object"==typeof n&&(n=n.Lx),i&&"object"==typeof i&&(i=i.Lx),Pz(mz(o,t,e,n,i),WS)},YS.prototype.__destroy__=function(){yz(this.Lx)},function(){function t(){e.PHY_FLOAT=$z(),e.PHY_DOUBLE=bz(),e.PHY_INTEGER=gz(),e.PHY_SHORT=vz(),e.PHY_FIXEDPOINT88=xz(),e.PHY_UCHAR=wz(),e.BT_CONSTRAINT_ERP=zz(),e.BT_CONSTRAINT_STOP_ERP=Cz(),e.BT_CONSTRAINT_CFM=Sz(),e.BT_CONSTRAINT_STOP_CFM=kz()}B?t():A.unshift(t)}(),e.CONTACT_ADDED_CALLBACK_SIGNATURE="iiiiiiii",e.CONTACT_DESTROYED_CALLBACK_SIGNATURE="ii",e.CONTACT_PROCESSED_CALLBACK_SIGNATURE="iiii",e.INTERNAL_TICK_CALLBACK_SIGNATURE="vif",this.Ammo=e,t.ready});t.exports=s}).call(this,"/index.js",n(2),"/")},function(t,e){}])}));
//# sourceMappingURL=kool-demo.js.map